var _J=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var UHe=_J((qHe,uw)=>{function wJ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function H8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Y8={exports:{}},h2={},K8={exports:{}},zn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb=Symbol.for("react.element"),SJ=Symbol.for("react.portal"),kJ=Symbol.for("react.fragment"),CJ=Symbol.for("react.strict_mode"),TJ=Symbol.for("react.profiler"),PJ=Symbol.for("react.provider"),EJ=Symbol.for("react.context"),OJ=Symbol.for("react.forward_ref"),MJ=Symbol.for("react.suspense"),AJ=Symbol.for("react.memo"),IJ=Symbol.for("react.lazy"),$N=Symbol.iterator;function $J(e){return e===null||typeof e!="object"?null:(e=$N&&e[$N]||e["@@iterator"],typeof e=="function"?e:null)}var Z8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X8=Object.assign,J8={};function mg(e,t,n){this.props=e,this.context=t,this.refs=J8,this.updater=n||Z8}mg.prototype.isReactComponent={};mg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q8(){}Q8.prototype=mg.prototype;function SI(e,t,n){this.props=e,this.context=t,this.refs=J8,this.updater=n||Z8}var kI=SI.prototype=new Q8;kI.constructor=SI;X8(kI,mg.prototype);kI.isPureReactComponent=!0;var RN=Array.isArray,eU=Object.prototype.hasOwnProperty,CI={current:null},tU={key:!0,ref:!0,__self:!0,__source:!0};function nU(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)eU.call(t,r)&&!tU.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var f=Array(a),h=0;h<a;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gb,type:e,key:o,ref:s,props:i,_owner:CI.current}}function RJ(e,t){return{$$typeof:Gb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function TI(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gb}function DJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var DN=/\/+/g;function rP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DJ(""+e.key):t.toString(36)}function j1(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Gb:case SJ:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+rP(s,0):r,RN(i)?(n="",e!=null&&(n=e.replace(DN,"$&/")+"/"),j1(i,t,n,"",function(h){return h})):i!=null&&(TI(i)&&(i=RJ(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(DN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",RN(e))for(var a=0;a<e.length;a++){o=e[a];var f=r+rP(o,a);s+=j1(o,t,n,f,i)}else if(f=$J(e),typeof f=="function")for(e=f.call(e),a=0;!(o=e.next()).done;)o=o.value,f=r+rP(o,a++),s+=j1(o,t,n,f,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N_(e,t,n){if(e==null)return e;var r=[],i=0;return j1(e,r,"","",function(o){return t.call(n,o,i++)}),r}function LJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sa={current:null},N1={transition:null},jJ={ReactCurrentDispatcher:sa,ReactCurrentBatchConfig:N1,ReactCurrentOwner:CI};zn.Children={map:N_,forEach:function(e,t,n){N_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N_(e,function(){t++}),t},toArray:function(e){return N_(e,function(t){return t})||[]},only:function(e){if(!TI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zn.Component=mg;zn.Fragment=kJ;zn.Profiler=TJ;zn.PureComponent=SI;zn.StrictMode=CJ;zn.Suspense=MJ;zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jJ;zn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=X8({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=CI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(f in t)eU.call(t,f)&&!tU.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&a!==void 0?a[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){a=Array(f);for(var h=0;h<f;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:Gb,type:e.type,key:i,ref:o,props:r,_owner:s}};zn.createContext=function(e){return e={$$typeof:EJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:PJ,_context:e},e.Consumer=e};zn.createElement=nU;zn.createFactory=function(e){var t=nU.bind(null,e);return t.type=e,t};zn.createRef=function(){return{current:null}};zn.forwardRef=function(e){return{$$typeof:OJ,render:e}};zn.isValidElement=TI;zn.lazy=function(e){return{$$typeof:IJ,_payload:{_status:-1,_result:e},_init:LJ}};zn.memo=function(e,t){return{$$typeof:AJ,type:e,compare:t===void 0?null:t}};zn.startTransition=function(e){var t=N1.transition;N1.transition={};try{e()}finally{N1.transition=t}};zn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zn.useCallback=function(e,t){return sa.current.useCallback(e,t)};zn.useContext=function(e){return sa.current.useContext(e)};zn.useDebugValue=function(){};zn.useDeferredValue=function(e){return sa.current.useDeferredValue(e)};zn.useEffect=function(e,t){return sa.current.useEffect(e,t)};zn.useId=function(){return sa.current.useId()};zn.useImperativeHandle=function(e,t,n){return sa.current.useImperativeHandle(e,t,n)};zn.useInsertionEffect=function(e,t){return sa.current.useInsertionEffect(e,t)};zn.useLayoutEffect=function(e,t){return sa.current.useLayoutEffect(e,t)};zn.useMemo=function(e,t){return sa.current.useMemo(e,t)};zn.useReducer=function(e,t,n){return sa.current.useReducer(e,t,n)};zn.useRef=function(e){return sa.current.useRef(e)};zn.useState=function(e){return sa.current.useState(e)};zn.useSyncExternalStore=function(e,t,n){return sa.current.useSyncExternalStore(e,t,n)};zn.useTransition=function(){return sa.current.useTransition()};zn.version="18.2.0";K8.exports=zn;var V=K8.exports;const Ee=mr(V),dw=wJ({__proto__:null,default:Ee},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NJ=V,zJ=Symbol.for("react.element"),BJ=Symbol.for("react.fragment"),FJ=Object.prototype.hasOwnProperty,UJ=NJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VJ={key:!0,ref:!0,__self:!0,__source:!0};function rU(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)FJ.call(t,r)&&!VJ.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zJ,type:e,key:o,ref:s,props:i,_owner:UJ.current}}h2.Fragment=BJ;h2.jsx=rU;h2.jsxs=rU;Y8.exports=h2;var L=Y8.exports,iU={exports:{}},ns={},oU={exports:{}},aU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(be,$e){var Ue=be.length;be.push($e);e:for(;0<Ue;){var ft=Ue-1>>>1,Xe=be[ft];if(0<i(Xe,$e))be[ft]=$e,be[Ue]=Xe,Ue=ft;else break e}}function n(be){return be.length===0?null:be[0]}function r(be){if(be.length===0)return null;var $e=be[0],Ue=be.pop();if(Ue!==$e){be[0]=Ue;e:for(var ft=0,Xe=be.length,tt=Xe>>>1;ft<tt;){var lt=2*(ft+1)-1,Ct=be[lt],st=lt+1,Ht=be[st];if(0>i(Ct,Ue))st<Xe&&0>i(Ht,Ct)?(be[ft]=Ht,be[st]=Ue,ft=st):(be[ft]=Ct,be[lt]=Ue,ft=lt);else if(st<Xe&&0>i(Ht,Ue))be[ft]=Ht,be[st]=Ue,ft=st;else break e}}return $e}function i(be,$e){var Ue=be.sortIndex-$e.sortIndex;return Ue!==0?Ue:be.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var f=[],h=[],g=1,y=null,x=3,P=!1,E=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(be){for(var $e=n(h);$e!==null;){if($e.callback===null)r(h);else if($e.startTime<=be)r(h),$e.sortIndex=$e.expirationTime,t(f,$e);else break;$e=n(h)}}function N(be){if(S=!1,I(be),!E)if(n(f)!==null)E=!0,Oe($);else{var $e=n(h);$e!==null&&Ce(N,$e.startTime-be)}}function $(be,$e){E=!1,S&&(S=!1,A(q),q=-1),P=!0;var Ue=x;try{for(I($e),y=n(f);y!==null&&(!(y.expirationTime>$e)||be&&!ae());){var ft=y.callback;if(typeof ft=="function"){y.callback=null,x=y.priorityLevel;var Xe=ft(y.expirationTime<=$e);$e=e.unstable_now(),typeof Xe=="function"?y.callback=Xe:y===n(f)&&r(f),I($e)}else r(f);y=n(f)}if(y!==null)var tt=!0;else{var lt=n(h);lt!==null&&Ce(N,lt.startTime-$e),tt=!1}return tt}finally{y=null,x=Ue,P=!1}}var R=!1,F=null,q=-1,X=5,Q=-1;function ae(){return!(e.unstable_now()-Q<X)}function fe(){if(F!==null){var be=e.unstable_now();Q=be;var $e=!0;try{$e=F(!0,be)}finally{$e?Se():(R=!1,F=null)}}else R=!1}var Se;if(typeof M=="function")Se=function(){M(fe)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,we=ke.port2;ke.port1.onmessage=fe,Se=function(){we.postMessage(null)}}else Se=function(){O(fe,0)};function Oe(be){F=be,R||(R=!0,Se())}function Ce(be,$e){q=O(function(){be(e.unstable_now())},$e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(be){be.callback=null},e.unstable_continueExecution=function(){E||P||(E=!0,Oe($))},e.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<be?Math.floor(1e3/be):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(be){switch(x){case 1:case 2:case 3:var $e=3;break;default:$e=x}var Ue=x;x=$e;try{return be()}finally{x=Ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(be,$e){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var Ue=x;x=be;try{return $e()}finally{x=Ue}},e.unstable_scheduleCallback=function(be,$e,Ue){var ft=e.unstable_now();switch(typeof Ue=="object"&&Ue!==null?(Ue=Ue.delay,Ue=typeof Ue=="number"&&0<Ue?ft+Ue:ft):Ue=ft,be){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=Ue+Xe,be={id:g++,callback:$e,priorityLevel:be,startTime:Ue,expirationTime:Xe,sortIndex:-1},Ue>ft?(be.sortIndex=Ue,t(h,be),n(f)===null&&be===n(h)&&(S?(A(q),q=-1):S=!0,Ce(N,Ue-ft))):(be.sortIndex=Xe,t(f,be),E||P||(E=!0,Oe($))),be},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(be){var $e=x;return function(){var Ue=x;x=$e;try{return be.apply(this,arguments)}finally{x=Ue}}}})(aU);oU.exports=aU;var WJ=oU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sU=V,Xa=WJ;function mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lU=new Set,C0={};function Sh(e,t){Pm(e,t),Pm(e+"Capture",t)}function Pm(e,t){for(C0[e]=t,e=0;e<t.length;e++)lU.add(t[e])}var iu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bO=Object.prototype.hasOwnProperty,qJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LN={},jN={};function GJ(e){return bO.call(jN,e)?!0:bO.call(LN,e)?!1:qJ.test(e)?jN[e]=!0:(LN[e]=!0,!1)}function HJ(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YJ(e,t,n,r){if(t===null||typeof t>"u"||HJ(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function la(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var _o={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_o[e]=new la(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_o[t]=new la(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_o[e]=new la(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_o[e]=new la(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_o[e]=new la(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_o[e]=new la(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_o[e]=new la(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_o[e]=new la(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_o[e]=new la(e,5,!1,e.toLowerCase(),null,!1,!1)});var PI=/[\-:]([a-z])/g;function EI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(PI,EI);_o[t]=new la(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(PI,EI);_o[t]=new la(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(PI,EI);_o[t]=new la(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_o[e]=new la(e,1,!1,e.toLowerCase(),null,!1,!1)});_o.xlinkHref=new la("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_o[e]=new la(e,1,!1,e.toLowerCase(),null,!0,!0)});function OI(e,t,n,r){var i=_o.hasOwnProperty(t)?_o[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YJ(t,n,i,r)&&(n=null),r||i===null?GJ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vu=sU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z_=Symbol.for("react.element"),jp=Symbol.for("react.portal"),Np=Symbol.for("react.fragment"),MI=Symbol.for("react.strict_mode"),xO=Symbol.for("react.profiler"),cU=Symbol.for("react.provider"),uU=Symbol.for("react.context"),AI=Symbol.for("react.forward_ref"),_O=Symbol.for("react.suspense"),wO=Symbol.for("react.suspense_list"),II=Symbol.for("react.memo"),ad=Symbol.for("react.lazy"),dU=Symbol.for("react.offscreen"),NN=Symbol.iterator;function ev(e){return e===null||typeof e!="object"?null:(e=NN&&e[NN]||e["@@iterator"],typeof e=="function"?e:null)}var li=Object.assign,iP;function zv(e){if(iP===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);iP=t&&t[1]||""}return`
`+iP+e}var oP=!1;function aP(e,t){if(!e||oP)return"";oP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var f=`
`+i[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=a);break}}}finally{oP=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zv(e):""}function KJ(e){switch(e.tag){case 5:return zv(e.type);case 16:return zv("Lazy");case 13:return zv("Suspense");case 19:return zv("SuspenseList");case 0:case 2:case 15:return e=aP(e.type,!1),e;case 11:return e=aP(e.type.render,!1),e;case 1:return e=aP(e.type,!0),e;default:return""}}function SO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Np:return"Fragment";case jp:return"Portal";case xO:return"Profiler";case MI:return"StrictMode";case _O:return"Suspense";case wO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uU:return(e.displayName||"Context")+".Consumer";case cU:return(e._context.displayName||"Context")+".Provider";case AI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case II:return t=e.displayName||null,t!==null?t:SO(e.type)||"Memo";case ad:t=e._payload,e=e._init;try{return SO(e(t))}catch{}}return null}function ZJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return SO(t);case 8:return t===MI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fU(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XJ(e){var t=fU(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function B_(e){e._valueTracker||(e._valueTracker=XJ(e))}function hU(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fU(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kO(e,t){var n=t.checked;return li({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dd(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pU(e,t){t=t.checked,t!=null&&OI(e,"checked",t,!1)}function CO(e,t){pU(e,t);var n=Dd(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?TO(e,t.type,n):t.hasOwnProperty("defaultValue")&&TO(e,t.type,Dd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function BN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function TO(e,t,n){(t!=="number"||fw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bv=Array.isArray;function sm(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dd(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function PO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(mt(91));return li({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function FN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(mt(92));if(Bv(n)){if(1<n.length)throw Error(mt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dd(n)}}function mU(e,t){var n=Dd(t.value),r=Dd(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function UN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gU(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function EO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gU(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var F_,yU=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(F_=F_||document.createElement("div"),F_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=F_.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function T0(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JJ=["Webkit","ms","Moz","O"];Object.keys(Jv).forEach(function(e){JJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jv[t]=Jv[e]})});function vU(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Jv.hasOwnProperty(e)&&Jv[e]?(""+t).trim():t+"px"}function bU(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vU(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var QJ=li({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function OO(e,t){if(t){if(QJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(mt(62))}}function MO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AO=null;function $I(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var IO=null,lm=null,cm=null;function VN(e){if(e=Kb(e)){if(typeof IO!="function")throw Error(mt(280));var t=e.stateNode;t&&(t=v2(t),IO(e.stateNode,e.type,t))}}function xU(e){lm?cm?cm.push(e):cm=[e]:lm=e}function _U(){if(lm){var e=lm,t=cm;if(cm=lm=null,VN(e),t)for(e=0;e<t.length;e++)VN(t[e])}}function wU(e,t){return e(t)}function SU(){}var sP=!1;function kU(e,t,n){if(sP)return e(t,n);sP=!0;try{return wU(e,t,n)}finally{sP=!1,(lm!==null||cm!==null)&&(SU(),_U())}}function P0(e,t){var n=e.stateNode;if(n===null)return null;var r=v2(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(mt(231,t,typeof n));return n}var $O=!1;if(iu)try{var tv={};Object.defineProperty(tv,"passive",{get:function(){$O=!0}}),window.addEventListener("test",tv,tv),window.removeEventListener("test",tv,tv)}catch{$O=!1}function eQ(e,t,n,r,i,o,s,a,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(g){this.onError(g)}}var Qv=!1,hw=null,pw=!1,RO=null,tQ={onError:function(e){Qv=!0,hw=e}};function nQ(e,t,n,r,i,o,s,a,f){Qv=!1,hw=null,eQ.apply(tQ,arguments)}function rQ(e,t,n,r,i,o,s,a,f){if(nQ.apply(this,arguments),Qv){if(Qv){var h=hw;Qv=!1,hw=null}else throw Error(mt(198));pw||(pw=!0,RO=h)}}function kh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function CU(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function WN(e){if(kh(e)!==e)throw Error(mt(188))}function iQ(e){var t=e.alternate;if(!t){if(t=kh(e),t===null)throw Error(mt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return WN(i),e;if(o===r)return WN(i),t;o=o.sibling}throw Error(mt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(mt(189))}}if(n.alternate!==r)throw Error(mt(190))}if(n.tag!==3)throw Error(mt(188));return n.stateNode.current===n?e:t}function TU(e){return e=iQ(e),e!==null?PU(e):null}function PU(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=PU(e);if(t!==null)return t;e=e.sibling}return null}var EU=Xa.unstable_scheduleCallback,qN=Xa.unstable_cancelCallback,oQ=Xa.unstable_shouldYield,aQ=Xa.unstable_requestPaint,Ti=Xa.unstable_now,sQ=Xa.unstable_getCurrentPriorityLevel,RI=Xa.unstable_ImmediatePriority,OU=Xa.unstable_UserBlockingPriority,mw=Xa.unstable_NormalPriority,lQ=Xa.unstable_LowPriority,MU=Xa.unstable_IdlePriority,p2=null,Ql=null;function cQ(e){if(Ql&&typeof Ql.onCommitFiberRoot=="function")try{Ql.onCommitFiberRoot(p2,e,void 0,(e.current.flags&128)===128)}catch{}}var Cl=Math.clz32?Math.clz32:fQ,uQ=Math.log,dQ=Math.LN2;function fQ(e){return e>>>=0,e===0?32:31-(uQ(e)/dQ|0)|0}var U_=64,V_=4194304;function Fv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Fv(a):(o&=s,o!==0&&(r=Fv(o)))}else s=n&~i,s!==0?r=Fv(s):o!==0&&(r=Fv(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cl(t),i=1<<n,r|=e[n],t&=~i;return r}function hQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pQ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Cl(o),a=1<<s,f=i[s];f===-1?(!(a&n)||a&r)&&(i[s]=hQ(a,t)):f<=t&&(e.expiredLanes|=a),o&=~a}}function DO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function AU(){var e=U_;return U_<<=1,!(U_&4194240)&&(U_=64),e}function lP(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cl(t),e[t]=n}function mQ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Cl(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function DI(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cl(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pr=0;function IU(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $U,LI,RU,DU,LU,LO=!1,W_=[],xd=null,_d=null,wd=null,E0=new Map,O0=new Map,cd=[],gQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GN(e,t){switch(e){case"focusin":case"focusout":xd=null;break;case"dragenter":case"dragleave":_d=null;break;case"mouseover":case"mouseout":wd=null;break;case"pointerover":case"pointerout":E0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":O0.delete(t.pointerId)}}function nv(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Kb(t),t!==null&&LI(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yQ(e,t,n,r,i){switch(t){case"focusin":return xd=nv(xd,e,t,n,r,i),!0;case"dragenter":return _d=nv(_d,e,t,n,r,i),!0;case"mouseover":return wd=nv(wd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return E0.set(o,nv(E0.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,O0.set(o,nv(O0.get(o)||null,e,t,n,r,i)),!0}return!1}function jU(e){var t=zf(e.target);if(t!==null){var n=kh(t);if(n!==null){if(t=n.tag,t===13){if(t=CU(n),t!==null){e.blockedOn=t,LU(e.priority,function(){RU(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function z1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);AO=r,n.target.dispatchEvent(r),AO=null}else return t=Kb(n),t!==null&&LI(t),e.blockedOn=n,!1;t.shift()}return!0}function HN(e,t,n){z1(e)&&n.delete(t)}function vQ(){LO=!1,xd!==null&&z1(xd)&&(xd=null),_d!==null&&z1(_d)&&(_d=null),wd!==null&&z1(wd)&&(wd=null),E0.forEach(HN),O0.forEach(HN)}function rv(e,t){e.blockedOn===t&&(e.blockedOn=null,LO||(LO=!0,Xa.unstable_scheduleCallback(Xa.unstable_NormalPriority,vQ)))}function M0(e){function t(i){return rv(i,e)}if(0<W_.length){rv(W_[0],e);for(var n=1;n<W_.length;n++){var r=W_[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xd!==null&&rv(xd,e),_d!==null&&rv(_d,e),wd!==null&&rv(wd,e),E0.forEach(t),O0.forEach(t),n=0;n<cd.length;n++)r=cd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cd.length&&(n=cd[0],n.blockedOn===null);)jU(n),n.blockedOn===null&&cd.shift()}var um=vu.ReactCurrentBatchConfig,yw=!0;function bQ(e,t,n,r){var i=pr,o=um.transition;um.transition=null;try{pr=1,jI(e,t,n,r)}finally{pr=i,um.transition=o}}function xQ(e,t,n,r){var i=pr,o=um.transition;um.transition=null;try{pr=4,jI(e,t,n,r)}finally{pr=i,um.transition=o}}function jI(e,t,n,r){if(yw){var i=jO(e,t,n,r);if(i===null)vP(e,t,r,vw,n),GN(e,r);else if(yQ(i,e,t,n,r))r.stopPropagation();else if(GN(e,r),t&4&&-1<gQ.indexOf(e)){for(;i!==null;){var o=Kb(i);if(o!==null&&$U(o),o=jO(e,t,n,r),o===null&&vP(e,t,r,vw,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vP(e,t,r,null,n)}}var vw=null;function jO(e,t,n,r){if(vw=null,e=$I(r),e=zf(e),e!==null)if(t=kh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=CU(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vw=e,null}function NU(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sQ()){case RI:return 1;case OU:return 4;case mw:case lQ:return 16;case MU:return 536870912;default:return 16}default:return 16}}var fd=null,NI=null,B1=null;function zU(){if(B1)return B1;var e,t=NI,n=t.length,r,i="value"in fd?fd.value:fd.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return B1=i.slice(e,1<r?1-r:void 0)}function F1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function q_(){return!0}function YN(){return!1}function rs(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?q_:YN,this.isPropagationStopped=YN,this}return li(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=q_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=q_)},persist:function(){},isPersistent:q_}),t}var gg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zI=rs(gg),Yb=li({},gg,{view:0,detail:0}),_Q=rs(Yb),cP,uP,iv,m2=li({},Yb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==iv&&(iv&&e.type==="mousemove"?(cP=e.screenX-iv.screenX,uP=e.screenY-iv.screenY):uP=cP=0,iv=e),cP)},movementY:function(e){return"movementY"in e?e.movementY:uP}}),KN=rs(m2),wQ=li({},m2,{dataTransfer:0}),SQ=rs(wQ),kQ=li({},Yb,{relatedTarget:0}),dP=rs(kQ),CQ=li({},gg,{animationName:0,elapsedTime:0,pseudoElement:0}),TQ=rs(CQ),PQ=li({},gg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EQ=rs(PQ),OQ=li({},gg,{data:0}),ZN=rs(OQ),MQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $Q(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IQ[e])?!!t[e]:!1}function BI(){return $Q}var RQ=li({},Yb,{key:function(e){if(e.key){var t=MQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=F1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BI,charCode:function(e){return e.type==="keypress"?F1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?F1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DQ=rs(RQ),LQ=li({},m2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XN=rs(LQ),jQ=li({},Yb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BI}),NQ=rs(jQ),zQ=li({},gg,{propertyName:0,elapsedTime:0,pseudoElement:0}),BQ=rs(zQ),FQ=li({},m2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UQ=rs(FQ),VQ=[9,13,27,32],FI=iu&&"CompositionEvent"in window,e0=null;iu&&"documentMode"in document&&(e0=document.documentMode);var WQ=iu&&"TextEvent"in window&&!e0,BU=iu&&(!FI||e0&&8<e0&&11>=e0),JN=" ",QN=!1;function FU(e,t){switch(e){case"keyup":return VQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UU(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zp=!1;function qQ(e,t){switch(e){case"compositionend":return UU(t);case"keypress":return t.which!==32?null:(QN=!0,JN);case"textInput":return e=t.data,e===JN&&QN?null:e;default:return null}}function GQ(e,t){if(zp)return e==="compositionend"||!FI&&FU(e,t)?(e=zU(),B1=NI=fd=null,zp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BU&&t.locale!=="ko"?null:t.data;default:return null}}var HQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ez(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HQ[e.type]:t==="textarea"}function VU(e,t,n,r){xU(r),t=bw(t,"onChange"),0<t.length&&(n=new zI("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var t0=null,A0=null;function YQ(e){eV(e,0)}function g2(e){var t=Up(e);if(hU(t))return e}function KQ(e,t){if(e==="change")return t}var WU=!1;if(iu){var fP;if(iu){var hP="oninput"in document;if(!hP){var tz=document.createElement("div");tz.setAttribute("oninput","return;"),hP=typeof tz.oninput=="function"}fP=hP}else fP=!1;WU=fP&&(!document.documentMode||9<document.documentMode)}function nz(){t0&&(t0.detachEvent("onpropertychange",qU),A0=t0=null)}function qU(e){if(e.propertyName==="value"&&g2(A0)){var t=[];VU(t,A0,e,$I(e)),kU(YQ,t)}}function ZQ(e,t,n){e==="focusin"?(nz(),t0=t,A0=n,t0.attachEvent("onpropertychange",qU)):e==="focusout"&&nz()}function XQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return g2(A0)}function JQ(e,t){if(e==="click")return g2(t)}function QQ(e,t){if(e==="input"||e==="change")return g2(t)}function eee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pl=typeof Object.is=="function"?Object.is:eee;function I0(e,t){if(Pl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bO.call(t,i)||!Pl(e[i],t[i]))return!1}return!0}function rz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iz(e,t){var n=rz(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rz(n)}}function GU(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GU(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function HU(){for(var e=window,t=fw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fw(e.document)}return t}function UI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tee(e){var t=HU(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&GU(n.ownerDocument.documentElement,n)){if(r!==null&&UI(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=iz(n,o);var s=iz(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nee=iu&&"documentMode"in document&&11>=document.documentMode,Bp=null,NO=null,n0=null,zO=!1;function oz(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zO||Bp==null||Bp!==fw(r)||(r=Bp,"selectionStart"in r&&UI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),n0&&I0(n0,r)||(n0=r,r=bw(NO,"onSelect"),0<r.length&&(t=new zI("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bp)))}function G_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fp={animationend:G_("Animation","AnimationEnd"),animationiteration:G_("Animation","AnimationIteration"),animationstart:G_("Animation","AnimationStart"),transitionend:G_("Transition","TransitionEnd")},pP={},YU={};iu&&(YU=document.createElement("div").style,"AnimationEvent"in window||(delete Fp.animationend.animation,delete Fp.animationiteration.animation,delete Fp.animationstart.animation),"TransitionEvent"in window||delete Fp.transitionend.transition);function y2(e){if(pP[e])return pP[e];if(!Fp[e])return e;var t=Fp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in YU)return pP[e]=t[n];return e}var KU=y2("animationend"),ZU=y2("animationiteration"),XU=y2("animationstart"),JU=y2("transitionend"),QU=new Map,az="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wd(e,t){QU.set(e,t),Sh(t,[e])}for(var mP=0;mP<az.length;mP++){var gP=az[mP],ree=gP.toLowerCase(),iee=gP[0].toUpperCase()+gP.slice(1);Wd(ree,"on"+iee)}Wd(KU,"onAnimationEnd");Wd(ZU,"onAnimationIteration");Wd(XU,"onAnimationStart");Wd("dblclick","onDoubleClick");Wd("focusin","onFocus");Wd("focusout","onBlur");Wd(JU,"onTransitionEnd");Pm("onMouseEnter",["mouseout","mouseover"]);Pm("onMouseLeave",["mouseout","mouseover"]);Pm("onPointerEnter",["pointerout","pointerover"]);Pm("onPointerLeave",["pointerout","pointerover"]);Sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uv));function sz(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rQ(r,t,void 0,e),e.currentTarget=null}function eV(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],f=a.instance,h=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;sz(i,a,h),o=f}else for(s=0;s<r.length;s++){if(a=r[s],f=a.instance,h=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;sz(i,a,h),o=f}}}if(pw)throw e=RO,pw=!1,RO=null,e}function Br(e,t){var n=t[WO];n===void 0&&(n=t[WO]=new Set);var r=e+"__bubble";n.has(r)||(tV(t,e,2,!1),n.add(r))}function yP(e,t,n){var r=0;t&&(r|=4),tV(n,e,r,t)}var H_="_reactListening"+Math.random().toString(36).slice(2);function $0(e){if(!e[H_]){e[H_]=!0,lU.forEach(function(n){n!=="selectionchange"&&(oee.has(n)||yP(n,!1,e),yP(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[H_]||(t[H_]=!0,yP("selectionchange",!1,t))}}function tV(e,t,n,r){switch(NU(t)){case 1:var i=bQ;break;case 4:i=xQ;break;default:i=jI}n=i.bind(null,t,n,e),i=void 0,!$O||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vP(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=zf(a),s===null)return;if(f=s.tag,f===5||f===6){r=o=s;continue e}a=a.parentNode}}r=r.return}kU(function(){var h=o,g=$I(n),y=[];e:{var x=QU.get(e);if(x!==void 0){var P=zI,E=e;switch(e){case"keypress":if(F1(n)===0)break e;case"keydown":case"keyup":P=DQ;break;case"focusin":E="focus",P=dP;break;case"focusout":E="blur",P=dP;break;case"beforeblur":case"afterblur":P=dP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=KN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=SQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=NQ;break;case KU:case ZU:case XU:P=TQ;break;case JU:P=BQ;break;case"scroll":P=_Q;break;case"wheel":P=UQ;break;case"copy":case"cut":case"paste":P=EQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=XN}var S=(t&4)!==0,O=!S&&e==="scroll",A=S?x!==null?x+"Capture":null:x;S=[];for(var M=h,I;M!==null;){I=M;var N=I.stateNode;if(I.tag===5&&N!==null&&(I=N,A!==null&&(N=P0(M,A),N!=null&&S.push(R0(M,N,I)))),O)break;M=M.return}0<S.length&&(x=new P(x,E,null,n,g),y.push({event:x,listeners:S}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",x&&n!==AO&&(E=n.relatedTarget||n.fromElement)&&(zf(E)||E[ou]))break e;if((P||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,P?(E=n.relatedTarget||n.toElement,P=h,E=E?zf(E):null,E!==null&&(O=kh(E),E!==O||E.tag!==5&&E.tag!==6)&&(E=null)):(P=null,E=h),P!==E)){if(S=KN,N="onMouseLeave",A="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(S=XN,N="onPointerLeave",A="onPointerEnter",M="pointer"),O=P==null?x:Up(P),I=E==null?x:Up(E),x=new S(N,M+"leave",P,n,g),x.target=O,x.relatedTarget=I,N=null,zf(g)===h&&(S=new S(A,M+"enter",E,n,g),S.target=I,S.relatedTarget=O,N=S),O=N,P&&E)t:{for(S=P,A=E,M=0,I=S;I;I=yp(I))M++;for(I=0,N=A;N;N=yp(N))I++;for(;0<M-I;)S=yp(S),M--;for(;0<I-M;)A=yp(A),I--;for(;M--;){if(S===A||A!==null&&S===A.alternate)break t;S=yp(S),A=yp(A)}S=null}else S=null;P!==null&&lz(y,x,P,S,!1),E!==null&&O!==null&&lz(y,O,E,S,!0)}}e:{if(x=h?Up(h):window,P=x.nodeName&&x.nodeName.toLowerCase(),P==="select"||P==="input"&&x.type==="file")var $=KQ;else if(ez(x))if(WU)$=QQ;else{$=XQ;var R=ZQ}else(P=x.nodeName)&&P.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&($=JQ);if($&&($=$(e,h))){VU(y,$,n,g);break e}R&&R(e,x,h),e==="focusout"&&(R=x._wrapperState)&&R.controlled&&x.type==="number"&&TO(x,"number",x.value)}switch(R=h?Up(h):window,e){case"focusin":(ez(R)||R.contentEditable==="true")&&(Bp=R,NO=h,n0=null);break;case"focusout":n0=NO=Bp=null;break;case"mousedown":zO=!0;break;case"contextmenu":case"mouseup":case"dragend":zO=!1,oz(y,n,g);break;case"selectionchange":if(nee)break;case"keydown":case"keyup":oz(y,n,g)}var F;if(FI)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else zp?FU(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(BU&&n.locale!=="ko"&&(zp||q!=="onCompositionStart"?q==="onCompositionEnd"&&zp&&(F=zU()):(fd=g,NI="value"in fd?fd.value:fd.textContent,zp=!0)),R=bw(h,q),0<R.length&&(q=new ZN(q,e,null,n,g),y.push({event:q,listeners:R}),F?q.data=F:(F=UU(n),F!==null&&(q.data=F)))),(F=WQ?qQ(e,n):GQ(e,n))&&(h=bw(h,"onBeforeInput"),0<h.length&&(g=new ZN("onBeforeInput","beforeinput",null,n,g),y.push({event:g,listeners:h}),g.data=F))}eV(y,t)})}function R0(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=P0(e,n),o!=null&&r.unshift(R0(e,o,i)),o=P0(e,t),o!=null&&r.push(R0(e,o,i))),e=e.return}return r}function yp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lz(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,f=a.alternate,h=a.stateNode;if(f!==null&&f===r)break;a.tag===5&&h!==null&&(a=h,i?(f=P0(n,o),f!=null&&s.unshift(R0(n,f,a))):i||(f=P0(n,o),f!=null&&s.push(R0(n,f,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var aee=/\r\n?/g,see=/\u0000|\uFFFD/g;function cz(e){return(typeof e=="string"?e:""+e).replace(aee,`
`).replace(see,"")}function Y_(e,t,n){if(t=cz(t),cz(e)!==t&&n)throw Error(mt(425))}function xw(){}var BO=null,FO=null;function UO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var VO=typeof setTimeout=="function"?setTimeout:void 0,lee=typeof clearTimeout=="function"?clearTimeout:void 0,uz=typeof Promise=="function"?Promise:void 0,cee=typeof queueMicrotask=="function"?queueMicrotask:typeof uz<"u"?function(e){return uz.resolve(null).then(e).catch(uee)}:VO;function uee(e){setTimeout(function(){throw e})}function bP(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),M0(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);M0(t)}function Sd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yg=Math.random().toString(36).slice(2),Kl="__reactFiber$"+yg,D0="__reactProps$"+yg,ou="__reactContainer$"+yg,WO="__reactEvents$"+yg,dee="__reactListeners$"+yg,fee="__reactHandles$"+yg;function zf(e){var t=e[Kl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ou]||n[Kl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dz(e);e!==null;){if(n=e[Kl])return n;e=dz(e)}return t}e=n,n=e.parentNode}return null}function Kb(e){return e=e[Kl]||e[ou],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Up(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function v2(e){return e[D0]||null}var qO=[],Vp=-1;function qd(e){return{current:e}}function Vr(e){0>Vp||(e.current=qO[Vp],qO[Vp]=null,Vp--)}function Dr(e,t){Vp++,qO[Vp]=e.current,e.current=t}var Ld={},Fo=qd(Ld),Pa=qd(!1),sh=Ld;function Em(e,t){var n=e.type.contextTypes;if(!n)return Ld;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ea(e){return e=e.childContextTypes,e!=null}function _w(){Vr(Pa),Vr(Fo)}function fz(e,t,n){if(Fo.current!==Ld)throw Error(mt(168));Dr(Fo,t),Dr(Pa,n)}function nV(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(mt(108,ZJ(e)||"Unknown",i));return li({},n,r)}function ww(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ld,sh=Fo.current,Dr(Fo,e),Dr(Pa,Pa.current),!0}function hz(e,t,n){var r=e.stateNode;if(!r)throw Error(mt(169));n?(e=nV(e,t,sh),r.__reactInternalMemoizedMergedChildContext=e,Vr(Pa),Vr(Fo),Dr(Fo,e)):Vr(Pa),Dr(Pa,n)}var Bc=null,b2=!1,xP=!1;function rV(e){Bc===null?Bc=[e]:Bc.push(e)}function hee(e){b2=!0,rV(e)}function Gd(){if(!xP&&Bc!==null){xP=!0;var e=0,t=pr;try{var n=Bc;for(pr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bc=null,b2=!1}catch(i){throw Bc!==null&&(Bc=Bc.slice(e+1)),EU(RI,Gd),i}finally{pr=t,xP=!1}}return null}var Wp=[],qp=0,Sw=null,kw=0,_s=[],ws=0,lh=null,Vc=1,Wc="";function Pf(e,t){Wp[qp++]=kw,Wp[qp++]=Sw,Sw=e,kw=t}function iV(e,t,n){_s[ws++]=Vc,_s[ws++]=Wc,_s[ws++]=lh,lh=e;var r=Vc;e=Wc;var i=32-Cl(r)-1;r&=~(1<<i),n+=1;var o=32-Cl(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Vc=1<<32-Cl(t)+i|n<<i|r,Wc=o+e}else Vc=1<<o|n<<i|r,Wc=e}function VI(e){e.return!==null&&(Pf(e,1),iV(e,1,0))}function WI(e){for(;e===Sw;)Sw=Wp[--qp],Wp[qp]=null,kw=Wp[--qp],Wp[qp]=null;for(;e===lh;)lh=_s[--ws],_s[ws]=null,Wc=_s[--ws],_s[ws]=null,Vc=_s[--ws],_s[ws]=null}var Ya=null,Ha=null,Qr=!1,hl=null;function oV(e,t){var n=Ts(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pz(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ya=e,Ha=Sd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ya=e,Ha=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lh!==null?{id:Vc,overflow:Wc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ts(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ya=e,Ha=null,!0):!1;default:return!1}}function GO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function HO(e){if(Qr){var t=Ha;if(t){var n=t;if(!pz(e,t)){if(GO(e))throw Error(mt(418));t=Sd(n.nextSibling);var r=Ya;t&&pz(e,t)?oV(r,n):(e.flags=e.flags&-4097|2,Qr=!1,Ya=e)}}else{if(GO(e))throw Error(mt(418));e.flags=e.flags&-4097|2,Qr=!1,Ya=e}}}function mz(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ya=e}function K_(e){if(e!==Ya)return!1;if(!Qr)return mz(e),Qr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!UO(e.type,e.memoizedProps)),t&&(t=Ha)){if(GO(e))throw aV(),Error(mt(418));for(;t;)oV(e,t),t=Sd(t.nextSibling)}if(mz(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ha=Sd(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ha=null}}else Ha=Ya?Sd(e.stateNode.nextSibling):null;return!0}function aV(){for(var e=Ha;e;)e=Sd(e.nextSibling)}function Om(){Ha=Ya=null,Qr=!1}function qI(e){hl===null?hl=[e]:hl.push(e)}var pee=vu.ReactCurrentBatchConfig;function cl(e,t){if(e&&e.defaultProps){t=li({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Cw=qd(null),Tw=null,Gp=null,GI=null;function HI(){GI=Gp=Tw=null}function YI(e){var t=Cw.current;Vr(Cw),e._currentValue=t}function YO(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dm(e,t){Tw=e,GI=Gp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ca=!0),e.firstContext=null)}function Ls(e){var t=e._currentValue;if(GI!==e)if(e={context:e,memoizedValue:t,next:null},Gp===null){if(Tw===null)throw Error(mt(308));Gp=e,Tw.dependencies={lanes:0,firstContext:e}}else Gp=Gp.next=e;return t}var Bf=null;function KI(e){Bf===null?Bf=[e]:Bf.push(e)}function sV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,KI(t)):(n.next=i.next,i.next=n),t.interleaved=n,au(e,r)}function au(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sd=!1;function ZI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kd(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Zn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,au(e,n)}return i=r.interleaved,i===null?(t.next=t,KI(r)):(t.next=i.next,i.next=t),r.interleaved=t,au(e,n)}function U1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,DI(e,n)}}function gz(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pw(e,t,n,r){var i=e.updateQueue;sd=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,h=f.next;f.next=null,s===null?o=h:s.next=h,s=f;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==s&&(a===null?g.firstBaseUpdate=h:a.next=h,g.lastBaseUpdate=f))}if(o!==null){var y=i.baseState;s=0,g=h=f=null,a=o;do{var x=a.lane,P=a.eventTime;if((r&x)===x){g!==null&&(g=g.next={eventTime:P,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=e,S=a;switch(x=t,P=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){y=E.call(P,y,x);break e}y=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,x=typeof E=="function"?E.call(P,y,x):E,x==null)break e;y=li({},y,x);break e;case 2:sd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[a]:x.push(a))}else P={eventTime:P,lane:x,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(h=g=P,f=y):g=g.next=P,s|=x;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;x=a,a=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(g===null&&(f=y),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);uh|=s,e.lanes=s,e.memoizedState=y}}function yz(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(mt(191,i));i.call(r)}}}var cV=new sU.Component().refs;function KO(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:li({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var x2={isMounted:function(e){return(e=e._reactInternals)?kh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=aa(),i=Td(e),o=Jc(r,i);o.payload=t,n!=null&&(o.callback=n),t=kd(e,o,i),t!==null&&(Tl(t,e,i,r),U1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=aa(),i=Td(e),o=Jc(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=kd(e,o,i),t!==null&&(Tl(t,e,i,r),U1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=aa(),r=Td(e),i=Jc(n,r);i.tag=2,t!=null&&(i.callback=t),t=kd(e,i,r),t!==null&&(Tl(t,e,r,n),U1(t,e,r))}};function vz(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!I0(n,r)||!I0(i,o):!0}function uV(e,t,n){var r=!1,i=Ld,o=t.contextType;return typeof o=="object"&&o!==null?o=Ls(o):(i=Ea(t)?sh:Fo.current,r=t.contextTypes,o=(r=r!=null)?Em(e,i):Ld),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=x2,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bz(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&x2.enqueueReplaceState(t,t.state,null)}function ZO(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=cV,ZI(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ls(o):(o=Ea(t)?sh:Fo.current,i.context=Em(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(KO(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&x2.enqueueReplaceState(i,i.state,null),Pw(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ov(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(mt(309));var r=n.stateNode}if(!r)throw Error(mt(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===cV&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(mt(284));if(!n._owner)throw Error(mt(290,e))}return e}function Z_(e,t){throw e=Object.prototype.toString.call(t),Error(mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xz(e){var t=e._init;return t(e._payload)}function dV(e){function t(A,M){if(e){var I=A.deletions;I===null?(A.deletions=[M],A.flags|=16):I.push(M)}}function n(A,M){if(!e)return null;for(;M!==null;)t(A,M),M=M.sibling;return null}function r(A,M){for(A=new Map;M!==null;)M.key!==null?A.set(M.key,M):A.set(M.index,M),M=M.sibling;return A}function i(A,M){return A=Pd(A,M),A.index=0,A.sibling=null,A}function o(A,M,I){return A.index=I,e?(I=A.alternate,I!==null?(I=I.index,I<M?(A.flags|=2,M):I):(A.flags|=2,M)):(A.flags|=1048576,M)}function s(A){return e&&A.alternate===null&&(A.flags|=2),A}function a(A,M,I,N){return M===null||M.tag!==6?(M=PP(I,A.mode,N),M.return=A,M):(M=i(M,I),M.return=A,M)}function f(A,M,I,N){var $=I.type;return $===Np?g(A,M,I.props.children,N,I.key):M!==null&&(M.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ad&&xz($)===M.type)?(N=i(M,I.props),N.ref=ov(A,M,I),N.return=A,N):(N=Y1(I.type,I.key,I.props,null,A.mode,N),N.ref=ov(A,M,I),N.return=A,N)}function h(A,M,I,N){return M===null||M.tag!==4||M.stateNode.containerInfo!==I.containerInfo||M.stateNode.implementation!==I.implementation?(M=EP(I,A.mode,N),M.return=A,M):(M=i(M,I.children||[]),M.return=A,M)}function g(A,M,I,N,$){return M===null||M.tag!==7?(M=Xf(I,A.mode,N,$),M.return=A,M):(M=i(M,I),M.return=A,M)}function y(A,M,I){if(typeof M=="string"&&M!==""||typeof M=="number")return M=PP(""+M,A.mode,I),M.return=A,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z_:return I=Y1(M.type,M.key,M.props,null,A.mode,I),I.ref=ov(A,null,M),I.return=A,I;case jp:return M=EP(M,A.mode,I),M.return=A,M;case ad:var N=M._init;return y(A,N(M._payload),I)}if(Bv(M)||ev(M))return M=Xf(M,A.mode,I,null),M.return=A,M;Z_(A,M)}return null}function x(A,M,I,N){var $=M!==null?M.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return $!==null?null:a(A,M,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case z_:return I.key===$?f(A,M,I,N):null;case jp:return I.key===$?h(A,M,I,N):null;case ad:return $=I._init,x(A,M,$(I._payload),N)}if(Bv(I)||ev(I))return $!==null?null:g(A,M,I,N,null);Z_(A,I)}return null}function P(A,M,I,N,$){if(typeof N=="string"&&N!==""||typeof N=="number")return A=A.get(I)||null,a(M,A,""+N,$);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case z_:return A=A.get(N.key===null?I:N.key)||null,f(M,A,N,$);case jp:return A=A.get(N.key===null?I:N.key)||null,h(M,A,N,$);case ad:var R=N._init;return P(A,M,I,R(N._payload),$)}if(Bv(N)||ev(N))return A=A.get(I)||null,g(M,A,N,$,null);Z_(M,N)}return null}function E(A,M,I,N){for(var $=null,R=null,F=M,q=M=0,X=null;F!==null&&q<I.length;q++){F.index>q?(X=F,F=null):X=F.sibling;var Q=x(A,F,I[q],N);if(Q===null){F===null&&(F=X);break}e&&F&&Q.alternate===null&&t(A,F),M=o(Q,M,q),R===null?$=Q:R.sibling=Q,R=Q,F=X}if(q===I.length)return n(A,F),Qr&&Pf(A,q),$;if(F===null){for(;q<I.length;q++)F=y(A,I[q],N),F!==null&&(M=o(F,M,q),R===null?$=F:R.sibling=F,R=F);return Qr&&Pf(A,q),$}for(F=r(A,F);q<I.length;q++)X=P(F,A,q,I[q],N),X!==null&&(e&&X.alternate!==null&&F.delete(X.key===null?q:X.key),M=o(X,M,q),R===null?$=X:R.sibling=X,R=X);return e&&F.forEach(function(ae){return t(A,ae)}),Qr&&Pf(A,q),$}function S(A,M,I,N){var $=ev(I);if(typeof $!="function")throw Error(mt(150));if(I=$.call(I),I==null)throw Error(mt(151));for(var R=$=null,F=M,q=M=0,X=null,Q=I.next();F!==null&&!Q.done;q++,Q=I.next()){F.index>q?(X=F,F=null):X=F.sibling;var ae=x(A,F,Q.value,N);if(ae===null){F===null&&(F=X);break}e&&F&&ae.alternate===null&&t(A,F),M=o(ae,M,q),R===null?$=ae:R.sibling=ae,R=ae,F=X}if(Q.done)return n(A,F),Qr&&Pf(A,q),$;if(F===null){for(;!Q.done;q++,Q=I.next())Q=y(A,Q.value,N),Q!==null&&(M=o(Q,M,q),R===null?$=Q:R.sibling=Q,R=Q);return Qr&&Pf(A,q),$}for(F=r(A,F);!Q.done;q++,Q=I.next())Q=P(F,A,q,Q.value,N),Q!==null&&(e&&Q.alternate!==null&&F.delete(Q.key===null?q:Q.key),M=o(Q,M,q),R===null?$=Q:R.sibling=Q,R=Q);return e&&F.forEach(function(fe){return t(A,fe)}),Qr&&Pf(A,q),$}function O(A,M,I,N){if(typeof I=="object"&&I!==null&&I.type===Np&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case z_:e:{for(var $=I.key,R=M;R!==null;){if(R.key===$){if($=I.type,$===Np){if(R.tag===7){n(A,R.sibling),M=i(R,I.props.children),M.return=A,A=M;break e}}else if(R.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ad&&xz($)===R.type){n(A,R.sibling),M=i(R,I.props),M.ref=ov(A,R,I),M.return=A,A=M;break e}n(A,R);break}else t(A,R);R=R.sibling}I.type===Np?(M=Xf(I.props.children,A.mode,N,I.key),M.return=A,A=M):(N=Y1(I.type,I.key,I.props,null,A.mode,N),N.ref=ov(A,M,I),N.return=A,A=N)}return s(A);case jp:e:{for(R=I.key;M!==null;){if(M.key===R)if(M.tag===4&&M.stateNode.containerInfo===I.containerInfo&&M.stateNode.implementation===I.implementation){n(A,M.sibling),M=i(M,I.children||[]),M.return=A,A=M;break e}else{n(A,M);break}else t(A,M);M=M.sibling}M=EP(I,A.mode,N),M.return=A,A=M}return s(A);case ad:return R=I._init,O(A,M,R(I._payload),N)}if(Bv(I))return E(A,M,I,N);if(ev(I))return S(A,M,I,N);Z_(A,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,M!==null&&M.tag===6?(n(A,M.sibling),M=i(M,I),M.return=A,A=M):(n(A,M),M=PP(I,A.mode,N),M.return=A,A=M),s(A)):n(A,M)}return O}var Mm=dV(!0),fV=dV(!1),Zb={},ec=qd(Zb),L0=qd(Zb),j0=qd(Zb);function Ff(e){if(e===Zb)throw Error(mt(174));return e}function XI(e,t){switch(Dr(j0,t),Dr(L0,e),Dr(ec,Zb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:EO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=EO(t,e)}Vr(ec),Dr(ec,t)}function Am(){Vr(ec),Vr(L0),Vr(j0)}function hV(e){Ff(j0.current);var t=Ff(ec.current),n=EO(t,e.type);t!==n&&(Dr(L0,e),Dr(ec,n))}function JI(e){L0.current===e&&(Vr(ec),Vr(L0))}var oi=qd(0);function Ew(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _P=[];function QI(){for(var e=0;e<_P.length;e++)_P[e]._workInProgressVersionPrimary=null;_P.length=0}var V1=vu.ReactCurrentDispatcher,wP=vu.ReactCurrentBatchConfig,ch=0,si=null,Ui=null,no=null,Ow=!1,r0=!1,N0=0,mee=0;function Mo(){throw Error(mt(321))}function e$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pl(e[n],t[n]))return!1;return!0}function t$(e,t,n,r,i,o){if(ch=o,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V1.current=e===null||e.memoizedState===null?bee:xee,e=n(r,i),r0){o=0;do{if(r0=!1,N0=0,25<=o)throw Error(mt(301));o+=1,no=Ui=null,t.updateQueue=null,V1.current=_ee,e=n(r,i)}while(r0)}if(V1.current=Mw,t=Ui!==null&&Ui.next!==null,ch=0,no=Ui=si=null,Ow=!1,t)throw Error(mt(300));return e}function n$(){var e=N0!==0;return N0=0,e}function ql(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return no===null?si.memoizedState=no=e:no=no.next=e,no}function js(){if(Ui===null){var e=si.alternate;e=e!==null?e.memoizedState:null}else e=Ui.next;var t=no===null?si.memoizedState:no.next;if(t!==null)no=t,Ui=e;else{if(e===null)throw Error(mt(310));Ui=e,e={memoizedState:Ui.memoizedState,baseState:Ui.baseState,baseQueue:Ui.baseQueue,queue:Ui.queue,next:null},no===null?si.memoizedState=no=e:no=no.next=e}return no}function z0(e,t){return typeof t=="function"?t(e):t}function SP(e){var t=js(),n=t.queue;if(n===null)throw Error(mt(311));n.lastRenderedReducer=e;var r=Ui,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,f=null,h=o;do{var g=h.lane;if((ch&g)===g)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var y={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(a=f=y,s=r):f=f.next=y,si.lanes|=g,uh|=g}h=h.next}while(h!==null&&h!==o);f===null?s=r:f.next=a,Pl(r,t.memoizedState)||(Ca=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,si.lanes|=o,uh|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kP(e){var t=js(),n=t.queue;if(n===null)throw Error(mt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Pl(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function pV(){}function mV(e,t){var n=si,r=js(),i=t(),o=!Pl(r.memoizedState,i);if(o&&(r.memoizedState=i,Ca=!0),r=r.queue,r$(vV.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||no!==null&&no.memoizedState.tag&1){if(n.flags|=2048,B0(9,yV.bind(null,n,r,i,t),void 0,null),ro===null)throw Error(mt(349));ch&30||gV(n,t,i)}return i}function gV(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=si.updateQueue,t===null?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yV(e,t,n,r){t.value=n,t.getSnapshot=r,bV(t)&&xV(e)}function vV(e,t,n){return n(function(){bV(t)&&xV(e)})}function bV(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pl(e,n)}catch{return!0}}function xV(e){var t=au(e,1);t!==null&&Tl(t,e,1,-1)}function _z(e){var t=ql();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:z0,lastRenderedState:e},t.queue=e,e=e.dispatch=vee.bind(null,si,e),[t.memoizedState,e]}function B0(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=si.updateQueue,t===null?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _V(){return js().memoizedState}function W1(e,t,n,r){var i=ql();si.flags|=e,i.memoizedState=B0(1|t,n,void 0,r===void 0?null:r)}function _2(e,t,n,r){var i=js();r=r===void 0?null:r;var o=void 0;if(Ui!==null){var s=Ui.memoizedState;if(o=s.destroy,r!==null&&e$(r,s.deps)){i.memoizedState=B0(t,n,o,r);return}}si.flags|=e,i.memoizedState=B0(1|t,n,o,r)}function wz(e,t){return W1(8390656,8,e,t)}function r$(e,t){return _2(2048,8,e,t)}function wV(e,t){return _2(4,2,e,t)}function SV(e,t){return _2(4,4,e,t)}function kV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CV(e,t,n){return n=n!=null?n.concat([e]):null,_2(4,4,kV.bind(null,t,e),n)}function i$(){}function TV(e,t){var n=js();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&e$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function PV(e,t){var n=js();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&e$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function EV(e,t,n){return ch&21?(Pl(n,t)||(n=AU(),si.lanes|=n,uh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ca=!0),e.memoizedState=n)}function gee(e,t){var n=pr;pr=n!==0&&4>n?n:4,e(!0);var r=wP.transition;wP.transition={};try{e(!1),t()}finally{pr=n,wP.transition=r}}function OV(){return js().memoizedState}function yee(e,t,n){var r=Td(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MV(e))AV(t,n);else if(n=sV(e,t,n,r),n!==null){var i=aa();Tl(n,e,r,i),IV(n,t,r)}}function vee(e,t,n){var r=Td(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MV(e))AV(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Pl(a,s)){var f=t.interleaved;f===null?(i.next=i,KI(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}n=sV(e,t,i,r),n!==null&&(i=aa(),Tl(n,e,r,i),IV(n,t,r))}}function MV(e){var t=e.alternate;return e===si||t!==null&&t===si}function AV(e,t){r0=Ow=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function IV(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,DI(e,n)}}var Mw={readContext:Ls,useCallback:Mo,useContext:Mo,useEffect:Mo,useImperativeHandle:Mo,useInsertionEffect:Mo,useLayoutEffect:Mo,useMemo:Mo,useReducer:Mo,useRef:Mo,useState:Mo,useDebugValue:Mo,useDeferredValue:Mo,useTransition:Mo,useMutableSource:Mo,useSyncExternalStore:Mo,useId:Mo,unstable_isNewReconciler:!1},bee={readContext:Ls,useCallback:function(e,t){return ql().memoizedState=[e,t===void 0?null:t],e},useContext:Ls,useEffect:wz,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,W1(4194308,4,kV.bind(null,t,e),n)},useLayoutEffect:function(e,t){return W1(4194308,4,e,t)},useInsertionEffect:function(e,t){return W1(4,2,e,t)},useMemo:function(e,t){var n=ql();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ql();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yee.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){var t=ql();return e={current:e},t.memoizedState=e},useState:_z,useDebugValue:i$,useDeferredValue:function(e){return ql().memoizedState=e},useTransition:function(){var e=_z(!1),t=e[0];return e=gee.bind(null,e[1]),ql().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=si,i=ql();if(Qr){if(n===void 0)throw Error(mt(407));n=n()}else{if(n=t(),ro===null)throw Error(mt(349));ch&30||gV(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,wz(vV.bind(null,r,o,e),[e]),r.flags|=2048,B0(9,yV.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ql(),t=ro.identifierPrefix;if(Qr){var n=Wc,r=Vc;n=(r&~(1<<32-Cl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=N0++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mee++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xee={readContext:Ls,useCallback:TV,useContext:Ls,useEffect:r$,useImperativeHandle:CV,useInsertionEffect:wV,useLayoutEffect:SV,useMemo:PV,useReducer:SP,useRef:_V,useState:function(){return SP(z0)},useDebugValue:i$,useDeferredValue:function(e){var t=js();return EV(t,Ui.memoizedState,e)},useTransition:function(){var e=SP(z0)[0],t=js().memoizedState;return[e,t]},useMutableSource:pV,useSyncExternalStore:mV,useId:OV,unstable_isNewReconciler:!1},_ee={readContext:Ls,useCallback:TV,useContext:Ls,useEffect:r$,useImperativeHandle:CV,useInsertionEffect:wV,useLayoutEffect:SV,useMemo:PV,useReducer:kP,useRef:_V,useState:function(){return kP(z0)},useDebugValue:i$,useDeferredValue:function(e){var t=js();return Ui===null?t.memoizedState=e:EV(t,Ui.memoizedState,e)},useTransition:function(){var e=kP(z0)[0],t=js().memoizedState;return[e,t]},useMutableSource:pV,useSyncExternalStore:mV,useId:OV,unstable_isNewReconciler:!1};function Im(e,t){try{var n="",r=t;do n+=KJ(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function CP(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function XO(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wee=typeof WeakMap=="function"?WeakMap:Map;function $V(e,t,n){n=Jc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Iw||(Iw=!0,sM=r),XO(e,t)},n}function RV(e,t,n){n=Jc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){XO(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){XO(e,t),typeof r!="function"&&(Cd===null?Cd=new Set([this]):Cd.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Sz(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wee;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Lee.bind(null,e,t,n),t.then(e,e))}function kz(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cz(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jc(-1,1),t.tag=2,kd(n,t,1))),n.lanes|=1),e)}var See=vu.ReactCurrentOwner,Ca=!1;function ra(e,t,n,r){t.child=e===null?fV(t,null,n,r):Mm(t,e.child,n,r)}function Tz(e,t,n,r,i){n=n.render;var o=t.ref;return dm(t,i),r=t$(e,t,n,r,o,i),n=n$(),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,su(e,t,i)):(Qr&&n&&VI(t),t.flags|=1,ra(e,t,r,i),t.child)}function Pz(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!f$(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,DV(e,t,o,r,i)):(e=Y1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:I0,n(s,r)&&e.ref===t.ref)return su(e,t,i)}return t.flags|=1,e=Pd(o,r),e.ref=t.ref,e.return=t,t.child=e}function DV(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(I0(o,r)&&e.ref===t.ref)if(Ca=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ca=!0);else return t.lanes=e.lanes,su(e,t,i)}return JO(e,t,n,r,i)}function LV(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dr(Yp,Ua),Ua|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Dr(Yp,Ua),Ua|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Dr(Yp,Ua),Ua|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Dr(Yp,Ua),Ua|=r;return ra(e,t,i,n),t.child}function jV(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function JO(e,t,n,r,i){var o=Ea(n)?sh:Fo.current;return o=Em(t,o),dm(t,i),n=t$(e,t,n,r,o,i),r=n$(),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,su(e,t,i)):(Qr&&r&&VI(t),t.flags|=1,ra(e,t,n,i),t.child)}function Ez(e,t,n,r,i){if(Ea(n)){var o=!0;ww(t)}else o=!1;if(dm(t,i),t.stateNode===null)q1(e,t),uV(t,n,r),ZO(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var f=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ls(h):(h=Ea(n)?sh:Fo.current,h=Em(t,h));var g=n.getDerivedStateFromProps,y=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||f!==h)&&bz(t,s,r,h),sd=!1;var x=t.memoizedState;s.state=x,Pw(t,r,s,i),f=t.memoizedState,a!==r||x!==f||Pa.current||sd?(typeof g=="function"&&(KO(t,n,g,r),f=t.memoizedState),(a=sd||vz(t,n,a,r,x,f,h))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=h,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,lV(e,t),a=t.memoizedProps,h=t.type===t.elementType?a:cl(t.type,a),s.props=h,y=t.pendingProps,x=s.context,f=n.contextType,typeof f=="object"&&f!==null?f=Ls(f):(f=Ea(n)?sh:Fo.current,f=Em(t,f));var P=n.getDerivedStateFromProps;(g=typeof P=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==y||x!==f)&&bz(t,s,r,f),sd=!1,x=t.memoizedState,s.state=x,Pw(t,r,s,i);var E=t.memoizedState;a!==y||x!==E||Pa.current||sd?(typeof P=="function"&&(KO(t,n,P,r),E=t.memoizedState),(h=sd||vz(t,n,h,r,x,E,f)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,f)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),s.props=r,s.state=E,s.context=f,r=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return QO(e,t,n,r,o,i)}function QO(e,t,n,r,i,o){jV(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&hz(t,n,!1),su(e,t,o);r=t.stateNode,See.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Mm(t,e.child,null,o),t.child=Mm(t,null,a,o)):ra(e,t,a,o),t.memoizedState=r.state,i&&hz(t,n,!0),t.child}function NV(e){var t=e.stateNode;t.pendingContext?fz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fz(e,t.context,!1),XI(e,t.containerInfo)}function Oz(e,t,n,r,i){return Om(),qI(i),t.flags|=256,ra(e,t,n,r),t.child}var eM={dehydrated:null,treeContext:null,retryLane:0};function tM(e){return{baseLanes:e,cachePool:null,transitions:null}}function zV(e,t,n){var r=t.pendingProps,i=oi.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Dr(oi,i&1),e===null)return HO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=k2(s,r,0,null),e=Xf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=tM(n),t.memoizedState=eM,e):o$(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kee(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var f={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=Pd(i,f),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Pd(a,o):(o=Xf(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?tM(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=eM,r}return o=e.child,e=o.sibling,r=Pd(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function o$(e,t){return t=k2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function X_(e,t,n,r){return r!==null&&qI(r),Mm(t,e.child,null,n),e=o$(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kee(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=CP(Error(mt(422))),X_(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=k2({mode:"visible",children:r.children},i,0,null),o=Xf(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Mm(t,e.child,null,s),t.child.memoizedState=tM(s),t.memoizedState=eM,o);if(!(t.mode&1))return X_(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(mt(419)),r=CP(o,r,void 0),X_(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ca||a){if(r=ro,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,au(e,i),Tl(r,e,i,-1))}return d$(),r=CP(Error(mt(421))),X_(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jee.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ha=Sd(i.nextSibling),Ya=t,Qr=!0,hl=null,e!==null&&(_s[ws++]=Vc,_s[ws++]=Wc,_s[ws++]=lh,Vc=e.id,Wc=e.overflow,lh=t),t=o$(t,r.children),t.flags|=4096,t)}function Mz(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),YO(e.return,t,n)}function TP(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function BV(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ra(e,t,r.children,n),r=oi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mz(e,n,t);else if(e.tag===19)Mz(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Dr(oi,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ew(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),TP(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ew(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}TP(t,!0,n,null,o);break;case"together":TP(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function q1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function su(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),uh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(mt(153));if(t.child!==null){for(e=t.child,n=Pd(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pd(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cee(e,t,n){switch(t.tag){case 3:NV(t),Om();break;case 5:hV(t);break;case 1:Ea(t.type)&&ww(t);break;case 4:XI(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Dr(Cw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Dr(oi,oi.current&1),t.flags|=128,null):n&t.child.childLanes?zV(e,t,n):(Dr(oi,oi.current&1),e=su(e,t,n),e!==null?e.sibling:null);Dr(oi,oi.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return BV(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dr(oi,oi.current),r)break;return null;case 22:case 23:return t.lanes=0,LV(e,t,n)}return su(e,t,n)}var FV,nM,UV,VV;FV=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nM=function(){};UV=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ff(ec.current);var o=null;switch(n){case"input":i=kO(e,i),r=kO(e,r),o=[];break;case"select":i=li({},i,{value:void 0}),r=li({},r,{value:void 0}),o=[];break;case"textarea":i=PO(e,i),r=PO(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xw)}OO(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(C0.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var f=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&f!==a&&(f!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(n||(n={}),n[s]=f[s])}else n||(o||(o=[]),o.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(C0.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Br("scroll",e),o||a===f||(o=[])):(o=o||[]).push(h,f))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};VV=function(e,t,n,r){n!==r&&(t.flags|=4)};function av(e,t){if(!Qr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ao(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Tee(e,t,n){var r=t.pendingProps;switch(WI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ao(t),null;case 1:return Ea(t.type)&&_w(),Ao(t),null;case 3:return r=t.stateNode,Am(),Vr(Pa),Vr(Fo),QI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(K_(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hl!==null&&(uM(hl),hl=null))),nM(e,t),Ao(t),null;case 5:JI(t);var i=Ff(j0.current);if(n=t.type,e!==null&&t.stateNode!=null)UV(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(mt(166));return Ao(t),null}if(e=Ff(ec.current),K_(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Kl]=t,r[D0]=o,e=(t.mode&1)!==0,n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Uv.length;i++)Br(Uv[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":zN(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":FN(r,o),Br("invalid",r)}OO(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Y_(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Y_(r.textContent,a,e),i=["children",""+a]):C0.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Br("scroll",r)}switch(n){case"input":B_(r),BN(r,o,!0);break;case"textarea":B_(r),UN(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gU(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Kl]=t,e[D0]=r,FV(e,t,!1,!1),t.stateNode=e;e:{switch(s=MO(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Uv.length;i++)Br(Uv[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":zN(e,r),i=kO(e,r),Br("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=li({},r,{value:void 0}),Br("invalid",e);break;case"textarea":FN(e,r),i=PO(e,r),Br("invalid",e);break;default:i=r}OO(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?bU(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&yU(e,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&T0(e,f):typeof f=="number"&&T0(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(C0.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Br("scroll",e):f!=null&&OI(e,o,f,s))}switch(n){case"input":B_(e),BN(e,r,!1);break;case"textarea":B_(e),UN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dd(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?sm(e,!!r.multiple,o,!1):r.defaultValue!=null&&sm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ao(t),null;case 6:if(e&&t.stateNode!=null)VV(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(mt(166));if(n=Ff(j0.current),Ff(ec.current),K_(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kl]=t,(o=r.nodeValue!==n)&&(e=Ya,e!==null))switch(e.tag){case 3:Y_(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Y_(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kl]=t,t.stateNode=r}return Ao(t),null;case 13:if(Vr(oi),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qr&&Ha!==null&&t.mode&1&&!(t.flags&128))aV(),Om(),t.flags|=98560,o=!1;else if(o=K_(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(mt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(mt(317));o[Kl]=t}else Om(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ao(t),o=!1}else hl!==null&&(uM(hl),hl=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oi.current&1?Vi===0&&(Vi=3):d$())),t.updateQueue!==null&&(t.flags|=4),Ao(t),null);case 4:return Am(),nM(e,t),e===null&&$0(t.stateNode.containerInfo),Ao(t),null;case 10:return YI(t.type._context),Ao(t),null;case 17:return Ea(t.type)&&_w(),Ao(t),null;case 19:if(Vr(oi),o=t.memoizedState,o===null)return Ao(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)av(o,!1);else{if(Vi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ew(e),s!==null){for(t.flags|=128,av(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Dr(oi,oi.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ti()>$m&&(t.flags|=128,r=!0,av(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ew(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),av(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Qr)return Ao(t),null}else 2*Ti()-o.renderingStartTime>$m&&n!==1073741824&&(t.flags|=128,r=!0,av(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ti(),t.sibling=null,n=oi.current,Dr(oi,r?n&1|2:n&1),t):(Ao(t),null);case 22:case 23:return u$(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ua&1073741824&&(Ao(t),t.subtreeFlags&6&&(t.flags|=8192)):Ao(t),null;case 24:return null;case 25:return null}throw Error(mt(156,t.tag))}function Pee(e,t){switch(WI(t),t.tag){case 1:return Ea(t.type)&&_w(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Am(),Vr(Pa),Vr(Fo),QI(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return JI(t),null;case 13:if(Vr(oi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(mt(340));Om()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vr(oi),null;case 4:return Am(),null;case 10:return YI(t.type._context),null;case 22:case 23:return u$(),null;case 24:return null;default:return null}}var J_=!1,jo=!1,Eee=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Hp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mi(e,t,r)}else n.current=null}function rM(e,t,n){try{n()}catch(r){mi(e,t,r)}}var Az=!1;function Oee(e,t){if(BO=yw,e=HU(),UI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,f=-1,h=0,g=0,y=e,x=null;t:for(;;){for(var P;y!==n||i!==0&&y.nodeType!==3||(a=s+i),y!==o||r!==0&&y.nodeType!==3||(f=s+r),y.nodeType===3&&(s+=y.nodeValue.length),(P=y.firstChild)!==null;)x=y,y=P;for(;;){if(y===e)break t;if(x===n&&++h===i&&(a=s),x===o&&++g===r&&(f=s),(P=y.nextSibling)!==null)break;y=x,x=y.parentNode}y=P}n=a===-1||f===-1?null:{start:a,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(FO={focusedElem:e,selectionRange:n},yw=!1,Vt=t;Vt!==null;)if(t=Vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Vt=e;else for(;Vt!==null;){t=Vt;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,O=E.memoizedState,A=t.stateNode,M=A.getSnapshotBeforeUpdate(t.elementType===t.type?S:cl(t.type,S),O);A.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(N){mi(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Vt=e;break}Vt=t.return}return E=Az,Az=!1,E}function i0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&rM(t,n,o)}i=i.next}while(i!==r)}}function w2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iM(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function WV(e){var t=e.alternate;t!==null&&(e.alternate=null,WV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kl],delete t[D0],delete t[WO],delete t[dee],delete t[fee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qV(e){return e.tag===5||e.tag===3||e.tag===4}function Iz(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xw));else if(r!==4&&(e=e.child,e!==null))for(oM(e,t,n),e=e.sibling;e!==null;)oM(e,t,n),e=e.sibling}function aM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(aM(e,t,n),e=e.sibling;e!==null;)aM(e,t,n),e=e.sibling}var go=null,ul=!1;function Yu(e,t,n){for(n=n.child;n!==null;)GV(e,t,n),n=n.sibling}function GV(e,t,n){if(Ql&&typeof Ql.onCommitFiberUnmount=="function")try{Ql.onCommitFiberUnmount(p2,n)}catch{}switch(n.tag){case 5:jo||Hp(n,t);case 6:var r=go,i=ul;go=null,Yu(e,t,n),go=r,ul=i,go!==null&&(ul?(e=go,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):go.removeChild(n.stateNode));break;case 18:go!==null&&(ul?(e=go,n=n.stateNode,e.nodeType===8?bP(e.parentNode,n):e.nodeType===1&&bP(e,n),M0(e)):bP(go,n.stateNode));break;case 4:r=go,i=ul,go=n.stateNode.containerInfo,ul=!0,Yu(e,t,n),go=r,ul=i;break;case 0:case 11:case 14:case 15:if(!jo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&rM(n,t,s),i=i.next}while(i!==r)}Yu(e,t,n);break;case 1:if(!jo&&(Hp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){mi(n,t,a)}Yu(e,t,n);break;case 21:Yu(e,t,n);break;case 22:n.mode&1?(jo=(r=jo)||n.memoizedState!==null,Yu(e,t,n),jo=r):Yu(e,t,n);break;default:Yu(e,t,n)}}function $z(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Eee),t.forEach(function(r){var i=Nee.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function il(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:go=a.stateNode,ul=!1;break e;case 3:go=a.stateNode.containerInfo,ul=!0;break e;case 4:go=a.stateNode.containerInfo,ul=!0;break e}a=a.return}if(go===null)throw Error(mt(160));GV(o,s,i),go=null,ul=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(h){mi(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HV(t,e),t=t.sibling}function HV(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(il(t,e),Vl(e),r&4){try{i0(3,e,e.return),w2(3,e)}catch(S){mi(e,e.return,S)}try{i0(5,e,e.return)}catch(S){mi(e,e.return,S)}}break;case 1:il(t,e),Vl(e),r&512&&n!==null&&Hp(n,n.return);break;case 5:if(il(t,e),Vl(e),r&512&&n!==null&&Hp(n,n.return),e.flags&32){var i=e.stateNode;try{T0(i,"")}catch(S){mi(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&pU(i,o),MO(a,s);var h=MO(a,o);for(s=0;s<f.length;s+=2){var g=f[s],y=f[s+1];g==="style"?bU(i,y):g==="dangerouslySetInnerHTML"?yU(i,y):g==="children"?T0(i,y):OI(i,g,y,h)}switch(a){case"input":CO(i,o);break;case"textarea":mU(i,o);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?sm(i,!!o.multiple,P,!1):x!==!!o.multiple&&(o.defaultValue!=null?sm(i,!!o.multiple,o.defaultValue,!0):sm(i,!!o.multiple,o.multiple?[]:"",!1))}i[D0]=o}catch(S){mi(e,e.return,S)}}break;case 6:if(il(t,e),Vl(e),r&4){if(e.stateNode===null)throw Error(mt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(S){mi(e,e.return,S)}}break;case 3:if(il(t,e),Vl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{M0(t.containerInfo)}catch(S){mi(e,e.return,S)}break;case 4:il(t,e),Vl(e);break;case 13:il(t,e),Vl(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(l$=Ti())),r&4&&$z(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(jo=(h=jo)||g,il(t,e),jo=h):il(t,e),Vl(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Vt=e,g=e.child;g!==null;){for(y=Vt=g;Vt!==null;){switch(x=Vt,P=x.child,x.tag){case 0:case 11:case 14:case 15:i0(4,x,x.return);break;case 1:Hp(x,x.return);var E=x.stateNode;if(typeof E.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(S){mi(r,n,S)}}break;case 5:Hp(x,x.return);break;case 22:if(x.memoizedState!==null){Dz(y);continue}}P!==null?(P.return=x,Vt=P):Dz(y)}g=g.sibling}e:for(g=null,y=e;;){if(y.tag===5){if(g===null){g=y;try{i=y.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=y.stateNode,f=y.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,a.style.display=vU("display",s))}catch(S){mi(e,e.return,S)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(S){mi(e,e.return,S)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:il(t,e),Vl(e),r&4&&$z(e);break;case 21:break;default:il(t,e),Vl(e)}}function Vl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qV(n)){var r=n;break e}n=n.return}throw Error(mt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(T0(i,""),r.flags&=-33);var o=Iz(e);aM(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Iz(e);oM(e,a,s);break;default:throw Error(mt(161))}}catch(f){mi(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mee(e,t,n){Vt=e,YV(e)}function YV(e,t,n){for(var r=(e.mode&1)!==0;Vt!==null;){var i=Vt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||J_;if(!s){var a=i.alternate,f=a!==null&&a.memoizedState!==null||jo;a=J_;var h=jo;if(J_=s,(jo=f)&&!h)for(Vt=i;Vt!==null;)s=Vt,f=s.child,s.tag===22&&s.memoizedState!==null?Lz(i):f!==null?(f.return=s,Vt=f):Lz(i);for(;o!==null;)Vt=o,YV(o),o=o.sibling;Vt=i,J_=a,jo=h}Rz(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Vt=o):Rz(e)}}function Rz(e){for(;Vt!==null;){var t=Vt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jo||w2(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jo)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:cl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&yz(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yz(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&M0(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}jo||t.flags&512&&iM(t)}catch(x){mi(t,t.return,x)}}if(t===e){Vt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Vt=n;break}Vt=t.return}}function Dz(e){for(;Vt!==null;){var t=Vt;if(t===e){Vt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Vt=n;break}Vt=t.return}}function Lz(e){for(;Vt!==null;){var t=Vt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{w2(4,t)}catch(f){mi(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(f){mi(t,i,f)}}var o=t.return;try{iM(t)}catch(f){mi(t,o,f)}break;case 5:var s=t.return;try{iM(t)}catch(f){mi(t,s,f)}}}catch(f){mi(t,t.return,f)}if(t===e){Vt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Vt=a;break}Vt=t.return}}var Aee=Math.ceil,Aw=vu.ReactCurrentDispatcher,a$=vu.ReactCurrentOwner,Ms=vu.ReactCurrentBatchConfig,Zn=0,ro=null,$i=null,xo=0,Ua=0,Yp=qd(0),Vi=0,F0=null,uh=0,S2=0,s$=0,o0=null,wa=null,l$=0,$m=1/0,Nc=null,Iw=!1,sM=null,Cd=null,Q_=!1,hd=null,$w=0,a0=0,lM=null,G1=-1,H1=0;function aa(){return Zn&6?Ti():G1!==-1?G1:G1=Ti()}function Td(e){return e.mode&1?Zn&2&&xo!==0?xo&-xo:pee.transition!==null?(H1===0&&(H1=AU()),H1):(e=pr,e!==0||(e=window.event,e=e===void 0?16:NU(e.type)),e):1}function Tl(e,t,n,r){if(50<a0)throw a0=0,lM=null,Error(mt(185));Hb(e,n,r),(!(Zn&2)||e!==ro)&&(e===ro&&(!(Zn&2)&&(S2|=n),Vi===4&&ud(e,xo)),Oa(e,r),n===1&&Zn===0&&!(t.mode&1)&&($m=Ti()+500,b2&&Gd()))}function Oa(e,t){var n=e.callbackNode;pQ(e,t);var r=gw(e,e===ro?xo:0);if(r===0)n!==null&&qN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qN(n),t===1)e.tag===0?hee(jz.bind(null,e)):rV(jz.bind(null,e)),cee(function(){!(Zn&6)&&Gd()}),n=null;else{switch(IU(r)){case 1:n=RI;break;case 4:n=OU;break;case 16:n=mw;break;case 536870912:n=MU;break;default:n=mw}n=nW(n,KV.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function KV(e,t){if(G1=-1,H1=0,Zn&6)throw Error(mt(327));var n=e.callbackNode;if(fm()&&e.callbackNode!==n)return null;var r=gw(e,e===ro?xo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rw(e,r);else{t=r;var i=Zn;Zn|=2;var o=XV();(ro!==e||xo!==t)&&(Nc=null,$m=Ti()+500,Zf(e,t));do try{Ree();break}catch(a){ZV(e,a)}while(!0);HI(),Aw.current=o,Zn=i,$i!==null?t=0:(ro=null,xo=0,t=Vi)}if(t!==0){if(t===2&&(i=DO(e),i!==0&&(r=i,t=cM(e,i))),t===1)throw n=F0,Zf(e,0),ud(e,r),Oa(e,Ti()),n;if(t===6)ud(e,r);else{if(i=e.current.alternate,!(r&30)&&!Iee(i)&&(t=Rw(e,r),t===2&&(o=DO(e),o!==0&&(r=o,t=cM(e,o))),t===1))throw n=F0,Zf(e,0),ud(e,r),Oa(e,Ti()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(mt(345));case 2:Ef(e,wa,Nc);break;case 3:if(ud(e,r),(r&130023424)===r&&(t=l$+500-Ti(),10<t)){if(gw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){aa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=VO(Ef.bind(null,e,wa,Nc),t);break}Ef(e,wa,Nc);break;case 4:if(ud(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Cl(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ti()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Aee(r/1960))-r,10<r){e.timeoutHandle=VO(Ef.bind(null,e,wa,Nc),r);break}Ef(e,wa,Nc);break;case 5:Ef(e,wa,Nc);break;default:throw Error(mt(329))}}}return Oa(e,Ti()),e.callbackNode===n?KV.bind(null,e):null}function cM(e,t){var n=o0;return e.current.memoizedState.isDehydrated&&(Zf(e,t).flags|=256),e=Rw(e,t),e!==2&&(t=wa,wa=n,t!==null&&uM(t)),e}function uM(e){wa===null?wa=e:wa.push.apply(wa,e)}function Iee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Pl(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ud(e,t){for(t&=~s$,t&=~S2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cl(t),r=1<<n;e[n]=-1,t&=~r}}function jz(e){if(Zn&6)throw Error(mt(327));fm();var t=gw(e,0);if(!(t&1))return Oa(e,Ti()),null;var n=Rw(e,t);if(e.tag!==0&&n===2){var r=DO(e);r!==0&&(t=r,n=cM(e,r))}if(n===1)throw n=F0,Zf(e,0),ud(e,t),Oa(e,Ti()),n;if(n===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ef(e,wa,Nc),Oa(e,Ti()),null}function c$(e,t){var n=Zn;Zn|=1;try{return e(t)}finally{Zn=n,Zn===0&&($m=Ti()+500,b2&&Gd())}}function dh(e){hd!==null&&hd.tag===0&&!(Zn&6)&&fm();var t=Zn;Zn|=1;var n=Ms.transition,r=pr;try{if(Ms.transition=null,pr=1,e)return e()}finally{pr=r,Ms.transition=n,Zn=t,!(Zn&6)&&Gd()}}function u$(){Ua=Yp.current,Vr(Yp)}function Zf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lee(n)),$i!==null)for(n=$i.return;n!==null;){var r=n;switch(WI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_w();break;case 3:Am(),Vr(Pa),Vr(Fo),QI();break;case 5:JI(r);break;case 4:Am();break;case 13:Vr(oi);break;case 19:Vr(oi);break;case 10:YI(r.type._context);break;case 22:case 23:u$()}n=n.return}if(ro=e,$i=e=Pd(e.current,null),xo=Ua=t,Vi=0,F0=null,s$=S2=uh=0,wa=o0=null,Bf!==null){for(t=0;t<Bf.length;t++)if(n=Bf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Bf=null}return e}function ZV(e,t){do{var n=$i;try{if(HI(),V1.current=Mw,Ow){for(var r=si.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ow=!1}if(ch=0,no=Ui=si=null,r0=!1,N0=0,a$.current=null,n===null||n.return===null){Vi=1,F0=t,$i=null;break}e:{var o=e,s=n.return,a=n,f=t;if(t=xo,a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,g=a,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var P=kz(s);if(P!==null){P.flags&=-257,Cz(P,s,a,o,t),P.mode&1&&Sz(o,h,t),t=P,f=h;var E=t.updateQueue;if(E===null){var S=new Set;S.add(f),t.updateQueue=S}else E.add(f);break e}else{if(!(t&1)){Sz(o,h,t),d$();break e}f=Error(mt(426))}}else if(Qr&&a.mode&1){var O=kz(s);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Cz(O,s,a,o,t),qI(Im(f,a));break e}}o=f=Im(f,a),Vi!==4&&(Vi=2),o0===null?o0=[o]:o0.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var A=$V(o,f,t);gz(o,A);break e;case 1:a=f;var M=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof M.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Cd===null||!Cd.has(I)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=RV(o,a,t);gz(o,N);break e}}o=o.return}while(o!==null)}QV(n)}catch($){t=$,$i===n&&n!==null&&($i=n=n.return);continue}break}while(!0)}function XV(){var e=Aw.current;return Aw.current=Mw,e===null?Mw:e}function d$(){(Vi===0||Vi===3||Vi===2)&&(Vi=4),ro===null||!(uh&268435455)&&!(S2&268435455)||ud(ro,xo)}function Rw(e,t){var n=Zn;Zn|=2;var r=XV();(ro!==e||xo!==t)&&(Nc=null,Zf(e,t));do try{$ee();break}catch(i){ZV(e,i)}while(!0);if(HI(),Zn=n,Aw.current=r,$i!==null)throw Error(mt(261));return ro=null,xo=0,Vi}function $ee(){for(;$i!==null;)JV($i)}function Ree(){for(;$i!==null&&!oQ();)JV($i)}function JV(e){var t=tW(e.alternate,e,Ua);e.memoizedProps=e.pendingProps,t===null?QV(e):$i=t,a$.current=null}function QV(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Pee(n,t),n!==null){n.flags&=32767,$i=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vi=6,$i=null;return}}else if(n=Tee(n,t,Ua),n!==null){$i=n;return}if(t=t.sibling,t!==null){$i=t;return}$i=t=e}while(t!==null);Vi===0&&(Vi=5)}function Ef(e,t,n){var r=pr,i=Ms.transition;try{Ms.transition=null,pr=1,Dee(e,t,n,r)}finally{Ms.transition=i,pr=r}return null}function Dee(e,t,n,r){do fm();while(hd!==null);if(Zn&6)throw Error(mt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mQ(e,o),e===ro&&($i=ro=null,xo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Q_||(Q_=!0,nW(mw,function(){return fm(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ms.transition,Ms.transition=null;var s=pr;pr=1;var a=Zn;Zn|=4,a$.current=null,Oee(e,n),HV(n,e),tee(FO),yw=!!BO,FO=BO=null,e.current=n,Mee(n),aQ(),Zn=a,pr=s,Ms.transition=o}else e.current=n;if(Q_&&(Q_=!1,hd=e,$w=i),o=e.pendingLanes,o===0&&(Cd=null),cQ(n.stateNode),Oa(e,Ti()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Iw)throw Iw=!1,e=sM,sM=null,e;return $w&1&&e.tag!==0&&fm(),o=e.pendingLanes,o&1?e===lM?a0++:(a0=0,lM=e):a0=0,Gd(),null}function fm(){if(hd!==null){var e=IU($w),t=Ms.transition,n=pr;try{if(Ms.transition=null,pr=16>e?16:e,hd===null)var r=!1;else{if(e=hd,hd=null,$w=0,Zn&6)throw Error(mt(331));var i=Zn;for(Zn|=4,Vt=e.current;Vt!==null;){var o=Vt,s=o.child;if(Vt.flags&16){var a=o.deletions;if(a!==null){for(var f=0;f<a.length;f++){var h=a[f];for(Vt=h;Vt!==null;){var g=Vt;switch(g.tag){case 0:case 11:case 15:i0(8,g,o)}var y=g.child;if(y!==null)y.return=g,Vt=y;else for(;Vt!==null;){g=Vt;var x=g.sibling,P=g.return;if(WV(g),g===h){Vt=null;break}if(x!==null){x.return=P,Vt=x;break}Vt=P}}}var E=o.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var O=S.sibling;S.sibling=null,S=O}while(S!==null)}}Vt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Vt=s;else e:for(;Vt!==null;){if(o=Vt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:i0(9,o,o.return)}var A=o.sibling;if(A!==null){A.return=o.return,Vt=A;break e}Vt=o.return}}var M=e.current;for(Vt=M;Vt!==null;){s=Vt;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,Vt=I;else e:for(s=M;Vt!==null;){if(a=Vt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:w2(9,a)}}catch($){mi(a,a.return,$)}if(a===s){Vt=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Vt=N;break e}Vt=a.return}}if(Zn=i,Gd(),Ql&&typeof Ql.onPostCommitFiberRoot=="function")try{Ql.onPostCommitFiberRoot(p2,e)}catch{}r=!0}return r}finally{pr=n,Ms.transition=t}}return!1}function Nz(e,t,n){t=Im(n,t),t=$V(e,t,1),e=kd(e,t,1),t=aa(),e!==null&&(Hb(e,1,t),Oa(e,t))}function mi(e,t,n){if(e.tag===3)Nz(e,e,n);else for(;t!==null;){if(t.tag===3){Nz(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cd===null||!Cd.has(r))){e=Im(n,e),e=RV(t,e,1),t=kd(t,e,1),e=aa(),t!==null&&(Hb(t,1,e),Oa(t,e));break}}t=t.return}}function Lee(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=aa(),e.pingedLanes|=e.suspendedLanes&n,ro===e&&(xo&n)===n&&(Vi===4||Vi===3&&(xo&130023424)===xo&&500>Ti()-l$?Zf(e,0):s$|=n),Oa(e,t)}function eW(e,t){t===0&&(e.mode&1?(t=V_,V_<<=1,!(V_&130023424)&&(V_=4194304)):t=1);var n=aa();e=au(e,t),e!==null&&(Hb(e,t,n),Oa(e,n))}function jee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eW(e,n)}function Nee(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(mt(314))}r!==null&&r.delete(t),eW(e,n)}var tW;tW=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pa.current)Ca=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ca=!1,Cee(e,t,n);Ca=!!(e.flags&131072)}else Ca=!1,Qr&&t.flags&1048576&&iV(t,kw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;q1(e,t),e=t.pendingProps;var i=Em(t,Fo.current);dm(t,n),i=t$(null,t,r,e,i,n);var o=n$();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ea(r)?(o=!0,ww(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ZI(t),i.updater=x2,t.stateNode=i,i._reactInternals=t,ZO(t,r,e,n),t=QO(null,t,r,!0,o,n)):(t.tag=0,Qr&&o&&VI(t),ra(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(q1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Bee(r),e=cl(r,e),i){case 0:t=JO(null,t,r,e,n);break e;case 1:t=Ez(null,t,r,e,n);break e;case 11:t=Tz(null,t,r,e,n);break e;case 14:t=Pz(null,t,r,cl(r.type,e),n);break e}throw Error(mt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cl(r,i),JO(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cl(r,i),Ez(e,t,r,i,n);case 3:e:{if(NV(t),e===null)throw Error(mt(387));r=t.pendingProps,o=t.memoizedState,i=o.element,lV(e,t),Pw(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Im(Error(mt(423)),t),t=Oz(e,t,r,n,i);break e}else if(r!==i){i=Im(Error(mt(424)),t),t=Oz(e,t,r,n,i);break e}else for(Ha=Sd(t.stateNode.containerInfo.firstChild),Ya=t,Qr=!0,hl=null,n=fV(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Om(),r===i){t=su(e,t,n);break e}ra(e,t,r,n)}t=t.child}return t;case 5:return hV(t),e===null&&HO(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,UO(r,i)?s=null:o!==null&&UO(r,o)&&(t.flags|=32),jV(e,t),ra(e,t,s,n),t.child;case 6:return e===null&&HO(t),null;case 13:return zV(e,t,n);case 4:return XI(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mm(t,null,r,n):ra(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cl(r,i),Tz(e,t,r,i,n);case 7:return ra(e,t,t.pendingProps,n),t.child;case 8:return ra(e,t,t.pendingProps.children,n),t.child;case 12:return ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Dr(Cw,r._currentValue),r._currentValue=s,o!==null)if(Pl(o.value,s)){if(o.children===i.children&&!Pa.current){t=su(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var f=a.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=Jc(-1,n&-n),f.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?f.next=f:(f.next=g.next,g.next=f),h.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),YO(o.return,n,t),a.lanes|=n;break}f=f.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(mt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),YO(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ra(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,dm(t,n),i=Ls(i),r=r(i),t.flags|=1,ra(e,t,r,n),t.child;case 14:return r=t.type,i=cl(r,t.pendingProps),i=cl(r.type,i),Pz(e,t,r,i,n);case 15:return DV(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cl(r,i),q1(e,t),t.tag=1,Ea(r)?(e=!0,ww(t)):e=!1,dm(t,n),uV(t,r,i),ZO(t,r,i,n),QO(null,t,r,!0,e,n);case 19:return BV(e,t,n);case 22:return LV(e,t,n)}throw Error(mt(156,t.tag))};function nW(e,t){return EU(e,t)}function zee(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(e,t,n,r){return new zee(e,t,n,r)}function f$(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bee(e){if(typeof e=="function")return f$(e)?1:0;if(e!=null){if(e=e.$$typeof,e===AI)return 11;if(e===II)return 14}return 2}function Pd(e,t){var n=e.alternate;return n===null?(n=Ts(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Y1(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")f$(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Np:return Xf(n.children,i,o,t);case MI:s=8,i|=8;break;case xO:return e=Ts(12,n,t,i|2),e.elementType=xO,e.lanes=o,e;case _O:return e=Ts(13,n,t,i),e.elementType=_O,e.lanes=o,e;case wO:return e=Ts(19,n,t,i),e.elementType=wO,e.lanes=o,e;case dU:return k2(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cU:s=10;break e;case uU:s=9;break e;case AI:s=11;break e;case II:s=14;break e;case ad:s=16,r=null;break e}throw Error(mt(130,e==null?e:typeof e,""))}return t=Ts(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Xf(e,t,n,r){return e=Ts(7,e,r,t),e.lanes=n,e}function k2(e,t,n,r){return e=Ts(22,e,r,t),e.elementType=dU,e.lanes=n,e.stateNode={isHidden:!1},e}function PP(e,t,n){return e=Ts(6,e,null,t),e.lanes=n,e}function EP(e,t,n){return t=Ts(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fee(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lP(0),this.expirationTimes=lP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function h$(e,t,n,r,i,o,s,a,f){return e=new Fee(e,t,n,a,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ts(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZI(o),e}function Uee(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rW(e){if(!e)return Ld;e=e._reactInternals;e:{if(kh(e)!==e||e.tag!==1)throw Error(mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ea(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(mt(171))}if(e.tag===1){var n=e.type;if(Ea(n))return nV(e,n,t)}return t}function iW(e,t,n,r,i,o,s,a,f){return e=h$(n,r,!0,e,i,o,s,a,f),e.context=rW(null),n=e.current,r=aa(),i=Td(n),o=Jc(r,i),o.callback=t??null,kd(n,o,i),e.current.lanes=i,Hb(e,i,r),Oa(e,r),e}function C2(e,t,n,r){var i=t.current,o=aa(),s=Td(i);return n=rW(n),t.context===null?t.context=n:t.pendingContext=n,t=Jc(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kd(i,t,s),e!==null&&(Tl(e,i,s,o),U1(e,i,s)),s}function Dw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zz(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function p$(e,t){zz(e,t),(e=e.alternate)&&zz(e,t)}function Vee(){return null}var oW=typeof reportError=="function"?reportError:function(e){console.error(e)};function m$(e){this._internalRoot=e}T2.prototype.render=m$.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(mt(409));C2(e,t,null,null)};T2.prototype.unmount=m$.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dh(function(){C2(null,e,null,null)}),t[ou]=null}};function T2(e){this._internalRoot=e}T2.prototype.unstable_scheduleHydration=function(e){if(e){var t=DU();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cd.length&&t!==0&&t<cd[n].priority;n++);cd.splice(n,0,e),n===0&&jU(e)}};function g$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function P2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bz(){}function Wee(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Dw(s);o.call(h)}}var s=iW(t,r,e,0,null,!1,!1,"",Bz);return e._reactRootContainer=s,e[ou]=s.current,$0(e.nodeType===8?e.parentNode:e),dh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=Dw(f);a.call(h)}}var f=h$(e,0,!1,null,null,!1,!1,"",Bz);return e._reactRootContainer=f,e[ou]=f.current,$0(e.nodeType===8?e.parentNode:e),dh(function(){C2(t,f,n,r)}),f}function E2(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var f=Dw(s);a.call(f)}}C2(t,s,e,i)}else s=Wee(n,t,e,i,r);return Dw(s)}$U=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fv(t.pendingLanes);n!==0&&(DI(t,n|1),Oa(t,Ti()),!(Zn&6)&&($m=Ti()+500,Gd()))}break;case 13:dh(function(){var r=au(e,1);if(r!==null){var i=aa();Tl(r,e,1,i)}}),p$(e,1)}};LI=function(e){if(e.tag===13){var t=au(e,134217728);if(t!==null){var n=aa();Tl(t,e,134217728,n)}p$(e,134217728)}};RU=function(e){if(e.tag===13){var t=Td(e),n=au(e,t);if(n!==null){var r=aa();Tl(n,e,t,r)}p$(e,t)}};DU=function(){return pr};LU=function(e,t){var n=pr;try{return pr=e,t()}finally{pr=n}};IO=function(e,t,n){switch(t){case"input":if(CO(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=v2(r);if(!i)throw Error(mt(90));hU(r),CO(r,i)}}}break;case"textarea":mU(e,n);break;case"select":t=n.value,t!=null&&sm(e,!!n.multiple,t,!1)}};wU=c$;SU=dh;var qee={usingClientEntryPoint:!1,Events:[Kb,Up,v2,xU,_U,c$]},sv={findFiberByHostInstance:zf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Gee={bundleType:sv.bundleType,version:sv.version,rendererPackageName:sv.rendererPackageName,rendererConfig:sv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=TU(e),e===null?null:e.stateNode},findFiberByHostInstance:sv.findFiberByHostInstance||Vee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e1.isDisabled&&e1.supportsFiber)try{p2=e1.inject(Gee),Ql=e1}catch{}}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qee;ns.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g$(t))throw Error(mt(200));return Uee(e,t,null,n)};ns.createRoot=function(e,t){if(!g$(e))throw Error(mt(299));var n=!1,r="",i=oW;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=h$(e,1,!1,null,null,n,!1,r,i),e[ou]=t.current,$0(e.nodeType===8?e.parentNode:e),new m$(t)};ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(mt(188)):(e=Object.keys(e).join(","),Error(mt(268,e)));return e=TU(t),e=e===null?null:e.stateNode,e};ns.flushSync=function(e){return dh(e)};ns.hydrate=function(e,t,n){if(!P2(t))throw Error(mt(200));return E2(null,e,t,!0,n)};ns.hydrateRoot=function(e,t,n){if(!g$(e))throw Error(mt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=oW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=iW(t,null,e,1,n??null,i,!1,o,s),e[ou]=t.current,$0(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new T2(t)};ns.render=function(e,t,n){if(!P2(t))throw Error(mt(200));return E2(null,e,t,!1,n)};ns.unmountComponentAtNode=function(e){if(!P2(e))throw Error(mt(40));return e._reactRootContainer?(dh(function(){E2(null,null,e,!1,function(){e._reactRootContainer=null,e[ou]=null})}),!0):!1};ns.unstable_batchedUpdates=c$;ns.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!P2(n))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return E2(e,t,n,!1,r)};ns.version="18.2.0-next-9e3b772b8-20220608";function aW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aW)}catch(e){console.error(e)}}aW(),iU.exports=ns;var bu=iU.exports;const t1=mr(bu);var sW,Fz=bu;sW=Fz.createRoot,Fz.hydrateRoot;/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(this,arguments)}var pd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pd||(pd={}));const Uz="popstate";function Hee(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return dM("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:lW(i)}return Kee(t,n,null,e)}function Gi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function y$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yee(){return Math.random().toString(36).substr(2,8)}function Vz(e,t){return{usr:e.state,key:e.key,idx:t}}function dM(e,t,n,r){return n===void 0&&(n=null),U0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vg(t):t,{state:n,key:t&&t.key||r||Yee()})}function lW(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function vg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Kee(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=pd.Pop,f=null,h=g();h==null&&(h=0,s.replaceState(U0({},s.state,{idx:h}),""));function g(){return(s.state||{idx:null}).idx}function y(){a=pd.Pop;let O=g(),A=O==null?null:O-h;h=O,f&&f({action:a,location:S.location,delta:A})}function x(O,A){a=pd.Push;let M=dM(S.location,O,A);n&&n(M,O),h=g()+1;let I=Vz(M,h),N=S.createHref(M);try{s.pushState(I,"",N)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(N)}o&&f&&f({action:a,location:S.location,delta:1})}function P(O,A){a=pd.Replace;let M=dM(S.location,O,A);n&&n(M,O),h=g();let I=Vz(M,h),N=S.createHref(M);s.replaceState(I,"",N),o&&f&&f({action:a,location:S.location,delta:0})}function E(O){let A=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof O=="string"?O:lW(O);return Gi(A,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,A)}let S={get action(){return a},get location(){return e(i,s)},listen(O){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Uz,y),f=O,()=>{i.removeEventListener(Uz,y),f=null}},createHref(O){return t(i,O)},createURL:E,encodeLocation(O){let A=E(O);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:P,go(O){return s.go(O)}};return S}var Wz;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wz||(Wz={}));function Zee(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?vg(t):t,i=dW(r.pathname||"/",n);if(i==null)return null;let o=cW(e);Xee(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=ate(o[a],cte(i));return s}function cW(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let f={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};f.relativePath.startsWith("/")&&(Gi(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=Jf([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Gi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),cW(o.children,t,g,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:ite(h,o.index),routesMeta:g})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let f of uW(o.path))i(o,s,f)}),t}function uW(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=uW(r.join("/")),a=[];return a.push(...s.map(f=>f===""?o:[o,f].join("/"))),i&&a.push(...s),a.map(f=>e.startsWith("/")&&f===""?"/":f)}function Xee(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ote(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Jee=/^:\w+$/,Qee=3,ete=2,tte=1,nte=10,rte=-2,qz=e=>e==="*";function ite(e,t){let n=e.split("/"),r=n.length;return n.some(qz)&&(r+=rte),t&&(r+=ete),n.filter(i=>!qz(i)).reduce((i,o)=>i+(Jee.test(o)?Qee:o===""?tte:nte),r)}function ote(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function ate(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],f=s===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=ste({path:a.relativePath,caseSensitive:a.caseSensitive,end:f},h);if(!g)return null;Object.assign(r,g.params);let y=a.route;o.push({params:r,pathname:Jf([i,g.pathname]),pathnameBase:gte(Jf([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Jf([i,g.pathnameBase]))}return o}function ste(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=lte(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,g,y)=>{let{paramName:x,isOptional:P}=g;if(x==="*"){let S=a[y]||"";s=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const E=a[y];return P&&!E?h[x]=void 0:h[x]=ute(E||"",x),h},{}),pathname:o,pathnameBase:s,pattern:e}}function lte(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),y$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,f)=>(r.push({paramName:a,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function cte(e){try{return decodeURI(e)}catch(t){return y$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ute(e,t){try{return decodeURIComponent(e)}catch(n){return y$(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function dW(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dte(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?vg(e):e;return{pathname:n?n.startsWith("/")?n:fte(n,t):t,search:yte(r),hash:vte(i)}}function fte(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function OP(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hte(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pte(e,t){let n=hte(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mte(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=vg(e):(i=U0({},e),Gi(!i.pathname||!i.pathname.includes("?"),OP("?","pathname","search",i)),Gi(!i.pathname||!i.pathname.includes("#"),OP("#","pathname","hash",i)),Gi(!i.search||!i.search.includes("#"),OP("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else if(r){let y=t.length===0?[]:t[t.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){let x=s.split("/");for(;x[0]==="..";)x.shift(),y.pop();i.pathname=x.join("/")}a="/"+y.join("/")}else{let y=t.length-1;if(s.startsWith("..")){let x=s.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}a=y>=0?t[y]:"/"}let f=dte(i,a),h=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}const Jf=e=>e.join("/").replace(/\/\/+/g,"/"),gte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fW=["post","put","patch","delete"];new Set(fW);const xte=["get",...fW];new Set(xte);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V0.apply(this,arguments)}const v$=V.createContext(null),_te=V.createContext(null),O2=V.createContext(null),M2=V.createContext(null),Hd=V.createContext({outlet:null,matches:[],isDataRoute:!1}),hW=V.createContext(null);function A2(){return V.useContext(M2)!=null}function I2(){return A2()||Gi(!1),V.useContext(M2).location}function pW(e){V.useContext(O2).static||V.useLayoutEffect(e)}function bg(){let{isDataRoute:e}=V.useContext(Hd);return e?jte():wte()}function wte(){A2()||Gi(!1);let e=V.useContext(v$),{basename:t,future:n,navigator:r}=V.useContext(O2),{matches:i}=V.useContext(Hd),{pathname:o}=I2(),s=JSON.stringify(pte(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return pW(()=>{a.current=!0}),V.useCallback(function(h,g){if(g===void 0&&(g={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let y=mte(h,JSON.parse(s),o,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Jf([t,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[t,r,s,o,e])}const Ste=V.createContext(null);function kte(e){let t=V.useContext(Hd).outlet;return t&&V.createElement(Ste.Provider,{value:e},t)}function Cte(){let{matches:e}=V.useContext(Hd),t=e[e.length-1];return t?t.params:{}}function Tte(e,t){return Pte(e,t)}function Pte(e,t,n,r){A2()||Gi(!1);let{navigator:i}=V.useContext(O2),{matches:o}=V.useContext(Hd),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let f=s?s.pathnameBase:"/";s&&s.route;let h=I2(),g;if(t){var y;let O=typeof t=="string"?vg(t):t;f==="/"||(y=O.pathname)!=null&&y.startsWith(f)||Gi(!1),g=O}else g=h;let x=g.pathname||"/",P=f==="/"?x:x.slice(f.length)||"/",E=Zee(e,{pathname:P}),S=Ite(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},a,O.params),pathname:Jf([f,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?f:Jf([f,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),o,n,r);return t&&S?V.createElement(M2.Provider,{value:{location:V0({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:pd.Pop}},S):S}function Ete(){let e=Lte(),t=bte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:i},n):null,o)}const Ote=V.createElement(Ete,null);class Mte extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?V.createElement(Hd.Provider,{value:this.props.routeContext},V.createElement(hW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ate(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(v$);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Hd.Provider,{value:t},r)}function Ite(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let g=s.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id]));g>=0||Gi(!1),s=s.slice(0,Math.min(s.length,g+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<s.length;g++){let y=s[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.loader&&y.route.id&&n.loaderData[y.route.id]===void 0&&(!n.errors||n.errors[y.route.id]===void 0)){f=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}return s.reduceRight((g,y,x)=>{let P,E=!1,S=null,O=null;n&&(P=a&&y.route.id?a[y.route.id]:void 0,S=y.route.errorElement||Ote,f&&(h<0&&x===0?(Nte("route-fallback",!1),E=!0,O=null):h===x&&(E=!0,O=y.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,x+1)),M=()=>{let I;return P?I=S:E?I=O:y.route.Component?I=V.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=g,V.createElement(Ate,{match:y,routeContext:{outlet:g,matches:A,isDataRoute:n!=null},children:I})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?V.createElement(Mte,{location:n.location,revalidation:n.revalidation,component:S,error:P,children:M(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):M()},null)}var mW=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mW||{}),Lw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lw||{});function $te(e){let t=V.useContext(v$);return t||Gi(!1),t}function Rte(e){let t=V.useContext(_te);return t||Gi(!1),t}function Dte(e){let t=V.useContext(Hd);return t||Gi(!1),t}function gW(e){let t=Dte(),n=t.matches[t.matches.length-1];return n.route.id||Gi(!1),n.route.id}function Lte(){var e;let t=V.useContext(hW),n=Rte(Lw.UseRouteError),r=gW(Lw.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function jte(){let{router:e}=$te(mW.UseNavigateStable),t=gW(Lw.UseNavigateStable),n=V.useRef(!1);return pW(()=>{n.current=!0}),V.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,V0({fromRouteId:t},o)))},[e,t])}const Gz={};function Nte(e,t,n){!t&&!Gz[e]&&(Gz[e]=!0)}function zte(e){return kte(e.context)}function al(e){Gi(!1)}function Bte(e){let{basename:t="/",children:n=null,location:r,navigationType:i=pd.Pop,navigator:o,static:s=!1,future:a}=e;A2()&&Gi(!1);let f=t.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:f,navigator:o,static:s,future:V0({v7_relativeSplatPath:!1},a)}),[f,a,o,s]);typeof r=="string"&&(r=vg(r));let{pathname:g="/",search:y="",hash:x="",state:P=null,key:E="default"}=r,S=V.useMemo(()=>{let O=dW(g,f);return O==null?null:{location:{pathname:O,search:y,hash:x,state:P,key:E},navigationType:i}},[f,g,y,x,P,E,i]);return S==null?null:V.createElement(O2.Provider,{value:h},V.createElement(M2.Provider,{children:n,value:S}))}function Fte(e){let{children:t,location:n}=e;return Tte(fM(t),n)}new Promise(()=>{});function fM(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,i)=>{if(!V.isValidElement(r))return;let o=[...t,i];if(r.type===V.Fragment){n.push.apply(n,fM(r.props.children,o));return}r.type!==al&&Gi(!1),!r.props.index||!r.props.children||Gi(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=fM(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ute="startTransition",Hz=dw[Ute];function Vte(e){let{basename:t,children:n,future:r,window:i}=e,o=V.useRef();o.current==null&&(o.current=Hee({window:i,v5Compat:!0}));let s=o.current,[a,f]=V.useState({action:s.action,location:s.location}),{v7_startTransition:h}=r||{},g=V.useCallback(y=>{h&&Hz?Hz(()=>f(y)):f(y)},[f,h]);return V.useLayoutEffect(()=>s.listen(g),[s,g]),V.createElement(Bte,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Yz;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yz||(Yz={}));var Kz;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Kz||(Kz={}));var yW={exports:{}},vW={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=V;function Wte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qte=typeof Object.is=="function"?Object.is:Wte,Gte=Rm.useState,Hte=Rm.useEffect,Yte=Rm.useLayoutEffect,Kte=Rm.useDebugValue;function Zte(e,t){var n=t(),r=Gte({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Yte(function(){i.value=n,i.getSnapshot=t,MP(i)&&o({inst:i})},[e,n,t]),Hte(function(){return MP(i)&&o({inst:i}),e(function(){MP(i)&&o({inst:i})})},[e]),Kte(n),n}function MP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qte(e,n)}catch{return!0}}function Xte(e,t){return t()}var Jte=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xte:Zte;vW.useSyncExternalStore=Rm.useSyncExternalStore!==void 0?Rm.useSyncExternalStore:Jte;yW.exports=vW;var bW=yW.exports,xW={exports:{}},_W={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=V,Qte=bW;function ene(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tne=typeof Object.is=="function"?Object.is:ene,nne=Qte.useSyncExternalStore,rne=$2.useRef,ine=$2.useEffect,one=$2.useMemo,ane=$2.useDebugValue;_W.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=rne(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=one(function(){function f(P){if(!h){if(h=!0,g=P,P=r(P),i!==void 0&&s.hasValue){var E=s.value;if(i(E,P))return y=E}return y=P}if(E=y,tne(g,P))return E;var S=r(P);return i!==void 0&&i(E,S)?E:(g=P,y=S)}var h=!1,g,y,x=n===void 0?null:n;return[function(){return f(t())},x===null?void 0:function(){return f(x())}]},[t,n,r,i]);var a=nne(e,o[0],o[1]);return ine(function(){s.hasValue=!0,s.value=a},[a]),ane(a),a};xW.exports=_W;var sne=xW.exports;function lne(e){e()}let wW=lne;const cne=e=>wW=e,une=()=>wW,Zz=Symbol.for("react-redux-context"),Xz=typeof globalThis<"u"?globalThis:{};function dne(){var e;if(!V.createContext)return{};const t=(e=Xz[Zz])!=null?e:Xz[Zz]=new Map;let n=t.get(V.createContext);return n||(n=V.createContext(null),t.set(V.createContext,n)),n}const lu=dne();function b$(e=lu){return function(){return V.useContext(e)}}const SW=b$(),kW=()=>{throw new Error("uSES not initialized!")};let CW=kW;const fne=e=>{CW=e},hne=(e,t)=>e===t;function pne(e=lu){const t=e===lu?SW:b$(e);return function(r,i={}){const{equalityFn:o=hne,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:f,subscription:h,getServerState:g,stabilityCheck:y,noopCheck:x}=t();V.useRef(!0);const P=V.useCallback({[r.name](S){return r(S)}}[r.name],[r,y,s]),E=CW(h.addNestedSub,f.getState,g||f.getState,P,o);return V.useDebugValue(E),E}}const On=pne();function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function yt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var TW={exports:{}},gr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=typeof Symbol=="function"&&Symbol.for,x$=oo?Symbol.for("react.element"):60103,_$=oo?Symbol.for("react.portal"):60106,R2=oo?Symbol.for("react.fragment"):60107,D2=oo?Symbol.for("react.strict_mode"):60108,L2=oo?Symbol.for("react.profiler"):60114,j2=oo?Symbol.for("react.provider"):60109,N2=oo?Symbol.for("react.context"):60110,w$=oo?Symbol.for("react.async_mode"):60111,z2=oo?Symbol.for("react.concurrent_mode"):60111,B2=oo?Symbol.for("react.forward_ref"):60112,F2=oo?Symbol.for("react.suspense"):60113,mne=oo?Symbol.for("react.suspense_list"):60120,U2=oo?Symbol.for("react.memo"):60115,V2=oo?Symbol.for("react.lazy"):60116,gne=oo?Symbol.for("react.block"):60121,yne=oo?Symbol.for("react.fundamental"):60117,vne=oo?Symbol.for("react.responder"):60118,bne=oo?Symbol.for("react.scope"):60119;function is(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case x$:switch(e=e.type,e){case w$:case z2:case R2:case L2:case D2:case F2:return e;default:switch(e=e&&e.$$typeof,e){case N2:case B2:case V2:case U2:case j2:return e;default:return t}}case _$:return t}}}function PW(e){return is(e)===z2}gr.AsyncMode=w$;gr.ConcurrentMode=z2;gr.ContextConsumer=N2;gr.ContextProvider=j2;gr.Element=x$;gr.ForwardRef=B2;gr.Fragment=R2;gr.Lazy=V2;gr.Memo=U2;gr.Portal=_$;gr.Profiler=L2;gr.StrictMode=D2;gr.Suspense=F2;gr.isAsyncMode=function(e){return PW(e)||is(e)===w$};gr.isConcurrentMode=PW;gr.isContextConsumer=function(e){return is(e)===N2};gr.isContextProvider=function(e){return is(e)===j2};gr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===x$};gr.isForwardRef=function(e){return is(e)===B2};gr.isFragment=function(e){return is(e)===R2};gr.isLazy=function(e){return is(e)===V2};gr.isMemo=function(e){return is(e)===U2};gr.isPortal=function(e){return is(e)===_$};gr.isProfiler=function(e){return is(e)===L2};gr.isStrictMode=function(e){return is(e)===D2};gr.isSuspense=function(e){return is(e)===F2};gr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===R2||e===z2||e===L2||e===D2||e===F2||e===mne||typeof e=="object"&&e!==null&&(e.$$typeof===V2||e.$$typeof===U2||e.$$typeof===j2||e.$$typeof===N2||e.$$typeof===B2||e.$$typeof===yne||e.$$typeof===vne||e.$$typeof===bne||e.$$typeof===gne)};gr.typeOf=is;TW.exports=gr;var xne=TW.exports,S$=xne,_ne={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},wne={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Sne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},EW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},k$={};k$[S$.ForwardRef]=Sne;k$[S$.Memo]=EW;function Jz(e){return S$.isMemo(e)?EW:k$[e.$$typeof]||_ne}var kne=Object.defineProperty,Cne=Object.getOwnPropertyNames,Qz=Object.getOwnPropertySymbols,Tne=Object.getOwnPropertyDescriptor,Pne=Object.getPrototypeOf,e5=Object.prototype;function OW(e,t,n){if(typeof t!="string"){if(e5){var r=Pne(t);r&&r!==e5&&OW(e,r,n)}var i=Cne(t);Qz&&(i=i.concat(Qz(t)));for(var o=Jz(e),s=Jz(t),a=0;a<i.length;++a){var f=i[a];if(!wne[f]&&!(n&&n[f])&&!(s&&s[f])&&!(o&&o[f])){var h=Tne(t,f);try{kne(e,f,h)}catch{}}}}return e}var Ene=OW;const t5=mr(Ene);var MW={exports:{}},yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C$=Symbol.for("react.element"),T$=Symbol.for("react.portal"),W2=Symbol.for("react.fragment"),q2=Symbol.for("react.strict_mode"),G2=Symbol.for("react.profiler"),H2=Symbol.for("react.provider"),Y2=Symbol.for("react.context"),One=Symbol.for("react.server_context"),K2=Symbol.for("react.forward_ref"),Z2=Symbol.for("react.suspense"),X2=Symbol.for("react.suspense_list"),J2=Symbol.for("react.memo"),Q2=Symbol.for("react.lazy"),Mne=Symbol.for("react.offscreen"),AW;AW=Symbol.for("react.module.reference");function Vs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case C$:switch(e=e.type,e){case W2:case G2:case q2:case Z2:case X2:return e;default:switch(e=e&&e.$$typeof,e){case One:case Y2:case K2:case Q2:case J2:case H2:return e;default:return t}}case T$:return t}}}yr.ContextConsumer=Y2;yr.ContextProvider=H2;yr.Element=C$;yr.ForwardRef=K2;yr.Fragment=W2;yr.Lazy=Q2;yr.Memo=J2;yr.Portal=T$;yr.Profiler=G2;yr.StrictMode=q2;yr.Suspense=Z2;yr.SuspenseList=X2;yr.isAsyncMode=function(){return!1};yr.isConcurrentMode=function(){return!1};yr.isContextConsumer=function(e){return Vs(e)===Y2};yr.isContextProvider=function(e){return Vs(e)===H2};yr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===C$};yr.isForwardRef=function(e){return Vs(e)===K2};yr.isFragment=function(e){return Vs(e)===W2};yr.isLazy=function(e){return Vs(e)===Q2};yr.isMemo=function(e){return Vs(e)===J2};yr.isPortal=function(e){return Vs(e)===T$};yr.isProfiler=function(e){return Vs(e)===G2};yr.isStrictMode=function(e){return Vs(e)===q2};yr.isSuspense=function(e){return Vs(e)===Z2};yr.isSuspenseList=function(e){return Vs(e)===X2};yr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===W2||e===G2||e===q2||e===Z2||e===X2||e===Mne||typeof e=="object"&&e!==null&&(e.$$typeof===Q2||e.$$typeof===J2||e.$$typeof===H2||e.$$typeof===Y2||e.$$typeof===K2||e.$$typeof===AW||e.getModuleId!==void 0)};yr.typeOf=Vs;MW.exports=yr;var Ane=MW.exports;const Ine=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function $ne(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,f,h,g,y,x;function P(M,I){return f=M,h=I,g=e(f,h),y=t(r,h),x=n(g,y,h),a=!0,x}function E(){return g=e(f,h),t.dependsOnOwnProps&&(y=t(r,h)),x=n(g,y,h),x}function S(){return e.dependsOnOwnProps&&(g=e(f,h)),t.dependsOnOwnProps&&(y=t(r,h)),x=n(g,y,h),x}function O(){const M=e(f,h),I=!s(M,g);return g=M,I&&(x=n(g,y,h)),x}function A(M,I){const N=!o(I,h),$=!i(M,f,I,h);return f=M,h=I,N&&$?E():N?S():$?O():x}return function(I,N){return a?A(I,N):P(I,N)}}function Rne(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,o=yt(t,Ine);const s=n(e,o),a=r(e,o),f=i(e,o);return $ne(s,a,f,e,o)}function Dne(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function hM(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function n5(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function IW(e,t){return function(r,{displayName:i}){const o=function(a,f){return o.dependsOnOwnProps?o.mapToProps(a,f):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,f){o.mapToProps=e,o.dependsOnOwnProps=n5(e);let h=o(a,f);return typeof h=="function"&&(o.mapToProps=h,o.dependsOnOwnProps=n5(h),h=o(a,f)),h},o}}function P$(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Lne(e){return e&&typeof e=="object"?hM(t=>Dne(e,t)):e?typeof e=="function"?IW(e):P$(e,"mapDispatchToProps"):hM(t=>({dispatch:t}))}function jne(e){return e?typeof e=="function"?IW(e):P$(e,"mapStateToProps"):hM(()=>({}))}function Nne(e,t,n){return te({},n,e,t)}function zne(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(f,h,g){const y=e(f,h,g);return o?i(y,s)||(s=y):(o=!0,s=y),s}}}function Bne(e){return e?typeof e=="function"?zne(e):P$(e,"mergeProps"):()=>Nne}function Fne(){const e=une();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const r5={notify(){},get:()=>[]};function $W(e,t){let n,r=r5,i=0,o=!1;function s(S){g();const O=r.subscribe(S);let A=!1;return()=>{A||(A=!0,O(),y())}}function a(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return o}function g(){i++,n||(n=t?t.addNestedSub(f):e.subscribe(f),r=Fne())}function y(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=r5)}function x(){o||(o=!0,g())}function P(){o&&(o=!1,y())}const E={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:P,getListeners:()=>r};return E}const Une=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jw=Une?V.useLayoutEffect:V.useEffect;function i5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function AP(e,t){if(i5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!i5(e[n[i]],t[n[i]]))return!1;return!0}const Vne=["reactReduxForwardedRef"];let RW=kW;const Wne=e=>{RW=e},qne=[null,null];function Gne(e,t,n){jw(()=>e(...t),n)}function Hne(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function Yne(e,t,n,r,i,o,s,a,f,h,g){if(!e)return()=>{};let y=!1,x=null;const P=()=>{if(y||!a.current)return;const S=t.getState();let O,A;try{O=r(S,i.current)}catch(M){A=M,x=M}A||(x=null),O===o.current?s.current||h():(o.current=O,f.current=O,s.current=!0,g())};return n.onStateChange=P,n.trySubscribe(),P(),()=>{if(y=!0,n.tryUnsubscribe(),n.onStateChange=null,x)throw x}}function Kne(e,t){return e===t}function Zne(e,t,n,{pure:r,areStatesEqual:i=Kne,areOwnPropsEqual:o=AP,areStatePropsEqual:s=AP,areMergedPropsEqual:a=AP,forwardRef:f=!1,context:h=lu}={}){const g=h,y=jne(e),x=Lne(t),P=Bne(n),E=!!e;return O=>{const A=O.displayName||O.name||"Component",M=`Connect(${A})`,I={shouldHandleStateChanges:E,displayName:M,wrappedComponentName:A,WrappedComponent:O,initMapStateToProps:y,initMapDispatchToProps:x,initMergeProps:P,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function N(F){const[q,X,Q]=V.useMemo(()=>{const{reactReduxForwardedRef:Ve}=F,Pt=yt(F,Vne);return[F.context,Ve,Pt]},[F]),ae=V.useMemo(()=>q&&q.Consumer&&Ane.isContextConsumer(V.createElement(q.Consumer,null))?q:g,[q,g]),fe=V.useContext(ae),Se=!!F.store&&!!F.store.getState&&!!F.store.dispatch,ke=!!fe&&!!fe.store,we=Se?F.store:fe.store,Oe=ke?fe.getServerState:we.getState,Ce=V.useMemo(()=>Rne(we.dispatch,I),[we]),[be,$e]=V.useMemo(()=>{if(!E)return qne;const Ve=$W(we,Se?void 0:fe.subscription),Pt=Ve.notifyNestedSubs.bind(Ve);return[Ve,Pt]},[we,Se,fe]),Ue=V.useMemo(()=>Se?fe:te({},fe,{subscription:be}),[Se,fe,be]),ft=V.useRef(),Xe=V.useRef(Q),tt=V.useRef(),lt=V.useRef(!1);V.useRef(!1);const Ct=V.useRef(!1),st=V.useRef();jw(()=>(Ct.current=!0,()=>{Ct.current=!1}),[]);const Ht=V.useMemo(()=>()=>tt.current&&Q===Xe.current?tt.current:Ce(we.getState(),Q),[we,Q]),Lt=V.useMemo(()=>Pt=>be?Yne(E,we,be,Ce,Xe,ft,lt,Ct,tt,$e,Pt):()=>{},[be]);Gne(Hne,[Xe,ft,lt,Q,tt,$e]);let He;try{He=RW(Lt,Ht,Oe?()=>Ce(Oe(),Q):Ht)}catch(Ve){throw st.current&&(Ve.message+=`
The error may be correlated with this previous error:
${st.current.stack}

`),Ve}jw(()=>{st.current=void 0,tt.current=void 0,ft.current=He});const _t=V.useMemo(()=>V.createElement(O,te({},He,{ref:X})),[X,O,He]);return V.useMemo(()=>E?V.createElement(ae.Provider,{value:Ue},_t):_t,[ae,_t,Ue])}const R=V.memo(N);if(R.WrappedComponent=O,R.displayName=N.displayName=M,f){const q=V.forwardRef(function(Q,ae){return V.createElement(R,te({},Q,{reactReduxForwardedRef:ae}))});return q.displayName=M,q.WrappedComponent=O,t5(q,O)}return t5(R,O)}}function Xne({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=V.useMemo(()=>{const h=$W(e);return{store:e,subscription:h,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),a=V.useMemo(()=>e.getState(),[e]);jw(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),a!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,a]);const f=t||lu;return V.createElement(f.Provider,{value:s},n)}function DW(e=lu){const t=e===lu?SW:b$(e);return function(){const{store:r}=t();return r}}const Jne=DW();function Qne(e=lu){const t=e===lu?Jne:DW(e);return function(){return t().dispatch}}const Ml=Qne();fne(sne.useSyncExternalStoreWithSelector);Wne(bW.useSyncExternalStore);cne(bu.unstable_batchedUpdates);function gl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function jd(e){return!!e&&!!e[Jr]}function cu(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===lre}(e)||Array.isArray(e)||!!e[d5]||!!(!((t=e.constructor)===null||t===void 0)&&t[d5])||E$(e)||O$(e))}function fh(e,t,n){n===void 0&&(n=!1),xg(e)===0?(n?Object.keys:pm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function xg(e){var t=e[Jr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:E$(e)?2:O$(e)?3:0}function hm(e,t){return xg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ere(e,t){return xg(e)===2?e.get(t):e[t]}function LW(e,t,n){var r=xg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function jW(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function E$(e){return are&&e instanceof Map}function O$(e){return sre&&e instanceof Set}function Of(e){return e.o||e.t}function M$(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=zW(e);delete t[Jr];for(var n=pm(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function A$(e,t){return t===void 0&&(t=!1),I$(e)||jd(e)||!cu(e)||(xg(e)>1&&(e.set=e.add=e.clear=e.delete=tre),Object.freeze(e),t&&fh(e,function(n,r){return A$(r,!0)},!0)),e}function tre(){gl(2)}function I$(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function tc(e){var t=yM[e];return t||gl(18,e),t}function nre(e,t){yM[e]||(yM[e]=t)}function pM(){return W0}function IP(e,t){t&&(tc("Patches"),e.u=[],e.s=[],e.v=t)}function Nw(e){mM(e),e.p.forEach(rre),e.p=null}function mM(e){e===W0&&(W0=e.l)}function o5(e){return W0={p:[],l:W0,h:e,m:!0,_:0}}function rre(e){var t=e[Jr];t.i===0||t.i===1?t.j():t.g=!0}function $P(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||tc("ES5").S(t,e,r),r?(n[Jr].P&&(Nw(t),gl(4)),cu(e)&&(e=zw(t,e),t.l||Bw(t,e)),t.u&&tc("Patches").M(n[Jr].t,e,t.u,t.s)):e=zw(t,n,[]),Nw(t),t.u&&t.v(t.u,t.s),e!==NW?e:void 0}function zw(e,t,n){if(I$(t))return t;var r=t[Jr];if(!r)return fh(t,function(a,f){return a5(e,r,t,a,f,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Bw(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=M$(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),fh(o,function(a,f){return a5(e,r,i,a,f,n,s)}),Bw(e,i,!1),n&&e.u&&tc("Patches").N(r,n,e.u,e.s)}return r.o}function a5(e,t,n,r,i,o,s){if(jd(i)){var a=zw(e,i,o&&t&&t.i!==3&&!hm(t.R,r)?o.concat(r):void 0);if(LW(n,r,a),!jd(a))return;e.m=!1}else s&&n.add(i);if(cu(i)&&!I$(i)){if(!e.h.D&&e._<1)return;zw(e,i),t&&t.A.l||Bw(e,i)}}function Bw(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&A$(t,n)}function RP(e,t){var n=e[Jr];return(n?Of(n):e)[t]}function s5(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function dd(e){e.P||(e.P=!0,e.l&&dd(e.l))}function DP(e){e.o||(e.o=M$(e.t))}function gM(e,t,n){var r=E$(t)?tc("MapSet").F(t,n):O$(t)?tc("MapSet").T(t,n):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:pM(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},f=a,h=q0;s&&(f=[a],h=Vv);var g=Proxy.revocable(f,h),y=g.revoke,x=g.proxy;return a.k=x,a.j=y,x}(t,n):tc("ES5").J(t,n);return(n?n.A:pM()).p.push(r),r}function ire(e){return jd(e)||gl(22,e),function t(n){if(!cu(n))return n;var r,i=n[Jr],o=xg(n);if(i){if(!i.P&&(i.i<4||!tc("ES5").K(i)))return i.t;i.I=!0,r=l5(n,o),i.I=!1}else r=l5(n,o);return fh(r,function(s,a){i&&ere(i.t,s)===a||LW(r,s,t(a))}),o===3?new Set(r):r}(e)}function l5(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return M$(e)}function ore(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var f=this[Jr];return q0.get(f,o)},set:function(f){var h=this[Jr];q0.set(h,o,f)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Jr];if(!a.P)switch(a.i){case 5:r(a)&&dd(a);break;case 4:n(a)&&dd(a)}}}function n(o){for(var s=o.t,a=o.k,f=pm(a),h=f.length-1;h>=0;h--){var g=f[h];if(g!==Jr){var y=s[g];if(y===void 0&&!hm(s,g))return!0;var x=a[g],P=x&&x[Jr];if(P?P.t!==y:!jW(x,y))return!0}}var E=!!s[Jr];return f.length!==pm(s).length+(E?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var f=0;f<s.length;f++)if(!s.hasOwnProperty(f))return!0;return!1}var i={};nre("ES5",{J:function(o,s){var a=Array.isArray(o),f=function(g,y){if(g){for(var x=Array(y.length),P=0;P<y.length;P++)Object.defineProperty(x,""+P,e(P,!0));return x}var E=zW(y);delete E[Jr];for(var S=pm(E),O=0;O<S.length;O++){var A=S[O];E[A]=e(A,g||!!E[A].enumerable)}return Object.create(Object.getPrototypeOf(y),E)}(a,o),h={i:a?5:4,A:s?s.A:pM(),P:!1,I:!1,R:{},l:s,t:o,k:f,o:null,g:!1,C:!1};return Object.defineProperty(f,Jr,{value:h,writable:!0}),f},S:function(o,s,a){a?jd(s)&&s[Jr].A===o&&t(o.p):(o.u&&function f(h){if(h&&typeof h=="object"){var g=h[Jr];if(g){var y=g.t,x=g.k,P=g.R,E=g.i;if(E===4)fh(x,function(I){I!==Jr&&(y[I]!==void 0||hm(y,I)?P[I]||f(x[I]):(P[I]=!0,dd(g)))}),fh(y,function(I){x[I]!==void 0||hm(x,I)||(P[I]=!1,dd(g))});else if(E===5){if(r(g)&&(dd(g),P.length=!0),x.length<y.length)for(var S=x.length;S<y.length;S++)P[S]=!1;else for(var O=y.length;O<x.length;O++)P[O]=!0;for(var A=Math.min(x.length,y.length),M=0;M<A;M++)x.hasOwnProperty(M)||(P[M]=!0),P[M]===void 0&&f(x[M])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var c5,W0,$$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",are=typeof Map<"u",sre=typeof Set<"u",u5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",NW=$$?Symbol.for("immer-nothing"):((c5={})["immer-nothing"]=!0,c5),d5=$$?Symbol.for("immer-draftable"):"__$immer_draftable",Jr=$$?Symbol.for("immer-state"):"__$immer_state",lre=""+Object.prototype.constructor,pm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,zW=Object.getOwnPropertyDescriptors||function(e){var t={};return pm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},yM={},q0={get:function(e,t){if(t===Jr)return e;var n=Of(e);if(!hm(n,t))return function(i,o,s){var a,f=s5(o,s);return f?"value"in f?f.value:(a=f.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!cu(r)?r:r===RP(e.t,t)?(DP(e),e.o[t]=gM(e.A.h,r,e)):r},has:function(e,t){return t in Of(e)},ownKeys:function(e){return Reflect.ownKeys(Of(e))},set:function(e,t,n){var r=s5(Of(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=RP(Of(e),t),o=i==null?void 0:i[Jr];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(jW(n,i)&&(n!==void 0||hm(e.t,t)))return!0;DP(e),dd(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return RP(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,DP(e),dd(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Of(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){gl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){gl(12)}},Vv={};fh(q0,function(e,t){Vv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Vv.deleteProperty=function(e,t){return Vv.set.call(this,e,t,void 0)},Vv.set=function(e,t,n){return q0.set.call(this,e[0],t,n,e[0])};var cre=function(){function e(n){var r=this;this.O=u5,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var f=r;return function(S){var O=this;S===void 0&&(S=a);for(var A=arguments.length,M=Array(A>1?A-1:0),I=1;I<A;I++)M[I-1]=arguments[I];return f.produce(S,function(N){var $;return($=o).call.apply($,[O,N].concat(M))})}}var h;if(typeof o!="function"&&gl(6),s!==void 0&&typeof s!="function"&&gl(7),cu(i)){var g=o5(r),y=gM(r,i,void 0),x=!0;try{h=o(y),x=!1}finally{x?Nw(g):mM(g)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(S){return IP(g,s),$P(S,g)},function(S){throw Nw(g),S}):(IP(g,s),$P(h,g))}if(!i||typeof i!="object"){if((h=o(i))===void 0&&(h=i),h===NW&&(h=void 0),r.D&&A$(h,!0),s){var P=[],E=[];tc("Patches").M(i,h,P,E),s(P,E)}return h}gl(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(h){for(var g=arguments.length,y=Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];return r.produceWithPatches(h,function(P){return i.apply(void 0,[P].concat(y))})};var s,a,f=r.produce(i,o,function(h,g){s=h,a=g});return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return[h,s,a]}):[f,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){cu(n)||gl(8),jd(n)&&(n=ire(n));var r=o5(this),i=gM(this,n,void 0);return i[Jr].C=!0,mM(r),i},t.finishDraft=function(n,r){var i=n&&n[Jr],o=i.A;return IP(o,r),$P(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!u5&&gl(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=tc("Patches").$;return jd(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),Ja=new cre,BW=Ja.produce;Ja.produceWithPatches.bind(Ja);Ja.setAutoFreeze.bind(Ja);Ja.setUseProxies.bind(Ja);Ja.applyPatches.bind(Ja);Ja.createDraft.bind(Ja);Ja.finishDraft.bind(Ja);function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function ure(e,t){if(G0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FW(e){var t=ure(e,"string");return G0(t)=="symbol"?t:String(t)}function dre(e,t,n){return t=FW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f5(Object(n),!0).forEach(function(r){dre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Do(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var p5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),LP=function(){return Math.random().toString(36).substring(7).split("").join(".")},Fw={INIT:"@@redux/INIT"+LP(),REPLACE:"@@redux/REPLACE"+LP(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+LP()}};function fre(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function UW(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Do(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Do(1));return n(UW)(e,t)}if(typeof e!="function")throw new Error(Do(2));var i=e,o=t,s=[],a=s,f=!1;function h(){a===s&&(a=s.slice())}function g(){if(f)throw new Error(Do(3));return o}function y(S){if(typeof S!="function")throw new Error(Do(4));if(f)throw new Error(Do(5));var O=!0;return h(),a.push(S),function(){if(O){if(f)throw new Error(Do(6));O=!1,h();var M=a.indexOf(S);a.splice(M,1),s=null}}}function x(S){if(!fre(S))throw new Error(Do(7));if(typeof S.type>"u")throw new Error(Do(8));if(f)throw new Error(Do(9));try{f=!0,o=i(o,S)}finally{f=!1}for(var O=s=a,A=0;A<O.length;A++){var M=O[A];M()}return S}function P(S){if(typeof S!="function")throw new Error(Do(10));i=S,x({type:Fw.REPLACE})}function E(){var S,O=y;return S={subscribe:function(M){if(typeof M!="object"||M===null)throw new Error(Do(11));function I(){M.next&&M.next(g())}I();var N=O(I);return{unsubscribe:N}}},S[p5]=function(){return this},S}return x({type:Fw.INIT}),r={dispatch:x,subscribe:y,getState:g,replaceReducer:P},r[p5]=E,r}function hre(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Fw.INIT});if(typeof r>"u")throw new Error(Do(12));if(typeof n(void 0,{type:Fw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Do(13))})}function VW(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{hre(n)}catch(a){s=a}return function(f,h){if(f===void 0&&(f={}),s)throw s;for(var g=!1,y={},x=0;x<o.length;x++){var P=o[x],E=n[P],S=f[P],O=E(S,h);if(typeof O>"u")throw h&&h.type,new Error(Do(14));y[P]=O,g=g||O!==S}return g=g||o.length!==Object.keys(f).length,g?y:f}}function Uw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function pre(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Do(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(f){return f(s)});return o=Uw.apply(void 0,a)(i.dispatch),h5(h5({},i),{},{dispatch:o})}}}function WW(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var qW=WW();qW.withExtraArgument=WW;const m5=qW;var GW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mre=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(h){return function(g){return f([h,g])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(g){h=[6,g],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Dm=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},gre=Object.defineProperty,yre=Object.defineProperties,vre=Object.getOwnPropertyDescriptors,g5=Object.getOwnPropertySymbols,bre=Object.prototype.hasOwnProperty,xre=Object.prototype.propertyIsEnumerable,y5=function(e,t,n){return t in e?gre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ed=function(e,t){for(var n in t||(t={}))bre.call(t,n)&&y5(e,n,t[n]);if(g5)for(var r=0,i=g5(t);r<i.length;r++){var n=i[r];xre.call(t,n)&&y5(e,n,t[n])}return e},jP=function(e,t){return yre(e,vre(t))},_re=function(e,t,n){return new Promise(function(r,i){var o=function(f){try{a(n.next(f))}catch(h){i(h)}},s=function(f){try{a(n.throw(f))}catch(h){i(h)}},a=function(f){return f.done?r(f.value):Promise.resolve(f.value).then(o,s)};a((n=n.apply(e,t)).next())})},wre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uw:Uw.apply(null,arguments)};function Sre(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function Od(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Ed(Ed({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var kre=function(e){GW(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Dm([void 0],n[0].concat(this)))):new(t.bind.apply(t,Dm([void 0],n.concat(this))))},t}(Array),Cre=function(e){GW(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Dm([void 0],n[0].concat(this)))):new(t.bind.apply(t,Dm([void 0],n.concat(this))))},t}(Array);function vM(e){return cu(e)?BW(e,function(){}):e}function Tre(e){return typeof e=="boolean"}function Pre(){return function(t){return Ere(t)}}function Ere(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new kre;return n&&(Tre(n)?r.push(m5):r.push(m5.withExtraArgument(n.extraArgument))),r}var Ore=!0;function Mre(e){var t=Pre(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,f=a===void 0?!0:a,h=n.preloadedState,g=h===void 0?void 0:h,y=n.enhancers,x=y===void 0?void 0:y,P;if(typeof i=="function")P=i;else if(Sre(i))P=VW(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var E=s;typeof E=="function"&&(E=E(t));var S=pre.apply(void 0,E),O=Uw;f&&(O=wre(Ed({trace:!Ore},typeof f=="object"&&f)));var A=new Cre(S),M=A;Array.isArray(x)?M=Dm([S],x):typeof x=="function"&&(M=x(A));var I=O.apply(void 0,M);return UW(P,g,I)}function HW(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function Are(e){return typeof e=="function"}function Ire(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?HW(t):[t,n,r],o=i[0],s=i[1],a=i[2],f;if(Are(e))f=function(){return vM(e())};else{var h=vM(e);f=function(){return h}}function g(y,x){y===void 0&&(y=f());var P=Dm([o[x.type]],s.filter(function(E){var S=E.matcher;return S(x)}).map(function(E){var S=E.reducer;return S}));return P.filter(function(E){return!!E}).length===0&&(P=[a]),P.reduce(function(E,S){if(S)if(jd(E)){var O=E,A=S(O,x);return A===void 0?E:A}else{if(cu(E))return BW(E,function(M){return S(M,x)});var A=S(E,x);if(A===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}return E},y)}return g.getInitialState=f,g}function $re(e,t){return e+"/"+t}function _g(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:vM(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(g){var y=r[g],x=$re(t,g),P,E;"reducer"in y?(P=y.reducer,E=y.prepare):P=y,o[g]=P,s[x]=P,a[g]=E?Od(x,E):Od(x)});function f(){var g=typeof e.extraReducers=="function"?HW(e.extraReducers):[e.extraReducers],y=g[0],x=y===void 0?{}:y,P=g[1],E=P===void 0?[]:P,S=g[2],O=S===void 0?void 0:S,A=Ed(Ed({},x),s);return Ire(n,function(M){for(var I in A)M.addCase(I,A[I]);for(var N=0,$=E;N<$.length;N++){var R=$[N];M.addMatcher(R.matcher,R.reducer)}O&&M.addDefaultCase(O)})}var h;return{name:t,reducer:function(g,y){return h||(h=f()),h(g,y)},actions:a,caseReducers:o,getInitialState:function(){return h||(h=f()),h.getInitialState()}}}var Rre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Dre=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=Rre[Math.random()*64|0];return t},Lre=["name","message","stack","code"],NP=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),v5=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),jre=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=Lre;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Od(t+"/fulfilled",function(h,g,y,x){return{payload:h,meta:jP(Ed({},x||{}),{arg:y,requestId:g,requestStatus:"fulfilled"})}}),o=Od(t+"/pending",function(h,g,y){return{payload:void 0,meta:jP(Ed({},y||{}),{arg:g,requestId:h,requestStatus:"pending"})}}),s=Od(t+"/rejected",function(h,g,y,x,P){return{payload:x,error:(r&&r.serializeError||jre)(h||"Rejected"),meta:jP(Ed({},P||{}),{arg:y,requestId:g,rejectedWithValue:!!x,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function f(h){return function(g,y,x){var P=r!=null&&r.idGenerator?r.idGenerator(h):Dre(),E=new a,S;function O(M){S=M,E.abort()}var A=function(){return _re(this,null,function(){var M,I,N,$,R,F,q;return mre(this,function(X){switch(X.label){case 0:return X.trys.push([0,4,,5]),$=(M=r==null?void 0:r.condition)==null?void 0:M.call(r,h,{getState:y,extra:x}),zre($)?[4,$]:[3,2];case 1:$=X.sent(),X.label=2;case 2:if($===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return R=new Promise(function(Q,ae){return E.signal.addEventListener("abort",function(){return ae({name:"AbortError",message:S||"Aborted"})})}),g(o(P,h,(I=r==null?void 0:r.getPendingMeta)==null?void 0:I.call(r,{requestId:P,arg:h},{getState:y,extra:x}))),[4,Promise.race([R,Promise.resolve(n(h,{dispatch:g,getState:y,extra:x,requestId:P,signal:E.signal,abort:O,rejectWithValue:function(Q,ae){return new NP(Q,ae)},fulfillWithValue:function(Q,ae){return new v5(Q,ae)}})).then(function(Q){if(Q instanceof NP)throw Q;return Q instanceof v5?i(Q.payload,P,h,Q.meta):i(Q,P,h)})])];case 3:return N=X.sent(),[3,5];case 4:return F=X.sent(),N=F instanceof NP?s(null,P,h,F.payload,F.meta):s(F,P,h),[3,5];case 5:return q=r&&!r.dispatchConditionRejection&&s.match(N)&&N.meta.condition,q||g(N),[2,N]}})})}();return Object.assign(A,{abort:O,requestId:P,arg:h,unwrap:function(){return A.then(Nre)}})}}return Object.assign(f,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function Nre(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function zre(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var R$="listenerMiddleware";Od(R$+"/add");Od(R$+"/removeAll");Od(R$+"/remove");var b5;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);ore();const{reducer:Bre,actions:YW}=_g({name:"errors",initialState:{errors:[]},reducers:{push(e,t){e.errors.push(t.payload)},pop(e){e.errors.length&&e.errors.shift()}}}),{reducer:Fre,actions:yl}=_g({name:"devices",initialState:{items:{},selectedId:null,selectedIds:[]},reducers:{refresh(e,t){console.log(t.payload),e.items={},t.payload.forEach(n=>e.items[n.id]=n)},update1(e,t){e.items[t.payload.id]=t.payload},update(e,t){t.payload.forEach(n=>e.items[n.id]=n)},select(e,t){e.selectedId=t.payload},selectId(e,t){e.selectedId=t.payload,e.selectedIds=[e.selectedId]},selectIds(e,t){e.selectedIds=t.payload,[e.selectedId]=e.selectedIds},remove(e,t){delete e.items[t.payload]},clear(e,t){e.items={}}}}),{reducer:Ure,actions:zP}=_g({name:"data",initialState:{server:null,user:null,socket:null,camera:{},positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.positions[n.deviceId]=n,e.history={}})},updatePosition(e,t){e.positions[t.payload.deviceId]===void 0&&(e.positions[t.payload.deviceId]={attributes:{}}),t.payload.hasOwnProperty("latitude")&&(e.positions[t.payload.deviceId].id=t.payload.id,e.positions[t.payload.deviceId].deviceId=t.payload.deviceId,e.positions[t.payload.deviceId].latitude=t.payload.latitude,e.positions[t.payload.deviceId].longitude=t.payload.longitude,e.positions[t.payload.deviceId].altitude=t.payload.altitude,e.positions[t.payload.deviceId].deviceTime=t.payload.deviceTime),t.payload.hasOwnProperty("course")&&(e.positions[t.payload.deviceId].course=t.payload.course),t.payload.hasOwnProperty("speed")&&(e.positions[t.payload.deviceId].speed=t.payload.speed),t.payload.hasOwnProperty("batteryLevel")&&(e.positions[t.payload.deviceId].attributes.batteryLevel=t.payload.batteryLevel)},updateCamera(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.camera[n.deviceId]=n})}}}),Vre=e=>{let t=[];console.log("version 3"),console.log("longitud"+e.length);for(let n=0;n<e.length;n++){console.log("uav - "+n),t[n]={},e[n].hasOwnProperty("uav")&&(t[n].uav=e[n].uav),t[n].id=n,t[n].name=e[n].name,t[n].wp=[],t[n].attributes={};for(let r=0;r<e[n].wp.length;r++)t[n].wp[r]={},t[n].wp[r].pos=e[n].wp[r].pos,t[n].wp[r].yaw=e[n].wp[r].yaw,t[n].wp[r].gimbal=e[n].wp[r].gimbal,e[n].wp[r].hasOwnProperty("speed")&&(t[n].wp[r].speed=e[n].wp[r].speed),e[n].wp[r].hasOwnProperty("action")&&(t[n].wp[r].action=e[n].wp[r].action);e[n].hasOwnProperty("attributes")?(console.log("have atribute"),e[n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[n].attributes.mode_landing=e[n].attributes.mode_landing),e[n].attributes.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e[n].attributes.mode_yaw),e[n].attributes.hasOwnProperty("mode_gimbal")&&(t[n].attributes.mode_gimbal=e[n].attributes.mode_gimbal),e[n].attributes.hasOwnProperty("mode_trace")&&(t[n].attributes.mode_trace=e[n].attributes.mode_trace),e[n].attributes.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e[n].attributes.idle_vel),e[n].attributes.hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e[n].attributes.max_vel)):(e[n].hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[n].attributes.mode_landing=e[n].mode_landing),e[n].hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e[n].mode_yaw),e[n].hasOwnProperty("mode_gimbal")&&(t[n].attributes.mode_gimbal=e[n].mode_gimbal),e[n].hasOwnProperty("mode_trace")&&(t[n].attributes.mode_trace=e[n].mode_trace),e[n].hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e[n].idle_vel),e[n].hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e[n].max_vel))}return console.log("-------------------"),console.log(t),t},Wre=e=>{let t=[];console.log("mission < 3");for(let n=1;n<=e.uav_n;n++)if(e.hasOwnProperty("uav_"+n)){let r=n-1;console.log("uav - "+r),t[r]={},t[r].id=r,t[r].uav="uav_"+n,t[r].name="uav_"+n,t[r].wp=[],t[r].attributes={};for(let i=0;i<e["uav_"+n].wp_n;i++)t[r].wp[i]={},e["uav_"+n]["wp_"+i].length==3?(t[r].wp[i].yaw=0,t[r].wp[i].pos=e["uav_"+n]["wp_"+i]):(t[r].wp[i].yaw=e["uav_"+n]["wp_"+i][3],t[r].wp[i].pos=e["uav_"+n]["wp_"+i].slice(0,-1));e.hasOwnProperty("mode_landing")&&(t[r].attributes.mode_landing=e.mode_landing),e.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e.mode_yaw),e.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e.idle_vel),e["uav_"+n].hasOwnProperty("attributes")?(e["uav_"+n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[r].attributes.mode_landing=e["uav_"+n].attributes.mode_landing),e["uav_"+n].attributes.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e["uav_"+n].attributes.mode_yaw),e["uav_"+n].attributes.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e["uav_"+n].attributes.idle_vel),e["uav_"+n].attributes.hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e["uav_"+n].attributes.max_vel)):(e["uav_"+n].hasOwnProperty("mode_landing")&&(t[r].attributes.mode_landing=e["uav_"+n].mode_landing),e["uav_"+n].hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e["uav_"+n].mode_yaw),e["uav_"+n].hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e["uav_"+n].idle_vel))}return console.log("-----------   legacy   --------"),console.log(t),t},{reducer:qre,actions:qc}=_g({name:"mission",initialState:{name:"Mission no loaded",description:"",home:[0,0],route:[],attributes:{},selectpoint:{id:-1}},reducers:{updateWpPos(e,t){t.payload.route_id>=0&&(e.route[t.payload.route_id].wp[t.payload.wp_id].pos[0]=t.payload.lat,e.route[t.payload.route_id].wp[t.payload.wp_id].pos[1]=t.payload.lng)},selectpoint(e,t){console.log("selec point"),e.selectpoint=t.payload},reloadMission(e,t){e.route=t.payload},reloadName(e,t){e.name=t.payload.name,e.description=t.payload.description},updateMission(e,t){if(e.name=t.payload.name,t.payload.mission.version=="3"){let n=0;e.home=t.payload.mission.route[n].wp[0].pos,e.route=Vre(t.payload.mission.route)}else{let n=1;e.home=t.payload.mission["uav_"+n].wp_0,e.route=Wre(t.payload.mission)}},clearMission(e,t){console.log("clear mission"),e.name="Mission no loaded",e.route=[],e.attributes={}}}}),{reducer:Gre,actions:Lf}=_g({name:"session",initialState:{server:null,user:null,socket:null,positions:{},history:{},markers:[]},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){const n=e.user.attributes.mapLiveRoutes||e.server.attributes.mapLiveRoutes||"none",r=e.user.attributes["web.liveRouteLength"]||e.user.attributes["web.liveRouteLength"]||10;t.payload.forEach(i=>{if(e.positions[i.deviceId]=i,n!=="none"){const o=e.history[i.deviceId]||[],s=o.at(-1);(!s||s[0]!==i.longitude&&s[1]!==i.latitude)&&(e.history[i.deviceId]=[...o.slice(1-r),[i.longitude,i.latitude]])}else e.history={}})},updateMarker(e,t){e.markers=t.payload},addMarker(e,t){e.markers.push(...t.payload)}}}),{reducer:Hre,actions:Yre}=_g({name:"events",initialState:{items:[]},reducers:{add(e,t){e.items.unshift(...t.payload),e.items.splice(50)},delete(e,t){e.items=e.items.filter(n=>n.id!==t.payload.id)},deleteAll(e){e.items=[]}}}),x5=3,Kre=1500,Zre=()=>e=>{const t=[];let n=!1,r=0;return setInterval(()=>{n?(t.length<x5&&(n=!1),bu.unstable_batchedUpdates(()=>t.splice(0,t.length).forEach(i=>e(i)))):(r>x5&&(n=!0),r=0)},Kre),i=>i.type==="devices/update"||i.type==="positions/update"?n?(t.push(i),null):(r+=1,e(i)):e(i)},Xre=VW({errors:Bre,devices:Fre,data:Ure,events:Hre,mission:qre,session:Gre}),Jre=Mre({reducer:Xre,middleware:e=>e().concat(Zre)}),Qre={black:"#000",white:"#fff"},hh=Qre,eie={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Fc=eie,tie={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},vp=tie,nie={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},KW=nie,rie={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},bp=rie,iie={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},xp=iie,oie={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},pl=oie,aie={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},D$=aie,sie={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},lv=sie,lie={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},nc=lie,cv={white:hh.white,background:nc[50],primary:KW[900],secondary:pl[800],positive:pl[500],medium:D$[700],negative:Fc[500],neutral:nc[500],geometry:"#3bb2d0"},cie={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},ph={background:{default:cv.background},primary:{main:cv.primary},secondary:{main:cv.secondary,contrastText:cv.white},colors:cv,colors_devices:cie};var L$={exports:{}};L$.exports=ZW;L$.exports.parse=ZW;L$.exports.stringify=XW;var _5=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,w5=new RegExp("^"+_5.source+"(\\s"+_5.source+"){1,}");function ZW(e){var t=e.split(";"),n=t.pop(),r=(t.shift()||"").split("=").pop(),i=0;function o(M){var I=n.substring(i).match(M);return I?(i+=I[0].length,I[0]):null}function s(M){return M&&r.match(/\d+/)&&(M.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+r}}),M}function a(){o(/^\s*/)}function f(){a();for(var M=0,I=[],N=[I],$=I,R;R=o(/^(\()/)||o(/^(\))/)||o(/^(,)/)||o(w5);){if(R==="(")N.push($),$=[],N[N.length-1].push($),M++;else if(R===")"){if($.length===0||($=N.pop(),!$))return null;if(M--,M===0)break}else if(R===",")$=[],N[N.length-1].push($);else if(!R.split(/\s/g).some(isNaN))Array.prototype.push.apply($,R.split(/\s/g).map(parseFloat));else return null;a()}return M!==0?null:I}function h(){for(var M=[],I,N;N=o(w5)||o(/^(,)/);)N===","?(M.push(I),I=[]):N.split(/\s/g).some(isNaN)||(I||(I=[]),Array.prototype.push.apply(I,N.split(/\s/g).map(parseFloat))),a();if(I)M.push(I);else return null;return M.length?M:null}function g(){if(!o(/^(point(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var M=h();return!M||(a(),!o(/^(\))/))?null:{type:"Point",coordinates:M[0]}}function y(){if(!o(/^(multipoint)/i))return null;a();var M=n.substring(n.indexOf("(")+1,n.length-1).replace(/\(/g,"").replace(/\)/g,"");n="MULTIPOINT ("+M+")";var I=f();return I?(a(),{type:"MultiPoint",coordinates:I}):null}function x(){if(!o(/^(multilinestring)/i))return null;a();var M=f();return M?(a(),{type:"MultiLineString",coordinates:M}):null}function P(){if(!o(/^(linestring(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var M=h();return!M||!o(/^(\))/)?null:{type:"LineString",coordinates:M}}function E(){if(!o(/^(polygon(\sz)?)/i))return null;a();var M=f();return M?{type:"Polygon",coordinates:M}:null}function S(){if(!o(/^(multipolygon)/i))return null;a();var M=f();return M?{type:"MultiPolygon",coordinates:M}:null}function O(){var M=[],I;if(!o(/^(geometrycollection)/i)||(a(),!o(/^(\()/)))return null;for(;I=A();)M.push(I),a(),o(/^(,)/),a();return o(/^(\))/)?{type:"GeometryCollection",geometries:M}:null}function A(){return g()||P()||E()||y()||x()||S()||O()}return s(A())}function XW(e){e.type==="Feature"&&(e=e.geometry);function t(s){return s.join(" ")}function n(s){return s.map(t).join(", ")}function r(s){return s.map(n).map(o).join(", ")}function i(s){return s.map(r).map(o).join(", ")}function o(s){return"("+s+")"}switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+n(e.coordinates)+")";case"Polygon":return"POLYGON ("+r(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+n(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+i(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+r(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(XW).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}const Sf=e=>new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.src=e}),BP=(e,t)=>{const n=document.createElement("canvas");n.width=e.width*devicePixelRatio,n.height=e.height*devicePixelRatio,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`;const r=n.getContext("2d");return r.save(),r.fillStyle=t,r.globalAlpha=1,r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.globalAlpha=1,r.drawImage(e,0,0,n.width,n.height),r.restore(),n},Ku=(e,t,n,r,i)=>{const o=document.createElement("canvas");o.width=e.width*devicePixelRatio,o.height=e.height*devicePixelRatio,o.style.width=`${e.width}px`,o.style.height=`${e.height}px`;const s=o.getContext("2d");if(s.drawImage(e,0,0,o.width,o.height),t){r&&s.drawImage(BP(r,i),0,0,o.width,o.height);const a=.5,f=o.width*a,h=o.height*a;s.drawImage(BP(t,n),(o.width-f)/2,(o.height-h)/2,f,h)}else n&&s.drawImage(BP(e,n),0,0,o.width,o.height);return s.getImageData(0,0,o.width,o.height)},Qc=e=>{var s;const t=new Set,{layers:n}=e.getStyle();(s=n==null?void 0:n.forEach)==null||s.call(n,a=>{var f,h,g;(g=(h=(f=a.layout)==null?void 0:f["text-font"])==null?void 0:h.forEach)==null||g.call(h,t.add,t)});const r=[...t],i=r.find(a=>a.includes("Regular"));if(i)return[i];const o=r.find(Boolean);return o?[o]:["Roboto Regular"]},uie="data:image/svg+xml,%3csvg%20width='48px'%20height='48px'%20viewBox='0%200%2010%2010'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cfilter%20id='shadow'%3e%3cfeDropShadow%20dx='0'%20dy='0.1'%20stdDeviation='0.3'%20flood-color='grey'/%3e%3c/filter%3e%3c/defs%3e%3ccircle%20cx='5'%20cy='50%25'%20r='4'%20style='fill:white;%20filter:url(%23shadow);'/%3e%3c/svg%3e",die="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='56'%20height='56'%20version='1.1'%20viewBox='0%200%2011.667%2011.667'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m%205.833%200.1%20L%204.2%201.79%20A%205.83%205.83%200,0,1%207.4,1.79%20Z%20'%20fill='%23283593'%20/%3e%3c/svg%3e",fie="data:image/svg+xml,%3csvg%20width='48px'%20height='48px'%20viewBox='0%200%2010%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='5'%20cy='50%25'%20r='4'%20stroke='black'%20stroke-width='0.5'/%3e%3c/svg%3e",n1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24'%20height='24'%20fill='%23000000'%3e%3cpath%20d='M8,22h2l4.997-8H20c1.105,0,2-0.895,2-2s-0.895-2-2-2h-5.003L10,2H8l2.493,8H4.996L3.5,8H2l1,4l-1,4h1.5l1.496-2h5.497%20L8,22z'%20fill='%23000000'/%3e%3c/svg%3e",hie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24'%20height='24'%20fill='%23000000'%3e%3cpath%20d='M%202%203%20L%202%205%20L%209%205%20L%209%203%20L%202%203%20z%20M%2011%203%20L%2011%206.2050781%20C%208.584%206.6840781%207.012375%207.956%206.359375%209%20L%204%209%20L%204%207%20L%202%207%20L%202%2013%20L%204%2013%20L%204%2011%20L%206%2011%20L%206%2013.300781%20C%206%2015.370781%207.8795313%2017%2010.269531%2017%20L%2013.810547%2017%20C%2016.170547%2017%2021.570703%2017%2021.970703%2013%20L%2017%2013%20C%2014.79%2013%2013%2011.21%2013%209%20L%2013%203%20L%2011%203%20z%20M%2015%203%20L%2015%205%20L%2022%205%20L%2022%203%20L%2015%203%20z%20M%2015%206.1699219%20L%2015%209%20C%2015%2010.1%2015.9%2011%2017%2011%20L%2021.740234%2011%20C%2020.940234%208.64%2018.28%206.7299219%2015%206.1699219%20z%20M%2021%2018%20C%2021%2018.552%2020.552%2019%2020%2019%20L%206%2019%20L%206%2021%20L%2020%2021%20C%2021.654%2021%2023%2019.654%2023%2018%20L%2021%2018%20z'%20fill='%23000000'/%3e%3c/svg%3e",pie="/assets/drone1-vQs42P1F.svg",uv="/assets/drone2-x2UfxKES.svg",mie="/assets/drone3-EPwZhuDh.svg",gie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='47'%20height='37'%20viewBox='0%200%2047%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.5%200L46.4497%2036.75H0.550327L23.5%200Z'%20fill='%2300FF0A'/%3e%3c/svg%3e",yie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='10.550469mm'%20height='11.099902mm'%20viewBox='0%200%2010.550469%2011.099902'%20version='1.1'%20id='svg5'%20sodipodi:docname='PowerTower.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview29'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20inkscape:document-units='mm'%20showgrid='false'%20/%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%20transform='matrix(1.2914054,0,0,1.2914054,-44.349104,-250.92541)'%20inkscape:export-filename='../8bf6bfef/g329812.svg'%20inkscape:export-xdpi='96'%20inkscape:export-ydpi='96'%3e%3cg%20id='g1611'%20transform='matrix(0.1732213,0,0,0.1732213,28.393016,160.64652)'%3e%3cpath%20style='fill:%23000000;stroke:%23999999;stroke-width:0.264583'%20d='m%2044.755491,243.21009%20c%200.0638,-0.70167%200.12758,-1.40335%200.19137,-2.10502'%20id='path245-8-0'%20/%3e%3cpath%20style='fill:%23000000;stroke-width:0.264583'%20d='m%2042.705671,243.89909%2015.24211,-49.59496%2014.9889,49.61983%20-14.94047,-4.79905%20z'%20id='path366-6-1'%20/%3e%3cpath%20style='fill:none;stroke:%23999999;stroke-width:1.5;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2065.090551,218.22825%20-14.21776,4.65545%2015.77463,5.18213%20-21.10264,6.73158'%20id='path1500-5-8'%20/%3e%3cpath%20style='fill:none;stroke:%23999999;stroke-width:1.5;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2050.587581,218.15902%2014.21776,4.65545%20-15.77463,5.18213%2021.10264,6.73158'%20id='path1500-5-6-0'%20/%3e%3cpath%20style='fill:%23000000;stroke:%23b3b3b3;stroke-width:2;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2037.095893,210.4801%2041.910248,0.11388'%20id='path368-6-4'%20/%3e%3ccircle%20style='fill:%2387decd;stroke:%23000000;stroke-width:0.495712;stroke-dasharray:none;stroke-dashoffset:0'%20id='path3174'%20cx='36.455219'%20cy='210.51549'%20r='1.8656268'%20/%3e%3ccircle%20style='fill:%235fd3bc;stroke:%23000000;stroke-width:0.495712;stroke-dasharray:none;stroke-dashoffset:0'%20id='path3174-8'%20cx='79.391953'%20cy='210.65347'%20r='1.8656268'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",vie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='4'%20y='4'%20width='32'%20height='32'%20fill='%235144E6'%20stroke='%23FF0A0A'%20stroke-width='8'/%3e%3c/svg%3e",ms="/assets/drone-svgrepo-R6kWQAqP.svg",S5={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},H0={helicopter:hie,plane:n1,drone:pie,dji_M210_noetic:uv,dji_M210_melodic:uv,dji_M210_noetic_rtk:uv,dji_M210_melodic_rtk:uv,dji_M300:uv,px4:n1,catec:mie,fuvex:n1,default:n1},bie={helicopter:ms,plane:ms,drone:ms,dji_M210_noetic:ms,dji_M210_melodic:ms,dji_M210_noetic_rtk:ms,dji_M210_melodic_rtk:ms,dji_M300:ms,px4:ms,catec:ms,fuvex:ms,default:ms},Vw=e=>H0.hasOwnProperty(e)?e:"default",jc={},xie=async()=>{const e=await Sf(uie),t=await Sf(fie);jc.background=await Ku(e),jc.item=await Ku(await Sf(gie)),jc.powerTower=await Ku(await Sf(yie)),jc.base=await Ku(await Sf(vie)),jc.direction=await Ku(await Sf(die)),Object.keys(ph.colors_devices).forEach(async n=>{jc[`background-${n}`]=await Ku(e,null,S5[n]),jc[`mission-${n}`]=await Ku(t,null,S5[n])}),await Promise.all(Object.keys(H0).map(async n=>{const r=[];["primary","positive","negative","neutral"].forEach(i=>{r.push(Sf(H0[n]).then(o=>{jc[`${n}-${i}`]=Ku(e,o,ph.colors[i])}))}),await Promise.all(r)}))};function Uc(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function JW(e){if(!Uc(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=JW(e[n])}),t}function io(e,t,n={clone:!0}){const r=n.clone?te({},e):e;return Uc(e)&&Uc(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Uc(t[i])&&i in e&&Uc(e[i])?r[i]=io(e[i],t[i],n):n.clone?r[i]=Uc(t[i])?JW(t[i]):t[i]:r[i]=t[i])}),r}var QW={exports:{}},_ie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wie=_ie,Sie=wie;function e9(){}function t9(){}t9.resetWarningCache=e9;var kie=function(){function e(r,i,o,s,a,f){if(f!==Sie){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:t9,resetWarningCache:e9};return n.PropTypes=n,n};QW.exports=kie();var j$=QW.exports;const Pn=mr(j$);function Nd(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function at(e){if(typeof e!="string")throw new Error(Nd(7));return e.charAt(0).toUpperCase()+e.slice(1)}function bM(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function N$(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function Cie(e,t){return()=>null}function K1(e,t){var n,r;return V.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Hi(e){return e&&e.ownerDocument||document}function zd(e){return Hi(e).defaultView||window}function Tie(e,t){return()=>null}function Ww(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Pie=typeof window<"u"?V.useLayoutEffect:V.useEffect,Ns=Pie;let k5=0;function Eie(e){const[t,n]=V.useState(e),r=e||t;return V.useEffect(()=>{t==null&&(k5+=1,n(`mui-${k5}`))},[t]),r}const C5=dw.useId;function ek(e){if(C5!==void 0){const t=C5();return e??t}return Eie(e)}function Oie(e,t,n,r,i){return null}function Lm({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=V.useRef(e!==void 0),[o,s]=V.useState(t),a=i?e:o,f=V.useCallback(h=>{i||s(h)},[]);return[a,f]}function bl(e){const t=V.useRef(e);return Ns(()=>{t.current=e}),V.useRef((...n)=>(0,t.current)(...n)).current}function ci(...e){return V.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Ww(n,t)})},e)}let tk=!0,xM=!1,T5;const Mie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Aie(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&Mie[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Iie(e){e.metaKey||e.altKey||e.ctrlKey||(tk=!0)}function FP(){tk=!1}function $ie(){this.visibilityState==="hidden"&&xM&&(tk=!0)}function Rie(e){e.addEventListener("keydown",Iie,!0),e.addEventListener("mousedown",FP,!0),e.addEventListener("pointerdown",FP,!0),e.addEventListener("touchstart",FP,!0),e.addEventListener("visibilitychange",$ie,!0)}function Die(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return tk||Aie(t)}function nk(){const e=V.useCallback(i=>{i!=null&&Rie(i.ownerDocument)},[]),t=V.useRef(!1);function n(){return t.current?(xM=!0,window.clearTimeout(T5),T5=window.setTimeout(()=>{xM=!1},100),t.current=!1,!0):!1}function r(i){return Die(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function n9(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const Lie=e=>{const t=V.useRef({});return V.useEffect(()=>{t.current=e}),t.current},r9=Lie;function jie(e){return V.Children.toArray(e).filter(t=>V.isValidElement(t))}function z$(e,t){const n=te({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=te({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=te({},o),Object.keys(i).forEach(s=>{n[r][s]=z$(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function nn(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const P5=e=>e,Nie=()=>{let e=P5;return{configure(t){e=t},generate(t){return e(t)},reset(){e=P5}}},zie=Nie(),B$=zie,Bie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Xt(e,t,n="Mui"){const r=Bie[t];return r?`${n}-${r}`:`${B$.generate(e)}-${t}`}function Jt(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Xt(e,i,n)}),r}const mh="$$material";function i9(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Fie=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Uie=i9(function(e){return Fie.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function Vie(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Wie(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var qie=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Wie(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Vie(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Ro="-ms-",qw="-moz-",sr="-webkit-",o9="comm",F$="rule",U$="decl",Gie="@import",a9="@keyframes",Hie="@layer",Yie=Math.abs,rk=String.fromCharCode,Kie=Object.assign;function Zie(e,t){return vo(e,0)^45?(((t<<2^vo(e,0))<<2^vo(e,1))<<2^vo(e,2))<<2^vo(e,3):0}function s9(e){return e.trim()}function Xie(e,t){return(e=t.exec(e))?e[0]:e}function lr(e,t,n){return e.replace(t,n)}function _M(e,t){return e.indexOf(t)}function vo(e,t){return e.charCodeAt(t)|0}function Y0(e,t,n){return e.slice(t,n)}function Gl(e){return e.length}function V$(e){return e.length}function r1(e,t){return t.push(e),e}function Jie(e,t){return e.map(t).join("")}var ik=1,jm=1,l9=0,Ia=0,Ii=0,wg="";function ok(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:ik,column:jm,length:s,return:""}}function dv(e,t){return Kie(ok("",null,null,"",null,null,0),e,{length:-e.length},t)}function Qie(){return Ii}function eoe(){return Ii=Ia>0?vo(wg,--Ia):0,jm--,Ii===10&&(jm=1,ik--),Ii}function Ka(){return Ii=Ia<l9?vo(wg,Ia++):0,jm++,Ii===10&&(jm=1,ik++),Ii}function rc(){return vo(wg,Ia)}function Z1(){return Ia}function Xb(e,t){return Y0(wg,e,t)}function K0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function c9(e){return ik=jm=1,l9=Gl(wg=e),Ia=0,[]}function u9(e){return wg="",e}function X1(e){return s9(Xb(Ia-1,wM(e===91?e+2:e===40?e+1:e)))}function toe(e){for(;(Ii=rc())&&Ii<33;)Ka();return K0(e)>2||K0(Ii)>3?"":" "}function noe(e,t){for(;--t&&Ka()&&!(Ii<48||Ii>102||Ii>57&&Ii<65||Ii>70&&Ii<97););return Xb(e,Z1()+(t<6&&rc()==32&&Ka()==32))}function wM(e){for(;Ka();)switch(Ii){case e:return Ia;case 34:case 39:e!==34&&e!==39&&wM(Ii);break;case 40:e===41&&wM(e);break;case 92:Ka();break}return Ia}function roe(e,t){for(;Ka()&&e+Ii!==57;)if(e+Ii===84&&rc()===47)break;return"/*"+Xb(t,Ia-1)+"*"+rk(e===47?e:Ka())}function ioe(e){for(;!K0(rc());)Ka();return Xb(e,Ia)}function ooe(e){return u9(J1("",null,null,null,[""],e=c9(e),0,[0],e))}function J1(e,t,n,r,i,o,s,a,f){for(var h=0,g=0,y=s,x=0,P=0,E=0,S=1,O=1,A=1,M=0,I="",N=i,$=o,R=r,F=I;O;)switch(E=M,M=Ka()){case 40:if(E!=108&&vo(F,y-1)==58){_M(F+=lr(X1(M),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:F+=X1(M);break;case 9:case 10:case 13:case 32:F+=toe(E);break;case 92:F+=noe(Z1()-1,7);continue;case 47:switch(rc()){case 42:case 47:r1(aoe(roe(Ka(),Z1()),t,n),f);break;default:F+="/"}break;case 123*S:a[h++]=Gl(F)*A;case 125*S:case 59:case 0:switch(M){case 0:case 125:O=0;case 59+g:A==-1&&(F=lr(F,/\f/g,"")),P>0&&Gl(F)-y&&r1(P>32?O5(F+";",r,n,y-1):O5(lr(F," ","")+";",r,n,y-2),f);break;case 59:F+=";";default:if(r1(R=E5(F,t,n,h,g,i,a,I,N=[],$=[],y),o),M===123)if(g===0)J1(F,t,R,R,N,o,y,a,$);else switch(x===99&&vo(F,3)===110?100:x){case 100:case 108:case 109:case 115:J1(e,R,R,r&&r1(E5(e,R,R,0,0,i,a,I,i,N=[],y),$),i,$,y,a,r?N:$);break;default:J1(F,R,R,R,[""],$,0,a,$)}}h=g=P=0,S=A=1,I=F="",y=s;break;case 58:y=1+Gl(F),P=E;default:if(S<1){if(M==123)--S;else if(M==125&&S++==0&&eoe()==125)continue}switch(F+=rk(M),M*S){case 38:A=g>0?1:(F+="\f",-1);break;case 44:a[h++]=(Gl(F)-1)*A,A=1;break;case 64:rc()===45&&(F+=X1(Ka())),x=rc(),g=y=Gl(I=F+=ioe(Z1())),M++;break;case 45:E===45&&Gl(F)==2&&(S=0)}}return o}function E5(e,t,n,r,i,o,s,a,f,h,g){for(var y=i-1,x=i===0?o:[""],P=V$(x),E=0,S=0,O=0;E<r;++E)for(var A=0,M=Y0(e,y+1,y=Yie(S=s[E])),I=e;A<P;++A)(I=s9(S>0?x[A]+" "+M:lr(M,/&\f/g,x[A])))&&(f[O++]=I);return ok(e,t,n,i===0?F$:a,f,h,g)}function aoe(e,t,n){return ok(e,t,n,o9,rk(Qie()),Y0(e,2,-2),0)}function O5(e,t,n,r){return ok(e,t,n,U$,Y0(e,0,r),Y0(e,r+1,-1),r)}function mm(e,t){for(var n="",r=V$(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function soe(e,t,n,r){switch(e.type){case Hie:if(e.children.length)break;case Gie:case U$:return e.return=e.return||e.value;case o9:return"";case a9:return e.return=e.value+"{"+mm(e.children,r)+"}";case F$:e.value=e.props.join(",")}return Gl(n=mm(e.children,r))?e.return=e.value+"{"+n+"}":""}function loe(e){var t=V$(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function coe(e){return function(t){t.root||(t=t.return)&&e(t)}}var uoe=function(t,n,r){for(var i=0,o=0;i=o,o=rc(),i===38&&o===12&&(n[r]=1),!K0(o);)Ka();return Xb(t,Ia)},doe=function(t,n){var r=-1,i=44;do switch(K0(i)){case 0:i===38&&rc()===12&&(n[r]=1),t[r]+=uoe(Ia-1,n,r);break;case 2:t[r]+=X1(i);break;case 4:if(i===44){t[++r]=rc()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=rk(i)}while(i=Ka());return t},foe=function(t,n){return u9(doe(c9(t),n))},M5=new WeakMap,hoe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!M5.get(r))&&!i){M5.set(t,!0);for(var o=[],s=foe(n,o),a=r.props,f=0,h=0;f<s.length;f++)for(var g=0;g<a.length;g++,h++)t.props[h]=o[f]?s[f].replace(/&\f/g,a[g]):a[g]+" "+s[f]}}},poe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function d9(e,t){switch(Zie(e,t)){case 5103:return sr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return sr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return sr+e+qw+e+Ro+e+e;case 6828:case 4268:return sr+e+Ro+e+e;case 6165:return sr+e+Ro+"flex-"+e+e;case 5187:return sr+e+lr(e,/(\w+).+(:[^]+)/,sr+"box-$1$2"+Ro+"flex-$1$2")+e;case 5443:return sr+e+Ro+"flex-item-"+lr(e,/flex-|-self/,"")+e;case 4675:return sr+e+Ro+"flex-line-pack"+lr(e,/align-content|flex-|-self/,"")+e;case 5548:return sr+e+Ro+lr(e,"shrink","negative")+e;case 5292:return sr+e+Ro+lr(e,"basis","preferred-size")+e;case 6060:return sr+"box-"+lr(e,"-grow","")+sr+e+Ro+lr(e,"grow","positive")+e;case 4554:return sr+lr(e,/([^-])(transform)/g,"$1"+sr+"$2")+e;case 6187:return lr(lr(lr(e,/(zoom-|grab)/,sr+"$1"),/(image-set)/,sr+"$1"),e,"")+e;case 5495:case 3959:return lr(e,/(image-set\([^]*)/,sr+"$1$`$1");case 4968:return lr(lr(e,/(.+:)(flex-)?(.*)/,sr+"box-pack:$3"+Ro+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+sr+e+e;case 4095:case 3583:case 4068:case 2532:return lr(e,/(.+)-inline(.+)/,sr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gl(e)-1-t>6)switch(vo(e,t+1)){case 109:if(vo(e,t+4)!==45)break;case 102:return lr(e,/(.+:)(.+)-([^]+)/,"$1"+sr+"$2-$3$1"+qw+(vo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~_M(e,"stretch")?d9(lr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(vo(e,t+1)!==115)break;case 6444:switch(vo(e,Gl(e)-3-(~_M(e,"!important")&&10))){case 107:return lr(e,":",":"+sr)+e;case 101:return lr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+sr+(vo(e,14)===45?"inline-":"")+"box$3$1"+sr+"$2$3$1"+Ro+"$2box$3")+e}break;case 5936:switch(vo(e,t+11)){case 114:return sr+e+Ro+lr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return sr+e+Ro+lr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return sr+e+Ro+lr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return sr+e+Ro+e+e}return e}var moe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case U$:t.return=d9(t.value,t.length);break;case a9:return mm([dv(t,{value:lr(t.value,"@","@"+sr)})],i);case F$:if(t.length)return Jie(t.props,function(o){switch(Xie(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mm([dv(t,{props:[lr(o,/:(read-\w+)/,":"+qw+"$1")]})],i);case"::placeholder":return mm([dv(t,{props:[lr(o,/:(plac\w+)/,":"+sr+"input-$1")]}),dv(t,{props:[lr(o,/:(plac\w+)/,":"+qw+"$1")]}),dv(t,{props:[lr(o,/:(plac\w+)/,Ro+"input-$1")]})],i)}return""})}},goe=[moe],f9=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var O=S.getAttribute("data-emotion");O.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=t.stylisPlugins||goe,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var O=S.getAttribute("data-emotion").split(" "),A=1;A<O.length;A++)o[O[A]]=!0;a.push(S)});var f,h=[hoe,poe];{var g,y=[soe,coe(function(S){g.insert(S)})],x=loe(h.concat(i,y)),P=function(O){return mm(ooe(O),x)};f=function(O,A,M,I){g=M,P(O?O+"{"+A.styles+"}":A.styles),I&&(E.inserted[A.name]=!0)}}var E={key:n,sheet:new qie({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:f};return E.sheet.hydrate(a),E},yoe=!0;function voe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var h9=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||yoe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},p9=function(t,n,r){h9(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function boe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var xoe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_oe=/[A-Z]|^ms/g,woe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,m9=function(t){return t.charCodeAt(1)===45},A5=function(t){return t!=null&&typeof t!="boolean"},UP=i9(function(e){return m9(e)?e:e.replace(_oe,"-$&").toLowerCase()}),I5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(woe,function(r,i,o){return Hl={name:i,styles:o,next:Hl},i})}return xoe[t]!==1&&!m9(t)&&typeof n=="number"&&n!==0?n+"px":n};function Z0(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Hl={name:n.name,styles:n.styles,next:Hl},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Hl={name:r.name,styles:r.styles,next:Hl},r=r.next;var i=n.styles+";";return i}return Soe(e,t,n)}case"function":{if(e!==void 0){var o=Hl,s=n(e);return Hl=o,Z0(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function Soe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Z0(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":A5(s)&&(r+=UP(o)+":"+I5(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)A5(s[a])&&(r+=UP(o)+":"+I5(o,s[a])+";");else{var f=Z0(e,t,s);switch(o){case"animation":case"animationName":{r+=UP(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var $5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Hl,W$=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Hl=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=Z0(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=Z0(r,n,t[a]),i&&(o+=s[a]);$5.lastIndex=0;for(var f="",h;(h=$5.exec(o))!==null;)f+="-"+h[1];var g=boe(o)+f;return{name:g,styles:o,next:Hl}},koe=function(t){return t()},g9=dw.useInsertionEffect?dw.useInsertionEffect:!1,Coe=g9||koe,R5=g9||V.useLayoutEffect,y9=V.createContext(typeof HTMLElement<"u"?f9({key:"css"}):null),Toe=y9.Provider,v9=function(t){return V.forwardRef(function(n,r){var i=V.useContext(y9);return t(n,i,r)})},ak=V.createContext({}),Poe=v9(function(e,t){var n=e.styles,r=W$([n],void 0,V.useContext(ak)),i=V.useRef();return R5(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,f=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),f!==null&&(a=!0,f.setAttribute("data-emotion",o),s.hydrate([f])),i.current=[s,a],function(){s.flush()}},[t]),R5(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&p9(t,r.next,!0),s.tags.length){var f=s.tags[s.tags.length-1].nextElementSibling;s.before=f,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Eoe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return W$(t)}var q$=function(){var t=Eoe.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Ooe=Uie,Moe=function(t){return t!=="theme"},D5=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Ooe:Moe},L5=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Aoe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return h9(n,r,i),Coe(function(){return p9(n,r,i)}),null},Ioe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=L5(t,n,r),f=a||D5(i),h=!f("as");return function(){var g=arguments,y=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&y.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{y.push(g[0][0]);for(var x=g.length,P=1;P<x;P++)y.push(g[P],g[0][P])}var E=v9(function(S,O,A){var M=h&&S.as||i,I="",N=[],$=S;if(S.theme==null){$={};for(var R in S)$[R]=S[R];$.theme=V.useContext(ak)}typeof S.className=="string"?I=voe(O.registered,N,S.className):S.className!=null&&(I=S.className+" ");var F=W$(y.concat(N),O.registered,$);I+=O.key+"-"+F.name,s!==void 0&&(I+=" "+s);var q=h&&a===void 0?D5(M):f,X={};for(var Q in S)h&&Q==="as"||q(Q)&&(X[Q]=S[Q]);return X.className=I,X.ref=A,V.createElement(V.Fragment,null,V.createElement(Aoe,{cache:O,serialized:F,isStringTag:typeof M=="string"}),V.createElement(M,X))});return E.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=t.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=y,E.__emotion_forwardProp=a,Object.defineProperty(E,"toString",{value:function(){return"."+s}}),E.withComponent=function(S,O){return e(S,te({},n,O,{shouldForwardProp:L5(E,O,!0)})).apply(void 0,y)},E}},$oe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],SM=Ioe.bind();$oe.forEach(function(e){SM[e]=SM(e)});let kM;typeof document=="object"&&(kM=f9({key:"css",prepend:!0}));function Roe(e){const{injectFirst:t,children:n}=e;return t&&kM?L.jsx(Toe,{value:kM,children:n}):n}function Doe(e){return e==null||Object.keys(e).length===0}function Loe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Doe(i)?n:i):t;return L.jsx(Poe,{styles:r})}function b9(e,t){return SM(e,t)}const joe=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Noe=["values","unit","step"],zoe=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>te({},n,{[r.key]:r.val}),{})};function Boe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=yt(e,Noe),o=zoe(t),s=Object.keys(o);function a(x){return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${n})`}function f(x){return`@media (max-width:${(typeof t[x]=="number"?t[x]:x)-r/100}${n})`}function h(x,P){const E=s.indexOf(P);return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${n}) and (max-width:${(E!==-1&&typeof t[s[E]]=="number"?t[s[E]]:P)-r/100}${n})`}function g(x){return s.indexOf(x)+1<s.length?h(x,s[s.indexOf(x)+1]):a(x)}function y(x){const P=s.indexOf(x);return P===0?a(s[1]):P===s.length-1?f(s[P]):h(x,s[s.indexOf(x)+1]).replace("@media","@media not all and")}return te({keys:s,values:o,up:a,down:f,between:h,only:g,not:y,unit:n},i)}const Foe={borderRadius:4},Uoe=Foe;function s0(e,t){return t?io(e,t,{clone:!1}):e}const G$={xs:0,sm:600,md:900,lg:1200,xl:1536},j5={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${G$[e]}px)`};function $a(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||j5;return t.reduce((s,a,f)=>(s[o.up(o.keys[f])]=n(t[f]),s),{})}if(typeof t=="object"){const o=r.breakpoints||j5;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||G$).indexOf(a)!==-1){const f=o.up(a);s[f]=n(t[a],a)}else{const f=a;s[f]=t[f]}return s},{})}return n(t)}function x9(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function _9(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function Voe(e,...t){const n=x9(e),r=[n,...t].reduce((i,o)=>io(i,o),{});return _9(Object.keys(n),r)}function Woe(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function Qf({values:e,breakpoints:t,base:n}){const r=n||Woe(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,f)=>(Array.isArray(e)?(s[a]=e[f]!=null?e[f]:e[o],o=f):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function Nm(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Gw(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Nm(e,n)||r,t&&(i=t(i,r,e)),i}function Oi(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],f=s.theme,h=Nm(f,r)||{};return $a(s,a,y=>{let x=Gw(h,i,y);return y===x&&typeof y=="string"&&(x=Gw(h,i,`${t}${y==="default"?"":at(y)}`,y)),n===!1?x:{[n]:x}})};return o.propTypes={},o.filterProps=[t],o}function qoe(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Goe={m:"margin",p:"padding"},Hoe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},N5={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yoe=qoe(e=>{if(e.length>2)if(N5[e])e=N5[e];else return[e];const[t,n]=e.split(""),r=Goe[t],i=Hoe[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),H$=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Y$=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...H$,...Y$];function Jb(e,t,n,r){var i;const o=(i=Nm(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function K$(e){return Jb(e,"spacing",8)}function gh(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function Koe(e,t){return n=>e.reduce((r,i)=>(r[i]=gh(t,n),r),{})}function Zoe(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=Yoe(n),o=Koe(i,r),s=e[n];return $a(e,s,o)}function w9(e,t){const n=K$(e.theme);return Object.keys(e).map(r=>Zoe(e,t,r,n)).reduce(s0,{})}function hi(e){return w9(e,H$)}hi.propTypes={};hi.filterProps=H$;function pi(e){return w9(e,Y$)}pi.propTypes={};pi.filterProps=Y$;function Xoe(e=8){if(e.mui)return e;const t=K$({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function sk(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?s0(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ss(e){return typeof e!="number"?e:`${e}px solid`}function Ws(e,t){return Oi({prop:e,themeKey:"borders",transform:t})}const Joe=Ws("border",Ss),Qoe=Ws("borderTop",Ss),eae=Ws("borderRight",Ss),tae=Ws("borderBottom",Ss),nae=Ws("borderLeft",Ss),rae=Ws("borderColor"),iae=Ws("borderTopColor"),oae=Ws("borderRightColor"),aae=Ws("borderBottomColor"),sae=Ws("borderLeftColor"),lae=Ws("outline",Ss),cae=Ws("outlineColor"),lk=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Jb(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:gh(t,r)});return $a(e,e.borderRadius,n)}return null};lk.propTypes={};lk.filterProps=["borderRadius"];sk(Joe,Qoe,eae,tae,nae,rae,iae,oae,aae,sae,lk,lae,cae);const ck=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Jb(e.theme,"spacing",8),n=r=>({gap:gh(t,r)});return $a(e,e.gap,n)}return null};ck.propTypes={};ck.filterProps=["gap"];const uk=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Jb(e.theme,"spacing",8),n=r=>({columnGap:gh(t,r)});return $a(e,e.columnGap,n)}return null};uk.propTypes={};uk.filterProps=["columnGap"];const dk=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Jb(e.theme,"spacing",8),n=r=>({rowGap:gh(t,r)});return $a(e,e.rowGap,n)}return null};dk.propTypes={};dk.filterProps=["rowGap"];const uae=Oi({prop:"gridColumn"}),dae=Oi({prop:"gridRow"}),fae=Oi({prop:"gridAutoFlow"}),hae=Oi({prop:"gridAutoColumns"}),pae=Oi({prop:"gridAutoRows"}),mae=Oi({prop:"gridTemplateColumns"}),gae=Oi({prop:"gridTemplateRows"}),yae=Oi({prop:"gridTemplateAreas"}),vae=Oi({prop:"gridArea"});sk(ck,uk,dk,uae,dae,fae,hae,pae,mae,gae,yae,vae);function gm(e,t){return t==="grey"?t:e}const bae=Oi({prop:"color",themeKey:"palette",transform:gm}),xae=Oi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:gm}),_ae=Oi({prop:"backgroundColor",themeKey:"palette",transform:gm});sk(bae,xae,_ae);function Wa(e){return e<=1&&e!==0?`${e*100}%`:e}const wae=Oi({prop:"width",transform:Wa}),Z$=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||G$[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Wa(n)}};return $a(e,e.maxWidth,t)}return null};Z$.filterProps=["maxWidth"];const Sae=Oi({prop:"minWidth",transform:Wa}),kae=Oi({prop:"height",transform:Wa}),Cae=Oi({prop:"maxHeight",transform:Wa}),Tae=Oi({prop:"minHeight",transform:Wa});Oi({prop:"size",cssProperty:"width",transform:Wa});Oi({prop:"size",cssProperty:"height",transform:Wa});const Pae=Oi({prop:"boxSizing"});sk(wae,Z$,Sae,kae,Cae,Tae,Pae);const Eae={border:{themeKey:"borders",transform:Ss},borderTop:{themeKey:"borders",transform:Ss},borderRight:{themeKey:"borders",transform:Ss},borderBottom:{themeKey:"borders",transform:Ss},borderLeft:{themeKey:"borders",transform:Ss},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ss},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:lk},color:{themeKey:"palette",transform:gm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:gm},backgroundColor:{themeKey:"palette",transform:gm},p:{style:pi},pt:{style:pi},pr:{style:pi},pb:{style:pi},pl:{style:pi},px:{style:pi},py:{style:pi},padding:{style:pi},paddingTop:{style:pi},paddingRight:{style:pi},paddingBottom:{style:pi},paddingLeft:{style:pi},paddingX:{style:pi},paddingY:{style:pi},paddingInline:{style:pi},paddingInlineStart:{style:pi},paddingInlineEnd:{style:pi},paddingBlock:{style:pi},paddingBlockStart:{style:pi},paddingBlockEnd:{style:pi},m:{style:hi},mt:{style:hi},mr:{style:hi},mb:{style:hi},ml:{style:hi},mx:{style:hi},my:{style:hi},margin:{style:hi},marginTop:{style:hi},marginRight:{style:hi},marginBottom:{style:hi},marginLeft:{style:hi},marginX:{style:hi},marginY:{style:hi},marginInline:{style:hi},marginInlineStart:{style:hi},marginInlineEnd:{style:hi},marginBlock:{style:hi},marginBlockStart:{style:hi},marginBlockEnd:{style:hi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ck},rowGap:{style:dk},columnGap:{style:uk},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Wa},maxWidth:{style:Z$},minWidth:{transform:Wa},height:{transform:Wa},maxHeight:{transform:Wa},minHeight:{transform:Wa},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},fk=Eae;function Oae(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Mae(e,t){return typeof e=="function"?e(t):e}function Aae(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:f=n,themeKey:h,transform:g,style:y}=a;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[n]:r};const x=Nm(i,h)||{};return y?y(s):$a(s,r,E=>{let S=Gw(x,g,E);return E===S&&typeof E=="string"&&(S=Gw(x,g,`${n}${E==="default"?"":at(E)}`,E)),f===!1?S:{[f]:S}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:fk;function a(f){let h=f;if(typeof f=="function")h=f(o);else if(typeof f!="object")return f;if(!h)return null;const g=x9(o.breakpoints),y=Object.keys(g);let x=g;return Object.keys(h).forEach(P=>{const E=Mae(h[P],o);if(E!=null)if(typeof E=="object")if(s[P])x=s0(x,e(P,E,o,s));else{const S=$a({theme:o},E,O=>({[P]:O}));Oae(S,E)?x[P]=t({sx:E,theme:o}):x=s0(x,S)}else x=s0(x,e(P,E,o,s))}),_9(y,x)}return Array.isArray(i)?i.map(a):a(i)}return t}const S9=Aae();S9.filterProps=["sx"];const hk=S9,Iae=["breakpoints","palette","spacing","shape"];function Qb(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=yt(e,Iae),a=Boe(n),f=Xoe(i);let h=io({breakpoints:a,direction:"ltr",components:{},palette:te({mode:"light"},r),spacing:f,shape:te({},Uoe,o)},s);return h=t.reduce((g,y)=>io(g,y),h),h.unstable_sxConfig=te({},fk,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(y){return hk({sx:y,theme:this})},h}function $ae(e){return Object.keys(e).length===0}function X$(e=null){const t=V.useContext(ak);return!t||$ae(t)?e:t}const Rae=Qb();function pk(e=Rae){return X$(e)}function Dae({styles:e,themeId:t,defaultTheme:n={}}){const r=pk(n),i=typeof e=="function"?e(t&&r[t]||r):e;return L.jsx(Loe,{styles:i})}const Lae=["sx"],jae=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:fk;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function mk(e){const{sx:t}=e,n=yt(e,Lae),{systemProps:r,otherProps:i}=jae(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return Uc(a)?te({},r,a):r}:o=te({},r,t),te({},i,{sx:o})}function k9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=k9(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function rt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=k9(e))&&(r&&(r+=" "),r+=t);return r}const Nae=["className","component"];function zae(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=b9("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(hk);return V.forwardRef(function(f,h){const g=pk(n),y=mk(f),{className:x,component:P="div"}=y,E=yt(y,Nae);return L.jsx(o,te({as:P,ref:h,className:rt(x,i?i(r):r),theme:t&&g[t]||g},E))})}const Bae=["variant"];function z5(e){return e.length===0}function C9(e){const{variant:t}=e,n=yt(e,Bae);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=z5(r)?e[i]:at(e[i]):r+=`${z5(r)?i:at(i)}${at(e[i].toString())}`}),r}const Fae=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Uae(e){return Object.keys(e).length===0}function Vae(e){return typeof e=="string"&&e.charCodeAt(0)>96}const Wae=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,Hw=e=>{const t={};return e&&e.forEach(n=>{const r=C9(n.props);t[r]=n.style}),t},qae=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),Hw(n)},Yw=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach(o=>{let s=!0;Object.keys(o.props).forEach(a=>{r[a]!==o.props[a]&&e[a]!==o.props[a]&&(s=!1)}),s&&i.push(t[C9(o.props)])}),i},Gae=(e,t,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Yw(e,t,o)};function l0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Hae=Qb(),Yae=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Q1({defaultTheme:e,theme:t,themeId:n}){return Uae(t)?e:t[n]||t}function Kae(e){return e?(t,n)=>n[e]:null}const B5=({styledArg:e,props:t,defaultTheme:n,themeId:r})=>{const i=e(te({},t,{theme:Q1(te({},t,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const s=Yw(t,Hw(o),o);return[i,...s]}return i};function T9(e={}){const{themeId:t,defaultTheme:n=Hae,rootShouldForwardProp:r=l0,slotShouldForwardProp:i=l0}=e,o=s=>hk(te({},s,{theme:Q1(te({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{joe(s,N=>N.filter($=>!($!=null&&$.__mui_systemSx)));const{name:f,slot:h,skipVariantsResolver:g,skipSx:y,overridesResolver:x=Kae(Yae(h))}=a,P=yt(a,Fae),E=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,S=y||!1;let O,A=l0;h==="Root"||h==="root"?A=r:h?A=i:Vae(s)&&(A=void 0);const M=b9(s,te({shouldForwardProp:A,label:O},P)),I=(N,...$)=>{const R=$?$.map(Q=>{if(typeof Q=="function"&&Q.__emotion_real!==Q)return ae=>B5({styledArg:Q,props:ae,defaultTheme:n,themeId:t});if(Uc(Q)){let ae=Q,fe;return Q&&Q.variants&&(fe=Q.variants,delete ae.variants,ae=Se=>{let ke=Q;return Yw(Se,Hw(fe),fe).forEach(Oe=>{ke=io(ke,Oe)}),ke}),ae}return Q}):[];let F=N;if(Uc(N)){let Q;N&&N.variants&&(Q=N.variants,delete F.variants,F=ae=>{let fe=N;return Yw(ae,Hw(Q),Q).forEach(ke=>{fe=io(fe,ke)}),fe})}else typeof N=="function"&&N.__emotion_real!==N&&(F=Q=>B5({styledArg:N,props:Q,defaultTheme:n,themeId:t}));f&&x&&R.push(Q=>{const ae=Q1(te({},Q,{defaultTheme:n,themeId:t})),fe=Wae(f,ae);if(fe){const Se={};return Object.entries(fe).forEach(([ke,we])=>{Se[ke]=typeof we=="function"?we(te({},Q,{theme:ae})):we}),x(Q,Se)}return null}),f&&!E&&R.push(Q=>{const ae=Q1(te({},Q,{defaultTheme:n,themeId:t}));return Gae(Q,qae(f,ae),ae,f)}),S||R.push(o);const q=R.length-$.length;if(Array.isArray(N)&&q>0){const Q=new Array(q).fill("");F=[...N,...Q],F.raw=[...N.raw,...Q]}const X=M(F,...R);return s.muiName&&(X.muiName=s.muiName),X};return M.withConfig&&(I.withConfig=M.withConfig),I}}const Zae=T9(),P9=Zae;function Xae(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:z$(t.components[n].defaultProps,r)}function J$({props:e,name:t,defaultTheme:n,themeId:r}){let i=pk(n);return r&&(i=i[r]||i),Xae({theme:i,name:t,props:e})}function Q$(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function Jae(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function yh(e){if(e.type)return e;if(e.charAt(0)==="#")return yh(Jae(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Nd(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Nd(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function gk(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Qae(e){e=yh(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(h,g=(h+n/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let a="rgb";const f=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",f.push(t[3])),gk({type:a,values:f})}function CM(e){e=yh(e);let t=e.type==="hsl"||e.type==="hsla"?yh(Qae(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ese(e,t){const n=CM(e),r=CM(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function kr(e,t){return e=yh(e),t=Q$(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,gk(e)}function yk(e,t){if(e=yh(e),t=Q$(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return gk(e)}function vk(e,t){if(e=yh(e),t=Q$(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return gk(e)}function tse(e,t=.15){return CM(e)>.5?yk(e,t):vk(e,t)}const nse=V.createContext(null),E9=nse;function eR(){return V.useContext(E9)}const rse=typeof Symbol=="function"&&Symbol.for,O9=rse?Symbol.for("mui.nested"):"__THEME_NESTED__";function ise(e,t){return typeof t=="function"?t(e):te({},e,t)}function ose(e){const{children:t,theme:n}=e,r=eR(),i=V.useMemo(()=>{const o=r===null?n:ise(r,n);return o!=null&&(o[O9]=r!==null),o},[n,r]);return L.jsx(E9.Provider,{value:i,children:t})}const F5={};function U5(e,t,n,r=!1){return V.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?te({},t,{[e]:o}):o;return r?()=>s:s}return e?te({},t,{[e]:n}):te({},t,n)},[e,t,n,r])}function ase(e){const{children:t,theme:n,themeId:r}=e,i=X$(F5),o=eR()||F5,s=U5(r,i,n),a=U5(r,o,n,!0);return L.jsx(ose,{theme:a,children:L.jsx(ak.Provider,{value:s,children:t})})}const sse=["className","component","disableGutters","fixed","maxWidth","classes"],lse=Qb(),cse=P9("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${at(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),use=e=>J$({props:e,name:"MuiContainer",defaultTheme:lse}),dse=(e,t)=>{const n=f=>Xt(t,f),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=e,a={root:["root",s&&`maxWidth${at(String(s))}`,i&&"fixed",o&&"disableGutters"]};return nn(a,n,r)};function fse(e={}){const{createStyledComponent:t=cse,useThemeProps:n=use,componentName:r="MuiContainer"}=e,i=t(({theme:s,ownerState:a})=>te({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((f,h)=>{const g=h,y=s.breakpoints.values[g];return y!==0&&(f[s.breakpoints.up(g)]={maxWidth:`${y}${s.breakpoints.unit}`}),f},{}),({theme:s,ownerState:a})=>te({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return V.forwardRef(function(a,f){const h=n(a),{className:g,component:y="div",disableGutters:x=!1,fixed:P=!1,maxWidth:E="lg"}=h,S=yt(h,sse),O=te({},h,{component:y,disableGutters:x,fixed:P,maxWidth:E}),A=dse(O,r);return L.jsx(i,te({as:y,ownerState:O,className:rt(A.root,g),ref:f},S))})}const hse=["component","direction","spacing","divider","children","className","useFlexGap"],pse=Qb(),mse=P9("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function gse(e){return J$({props:e,name:"MuiStack",defaultTheme:pse})}function yse(e,t){const n=V.Children.toArray(e).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(V.cloneElement(t,{key:`separator-${o}`})),r),[])}const vse=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],bse=({ownerState:e,theme:t})=>{let n=te({display:"flex",flexDirection:"column"},$a({theme:t},Qf({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=K$(t),i=Object.keys(t.breakpoints.values).reduce((f,h)=>((typeof e.spacing=="object"&&e.spacing[h]!=null||typeof e.direction=="object"&&e.direction[h]!=null)&&(f[h]=!0),f),{}),o=Qf({values:e.direction,base:i}),s=Qf({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((f,h,g)=>{if(!o[f]){const x=h>0?o[g[h-1]]:"column";o[f]=x}}),n=io(n,$a({theme:t},s,(f,h)=>e.useFlexGap?{gap:gh(r,f)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${vse(h?o[h]:e.direction)}`]:gh(r,f)}}))}return n=Voe(t.breakpoints,n),n};function xse(e={}){const{createStyledComponent:t=mse,useThemeProps:n=gse,componentName:r="MuiStack"}=e,i=()=>nn({root:["root"]},f=>Xt(r,f),{}),o=t(bse);return V.forwardRef(function(f,h){const g=n(f),y=mk(g),{component:x="div",direction:P="column",spacing:E=0,divider:S,children:O,className:A,useFlexGap:M=!1}=y,I=yt(y,hse),N={direction:P,spacing:E,useFlexGap:M},$=i();return L.jsx(o,te({as:x,ownerState:N,ref:h,className:rt($.root,A)},I,{children:S?yse(O,S):O}))})}function _se(e,t){return te({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const wse=["mode","contrastThreshold","tonalOffset"],V5={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:hh.white,default:hh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},VP={text:{primary:hh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:hh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function W5(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=vk(e.main,i):t==="dark"&&(e.dark=yk(e.main,o)))}function Sse(e="light"){return e==="dark"?{main:bp[200],light:bp[50],dark:bp[400]}:{main:bp[700],light:bp[400],dark:bp[800]}}function kse(e="light"){return e==="dark"?{main:vp[200],light:vp[50],dark:vp[400]}:{main:vp[500],light:vp[300],dark:vp[700]}}function Cse(e="light"){return e==="dark"?{main:Fc[500],light:Fc[300],dark:Fc[700]}:{main:Fc[700],light:Fc[400],dark:Fc[800]}}function Tse(e="light"){return e==="dark"?{main:xp[400],light:xp[300],dark:xp[700]}:{main:xp[700],light:xp[500],dark:xp[900]}}function Pse(e="light"){return e==="dark"?{main:pl[400],light:pl[300],dark:pl[700]}:{main:pl[800],light:pl[500],dark:pl[900]}}function Ese(e="light"){return e==="dark"?{main:lv[400],light:lv[300],dark:lv[700]}:{main:"#ed6c02",light:lv[500],dark:lv[900]}}function Ose(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=yt(e,wse),o=e.primary||Sse(t),s=e.secondary||kse(t),a=e.error||Cse(t),f=e.info||Tse(t),h=e.success||Pse(t),g=e.warning||Ese(t);function y(S){return ese(S,VP.text.primary)>=n?VP.text.primary:V5.text.primary}const x=({color:S,name:O,mainShade:A=500,lightShade:M=300,darkShade:I=700})=>{if(S=te({},S),!S.main&&S[A]&&(S.main=S[A]),!S.hasOwnProperty("main"))throw new Error(Nd(11,O?` (${O})`:"",A));if(typeof S.main!="string")throw new Error(Nd(12,O?` (${O})`:"",JSON.stringify(S.main)));return W5(S,"light",M,r),W5(S,"dark",I,r),S.contrastText||(S.contrastText=y(S.main)),S},P={dark:VP,light:V5};return io(te({common:te({},hh),mode:t,primary:x({color:o,name:"primary"}),secondary:x({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:a,name:"error"}),warning:x({color:g,name:"warning"}),info:x({color:f,name:"info"}),success:x({color:h,name:"success"}),grey:nc,contrastThreshold:n,getContrastText:y,augmentColor:x,tonalOffset:r},P[t]),i)}const Mse=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Ase(e){return Math.round(e*1e5)/1e5}const q5={textTransform:"uppercase"},G5='"Roboto", "Helvetica", "Arial", sans-serif';function Ise(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=G5,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:f=700,htmlFontSize:h=16,allVariants:g,pxToRem:y}=n,x=yt(n,Mse),P=i/14,E=y||(A=>`${A/h*P}rem`),S=(A,M,I,N,$)=>te({fontFamily:r,fontWeight:A,fontSize:E(M),lineHeight:I},r===G5?{letterSpacing:`${Ase(N/M)}em`}:{},$,g),O={h1:S(o,96,1.167,-1.5),h2:S(o,60,1.2,-.5),h3:S(s,48,1.167,0),h4:S(s,34,1.235,.25),h5:S(s,24,1.334,0),h6:S(a,20,1.6,.15),subtitle1:S(s,16,1.75,.15),subtitle2:S(a,14,1.57,.1),body1:S(s,16,1.5,.15),body2:S(s,14,1.43,.15),button:S(a,14,1.75,.4,q5),caption:S(s,12,1.66,.4),overline:S(s,12,2.66,1,q5),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return io(te({htmlFontSize:h,pxToRem:E,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:f},O),x,{clone:!1})}const $se=.2,Rse=.14,Dse=.12;function Zr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${$se})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Rse})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Dse})`].join(",")}const Lse=["none",Zr(0,2,1,-1,0,1,1,0,0,1,3,0),Zr(0,3,1,-2,0,2,2,0,0,1,5,0),Zr(0,3,3,-2,0,3,4,0,0,1,8,0),Zr(0,2,4,-1,0,4,5,0,0,1,10,0),Zr(0,3,5,-1,0,5,8,0,0,1,14,0),Zr(0,3,5,-1,0,6,10,0,0,1,18,0),Zr(0,4,5,-2,0,7,10,1,0,2,16,1),Zr(0,5,5,-3,0,8,10,1,0,3,14,2),Zr(0,5,6,-3,0,9,12,1,0,3,16,2),Zr(0,6,6,-3,0,10,14,1,0,4,18,3),Zr(0,6,7,-4,0,11,15,1,0,4,20,3),Zr(0,7,8,-4,0,12,17,2,0,5,22,4),Zr(0,7,8,-4,0,13,19,2,0,5,24,4),Zr(0,7,9,-4,0,14,21,2,0,5,26,4),Zr(0,8,9,-5,0,15,22,2,0,6,28,5),Zr(0,8,10,-5,0,16,24,2,0,6,30,5),Zr(0,8,11,-5,0,17,26,2,0,6,32,5),Zr(0,9,11,-5,0,18,28,2,0,7,34,6),Zr(0,9,12,-6,0,19,29,2,0,7,36,6),Zr(0,10,13,-6,0,20,31,3,0,8,38,7),Zr(0,10,13,-6,0,21,33,3,0,8,40,7),Zr(0,10,14,-6,0,22,35,3,0,8,42,7),Zr(0,11,14,-7,0,23,36,3,0,9,44,8),Zr(0,11,15,-7,0,24,38,3,0,9,46,8)],jse=Lse,Nse=["duration","easing","delay"],zse={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},M9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function H5(e){return`${Math.round(e)}ms`}function Bse(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Fse(e){const t=te({},zse,e.easing),n=te({},M9,e.duration);return te({getAutoHeightDuration:Bse,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:f=0}=o;return yt(o,Nse),(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof s=="string"?s:H5(s)} ${a} ${typeof f=="string"?f:H5(f)}`).join(",")}},e,{easing:t,duration:n})}const Use={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Vse=Use,Wse=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function tR(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=yt(e,Wse);if(e.vars)throw new Error(Nd(18));const a=Ose(r),f=Qb(e);let h=io(f,{mixins:_se(f.breakpoints,n),palette:a,shadows:jse.slice(),typography:Ise(a,o),transitions:Fse(i),zIndex:te({},Vse)});return h=io(h,s),h=t.reduce((g,y)=>io(g,y),h),h.unstable_sxConfig=te({},fk,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(y){return hk({sx:y,theme:this})},h}const qse=tR(),bk=qse;function xu(){const e=pk(bk);return e[mh]||e}function rn({props:e,name:t}){return J$({props:e,name:t,defaultTheme:bk,themeId:mh})}const ca=e=>l0(e)&&e!=="classes",Gse=l0,Hse=T9({themeId:mh,defaultTheme:bk,rootShouldForwardProp:ca}),ut=Hse,Yse=["theme"];function Kse(e){let{theme:t}=e,n=yt(e,Yse);const r=t[mh];return L.jsx(ase,te({},n,{themeId:r?mh:void 0,theme:r||t}))}const Zse=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},Y5=Zse;function Xse(e){return Xt("MuiSvgIcon",e)}Jt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Jse=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Qse=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${at(t)}`,`fontSize${at(n)}`]};return nn(i,Xse,r)},ele=ut("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${at(n.color)}`],t[`fontSize${at(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,f,h,g,y,x,P,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(f=a.pxToRem)==null?void 0:f.call(a,24))||"1.5rem",large:((h=e.typography)==null||(g=h.pxToRem)==null?void 0:g.call(h,35))||"2.1875rem"}[t.fontSize],color:(y=(x=(e.vars||e).palette)==null||(x=x[t.color])==null?void 0:x.main)!=null?y:{action:(P=(e.vars||e).palette)==null||(P=P.action)==null?void 0:P.active,disabled:(E=(e.vars||e).palette)==null||(E=E.action)==null?void 0:E.disabled,inherit:void 0}[t.color]}}),A9=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:g=!1,titleAccess:y,viewBox:x="0 0 24 24"}=r,P=yt(r,Jse),E=V.isValidElement(i)&&i.type==="svg",S=te({},r,{color:s,component:a,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:x,hasSvgAsChild:E}),O={};g||(O.viewBox=x);const A=Qse(S);return L.jsxs(ele,te({as:a,className:rt(A.root,o),focusable:"false",color:h,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:n},O,P,E&&i.props,{ownerState:S,children:[E?i.props.children:i,y?L.jsx("title",{children:y}):null]}))});A9.muiName="SvgIcon";const K5=A9;function Sg(e,t){function n(r,i){return L.jsx(K5,te({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=K5.muiName,V.memo(V.forwardRef(n))}const tle={configure:e=>{B$.configure(e)}},nle=Object.freeze(Object.defineProperty({__proto__:null,capitalize:at,createChainedFunction:bM,createSvgIcon:Sg,debounce:N$,deprecatedPropType:Cie,isMuiElement:K1,ownerDocument:Hi,ownerWindow:zd,requirePropFactory:Tie,setRef:Ww,unstable_ClassNameGenerator:tle,unstable_useEnhancedEffect:Ns,unstable_useId:ek,unsupportedProp:Oie,useControlled:Lm,useEventCallback:bl,useForkRef:ci,useIsFocusVisible:nk},Symbol.toStringTag,{value:"Module"}));function TM(e,t){return TM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TM(e,t)}function ex(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,TM(e,t)}const Z5={disabled:!1},Kw=Ee.createContext(null);var rle=function(t){return t.scrollTop},Wv="unmounted",Mf="exited",Af="entering",Rp="entered",PM="exiting",_u=function(e){ex(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?a?(f=Mf,o.appearStatus=Af):f=Rp:r.unmountOnExit||r.mountOnEnter?f=Wv:f=Mf,o.state={status:f},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Wv?{status:Mf}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Af&&s!==Rp&&(o=Af):(s===Af||s===Rp)&&(o=PM)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Af){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:t1.findDOMNode(this);s&&rle(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mf&&this.setState({status:Wv})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,f=this.props.nodeRef?[a]:[t1.findDOMNode(this),a],h=f[0],g=f[1],y=this.getTimeouts(),x=a?y.appear:y.enter;if(!i&&!s||Z5.disabled){this.safeSetState({status:Rp},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Af},function(){o.props.onEntering(h,g),o.onTransitionEnd(x,function(){o.safeSetState({status:Rp},function(){o.props.onEntered(h,g)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:t1.findDOMNode(this);if(!o||Z5.disabled){this.safeSetState({status:Mf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:PM},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Mf},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:t1.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Wv)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=yt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ee.createElement(Kw.Provider,{value:null},typeof s=="function"?s(i,a):Ee.cloneElement(Ee.Children.only(s),a))},t}(Ee.Component);_u.contextType=Kw;_u.propTypes={};function _p(){}_u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_p,onEntering:_p,onEntered:_p,onExit:_p,onExiting:_p,onExited:_p};_u.UNMOUNTED=Wv;_u.EXITED=Mf;_u.ENTERING=Af;_u.ENTERED=Rp;_u.EXITING=PM;const nR=_u;function X0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rR(e,t){var n=function(o){return t&&V.isValidElement(o)?t(o):o},r=Object.create(null);return e&&V.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function ile(e,t){e=e||{},t=t||{};function n(g){return g in t?t[g]:e[g]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var f in t){if(r[f])for(s=0;s<r[f].length;s++){var h=r[f][s];a[r[f][s]]=n(h)}a[f]=n(f)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Uf(e,t,n){return n[t]!=null?n[t]:e.props[t]}function ole(e,t){return rR(e.children,function(n){return V.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Uf(n,"appear",e),enter:Uf(n,"enter",e),exit:Uf(n,"exit",e)})})}function ale(e,t,n){var r=rR(e.children),i=ile(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(V.isValidElement(s)){var a=o in t,f=o in r,h=t[o],g=V.isValidElement(h)&&!h.props.in;f&&(!a||g)?i[o]=V.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Uf(s,"exit",e),enter:Uf(s,"enter",e)}):!f&&a&&!g?i[o]=V.cloneElement(s,{in:!1}):f&&a&&V.isValidElement(h)&&(i[o]=V.cloneElement(s,{onExited:n.bind(null,s),in:h.props.in,exit:Uf(s,"exit",e),enter:Uf(s,"enter",e)}))}}),i}var sle=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},lle={component:"div",childFactory:function(t){return t}},iR=function(e){ex(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(X0(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,f=o.firstRender;return{children:f?ole(i,a):ale(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=rR(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var f=te({},a.children);return delete f[i.key],{children:f}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=yt(i,["component","childFactory"]),f=this.state.contextValue,h=sle(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Ee.createElement(Kw.Provider,{value:f},h):Ee.createElement(Kw.Provider,{value:f},Ee.createElement(o,a,h))},t}(Ee.Component);iR.propTypes={};iR.defaultProps=lle;const cle=iR,I9=e=>e.scrollTop;function zm(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function ule(e){return Xt("MuiCollapse",e)}Jt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const dle=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],fle=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return nn(r,ule,n)},hle=ut("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>te({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&te({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),ple=ut("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>te({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),mle=ut("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>te({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),$9=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:f,easing:h,in:g,onEnter:y,onEntered:x,onEntering:P,onExit:E,onExited:S,onExiting:O,orientation:A="vertical",style:M,timeout:I=M9.standard,TransitionComponent:N=nR}=r,$=yt(r,dle),R=te({},r,{orientation:A,collapsedSize:a}),F=fle(R),q=xu(),X=V.useRef(),Q=V.useRef(null),ae=V.useRef(),fe=typeof a=="number"?`${a}px`:a,Se=A==="horizontal",ke=Se?"width":"height";V.useEffect(()=>()=>{clearTimeout(X.current)},[]);const we=V.useRef(null),Oe=ci(n,we),Ce=st=>Ht=>{if(st){const Lt=we.current;Ht===void 0?st(Lt):st(Lt,Ht)}},be=()=>Q.current?Q.current[Se?"clientWidth":"clientHeight"]:0,$e=Ce((st,Ht)=>{Q.current&&Se&&(Q.current.style.position="absolute"),st.style[ke]=fe,y&&y(st,Ht)}),Ue=Ce((st,Ht)=>{const Lt=be();Q.current&&Se&&(Q.current.style.position="");const{duration:He,easing:_t}=zm({style:M,timeout:I,easing:h},{mode:"enter"});if(I==="auto"){const pt=q.transitions.getAutoHeightDuration(Lt);st.style.transitionDuration=`${pt}ms`,ae.current=pt}else st.style.transitionDuration=typeof He=="string"?He:`${He}ms`;st.style[ke]=`${Lt}px`,st.style.transitionTimingFunction=_t,P&&P(st,Ht)}),ft=Ce((st,Ht)=>{st.style[ke]="auto",x&&x(st,Ht)}),Xe=Ce(st=>{st.style[ke]=`${be()}px`,E&&E(st)}),tt=Ce(S),lt=Ce(st=>{const Ht=be(),{duration:Lt,easing:He}=zm({style:M,timeout:I,easing:h},{mode:"exit"});if(I==="auto"){const _t=q.transitions.getAutoHeightDuration(Ht);st.style.transitionDuration=`${_t}ms`,ae.current=_t}else st.style.transitionDuration=typeof Lt=="string"?Lt:`${Lt}ms`;st.style[ke]=fe,st.style.transitionTimingFunction=He,O&&O(st)}),Ct=st=>{I==="auto"&&(X.current=setTimeout(st,ae.current||0)),i&&i(we.current,st)};return L.jsx(N,te({in:g,onEnter:$e,onEntered:ft,onEntering:Ue,onExit:Xe,onExited:tt,onExiting:lt,addEndListener:Ct,nodeRef:we,timeout:I==="auto"?null:I},$,{children:(st,Ht)=>L.jsx(hle,te({as:f,className:rt(F.root,s,{entered:F.entered,exited:!g&&fe==="0px"&&F.hidden}[st]),style:te({[Se?"minWidth":"minHeight"]:fe},M),ownerState:te({},R,{state:st}),ref:Oe},Ht,{children:L.jsx(ple,{ownerState:te({},R,{state:st}),className:F.wrapper,ref:Q,children:L.jsx(mle,{ownerState:te({},R,{state:st}),className:F.wrapperInner,children:o})})}))}))});$9.muiSupportAuto=!0;const gle=$9;function yle(e){return Xt("MuiPaper",e)}Jt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const vle=["className","component","elevation","square","variant"],ble=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return nn(o,yle,i)},xle=ut("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return te({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&te({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${kr("#fff",Y5(t.elevation))}, ${kr("#fff",Y5(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),_le=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:f="elevation"}=r,h=yt(r,vle),g=te({},r,{component:o,elevation:s,square:a,variant:f}),y=ble(g);return L.jsx(xle,te({as:o,ownerState:g,className:rt(y.root,i),ref:n},h))}),Qa=_le,wle=V.createContext({}),R9=wle;function Sle(e){return Xt("MuiAccordion",e)}const kle=Jt("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),i1=kle,Cle=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],Tle=e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e;return nn({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},Sle,t)},Ple=ut(Qa,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${i1.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${i1.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${i1.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>te({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${i1.expanded}`]:{margin:"16px 0"}})),Ele=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:f=!1,expanded:h,onChange:g,square:y=!1,TransitionComponent:x=gle,TransitionProps:P}=r,E=yt(r,Cle),[S,O]=Lm({controlled:h,default:s,name:"Accordion",state:"expanded"}),A=V.useCallback(F=>{O(!S),g&&g(F,!S)},[S,g,O]),[M,...I]=V.Children.toArray(i),N=V.useMemo(()=>({expanded:S,disabled:a,disableGutters:f,toggle:A}),[S,a,f,A]),$=te({},r,{square:y,disabled:a,disableGutters:f,expanded:S}),R=Tle($);return L.jsxs(Ple,te({className:rt(R.root,o),ref:n,ownerState:$,square:y},E,{children:[L.jsx(R9.Provider,{value:N,children:M}),L.jsx(x,te({in:S,timeout:"auto"},P,{children:L.jsx("div",{"aria-labelledby":M.props.id,id:M.props["aria-controls"],role:"region",className:R.region,children:I})}))]}))}),xl=Ele;function Ole(e){return Xt("MuiAccordionDetails",e)}Jt("MuiAccordionDetails",["root"]);const Mle=["className"],Ale=e=>{const{classes:t}=e;return nn({root:["root"]},Ole,t)},Ile=ut("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),$le=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAccordionDetails"}),{className:i}=r,o=yt(r,Mle),s=r,a=Ale(s);return L.jsx(Ile,te({className:rt(a.root,i),ref:n,ownerState:s},o))}),_l=$le;function Rle(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:f,timeout:h}=e,[g,y]=V.useState(!1),x=rt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),P={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},E=rt(n.child,g&&n.childLeaving,r&&n.childPulsate);return!a&&!g&&y(!0),V.useEffect(()=>{if(!a&&f!=null){const S=setTimeout(f,h);return()=>{clearTimeout(S)}}},[f,a,h]),L.jsx("span",{className:x,style:P,children:L.jsx("span",{className:E})})}const Dle=Jt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),xs=Dle,Lle=["center","classes","className"];let xk=e=>e,X5,J5,Q5,e3;const EM=550,jle=80,Nle=q$(X5||(X5=xk`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),zle=q$(J5||(J5=xk`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Ble=q$(Q5||(Q5=xk`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Fle=ut("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ule=ut(Rle,{name:"MuiTouchRipple",slot:"Ripple"})(e3||(e3=xk`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),xs.rippleVisible,Nle,EM,({theme:e})=>e.transitions.easing.easeInOut,xs.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,xs.child,xs.childLeaving,zle,EM,({theme:e})=>e.transitions.easing.easeInOut,xs.childPulsate,Ble,({theme:e})=>e.transitions.easing.easeInOut),Vle=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=yt(r,Lle),[f,h]=V.useState([]),g=V.useRef(0),y=V.useRef(null);V.useEffect(()=>{y.current&&(y.current(),y.current=null)},[f]);const x=V.useRef(!1),P=V.useRef(0),E=V.useRef(null),S=V.useRef(null);V.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const O=V.useCallback(N=>{const{pulsate:$,rippleX:R,rippleY:F,rippleSize:q,cb:X}=N;h(Q=>[...Q,L.jsx(Ule,{classes:{ripple:rt(o.ripple,xs.ripple),rippleVisible:rt(o.rippleVisible,xs.rippleVisible),ripplePulsate:rt(o.ripplePulsate,xs.ripplePulsate),child:rt(o.child,xs.child),childLeaving:rt(o.childLeaving,xs.childLeaving),childPulsate:rt(o.childPulsate,xs.childPulsate)},timeout:EM,pulsate:$,rippleX:R,rippleY:F,rippleSize:q},g.current)]),g.current+=1,y.current=X},[o]),A=V.useCallback((N={},$={},R=()=>{})=>{const{pulsate:F=!1,center:q=i||$.pulsate,fakeElement:X=!1}=$;if((N==null?void 0:N.type)==="mousedown"&&x.current){x.current=!1;return}(N==null?void 0:N.type)==="touchstart"&&(x.current=!0);const Q=X?null:S.current,ae=Q?Q.getBoundingClientRect():{width:0,height:0,left:0,top:0};let fe,Se,ke;if(q||N===void 0||N.clientX===0&&N.clientY===0||!N.clientX&&!N.touches)fe=Math.round(ae.width/2),Se=Math.round(ae.height/2);else{const{clientX:we,clientY:Oe}=N.touches&&N.touches.length>0?N.touches[0]:N;fe=Math.round(we-ae.left),Se=Math.round(Oe-ae.top)}if(q)ke=Math.sqrt((2*ae.width**2+ae.height**2)/3),ke%2===0&&(ke+=1);else{const we=Math.max(Math.abs((Q?Q.clientWidth:0)-fe),fe)*2+2,Oe=Math.max(Math.abs((Q?Q.clientHeight:0)-Se),Se)*2+2;ke=Math.sqrt(we**2+Oe**2)}N!=null&&N.touches?E.current===null&&(E.current=()=>{O({pulsate:F,rippleX:fe,rippleY:Se,rippleSize:ke,cb:R})},P.current=setTimeout(()=>{E.current&&(E.current(),E.current=null)},jle)):O({pulsate:F,rippleX:fe,rippleY:Se,rippleSize:ke,cb:R})},[i,O]),M=V.useCallback(()=>{A({},{pulsate:!0})},[A]),I=V.useCallback((N,$)=>{if(clearTimeout(P.current),(N==null?void 0:N.type)==="touchend"&&E.current){E.current(),E.current=null,P.current=setTimeout(()=>{I(N,$)});return}E.current=null,h(R=>R.length>0?R.slice(1):R),y.current=$},[]);return V.useImperativeHandle(n,()=>({pulsate:M,start:A,stop:I}),[M,A,I]),L.jsx(Fle,te({className:rt(xs.root,o.root,s),ref:S},a,{children:L.jsx(cle,{component:null,exit:!0,children:f})}))}),Wle=Vle;function qle(e){return Xt("MuiButtonBase",e)}const Gle=Jt("MuiButtonBase",["root","disabled","focusVisible"]),Hle=Gle,Yle=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Kle=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=nn({root:["root",t&&"disabled",n&&"focusVisible"]},qle,i);return n&&r&&(s.root+=` ${r}`),s},Zle=ut("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Hle.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Xle=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:f="button",disabled:h=!1,disableRipple:g=!1,disableTouchRipple:y=!1,focusRipple:x=!1,LinkComponent:P="a",onBlur:E,onClick:S,onContextMenu:O,onDragLeave:A,onFocus:M,onFocusVisible:I,onKeyDown:N,onKeyUp:$,onMouseDown:R,onMouseLeave:F,onMouseUp:q,onTouchEnd:X,onTouchMove:Q,onTouchStart:ae,tabIndex:fe=0,TouchRippleProps:Se,touchRippleRef:ke,type:we}=r,Oe=yt(r,Yle),Ce=V.useRef(null),be=V.useRef(null),$e=ci(be,ke),{isFocusVisibleRef:Ue,onFocus:ft,onBlur:Xe,ref:tt}=nk(),[lt,Ct]=V.useState(!1);h&&lt&&Ct(!1),V.useImperativeHandle(i,()=>({focusVisible:()=>{Ct(!0),Ce.current.focus()}}),[]);const[st,Ht]=V.useState(!1);V.useEffect(()=>{Ht(!0)},[]);const Lt=st&&!g&&!h;V.useEffect(()=>{lt&&x&&!g&&st&&be.current.pulsate()},[g,x,lt,st]);function He(Kt,cr,Di=y){return bl(ot=>(cr&&cr(ot),!Di&&be.current&&be.current[Kt](ot),!0))}const _t=He("start",R),pt=He("stop",O),Ve=He("stop",A),Pt=He("stop",q),Tt=He("stop",Kt=>{lt&&Kt.preventDefault(),F&&F(Kt)}),Ut=He("start",ae),gn=He("stop",X),bn=He("stop",Q),xn=He("stop",Kt=>{Xe(Kt),Ue.current===!1&&Ct(!1),E&&E(Kt)},!1),rr=bl(Kt=>{Ce.current||(Ce.current=Kt.currentTarget),ft(Kt),Ue.current===!0&&(Ct(!0),I&&I(Kt)),M&&M(Kt)}),Ne=()=>{const Kt=Ce.current;return f&&f!=="button"&&!(Kt.tagName==="A"&&Kt.href)},an=V.useRef(!1),Mn=bl(Kt=>{x&&!an.current&&lt&&be.current&&Kt.key===" "&&(an.current=!0,be.current.stop(Kt,()=>{be.current.start(Kt)})),Kt.target===Kt.currentTarget&&Ne()&&Kt.key===" "&&Kt.preventDefault(),N&&N(Kt),Kt.target===Kt.currentTarget&&Ne()&&Kt.key==="Enter"&&!h&&(Kt.preventDefault(),S&&S(Kt))}),on=bl(Kt=>{x&&Kt.key===" "&&be.current&&lt&&!Kt.defaultPrevented&&(an.current=!1,be.current.stop(Kt,()=>{be.current.pulsate(Kt)})),$&&$(Kt),S&&Kt.target===Kt.currentTarget&&Ne()&&Kt.key===" "&&!Kt.defaultPrevented&&S(Kt)});let It=f;It==="button"&&(Oe.href||Oe.to)&&(It=P);const Wn={};It==="button"?(Wn.type=we===void 0?"button":we,Wn.disabled=h):(!Oe.href&&!Oe.to&&(Wn.role="button"),h&&(Wn["aria-disabled"]=h));const ir=ci(n,tt,Ce),Tr=te({},r,{centerRipple:o,component:f,disabled:h,disableRipple:g,disableTouchRipple:y,focusRipple:x,tabIndex:fe,focusVisible:lt}),Dn=Kle(Tr);return L.jsxs(Zle,te({as:It,className:rt(Dn.root,a),ownerState:Tr,onBlur:xn,onClick:S,onContextMenu:pt,onFocus:rr,onKeyDown:Mn,onKeyUp:on,onMouseDown:_t,onMouseLeave:Tt,onMouseUp:Pt,onDragLeave:Ve,onTouchEnd:gn,onTouchMove:bn,onTouchStart:Ut,ref:ir,tabIndex:h?-1:fe,type:we},Wn,Oe,{children:[s,Lt?L.jsx(Wle,te({ref:$e,center:o},Se)):null]}))}),kg=Xle;function Jle(e){return Xt("MuiAccordionSummary",e)}const Qle=Jt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Kp=Qle,ece=["children","className","expandIcon","focusVisibleClassName","onClick"],tce=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e;return nn({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Jle,t)},nce=ut(kg,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return te({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${Kp.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Kp.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Kp.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${Kp.expanded}`]:{minHeight:64}})}),rce=ut("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>te({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Kp.expanded}`]:{margin:"20px 0"}})),ice=ut("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Kp.expanded}`]:{transform:"rotate(180deg)"}})),oce=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:f}=r,h=yt(r,ece),{disabled:g=!1,disableGutters:y,expanded:x,toggle:P}=V.useContext(R9),E=A=>{P&&P(A),f&&f(A)},S=te({},r,{expanded:x,disabled:g,disableGutters:y}),O=tce(S);return L.jsxs(nce,te({focusRipple:!1,disableRipple:!0,disabled:g,component:"div","aria-expanded":x,className:rt(O.root,o),focusVisibleClassName:rt(O.focusVisible,a),onClick:E,ref:n,ownerState:S},h,{children:[L.jsx(rce,{className:O.content,ownerState:S,children:i}),s&&L.jsx(ice,{className:O.expandIconWrapper,ownerState:S,children:s})]}))}),wl=oce;function ace(e){return Xt("MuiIconButton",e)}const sce=Jt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),lce=sce,cce=["edge","children","className","color","disabled","disableFocusRipple","size"],uce=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled",r!=="default"&&`color${at(r)}`,i&&`edge${at(i)}`,`size${at(o)}`]};return nn(s,ace,t)},dce=ut(kg,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${at(n.color)}`],n.edge&&t[`edge${at(n.edge)}`],t[`size${at(n.size)}`]]}})(({theme:e,ownerState:t})=>te({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:kr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return te({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&te({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":te({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:kr(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${lce.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),fce=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:f=!1,disableFocusRipple:h=!1,size:g="medium"}=r,y=yt(r,cce),x=te({},r,{edge:i,color:a,disabled:f,disableFocusRipple:h,size:g}),P=uce(x);return L.jsx(dce,te({className:rt(P.root,s),centerRipple:!0,focusRipple:!h,disabled:f,ref:n,ownerState:x},y,{children:o}))}),Gn=fce;function hce(e){return Xt("MuiTypography",e)}Jt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const pce=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],mce=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${at(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return nn(a,hce,s)},gce=ut("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${at(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>te({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),t3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},yce={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},vce=e=>yce[e]||e,bce=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTypography"}),i=vce(r.color),o=mk(te({},r,{color:i})),{align:s="inherit",className:a,component:f,gutterBottom:h=!1,noWrap:g=!1,paragraph:y=!1,variant:x="body1",variantMapping:P=t3}=o,E=yt(o,pce),S=te({},o,{align:s,color:i,className:a,component:f,gutterBottom:h,noWrap:g,paragraph:y,variant:x,variantMapping:P}),O=f||(y?"p":P[x]||t3[x])||"span",A=mce(S);return L.jsx(gce,te({as:O,ref:n,ownerState:S,className:rt(A.root,a)},E))}),pn=bce;function xce(e){return Xt("MuiAppBar",e)}Jt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const _ce=["className","color","enableColorOnDark","position"],wce=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${at(t)}`,`position${at(n)}`]};return nn(i,xce,r)},o1=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Sce=ut(Qa,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${at(n.position)}`],t[`color${at(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return te({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&te({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&te({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&te({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:o1(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:o1(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:o1(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:o1(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),kce=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,f=yt(r,_ce),h=te({},r,{color:o,position:a,enableColorOnDark:s}),g=wce(h);return L.jsx(Sce,te({square:!0,component:"header",ownerState:h,elevation:4,className:rt(g.root,i,a==="fixed"&&"mui-fixed"),ref:n},f))}),oR=kce;function Zw(e){return typeof e=="string"}function qv(e,t,n){return e===void 0||Zw(e)?t:te({},t,{ownerState:te({},t.ownerState,n)})}const Cce={disableDefaultClasses:!1},Tce=V.createContext(Cce);function Pce(e){const{disableDefaultClasses:t}=V.useContext(Tce);return n=>t?"":e(n)}function Xw(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Ece(e,t,n){return typeof e=="function"?e(t,n):e}function n3(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Oce(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const P=rt(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),E=te({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),S=te({},n,i,r);return P.length>0&&(S.className=P),Object.keys(E).length>0&&(S.style=E),{props:S,internalRef:void 0}}const s=Xw(te({},i,r)),a=n3(r),f=n3(i),h=t(s),g=rt(h==null?void 0:h.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),y=te({},h==null?void 0:h.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),x=te({},h,n,f,a);return g.length>0&&(x.className=g),Object.keys(y).length>0&&(x.style=y),{props:x,internalRef:h.ref}}const Mce=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function lc(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=yt(e,Mce),a=o?{}:Ece(r,i),{props:f,internalRef:h}=Oce(te({},s,{externalSlotProps:a})),g=ci(h,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return qv(n,te({},f,{ref:g}),i)}function Ace(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=r9({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:f=r}=s?o:e,h=a&&Number(a)>f?`${f}+`:a;return{badgeContent:a,invisible:s,max:f,displayValue:h}}function r3(e){return e.substring(2).toLowerCase()}function Ice(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function $ce(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=V.useRef(!1),a=V.useRef(null),f=V.useRef(!1),h=V.useRef(!1);V.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const g=ci(t.ref,a),y=bl(E=>{const S=h.current;h.current=!1;const O=Hi(a.current);if(!f.current||!a.current||"clientX"in E&&Ice(E,O))return;if(s.current){s.current=!1;return}let A;E.composedPath?A=E.composedPath().indexOf(a.current)>-1:A=!O.documentElement.contains(E.target)||a.current.contains(E.target),!A&&(n||!S)&&i(E)}),x=E=>S=>{h.current=!0;const O=t.props[E];O&&O(S)},P={ref:g};return o!==!1&&(P[o]=x(o)),V.useEffect(()=>{if(o!==!1){const E=r3(o),S=Hi(a.current),O=()=>{s.current=!0};return S.addEventListener(E,y),S.addEventListener("touchmove",O),()=>{S.removeEventListener(E,y),S.removeEventListener("touchmove",O)}}},[y,o]),r!==!1&&(P[r]=x(r)),V.useEffect(()=>{if(r!==!1){const E=r3(r),S=Hi(a.current);return S.addEventListener(E,y),()=>{S.removeEventListener(E,y)}}},[y,r]),L.jsx(V.Fragment,{children:V.cloneElement(t,P)})}const Rce=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Dce(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Lce(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function jce(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Lce(e))}function Nce(e){const t=[],n=[];return Array.from(e.querySelectorAll(Rce)).forEach((r,i)=>{const o=Dce(r);o===-1||!jce(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function zce(){return!0}function Bce(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Nce,isEnabled:s=zce,open:a}=e,f=V.useRef(!1),h=V.useRef(null),g=V.useRef(null),y=V.useRef(null),x=V.useRef(null),P=V.useRef(!1),E=V.useRef(null),S=ci(t.ref,E),O=V.useRef(null);V.useEffect(()=>{!a||!E.current||(P.current=!n)},[n,a]),V.useEffect(()=>{if(!a||!E.current)return;const I=Hi(E.current);return E.current.contains(I.activeElement)||(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex","-1"),P.current&&E.current.focus()),()=>{i||(y.current&&y.current.focus&&(f.current=!0,y.current.focus()),y.current=null)}},[a]),V.useEffect(()=>{if(!a||!E.current)return;const I=Hi(E.current),N=F=>{O.current=F,!(r||!s()||F.key!=="Tab")&&I.activeElement===E.current&&F.shiftKey&&(f.current=!0,g.current&&g.current.focus())},$=()=>{const F=E.current;if(F===null)return;if(!I.hasFocus()||!s()||f.current){f.current=!1;return}if(F.contains(I.activeElement)||r&&I.activeElement!==h.current&&I.activeElement!==g.current)return;if(I.activeElement!==x.current)x.current=null;else if(x.current!==null)return;if(!P.current)return;let q=[];if((I.activeElement===h.current||I.activeElement===g.current)&&(q=o(E.current)),q.length>0){var X,Q;const ae=!!((X=O.current)!=null&&X.shiftKey&&((Q=O.current)==null?void 0:Q.key)==="Tab"),fe=q[0],Se=q[q.length-1];typeof fe!="string"&&typeof Se!="string"&&(ae?Se.focus():fe.focus())}else F.focus()};I.addEventListener("focusin",$),I.addEventListener("keydown",N,!0);const R=setInterval(()=>{I.activeElement&&I.activeElement.tagName==="BODY"&&$()},50);return()=>{clearInterval(R),I.removeEventListener("focusin",$),I.removeEventListener("keydown",N,!0)}},[n,r,i,s,a,o]);const A=I=>{y.current===null&&(y.current=I.relatedTarget),P.current=!0,x.current=I.target;const N=t.props.onFocus;N&&N(I)},M=I=>{y.current===null&&(y.current=I.relatedTarget),P.current=!0};return L.jsxs(V.Fragment,{children:[L.jsx("div",{tabIndex:a?0:-1,onFocus:M,ref:h,"data-testid":"sentinelStart"}),V.cloneElement(t,{ref:S,onFocus:A}),L.jsx("div",{tabIndex:a?0:-1,onFocus:M,ref:g,"data-testid":"sentinelEnd"})]})}var Ma="top",zs="bottom",Bs="right",Aa="left",aR="auto",tx=[Ma,zs,Bs,Aa],Bm="start",J0="end",Fce="clippingParents",D9="viewport",fv="popper",Uce="reference",i3=tx.reduce(function(e,t){return e.concat([t+"-"+Bm,t+"-"+J0])},[]),L9=[].concat(tx,[aR]).reduce(function(e,t){return e.concat([t,t+"-"+Bm,t+"-"+J0])},[]),Vce="beforeRead",Wce="read",qce="afterRead",Gce="beforeMain",Hce="main",Yce="afterMain",Kce="beforeWrite",Zce="write",Xce="afterWrite",Jce=[Vce,Wce,qce,Gce,Hce,Yce,Kce,Zce,Xce];function cc(e){return e?(e.nodeName||"").toLowerCase():null}function es(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vh(e){var t=es(e).Element;return e instanceof t||e instanceof Element}function As(e){var t=es(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function sR(e){if(typeof ShadowRoot>"u")return!1;var t=es(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Qce(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!As(o)||!cc(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function eue(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(f,h){return f[h]="",f},{});!As(i)||!cc(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}const tue={name:"applyStyles",enabled:!0,phase:"write",fn:Qce,effect:eue,requires:["computeStyles"]};function ic(e){return e.split("-")[0]}var eh=Math.max,Jw=Math.min,Fm=Math.round;function OM(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function j9(){return!/^((?!chrome|android).)*safari/i.test(OM())}function Um(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&As(e)&&(i=e.offsetWidth>0&&Fm(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Fm(r.height)/e.offsetHeight||1);var s=vh(e)?es(e):window,a=s.visualViewport,f=!j9()&&n,h=(r.left+(f&&a?a.offsetLeft:0))/i,g=(r.top+(f&&a?a.offsetTop:0))/o,y=r.width/i,x=r.height/o;return{width:y,height:x,top:g,right:h+y,bottom:g+x,left:h,x:h,y:g}}function lR(e){var t=Um(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function N9(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&sR(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function uu(e){return es(e).getComputedStyle(e)}function nue(e){return["table","td","th"].indexOf(cc(e))>=0}function Yd(e){return((vh(e)?e.ownerDocument:e.document)||window.document).documentElement}function _k(e){return cc(e)==="html"?e:e.assignedSlot||e.parentNode||(sR(e)?e.host:null)||Yd(e)}function o3(e){return!As(e)||uu(e).position==="fixed"?null:e.offsetParent}function rue(e){var t=/firefox/i.test(OM()),n=/Trident/i.test(OM());if(n&&As(e)){var r=uu(e);if(r.position==="fixed")return null}var i=_k(e);for(sR(i)&&(i=i.host);As(i)&&["html","body"].indexOf(cc(i))<0;){var o=uu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function nx(e){for(var t=es(e),n=o3(e);n&&nue(n)&&uu(n).position==="static";)n=o3(n);return n&&(cc(n)==="html"||cc(n)==="body"&&uu(n).position==="static")?t:n||rue(e)||t}function cR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function c0(e,t,n){return eh(e,Jw(t,n))}function iue(e,t,n){var r=c0(e,t,n);return r>n?n:r}function z9(){return{top:0,right:0,bottom:0,left:0}}function B9(e){return Object.assign({},z9(),e)}function F9(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var oue=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,B9(typeof t!="number"?t:F9(t,tx))};function aue(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=ic(n.placement),f=cR(a),h=[Aa,Bs].indexOf(a)>=0,g=h?"height":"width";if(!(!o||!s)){var y=oue(i.padding,n),x=lR(o),P=f==="y"?Ma:Aa,E=f==="y"?zs:Bs,S=n.rects.reference[g]+n.rects.reference[f]-s[f]-n.rects.popper[g],O=s[f]-n.rects.reference[f],A=nx(o),M=A?f==="y"?A.clientHeight||0:A.clientWidth||0:0,I=S/2-O/2,N=y[P],$=M-x[g]-y[E],R=M/2-x[g]/2+I,F=c0(N,R,$),q=f;n.modifiersData[r]=(t={},t[q]=F,t.centerOffset=F-R,t)}}function sue(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||N9(t.elements.popper,i)&&(t.elements.arrow=i))}const lue={name:"arrow",enabled:!0,phase:"main",fn:aue,effect:sue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vm(e){return e.split("-")[1]}var cue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uue(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Fm(n*i)/i||0,y:Fm(r*i)/i||0}}function a3(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,f=e.gpuAcceleration,h=e.adaptive,g=e.roundOffsets,y=e.isFixed,x=s.x,P=x===void 0?0:x,E=s.y,S=E===void 0?0:E,O=typeof g=="function"?g({x:P,y:S}):{x:P,y:S};P=O.x,S=O.y;var A=s.hasOwnProperty("x"),M=s.hasOwnProperty("y"),I=Aa,N=Ma,$=window;if(h){var R=nx(n),F="clientHeight",q="clientWidth";if(R===es(n)&&(R=Yd(n),uu(R).position!=="static"&&a==="absolute"&&(F="scrollHeight",q="scrollWidth")),R=R,i===Ma||(i===Aa||i===Bs)&&o===J0){N=zs;var X=y&&R===$&&$.visualViewport?$.visualViewport.height:R[F];S-=X-r.height,S*=f?1:-1}if(i===Aa||(i===Ma||i===zs)&&o===J0){I=Bs;var Q=y&&R===$&&$.visualViewport?$.visualViewport.width:R[q];P-=Q-r.width,P*=f?1:-1}}var ae=Object.assign({position:a},h&&cue),fe=g===!0?uue({x:P,y:S},es(n)):{x:P,y:S};if(P=fe.x,S=fe.y,f){var Se;return Object.assign({},ae,(Se={},Se[N]=M?"0":"",Se[I]=A?"0":"",Se.transform=($.devicePixelRatio||1)<=1?"translate("+P+"px, "+S+"px)":"translate3d("+P+"px, "+S+"px, 0)",Se))}return Object.assign({},ae,(t={},t[N]=M?S+"px":"",t[I]=A?P+"px":"",t.transform="",t))}function due(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,f=a===void 0?!0:a,h={placement:ic(t.placement),variation:Vm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,a3(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,a3(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const fue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:due,data:{}};var a1={passive:!0};function hue(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,f=es(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",n.update,a1)}),a&&f.addEventListener("resize",n.update,a1),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",n.update,a1)}),a&&f.removeEventListener("resize",n.update,a1)}}const pue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hue,data:{}};var mue={left:"right",right:"left",bottom:"top",top:"bottom"};function ew(e){return e.replace(/left|right|bottom|top/g,function(t){return mue[t]})}var gue={start:"end",end:"start"};function s3(e){return e.replace(/start|end/g,function(t){return gue[t]})}function uR(e){var t=es(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function dR(e){return Um(Yd(e)).left+uR(e).scrollLeft}function yue(e,t){var n=es(e),r=Yd(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,f=0;if(i){o=i.width,s=i.height;var h=j9();(h||!h&&t==="fixed")&&(a=i.offsetLeft,f=i.offsetTop)}return{width:o,height:s,x:a+dR(e),y:f}}function vue(e){var t,n=Yd(e),r=uR(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=eh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=eh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+dR(e),f=-r.scrollTop;return uu(i||n).direction==="rtl"&&(a+=eh(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:f}}function fR(e){var t=uu(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function U9(e){return["html","body","#document"].indexOf(cc(e))>=0?e.ownerDocument.body:As(e)&&fR(e)?e:U9(_k(e))}function u0(e,t){var n;t===void 0&&(t=[]);var r=U9(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=es(r),s=i?[o].concat(o.visualViewport||[],fR(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(u0(_k(s)))}function MM(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function bue(e,t){var n=Um(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function l3(e,t,n){return t===D9?MM(yue(e,n)):vh(t)?bue(t,n):MM(vue(Yd(e)))}function xue(e){var t=u0(_k(e)),n=["absolute","fixed"].indexOf(uu(e).position)>=0,r=n&&As(e)?nx(e):e;return vh(r)?t.filter(function(i){return vh(i)&&N9(i,r)&&cc(i)!=="body"}):[]}function _ue(e,t,n,r){var i=t==="clippingParents"?xue(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(f,h){var g=l3(e,h,r);return f.top=eh(g.top,f.top),f.right=Jw(g.right,f.right),f.bottom=Jw(g.bottom,f.bottom),f.left=eh(g.left,f.left),f},l3(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function V9(e){var t=e.reference,n=e.element,r=e.placement,i=r?ic(r):null,o=r?Vm(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,f;switch(i){case Ma:f={x:s,y:t.y-n.height};break;case zs:f={x:s,y:t.y+t.height};break;case Bs:f={x:t.x+t.width,y:a};break;case Aa:f={x:t.x-n.width,y:a};break;default:f={x:t.x,y:t.y}}var h=i?cR(i):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case Bm:f[h]=f[h]-(t[g]/2-n[g]/2);break;case J0:f[h]=f[h]+(t[g]/2-n[g]/2);break}}return f}function Q0(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,f=a===void 0?Fce:a,h=n.rootBoundary,g=h===void 0?D9:h,y=n.elementContext,x=y===void 0?fv:y,P=n.altBoundary,E=P===void 0?!1:P,S=n.padding,O=S===void 0?0:S,A=B9(typeof O!="number"?O:F9(O,tx)),M=x===fv?Uce:fv,I=e.rects.popper,N=e.elements[E?M:x],$=_ue(vh(N)?N:N.contextElement||Yd(e.elements.popper),f,g,s),R=Um(e.elements.reference),F=V9({reference:R,element:I,strategy:"absolute",placement:i}),q=MM(Object.assign({},I,F)),X=x===fv?q:R,Q={top:$.top-X.top+A.top,bottom:X.bottom-$.bottom+A.bottom,left:$.left-X.left+A.left,right:X.right-$.right+A.right},ae=e.modifiersData.offset;if(x===fv&&ae){var fe=ae[i];Object.keys(Q).forEach(function(Se){var ke=[Bs,zs].indexOf(Se)>=0?1:-1,we=[Ma,zs].indexOf(Se)>=0?"y":"x";Q[Se]+=fe[we]*ke})}return Q}function wue(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,f=n.allowedAutoPlacements,h=f===void 0?L9:f,g=Vm(r),y=g?a?i3:i3.filter(function(E){return Vm(E)===g}):tx,x=y.filter(function(E){return h.indexOf(E)>=0});x.length===0&&(x=y);var P=x.reduce(function(E,S){return E[S]=Q0(e,{placement:S,boundary:i,rootBoundary:o,padding:s})[ic(S)],E},{});return Object.keys(P).sort(function(E,S){return P[E]-P[S]})}function Sue(e){if(ic(e)===aR)return[];var t=ew(e);return[s3(e),t,s3(t)]}function kue(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,f=n.fallbackPlacements,h=n.padding,g=n.boundary,y=n.rootBoundary,x=n.altBoundary,P=n.flipVariations,E=P===void 0?!0:P,S=n.allowedAutoPlacements,O=t.options.placement,A=ic(O),M=A===O,I=f||(M||!E?[ew(O)]:Sue(O)),N=[O].concat(I).reduce(function(lt,Ct){return lt.concat(ic(Ct)===aR?wue(t,{placement:Ct,boundary:g,rootBoundary:y,padding:h,flipVariations:E,allowedAutoPlacements:S}):Ct)},[]),$=t.rects.reference,R=t.rects.popper,F=new Map,q=!0,X=N[0],Q=0;Q<N.length;Q++){var ae=N[Q],fe=ic(ae),Se=Vm(ae)===Bm,ke=[Ma,zs].indexOf(fe)>=0,we=ke?"width":"height",Oe=Q0(t,{placement:ae,boundary:g,rootBoundary:y,altBoundary:x,padding:h}),Ce=ke?Se?Bs:Aa:Se?zs:Ma;$[we]>R[we]&&(Ce=ew(Ce));var be=ew(Ce),$e=[];if(o&&$e.push(Oe[fe]<=0),a&&$e.push(Oe[Ce]<=0,Oe[be]<=0),$e.every(function(lt){return lt})){X=ae,q=!1;break}F.set(ae,$e)}if(q)for(var Ue=E?3:1,ft=function(Ct){var st=N.find(function(Ht){var Lt=F.get(Ht);if(Lt)return Lt.slice(0,Ct).every(function(He){return He})});if(st)return X=st,"break"},Xe=Ue;Xe>0;Xe--){var tt=ft(Xe);if(tt==="break")break}t.placement!==X&&(t.modifiersData[r]._skip=!0,t.placement=X,t.reset=!0)}}const Cue={name:"flip",enabled:!0,phase:"main",fn:kue,requiresIfExists:["offset"],data:{_skip:!1}};function c3(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function u3(e){return[Ma,Bs,zs,Aa].some(function(t){return e[t]>=0})}function Tue(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Q0(t,{elementContext:"reference"}),a=Q0(t,{altBoundary:!0}),f=c3(s,r),h=c3(a,i,o),g=u3(f),y=u3(h);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:y},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":y})}const Pue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Tue};function Eue(e,t,n){var r=ic(e),i=[Aa,Ma].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Aa,Bs].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Oue(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=L9.reduce(function(g,y){return g[y]=Eue(y,t.rects,o),g},{}),a=s[t.placement],f=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}const Mue={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Oue};function Aue(e){var t=e.state,n=e.name;t.modifiersData[n]=V9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Iue={name:"popperOffsets",enabled:!0,phase:"read",fn:Aue,data:{}};function $ue(e){return e==="x"?"y":"x"}function Rue(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,f=n.boundary,h=n.rootBoundary,g=n.altBoundary,y=n.padding,x=n.tether,P=x===void 0?!0:x,E=n.tetherOffset,S=E===void 0?0:E,O=Q0(t,{boundary:f,rootBoundary:h,padding:y,altBoundary:g}),A=ic(t.placement),M=Vm(t.placement),I=!M,N=cR(A),$=$ue(N),R=t.modifiersData.popperOffsets,F=t.rects.reference,q=t.rects.popper,X=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,Q=typeof X=="number"?{mainAxis:X,altAxis:X}:Object.assign({mainAxis:0,altAxis:0},X),ae=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,fe={x:0,y:0};if(R){if(o){var Se,ke=N==="y"?Ma:Aa,we=N==="y"?zs:Bs,Oe=N==="y"?"height":"width",Ce=R[N],be=Ce+O[ke],$e=Ce-O[we],Ue=P?-q[Oe]/2:0,ft=M===Bm?F[Oe]:q[Oe],Xe=M===Bm?-q[Oe]:-F[Oe],tt=t.elements.arrow,lt=P&&tt?lR(tt):{width:0,height:0},Ct=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:z9(),st=Ct[ke],Ht=Ct[we],Lt=c0(0,F[Oe],lt[Oe]),He=I?F[Oe]/2-Ue-Lt-st-Q.mainAxis:ft-Lt-st-Q.mainAxis,_t=I?-F[Oe]/2+Ue+Lt+Ht+Q.mainAxis:Xe+Lt+Ht+Q.mainAxis,pt=t.elements.arrow&&nx(t.elements.arrow),Ve=pt?N==="y"?pt.clientTop||0:pt.clientLeft||0:0,Pt=(Se=ae==null?void 0:ae[N])!=null?Se:0,Tt=Ce+He-Pt-Ve,Ut=Ce+_t-Pt,gn=c0(P?Jw(be,Tt):be,Ce,P?eh($e,Ut):$e);R[N]=gn,fe[N]=gn-Ce}if(a){var bn,xn=N==="x"?Ma:Aa,rr=N==="x"?zs:Bs,Ne=R[$],an=$==="y"?"height":"width",Mn=Ne+O[xn],on=Ne-O[rr],It=[Ma,Aa].indexOf(A)!==-1,Wn=(bn=ae==null?void 0:ae[$])!=null?bn:0,ir=It?Mn:Ne-F[an]-q[an]-Wn+Q.altAxis,Tr=It?Ne+F[an]+q[an]-Wn-Q.altAxis:on,Dn=P&&It?iue(ir,Ne,Tr):c0(P?ir:Mn,Ne,P?Tr:on);R[$]=Dn,fe[$]=Dn-Ne}t.modifiersData[r]=fe}}const Due={name:"preventOverflow",enabled:!0,phase:"main",fn:Rue,requiresIfExists:["offset"]};function Lue(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function jue(e){return e===es(e)||!As(e)?uR(e):Lue(e)}function Nue(e){var t=e.getBoundingClientRect(),n=Fm(t.width)/e.offsetWidth||1,r=Fm(t.height)/e.offsetHeight||1;return n!==1||r!==1}function zue(e,t,n){n===void 0&&(n=!1);var r=As(t),i=As(t)&&Nue(t),o=Yd(t),s=Um(e,i,n),a={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((cc(t)!=="body"||fR(o))&&(a=jue(t)),As(t)?(f=Um(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):o&&(f.x=dR(o))),{x:s.left+a.scrollLeft-f.x,y:s.top+a.scrollTop-f.y,width:s.width,height:s.height}}function Bue(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var f=t.get(a);f&&i(f)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function Fue(e){var t=Bue(e);return Jce.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Uue(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Vue(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var d3={placement:"bottom",modifiers:[],strategy:"absolute"};function f3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Wue(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?d3:i;return function(a,f,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},d3,o),modifiersData:{},elements:{reference:a,popper:f},attributes:{},styles:{}},y=[],x=!1,P={state:g,setOptions:function(A){var M=typeof A=="function"?A(g.options):A;S(),g.options=Object.assign({},o,g.options,M),g.scrollParents={reference:vh(a)?u0(a):a.contextElement?u0(a.contextElement):[],popper:u0(f)};var I=Fue(Vue([].concat(r,g.options.modifiers)));return g.orderedModifiers=I.filter(function(N){return N.enabled}),E(),P.update()},forceUpdate:function(){if(!x){var A=g.elements,M=A.reference,I=A.popper;if(f3(M,I)){g.rects={reference:zue(M,nx(I),g.options.strategy==="fixed"),popper:lR(I)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(Q){return g.modifiersData[Q.name]=Object.assign({},Q.data)});for(var N=0;N<g.orderedModifiers.length;N++){if(g.reset===!0){g.reset=!1,N=-1;continue}var $=g.orderedModifiers[N],R=$.fn,F=$.options,q=F===void 0?{}:F,X=$.name;typeof R=="function"&&(g=R({state:g,options:q,name:X,instance:P})||g)}}}},update:Uue(function(){return new Promise(function(O){P.forceUpdate(),O(g)})}),destroy:function(){S(),x=!0}};if(!f3(a,f))return P;P.setOptions(h).then(function(O){!x&&h.onFirstUpdate&&h.onFirstUpdate(O)});function E(){g.orderedModifiers.forEach(function(O){var A=O.name,M=O.options,I=M===void 0?{}:M,N=O.effect;if(typeof N=="function"){var $=N({state:g,name:A,instance:P,options:I}),R=function(){};y.push($||R)}})}function S(){y.forEach(function(O){return O()}),y=[]}return P}}var que=[pue,Iue,fue,tue,Mue,Cue,Due,lue,Pue],Gue=Wue({defaultModifiers:que});function Hue(e){return typeof e=="function"?e():e}const W9=V.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=V.useState(null),f=ci(V.isValidElement(r)?r.ref:null,n);if(Ns(()=>{o||a(Hue(i)||document.body)},[i,o]),Ns(()=>{if(s&&!o)return Ww(n,s),()=>{Ww(n,null)}},[n,s,o]),o){if(V.isValidElement(r)){const h={ref:f};return V.cloneElement(r,h)}return L.jsx(V.Fragment,{children:r})}return L.jsx(V.Fragment,{children:s&&bu.createPortal(r,s)})});function Yue(e){return Xt("MuiPopper",e)}Jt("MuiPopper",["root"]);const Kue=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Zue=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Xue(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function AM(e){return typeof e=="function"?e():e}function Jue(e){return e.nodeType!==void 0}const Que=()=>nn({root:["root"]},Pce(Yue)),ede={},tde=V.forwardRef(function(t,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:f,open:h,placement:g,popperOptions:y,popperRef:x,slotProps:P={},slots:E={},TransitionProps:S}=t,O=yt(t,Kue),A=V.useRef(null),M=ci(A,n),I=V.useRef(null),N=ci(I,x),$=V.useRef(N);Ns(()=>{$.current=N},[N]),V.useImperativeHandle(x,()=>I.current,[]);const R=Xue(g,s),[F,q]=V.useState(R),[X,Q]=V.useState(AM(i));V.useEffect(()=>{I.current&&I.current.forceUpdate()}),V.useEffect(()=>{i&&Q(AM(i))},[i]),Ns(()=>{if(!X||!h)return;const we=be=>{q(be.placement)};let Oe=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:be})=>{we(be)}}];f!=null&&(Oe=Oe.concat(f)),y&&y.modifiers!=null&&(Oe=Oe.concat(y.modifiers));const Ce=Gue(X,A.current,te({placement:R},y,{modifiers:Oe}));return $.current(Ce),()=>{Ce.destroy(),$.current(null)}},[X,a,f,h,y,R]);const ae={placement:F};S!==null&&(ae.TransitionProps=S);const fe=Que(),Se=(r=E.root)!=null?r:"div",ke=lc({elementType:Se,externalSlotProps:P.root,externalForwardedProps:O,additionalProps:{role:"tooltip",ref:M},ownerState:t,className:fe.root});return L.jsx(Se,te({},ke,{children:typeof o=="function"?o(ae):o}))}),nde=V.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:f=!1,modifiers:h,open:g,placement:y="bottom",popperOptions:x=ede,popperRef:P,style:E,transition:S=!1,slotProps:O={},slots:A={}}=t,M=yt(t,Zue),[I,N]=V.useState(!0),$=()=>{N(!1)},R=()=>{N(!0)};if(!f&&!g&&(!S||I))return null;let F;if(o)F=o;else if(r){const Q=AM(r);F=Q&&Jue(Q)?Hi(Q).body:Hi(null).body}const q=!g&&f&&(!S||I)?"none":void 0,X=S?{in:g,onEnter:$,onExited:R}:void 0;return L.jsx(W9,{disablePortal:a,container:F,children:L.jsx(tde,te({anchorEl:r,direction:s,disablePortal:a,modifiers:h,ref:n,open:S?!I:g,placement:y,popperOptions:x,popperRef:P,slotProps:O,slots:A},M,{style:te({position:"fixed",top:0,left:0,display:q},E),TransitionProps:X,children:i}))})});function rde(e){const t=Hi(e);return t.body===e?zd(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function d0(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function h3(e){return parseInt(zd(e).getComputedStyle(e).paddingRight,10)||0}function ide(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function p3(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,f=!ide(s);a&&f&&d0(s,i)})}function WP(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function ode(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(rde(r)){const s=n9(Hi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${h3(r)+s}px`;const a=Hi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,f=>{n.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${h3(f)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Hi(r).body;else{const s=r.parentElement,a=zd(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function ade(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class sde{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&d0(t.modalRef,!1);const i=ade(n);p3(n,t.mount,t.modalRef,i,!0);const o=WP(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=WP(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=ode(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=WP(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&d0(t.modalRef,n),p3(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&d0(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function lde(e){return typeof e=="function"?e():e}function cde(e){return e?e.props.hasOwnProperty("in"):!1}const ude=new sde;function dde(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=ude,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:f,onClose:h,open:g,rootRef:y}=e,x=V.useRef({}),P=V.useRef(null),E=V.useRef(null),S=ci(E,y),[O,A]=V.useState(!g),M=cde(f);let I=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(I=!1);const N=()=>Hi(P.current),$=()=>(x.current.modalRef=E.current,x.current.mount=P.current,x.current),R=()=>{i.mount($(),{disableScrollLock:r}),E.current&&(E.current.scrollTop=0)},F=bl(()=>{const Oe=lde(t)||N().body;i.add($(),Oe),E.current&&R()}),q=V.useCallback(()=>i.isTopModal($()),[i]),X=bl(Oe=>{P.current=Oe,Oe&&(g&&q()?R():E.current&&d0(E.current,I))}),Q=V.useCallback(()=>{i.remove($(),I)},[I,i]);V.useEffect(()=>()=>{Q()},[Q]),V.useEffect(()=>{g?F():(!M||!o)&&Q()},[g,Q,M,o,F]);const ae=Oe=>Ce=>{var be;(be=Oe.onKeyDown)==null||be.call(Oe,Ce),!(Ce.key!=="Escape"||Ce.which===229||!q())&&(n||(Ce.stopPropagation(),h&&h(Ce,"escapeKeyDown")))},fe=Oe=>Ce=>{var be;(be=Oe.onClick)==null||be.call(Oe,Ce),Ce.target===Ce.currentTarget&&h&&h(Ce,"backdropClick")};return{getRootProps:(Oe={})=>{const Ce=Xw(e);delete Ce.onTransitionEnter,delete Ce.onTransitionExited;const be=te({},Ce,Oe);return te({role:"presentation"},be,{onKeyDown:ae(be),ref:S})},getBackdropProps:(Oe={})=>{const Ce=Oe;return te({"aria-hidden":!0},Ce,{onClick:fe(Ce),open:g})},getTransitionProps:()=>{const Oe=()=>{A(!1),s&&s()},Ce=()=>{A(!0),a&&a(),o&&Q()};return{onEnter:bM(Oe,f==null?void 0:f.props.onEnter),onExited:bM(Ce,f==null?void 0:f.props.onExited)}},rootRef:S,portalRef:X,isTopModal:q,exited:O,hasTransition:M}}function fde(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=e,s=V.useRef();V.useEffect(()=>{if(!i)return;function A(M){M.defaultPrevented||(M.key==="Escape"||M.key==="Esc")&&(r==null||r(M,"escapeKeyDown"))}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[i,r]);const a=bl((A,M)=>{r==null||r(A,M)}),f=bl(A=>{!r||A==null||(clearTimeout(s.current),s.current=setTimeout(()=>{a(null,"timeout")},A))});V.useEffect(()=>(i&&f(t),()=>{clearTimeout(s.current)}),[i,t,f]);const h=A=>{r==null||r(A,"clickaway")},g=()=>{clearTimeout(s.current)},y=V.useCallback(()=>{t!=null&&f(o??t*.5)},[t,o,f]),x=A=>M=>{const I=A.onBlur;I==null||I(M),y()},P=A=>M=>{const I=A.onFocus;I==null||I(M),g()},E=A=>M=>{const I=A.onMouseEnter;I==null||I(M),g()},S=A=>M=>{const I=A.onMouseLeave;I==null||I(M),y()};return V.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",y),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",g)}},[n,y,i]),{getRootProps:(A={})=>{const M=te({},Xw(e),Xw(A));return te({role:"presentation"},A,M,{onBlur:x(M),onFocus:P(M),onMouseEnter:E(M),onMouseLeave:S(M)})},onClickAway:h}}const hde=["onChange","maxRows","minRows","style","value"];function s1(e){return parseInt(e,10)||0}const pde={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function m3(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const mde=V.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=t,f=yt(t,hde),{current:h}=V.useRef(a!=null),g=V.useRef(null),y=ci(n,g),x=V.useRef(null),P=V.useRef(0),[E,S]=V.useState({outerHeightStyle:0}),O=V.useCallback(()=>{const N=g.current,R=zd(N).getComputedStyle(N);if(R.width==="0px")return{outerHeightStyle:0};const F=x.current;F.style.width=R.width,F.value=N.value||t.placeholder||"x",F.value.slice(-1)===`
`&&(F.value+=" ");const q=R.boxSizing,X=s1(R.paddingBottom)+s1(R.paddingTop),Q=s1(R.borderBottomWidth)+s1(R.borderTopWidth),ae=F.scrollHeight;F.value="x";const fe=F.scrollHeight;let Se=ae;o&&(Se=Math.max(Number(o)*fe,Se)),i&&(Se=Math.min(Number(i)*fe,Se)),Se=Math.max(Se,fe);const ke=Se+(q==="border-box"?X+Q:0),we=Math.abs(Se-ae)<=1;return{outerHeightStyle:ke,overflow:we}},[i,o,t.placeholder]),A=(N,$)=>{const{outerHeightStyle:R,overflow:F}=$;return P.current<20&&(R>0&&Math.abs((N.outerHeightStyle||0)-R)>1||N.overflow!==F)?(P.current+=1,{overflow:F,outerHeightStyle:R}):N},M=V.useCallback(()=>{const N=O();m3(N)||S($=>A($,N))},[O]);Ns(()=>{const N=()=>{const ae=O();m3(ae)||bu.flushSync(()=>{S(fe=>A(fe,ae))})},$=()=>{P.current=0,N()};let R;const F=N$($),q=g.current,X=zd(q);X.addEventListener("resize",F);let Q;return typeof ResizeObserver<"u"&&(Q=new ResizeObserver($),Q.observe(q)),()=>{F.clear(),cancelAnimationFrame(R),X.removeEventListener("resize",F),Q&&Q.disconnect()}},[O]),Ns(()=>{M()}),V.useEffect(()=>{P.current=0},[a]);const I=N=>{P.current=0,h||M(),r&&r(N)};return L.jsxs(V.Fragment,{children:[L.jsx("textarea",te({value:a,onChange:I,ref:y,rows:o,style:te({height:E.outerHeightStyle,overflow:E.overflow?"hidden":void 0},s)},f)),L.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:x,tabIndex:-1,style:te({},pde.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),gde=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],yde=ut(nde,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),vde=V.forwardRef(function(t,n){var r;const i=X$(),o=rn({props:t,name:"MuiPopper"}),{anchorEl:s,component:a,components:f,componentsProps:h,container:g,disablePortal:y,keepMounted:x,modifiers:P,open:E,placement:S,popperOptions:O,popperRef:A,transition:M,slots:I,slotProps:N}=o,$=yt(o,gde),R=(r=I==null?void 0:I.root)!=null?r:f==null?void 0:f.Root,F=te({anchorEl:s,container:g,disablePortal:y,keepMounted:x,modifiers:P,open:E,placement:S,popperOptions:O,popperRef:A,transition:M},$);return L.jsx(yde,te({as:a,direction:i==null?void 0:i.direction,slots:{root:R},slotProps:N??h},F,{ref:n}))}),q9=vde;function Kd({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const bde=V.createContext(void 0),wk=bde;function fc(){return V.useContext(wk)}function G9(e){return L.jsx(Dae,te({},e,{defaultTheme:bk,themeId:mh}))}function g3(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Qw(e,t=!1){return e&&(g3(e.value)&&e.value!==""||t&&g3(e.defaultValue)&&e.defaultValue!=="")}function xde(e){return e.startAdornment}function _de(e){return Xt("MuiInputBase",e)}const wde=Jt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Wm=wde,Sde=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Sk=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${at(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},kk=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},kde=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:f,hiddenLabel:h,multiline:g,readOnly:y,size:x,startAdornment:P,type:E}=e,S={root:["root",`color${at(n)}`,r&&"disabled",i&&"error",f&&"fullWidth",s&&"focused",a&&"formControl",x&&x!=="medium"&&`size${at(x)}`,g&&"multiline",P&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",y&&"readOnly"],input:["input",r&&"disabled",E==="search"&&"inputTypeSearch",g&&"inputMultiline",x==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",P&&"inputAdornedStart",o&&"inputAdornedEnd",y&&"readOnly"]};return nn(S,_de,t)},Ck=ut("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Sk})(({theme:e,ownerState:t})=>te({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Wm.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&te({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),Tk=ut("input",{name:"MuiInputBase",slot:"Input",overridesResolver:kk})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=te({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return te({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Wm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Wm.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Cde=L.jsx(G9,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Tde=V.forwardRef(function(t,n){var r;const i=rn({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:f,components:h={},componentsProps:g={},defaultValue:y,disabled:x,disableInjectingGlobalStyles:P,endAdornment:E,fullWidth:S=!1,id:O,inputComponent:A="input",inputProps:M={},inputRef:I,maxRows:N,minRows:$,multiline:R=!1,name:F,onBlur:q,onChange:X,onClick:Q,onFocus:ae,onKeyDown:fe,onKeyUp:Se,placeholder:ke,readOnly:we,renderSuffix:Oe,rows:Ce,slotProps:be={},slots:$e={},startAdornment:Ue,type:ft="text",value:Xe}=i,tt=yt(i,Sde),lt=M.value!=null?M.value:Xe,{current:Ct}=V.useRef(lt!=null),st=V.useRef(),Ht=V.useCallback(Dn=>{},[]),Lt=ci(st,I,M.ref,Ht),[He,_t]=V.useState(!1),pt=fc(),Ve=Kd({props:i,muiFormControl:pt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ve.focused=pt?pt.focused:He,V.useEffect(()=>{!pt&&x&&He&&(_t(!1),q&&q())},[pt,x,He,q]);const Pt=pt&&pt.onFilled,Tt=pt&&pt.onEmpty,Ut=V.useCallback(Dn=>{Qw(Dn)?Pt&&Pt():Tt&&Tt()},[Pt,Tt]);Ns(()=>{Ct&&Ut({value:lt})},[lt,Ut,Ct]);const gn=Dn=>{if(Ve.disabled){Dn.stopPropagation();return}ae&&ae(Dn),M.onFocus&&M.onFocus(Dn),pt&&pt.onFocus?pt.onFocus(Dn):_t(!0)},bn=Dn=>{q&&q(Dn),M.onBlur&&M.onBlur(Dn),pt&&pt.onBlur?pt.onBlur(Dn):_t(!1)},xn=(Dn,...Kt)=>{if(!Ct){const cr=Dn.target||st.current;if(cr==null)throw new Error(Nd(1));Ut({value:cr.value})}M.onChange&&M.onChange(Dn,...Kt),X&&X(Dn,...Kt)};V.useEffect(()=>{Ut(st.current)},[]);const rr=Dn=>{st.current&&Dn.currentTarget===Dn.target&&st.current.focus(),Q&&Q(Dn)};let Ne=A,an=M;R&&Ne==="input"&&(Ce?an=te({type:void 0,minRows:Ce,maxRows:Ce},an):an=te({type:void 0,maxRows:N,minRows:$},an),Ne=mde);const Mn=Dn=>{Ut(Dn.animationName==="mui-auto-fill-cancel"?st.current:{value:"x"})};V.useEffect(()=>{pt&&pt.setAdornedStart(!!Ue)},[pt,Ue]);const on=te({},i,{color:Ve.color||"primary",disabled:Ve.disabled,endAdornment:E,error:Ve.error,focused:Ve.focused,formControl:pt,fullWidth:S,hiddenLabel:Ve.hiddenLabel,multiline:R,size:Ve.size,startAdornment:Ue,type:ft}),It=kde(on),Wn=$e.root||h.Root||Ck,ir=be.root||g.root||{},Tr=$e.input||h.Input||Tk;return an=te({},an,(r=be.input)!=null?r:g.input),L.jsxs(V.Fragment,{children:[!P&&Cde,L.jsxs(Wn,te({},ir,!Zw(Wn)&&{ownerState:te({},on,ir.ownerState)},{ref:n,onClick:rr},tt,{className:rt(It.root,ir.className,f,we&&"MuiInputBase-readOnly"),children:[Ue,L.jsx(wk.Provider,{value:null,children:L.jsx(Tr,te({ownerState:on,"aria-invalid":Ve.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:y,disabled:Ve.disabled,id:O,onAnimationStart:Mn,name:F,placeholder:ke,readOnly:we,required:Ve.required,rows:Ce,value:lt,onKeyDown:fe,onKeyUp:Se,type:ft},an,!Zw(Tr)&&{as:Ne,ownerState:te({},on,an.ownerState)},{ref:Lt,className:rt(It.input,an.className,we&&"MuiInputBase-readOnly"),onBlur:bn,onChange:xn,onFocus:gn}))}),E,Oe?Oe(te({},Ve,{startAdornment:Ue})):null]}))]})}),hR=Tde;function Pde(e){return Xt("MuiInput",e)}const Ede=te({},Wm,Jt("MuiInput",["root","underline","input"])),hv=Ede;function Ode(e){return Xt("MuiOutlinedInput",e)}const Mde=te({},Wm,Jt("MuiOutlinedInput",["root","notchedOutline","input"])),Zu=Mde;function Ade(e){return Xt("MuiFilledInput",e)}const Ide=te({},Wm,Jt("MuiFilledInput",["root","underline","input"])),kf=Ide,$de=Sg(L.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Rde=Sg(L.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Dde(e){return Xt("MuiAvatar",e)}Jt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Lde=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],jde=e=>{const{classes:t,variant:n,colorDefault:r}=e;return nn({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Dde,t)},Nde=ut("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>te({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&te({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),zde=ut("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Bde=ut(Rde,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Fde({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[i,o]=V.useState(!1);return V.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=e,a.referrerPolicy=t,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[e,t,n,r]),i}const Ude=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:f,sizes:h,src:g,srcSet:y,variant:x="circular"}=r,P=yt(r,Lde);let E=null;const S=Fde(te({},f,{src:g,srcSet:y})),O=g||y,A=O&&S!=="error",M=te({},r,{colorDefault:!A,component:a,variant:x}),I=jde(M);return A?E=L.jsx(zde,te({alt:i,srcSet:y,src:g,sizes:h,ownerState:M,className:I.img},f)):o!=null?E=o:O&&i?E=i[0]:E=L.jsx(Bde,{ownerState:M,className:I.fallback}),L.jsx(Nde,te({as:a,ownerState:M,className:rt(I.root,s),ref:n},P,{children:E}))}),Vde=Ude,Wde=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],qde={entering:{opacity:1},entered:{opacity:1}},Gde=V.forwardRef(function(t,n){const r=xu(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:f,in:h,onEnter:g,onEntered:y,onEntering:x,onExit:P,onExited:E,onExiting:S,style:O,timeout:A=i,TransitionComponent:M=nR}=t,I=yt(t,Wde),N=V.useRef(null),$=ci(N,a.ref,n),R=ke=>we=>{if(ke){const Oe=N.current;we===void 0?ke(Oe):ke(Oe,we)}},F=R(x),q=R((ke,we)=>{I9(ke);const Oe=zm({style:O,timeout:A,easing:f},{mode:"enter"});ke.style.webkitTransition=r.transitions.create("opacity",Oe),ke.style.transition=r.transitions.create("opacity",Oe),g&&g(ke,we)}),X=R(y),Q=R(S),ae=R(ke=>{const we=zm({style:O,timeout:A,easing:f},{mode:"exit"});ke.style.webkitTransition=r.transitions.create("opacity",we),ke.style.transition=r.transitions.create("opacity",we),P&&P(ke)}),fe=R(E),Se=ke=>{o&&o(N.current,ke)};return L.jsx(M,te({appear:s,in:h,nodeRef:N,onEnter:q,onEntered:X,onEntering:F,onExit:ae,onExited:fe,onExiting:Q,addEndListener:Se,timeout:A},I,{children:(ke,we)=>V.cloneElement(a,te({style:te({opacity:0,visibility:ke==="exited"&&!h?"hidden":void 0},qde[ke],O,a.props.style),ref:$},we))}))}),Hde=Gde;function Yde(e){return Xt("MuiBackdrop",e)}Jt("MuiBackdrop",["root","invisible"]);const Kde=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Zde=e=>{const{classes:t,invisible:n}=e;return nn({root:["root",n&&"invisible"]},Yde,t)},Xde=ut("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>te({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),Jde=V.forwardRef(function(t,n){var r,i,o;const s=rn({props:t,name:"MuiBackdrop"}),{children:a,className:f,component:h="div",components:g={},componentsProps:y={},invisible:x=!1,open:P,slotProps:E={},slots:S={},TransitionComponent:O=Hde,transitionDuration:A}=s,M=yt(s,Kde),I=te({},s,{component:h,invisible:x}),N=Zde(I),$=(r=E.root)!=null?r:y.root;return L.jsx(O,te({in:P,timeout:A},M,{children:L.jsx(Xde,te({"aria-hidden":!0},$,{as:(i=(o=S.root)!=null?o:g.Root)!=null?i:h,className:rt(N.root,f,$==null?void 0:$.className),ownerState:te({},I,$==null?void 0:$.ownerState),classes:N,ref:n,children:a}))}))}),Qde=Jde;function efe(e){return Xt("MuiBadge",e)}const tfe=Jt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Xu=tfe,nfe=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],qP=10,GP=4,rfe=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${at(n.vertical)}${at(n.horizontal)}`,`anchorOrigin${at(n.vertical)}${at(n.horizontal)}${at(i)}`,`overlap${at(i)}`,t!=="default"&&`color${at(t)}`]};return nn(a,efe,s)},ife=ut("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),ofe=ut("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${at(n.anchorOrigin.vertical)}${at(n.anchorOrigin.horizontal)}${at(n.overlap)}`],n.color!=="default"&&t[`color${at(n.color)}`],n.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>te({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:qP*2,lineHeight:1,padding:"0 6px",height:qP*2,borderRadius:qP,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:GP,height:GP*2,minWidth:GP*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Xu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Xu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Xu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Xu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Xu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Xu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Xu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Xu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),afe=V.forwardRef(function(t,n){var r,i,o,s,a,f;const h=rn({props:t,name:"MuiBadge"}),{anchorOrigin:g={vertical:"top",horizontal:"right"},className:y,component:x,components:P={},componentsProps:E={},children:S,overlap:O="rectangular",color:A="default",invisible:M=!1,max:I=99,badgeContent:N,slots:$,slotProps:R,showZero:F=!1,variant:q="standard"}=h,X=yt(h,nfe),{badgeContent:Q,invisible:ae,max:fe,displayValue:Se}=Ace({max:I,invisible:M,badgeContent:N,showZero:F}),ke=r9({anchorOrigin:g,color:A,overlap:O,variant:q,badgeContent:N}),we=ae||Q==null&&q!=="dot",{color:Oe=A,overlap:Ce=O,anchorOrigin:be=g,variant:$e=q}=we?ke:h,Ue=$e!=="dot"?Se:void 0,ft=te({},h,{badgeContent:Q,invisible:we,max:fe,displayValue:Ue,showZero:F,anchorOrigin:be,color:Oe,overlap:Ce,variant:$e}),Xe=rfe(ft),tt=(r=(i=$==null?void 0:$.root)!=null?i:P.Root)!=null?r:ife,lt=(o=(s=$==null?void 0:$.badge)!=null?s:P.Badge)!=null?o:ofe,Ct=(a=R==null?void 0:R.root)!=null?a:E.root,st=(f=R==null?void 0:R.badge)!=null?f:E.badge,Ht=lc({elementType:tt,externalSlotProps:Ct,externalForwardedProps:X,additionalProps:{ref:n,as:x},ownerState:ft,className:rt(Ct==null?void 0:Ct.className,Xe.root,y)}),Lt=lc({elementType:lt,externalSlotProps:st,ownerState:ft,className:rt(Xe.badge,st==null?void 0:st.className)});return L.jsxs(tt,te({},Ht,{children:[S,L.jsx(lt,te({},Lt,{children:Ue}))]}))}),sfe=afe,lfe=Jt("MuiBox",["root"]),cfe=lfe,ufe=tR(),dfe=zae({themeId:mh,defaultTheme:ufe,defaultClassName:cfe.root,generateClassName:B$.generate}),Xl=dfe;function ffe(e){return Xt("MuiButton",e)}const hfe=Jt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),l1=hfe,pfe=V.createContext({}),H9=pfe,mfe=V.createContext(void 0),Y9=mfe,gfe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],yfe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${at(t)}`,`size${at(i)}`,`${o}Size${at(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${at(i)}`],endIcon:["endIcon",`iconSize${at(i)}`]},f=nn(a,ffe,s);return te({},s,f)},K9=e=>te({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),vfe=ut(kg,{shouldForwardProp:e=>ca(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${at(n.color)}`],t[`size${at(n.size)}`],t[`${n.variant}Size${at(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return te({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":te({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:kr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:kr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:kr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":te({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${l1.focusVisible}`]:te({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${l1.disabled}`]:te({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${kr(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${l1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${l1.disabled}`]:{boxShadow:"none"}}),bfe=ut("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${at(n.size)}`]]}})(({ownerState:e})=>te({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},K9(e))),xfe=ut("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${at(n.size)}`]]}})(({ownerState:e})=>te({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},K9(e))),_fe=V.forwardRef(function(t,n){const r=V.useContext(H9),i=V.useContext(Y9),o=z$(r,t),s=rn({props:o,name:"MuiButton"}),{children:a,color:f="primary",component:h="button",className:g,disabled:y=!1,disableElevation:x=!1,disableFocusRipple:P=!1,endIcon:E,focusVisibleClassName:S,fullWidth:O=!1,size:A="medium",startIcon:M,type:I,variant:N="text"}=s,$=yt(s,gfe),R=te({},s,{color:f,component:h,disabled:y,disableElevation:x,disableFocusRipple:P,fullWidth:O,size:A,type:I,variant:N}),F=yfe(R),q=M&&L.jsx(bfe,{className:F.startIcon,ownerState:R,children:M}),X=E&&L.jsx(xfe,{className:F.endIcon,ownerState:R,children:E}),Q=i||"";return L.jsxs(vfe,te({ownerState:R,className:rt(r.className,F.root,g,Q),component:h,disabled:y,focusRipple:!P,focusVisibleClassName:rt(F.focusVisible,S),ref:n,type:I},$,{classes:F,children:[q,a,X]}))}),hr=_fe;function wfe(e){return Xt("MuiButtonGroup",e)}const Sfe=Jt("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),yo=Sfe,kfe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Cfe=(e,t)=>{const{ownerState:n}=e;return[{[`& .${yo.grouped}`]:t.grouped},{[`& .${yo.grouped}`]:t[`grouped${at(n.orientation)}`]},{[`& .${yo.grouped}`]:t[`grouped${at(n.variant)}`]},{[`& .${yo.grouped}`]:t[`grouped${at(n.variant)}${at(n.orientation)}`]},{[`& .${yo.grouped}`]:t[`grouped${at(n.variant)}${at(n.color)}`]},{[`& .${yo.firstButton}`]:t.firstButton},{[`& .${yo.lastButton}`]:t.lastButton},{[`& .${yo.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},Tfe=e=>{const{classes:t,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e,f={root:["root",a,s==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${at(s)}`,`grouped${at(a)}`,`grouped${at(a)}${at(s)}`,`grouped${at(a)}${at(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return nn(f,wfe,t)},Pfe=ut("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Cfe})(({theme:e,ownerState:t})=>te({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${yo.grouped}`]:te({minWidth:40,"&:hover":te({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${yo.firstButton},& .${yo.middleButton}`]:te({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${yo.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${yo.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:kr(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${yo.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${yo.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":te({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${yo.lastButton},& .${yo.middleButton}`]:te({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),Efe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,disableElevation:h=!1,disableFocusRipple:g=!1,disableRipple:y=!1,fullWidth:x=!1,orientation:P="horizontal",size:E="medium",variant:S="outlined"}=r,O=yt(r,kfe),A=te({},r,{color:s,component:a,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:y,fullWidth:x,orientation:P,size:E,variant:S}),M=Tfe(A),I=V.useMemo(()=>({className:M.grouped,color:s,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:y,fullWidth:x,size:E,variant:S}),[s,f,h,g,y,x,E,S,M.grouped]),N=jie(i),$=N.length,R=F=>{const q=F===0,X=F===$-1;return q&&X?"":q?M.firstButton:X?M.lastButton:M.middleButton};return L.jsx(Pfe,te({as:a,role:"group",className:rt(M.root,o),ref:n,ownerState:A},O,{children:L.jsx(H9.Provider,{value:I,children:N.map((F,q)=>L.jsx(Y9.Provider,{value:R(q),children:F},q))})}))}),Ofe=Efe;function Mfe(e){return Xt("MuiCard",e)}Jt("MuiCard",["root"]);const Afe=["className","raised"],Ife=e=>{const{classes:t}=e;return nn({root:["root"]},Mfe,t)},$fe=ut(Qa,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Rfe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCard"}),{className:i,raised:o=!1}=r,s=yt(r,Afe),a=te({},r,{raised:o}),f=Ife(a);return L.jsx($fe,te({className:rt(f.root,i),elevation:o?8:void 0,ref:n,ownerState:a},s))}),wu=Rfe;function Dfe(e){return Xt("MuiCardActions",e)}Jt("MuiCardActions",["root","spacing"]);const Lfe=["disableSpacing","className"],jfe=e=>{const{classes:t,disableSpacing:n}=e;return nn({root:["root",!n&&"spacing"]},Dfe,t)},Nfe=ut("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>te({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),zfe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=r,s=yt(r,Lfe),a=te({},r,{disableSpacing:i}),f=jfe(a);return L.jsx(Nfe,te({className:rt(f.root,o),ownerState:a,ref:n},s))}),Z9=zfe;function Bfe(e){return Xt("MuiCardContent",e)}Jt("MuiCardContent",["root"]);const Ffe=["className","component"],Ufe=e=>{const{classes:t}=e;return nn({root:["root"]},Bfe,t)},Vfe=ut("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Wfe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=yt(r,Ffe),a=te({},r,{component:o}),f=Ufe(a);return L.jsx(Vfe,te({as:o,className:rt(f.root,i),ownerState:a,ref:n},s))}),pR=Wfe;function qfe(e){return Xt("MuiCardMedia",e)}Jt("MuiCardMedia",["root","media","img"]);const Gfe=["children","className","component","image","src","style"],Hfe=e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return nn({root:["root",n&&"media",r&&"img"]},qfe,t)},Yfe=ut("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})(({ownerState:e})=>te({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),Kfe=["video","audio","picture","iframe","img"],Zfe=["picture","img"],Xfe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:f,style:h}=r,g=yt(r,Gfe),y=Kfe.indexOf(s)!==-1,x=!y&&a?te({backgroundImage:`url("${a}")`},h):h,P=te({},r,{component:s,isMediaComponent:y,isImageComponent:Zfe.indexOf(s)!==-1}),E=Hfe(P);return L.jsx(Yfe,te({className:rt(E.root,o),as:s,role:!y&&a?"img":void 0,ref:n,style:x,ownerState:P,src:y?a||f:void 0},g,{children:i}))}),Jfe=Xfe;function Qfe(e){return Xt("PrivateSwitchBase",e)}Jt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ehe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],the=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${at(i)}`],input:["input"]};return nn(o,Qfe,t)},nhe=ut(kg)(({ownerState:e})=>te({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),rhe=ut("input",{shouldForwardProp:ca})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ihe=V.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:f,disableFocusRipple:h=!1,edge:g=!1,icon:y,id:x,inputProps:P,inputRef:E,name:S,onBlur:O,onChange:A,onFocus:M,readOnly:I,required:N=!1,tabIndex:$,type:R,value:F}=t,q=yt(t,ehe),[X,Q]=Lm({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),ae=fc(),fe=$e=>{M&&M($e),ae&&ae.onFocus&&ae.onFocus($e)},Se=$e=>{O&&O($e),ae&&ae.onBlur&&ae.onBlur($e)},ke=$e=>{if($e.nativeEvent.defaultPrevented)return;const Ue=$e.target.checked;Q(Ue),A&&A($e,Ue)};let we=f;ae&&typeof we>"u"&&(we=ae.disabled);const Oe=R==="checkbox"||R==="radio",Ce=te({},t,{checked:X,disabled:we,disableFocusRipple:h,edge:g}),be=the(Ce);return L.jsxs(nhe,te({component:"span",className:rt(be.root,s),centerRipple:!0,focusRipple:!h,disabled:we,tabIndex:null,role:void 0,onFocus:fe,onBlur:Se,ownerState:Ce,ref:n},q,{children:[L.jsx(rhe,te({autoFocus:r,checked:i,defaultChecked:a,className:be.input,disabled:we,id:Oe?x:void 0,name:S,onChange:ke,readOnly:I,ref:E,required:N,ownerState:Ce,tabIndex:$,type:R},R==="checkbox"&&F===void 0?{}:{value:F},P)),X?o:y]}))}),X9=ihe,ohe=Sg(L.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),ahe=Sg(L.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),she=Sg(L.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function lhe(e){return Xt("MuiCheckbox",e)}const che=Jt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),HP=che,uhe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],dhe=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o={root:["root",n&&"indeterminate",`color${at(r)}`,`size${at(i)}`]},s=nn(o,lhe,t);return te({},t,s)},fhe=ut(X9,{shouldForwardProp:e=>ca(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${at(n.size)}`],n.color!=="default"&&t[`color${at(n.color)}`]]}})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:kr(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${HP.checked}, &.${HP.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${HP.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),hhe=L.jsx(ahe,{}),phe=L.jsx(ohe,{}),mhe=L.jsx(she,{}),ghe=V.forwardRef(function(t,n){var r,i;const o=rn({props:t,name:"MuiCheckbox"}),{checkedIcon:s=hhe,color:a="primary",icon:f=phe,indeterminate:h=!1,indeterminateIcon:g=mhe,inputProps:y,size:x="medium",className:P}=o,E=yt(o,uhe),S=h?g:f,O=h?g:s,A=te({},o,{color:a,indeterminate:h,size:x}),M=dhe(A);return L.jsx(fhe,te({type:"checkbox",inputProps:te({"data-indeterminate":h},y),icon:V.cloneElement(S,{fontSize:(r=S.props.fontSize)!=null?r:x}),checkedIcon:V.cloneElement(O,{fontSize:(i=O.props.fontSize)!=null?i:x}),ownerState:A,ref:n,className:rt(M.root,P)},E,{classes:M}))}),y3=ghe,yhe=fse({createStyledComponent:ut("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${at(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>rn({props:e,name:"MuiContainer"})}),eS=yhe,vhe=(e,t)=>te({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),bhe=e=>te({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),xhe=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,a])=>{var f;r[e.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(f=a.palette)==null?void 0:f.mode}});let i=te({html:vhe(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:te({margin:0},bhe(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const o=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(i=[i,o]),i};function _he(e){const t=rn({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return L.jsxs(V.Fragment,{children:[L.jsx(G9,{styles:i=>xhe(i,r)}),n]})}function whe(e){return Xt("MuiModal",e)}Jt("MuiModal",["root","hidden","backdrop"]);const She=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],khe=e=>{const{open:t,exited:n,classes:r}=e;return nn({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},whe,r)},Che=ut("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>te({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),The=ut(Qde,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Phe=V.forwardRef(function(t,n){var r,i,o,s,a,f;const h=rn({name:"MuiModal",props:t}),{BackdropComponent:g=The,BackdropProps:y,className:x,closeAfterTransition:P=!1,children:E,container:S,component:O,components:A={},componentsProps:M={},disableAutoFocus:I=!1,disableEnforceFocus:N=!1,disableEscapeKeyDown:$=!1,disablePortal:R=!1,disableRestoreFocus:F=!1,disableScrollLock:q=!1,hideBackdrop:X=!1,keepMounted:Q=!1,onBackdropClick:ae,open:fe,slotProps:Se,slots:ke}=h,we=yt(h,She),Oe=te({},h,{closeAfterTransition:P,disableAutoFocus:I,disableEnforceFocus:N,disableEscapeKeyDown:$,disablePortal:R,disableRestoreFocus:F,disableScrollLock:q,hideBackdrop:X,keepMounted:Q}),{getRootProps:Ce,getBackdropProps:be,getTransitionProps:$e,portalRef:Ue,isTopModal:ft,exited:Xe,hasTransition:tt}=dde(te({},Oe,{rootRef:n})),lt=te({},Oe,{exited:Xe}),Ct=khe(lt),st={};if(E.props.tabIndex===void 0&&(st.tabIndex="-1"),tt){const{onEnter:Pt,onExited:Tt}=$e();st.onEnter=Pt,st.onExited=Tt}const Ht=(r=(i=ke==null?void 0:ke.root)!=null?i:A.Root)!=null?r:Che,Lt=(o=(s=ke==null?void 0:ke.backdrop)!=null?s:A.Backdrop)!=null?o:g,He=(a=Se==null?void 0:Se.root)!=null?a:M.root,_t=(f=Se==null?void 0:Se.backdrop)!=null?f:M.backdrop,pt=lc({elementType:Ht,externalSlotProps:He,externalForwardedProps:we,getSlotProps:Ce,additionalProps:{ref:n,as:O},ownerState:lt,className:rt(x,He==null?void 0:He.className,Ct==null?void 0:Ct.root,!lt.open&&lt.exited&&(Ct==null?void 0:Ct.hidden))}),Ve=lc({elementType:Lt,externalSlotProps:_t,additionalProps:y,getSlotProps:Pt=>be(te({},Pt,{onClick:Tt=>{ae&&ae(Tt),Pt!=null&&Pt.onClick&&Pt.onClick(Tt)}})),className:rt(_t==null?void 0:_t.className,y==null?void 0:y.className,Ct==null?void 0:Ct.backdrop),ownerState:lt});return!Q&&!fe&&(!tt||Xe)?null:L.jsx(W9,{ref:Ue,container:S,disablePortal:R,children:L.jsxs(Ht,te({},pt,{children:[!X&&g?L.jsx(Lt,te({},Ve)):null,L.jsx(Bce,{disableEnforceFocus:N,disableAutoFocus:I,disableRestoreFocus:F,isEnabled:ft,open:fe,children:V.cloneElement(E,st)})]}))})}),Ehe=Phe;function Ohe(e){return Xt("MuiDivider",e)}const Mhe=Jt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),v3=Mhe,Ahe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Ihe=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:f}=e;return nn({root:["root",t&&"absolute",f,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},Ohe,r)},$he=ut("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>te({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:kr(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>te({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>te({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>te({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>te({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Rhe=ut("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>te({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),J9=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:f=!1,light:h=!1,orientation:g="horizontal",role:y=a!=="hr"?"separator":void 0,textAlign:x="center",variant:P="fullWidth"}=r,E=yt(r,Ahe),S=te({},r,{absolute:i,component:a,flexItem:f,light:h,orientation:g,role:y,textAlign:x,variant:P}),O=Ihe(S);return L.jsx($he,te({as:a,className:rt(O.root,s),role:y,ref:n,ownerState:S},E,{children:o?L.jsx(Rhe,{className:O.wrapper,ownerState:S,children:o}):null}))});J9.muiSkipListHighlight=!0;const rx=J9,Dhe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Lhe=e=>{const{classes:t,disableUnderline:n}=e,i=nn({root:["root",!n&&"underline"],input:["input"]},Ade,t);return te({},t,i)},jhe=ut(Ck,{shouldForwardProp:e=>ca(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Sk(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return te({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${kf.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${kf.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${kf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${kf.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${kf.disabled}, .${kf.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${kf.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&te({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Nhe=ut(Tk,{name:"MuiFilledInput",slot:"Input",overridesResolver:kk})(({theme:e,ownerState:t})=>te({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Q9=V.forwardRef(function(t,n){var r,i,o,s;const a=rn({props:t,name:"MuiFilledInput"}),{components:f={},componentsProps:h,fullWidth:g=!1,inputComponent:y="input",multiline:x=!1,slotProps:P,slots:E={},type:S="text"}=a,O=yt(a,Dhe),A=te({},a,{fullWidth:g,inputComponent:y,multiline:x,type:S}),M=Lhe(a),I={root:{ownerState:A},input:{ownerState:A}},N=P??h?io(I,P??h):I,$=(r=(i=E.root)!=null?i:f.Root)!=null?r:jhe,R=(o=(s=E.input)!=null?s:f.Input)!=null?o:Nhe;return L.jsx(hR,te({slots:{root:$,input:R},componentsProps:N,fullWidth:g,inputComponent:y,multiline:x,ref:n,type:S},O,{classes:M}))});Q9.muiName="Input";const e7=Q9;function zhe(e){return Xt("MuiFormControl",e)}Jt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Bhe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Fhe=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${at(n)}`,r&&"fullWidth"]};return nn(i,zhe,t)},Uhe=ut("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>te({},t.root,t[`margin${at(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>te({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Vhe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,error:h=!1,focused:g,fullWidth:y=!1,hiddenLabel:x=!1,margin:P="none",required:E=!1,size:S="medium",variant:O="outlined"}=r,A=yt(r,Bhe),M=te({},r,{color:s,component:a,disabled:f,error:h,fullWidth:y,hiddenLabel:x,margin:P,required:E,size:S,variant:O}),I=Fhe(M),[N,$]=V.useState(()=>{let Se=!1;return i&&V.Children.forEach(i,ke=>{if(!K1(ke,["Input","Select"]))return;const we=K1(ke,["Select"])?ke.props.input:ke;we&&xde(we.props)&&(Se=!0)}),Se}),[R,F]=V.useState(()=>{let Se=!1;return i&&V.Children.forEach(i,ke=>{K1(ke,["Input","Select"])&&(Qw(ke.props,!0)||Qw(ke.props.inputProps,!0))&&(Se=!0)}),Se}),[q,X]=V.useState(!1);f&&q&&X(!1);const Q=g!==void 0&&!f?g:q;let ae;const fe=V.useMemo(()=>({adornedStart:N,setAdornedStart:$,color:s,disabled:f,error:h,filled:R,focused:Q,fullWidth:y,hiddenLabel:x,size:S,onBlur:()=>{X(!1)},onEmpty:()=>{F(!1)},onFilled:()=>{F(!0)},onFocus:()=>{X(!0)},registerEffect:ae,required:E,variant:O}),[N,s,f,h,R,Q,y,x,ae,E,S,O]);return L.jsx(wk.Provider,{value:fe,children:L.jsx(Uhe,te({as:a,ownerState:M,className:rt(I.root,o),ref:n},A,{children:i}))})}),ix=Vhe,Whe=xse({createStyledComponent:ut("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>rn({props:e,name:"MuiStack"})}),qhe=Whe;function Ghe(e){return Xt("MuiFormControlLabel",e)}const Hhe=Jt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Gv=Hhe,Yhe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Khe=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e,s={root:["root",n&&"disabled",`labelPlacement${at(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return nn(s,Ghe,t)},Zhe=ut("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Gv.label}`]:t.label},t.root,t[`labelPlacement${at(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>te({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Gv.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Gv.label}`]:{[`&.${Gv.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Xhe=ut("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Gv.error}`]:{color:(e.vars||e).palette.error.main}})),Jhe=V.forwardRef(function(t,n){var r,i;const o=rn({props:t,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:f,disabled:h,disableTypography:g,label:y,labelPlacement:x="end",required:P,slotProps:E={}}=o,S=yt(o,Yhe),O=fc(),A=(r=h??f.props.disabled)!=null?r:O==null?void 0:O.disabled,M=P??f.props.required,I={disabled:A,required:M};["checked","name","onChange","value","inputRef"].forEach(X=>{typeof f.props[X]>"u"&&typeof o[X]<"u"&&(I[X]=o[X])});const N=Kd({props:o,muiFormControl:O,states:["error"]}),$=te({},o,{disabled:A,labelPlacement:x,required:M,error:N.error}),R=Khe($),F=(i=E.typography)!=null?i:a.typography;let q=y;return q!=null&&q.type!==pn&&!g&&(q=L.jsx(pn,te({component:"span"},F,{className:rt(R.label,F==null?void 0:F.className),children:q}))),L.jsxs(Zhe,te({className:rt(R.root,s),ownerState:$,ref:n},S,{children:[V.cloneElement(f,I),M?L.jsxs(qhe,{display:"block",children:[q,L.jsxs(Xhe,{ownerState:$,"aria-hidden":!0,className:R.asterisk,children:[" ","*"]})]}):q]}))}),b3=Jhe;function Qhe(e){return Xt("MuiFormGroup",e)}Jt("MuiFormGroup",["root","row","error"]);const epe=["className","row"],tpe=e=>{const{classes:t,row:n,error:r}=e;return nn({root:["root",n&&"row",r&&"error"]},Qhe,t)},npe=ut("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>te({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),rpe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,s=yt(r,epe),a=fc(),f=Kd({props:r,muiFormControl:a,states:["error"]}),h=te({},r,{row:o,error:f.error}),g=tpe(h);return L.jsx(npe,te({className:rt(g.root,i),ownerState:h,ref:n},s))}),ipe=rpe;function ope(e){return Xt("MuiFormHelperText",e)}const ape=Jt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),x3=ape;var _3;const spe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],lpe=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:f}=e,h={root:["root",i&&"disabled",o&&"error",r&&`size${at(r)}`,n&&"contained",a&&"focused",s&&"filled",f&&"required"]};return nn(h,ope,t)},cpe=ut("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${at(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${x3.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${x3.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),upe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=yt(r,spe),f=fc(),h=Kd({props:r,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),g=te({},r,{component:s,contained:h.variant==="filled"||h.variant==="outlined",variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),y=lpe(g);return L.jsx(cpe,te({as:s,ownerState:g,className:rt(y.root,o),ref:n},a,{children:i===" "?_3||(_3=L.jsx("span",{className:"notranslate",children:"​"})):i}))}),dpe=upe;function fpe(e){return Xt("MuiFormLabel",e)}const hpe=Jt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),f0=hpe,ppe=["children","className","color","component","disabled","error","filled","focused","required"],mpe=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,f={root:["root",`color${at(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return nn(f,fpe,t)},gpe=ut("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>te({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${f0.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${f0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${f0.error}`]:{color:(e.vars||e).palette.error.main}})),ype=ut("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${f0.error}`]:{color:(e.vars||e).palette.error.main}})),vpe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=yt(r,ppe),f=fc(),h=Kd({props:r,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),g=te({},r,{color:h.color||"primary",component:s,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),y=mpe(g);return L.jsxs(gpe,te({as:s,ownerState:g,className:rt(y.root,o),ref:n},a,{children:[i,h.required&&L.jsxs(ype,{ownerState:g,"aria-hidden":!0,className:y.asterisk,children:[" ","*"]})]}))}),bpe=vpe,xpe=V.createContext(),w3=xpe;function _pe(e){return Xt("MuiGrid",e)}const wpe=[0,1,2,3,4,5,6,7,8,9,10],Spe=["column-reverse","column","row-reverse","row"],kpe=["nowrap","wrap-reverse","wrap"],pv=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],eb=Jt("MuiGrid",["root","container","item","zeroMinWidth",...wpe.map(e=>`spacing-xs-${e}`),...Spe.map(e=>`direction-xs-${e}`),...kpe.map(e=>`wrap-xs-${e}`),...pv.map(e=>`grid-xs-${e}`),...pv.map(e=>`grid-sm-${e}`),...pv.map(e=>`grid-md-${e}`),...pv.map(e=>`grid-lg-${e}`),...pv.map(e=>`grid-xl-${e}`)]),Cpe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ym(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Tpe({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Qf({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const f=`${Math.round(n/a*1e8)/1e6}%`;let h={};if(t.container&&t.item&&t.columnSpacing!==0){const g=e.spacing(t.columnSpacing);if(g!=="0px"){const y=`calc(${f} + ${ym(g)})`;h={flexBasis:y,maxWidth:y}}}o=te({flexBasis:f,flexGrow:0,maxWidth:f},h)}return e.breakpoints.values[i]===0?Object.assign(r,o):r[e.breakpoints.up(i)]=o,r},{})}function Ppe({theme:e,ownerState:t}){const n=Qf({values:t.direction,breakpoints:e.breakpoints.values});return $a({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${eb.item}`]={maxWidth:"none"}),i})}function t7({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,o)=>e[i]-e[o]);return r.slice(0,r.indexOf(n))}function Epe({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const o=Qf({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=t7({breakpoints:e.breakpoints.values,values:o})),i=$a({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{marginTop:`-${ym(g)}`,[`& > .${eb.item}`]:{paddingTop:ym(g)}}:(h=s)!=null&&h.includes(f)?{}:{marginTop:0,[`& > .${eb.item}`]:{paddingTop:0}}})}return i}function Ope({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const o=Qf({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=t7({breakpoints:e.breakpoints.values,values:o})),i=$a({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{width:`calc(100% + ${ym(g)})`,marginLeft:`-${ym(g)}`,[`& > .${eb.item}`]:{paddingLeft:ym(g)}}:(h=s)!=null&&h.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${eb.item}`]:{paddingLeft:0}}})}return i}function Mpe(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const Ape=ut("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:f,breakpoints:h}=n;let g=[];r&&(g=Mpe(s,h,t));const y=[];return h.forEach(x=>{const P=n[x];P&&y.push(t[`grid-${x}-${String(P)}`])}),[t.root,r&&t.container,o&&t.item,f&&t.zeroMinWidth,...g,i!=="row"&&t[`direction-xs-${String(i)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...y]}})(({ownerState:e})=>te({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Ppe,Epe,Ope,Tpe);function Ipe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const $pe=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:f}=e;let h=[];n&&(h=Ipe(o,f));const g=[];f.forEach(x=>{const P=e[x];P&&g.push(`grid-${x}-${String(P)}`)});const y={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...h,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...g]};return nn(y,_pe,t)},Rpe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiGrid"}),{breakpoints:i}=xu(),o=mk(r),{className:s,columns:a,columnSpacing:f,component:h="div",container:g=!1,direction:y="row",item:x=!1,rowSpacing:P,spacing:E=0,wrap:S="wrap",zeroMinWidth:O=!1}=o,A=yt(o,Cpe),M=P||E,I=f||E,N=V.useContext(w3),$=g?a||12:N,R={},F=te({},A);i.keys.forEach(Q=>{A[Q]!=null&&(R[Q]=A[Q],delete F[Q])});const q=te({},o,{columns:$,container:g,direction:y,item:x,rowSpacing:M,columnSpacing:I,wrap:S,zeroMinWidth:O,spacing:E},R,{breakpoints:i.keys}),X=$pe(q);return L.jsx(w3.Provider,{value:$,children:L.jsx(Ape,te({ownerState:q,className:rt(X.root,s),as:h,ref:n},F))})}),S3=Rpe,Dpe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function IM(e){return`scale(${e}, ${e**2})`}const Lpe={entering:{opacity:1,transform:IM(1)},entered:{opacity:1,transform:"none"}},YP=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),n7=V.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:f,onEntered:h,onEntering:g,onExit:y,onExited:x,onExiting:P,style:E,timeout:S="auto",TransitionComponent:O=nR}=t,A=yt(t,Dpe),M=V.useRef(),I=V.useRef(),N=xu(),$=V.useRef(null),R=ci($,o.ref,n),F=we=>Oe=>{if(we){const Ce=$.current;Oe===void 0?we(Ce):we(Ce,Oe)}},q=F(g),X=F((we,Oe)=>{I9(we);const{duration:Ce,delay:be,easing:$e}=zm({style:E,timeout:S,easing:s},{mode:"enter"});let Ue;S==="auto"?(Ue=N.transitions.getAutoHeightDuration(we.clientHeight),I.current=Ue):Ue=Ce,we.style.transition=[N.transitions.create("opacity",{duration:Ue,delay:be}),N.transitions.create("transform",{duration:YP?Ue:Ue*.666,delay:be,easing:$e})].join(","),f&&f(we,Oe)}),Q=F(h),ae=F(P),fe=F(we=>{const{duration:Oe,delay:Ce,easing:be}=zm({style:E,timeout:S,easing:s},{mode:"exit"});let $e;S==="auto"?($e=N.transitions.getAutoHeightDuration(we.clientHeight),I.current=$e):$e=Oe,we.style.transition=[N.transitions.create("opacity",{duration:$e,delay:Ce}),N.transitions.create("transform",{duration:YP?$e:$e*.666,delay:YP?Ce:Ce||$e*.333,easing:be})].join(","),we.style.opacity=0,we.style.transform=IM(.75),y&&y(we)}),Se=F(x),ke=we=>{S==="auto"&&(M.current=setTimeout(we,I.current||0)),r&&r($.current,we)};return V.useEffect(()=>()=>{clearTimeout(M.current)},[]),L.jsx(O,te({appear:i,in:a,nodeRef:$,onEnter:X,onEntered:Q,onEntering:q,onExit:fe,onExited:Se,onExiting:ae,addEndListener:ke,timeout:S==="auto"?null:S},A,{children:(we,Oe)=>V.cloneElement(o,te({style:te({opacity:0,transform:IM(.75),visibility:we==="exited"&&!a?"hidden":void 0},Lpe[we],E,o.props.style),ref:R},Oe))}))});n7.muiSupportAuto=!0;const tS=n7,jpe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Npe=e=>{const{classes:t,disableUnderline:n}=e,i=nn({root:["root",!n&&"underline"],input:["input"]},Pde,t);return te({},t,i)},zpe=ut(Ck,{shouldForwardProp:e=>ca(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Sk(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),te({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hv.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hv.disabled}, .${hv.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${hv.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Bpe=ut(Tk,{name:"MuiInput",slot:"Input",overridesResolver:kk})({}),r7=V.forwardRef(function(t,n){var r,i,o,s;const a=rn({props:t,name:"MuiInput"}),{disableUnderline:f,components:h={},componentsProps:g,fullWidth:y=!1,inputComponent:x="input",multiline:P=!1,slotProps:E,slots:S={},type:O="text"}=a,A=yt(a,jpe),M=Npe(a),N={root:{ownerState:{disableUnderline:f}}},$=E??g?io(E??g,N):N,R=(r=(i=S.root)!=null?i:h.Root)!=null?r:zpe,F=(o=(s=S.input)!=null?s:h.Input)!=null?o:Bpe;return L.jsx(hR,te({slots:{root:R,input:F},slotProps:$,fullWidth:y,inputComponent:x,multiline:P,ref:n,type:O},A,{classes:M}))});r7.muiName="Input";const i7=r7;function Fpe(e){return Xt("MuiInputAdornment",e)}const Upe=Jt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),k3=Upe;var C3;const Vpe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Wpe=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${at(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},qpe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,a={root:["root",n&&"disablePointerEvents",i&&`position${at(i)}`,s,r&&"hiddenLabel",o&&`size${at(o)}`]};return nn(a,Fpe,t)},Gpe=ut("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Wpe})(({theme:e,ownerState:t})=>te({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${k3.positionStart}&:not(.${k3.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),Hpe=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:f=!1,position:h,variant:g}=r,y=yt(r,Vpe),x=fc()||{};let P=g;g&&x.variant,x&&!P&&(P=x.variant);const E=te({},r,{hiddenLabel:x.hiddenLabel,size:x.size,disablePointerEvents:a,position:h,variant:P}),S=qpe(E);return L.jsx(wk.Provider,{value:null,children:L.jsx(Gpe,te({as:s,ownerState:E,className:rt(S.root,o),ref:n},y,{children:typeof i=="string"&&!f?L.jsx(pn,{color:"text.secondary",children:i}):L.jsxs(V.Fragment,{children:[h==="start"?C3||(C3=L.jsx("span",{className:"notranslate",children:"​"})):null,i]})}))})}),Ype=Hpe;function Kpe(e){return Xt("MuiInputLabel",e)}Jt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Zpe=["disableAnimation","margin","shrink","variant","className"],Xpe=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,f={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${at(r)}`,s],asterisk:[a&&"asterisk"]},h=nn(f,Kpe,t);return te({},t,h)},Jpe=ut(bpe,{shouldForwardProp:e=>ca(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${f0.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>te({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&te({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&te({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&te({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Qpe=V.forwardRef(function(t,n){const r=rn({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=yt(r,Zpe),f=fc();let h=o;typeof h>"u"&&f&&(h=f.filled||f.focused||f.adornedStart);const g=Kd({props:r,muiFormControl:f,states:["size","variant","required","focused"]}),y=te({},r,{disableAnimation:i,formControl:f,shrink:h,size:g.size,variant:g.variant,required:g.required,focused:g.focused}),x=Xpe(y);return L.jsx(Jpe,te({"data-shrink":h,ownerState:y,ref:n,className:rt(x.root,s)},a,{classes:x}))}),ox=Qpe;function eme(e){return Xt("MuiLink",e)}const tme=Jt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),nme=tme,o7={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},rme=e=>o7[e]||e,ime=({theme:e,ownerState:t})=>{const n=rme(t.color),r=Nm(e,`palette.${n}`,!1)||t.color,i=Nm(e,`palette.${n}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:kr(r,.4)},ome=ime,ame=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],sme=e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root",`underline${at(i)}`,n==="button"&&"button",r&&"focusVisible"]};return nn(o,eme,t)},lme=ut(pn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${at(n.underline)}`],n.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>te({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&te({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:ome({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nme.focusVisible}`]:{outline:"auto"}})),cme=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiLink"}),{className:i,color:o="primary",component:s="a",onBlur:a,onFocus:f,TypographyClasses:h,underline:g="always",variant:y="inherit",sx:x}=r,P=yt(r,ame),{isFocusVisibleRef:E,onBlur:S,onFocus:O,ref:A}=nk(),[M,I]=V.useState(!1),N=ci(n,A),$=X=>{S(X),E.current===!1&&I(!1),a&&a(X)},R=X=>{O(X),E.current===!0&&I(!0),f&&f(X)},F=te({},r,{color:o,component:s,focusVisible:M,underline:g,variant:y}),q=sme(F);return L.jsx(lme,te({color:o,className:rt(q.root,i),classes:h,component:s,onBlur:$,onFocus:R,ref:N,ownerState:F,variant:y,sx:[...Object.keys(o7).includes(o)?[]:[{color:o}],...Array.isArray(x)?x:[x]]},P))}),ume=cme,dme=V.createContext({}),bh=dme;function fme(e){return Xt("MuiList",e)}Jt("MuiList",["root","padding","dense","subheader"]);const hme=["children","className","component","dense","disablePadding","subheader"],pme=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return nn({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},fme,t)},mme=ut("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>te({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),gme=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:f=!1,subheader:h}=r,g=yt(r,hme),y=V.useMemo(()=>({dense:a}),[a]),x=te({},r,{component:s,dense:a,disablePadding:f}),P=pme(x);return L.jsx(bh.Provider,{value:y,children:L.jsxs(mme,te({as:s,className:rt(P.root,o),ref:n,ownerState:x},g,{children:[h,i]}))})}),yme=gme;function vme(e){return Xt("MuiListItemButton",e)}const bme=Jt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),mv=bme,xme=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],_me=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},wme=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,h=nn({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},vme,n);return te({},n,h)},Sme=ut(kg,{shouldForwardProp:e=>ca(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:_me})(({theme:e,ownerState:t})=>te({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${mv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:kr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${mv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:kr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${mv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:kr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:kr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${mv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${mv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),kme=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:f=!1,disableGutters:h=!1,divider:g=!1,focusVisibleClassName:y,selected:x=!1,className:P}=r,E=yt(r,xme),S=V.useContext(bh),O=V.useMemo(()=>({dense:f||S.dense||!1,alignItems:i,disableGutters:h}),[i,S.dense,f,h]),A=V.useRef(null);Ns(()=>{o&&A.current&&A.current.focus()},[o]);const M=te({},r,{alignItems:i,dense:O.dense,disableGutters:h,divider:g,selected:x}),I=wme(M),N=ci(A,n);return L.jsx(bh.Provider,{value:O,children:L.jsx(Sme,te({ref:N,href:E.href||E.to,component:(E.href||E.to)&&s==="div"?"button":s,focusVisibleClassName:rt(I.focusVisible,y),ownerState:M,className:rt(I.root,P)},E,{classes:I,children:a}))})}),Cme=kme;function Tme(e){return Xt("MuiListItemAvatar",e)}Jt("MuiListItemAvatar",["root","alignItemsFlexStart"]);const Pme=["className"],Eme=e=>{const{alignItems:t,classes:n}=e;return nn({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Tme,n)},Ome=ut("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>te({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),Mme=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItemAvatar"}),{className:i}=r,o=yt(r,Pme),s=V.useContext(bh),a=te({},r,{alignItems:s.alignItems}),f=Eme(a);return L.jsx(Ome,te({className:rt(f.root,i),ownerState:a,ref:n},o))}),Ame=Mme,Ime=Jt("MuiListItemIcon",["root","alignItemsFlexStart"]),T3=Ime;function $me(e){return Xt("MuiListItemText",e)}const Rme=Jt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),nS=Rme,Dme=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Lme=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return nn({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},$me,t)},jme=ut("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${nS.primary}`]:t.primary},{[`& .${nS.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>te({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Nme=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:f,primaryTypographyProps:h,secondary:g,secondaryTypographyProps:y}=r,x=yt(r,Dme),{dense:P}=V.useContext(bh);let E=f??i,S=g;const O=te({},r,{disableTypography:s,inset:a,primary:!!E,secondary:!!S,dense:P}),A=Lme(O);return E!=null&&E.type!==pn&&!s&&(E=L.jsx(pn,te({variant:P?"body2":"body1",className:A.primary,component:h!=null&&h.variant?void 0:"span",display:"block"},h,{children:E}))),S!=null&&S.type!==pn&&!s&&(S=L.jsx(pn,te({variant:"body2",className:A.secondary,color:"text.secondary",display:"block"},y,{children:S}))),L.jsxs(jme,te({className:rt(A.root,o),ownerState:O,ref:n},x,{children:[E,S]}))}),zme=Nme,Bme=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function KP(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function P3(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function a7(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function gv(e,t,n,r,i,o){let s=!1,a=i(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const f=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!a7(a,o)||f)a=i(e,a,n);else return a.focus(),!0}return!1}const Fme=V.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:f=!1,disableListWrap:h=!1,onKeyDown:g,variant:y="selectedMenu"}=t,x=yt(t,Bme),P=V.useRef(null),E=V.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ns(()=>{i&&P.current.focus()},[i]),V.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(I,N)=>{const $=!P.current.style.width;if(I.clientHeight<P.current.clientHeight&&$){const R=`${n9(Hi(I))}px`;P.current.style[N.direction==="rtl"?"paddingLeft":"paddingRight"]=R,P.current.style.width=`calc(100% + ${R})`}return P.current}}),[]);const S=I=>{const N=P.current,$=I.key,R=Hi(N).activeElement;if($==="ArrowDown")I.preventDefault(),gv(N,R,h,f,KP);else if($==="ArrowUp")I.preventDefault(),gv(N,R,h,f,P3);else if($==="Home")I.preventDefault(),gv(N,null,h,f,KP);else if($==="End")I.preventDefault(),gv(N,null,h,f,P3);else if($.length===1){const F=E.current,q=$.toLowerCase(),X=performance.now();F.keys.length>0&&(X-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&q!==F.keys[0]&&(F.repeating=!1)),F.lastTime=X,F.keys.push(q);const Q=R&&!F.repeating&&a7(R,F);F.previousKeyMatched&&(Q||gv(N,R,!1,f,KP,F))?I.preventDefault():F.previousKeyMatched=!1}g&&g(I)},O=ci(P,n);let A=-1;V.Children.forEach(s,(I,N)=>{if(!V.isValidElement(I)){A===N&&(A+=1,A>=s.length&&(A=-1));return}I.props.disabled||(y==="selectedMenu"&&I.props.selected||A===-1)&&(A=N),A===N&&(I.props.disabled||I.props.muiSkipListHighlight||I.type.muiSkipListHighlight)&&(A+=1,A>=s.length&&(A=-1))});const M=V.Children.map(s,(I,N)=>{if(N===A){const $={};return o&&($.autoFocus=!0),I.props.tabIndex===void 0&&y==="selectedMenu"&&($.tabIndex=0),V.cloneElement(I,$)}return I});return L.jsx(yme,te({role:"menu",ref:O,className:a,onKeyDown:S,tabIndex:i?0:-1},x,{children:M}))}),Ume=Fme;function Vme(e){return Xt("MuiPopover",e)}Jt("MuiPopover",["root","paper"]);const Wme=["onEntering"],qme=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Gme=["slotProps"];function E3(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function O3(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function M3(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function ZP(e){return typeof e=="function"?e():e}const Hme=e=>{const{classes:t}=e;return nn({root:["root"],paper:["paper"]},Vme,t)},Yme=ut(Ehe,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),s7=ut(Qa,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Kme=V.forwardRef(function(t,n){var r,i,o;const s=rn({props:t,name:"MuiPopover"}),{action:a,anchorEl:f,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:g,anchorReference:y="anchorEl",children:x,className:P,container:E,elevation:S=8,marginThreshold:O=16,open:A,PaperProps:M={},slots:I,slotProps:N,transformOrigin:$={vertical:"top",horizontal:"left"},TransitionComponent:R=tS,transitionDuration:F="auto",TransitionProps:{onEntering:q}={},disableScrollLock:X=!1}=s,Q=yt(s.TransitionProps,Wme),ae=yt(s,qme),fe=(r=N==null?void 0:N.paper)!=null?r:M,Se=V.useRef(),ke=ci(Se,fe.ref),we=te({},s,{anchorOrigin:h,anchorReference:y,elevation:S,marginThreshold:O,externalPaperSlotProps:fe,transformOrigin:$,TransitionComponent:R,transitionDuration:F,TransitionProps:Q}),Oe=Hme(we),Ce=V.useCallback(()=>{if(y==="anchorPosition")return g;const Pt=ZP(f),Ut=(Pt&&Pt.nodeType===1?Pt:Hi(Se.current).body).getBoundingClientRect();return{top:Ut.top+E3(Ut,h.vertical),left:Ut.left+O3(Ut,h.horizontal)}},[f,h.horizontal,h.vertical,g,y]),be=V.useCallback(Pt=>({vertical:E3(Pt,$.vertical),horizontal:O3(Pt,$.horizontal)}),[$.horizontal,$.vertical]),$e=V.useCallback(Pt=>{const Tt={width:Pt.offsetWidth,height:Pt.offsetHeight},Ut=be(Tt);if(y==="none")return{top:null,left:null,transformOrigin:M3(Ut)};const gn=Ce();let bn=gn.top-Ut.vertical,xn=gn.left-Ut.horizontal;const rr=bn+Tt.height,Ne=xn+Tt.width,an=zd(ZP(f)),Mn=an.innerHeight-O,on=an.innerWidth-O;if(O!==null&&bn<O){const It=bn-O;bn-=It,Ut.vertical+=It}else if(O!==null&&rr>Mn){const It=rr-Mn;bn-=It,Ut.vertical+=It}if(O!==null&&xn<O){const It=xn-O;xn-=It,Ut.horizontal+=It}else if(Ne>on){const It=Ne-on;xn-=It,Ut.horizontal+=It}return{top:`${Math.round(bn)}px`,left:`${Math.round(xn)}px`,transformOrigin:M3(Ut)}},[f,y,Ce,be,O]),[Ue,ft]=V.useState(A),Xe=V.useCallback(()=>{const Pt=Se.current;if(!Pt)return;const Tt=$e(Pt);Tt.top!==null&&(Pt.style.top=Tt.top),Tt.left!==null&&(Pt.style.left=Tt.left),Pt.style.transformOrigin=Tt.transformOrigin,ft(!0)},[$e]);V.useEffect(()=>(X&&window.addEventListener("scroll",Xe),()=>window.removeEventListener("scroll",Xe)),[f,X,Xe]);const tt=(Pt,Tt)=>{q&&q(Pt,Tt),Xe()},lt=()=>{ft(!1)};V.useEffect(()=>{A&&Xe()}),V.useImperativeHandle(a,()=>A?{updatePosition:()=>{Xe()}}:null,[A,Xe]),V.useEffect(()=>{if(!A)return;const Pt=N$(()=>{Xe()}),Tt=zd(f);return Tt.addEventListener("resize",Pt),()=>{Pt.clear(),Tt.removeEventListener("resize",Pt)}},[f,A,Xe]);let Ct=F;F==="auto"&&!R.muiSupportAuto&&(Ct=void 0);const st=E||(f?Hi(ZP(f)).body:void 0),Ht=(i=I==null?void 0:I.root)!=null?i:Yme,Lt=(o=I==null?void 0:I.paper)!=null?o:s7,He=lc({elementType:Lt,externalSlotProps:te({},fe,{style:Ue?fe.style:te({},fe.style,{opacity:0})}),additionalProps:{elevation:S,ref:ke},ownerState:we,className:rt(Oe.paper,fe==null?void 0:fe.className)}),_t=lc({elementType:Ht,externalSlotProps:(N==null?void 0:N.root)||{},externalForwardedProps:ae,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:st,open:A},ownerState:we,className:rt(Oe.root,P)}),{slotProps:pt}=_t,Ve=yt(_t,Gme);return L.jsx(Ht,te({},Ve,!Zw(Ht)&&{slotProps:pt,disableScrollLock:X},{children:L.jsx(R,te({appear:!0,in:A,onEntering:tt,onExited:lt,timeout:Ct},Q,{children:L.jsx(Lt,te({},He,{children:x}))}))}))}),Zme=Kme;function Xme(e){return Xt("MuiMenu",e)}Jt("MuiMenu",["root","paper","list"]);const Jme=["onEntering"],Qme=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ege={vertical:"top",horizontal:"right"},tge={vertical:"top",horizontal:"left"},nge=e=>{const{classes:t}=e;return nn({root:["root"],paper:["paper"],list:["list"]},Xme,t)},rge=ut(Zme,{shouldForwardProp:e=>ca(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ige=ut(s7,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),oge=ut(Ume,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),age=V.forwardRef(function(t,n){var r,i;const o=rn({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:f,disableAutoFocusItem:h=!1,MenuListProps:g={},onClose:y,open:x,PaperProps:P={},PopoverClasses:E,transitionDuration:S="auto",TransitionProps:{onEntering:O}={},variant:A="selectedMenu",slots:M={},slotProps:I={}}=o,N=yt(o.TransitionProps,Jme),$=yt(o,Qme),R=xu(),F=R.direction==="rtl",q=te({},o,{autoFocus:s,disableAutoFocusItem:h,MenuListProps:g,onEntering:O,PaperProps:P,transitionDuration:S,TransitionProps:N,variant:A}),X=nge(q),Q=s&&!h&&x,ae=V.useRef(null),fe=($e,Ue)=>{ae.current&&ae.current.adjustStyleForScrollbar($e,R),O&&O($e,Ue)},Se=$e=>{$e.key==="Tab"&&($e.preventDefault(),y&&y($e,"tabKeyDown"))};let ke=-1;V.Children.map(a,($e,Ue)=>{V.isValidElement($e)&&($e.props.disabled||(A==="selectedMenu"&&$e.props.selected||ke===-1)&&(ke=Ue))});const we=(r=M.paper)!=null?r:ige,Oe=(i=I.paper)!=null?i:P,Ce=lc({elementType:M.root,externalSlotProps:I.root,ownerState:q,className:[X.root,f]}),be=lc({elementType:we,externalSlotProps:Oe,ownerState:q,className:X.paper});return L.jsx(rge,te({onClose:y,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?ege:tge,slots:{paper:we,root:M.root},slotProps:{root:Ce,paper:be},open:x,ref:n,transitionDuration:S,TransitionProps:te({onEntering:fe},N),ownerState:q},$,{classes:E,children:L.jsx(oge,te({onKeyDown:Se,actions:ae,autoFocus:s&&(ke===-1||h),autoFocusItem:Q,variant:A},g,{className:rt(X.list,g.className),children:a}))}))}),l7=age;function sge(e){return Xt("MuiMenuItem",e)}const lge=Jt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),yv=lge,cge=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],uge=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},dge=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,f=nn({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},sge,s);return te({},s,f)},fge=ut(kg,{shouldForwardProp:e=>ca(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:uge})(({theme:e,ownerState:t})=>te({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${yv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:kr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${yv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:kr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${yv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:kr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:kr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${yv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${yv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${v3.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${v3.inset}`]:{marginLeft:52},[`& .${nS.root}`]:{marginTop:0,marginBottom:0},[`& .${nS.inset}`]:{paddingLeft:36},[`& .${T3.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&te({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${T3.root} svg`]:{fontSize:"1.25rem"}}))),hge=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:f=!1,focusVisibleClassName:h,role:g="menuitem",tabIndex:y,className:x}=r,P=yt(r,cge),E=V.useContext(bh),S=V.useMemo(()=>({dense:s||E.dense||!1,disableGutters:f}),[E.dense,s,f]),O=V.useRef(null);Ns(()=>{i&&O.current&&O.current.focus()},[i]);const A=te({},r,{dense:S.dense,divider:a,disableGutters:f}),M=dge(r),I=ci(O,n);let N;return r.disabled||(N=y!==void 0?y:-1),L.jsx(bh.Provider,{value:S,children:L.jsx(fge,te({ref:I,role:g,tabIndex:N,component:o,focusVisibleClassName:rt(M.focusVisible,h),className:rt(M.root,x)},P,{ownerState:A,classes:M}))})}),Ps=hge;function pge(e){return Xt("MuiNativeSelect",e)}const mge=Jt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),mR=mge,gge=["className","disabled","error","IconComponent","inputRef","variant"],yge=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${at(n)}`,o&&"iconOpen",r&&"disabled"]};return nn(a,pge,t)},c7=({ownerState:e,theme:t})=>te({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":te({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${mR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),vge=ut("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ca,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${mR.multiple}`]:t.multiple}]}})(c7),u7=({ownerState:e,theme:t})=>te({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${mR.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),bge=ut("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${at(n.variant)}`],n.open&&t.iconOpen]}})(u7),xge=V.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:f="standard"}=t,h=yt(t,gge),g=te({},t,{disabled:i,variant:f,error:o}),y=yge(g);return L.jsxs(V.Fragment,{children:[L.jsx(vge,te({ownerState:g,className:rt(y.select,r),disabled:i,ref:a||n},h)),t.multiple?null:L.jsx(bge,{as:s,ownerState:g,className:y.icon})]})}),_ge=xge;var A3;const wge=["children","classes","className","label","notched"],Sge=ut("fieldset",{shouldForwardProp:ca})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),kge=ut("legend",{shouldForwardProp:ca})(({ownerState:e,theme:t})=>te({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&te({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function Cge(e){const{className:t,label:n,notched:r}=e,i=yt(e,wge),o=n!=null&&n!=="",s=te({},e,{notched:r,withLabel:o});return L.jsx(Sge,te({"aria-hidden":!0,className:t,ownerState:s},i,{children:L.jsx(kge,{ownerState:s,children:o?L.jsx("span",{children:n}):A3||(A3=L.jsx("span",{className:"notranslate",children:"​"}))})}))}const Tge=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Pge=e=>{const{classes:t}=e,r=nn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ode,t);return te({},t,r)},Ege=ut(Ck,{shouldForwardProp:e=>ca(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Sk})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return te({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Zu.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Zu.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Zu.focused} .${Zu.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Zu.error} .${Zu.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Zu.disabled} .${Zu.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&te({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Oge=ut(Cge,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Mge=ut(Tk,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:kk})(({theme:e,ownerState:t})=>te({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),d7=V.forwardRef(function(t,n){var r,i,o,s,a;const f=rn({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:g=!1,inputComponent:y="input",label:x,multiline:P=!1,notched:E,slots:S={},type:O="text"}=f,A=yt(f,Tge),M=Pge(f),I=fc(),N=Kd({props:f,muiFormControl:I,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),$=te({},f,{color:N.color||"primary",disabled:N.disabled,error:N.error,focused:N.focused,formControl:I,fullWidth:g,hiddenLabel:N.hiddenLabel,multiline:P,size:N.size,type:O}),R=(r=(i=S.root)!=null?i:h.Root)!=null?r:Ege,F=(o=(s=S.input)!=null?s:h.Input)!=null?o:Mge;return L.jsx(hR,te({slots:{root:R,input:F},renderSuffix:q=>L.jsx(Oge,{ownerState:$,className:M.notchedOutline,label:x!=null&&x!==""&&N.required?a||(a=L.jsxs(V.Fragment,{children:[x," ","*"]})):x,notched:typeof E<"u"?E:!!(q.startAdornment||q.filled||q.focused)}),fullWidth:g,inputComponent:y,multiline:P,ref:n,type:O},A,{classes:te({},M,{notchedOutline:null})}))});d7.muiName="Input";const gR=d7;function Age(e){return Xt("MuiSelect",e)}const Ige=Jt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),vv=Ige;var I3;const $ge=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Rge=ut("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${vv.select}`]:t.select},{[`&.${vv.select}`]:t[n.variant]},{[`&.${vv.error}`]:t.error},{[`&.${vv.multiple}`]:t.multiple}]}})(c7,{[`&.${vv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Dge=ut("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${at(n.variant)}`],n.open&&t.iconOpen]}})(u7),Lge=ut("input",{shouldForwardProp:e=>Gse(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function $3(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function jge(e){return e==null||typeof e=="string"&&!e.trim()}const Nge=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${at(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return nn(a,Age,t)},zge=V.forwardRef(function(t,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:f,className:h,defaultOpen:g,defaultValue:y,disabled:x,displayEmpty:P,error:E=!1,IconComponent:S,inputRef:O,labelId:A,MenuProps:M={},multiple:I,name:N,onBlur:$,onChange:R,onClose:F,onFocus:q,onOpen:X,open:Q,readOnly:ae,renderValue:fe,SelectDisplayProps:Se={},tabIndex:ke,value:we,variant:Oe="standard"}=t,Ce=yt(t,$ge),[be,$e]=Lm({controlled:we,default:y,name:"Select"}),[Ue,ft]=Lm({controlled:Q,default:g,name:"Select"}),Xe=V.useRef(null),tt=V.useRef(null),[lt,Ct]=V.useState(null),{current:st}=V.useRef(Q!=null),[Ht,Lt]=V.useState(),He=ci(n,O),_t=V.useCallback(zt=>{tt.current=zt,zt&&Ct(zt)},[]),pt=lt==null?void 0:lt.parentNode;V.useImperativeHandle(He,()=>({focus:()=>{tt.current.focus()},node:Xe.current,value:be}),[be]),V.useEffect(()=>{g&&Ue&&lt&&!st&&(Lt(a?null:pt.clientWidth),tt.current.focus())},[lt,a]),V.useEffect(()=>{s&&tt.current.focus()},[s]),V.useEffect(()=>{if(!A)return;const zt=Hi(tt.current).getElementById(A);if(zt){const ln=()=>{getSelection().isCollapsed&&tt.current.focus()};return zt.addEventListener("click",ln),()=>{zt.removeEventListener("click",ln)}}},[A]);const Ve=(zt,ln)=>{zt?X&&X(ln):F&&F(ln),st||(Lt(a?null:pt.clientWidth),ft(zt))},Pt=zt=>{zt.button===0&&(zt.preventDefault(),tt.current.focus(),Ve(!0,zt))},Tt=zt=>{Ve(!1,zt)},Ut=V.Children.toArray(f),gn=zt=>{const ln=Ut.find(Xn=>Xn.props.value===zt.target.value);ln!==void 0&&($e(ln.props.value),R&&R(zt,ln))},bn=zt=>ln=>{let Xn;if(ln.currentTarget.hasAttribute("tabindex")){if(I){Xn=Array.isArray(be)?be.slice():[];const ui=be.indexOf(zt.props.value);ui===-1?Xn.push(zt.props.value):Xn.splice(ui,1)}else Xn=zt.props.value;if(zt.props.onClick&&zt.props.onClick(ln),be!==Xn&&($e(Xn),R)){const ui=ln.nativeEvent||ln,dt=new ui.constructor(ui.type,ui);Object.defineProperty(dt,"target",{writable:!0,value:{value:Xn,name:N}}),R(dt,zt)}I||Ve(!1,ln)}},xn=zt=>{ae||[" ","ArrowUp","ArrowDown","Enter"].indexOf(zt.key)!==-1&&(zt.preventDefault(),Ve(!0,zt))},rr=lt!==null&&Ue,Ne=zt=>{!rr&&$&&(Object.defineProperty(zt,"target",{writable:!0,value:{value:be,name:N}}),$(zt))};delete Ce["aria-invalid"];let an,Mn;const on=[];let It=!1;(Qw({value:be})||P)&&(fe?an=fe(be):It=!0);const Wn=Ut.map(zt=>{if(!V.isValidElement(zt))return null;let ln;if(I){if(!Array.isArray(be))throw new Error(Nd(2));ln=be.some(Xn=>$3(Xn,zt.props.value)),ln&&It&&on.push(zt.props.children)}else ln=$3(be,zt.props.value),ln&&It&&(Mn=zt.props.children);return V.cloneElement(zt,{"aria-selected":ln?"true":"false",onClick:bn(zt),onKeyUp:Xn=>{Xn.key===" "&&Xn.preventDefault(),zt.props.onKeyUp&&zt.props.onKeyUp(Xn)},role:"option",selected:ln,value:void 0,"data-value":zt.props.value})});It&&(I?on.length===0?an=null:an=on.reduce((zt,ln,Xn)=>(zt.push(ln),Xn<on.length-1&&zt.push(", "),zt),[]):an=Mn);let ir=Ht;!a&&st&&lt&&(ir=pt.clientWidth);let Tr;typeof ke<"u"?Tr=ke:Tr=x?null:0;const Dn=Se.id||(N?`mui-component-select-${N}`:void 0),Kt=te({},t,{variant:Oe,value:be,open:rr,error:E}),cr=Nge(Kt),Di=te({},M.PaperProps,(r=M.slotProps)==null?void 0:r.paper),ot=ek();return L.jsxs(V.Fragment,{children:[L.jsx(Rge,te({ref:_t,tabIndex:Tr,role:"combobox","aria-controls":ot,"aria-disabled":x?"true":void 0,"aria-expanded":rr?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[A,Dn].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:xn,onMouseDown:x||ae?null:Pt,onBlur:Ne,onFocus:q},Se,{ownerState:Kt,className:rt(Se.className,cr.select,h),id:Dn,children:jge(an)?I3||(I3=L.jsx("span",{className:"notranslate",children:"​"})):an})),L.jsx(Lge,te({"aria-invalid":E,value:Array.isArray(be)?be.join(","):be,name:N,ref:Xe,"aria-hidden":!0,onChange:gn,tabIndex:-1,disabled:x,className:cr.nativeInput,autoFocus:s,ownerState:Kt},Ce)),L.jsx(Dge,{as:S,className:cr.icon,ownerState:Kt}),L.jsx(l7,te({id:`menu-${N||""}`,anchorEl:pt,open:rr,onClose:Tt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},M,{MenuListProps:te({"aria-labelledby":A,role:"listbox","aria-multiselectable":I?"true":void 0,disableListWrap:!0,id:ot},M.MenuListProps),slotProps:te({},M.slotProps,{paper:te({},Di,{style:te({minWidth:ir},Di!=null?Di.style:null)})}),children:Wn}))]})}),Bge=zge,Fge=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Uge=["root"],Vge=e=>{const{classes:t}=e;return t},yR={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>ca(e)&&e!=="variant",slot:"Root"},Wge=ut(i7,yR)(""),qge=ut(gR,yR)(""),Gge=ut(e7,yR)(""),f7=V.forwardRef(function(t,n){const r=rn({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:f=!1,displayEmpty:h=!1,IconComponent:g=$de,id:y,input:x,inputProps:P,label:E,labelId:S,MenuProps:O,multiple:A=!1,native:M=!1,onClose:I,onOpen:N,open:$,renderValue:R,SelectDisplayProps:F,variant:q="outlined"}=r,X=yt(r,Fge),Q=M?_ge:Bge,ae=fc(),fe=Kd({props:r,muiFormControl:ae,states:["variant","error"]}),Se=fe.variant||q,ke=te({},r,{variant:Se,classes:s}),we=Vge(ke),Oe=yt(we,Uge),Ce=x||{standard:L.jsx(Wge,{ownerState:ke}),outlined:L.jsx(qge,{label:E,ownerState:ke}),filled:L.jsx(Gge,{ownerState:ke})}[Se],be=ci(n,Ce.ref);return L.jsx(V.Fragment,{children:V.cloneElement(Ce,te({inputComponent:Q,inputProps:te({children:o,error:fe.error,IconComponent:g,variant:Se,type:void 0,multiple:A},M?{id:y}:{autoWidth:i,defaultOpen:f,displayEmpty:h,labelId:S,MenuProps:O,onClose:I,onOpen:N,open:$,renderValue:R,SelectDisplayProps:te({id:y},F)},P,{classes:P?io(Oe,P.classes):Oe},x?x.props.inputProps:{})},A&&M&&Se==="outlined"?{notched:!0}:{},{ref:be,className:rt(Ce.props.className,a,we.root)},!x&&{variant:Se},X))})});f7.muiName="Select";const ax=f7;function Hge(e){return Xt("MuiSnackbarContent",e)}Jt("MuiSnackbarContent",["root","message","action"]);const Yge=["action","className","message","role"],Kge=e=>{const{classes:t}=e;return nn({root:["root"],action:["action"],message:["message"]},Hge,t)},Zge=ut(Qa,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=tse(e.palette.background.default,t);return te({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Xge=ut("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),Jge=ut("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Qge=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=r,f=yt(r,Yge),h=r,g=Kge(h);return L.jsxs(Zge,te({role:a,square:!0,elevation:6,className:rt(g.root,o),ownerState:h,ref:n},f,{children:[L.jsx(Xge,{className:g.message,ownerState:h,children:s}),i?L.jsx(Jge,{className:g.action,ownerState:h,children:i}):null]}))}),eye=Qge;function tye(e){return Xt("MuiSnackbar",e)}Jt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const nye=["onEnter","onExited"],rye=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],iye=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${at(n.vertical)}${at(n.horizontal)}`]};return nn(r,tye,t)},R3=ut("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${at(n.anchorOrigin.vertical)}${at(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return te({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:te({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),oye=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSnackbar"}),i=xu(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:f}={vertical:"bottom",horizontal:"left"},autoHideDuration:h=null,children:g,className:y,ClickAwayListenerProps:x,ContentProps:P,disableWindowBlurListener:E=!1,message:S,open:O,TransitionComponent:A=tS,transitionDuration:M=o,TransitionProps:{onEnter:I,onExited:N}={}}=r,$=yt(r.TransitionProps,nye),R=yt(r,rye),F=te({},r,{anchorOrigin:{vertical:a,horizontal:f},autoHideDuration:h,disableWindowBlurListener:E,TransitionComponent:A,transitionDuration:M}),q=iye(F),{getRootProps:X,onClickAway:Q}=fde(te({},F)),[ae,fe]=V.useState(!0),Se=lc({elementType:R3,getSlotProps:X,externalForwardedProps:R,ownerState:F,additionalProps:{ref:n},className:[q.root,y]}),ke=Oe=>{fe(!0),N&&N(Oe)},we=(Oe,Ce)=>{fe(!1),I&&I(Oe,Ce)};return!O&&ae?null:L.jsx($ce,te({onClickAway:Q},x,{children:L.jsx(R3,te({},Se,{children:L.jsx(A,te({appear:!0,in:O,timeout:M,direction:a==="top"?"down":"up",onEnter:we,onExited:ke},$,{children:g||L.jsx(eye,te({message:S,action:s},P))}))}))}))}),aye=oye;function sye(e){return Xt("MuiTooltip",e)}const lye=Jt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),md=lye,cye=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function uye(e){return Math.round(e*1e5)/1e5}const dye=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${at(o.split("-")[0])}`],arrow:["arrow"]};return nn(s,sye,t)},fye=ut(q9,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>te({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${md.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${md.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${md.arrow}`]:te({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${md.arrow}`]:te({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),hye=ut("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${at(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>te({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:kr(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${uye(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${md.popper}[data-popper-placement*="left"] &`]:te({transformOrigin:"right center"},t.isRtl?te({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):te({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${md.popper}[data-popper-placement*="right"] &`]:te({transformOrigin:"left center"},t.isRtl?te({marginRight:"14px"},t.touch&&{marginRight:"24px"}):te({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${md.popper}[data-popper-placement*="top"] &`]:te({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${md.popper}[data-popper-placement*="bottom"] &`]:te({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),pye=ut("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:kr(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let c1=!1,XP=null,bv={x:0,y:0};function u1(e,t){return n=>{t&&t(n),e(n)}}const mye=V.forwardRef(function(t,n){var r,i,o,s,a,f,h,g,y,x,P,E,S,O,A,M,I,N,$;const R=rn({props:t,name:"MuiTooltip"}),{arrow:F=!1,children:q,components:X={},componentsProps:Q={},describeChild:ae=!1,disableFocusListener:fe=!1,disableHoverListener:Se=!1,disableInteractive:ke=!1,disableTouchListener:we=!1,enterDelay:Oe=100,enterNextDelay:Ce=0,enterTouchDelay:be=700,followCursor:$e=!1,id:Ue,leaveDelay:ft=0,leaveTouchDelay:Xe=1500,onClose:tt,onOpen:lt,open:Ct,placement:st="bottom",PopperComponent:Ht,PopperProps:Lt={},slotProps:He={},slots:_t={},title:pt,TransitionComponent:Ve=tS,TransitionProps:Pt}=R,Tt=yt(R,cye),Ut=V.isValidElement(q)?q:L.jsx("span",{children:q}),gn=xu(),bn=gn.direction==="rtl",[xn,rr]=V.useState(),[Ne,an]=V.useState(null),Mn=V.useRef(!1),on=ke||$e,It=V.useRef(),Wn=V.useRef(),ir=V.useRef(),Tr=V.useRef(),[Dn,Kt]=Lm({controlled:Ct,default:!1,name:"Tooltip",state:"open"});let cr=Dn;const Di=ek(Ue),ot=V.useRef(),zt=V.useCallback(()=>{ot.current!==void 0&&(document.body.style.WebkitUserSelect=ot.current,ot.current=void 0),clearTimeout(Tr.current)},[]);V.useEffect(()=>()=>{clearTimeout(It.current),clearTimeout(Wn.current),clearTimeout(ir.current),zt()},[zt]);const ln=Qt=>{clearTimeout(XP),c1=!0,Kt(!0),lt&&!cr&&lt(Qt)},Xn=bl(Qt=>{clearTimeout(XP),XP=setTimeout(()=>{c1=!1},800+ft),Kt(!1),tt&&cr&&tt(Qt),clearTimeout(It.current),It.current=setTimeout(()=>{Mn.current=!1},gn.transitions.duration.shortest)}),ui=Qt=>{Mn.current&&Qt.type!=="touchstart"||(xn&&xn.removeAttribute("title"),clearTimeout(Wn.current),clearTimeout(ir.current),Oe||c1&&Ce?Wn.current=setTimeout(()=>{ln(Qt)},c1?Ce:Oe):ln(Qt))},dt=Qt=>{clearTimeout(Wn.current),clearTimeout(ir.current),ir.current=setTimeout(()=>{Xn(Qt)},ft)},{isFocusVisibleRef:hn,onBlur:dn,onFocus:Li,ref:ua}=nk(),[,fn]=V.useState(!1),da=Qt=>{dn(Qt),hn.current===!1&&(fn(!1),dt(Qt))},he=Qt=>{xn||rr(Qt.currentTarget),Li(Qt),hn.current===!0&&(fn(!0),ui(Qt))},J=Qt=>{Mn.current=!0;const Kn=Ut.props;Kn.onTouchStart&&Kn.onTouchStart(Qt)},ne=ui,se=dt,me=Qt=>{J(Qt),clearTimeout(ir.current),clearTimeout(It.current),zt(),ot.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Tr.current=setTimeout(()=>{document.body.style.WebkitUserSelect=ot.current,ui(Qt)},be)},ye=Qt=>{Ut.props.onTouchEnd&&Ut.props.onTouchEnd(Qt),zt(),clearTimeout(ir.current),ir.current=setTimeout(()=>{Xn(Qt)},Xe)};V.useEffect(()=>{if(!cr)return;function Qt(Kn){(Kn.key==="Escape"||Kn.key==="Esc")&&Xn(Kn)}return document.addEventListener("keydown",Qt),()=>{document.removeEventListener("keydown",Qt)}},[Xn,cr]);const De=ci(Ut.ref,ua,rr,n);!pt&&pt!==0&&(cr=!1);const Pe=V.useRef(),xe=Qt=>{const Kn=Ut.props;Kn.onMouseMove&&Kn.onMouseMove(Qt),bv={x:Qt.clientX,y:Qt.clientY},Pe.current&&Pe.current.update()},Ae={},qe=typeof pt=="string";ae?(Ae.title=!cr&&qe&&!Se?pt:null,Ae["aria-describedby"]=cr?Di:null):(Ae["aria-label"]=qe?pt:null,Ae["aria-labelledby"]=cr&&!qe?Di:null);const We=te({},Ae,Tt,Ut.props,{className:rt(Tt.className,Ut.props.className),onTouchStart:J,ref:De},$e?{onMouseMove:xe}:{}),Ye={};we||(We.onTouchStart=me,We.onTouchEnd=ye),Se||(We.onMouseOver=u1(ne,We.onMouseOver),We.onMouseLeave=u1(se,We.onMouseLeave),on||(Ye.onMouseOver=ne,Ye.onMouseLeave=se)),fe||(We.onFocus=u1(he,We.onFocus),We.onBlur=u1(da,We.onBlur),on||(Ye.onFocus=he,Ye.onBlur=da));const qt=V.useMemo(()=>{var Qt;let Kn=[{name:"arrow",enabled:!!Ne,options:{element:Ne,padding:4}}];return(Qt=Lt.popperOptions)!=null&&Qt.modifiers&&(Kn=Kn.concat(Lt.popperOptions.modifiers)),te({},Lt.popperOptions,{modifiers:Kn})},[Ne,Lt]),Zt=te({},R,{isRtl:bn,arrow:F,disableInteractive:on,placement:st,PopperComponentProp:Ht,touch:Mn.current}),At=dye(Zt),Gt=(r=(i=_t.popper)!=null?i:X.Popper)!=null?r:fye,cn=(o=(s=(a=_t.transition)!=null?a:X.Transition)!=null?s:Ve)!=null?o:tS,jn=(f=(h=_t.tooltip)!=null?h:X.Tooltip)!=null?f:hye,qn=(g=(y=_t.arrow)!=null?y:X.Arrow)!=null?g:pye,An=qv(Gt,te({},Lt,(x=He.popper)!=null?x:Q.popper,{className:rt(At.popper,Lt==null?void 0:Lt.className,(P=(E=He.popper)!=null?E:Q.popper)==null?void 0:P.className)}),Zt),Cn=qv(cn,te({},Pt,(S=He.transition)!=null?S:Q.transition),Zt),Mi=qv(jn,te({},(O=He.tooltip)!=null?O:Q.tooltip,{className:rt(At.tooltip,(A=(M=He.tooltip)!=null?M:Q.tooltip)==null?void 0:A.className)}),Zt),or=qv(qn,te({},(I=He.arrow)!=null?I:Q.arrow,{className:rt(At.arrow,(N=($=He.arrow)!=null?$:Q.arrow)==null?void 0:N.className)}),Zt);return L.jsxs(V.Fragment,{children:[V.cloneElement(Ut,We),L.jsx(Gt,te({as:Ht??q9,placement:st,anchorEl:$e?{getBoundingClientRect:()=>({top:bv.y,left:bv.x,right:bv.x,bottom:bv.y,width:0,height:0})}:xn,popperRef:Pe,open:xn?cr:!1,id:Di,transition:!0},Ye,An,{popperOptions:qt,children:({TransitionProps:Qt})=>L.jsx(cn,te({timeout:gn.transitions.duration.shorter},Qt,Cn,{children:L.jsxs(jn,te({},Mi,{children:[pt,F?L.jsx(qn,te({},or,{ref:an})):null]}))}))}))]})}),Dp=mye;function gye(e){return Xt("MuiSwitch",e)}const yye=Jt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ta=yye,vye=["className","color","edge","size","sx"],bye=e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a={root:["root",n&&`edge${at(n)}`,`size${at(r)}`],switchBase:["switchBase",`color${at(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},f=nn(a,gye,t);return te({},t,f)},xye=ut("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${at(n.edge)}`],t[`size${at(n.size)}`]]}})(({ownerState:e})=>te({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${ta.thumb}`]:{width:16,height:16},[`& .${ta.switchBase}`]:{padding:4,[`&.${ta.checked}`]:{transform:"translateX(16px)"}}})),_ye=ut(X9,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${ta.input}`]:t.input},n.color!=="default"&&t[`color${at(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${ta.checked}`]:{transform:"translateX(20px)"},[`&.${ta.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${ta.checked} + .${ta.track}`]:{opacity:.5},[`&.${ta.disabled} + .${ta.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${ta.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>te({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:kr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${ta.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:kr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ta.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?vk(e.palette[t.color].main,.62):yk(e.palette[t.color].main,.55)}`}},[`&.${ta.checked} + .${ta.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),wye=ut("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Sye=ut("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),kye=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:f}=r,h=yt(r,vye),g=te({},r,{color:o,edge:s,size:a}),y=bye(g),x=L.jsx(Sye,{className:y.thumb,ownerState:g});return L.jsxs(xye,{className:rt(y.root,i),sx:f,ownerState:g,children:[L.jsx(_ye,te({type:"checkbox",icon:x,checkedIcon:x,ref:n,ownerState:g},h,{classes:te({},y,{root:y.switchBase})})),L.jsx(wye,{className:y.track,ownerState:g})]})}),Cye=kye,Tye=V.createContext(),h7=Tye;function Pye(e){return Xt("MuiTable",e)}Jt("MuiTable",["root","stickyHeader"]);const Eye=["className","component","padding","size","stickyHeader"],Oye=e=>{const{classes:t,stickyHeader:n}=e;return nn({root:["root",n&&"stickyHeader"]},Pye,t)},Mye=ut("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>te({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":te({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),D3="table",Aye=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTable"}),{className:i,component:o=D3,padding:s="normal",size:a="medium",stickyHeader:f=!1}=r,h=yt(r,Eye),g=te({},r,{component:o,padding:s,size:a,stickyHeader:f}),y=Oye(g),x=V.useMemo(()=>({padding:s,size:a,stickyHeader:f}),[s,a,f]);return L.jsx(h7.Provider,{value:x,children:L.jsx(Mye,te({as:o,role:o===D3?null:"table",ref:n,className:rt(y.root,i),ownerState:g},h))})}),vR=Aye,Iye=V.createContext(),Pk=Iye;function $ye(e){return Xt("MuiTableBody",e)}Jt("MuiTableBody",["root"]);const Rye=["className","component"],Dye=e=>{const{classes:t}=e;return nn({root:["root"]},$ye,t)},Lye=ut("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),jye={variant:"body"},L3="tbody",Nye=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTableBody"}),{className:i,component:o=L3}=r,s=yt(r,Rye),a=te({},r,{component:o}),f=Dye(a);return L.jsx(Pk.Provider,{value:jye,children:L.jsx(Lye,te({className:rt(f.root,i),as:o,ref:n,role:o===L3?null:"rowgroup",ownerState:a},s))})}),bR=Nye;function zye(e){return Xt("MuiTableCell",e)}const Bye=Jt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Fye=Bye,Uye=["align","className","component","padding","scope","size","sortDirection","variant"],Vye=e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${at(r)}`,i!=="normal"&&`padding${at(i)}`,`size${at(o)}`]};return nn(a,zye,t)},Wye=ut("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${at(n.size)}`],n.padding!=="normal"&&t[`padding${at(n.padding)}`],n.align!=="inherit"&&t[`align${at(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>te({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?vk(kr(e.palette.divider,1),.88):yk(kr(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${Fye.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),qye=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:f,size:h,sortDirection:g,variant:y}=r,x=yt(r,Uye),P=V.useContext(h7),E=V.useContext(Pk),S=E&&E.variant==="head";let O;s?O=s:O=S?"th":"td";let A=f;O==="td"?A=void 0:!A&&S&&(A="col");const M=y||E&&E.variant,I=te({},r,{align:i,component:O,padding:a||(P&&P.padding?P.padding:"normal"),size:h||(P&&P.size?P.size:"medium"),sortDirection:g,stickyHeader:M==="head"&&P&&P.stickyHeader,variant:M}),N=Vye(I);let $=null;return g&&($=g==="asc"?"ascending":"descending"),L.jsx(Wye,te({as:O,ref:n,className:rt(N.root,o),"aria-sort":$,scope:A,ownerState:I},x))}),Sa=qye;function Gye(e){return Xt("MuiTableHead",e)}Jt("MuiTableHead",["root"]);const Hye=["className","component"],Yye=e=>{const{classes:t}=e;return nn({root:["root"]},Gye,t)},Kye=ut("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Zye={variant:"head"},j3="thead",Xye=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTableHead"}),{className:i,component:o=j3}=r,s=yt(r,Hye),a=te({},r,{component:o}),f=Yye(a);return L.jsx(Pk.Provider,{value:Zye,children:L.jsx(Kye,te({as:o,className:rt(f.root,i),ref:n,role:o===j3?null:"rowgroup",ownerState:a},s))})}),p7=Xye;function Jye(e){return Xt("MuiToolbar",e)}Jt("MuiToolbar",["root","gutters","regular","dense"]);const Qye=["className","component","disableGutters","variant"],eve=e=>{const{classes:t,disableGutters:n,variant:r}=e;return nn({root:["root",!n&&"gutters",r]},Jye,t)},tve=ut("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>te({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),nve=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,f=yt(r,Qye),h=te({},r,{component:o,disableGutters:s,variant:a}),g=eve(h);return L.jsx(tve,te({as:o,className:rt(g.root,i),ref:n,ownerState:h},f))}),Cg=nve;function rve(e){return Xt("MuiTableRow",e)}const ive=Jt("MuiTableRow",["root","selected","hover","head","footer"]),N3=ive,ove=["className","component","hover","selected"],ave=e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e;return nn({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},rve,t)},sve=ut("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${N3.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${N3.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:kr(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:kr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),z3="tr",lve=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTableRow"}),{className:i,component:o=z3,hover:s=!1,selected:a=!1}=r,f=yt(r,ove),h=V.useContext(Pk),g=te({},r,{component:o,hover:s,selected:a,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),y=ave(g);return L.jsx(sve,te({as:o,ref:n,className:rt(y.root,i),role:o===z3?null:"row",ownerState:g},f))}),vm=lve;function cve(e){return Xt("MuiTextField",e)}Jt("MuiTextField",["root"]);const uve=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],dve={standard:i7,filled:e7,outlined:gR},fve=e=>{const{classes:t}=e;return nn({root:["root"]},cve,t)},hve=ut(ix,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),pve=V.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:f="primary",defaultValue:h,disabled:g=!1,error:y=!1,FormHelperTextProps:x,fullWidth:P=!1,helperText:E,id:S,InputLabelProps:O,inputProps:A,InputProps:M,inputRef:I,label:N,maxRows:$,minRows:R,multiline:F=!1,name:q,onBlur:X,onChange:Q,onFocus:ae,placeholder:fe,required:Se=!1,rows:ke,select:we=!1,SelectProps:Oe,type:Ce,value:be,variant:$e="outlined"}=r,Ue=yt(r,uve),ft=te({},r,{autoFocus:o,color:f,disabled:g,error:y,fullWidth:P,multiline:F,required:Se,select:we,variant:$e}),Xe=fve(ft),tt={};$e==="outlined"&&(O&&typeof O.shrink<"u"&&(tt.notched=O.shrink),tt.label=N),we&&((!Oe||!Oe.native)&&(tt.id=void 0),tt["aria-describedby"]=void 0);const lt=ek(S),Ct=E&&lt?`${lt}-helper-text`:void 0,st=N&&lt?`${lt}-label`:void 0,Ht=dve[$e],Lt=L.jsx(Ht,te({"aria-describedby":Ct,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:P,multiline:F,name:q,rows:ke,maxRows:$,minRows:R,type:Ce,value:be,id:lt,inputRef:I,onBlur:X,onChange:Q,onFocus:ae,placeholder:fe,inputProps:A},tt,M));return L.jsxs(hve,te({className:rt(Xe.root,a),disabled:g,error:y,fullWidth:P,ref:n,required:Se,color:f,variant:$e,ownerState:ft},Ue,{children:[N!=null&&N!==""&&L.jsx(ox,te({htmlFor:lt,id:st},O,{children:N})),we?L.jsx(ax,te({"aria-describedby":Ct,id:lt,labelId:st,value:be,input:Lt},Oe,{children:s})):Lt,E&&L.jsx(dpe,te({id:Ct},x,{children:E}))]}))}),Ai=pve,xR=(e,t)=>{const n=Ml(),r=V.useRef();V.useEffect(()=>(e().then(i=>r.current=i).catch(i=>n(YW.push(i.message))),()=>{const i=r.current;i&&i()}),[...t,n])},mve=e=>{const t=Ml();return(...n)=>{e(...n).catch(r=>t(YW.push(r.message)))}};var B3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx=(typeof window>"u"?"undefined":B3(window))==="object"&&(typeof document>"u"?"undefined":B3(document))==="object"&&document.nodeType===9;function F3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FW(r.key),r)}}function m7(e,t,n){return t&&F3(e.prototype,t),n&&F3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var gve={}.constructor;function $M(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map($M);if(e.constructor!==gve)return e;var t={};for(var n in e)t[n]=$M(e[n]);return t}function _R(e,t,n){e===void 0&&(e="unnamed");var r=n.jss,i=$M(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var U3=function(t,n){for(var r="",i=0;i<t.length&&t[i]!=="!important";i++)r&&(r+=n),r+=t[i];return r},th=function(t){if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&t[r]!=="!important";r++)n&&(n+=", "),n+=U3(t[r]," ");else n=U3(t,", ");return t[t.length-1]==="!important"&&(n+=" !important"),n};function Tg(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function xv(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function tb(e,t,n){n===void 0&&(n={});var r="";if(!t)return r;var i=n,o=i.indent,s=o===void 0?0:o,a=t.fallbacks;n.format===!1&&(s=-1/0);var f=Tg(n),h=f.linebreak,g=f.space;if(e&&s++,a)if(Array.isArray(a))for(var y=0;y<a.length;y++){var x=a[y];for(var P in x){var E=x[P];E!=null&&(r&&(r+=h),r+=xv(P+":"+g+th(E)+";",s))}}else for(var S in a){var O=a[S];O!=null&&(r&&(r+=h),r+=xv(S+":"+g+th(O)+";",s))}for(var A in t){var M=t[A];M!=null&&A!=="fallbacks"&&(r&&(r+=h),r+=xv(A+":"+g+th(M)+";",s))}return!r&&!n.allowEmpty||!e?r:(s--,r&&(r=""+h+r+h),xv(""+e+g+"{"+r,s)+xv("}",s))}var yve=/([[\].#*$><+~=|^:(),"'`\s])/g,V3=typeof CSS<"u"&&CSS.escape,wR=function(e){return V3?V3(e):e.replace(yve,"\\$1")},g7=function(){function e(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var t=e.prototype;return t.prop=function(r,i,o){if(i===void 0)return this.style[r];var s=o?o.force:!1;if(!s&&this.style[r]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var f=a==null||a===!1,h=r in this.style;if(f&&!h&&!s)return this;var g=f&&h;if(g?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return g?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var y=this.options.sheet;return y&&y.attached,this},e}(),RM=function(e){ex(t,e);function t(r,i,o){var s;s=e.call(this,r,i,o)||this;var a=o.selector,f=o.scoped,h=o.sheet,g=o.generateId;return a?s.selectorText=a:f!==!1&&(s.id=g(X0(X0(s)),h),s.selectorText="."+wR(s.id)),s}var n=t.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},n.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=th(s))}return i},n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?te({},i,{allowEmpty:!0}):i;return tb(this.selectorText,this.style,a)},m7(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),t}(g7),vve={onCreateRule:function(t,n,r){return t[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new RM(t,n,r)}},JP={indent:1,children:!0},bve=/@([\w-]+)/,xve=function(){function e(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(bve);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new Ek(te({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.indexOf=function(r){return this.rules.indexOf(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.toString=function(r){r===void 0&&(r=JP);var i=Tg(r),o=i.linebreak;if(r.indent==null&&(r.indent=JP.indent),r.children==null&&(r.children=JP.children),r.children===!1)return this.query+" {}";var s=this.rules.toString(r);return s?this.query+" {"+o+s+o+"}":""},e}(),_ve=/@container|@media|@supports\s+/,wve={onCreateRule:function(t,n,r){return _ve.test(t)?new xve(t,n,r):null}},QP={indent:1,children:!0},Sve=/@keyframes\s+([\w-]+)/,DM=function(){function e(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(Sve);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,f=i.generateId;this.id=s===!1?this.name:wR(f(this,a)),this.rules=new Ek(te({},i,{parent:this}));for(var h in r)this.rules.add(h,r[h],te({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(r){r===void 0&&(r=QP);var i=Tg(r),o=i.linebreak;if(r.indent==null&&(r.indent=QP.indent),r.children==null&&(r.children=QP.children),r.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(r);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},e}(),kve=/@keyframes\s+/,Cve=/\$([\w-]+)/g,LM=function(t,n){return typeof t=="string"?t.replace(Cve,function(r,i){return i in n?n[i]:r}):t},W3=function(t,n,r){var i=t[n],o=LM(i,r);o!==i&&(t[n]=o)},Tve={onCreateRule:function(t,n,r){return typeof t=="string"&&kve.test(t)?new DM(t,n,r):null},onProcessStyle:function(t,n,r){return n.type!=="style"||!r||("animation-name"in t&&W3(t,"animation-name",r.keyframes),"animation"in t&&W3(t,"animation",r.keyframes)),t},onChangeValue:function(t,n,r){var i=r.options.sheet;if(!i)return t;switch(n){case"animation":return LM(t,i.keyframes);case"animation-name":return LM(t,i.keyframes);default:return t}}},Pve=function(e){ex(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?te({},i,{allowEmpty:!0}):i;return tb(this.key,this.style,a)},t}(g7),Eve={onCreateRule:function(t,n,r){return r.parent&&r.parent.type==="keyframes"?new Pve(t,n,r):null}},Ove=function(){function e(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){var i=Tg(r),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",a=0;a<this.style.length;a++)s+=tb(this.at,this.style[a]),this.style[a+1]&&(s+=o);return s}return tb(this.at,this.style,r)},e}(),Mve=/@font-face/,Ave={onCreateRule:function(t,n,r){return Mve.test(t)?new Ove(t,n,r):null}},Ive=function(){function e(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){return tb(this.key,this.style,r)},e}(),$ve={onCreateRule:function(t,n,r){return t==="@viewport"||t==="@-ms-viewport"?new Ive(t,n,r):null}},Rve=function(){function e(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var t=e.prototype;return t.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),Dve={"@charset":!0,"@import":!0,"@namespace":!0},Lve={onCreateRule:function(t,n,r){return t in Dve?new Rve(t,n,r):null}},q3=[vve,wve,Tve,Eve,Ave,$ve,Lve],jve={process:!0},G3={force:!0,process:!0},Ek=function(){function e(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var t=e.prototype;return t.add=function(r,i,o){var s=this.options,a=s.parent,f=s.sheet,h=s.jss,g=s.Renderer,y=s.generateId,x=s.scoped,P=te({classes:this.classes,parent:a,sheet:f,jss:h,Renderer:g,generateId:y,scoped:x,name:r,keyframes:this.keyframes,selector:void 0},o),E=r;r in this.raw&&(E=r+"-d"+this.counter++),this.raw[E]=i,E in this.classes&&(P.selector="."+wR(this.classes[E]));var S=_R(E,i,P);if(!S)return null;this.register(S);var O=P.index===void 0?this.index.length:P.index;return this.index.splice(O,0,S),S},t.replace=function(r,i,o){var s=this.get(r),a=this.index.indexOf(s);s&&this.remove(s);var f=o;return a!==-1&&(f=te({},o,{index:a})),this.add(r,i,f)},t.get=function(r){return this.map[r]},t.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},t.indexOf=function(r){return this.index.indexOf(r)},t.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},t.register=function(r){this.map[r.key]=r,r instanceof RM?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof DM&&this.keyframes&&(this.keyframes[r.name]=r.id)},t.unregister=function(r){delete this.map[r.key],r instanceof RM?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof DM&&delete this.keyframes[r.name]},t.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},t.updateOne=function(r,i,o){o===void 0&&(o=jve);var s=this.options,a=s.jss.plugins,f=s.sheet;if(r.rules instanceof e){r.rules.update(i,o);return}var h=r.style;if(a.onUpdate(i,r,f,o),o.process&&h&&h!==r.style){a.onProcessStyle(r.style,r,f);for(var g in r.style){var y=r.style[g],x=h[g];y!==x&&r.prop(g,y,G3)}for(var P in h){var E=r.style[P],S=h[P];E==null&&E!==S&&r.prop(P,null,G3)}}},t.toString=function(r){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=Tg(r),f=a.linebreak,h=0;h<this.index.length;h++){var g=this.index[h],y=g.toString(r);!y&&!s||(i&&(i+=f),i+=y)}return i},e}(),y7=function(){function e(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=te({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new Ek(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(r,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},t.replaceRule=function(r,i,o){var s=this.rules.get(r);if(!s)return this.addRule(r,i,o);var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?s.renderable&&this.renderer.replaceRule(s.renderable,a):this.renderer.deleteRule(s)),a):(this.deployed=!1,a)},t.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},t.addRules=function(r,i){var o=[];for(var s in r){var a=this.addRule(s,r[s],i);a&&o.push(a)}return o},t.getRule=function(r){return this.rules.get(r)},t.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(r){return this.rules.indexOf(r)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},t.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},t.toString=function(r){return this.rules.toString(r)},e}(),Nve=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(r,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](r,i,o);if(a)return a}return null},t.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},t.onProcessStyle=function(r,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},t.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},t.onUpdate=function(r,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,o,s)},t.onChangeValue=function(r,i,o){for(var s=r,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},t.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var f in a)f in s&&s[f].push(a[f]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),zve=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,r);return}}},t.reset=function(){this.registry=[]},t.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},t.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,s=yt(i,["attached"]),a=Tg(s),f=a.linebreak,h="",g=0;g<this.registry.length;g++){var y=this.registry[g];o!=null&&y.attached!==o||(h&&(h+=f),h+=y.toString(s))}return h},m7(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),h0=new zve,jM=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),NM="2f1acc6c3a606b082e5eef5e54414ffb";jM[NM]==null&&(jM[NM]=0);var H3=jM[NM]++,Y3=function(t){t===void 0&&(t={});var n=0,r=function(o,s){n+=1;var a="",f="";return s&&(s.options.classNamePrefix&&(f=s.options.classNamePrefix),s.options.jss.id!=null&&(a=String(s.options.jss.id))),t.minify?""+(f||"c")+H3+a+n:f+o.key+"-"+H3+(a?"-"+a:"")+"-"+n};return r},v7=function(t){var n;return function(){return n||(n=t()),n}},Bve=function(t,n){try{return t.attributeStyleMap?t.attributeStyleMap.get(n):t.style.getPropertyValue(n)}catch{return""}},Fve=function(t,n,r){try{var i=r;if(Array.isArray(r)&&(i=th(r)),t.attributeStyleMap)t.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;t.style.setProperty(n,s,o>-1?"important":"")}}catch{return!1}return!0},Uve=function(t,n){try{t.attributeStyleMap?t.attributeStyleMap.delete(n):t.style.removeProperty(n)}catch{}},Vve=function(t,n){return t.selectorText=n,t.selectorText===n},b7=v7(function(){return document.querySelector("head")});function Wve(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function qve(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function Gve(e){for(var t=b7(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function Hve(e){var t=h0.registry;if(t.length>0){var n=Wve(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=qve(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var i=Gve(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function Yve(e,t){var n=t.insertionPoint,r=Hve(t);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}b7().appendChild(e)}var Kve=v7(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),K3=function(t,n,r){try{"insertRule"in t?t.insertRule(n,r):"appendRule"in t&&t.appendRule(n)}catch{return!1}return t.cssRules[r]},Z3=function(t,n){var r=t.cssRules.length;return n===void 0||n>r?r:n},Zve=function(){var t=document.createElement("style");return t.textContent=`
`,t},Xve=function(){function e(n){this.getPropertyValue=Bve,this.setProperty=Fve,this.removeProperty=Uve,this.setSelector=Vve,this.hasInsertedRules=!1,this.cssRules=[],n&&h0.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,s=r.element;this.element=s||Zve(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=Kve();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){Yve(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},t.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},t.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var s=r,a=o;if(r.type==="conditional"||r.type==="keyframes"){var f=Z3(o,i);if(a=K3(o,s.toString({children:!1}),f),a===!1)return!1;this.refCssRule(r,f,a)}return this.insertRules(s.rules,a),a}var h=r.toString();if(!h)return!1;var g=Z3(o,i),y=K3(o,h,g);return y===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,g,y),y)},t.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof y7&&this.cssRules.splice(i,0,o)},t.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(r){return this.cssRules.indexOf(r)},t.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Jve=0,Qve=function(){function e(n){this.id=Jve++,this.version="10.10.0",this.plugins=new Nve,this.options={id:{minify:!1},createGenerateId:Y3,Renderer:sx?Xve:null,plugins:[]},this.generateId=Y3({minify:!1});for(var r=0;r<q3.length;r++)this.plugins.use(q3[r],{queue:"internal"});this.setup(n)}var t=e.prototype;return t.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=te({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},t.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=h0.index===0?0:h0.index+1);var a=new y7(r,te({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(r){return r.detach(),h0.remove(r),this},t.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var s=te({},o,{name:r,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=_R(r,i,s);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){r.plugins.use(a)}),this},e}(),x7=function(t){return new Qve(t)},SR=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function _7(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if(i==="function")t||(t={}),t[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=_7(r);o&&(t||(t={}),t[n]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */x7();function w7(e={}){const{baseClasses:t,newClasses:n,Component:r}=e;if(!n)return t;const i=te({},t);return Object.keys(n).forEach(o=>{n[o]&&(i[o]=`${t[o]} ${n[o]}`)}),i}const e0e={set:(e,t,n,r)=>{let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:(e,t,n)=>{const r=e.get(t);return r?r.get(n):void 0},delete:(e,t,n)=>{e.get(t).delete(n)}},Zp=e0e;function S7(){var e;const t=eR();return(e=t==null?void 0:t.$$material)!=null?e:t}const t0e=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function n0e(e={}){const{disableGlobal:t=!1,productionPrefix:n="jss",seed:r=""}=e,i=r===""?"":`${r}-`;let o=0;const s=()=>(o+=1,o);return(a,f)=>{const h=f.options.name;if(h&&h.indexOf("Mui")===0&&!f.options.link&&!t){if(t0e.indexOf(a.key)!==-1)return`Mui-${a.key}`;const g=`${i}${h}-${a.key}`;return!f.options.theme[O9]||r!==""?g:`${g}-${s()}`}return`${i}${n}${s()}`}}var k7=Date.now(),eE="fnValues"+k7,tE="fnStyle"+ ++k7,r0e=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=_R(n,{},i);return o[tE]=r,o},onProcessStyle:function(n,r){if(eE in r||tE in r)return n;var i={};for(var o in n){var s=n[o];typeof s=="function"&&(delete n[o],i[o]=s)}return r[eE]=i,n},onUpdate:function(n,r,i,o){var s=r,a=s[tE];a&&(s.style=a(n)||{});var f=s[eE];if(f)for(var h in f)s.prop(h,f[h](n),o)}}};const i0e=r0e;var Md="@global",zM="@global ",o0e=function(){function e(n,r,i){this.type="global",this.at=Md,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new Ek(te({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.indexOf=function(r){return this.rules.indexOf(r)},t.toString=function(r){return this.rules.toString(r)},e}(),a0e=function(){function e(n,r,i){this.type="global",this.at=Md,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(zM.length);this.rule=i.jss.createRule(o,r,te({},i,{parent:this}))}var t=e.prototype;return t.toString=function(r){return this.rule?this.rule.toString(r):""},e}(),s0e=/\s*,\s*/g;function C7(e,t){for(var n=e.split(s0e),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function l0e(e,t){var n=e.options,r=e.style,i=r?r[Md]:null;if(i){for(var o in i)t.addRule(o,i[o],te({},n,{selector:C7(o,e.selector)}));delete r[Md]}}function c0e(e,t){var n=e.options,r=e.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Md.length)!==Md)){var o=C7(i.substr(Md.length),e.selector);t.addRule(o,r[i],te({},n,{selector:o})),delete r[i]}}function u0e(){function e(n,r,i){if(!n)return null;if(n===Md)return new o0e(n,r,i);if(n[0]==="@"&&n.substr(0,zM.length)===zM)return new a0e(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function t(n,r){n.type!=="style"||!r||(l0e(n,r),c0e(n,r))}return{onCreateRule:e,onProcessRule:t}}var X3=/\s*,\s*/g,d0e=/&/g,f0e=/\$([\w-]+)/g;function h0e(){function e(i,o){return function(s,a){var f=i.getRule(a)||o&&o.getRule(a);return f?f.selector:a}}function t(i,o){for(var s=o.split(X3),a=i.split(X3),f="",h=0;h<s.length;h++)for(var g=s[h],y=0;y<a.length;y++){var x=a[y];f&&(f+=", "),f+=x.indexOf("&")!==-1?x.replace(d0e,g):g+" "+x}return f}function n(i,o,s){if(s)return te({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var f=te({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete f.name,f}function r(i,o,s){if(o.type!=="style")return i;var a=o,f=a.options.parent,h,g;for(var y in i){var x=y.indexOf("&")!==-1,P=y[0]==="@";if(!(!x&&!P)){if(h=n(a,f,h),x){var E=t(y,a.selector);g||(g=e(f,s)),E=E.replace(f0e,g);var S=a.key+"-"+y;"replaceRule"in f?f.replaceRule(S,i[y],te({},h,{selector:E})):f.addRule(S,i[y],te({},h,{selector:E}))}else P&&f.addRule(y,{},h).addRule(a.key,i[y],{selector:a.selector});delete i[y]}}return i}return{onProcessStyle:r}}var p0e=/[A-Z]/g,m0e=/^ms-/,nE={};function g0e(e){return"-"+e.toLowerCase()}function T7(e){if(nE.hasOwnProperty(e))return nE[e];var t=e.replace(p0e,g0e);return nE[e]=m0e.test(t)?"-"+t:t}function rS(e){var t={};for(var n in e){var r=n.indexOf("--")===0?n:T7(n);t[r]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(rS):t.fallbacks=rS(e.fallbacks)),t}function y0e(){function e(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=rS(n[r]);return n}return rS(n)}function t(n,r,i){if(r.indexOf("--")===0)return n;var o=T7(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:e,onChangeValue:t}}var Je=SR&&CSS?CSS.px:"px",d1=SR&&CSS?CSS.ms:"ms",wp=SR&&CSS?CSS.percent:"%",v0e={"animation-delay":d1,"animation-duration":d1,"background-position":Je,"background-position-x":Je,"background-position-y":Je,"background-size":Je,border:Je,"border-bottom":Je,"border-bottom-left-radius":Je,"border-bottom-right-radius":Je,"border-bottom-width":Je,"border-left":Je,"border-left-width":Je,"border-radius":Je,"border-right":Je,"border-right-width":Je,"border-top":Je,"border-top-left-radius":Je,"border-top-right-radius":Je,"border-top-width":Je,"border-width":Je,"border-block":Je,"border-block-end":Je,"border-block-end-width":Je,"border-block-start":Je,"border-block-start-width":Je,"border-block-width":Je,"border-inline":Je,"border-inline-end":Je,"border-inline-end-width":Je,"border-inline-start":Je,"border-inline-start-width":Je,"border-inline-width":Je,"border-start-start-radius":Je,"border-start-end-radius":Je,"border-end-start-radius":Je,"border-end-end-radius":Je,margin:Je,"margin-bottom":Je,"margin-left":Je,"margin-right":Je,"margin-top":Je,"margin-block":Je,"margin-block-end":Je,"margin-block-start":Je,"margin-inline":Je,"margin-inline-end":Je,"margin-inline-start":Je,padding:Je,"padding-bottom":Je,"padding-left":Je,"padding-right":Je,"padding-top":Je,"padding-block":Je,"padding-block-end":Je,"padding-block-start":Je,"padding-inline":Je,"padding-inline-end":Je,"padding-inline-start":Je,"mask-position-x":Je,"mask-position-y":Je,"mask-size":Je,height:Je,width:Je,"min-height":Je,"max-height":Je,"min-width":Je,"max-width":Je,bottom:Je,left:Je,top:Je,right:Je,inset:Je,"inset-block":Je,"inset-block-end":Je,"inset-block-start":Je,"inset-inline":Je,"inset-inline-end":Je,"inset-inline-start":Je,"box-shadow":Je,"text-shadow":Je,"column-gap":Je,"column-rule":Je,"column-rule-width":Je,"column-width":Je,"font-size":Je,"font-size-delta":Je,"letter-spacing":Je,"text-decoration-thickness":Je,"text-indent":Je,"text-stroke":Je,"text-stroke-width":Je,"word-spacing":Je,motion:Je,"motion-offset":Je,outline:Je,"outline-offset":Je,"outline-width":Je,perspective:Je,"perspective-origin-x":wp,"perspective-origin-y":wp,"transform-origin":wp,"transform-origin-x":wp,"transform-origin-y":wp,"transform-origin-z":wp,"transition-delay":d1,"transition-duration":d1,"vertical-align":Je,"flex-basis":Je,"shape-margin":Je,size:Je,gap:Je,grid:Je,"grid-gap":Je,"row-gap":Je,"grid-row-gap":Je,"grid-column-gap":Je,"grid-template-rows":Je,"grid-template-columns":Je,"grid-auto-rows":Je,"grid-auto-columns":Je,"box-shadow-x":Je,"box-shadow-y":Je,"box-shadow-blur":Je,"box-shadow-spread":Je,"font-line-height":Je,"text-shadow-x":Je,"text-shadow-y":Je,"text-shadow-blur":Je};function P7(e){var t=/(-[a-z])/g,n=function(s){return s[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var b0e=P7(v0e);function p0(e,t,n){if(t==null)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=p0(e,t[r],n);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=p0(i,t[i],n);else for(var o in t)t[o]=p0(e+"-"+o,t[o],n);else if(typeof t=="number"&&isNaN(t)===!1){var s=n[e]||b0e[e];return s&&!(t===0&&s===Je)?typeof s=="function"?s(t).toString():""+t+s:t.toString()}return t}function x0e(e){e===void 0&&(e={});var t=P7(e);function n(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=p0(s,i[s],t);return i}function r(i,o){return p0(o,i,t)}return{onProcessStyle:n,onChangeValue:r}}function BM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _0e(e){if(Array.isArray(e))return BM(e)}function w0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S0e(e,t){if(e){if(typeof e=="string")return BM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BM(e,t)}}function k0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0e(e){return _0e(e)||w0e(e)||S0e(e)||k0e()}var Hv="",FM="",E7="",O7="",T0e=sx&&"ontouchstart"in document.documentElement;if(sx){var rE={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},P0e=document.createElement("p"),iE=P0e.style,E0e="Transform";for(var oE in rE)if(oE+E0e in iE){Hv=oE,FM=rE[oE];break}Hv==="Webkit"&&"msHyphens"in iE&&(Hv="ms",FM=rE.ms,O7="edge"),Hv==="Webkit"&&"-apple-trailing-word"in iE&&(E7="apple")}var kn={js:Hv,css:FM,vendor:E7,browser:O7,isTouch:T0e};function O0e(e){return e[1]==="-"||kn.js==="ms"?e:"@"+kn.css+"keyframes"+e.substr(10)}var M0e={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:kn.js==="ms"?"-webkit-"+t:kn.css+t}},A0e={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:kn.js==="Webkit"?kn.css+"print-"+t:t}},I0e=/[-\s]+(.)?/g;function $0e(e,t){return t?t.toUpperCase():""}function kR(e){return e.replace(I0e,$0e)}function Bd(e){return kR("-"+e)}var R0e={noPrefill:["mask"],supportedProperty:function(t,n){if(!/^mask/.test(t))return!1;if(kn.js==="Webkit"){var r="mask-image";if(kR(r)in n)return t;if(kn.js+Bd(r)in n)return kn.css+t}return t}},D0e={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:kn.vendor==="apple"&&!kn.isTouch?kn.css+t:t}},L0e={noPrefill:["transform"],supportedProperty:function(t,n,r){return t!=="transform"?!1:r.transform?t:kn.css+t}},j0e={noPrefill:["transition"],supportedProperty:function(t,n,r){return t!=="transition"?!1:r.transition?t:kn.css+t}},N0e={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:kn.js==="Webkit"||kn.js==="ms"&&kn.browser!=="edge"?kn.css+t:t}},z0e={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:kn.js==="Moz"||kn.js==="ms"||kn.vendor==="apple"?kn.css+t:t}},B0e={supportedProperty:function(t,n){if(!/^break-/.test(t))return!1;if(kn.js==="Webkit"){var r="WebkitColumn"+Bd(t);return r in n?kn.css+"column-"+t:!1}if(kn.js==="Moz"){var i="page"+Bd(t);return i in n?"page-"+t:!1}return!1}},F0e={supportedProperty:function(t,n){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(kn.js==="Moz")return t;var r=t.replace("-inline","");return kn.js+Bd(r)in n?kn.css+r:!1}},U0e={supportedProperty:function(t,n){return kR(t)in n?t:!1}},V0e={supportedProperty:function(t,n){var r=Bd(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:kn.js+r in n?kn.css+t:kn.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+t:!1}},W0e={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:kn.js==="ms"?""+kn.css+t:t}},q0e={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:kn.js==="ms"?kn.css+"scroll-chaining":t}},G0e={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},H0e={supportedProperty:function(t,n){var r=G0e[t];return r&&kn.js+Bd(r)in n?kn.css+r:!1}},M7={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Y0e=Object.keys(M7),K0e=function(t){return kn.css+t},Z0e={supportedProperty:function(t,n,r){var i=r.multiple;if(Y0e.indexOf(t)>-1){var o=M7[t];if(!Array.isArray(o))return kn.js+Bd(o)in n?kn.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(kn.js+Bd(o[0])in n))return!1;return o.map(K0e)}return!1}},A7=[M0e,A0e,R0e,D0e,L0e,j0e,N0e,z0e,B0e,F0e,U0e,V0e,W0e,q0e,H0e,Z0e],J3=A7.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),X0e=A7.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,C0e(t.noPrefill)),e},[]),Yv,jf={};if(sx){Yv=document.createElement("p");var aE=window.getComputedStyle(document.documentElement,"");for(var sE in aE)isNaN(sE)||(jf[aE[sE]]=aE[sE]);X0e.forEach(function(e){return delete jf[e]})}function UM(e,t){if(t===void 0&&(t={}),!Yv)return e;if(jf[e]!=null)return jf[e];(e==="transition"||e==="transform")&&(t[e]=e in Yv.style);for(var n=0;n<J3.length&&(jf[e]=J3[n](e,Yv.style,t),!jf[e]);n++);try{Yv.style[e]=""}catch{return!1}return jf[e]}var Sp={},J0e={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Q0e=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,nd;function ebe(e,t,n){if(t==="var")return"var";if(t==="all")return"all";if(n==="all")return", all";var r=t?UM(t):", "+UM(n);return r||t||n}sx&&(nd=document.createElement("p"));function Q3(e,t){var n=t;if(!nd||e==="content")return t;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=e+n;if(Sp[r]!=null)return Sp[r];try{nd.style[e]=n}catch{return Sp[r]=!1,!1}if(J0e[e])n=n.replace(Q0e,ebe);else if(nd.style[e]===""&&(n=kn.css+n,n==="-ms-flex"&&(nd.style[e]="-ms-flexbox"),nd.style[e]=n,nd.style[e]===""))return Sp[r]=!1,!1;return nd.style[e]="",Sp[r]=n,Sp[r]}function tbe(){function e(i){if(i.type==="keyframes"){var o=i;o.at=O0e(o.at)}}function t(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(t);continue}var a=!1,f=UM(o);f&&f!==o&&(a=!0);var h=!1,g=Q3(f,th(s));g&&g!==s&&(h=!0),(a||h)&&(a&&delete i[o],i[f||o]=g||s)}return i}function n(i,o){return o.type!=="style"?i:t(i)}function r(i,o){return Q3(o,th(i))||i}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}function nbe(){var e=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(e),s=0;s<o.length;s++)i[o[s]]=n[o[s]];return i}}}function rbe(){return{plugins:[i0e(),u0e(),h0e(),y0e(),x0e(),typeof window>"u"?null:tbe(),nbe()]}}const ibe=x7(rbe()),obe=n0e(),abe=new Map,sbe={disableGeneration:!1,generateClassName:obe,jss:ibe,sheetsCache:null,sheetsManager:abe,sheetsRegistry:null},lbe=V.createContext(sbe);let eB=-1e9;function cbe(){return eB+=1,eB}const ube=["variant"];function tB(e){return e.length===0}function dbe(e){const{variant:t}=e,n=yt(e,ube);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=tB(r)?e[i]:at(e[i]):r+=`${tB(r)?i:at(i)}${at(e[i].toString())}`}),r}const fbe={},hbe=fbe;function pbe(e){const t=typeof e=="function";return{create:(n,r)=>{let i;try{i=t?e(n):e}catch(f){throw f}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return i;const o=n.components[r].styleOverrides||{},s=n.components[r].variants||[],a=te({},i);return Object.keys(o).forEach(f=>{a[f]=io(a[f]||{},o[f])}),s.forEach(f=>{const h=dbe(f.props);a[h]=io(a[h]||{},f.style)}),a},options:{}}}const mbe=["name","classNamePrefix","Component","defaultTheme"];function gbe({state:e,stylesOptions:t},n,r){if(t.disableGeneration)return n||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,i=!0),n!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=n,i=!0),i&&(e.cacheClasses.value=w7({baseClasses:e.cacheClasses.lastJSS,newClasses:n,Component:r})),e.cacheClasses.value}function ybe({state:e,theme:t,stylesOptions:n,stylesCreator:r,name:i},o){if(n.disableGeneration)return;let s=Zp.get(n.sheetsManager,r,t);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Zp.set(n.sheetsManager,r,t,s));const a=te({},r.options,n,{theme:t,flip:typeof n.flip=="boolean"?n.flip:t.direction==="rtl"});a.generateId=a.serverGenerateClassName||a.generateClassName;const f=n.sheetsRegistry;if(s.refs===0){let h;n.sheetsCache&&(h=Zp.get(n.sheetsCache,r,t));const g=r.create(t,i);h||(h=n.jss.createStyleSheet(g,te({link:!1},a)),h.attach(),n.sheetsCache&&Zp.set(n.sheetsCache,r,t,h)),f&&f.add(h),s.staticSheet=h,s.dynamicStyles=_7(g)}if(s.dynamicStyles){const h=n.jss.createStyleSheet(s.dynamicStyles,te({link:!0},a));h.update(o),h.attach(),e.dynamicSheet=h,e.classes=w7({baseClasses:s.staticSheet.classes,newClasses:h.classes}),f&&f.add(h)}else e.classes=s.staticSheet.classes;s.refs+=1}function vbe({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}function bbe({state:e,theme:t,stylesOptions:n,stylesCreator:r}){if(n.disableGeneration)return;const i=Zp.get(n.sheetsManager,r,t);i.refs-=1;const o=n.sheetsRegistry;i.refs===0&&(Zp.delete(n.sheetsManager,r,t),n.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),e.dynamicSheet&&(n.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}function xbe(e,t){const n=V.useRef([]);let r;const i=V.useMemo(()=>({}),t);n.current!==i&&(n.current=i,r=e()),V.useEffect(()=>()=>{r&&r()},[i])}function qr(e,t={}){const{name:n,classNamePrefix:r,Component:i,defaultTheme:o=hbe}=t,s=yt(t,mbe),a=pbe(e),f=n||r||"makeStyles";return a.options={index:cbe(),name:n,meta:f,classNamePrefix:f},(g={})=>{const y=S7()||o,x=te({},V.useContext(lbe),s),P=V.useRef(),E=V.useRef();return xbe(()=>{const O={name:n,state:{},stylesCreator:a,stylesOptions:x,theme:y};return ybe(O,g),E.current=!1,P.current=O,()=>{bbe(O)}},[y,a]),V.useEffect(()=>{E.current&&vbe(P.current,g),E.current=!0}),gbe(P.current,g.classes,i)}}const _be="/assets/alarm-zNGFGtq_.mp3";function I7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=I7(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ch(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=I7(e))&&(r&&(r+=" "),r+=t);return r}let wbe={data:""},Sbe=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||wbe,kbe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Cbe=/\/\*[^]*?\*\/|  +/g,nB=/\n+/g,Nf=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Nf(s,o):o+"{"+Nf(s,o[1]=="k"?"":t)+"}":typeof s=="object"?r+=Nf(s,t?t.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,a):a?a+" "+f:f)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Nf.p?Nf.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Rc={},$7=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+$7(e[n]);return t}return e},Tbe=(e,t,n,r,i)=>{let o=$7(e),s=Rc[o]||(Rc[o]=(f=>{let h=0,g=11;for(;h<f.length;)g=101*g+f.charCodeAt(h++)>>>0;return"go"+g})(o));if(!Rc[s]){let f=o!==e?e:(h=>{let g,y,x=[{}];for(;g=kbe.exec(h.replace(Cbe,""));)g[4]?x.shift():g[3]?(y=g[3].replace(nB," ").trim(),x.unshift(x[0][y]=x[0][y]||{})):x[0][g[1]]=g[2].replace(nB," ").trim();return x[0]})(e);Rc[s]=Nf(i?{["@keyframes "+s]:f}:f,n?"":"."+s)}let a=n&&Rc.g?Rc.g:null;return n&&(Rc.g=Rc[s]),((f,h,g,y)=>{y?h.data=h.data.replace(y,f):h.data.indexOf(f)===-1&&(h.data=g?f+h.data:h.data+f)})(Rc[s],t,r,a),s},Pbe=(e,t,n)=>e.reduce((r,i,o)=>{let s=t[o];if(s&&s.call){let a=s(n),f=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=f?"."+f:a&&typeof a=="object"?a.props?"":Nf(a,""):a===!1?"":a}return r+i+(s??"")},"");function CR(e){let t=this||{},n=e.call?e(t.p):e;return Tbe(n.unshift?n.raw?Pbe(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Sbe(t.target),t.g,t.o,t.k)}CR.bind({g:1});CR.bind({k:1});function rB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R7(e,t,n){return t&&rB(e.prototype,t),n&&rB(e,n),e}function wr(){return wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wr.apply(this,arguments)}function D7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function lx(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function iB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var oB=function(){return""},Ebe=Ee.createContext({enqueueSnackbar:oB,closeSnackbar:oB}),If={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},aB=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},TR=function(t){return""+aB(t.vertical)+aB(t.horizontal)},f1=function(t){return!!t||t===0},h1="unmounted",kp="exited",Cp="entering",_v="entered",sB="exiting",PR=function(e){D7(t,e);function t(r){var i;i=e.call(this,r)||this;var o=r.appear,s;return i.appearStatus=null,r.in?o?(s=kp,i.appearStatus=Cp):s=_v:r.unmountOnExit||r.mountOnEnter?s=h1:s=kp,i.state={status:s},i.nextCallback=null,i}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===h1?{status:kp}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Cp&&s!==_v&&(o=Cp):(s===Cp||s===_v)&&(o=sB)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o=i,s=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(s=i.exit,o=i.enter),{exit:s,enter:o}},n.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===Cp?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===kp&&this.setState({status:h1})},n.performEnter=function(i){var o=this,s=this.props.enter,a=i,f=this.getTimeouts();if(!i&&!s){this.safeSetState({status:_v},function(){o.props.onEntered&&o.props.onEntered(o.node,a)});return}this.props.onEnter&&this.props.onEnter(this.node,a),this.safeSetState({status:Cp},function(){o.props.onEntering&&o.props.onEntering(o.node,a),o.onTransitionEnd(f.enter,function(){o.safeSetState({status:_v},function(){o.props.onEntered&&o.props.onEntered(o.node,a)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts();if(!o){this.safeSetState({status:kp},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:sB},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:kp},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(){s&&(s=!1,o.nextCallback=null,i())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=i==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===h1)return null;var o=this.props,s=o.children,a=lx(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(i,a)},R7(t,[{key:"node",get:function(){var i,o=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!o)throw new Error("notistack - Custom snackbar is not refForwarding");return o}}]),t}(Ee.Component);function Tp(){}PR.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Tp,onEntering:Tp,onEntered:Tp,onExit:Tp,onExiting:Tp,onExited:Tp};function lB(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function VM(e,t){return V.useMemo(function(){return e==null&&t==null?null:function(n){lB(e,n),lB(t,n)}},[e,t])}function iS(e){var t=e.timeout,n=e.style,r=n===void 0?{}:n,i=e.mode;return{duration:typeof t=="object"?t[i]||0:t,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var WM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},L7=function(t){t.scrollTop=t.scrollTop},cB=function(t){return Math.round(t)+"ms"};function Xp(e,t){e===void 0&&(e=["all"]);var n=t||{},r=n.duration,i=r===void 0?300:r,o=n.easing,s=o===void 0?WM.easeInOut:o,a=n.delay,f=a===void 0?0:a,h=Array.isArray(e)?e:[e];return h.map(function(g){var y=typeof i=="string"?i:cB(i),x=typeof f=="string"?f:cB(f);return g+" "+y+" "+s+" "+x}).join(",")}function Obe(e){return e&&e.ownerDocument||document}function j7(e){var t=Obe(e);return t.defaultView||window}function Mbe(e,t){t===void 0&&(t=166);var n;function r(){for(var i=this,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=function(){e.apply(i,s)};clearTimeout(n),n=setTimeout(f,t)}return r.clear=function(){clearTimeout(n)},r}function Abe(e,t){var n=t.getBoundingClientRect(),r=j7(t),i;if(t.fakeTransform)i=t.fakeTransform;else{var o=r.getComputedStyle(t);i=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var s=0,a=0;if(i&&i!=="none"&&typeof i=="string"){var f=i.split("(")[1].split(")")[0].split(",");s=parseInt(f[4],10),a=parseInt(f[5],10)}switch(e){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+a-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-a)+"px)"}}function p1(e,t){if(t){var n=Abe(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}}var N7=V.forwardRef(function(e,t){var n=e.children,r=e.direction,i=r===void 0?"down":r,o=e.in,s=e.style,a=e.timeout,f=a===void 0?0:a,h=e.onEnter,g=e.onEntered,y=e.onExit,x=e.onExited,P=lx(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),E=V.useRef(null),S=VM(n.ref,E),O=VM(S,t),A=function(F,q){p1(i,F),L7(F),h&&h(F,q)},M=function(F){var q=(s==null?void 0:s.transitionTimingFunction)||WM.easeOut,X=iS({timeout:f,mode:"enter",style:wr({},s,{transitionTimingFunction:q})});F.style.webkitTransition=Xp("-webkit-transform",X),F.style.transition=Xp("transform",X),F.style.webkitTransform="none",F.style.transform="none"},I=function(F){var q=(s==null?void 0:s.transitionTimingFunction)||WM.sharp,X=iS({timeout:f,mode:"exit",style:wr({},s,{transitionTimingFunction:q})});F.style.webkitTransition=Xp("-webkit-transform",X),F.style.transition=Xp("transform",X),p1(i,F),y&&y(F)},N=function(F){F.style.webkitTransition="",F.style.transition="",x&&x(F)},$=V.useCallback(function(){E.current&&p1(i,E.current)},[i]);return V.useEffect(function(){if(!(o||i==="down"||i==="right")){var R=Mbe(function(){E.current&&p1(i,E.current)}),F=j7(E.current);return F.addEventListener("resize",R),function(){R.clear(),F.removeEventListener("resize",R)}}},[i,o]),V.useEffect(function(){o||$()},[o,$]),V.createElement(PR,Object.assign({appear:!0,nodeRef:E,onEnter:A,onEntered:g,onEntering:M,onExit:I,onExited:N,in:o,timeout:f},P),function(R,F){return V.cloneElement(n,wr({ref:O,style:wr({visibility:R==="exited"&&!o?"hidden":void 0},s,{},n.props.style)},F))})});N7.displayName="Slide";var Ok=function(t){return Ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},t))},Ibe=function(){return Ee.createElement(Ok,null,Ee.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},$be=function(){return Ee.createElement(Ok,null,Ee.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},Rbe=function(){return Ee.createElement(Ok,null,Ee.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},Dbe=function(){return Ee.createElement(Ok,null,Ee.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},Lbe={default:void 0,success:Ee.createElement(Ibe,null),warning:Ee.createElement($be,null),error:Ee.createElement(Rbe,null),info:Ee.createElement(Dbe,null)},nh={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:Lbe,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:N7,transitionDuration:{enter:225,exit:195}},jbe=function(t,n){var r=function(o){return typeof o=="number"||o===null};return r(t)?t:r(n)?n:nh.autoHideDuration},Nbe=function(t,n){var r=function(o,s){return s.some(function(a){return typeof o===a})};return r(t,["string","number"])?t:r(t,["object"])?wr({},nh.transitionDuration,{},r(n,["object"])&&n,{},t):r(n,["string","number"])?n:r(n,["object"])?wr({},nh.transitionDuration,{},n):nh.transitionDuration},zbe=function(t,n){return function(r,i){return i===void 0&&(i=!1),i?wr({},nh[r],{},n[r],{},t[r]):r==="autoHideDuration"?jbe(t.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?Nbe(t.transitionDuration,n.transitionDuration):t[r]||n[r]||nh[r]}};function cx(e){return Object.entries(e).reduce(function(t,n){var r,i=n[0],o=n[1];return wr({},t,(r={},r[i]=CR(o),r))},{})}var qm={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(t){return"notistack-MuiContent-"+t}},uB=cx({root:{height:0},entered:{height:"auto"}}),lE="0px",cE=175,z7=V.forwardRef(function(e,t){var n=e.children,r=e.in,i=e.onExited,o=V.useRef(null),s=V.useRef(null),a=VM(t,s),f=function(){return o.current?o.current.clientHeight:0},h=function(S){S.style.height=lE},g=function(S){var O=f(),A=iS({timeout:cE,mode:"enter"}),M=A.duration,I=A.easing;S.style.transitionDuration=typeof M=="string"?M:M+"ms",S.style.height=O+"px",S.style.transitionTimingFunction=I||""},y=function(S){S.style.height="auto"},x=function(S){S.style.height=f()+"px"},P=function(S){L7(S);var O=iS({timeout:cE,mode:"exit"}),A=O.duration,M=O.easing;S.style.transitionDuration=typeof A=="string"?A:A+"ms",S.style.height=lE,S.style.transitionTimingFunction=M||""};return V.createElement(PR,{in:r,unmountOnExit:!0,onEnter:h,onEntered:y,onEntering:g,onExit:x,onExited:i,onExiting:P,nodeRef:s,timeout:cE},function(E,S){return V.createElement("div",Object.assign({ref:a,className:Ch(uB.root,E==="entered"&&uB.entered),style:wr({pointerEvents:"all",overflow:"hidden",minHeight:lE,transition:Xp("height")},E==="entered"&&{overflow:"visible"},{},E==="exited"&&!r&&{visibility:"hidden"})},S),V.createElement("div",{ref:o,className:qm.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});z7.displayName="Collapse";var dB={right:"left",left:"right",bottom:"up",top:"down"},Bbe=function(t){return t.horizontal!=="center"?dB[t.horizontal]:dB[t.vertical]},Fbe=function(t){return"anchorOrigin"+TR(t)},Ube=function(t){t===void 0&&(t={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(t).filter(function(r){return!n[r]}).reduce(function(r,i){var o;return wr({},r,(o={},o[i]=t[i],o))},{})},Vbe=function(){};function m0(e,t){return e.reduce(function(n,r){return r==null?n:function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=[].concat(s);t&&f.indexOf(t)===-1&&f.push(t),n.apply(this,f),r.apply(this,f)}},Vbe)}var Wbe=typeof window<"u"?V.useLayoutEffect:V.useEffect;function fB(e){var t=V.useRef(e);return Wbe(function(){t.current=e}),V.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var B7=V.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.autoHideDuration,o=e.disableWindowBlurListener,s=o===void 0?!1:o,a=e.onClose,f=e.id,h=e.open,g=e.SnackbarProps,y=g===void 0?{}:g,x=V.useRef(),P=fB(function(){a&&a.apply(void 0,arguments)}),E=fB(function(I){!a||I==null||(x.current&&clearTimeout(x.current),x.current=setTimeout(function(){P(null,"timeout",f)},I))});V.useEffect(function(){return h&&E(i),function(){x.current&&clearTimeout(x.current)}},[h,i,E]);var S=function(){x.current&&clearTimeout(x.current)},O=V.useCallback(function(){i!=null&&E(i*.5)},[i,E]),A=function(N){y.onMouseEnter&&y.onMouseEnter(N),S()},M=function(N){y.onMouseLeave&&y.onMouseLeave(N),O()};return V.useEffect(function(){if(!s&&h)return window.addEventListener("focus",O),window.addEventListener("blur",S),function(){window.removeEventListener("focus",O),window.removeEventListener("blur",S)}},[s,O,h]),V.createElement("div",Object.assign({ref:t},y,{className:Ch(qm.Snackbar,r),onMouseEnter:A,onMouseLeave:M}),n)});B7.displayName="Snackbar";var uE,qbe=cx({root:(uE={display:"flex",flexWrap:"wrap",flexGrow:1},uE[If.upSm]={flexGrow:"initial",minWidth:"288px"},uE)}),F7=V.forwardRef(function(e,t){var n=e.className,r=lx(e,["className"]);return Ee.createElement("div",Object.assign({ref:t,className:Ch(qbe.root,n)},r))});F7.displayName="SnackbarContent";var wv=cx({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),hB="notistack-snackbar",U7=V.forwardRef(function(e,t){var n=e.id,r=e.message,i=e.action,o=e.iconVariant,s=e.variant,a=e.hideIconVariant,f=e.style,h=e.className,g=o[s],y=i;return typeof y=="function"&&(y=y(n)),Ee.createElement(F7,{ref:t,role:"alert","aria-describedby":hB,style:f,className:Ch(qm.MuiContent,qm.MuiContentVariant(s),wv.root,wv[s],h,!a&&g&&wv.lessPadding)},Ee.createElement("div",{id:hB,className:wv.message},a?null:g,r),y&&Ee.createElement("div",{className:wv.action},y))});U7.displayName="MaterialDesignContent";var Gbe=V.memo(U7),Hbe=cx({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),Ybe=function(t){var n=V.useRef(),r=V.useState(!0),i=r[0],o=r[1],s=m0([t.snack.onClose,t.onClose]),a=function(){t.snack.requestClose&&s(null,"instructed",t.snack.id)},f=V.useCallback(function(){n.current=setTimeout(function(){o(function(X){return!X})},125)},[]);V.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var h=t.snack,g=t.classes,y=t.Component,x=y===void 0?Gbe:y,P=V.useMemo(function(){return Ube(g)},[g]),E=h.open,S=h.SnackbarProps,O=h.TransitionComponent,A=h.TransitionProps,M=h.transitionDuration,I=h.disableWindowBlurListener,N=h.content,$=lx(h,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),R=wr({direction:Bbe($.anchorOrigin),timeout:M},A),F=N;typeof F=="function"&&(F=F($.id,$.message));var q=["onEnter","onEntered","onExit","onExited"].reduce(function(X,Q){var ae;return wr({},X,(ae={},ae[Q]=m0([t.snack[Q],t[Q]],$.id),ae))},{});return Ee.createElement(z7,{in:i,onExited:q.onExited},Ee.createElement(B7,{open:E,id:$.id,disableWindowBlurListener:I,autoHideDuration:$.autoHideDuration,className:Ch(Hbe.wrappedRoot,P.root,P[Fbe($.anchorOrigin)]),SnackbarProps:S,onClose:s},Ee.createElement(O,Object.assign({},R,{appear:!0,in:E,onExit:q.onExit,onExited:f,onEnter:q.onEnter,onEntered:m0([q.onEntered,a],$.id)}),F||Ee.createElement(x,Object.assign({},$)))))},Sv,dE,m1,g1,fE,Dc={view:{default:20,dense:4},snackbar:{default:6,dense:2}},pB="."+qm.CollapseWrapper,hE=16,y1=cx({root:(Sv={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:Xp(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Sv[pB]={padding:Dc.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Sv.maxWidth="calc(100% - "+Dc.view.default*2+"px)",Sv[If.downXs]={width:"100%",maxWidth:"calc(100% - "+hE*2+"px)"},Sv),rootDense:(dE={},dE[pB]={padding:Dc.snackbar.dense+"px 0px"},dE),top:{top:Dc.view.default-Dc.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:Dc.view.default-Dc.snackbar.default+"px",flexDirection:"column-reverse"},left:(m1={left:Dc.view.default+"px"},m1[If.upSm]={alignItems:"flex-start"},m1[If.downXs]={left:hE+"px"},m1),right:(g1={right:Dc.view.default+"px"},g1[If.upSm]={alignItems:"flex-end"},g1[If.downXs]={right:hE+"px"},g1),center:(fE={left:"50%",transform:"translateX(-50%)"},fE[If.upSm]={alignItems:"center"},fE)}),Kbe=function(t){var n=t.classes,r=n===void 0?{}:n,i=t.anchorOrigin,o=t.dense,s=t.children,a=Ch(qm.SnackbarContainer,y1[i.vertical],y1[i.horizontal],y1.root,r.containerRoot,r["containerAnchorOrigin"+TR(i)],o&&y1.rootDense);return Ee.createElement("div",{className:a},s)},Zbe=V.memo(Kbe),mB=function(t){var n=typeof t=="string"||V.isValidElement(t);return!n},V7,Xbe=function(e){D7(t,e);function t(r){var i;return i=e.call(this,r)||this,i.enqueueSnackbar=function(o,s){if(s===void 0&&(s={}),o==null)throw new Error("enqueueSnackbar called with invalid argument");var a=mB(o)?o:s,f=mB(o)?o.message:o,h=a.key,g=a.preventDuplicate,y=lx(a,["key","preventDuplicate"]),x=f1(h),P=x?h:new Date().getTime()+Math.random(),E=zbe(y,i.props),S=wr({id:P},y,{message:f,open:!0,entered:!1,requestClose:!1,persist:E("persist"),action:E("action"),content:E("content"),variant:E("variant"),anchorOrigin:E("anchorOrigin"),disableWindowBlurListener:E("disableWindowBlurListener"),autoHideDuration:E("autoHideDuration"),hideIconVariant:E("hideIconVariant"),TransitionComponent:E("TransitionComponent"),transitionDuration:E("transitionDuration"),TransitionProps:E("TransitionProps",!0),iconVariant:E("iconVariant",!0),style:E("style",!0),SnackbarProps:E("SnackbarProps",!0),className:Ch(i.props.className,y.className)});return S.persist&&(S.autoHideDuration=void 0),i.setState(function(O){if(g===void 0&&i.props.preventDuplicate||g){var A=function($){return x?$.id===P:$.message===f},M=O.queue.findIndex(A)>-1,I=O.snacks.findIndex(A)>-1;if(M||I)return O}return i.handleDisplaySnack(wr({},O,{queue:[].concat(O.queue,[S])}))}),P},i.handleDisplaySnack=function(o){var s=o.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(o):i.processQueue(o)},i.processQueue=function(o){var s=o.queue,a=o.snacks;return s.length>0?wr({},o,{snacks:[].concat(a,[s[0]]),queue:s.slice(1,s.length)}):o},i.handleDismissOldest=function(o){if(o.snacks.some(function(g){return!g.open||g.requestClose}))return o;var s=!1,a=!1,f=o.snacks.reduce(function(g,y){return g+(y.open&&y.persist?1:0)},0);f===i.maxSnack&&(a=!0);var h=o.snacks.map(function(g){return!s&&(!g.persist||a)?(s=!0,g.entered?(g.onClose&&g.onClose(null,"maxsnack",g.id),i.props.onClose&&i.props.onClose(null,"maxsnack",g.id),wr({},g,{open:!1})):wr({},g,{requestClose:!0})):wr({},g)});return wr({},o,{snacks:h})},i.handleEnteredSnack=function(o,s,a){if(!f1(a))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(f){var h=f.snacks;return{snacks:h.map(function(g){return g.id===a?wr({},g,{entered:!0}):wr({},g)})}})},i.handleCloseSnack=function(o,s,a){i.props.onClose&&i.props.onClose(o,s,a);var f=a===void 0;i.setState(function(h){var g=h.snacks,y=h.queue;return{snacks:g.map(function(x){return!f&&x.id!==a?wr({},x):x.entered?wr({},x,{open:!1}):wr({},x,{requestClose:!0})}),queue:y.filter(function(x){return x.id!==a})}})},i.closeSnackbar=function(o){var s=i.state.snacks.find(function(a){return a.id===o});f1(o)&&s&&s.onClose&&s.onClose(null,"instructed",o),i.handleCloseSnack(null,"instructed",o)},i.handleExitedSnack=function(o,s){if(!f1(s))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(a){var f=i.processQueue(wr({},a,{snacks:a.snacks.filter(function(h){return h.id!==s})}));return f.queue.length===0?f:i.handleDismissOldest(f)})},V7=i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(iB(i)),closeSnackbar:i.closeSnackbar.bind(iB(i))}},i}var n=t.prototype;return n.render=function(){var i=this,o=this.state.contextValue,s=this.props,a=s.domRoot,f=s.children,h=s.dense,g=h===void 0?!1:h,y=s.Components,x=y===void 0?{}:y,P=s.classes,E=this.state.snacks.reduce(function(O,A){var M,I=TR(A.anchorOrigin),N=O[I]||[];return wr({},O,(M={},M[I]=[].concat(N,[A]),M))},{}),S=Object.keys(E).map(function(O){var A=E[O],M=A[0];return Ee.createElement(Zbe,{key:O,dense:g,anchorOrigin:M.anchorOrigin,classes:P},A.map(function(I){return Ee.createElement(Ybe,{key:I.id,snack:I,classes:P,Component:x[I.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:m0([i.handleExitedSnack,i.props.onExited],I.id),onEntered:m0([i.handleEnteredSnack,i.props.onEntered],I.id)})}))});return Ee.createElement(Ebe.Provider,{value:o},f,a?bu.createPortal(S,a):S)},R7(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||nh.maxSnack}}]),t}(V.Component);const gB=4e3,Jbe=()=>{const e=Ml();On(h=>h.devices.items);const t=V.useRef(),[n,r]=V.useState(!0),[i,o]=V.useState([]),[s,a]=V.useState([]),f=()=>{const h=window.location.protocol==="https:"?"wss:":"ws:",g=new WebSocket(`${h}//${window.location.host}/api/socket`);console.log(`${h}//${window.location.host}/api/socket`),t.current=g,console.log("funcion web socket"),g.onopen=()=>{e(Lf.updateSocket(!0)),console.log("funcion web socket open")},g.onclose=async y=>{if(console.log("funcion web socket close"),e(Lf.updateSocket(!1)),y.code!==gB){try{const x=await fetch("/api/devices");x.ok&&e(yl.update(await x.json()));const P=await fetch("/api/positions");P.ok&&e(zP.updatePositions(await P.json())),x.status===401||P.status}catch{}setTimeout(()=>f(),6e4)}},g.onmessage=y=>{const x=JSON.parse(y.data);x.devices&&(x.devices.length>0?e(yl.update(x.devices)):e(yl.clear())),x.positions&&e(zP.updatePositions(x.positions)),x.camera&&e(zP.updateCamera(x.camera)),x.server&&(x.server.rosState==="connect"?e(Lf.updateServer(!0)):e(Lf.updateServer(!1))),x.mission&&(console.log("data mission"),console.log(x.mission),e(qc.updateMission(x.mission))),x.events&&(console.log("add data events -------"),e(Yre.add(x.events)),o(x.events),console.log(x.events)),x.markers&&(console.log("add markers"),e(Lf.updateMarker(x.markers)))}};return xR(async()=>{if(n){r(!1);const h=await fetch("/api/devices",{method:"GET"});if(h.ok)e(yl.refresh(await h.json()));else throw Error(await h.text());return console.log("primera conexion --s"),f(),()=>{const g=t.current;g&&g.close(gB)}}else return null},[]),V.useEffect(()=>{console.log("set notifications"),console.log(i);let h=[];i.map(g=>{let y=!0;s.map(x=>{x.id==g.id&&(y=!1)}),y&&h.push({id:g.id,type:g.type,message:g.attributes.message,show:!0})}),console.log("aux console log"),console.log(h),h.length>0&&a(h),h.forEach(g=>{g.type==="error"&&new Audio(_be).play()})},[i]),V.useEffect(()=>{console.log("notifications"),s.map(h=>{V7(h.message,{variant:h.type,autoHideDuration:3e3,persist:!1,onClose:()=>o(i.filter(g=>g.id!==h.id))})})},[s]),L.jsx(L.Fragment,{children:L.jsx(Xbe,{preventDuplicate:!0,maxSnack:6,autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}})})},Qbe=Zne()(Jbe),exe=qr(()=>({page:{flexGrow:1,overflow:"auto"},menu:{zIndex:4}})),txe=()=>{const e=exe();return xu(),L.jsxs(L.Fragment,{children:[L.jsx(Qbe,{}),L.jsx("div",{className:e.page,children:L.jsx(zte,{})})]})},nxe=()=>{const{search:e}=I2();return V.useMemo(()=>new URLSearchParams(e),[e])};var W7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Nv,function(){var n,r,i;function o(a,f){if(!n)n=f;else if(!r)r=f;else{var h="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",g={};n(g),i=f(g),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([h],{type:"text/javascript"})))}}o(["exports"],function(a){function f(u,l,d,m){return new(d||(d=Promise))(function(b,k){function T(W){try{B(m.next(W))}catch(H){k(H)}}function D(W){try{B(m.throw(W))}catch(H){k(H)}}function B(W){var H;W.done?b(W.value):(H=W.value,H instanceof d?H:new d(function(Z){Z(H)})).then(T,D)}B((m=m.apply(u,l||[])).next())})}function h(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}typeof SuppressedError=="function"&&SuppressedError;var g=y;function y(u,l){this.x=u,this.y=l}y.prototype={clone:function(){return new y(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,d=u.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),d=Math.sin(u),m=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=m,this},_rotateAround:function(u,l){var d=Math.cos(u),m=Math.sin(u),b=l.y+m*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-m*(this.y-l.y),this.y=b,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},y.convert=function(u){return u instanceof y?u:Array.isArray(u)?new y(u[0],u[1]):u};var x=h(g),P=E;function E(u,l,d,m){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=d,this.p2y=m}E.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,m=0;m<8;m++){var b=this.sampleCurveX(d)-u;if(Math.abs(b)<l)return d;var k=this.sampleCurveDerivativeX(d);if(Math.abs(k)<1e-6)break;d-=b/k}var T=0,D=1;for(d=u,m=0;m<20&&(b=this.sampleCurveX(d),!(Math.abs(b-u)<l));m++)u>b?T=d:D=d,d=.5*(D-T)+T;return d},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var S=h(P);let O,A;function M(){return O==null&&(O=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),O}function I(){if(A==null&&(A=!1,M())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let m=0;m<5*5;m++){const b=4*m;l.fillStyle=`rgb(${b},${b+1},${b+2})`,l.fillRect(m%5,Math.floor(m/5),1,1)}const d=l.getImageData(0,0,5,5).data;for(let m=0;m<5*5*4;m++)if(m%4!=3&&d[m]!==m){A=!0;break}}}return A||!1}function N(u,l,d,m){const b=new S(u,l,d,m);return function(k){return b.solve(k)}}const $=N(.25,.1,.25,1);function R(u,l,d){return Math.min(d,Math.max(l,u))}function F(u,l,d){const m=d-l,b=((u-l)%m+m)%m+l;return b===l?d:b}function q(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}let X=1;function Q(u,l,d){const m={};for(const b in u)m[b]=l.call(d||this,u[b],b,u);return m}function ae(u,l,d){const m={};for(const b in u)l.call(d||this,u[b],b,u)&&(m[b]=u[b]);return m}function fe(u){return Array.isArray(u)?u.map(fe):typeof u=="object"&&u?Q(u,fe):u}const Se={};function ke(u){Se[u]||(typeof console<"u"&&console.warn(u),Se[u]=!0)}function we(u,l,d){return(d.y-u.y)*(l.x-u.x)>(l.y-u.y)*(d.x-u.x)}function Oe(u){let l=0;for(let d,m,b=0,k=u.length,T=k-1;b<k;T=b++)d=u[b],m=u[T],l+=(m.x-d.x)*(d.y+m.y);return l}function Ce(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let be=null;function $e(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const Ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ft(u,l,d,m,b){return f(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const k=new VideoFrame(u,{timestamp:0});try{const T=k==null?void 0:k.format;if(!T||!T.startsWith("BGR")&&!T.startsWith("RGB"))throw new Error(`Unrecognized format ${T}`);const D=T.startsWith("BGR"),B=new Uint8ClampedArray(m*b*4);if(yield k.copyTo(B,function(W,H,Z,ee,ie){const oe=4*Math.max(-H,0),ce=(Math.max(0,Z)-Z)*ee*4+oe,ge=4*ee,_e=Math.max(0,H),Re=Math.max(0,Z);return{rect:{x:_e,y:Re,width:Math.min(W.width,H+ee)-_e,height:Math.min(W.height,Z+ie)-Re},layout:[{offset:ce,stride:ge}]}}(u,l,d,m,b)),D)for(let W=0;W<B.length;W+=4){const H=B[W];B[W]=B[W+2],B[W+2]=H}return B}finally{k.close()}})}let Xe,tt,lt,Ct;const st={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u){const l=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(u,l=0){return this.getImageCanvasContext(u).getImageData(-l,-l,u.width+2*l,u.height+2*l)},getImageCanvasContext(u){const l=window.document.createElement("canvas"),d=l.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return l.width=u.width,l.height=u.height,d.drawImage(u,0,0,u.width,u.height),d},resolveURL:u=>(lt||(lt=document.createElement("a")),lt.href=u,lt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Ct==null&&(Ct=matchMedia("(prefers-reduced-motion: reduce)")),Ct.matches)}},Ht={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class Lt extends Error{constructor(l,d,m,b){super(`AJAXError: ${d} (${l}): ${m}`),this.status=l,this.statusText=d,this.url=m,this.body=b}}const He=Ce()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,_t=u=>Ht.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))];function pt(u,l){const d=new AbortController,m=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,cache:u.cache,referrer:He(),signal:d.signal});let b=!1,k=!1;return u.type==="json"&&m.headers.set("Accept","application/json"),k||fetch(m).then(T=>T.ok?(D=>{(u.type==="arrayBuffer"||u.type==="image"?D.arrayBuffer():u.type==="json"?D.json():D.text()).then(B=>{k||(b=!0,l(null,B,D.headers.get("Cache-Control"),D.headers.get("Expires")))}).catch(B=>{k||l(new Error(B.message))})})(T):T.blob().then(D=>l(new Lt(T.status,T.statusText,u.url,D)))).catch(T=>{T.code!==20&&l(new Error(T.message))}),{cancel:()=>{k=!0,b||d.abort()}}}const Ve=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){if(Ce()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l);if(!Ce())return(_t(u.url)||pt)(u,l)}if(!(/^file:/.test(d=u.url)||/^file:/.test(He())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return pt(u,l);if(Ce()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l,void 0,!0)}var d;return function(m,b){const k=new XMLHttpRequest;k.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(k.responseType="arraybuffer");for(const T in m.headers)k.setRequestHeader(T,m.headers[T]);return m.type==="json"&&(k.responseType="text",k.setRequestHeader("Accept","application/json")),k.withCredentials=m.credentials==="include",k.onerror=()=>{b(new Error(k.statusText))},k.onload=()=>{if((k.status>=200&&k.status<300||k.status===0)&&k.response!==null){let T=k.response;if(m.type==="json")try{T=JSON.parse(k.response)}catch(D){return b(D)}b(null,T,k.getResponseHeader("Cache-Control"),k.getResponseHeader("Expires"))}else{const T=new Blob([k.response],{type:k.getResponseHeader("Content-Type")});b(new Lt(k.status,k.statusText,m.url,T))}},k.send(m.body),{cancel:()=>k.abort()}}(u,l)},Pt=function(u,l){return Ve(q(u,{type:"arrayBuffer"}),l)};function Tt(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const l=new URL(u),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function Ut(u,l,d){d[u]&&d[u].indexOf(l)!==-1||(d[u]=d[u]||[],d[u].push(l))}function gn(u,l,d){if(d&&d[u]){const m=d[u].indexOf(l);m!==-1&&d[u].splice(m,1)}}class bn{constructor(l,d={}){q(this,d),this.type=l}}class xn extends bn{constructor(l,d={}){super("error",q({error:l},d))}}class rr{on(l,d){return this._listeners=this._listeners||{},Ut(l,d,this._listeners),this}off(l,d){return gn(l,d,this._listeners),gn(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},Ut(l,d,this._oneTimeListeners),this):new Promise(m=>this.once(l,m))}fire(l,d){typeof l=="string"&&(l=new bn(l,d||{}));const m=l.type;if(this.listens(m)){l.target=this;const b=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const D of b)D.call(this,l);const k=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const D of k)gn(m,D,this._oneTimeListeners),D.call(this,l);const T=this._eventedParent;T&&(q(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(l))}else l instanceof xn&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var Ne={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const an=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Mn(u,l){const d={};for(const m in u)m!=="ref"&&(d[m]=u[m]);return an.forEach(m=>{m in l&&(d[m]=l[m])}),d}function on(u,l){if(Array.isArray(u)){if(!Array.isArray(l)||u.length!==l.length)return!1;for(let d=0;d<u.length;d++)if(!on(u[d],l[d]))return!1;return!0}if(typeof u=="object"&&u!==null&&l!==null){if(typeof l!="object"||Object.keys(u).length!==Object.keys(l).length)return!1;for(const d in u)if(!on(u[d],l[d]))return!1;return!0}return u===l}const It={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Wn(u,l,d){d.push({command:It.addSource,args:[u,l[u]]})}function ir(u,l,d){l.push({command:It.removeSource,args:[u]}),d[u]=!0}function Tr(u,l,d,m){ir(u,d,m),Wn(u,l,d)}function Dn(u,l,d){let m;for(m in u[d])if(Object.prototype.hasOwnProperty.call(u[d],m)&&m!=="data"&&!on(u[d][m],l[d][m]))return!1;for(m in l[d])if(Object.prototype.hasOwnProperty.call(l[d],m)&&m!=="data"&&!on(u[d][m],l[d][m]))return!1;return!0}function Kt(u,l,d,m,b,k){let T;for(T in l=l||{},u=u||{})Object.prototype.hasOwnProperty.call(u,T)&&(on(u[T],l[T])||d.push({command:k,args:[m,T,l[T],b]}));for(T in l)Object.prototype.hasOwnProperty.call(l,T)&&!Object.prototype.hasOwnProperty.call(u,T)&&(on(u[T],l[T])||d.push({command:k,args:[m,T,l[T],b]}))}function cr(u){return u.id}function Di(u,l){return u[l.id]=l,u}class ot{constructor(l,d,m,b){this.message=(l?`${l}: `:"")+m,b&&(this.identifier=b),d!=null&&d.__line__&&(this.line=d.__line__)}}function zt(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}class ln extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class Xn{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[m,b]of d)this.bindings[m]=b}concat(l){return new Xn(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const ui={kind:"null"},dt={kind:"number"},hn={kind:"string"},dn={kind:"boolean"},Li={kind:"color"},ua={kind:"object"},fn={kind:"value"},da={kind:"collator"},he={kind:"formatted"},J={kind:"padding"},ne={kind:"resolvedImage"},se={kind:"variableAnchorOffsetCollection"};function me(u,l){return{kind:"array",itemType:u,N:l}}function ye(u){if(u.kind==="array"){const l=ye(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}const De=[ui,dt,hn,dn,Li,he,ua,me(fn),J,ne,se];function Pe(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!Pe(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(const d of De)if(!Pe(d,l))return null}}return`Expected ${ye(u)} but found ${ye(l)} instead.`}function xe(u,l){return l.some(d=>d.kind===u.kind)}function Ae(u,l){return l.some(d=>d==="null"?u===null:d==="array"?Array.isArray(u):d==="object"?u&&!Array.isArray(u)&&typeof u=="object":d===typeof u)}function qe(u,l){return u.kind==="array"&&l.kind==="array"?u.itemType.kind===l.itemType.kind&&typeof u.N=="number":u.kind===l.kind}const We=.96422,Ye=.82521,qt=4/29,Zt=6/29,At=3*Zt*Zt,Gt=Zt*Zt*Zt,cn=Math.PI/180,jn=180/Math.PI;function qn(u){return(u%=360)<0&&(u+=360),u}function An([u,l,d,m]){let b,k;const T=Mi((.2225045*(u=Cn(u))+.7168786*(l=Cn(l))+.0606169*(d=Cn(d)))/1);u===l&&l===d?b=k=T:(b=Mi((.4360747*u+.3850649*l+.1430804*d)/We),k=Mi((.0139322*u+.0971045*l+.7141733*d)/Ye));const D=116*T-16;return[D<0?0:D,500*(b-T),200*(T-k),m]}function Cn(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Mi(u){return u>Gt?Math.pow(u,1/3):u/At+qt}function or([u,l,d,m]){let b=(u+16)/116,k=isNaN(l)?b:b+l/500,T=isNaN(d)?b:b-d/200;return b=1*Kn(b),k=We*Kn(k),T=Ye*Kn(T),[Qt(3.1338561*k-1.6168667*b-.4906146*T),Qt(-.9787684*k+1.9161415*b+.033454*T),Qt(.0719453*k-.2289914*b+1.4052427*T),m]}function Qt(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function Kn(u){return u>Zt?u*u*u:At*(u-qt)}function fa(u){return parseInt(u.padEnd(2,u),16)/255}function Ax(u,l){return Eu(l?u/100:u,0,1)}function Eu(u,l,d){return Math.min(Math.max(l,u),d)}function Ou(u){return!u.some(Number.isNaN)}const ZC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Jn{constructor(l,d,m,b=1,k=!0){this.r=l,this.g=d,this.b=m,this.a=b,k||(this.r*=b,this.g*=b,this.b*=b,b||this.overwriteGetter("rgb",[l,d,m,b]))}static parse(l){if(l instanceof Jn)return l;if(typeof l!="string")return;const d=function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const b=ZC[m];if(b){const[T,D,B]=b;return[T/255,D/255,B/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const T=m.length<6?1:2;let D=1;return[fa(m.slice(D,D+=T)),fa(m.slice(D,D+=T)),fa(m.slice(D,D+=T)),fa(m.slice(D,D+T)||"ff")]}if(m.startsWith("rgb")){const T=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[D,B,W,H,Z,ee,ie,oe,ce,ge,_e,Re]=T,Te=[H||" ",ie||" ",ge].join("");if(Te==="  "||Te==="  /"||Te===",,"||Te===",,,"){const Le=[W,ee,ce].join(""),ze=Le==="%%%"?100:Le===""?255:0;if(ze){const Ze=[Eu(+B/ze,0,1),Eu(+Z/ze,0,1),Eu(+oe/ze,0,1),_e?Ax(+_e,Re):1];if(Ou(Ze))return Ze}}return}}const k=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(k){const[T,D,B,W,H,Z,ee,ie,oe]=k,ce=[B||" ",H||" ",ee].join("");if(ce==="  "||ce==="  /"||ce===",,"||ce===",,,"){const ge=[+D,Eu(+W,0,100),Eu(+Z,0,100),ie?Ax(+ie,oe):1];if(Ou(ge))return function([_e,Re,Te,Le]){function ze(Ze){const kt=(Ze+_e/30)%12,Dt=Re*Math.min(Te,1-Te);return Te-Dt*Math.max(-1,Math.min(kt-3,9-kt,1))}return _e=qn(_e),Re/=100,Te/=100,[ze(0),ze(8),ze(4),Le]}(ge)}}}(l);return d?new Jn(...d,!1):void 0}get rgb(){const{r:l,g:d,b:m,a:b}=this,k=b||1/0;return this.overwriteGetter("rgb",[l/k,d/k,m/k,b])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,m,b,k]=An(l),T=Math.sqrt(m*m+b*b);return[Math.round(1e4*T)?qn(Math.atan2(b,m)*jn):NaN,T,d,k]}(this.rgb))}get lab(){return this.overwriteGetter("lab",An(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,m,b]=this.rgb;return`rgba(${[l,d,m].map(k=>Math.round(255*k)).join(",")},${b})`}}Jn.black=new Jn(0,0,0,1),Jn.white=new Jn(1,1,1,1),Jn.transparent=new Jn(0,0,0,0),Jn.red=new Jn(1,0,0,1);class Yg{constructor(l,d,m){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ih{constructor(l,d,m,b,k){this.text=l,this.image=d,this.scale=m,this.fontStack=b,this.textColor=k}}class Ki{constructor(l){this.sections=l}static fromString(l){return new Ki([new Ih(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Ki?l:Ki.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class Wo{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Wo)return l;if(typeof l=="number")return new Wo([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new Wo(l)}}toString(){return JSON.stringify(this.values)}}const XC=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class ha{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof ha)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const m=l[d],b=l[d+1];if(typeof m!="string"||!XC.has(m)||!Array.isArray(b)||b.length!==2||typeof b[0]!="number"||typeof b[1]!="number")return}return new ha(l)}}toString(){return JSON.stringify(this.values)}}class ji{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ji({name:l,available:!1}):null}}function $h(u,l,d,m){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[u,l,d,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[u,l,d,m]:[u,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Mu(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Jn||u instanceof Yg||u instanceof Ki||u instanceof Wo||u instanceof ha||u instanceof ji)return!0;if(Array.isArray(u)){for(const l of u)if(!Mu(l))return!1;return!0}if(typeof u=="object"){for(const l in u)if(!Mu(u[l]))return!1;return!0}return!1}function Mr(u){if(u===null)return ui;if(typeof u=="string")return hn;if(typeof u=="boolean")return dn;if(typeof u=="number")return dt;if(u instanceof Jn)return Li;if(u instanceof Yg)return da;if(u instanceof Ki)return he;if(u instanceof Wo)return J;if(u instanceof ha)return se;if(u instanceof ji)return ne;if(Array.isArray(u)){const l=u.length;let d;for(const m of u){const b=Mr(m);if(d){if(d===b)continue;d=fn;break}d=b}return me(d||fn,l)}return ua}function Bn(u){const l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof Jn||u instanceof Ki||u instanceof Wo||u instanceof ha||u instanceof ji?u.toString():JSON.stringify(u)}class vc{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Mu(l[1]))return d.error("invalid value");const m=l[1];let b=Mr(m);const k=d.expectedType;return b.kind!=="array"||b.N!==0||!k||k.kind!=="array"||typeof k.N=="number"&&k.N!==0||(b=k),new vc(b,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class jr{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const Rh={string:hn,number:dt,boolean:dn,object:ua};class pa{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let m,b=1;const k=l[0];if(k==="array"){let D,B;if(l.length>2){const W=l[1];if(typeof W!="string"||!(W in Rh)||W==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);D=Rh[W],b++}else D=fn;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);B=l[2],b++}m=me(D,B)}else{if(!Rh[k])throw new Error(`Types doesn't contain name = ${k}`);m=Rh[k]}const T=[];for(;b<l.length;b++){const D=d.parse(l[b],b,fn);if(!D)return null;T.push(D)}return new pa(m,T)}evaluate(l){for(let d=0;d<this.args.length;d++){const m=this.args[d].evaluate(l);if(!Pe(this.type,Mr(m)))return m;if(d===this.args.length-1)throw new jr(`Expected value to be of type ${ye(this.type)}, but found ${ye(Mr(m))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Kg={"to-boolean":dn,"to-color":Li,"to-number":dt,"to-string":hn};class Rl{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[0];if(!Kg[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&l.length!==2)return d.error("Expected one argument.");const b=Kg[m],k=[];for(let T=1;T<l.length;T++){const D=d.parse(l[T],T,fn);if(!D)return null;k.push(D)}return new Rl(b,k)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,m;for(const b of this.args){if(d=b.evaluate(l),m=null,d instanceof Jn)return d;if(typeof d=="string"){const k=l.parseColor(d);if(k)return k}else if(Array.isArray(d)&&(m=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:$h(d[0],d[1],d[2],d[3]),!m))return new Jn(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new jr(m||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const m of this.args){d=m.evaluate(l);const b=Wo.parse(d);if(b)return b}throw new jr(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const m of this.args){d=m.evaluate(l);const b=ha.parse(d);if(b)return b}throw new jr(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const m of this.args){if(d=m.evaluate(l),d===null)return 0;const b=Number(d);if(!isNaN(b))return b}throw new jr(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Ki.fromString(Bn(this.args[0].evaluate(l)));case"resolvedImage":return ji.fromString(Bn(this.args[0].evaluate(l)));default:return Bn(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Ix=["Unknown","Point","LineString","Polygon"];class Zg{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ix[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Jn.parse(l)),d}}class Dh{constructor(l,d,m=[],b,k=new Xn,T=[]){this.registry=l,this.path=m,this.key=m.map(D=>`[${D}]`).join(""),this.scope=k,this.errors=T,this.expectedType=b,this._isConstant=d}parse(l,d,m,b,k={}){return d?this.concat(d,m,b)._parse(l,k):this._parse(l,k)}_parse(l,d){function m(b,k,T){return T==="assert"?new pa(k,[b]):T==="coerce"?new Rl(k,[b]):b}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const b=l[0];if(typeof b!="string")return this.error(`Expression name must be a string, but found ${typeof b} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const k=this.registry[b];if(k){let T=k.parse(l,this);if(!T)return null;if(this.expectedType){const D=this.expectedType,B=T.type;if(D.kind!=="string"&&D.kind!=="number"&&D.kind!=="boolean"&&D.kind!=="object"&&D.kind!=="array"||B.kind!=="value")if(D.kind!=="color"&&D.kind!=="formatted"&&D.kind!=="resolvedImage"||B.kind!=="value"&&B.kind!=="string")if(D.kind!=="padding"||B.kind!=="value"&&B.kind!=="number"&&B.kind!=="array")if(D.kind!=="variableAnchorOffsetCollection"||B.kind!=="value"&&B.kind!=="array"){if(this.checkSubtype(D,B))return null}else T=m(T,D,d.typeAnnotation||"coerce");else T=m(T,D,d.typeAnnotation||"coerce");else T=m(T,D,d.typeAnnotation||"coerce");else T=m(T,D,d.typeAnnotation||"assert")}if(!(T instanceof vc)&&T.type.kind!=="resolvedImage"&&this._isConstant(T)){const D=new Zg;try{T=new vc(T.type,T.evaluate(D))}catch(B){return this.error(B.message),null}}return T}return this.error(`Unknown expression "${b}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,m){const b=typeof l=="number"?this.path.concat(l):this.path,k=m?this.scope.concat(m):this.scope;return new Dh(this.registry,this._isConstant,b,d||null,k,this.errors)}error(l,...d){const m=`${this.key}${d.map(b=>`[${b}]`).join("")}`;this.errors.push(new ln(m,l))}checkSubtype(l,d){const m=Pe(l,d);return m&&this.error(m),m}}class Lh{constructor(l,d,m){this.type=da,this.locale=m,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const m=l[1];if(typeof m!="object"||Array.isArray(m))return d.error("Collator options argument must be an object.");const b=d.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,dn);if(!b)return null;const k=d.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,dn);if(!k)return null;let T=null;return m.locale&&(T=d.parse(m.locale,1,hn),!T)?null:new Lh(b,k,T)}evaluate(l){return new Yg(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const Dl=8192;function Xg(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function tf(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function $x(u,l){const d=(180+u[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,b=Math.pow(2,l.z);return[Math.round(d*b*Dl),Math.round(m*b*Dl)]}function JC(u,l,d){const m=u[0]-l[0],b=u[1]-l[1],k=u[0]-d[0],T=u[1]-d[1];return m*T-k*b==0&&m*k<=0&&b*T<=0}function Jg(u,l){let d=!1;for(let T=0,D=l.length;T<D;T++){const B=l[T];for(let W=0,H=B.length;W<H-1;W++){if(JC(u,B[W],B[W+1]))return!1;(b=B[W])[1]>(m=u)[1]!=(k=B[W+1])[1]>m[1]&&m[0]<(k[0]-b[0])*(m[1]-b[1])/(k[1]-b[1])+b[0]&&(d=!d)}}var m,b,k;return d}function Qg(u,l){for(let d=0;d<l.length;d++)if(Jg(u,l[d]))return!0;return!1}function Rx(u,l,d,m){const b=m[0]-d[0],k=m[1]-d[1],T=(u[0]-d[0])*k-b*(u[1]-d[1]),D=(l[0]-d[0])*k-b*(l[1]-d[1]);return T>0&&D<0||T<0&&D>0}function QC(u,l,d){for(const W of d)for(let H=0;H<W.length-1;++H)if((D=[(T=W[H+1])[0]-(k=W[H])[0],T[1]-k[1]])[0]*(B=[(b=l)[0]-(m=u)[0],b[1]-m[1]])[1]-D[1]*B[0]!=0&&Rx(m,b,k,T)&&Rx(k,T,m,b))return!0;var m,b,k,T,D,B;return!1}function Dx(u,l){for(let d=0;d<u.length;++d)if(!Jg(u[d],l))return!1;for(let d=0;d<u.length-1;++d)if(QC(u[d],u[d+1],l))return!1;return!0}function Lx(u,l){for(let d=0;d<l.length;d++)if(Dx(u,l[d]))return!0;return!1}function jh(u,l,d){const m=[];for(let b=0;b<u.length;b++){const k=[];for(let T=0;T<u[b].length;T++){const D=$x(u[b][T],d);Xg(l,D),k.push(D)}m.push(k)}return m}function jx(u,l,d){const m=[];for(let b=0;b<u.length;b++){const k=jh(u[b],l,d);m.push(k)}return m}function Nx(u,l,d,m){if(u[0]<d[0]||u[0]>d[2]){const b=.5*m;let k=u[0]-d[0]>b?-m:d[0]-u[0]>b?m:0;k===0&&(k=u[0]-d[2]>b?-m:d[2]-u[0]>b?m:0),u[0]+=k}Xg(l,u)}function ey(u,l,d,m){const b=Math.pow(2,m.z)*Dl,k=[m.x*Dl,m.y*Dl],T=[];for(const D of u)for(const B of D){const W=[B.x+k[0],B.y+k[1]];Nx(W,l,d,b),T.push(W)}return T}function ty(u,l,d,m){const b=Math.pow(2,m.z)*Dl,k=[m.x*Dl,m.y*Dl],T=[];for(const B of u){const W=[];for(const H of B){const Z=[H.x+k[0],H.y+k[1]];Xg(l,Z),W.push(Z)}T.push(W)}if(l[2]-l[0]<=b/2){(D=l)[0]=D[1]=1/0,D[2]=D[3]=-1/0;for(const B of T)for(const W of B)Nx(W,l,d,b)}var D;return T}class bc{constructor(l,d){this.type=dn,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Mu(l[1])){const m=l[1];if(m.type==="FeatureCollection")for(let b=0;b<m.features.length;++b){const k=m.features[b].geometry.type;if(k==="Polygon"||k==="MultiPolygon")return new bc(m,m.features[b].geometry)}else if(m.type==="Feature"){const b=m.geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new bc(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new bc(m,m)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,m){const b=[1/0,1/0,-1/0,-1/0],k=[1/0,1/0,-1/0,-1/0],T=d.canonicalID();if(m.type==="Polygon"){const D=jh(m.coordinates,k,T),B=ey(d.geometry(),b,k,T);if(!tf(b,k))return!1;for(const W of B)if(!Jg(W,D))return!1}if(m.type==="MultiPolygon"){const D=jx(m.coordinates,k,T),B=ey(d.geometry(),b,k,T);if(!tf(b,k))return!1;for(const W of B)if(!Qg(W,D))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,m){const b=[1/0,1/0,-1/0,-1/0],k=[1/0,1/0,-1/0,-1/0],T=d.canonicalID();if(m.type==="Polygon"){const D=jh(m.coordinates,k,T),B=ty(d.geometry(),b,k,T);if(!tf(b,k))return!1;for(const W of B)if(!Dx(W,D))return!1}if(m.type==="MultiPolygon"){const D=jx(m.coordinates,k,T),B=ty(d.geometry(),b,k,T);if(!tf(b,k))return!1;for(const W of B)if(!Lx(W,D))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Nh{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const m=l[1];return d.scope.has(m)?new Nh(m,d.scope.get(m)):d.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class ma{constructor(l,d,m,b){this.name=l,this.type=d,this._evaluate=m,this.args=b}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const m=l[0],b=ma.definitions[m];if(!b)return d.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const k=Array.isArray(b)?b[0]:b.type,T=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,D=T.filter(([W])=>!Array.isArray(W)||W.length===l.length-1);let B=null;for(const[W,H]of D){B=new Dh(d.registry,zh,d.path,null,d.scope);const Z=[];let ee=!1;for(let ie=1;ie<l.length;ie++){const oe=l[ie],ce=Array.isArray(W)?W[ie-1]:W.type,ge=B.parse(oe,1+Z.length,ce);if(!ge){ee=!0;break}Z.push(ge)}if(!ee)if(Array.isArray(W)&&W.length!==Z.length)B.error(`Expected ${W.length} arguments, but found ${Z.length} instead.`);else{for(let ie=0;ie<Z.length;ie++){const oe=Array.isArray(W)?W[ie]:W.type,ce=Z[ie];B.concat(ie+1).checkSubtype(oe,ce.type)}if(B.errors.length===0)return new ma(m,k,H,Z)}}if(D.length===1)d.errors.push(...B.errors);else{const W=(D.length?D:T).map(([Z])=>{return ee=Z,Array.isArray(ee)?`(${ee.map(ye).join(", ")})`:`(${ye(ee.type)}...)`;var ee}).join(" | "),H=[];for(let Z=1;Z<l.length;Z++){const ee=d.parse(l[Z],1+H.length);if(!ee)return null;H.push(ye(ee.type))}d.error(`Expected arguments of type ${W}, but found (${H.join(", ")}) instead.`)}return null}static register(l,d){ma.definitions=d;for(const m in d)l[m]=ma}}function zh(u){if(u instanceof Nh)return zh(u.boundExpression);if(u instanceof ma&&u.name==="error"||u instanceof Lh||u instanceof bc)return!1;const l=u instanceof Rl||u instanceof pa;let d=!0;return u.eachChild(m=>{d=l?d&&zh(m):d&&m instanceof vc}),!!d&&Bh(u)&&Fh(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Bh(u){if(u instanceof ma&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof bc)return!1;let l=!0;return u.eachChild(d=>{l&&!Bh(d)&&(l=!1)}),l}function nf(u){if(u instanceof ma&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(d=>{l&&!nf(d)&&(l=!1)}),l}function Fh(u,l){if(u instanceof ma&&l.indexOf(u.name)>=0)return!1;let d=!0;return u.eachChild(m=>{d&&!Fh(m,l)&&(d=!1)}),d}function Au(u,l){const d=u.length-1;let m,b,k=0,T=d,D=0;for(;k<=T;)if(D=Math.floor((k+T)/2),m=u[D],b=u[D+1],m<=l){if(D===d||l<b)return D;k=D+1}else{if(!(m>l))throw new jr("Input is not a number.");T=D-1}return 0}class Ll{constructor(l,d,m){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[b,k]of m)this.labels.push(b),this.outputs.push(k)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const m=d.parse(l[1],1,dt);if(!m)return null;const b=[];let k=null;d.expectedType&&d.expectedType.kind!=="value"&&(k=d.expectedType);for(let T=1;T<l.length;T+=2){const D=T===1?-1/0:l[T],B=l[T+1],W=T,H=T+1;if(typeof D!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(b.length&&b[b.length-1][0]>=D)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',W);const Z=d.parse(B,H,k);if(!Z)return null;k=k||Z.type,b.push([D,Z])}return new Ll(k,m,b)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const b=this.input.evaluate(l);if(b<=d[0])return m[0].evaluate(l);const k=d.length;return b>=d[k-1]?m[k-1].evaluate(l):m[Au(d,b)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function In(u,l,d){return u+d*(l-u)}function Uh(u,l,d){return u.map((m,b)=>In(m,l[b],d))}const qo={number:In,color:function(u,l,d,m="rgb"){switch(m){case"rgb":{const[b,k,T,D]=Uh(u.rgb,l.rgb,d);return new Jn(b,k,T,D,!1)}case"hcl":{const[b,k,T,D]=u.hcl,[B,W,H,Z]=l.hcl;let ee,ie;if(isNaN(b)||isNaN(B))isNaN(b)?isNaN(B)?ee=NaN:(ee=B,T!==1&&T!==0||(ie=W)):(ee=b,H!==1&&H!==0||(ie=k));else{let Re=B-b;B>b&&Re>180?Re-=360:B<b&&b-B>180&&(Re+=360),ee=b+d*Re}const[oe,ce,ge,_e]=function([Re,Te,Le,ze]){return Re=isNaN(Re)?0:Re*cn,or([Le,Math.cos(Re)*Te,Math.sin(Re)*Te,ze])}([ee,ie??In(k,W,d),In(T,H,d),In(D,Z,d)]);return new Jn(oe,ce,ge,_e,!1)}case"lab":{const[b,k,T,D]=or(Uh(u.lab,l.lab,d));return new Jn(b,k,T,D,!1)}}},array:Uh,padding:function(u,l,d){return new Wo(Uh(u.values,l.values,d))},variableAnchorOffsetCollection:function(u,l,d){const m=u.values,b=l.values;if(m.length!==b.length)throw new jr(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${l.toString()}`);const k=[];for(let T=0;T<m.length;T+=2){if(m[T]!==b[T])throw new jr(`Cannot interpolate values containing mismatched anchors. from[${T}]: ${m[T]}, to[${T}]: ${b[T]}`);k.push(m[T]);const[D,B]=m[T+1],[W,H]=b[T+1];k.push([In(D,W,d),In(B,H,d)])}return new ha(k)}};class Go{constructor(l,d,m,b,k){this.type=l,this.operator=d,this.interpolation=m,this.input=b,this.labels=[],this.outputs=[];for(const[T,D]of k)this.labels.push(T),this.outputs.push(D)}static interpolationFactor(l,d,m,b){let k=0;if(l.name==="exponential")k=ny(d,l.base,m,b);else if(l.name==="linear")k=ny(d,1,m,b);else if(l.name==="cubic-bezier"){const T=l.controlPoints;k=new S(T[0],T[1],T[2],T[3]).solve(ny(d,1,m,b))}return k}static parse(l,d){let[m,b,k,...T]=l;if(!Array.isArray(b)||b.length===0)return d.error("Expected an interpolation type expression.",1);if(b[0]==="linear")b={name:"linear"};else if(b[0]==="exponential"){const W=b[1];if(typeof W!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);b={name:"exponential",base:W}}else{if(b[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(b[0])}`,1,0);{const W=b.slice(1);if(W.length!==4||W.some(H=>typeof H!="number"||H<0||H>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);b={name:"cubic-bezier",controlPoints:W}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(k=d.parse(k,2,dt),!k)return null;const D=[];let B=null;m==="interpolate-hcl"||m==="interpolate-lab"?B=Li:d.expectedType&&d.expectedType.kind!=="value"&&(B=d.expectedType);for(let W=0;W<T.length;W+=2){const H=T[W],Z=T[W+1],ee=W+3,ie=W+4;if(typeof H!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ee);if(D.length&&D[D.length-1][0]>=H)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ee);const oe=d.parse(Z,ie,B);if(!oe)return null;B=B||oe.type,D.push([H,oe])}return qe(B,dt)||qe(B,Li)||qe(B,J)||qe(B,se)||qe(B,me(dt))?new Go(B,m,b,k,D):d.error(`Type ${ye(B)} is not interpolatable.`)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const b=this.input.evaluate(l);if(b<=d[0])return m[0].evaluate(l);const k=d.length;if(b>=d[k-1])return m[k-1].evaluate(l);const T=Au(d,b),D=Go.interpolationFactor(this.interpolation,b,d[T],d[T+1]),B=m[T].evaluate(l),W=m[T+1].evaluate(l);switch(this.operator){case"interpolate":return qo[this.type.kind](B,W,D);case"interpolate-hcl":return qo.color(B,W,D,"hcl");case"interpolate-lab":return qo.color(B,W,D,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function ny(u,l,d,m){const b=m-d,k=u-d;return b===0?0:l===1?k/b:(Math.pow(l,k)-1)/(Math.pow(l,b)-1)}class Vh{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let m=null;const b=d.expectedType;b&&b.kind!=="value"&&(m=b);const k=[];for(const D of l.slice(1)){const B=d.parse(D,1+k.length,m,void 0,{typeAnnotation:"omit"});if(!B)return null;m=m||B.type,k.push(B)}if(!m)throw new Error("No output type");const T=b&&k.some(D=>Pe(b,D.type));return new Vh(T?fn:m,k)}evaluate(l){let d,m=null,b=0;for(const k of this.args)if(b++,m=k.evaluate(l),m&&m instanceof ji&&!m.available&&(d||(d=m.name),m=null,b===this.args.length&&(m=d)),m!==null)break;return m}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Wh{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const m=[];for(let k=1;k<l.length-1;k+=2){const T=l[k];if(typeof T!="string")return d.error(`Expected string, but found ${typeof T} instead.`,k);if(/[^a-zA-Z0-9_]/.test(T))return d.error("Variable names must contain only alphanumeric characters or '_'.",k);const D=d.parse(l[k+1],k+1);if(!D)return null;m.push([T,D])}const b=d.parse(l[l.length-1],l.length-1,d.expectedType,m);return b?new Wh(m,b):null}outputDefined(){return this.result.outputDefined()}}class ry{constructor(l,d,m){this.type=l,this.index=d,this.input=m}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,dt),b=d.parse(l[2],2,me(d.expectedType||fn));return m&&b?new ry(b.type.itemType,m,b):null}evaluate(l){const d=this.index.evaluate(l),m=this.input.evaluate(l);if(d<0)throw new jr(`Array index out of bounds: ${d} < 0.`);if(d>=m.length)throw new jr(`Array index out of bounds: ${d} > ${m.length-1}.`);if(d!==Math.floor(d))throw new jr(`Array index must be an integer, but found ${d} instead.`);return m[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class iy{constructor(l,d){this.type=dn,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,fn),b=d.parse(l[2],2,fn);return m&&b?xe(m.type,[dn,hn,dt,ui,fn])?new iy(m,b):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ye(m.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!m)return!1;if(!Ae(d,["boolean","string","number","null"]))throw new jr(`Expected first argument to be of type boolean, string, number or null, but found ${ye(Mr(d))} instead.`);if(!Ae(m,["string","array"]))throw new jr(`Expected second argument to be of type array or string, but found ${ye(Mr(m))} instead.`);return m.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class qh{constructor(l,d,m){this.type=dt,this.needle=l,this.haystack=d,this.fromIndex=m}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,fn),b=d.parse(l[2],2,fn);if(!m||!b)return null;if(!xe(m.type,[dn,hn,dt,ui,fn]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ye(m.type)} instead`);if(l.length===4){const k=d.parse(l[3],3,dt);return k?new qh(m,b,k):null}return new qh(m,b)}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!Ae(d,["boolean","string","number","null"]))throw new jr(`Expected first argument to be of type boolean, string, number or null, but found ${ye(Mr(d))} instead.`);if(!Ae(m,["string","array"]))throw new jr(`Expected second argument to be of type array or string, but found ${ye(Mr(m))} instead.`);if(this.fromIndex){const b=this.fromIndex.evaluate(l);return m.indexOf(d,b)}return m.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class oy{constructor(l,d,m,b,k,T){this.inputType=l,this.type=d,this.input=m,this.cases=b,this.outputs=k,this.otherwise=T}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let m,b;d.expectedType&&d.expectedType.kind!=="value"&&(b=d.expectedType);const k={},T=[];for(let W=2;W<l.length-1;W+=2){let H=l[W];const Z=l[W+1];Array.isArray(H)||(H=[H]);const ee=d.concat(W);if(H.length===0)return ee.error("Expected at least one branch label.");for(const oe of H){if(typeof oe!="number"&&typeof oe!="string")return ee.error("Branch labels must be numbers or strings.");if(typeof oe=="number"&&Math.abs(oe)>Number.MAX_SAFE_INTEGER)return ee.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof oe=="number"&&Math.floor(oe)!==oe)return ee.error("Numeric branch labels must be integer values.");if(m){if(ee.checkSubtype(m,Mr(oe)))return null}else m=Mr(oe);if(k[String(oe)]!==void 0)return ee.error("Branch labels must be unique.");k[String(oe)]=T.length}const ie=d.parse(Z,W,b);if(!ie)return null;b=b||ie.type,T.push(ie)}const D=d.parse(l[1],1,fn);if(!D)return null;const B=d.parse(l[l.length-1],l.length-1,b);return B?D.type.kind!=="value"&&d.concat(1).checkSubtype(m,D.type)?null:new oy(m,b,D,k,T,B):null}evaluate(l){const d=this.input.evaluate(l);return(Mr(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class ay{constructor(l,d,m){this.type=l,this.branches=d,this.otherwise=m}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let m;d.expectedType&&d.expectedType.kind!=="value"&&(m=d.expectedType);const b=[];for(let T=1;T<l.length-1;T+=2){const D=d.parse(l[T],T,dn);if(!D)return null;const B=d.parse(l[T+1],T+1,m);if(!B)return null;b.push([D,B]),m=m||B.type}const k=d.parse(l[l.length-1],l.length-1,m);if(!k)return null;if(!m)throw new Error("Can't infer output type");return new ay(m,b,k)}evaluate(l){for(const[d,m]of this.branches)if(d.evaluate(l))return m.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,m]of this.branches)l(d),l(m);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Gh{constructor(l,d,m,b){this.type=l,this.input=d,this.beginIndex=m,this.endIndex=b}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,fn),b=d.parse(l[2],2,dt);if(!m||!b)return null;if(!xe(m.type,[me(fn),hn,fn]))return d.error(`Expected first argument to be of type array or string, but found ${ye(m.type)} instead`);if(l.length===4){const k=d.parse(l[3],3,dt);return k?new Gh(m.type,m,b,k):null}return new Gh(m.type,m,b)}evaluate(l){const d=this.input.evaluate(l),m=this.beginIndex.evaluate(l);if(!Ae(d,["string","array"]))throw new jr(`Expected first argument to be of type array or string, but found ${ye(Mr(d))} instead.`);if(this.endIndex){const b=this.endIndex.evaluate(l);return d.slice(m,b)}return d.slice(m)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function zx(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Bx(u,l,d,m){return m.compare(l,d)===0}function Iu(u,l,d){const m=u!=="=="&&u!=="!=";return class q7{constructor(k,T,D){this.type=dn,this.lhs=k,this.rhs=T,this.collator=D,this.hasUntypedArgument=k.type.kind==="value"||T.type.kind==="value"}static parse(k,T){if(k.length!==3&&k.length!==4)return T.error("Expected two or three arguments.");const D=k[0];let B=T.parse(k[1],1,fn);if(!B)return null;if(!zx(D,B.type))return T.concat(1).error(`"${D}" comparisons are not supported for type '${ye(B.type)}'.`);let W=T.parse(k[2],2,fn);if(!W)return null;if(!zx(D,W.type))return T.concat(2).error(`"${D}" comparisons are not supported for type '${ye(W.type)}'.`);if(B.type.kind!==W.type.kind&&B.type.kind!=="value"&&W.type.kind!=="value")return T.error(`Cannot compare types '${ye(B.type)}' and '${ye(W.type)}'.`);m&&(B.type.kind==="value"&&W.type.kind!=="value"?B=new pa(W.type,[B]):B.type.kind!=="value"&&W.type.kind==="value"&&(W=new pa(B.type,[W])));let H=null;if(k.length===4){if(B.type.kind!=="string"&&W.type.kind!=="string"&&B.type.kind!=="value"&&W.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(H=T.parse(k[3],3,da),!H)return null}return new q7(B,W,H)}evaluate(k){const T=this.lhs.evaluate(k),D=this.rhs.evaluate(k);if(m&&this.hasUntypedArgument){const B=Mr(T),W=Mr(D);if(B.kind!==W.kind||B.kind!=="string"&&B.kind!=="number")throw new jr(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${B.kind}, ${W.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const B=Mr(T),W=Mr(D);if(B.kind!=="string"||W.kind!=="string")return l(k,T,D)}return this.collator?d(k,T,D,this.collator.evaluate(k)):l(k,T,D)}eachChild(k){k(this.lhs),k(this.rhs),this.collator&&k(this.collator)}outputDefined(){return!0}}}const eT=Iu("==",function(u,l,d){return l===d},Bx),tT=Iu("!=",function(u,l,d){return l!==d},function(u,l,d,m){return!Bx(0,l,d,m)}),nT=Iu("<",function(u,l,d){return l<d},function(u,l,d,m){return m.compare(l,d)<0}),rT=Iu(">",function(u,l,d){return l>d},function(u,l,d,m){return m.compare(l,d)>0}),iT=Iu("<=",function(u,l,d){return l<=d},function(u,l,d,m){return m.compare(l,d)<=0}),oT=Iu(">=",function(u,l,d){return l>=d},function(u,l,d,m){return m.compare(l,d)>=0});class sy{constructor(l,d,m,b,k){this.type=hn,this.number=l,this.locale=d,this.currency=m,this.minFractionDigits=b,this.maxFractionDigits=k}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const m=d.parse(l[1],1,dt);if(!m)return null;const b=l[2];if(typeof b!="object"||Array.isArray(b))return d.error("NumberFormat options argument must be an object.");let k=null;if(b.locale&&(k=d.parse(b.locale,1,hn),!k))return null;let T=null;if(b.currency&&(T=d.parse(b.currency,1,hn),!T))return null;let D=null;if(b["min-fraction-digits"]&&(D=d.parse(b["min-fraction-digits"],1,dt),!D))return null;let B=null;return b["max-fraction-digits"]&&(B=d.parse(b["max-fraction-digits"],1,dt),!B)?null:new sy(m,k,T,D,B)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Hh{constructor(l){this.type=he,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[1];if(!Array.isArray(m)&&typeof m=="object")return d.error("First argument must be an image or text section.");const b=[];let k=!1;for(let T=1;T<=l.length-1;++T){const D=l[T];if(k&&typeof D=="object"&&!Array.isArray(D)){k=!1;let B=null;if(D["font-scale"]&&(B=d.parse(D["font-scale"],1,dt),!B))return null;let W=null;if(D["text-font"]&&(W=d.parse(D["text-font"],1,me(hn)),!W))return null;let H=null;if(D["text-color"]&&(H=d.parse(D["text-color"],1,Li),!H))return null;const Z=b[b.length-1];Z.scale=B,Z.font=W,Z.textColor=H}else{const B=d.parse(l[T],1,fn);if(!B)return null;const W=B.type.kind;if(W!=="string"&&W!=="value"&&W!=="null"&&W!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");k=!0,b.push({content:B,scale:null,font:null,textColor:null})}}return new Hh(b)}evaluate(l){return new Ki(this.sections.map(d=>{const m=d.content.evaluate(l);return Mr(m)===ne?new Ih("",m,null,null,null):new Ih(Bn(m),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class ly{constructor(l){this.type=ne,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const m=d.parse(l[1],1,hn);return m?new ly(m):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),m=ji.fromString(d);return m&&l.availableImages&&(m.available=l.availableImages.indexOf(d)>-1),m}eachChild(l){l(this.input)}outputDefined(){return!1}}class cy{constructor(l){this.type=dt,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=d.parse(l[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${ye(m.type)} instead.`):new cy(m):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new jr(`Expected value to be of type string or array, but found ${ye(Mr(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const $u={"==":eT,"!=":tT,">":rT,"<":nT,">=":oT,"<=":iT,array:pa,at:ry,boolean:pa,case:ay,coalesce:Vh,collator:Lh,format:Hh,image:ly,in:iy,"index-of":qh,interpolate:Go,"interpolate-hcl":Go,"interpolate-lab":Go,length:cy,let:Wh,literal:vc,match:oy,number:pa,"number-format":sy,object:pa,slice:Gh,step:Ll,string:pa,"to-boolean":Rl,"to-color":Rl,"to-number":Rl,"to-string":Rl,var:Nh,within:bc};function Fx(u,[l,d,m,b]){l=l.evaluate(u),d=d.evaluate(u),m=m.evaluate(u);const k=b?b.evaluate(u):1,T=$h(l,d,m,k);if(T)throw new jr(T);return new Jn(l/255,d/255,m/255,k,!1)}function Ux(u,l){return u in l}function uy(u,l){const d=l[u];return d===void 0?null:d}function xc(u){return{type:u}}function Vx(u){return{result:"success",value:u}}function jl(u){return{result:"error",value:u}}function Ru(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function Wx(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function dy(u){return!!u.expression&&u.expression.interpolated}function Fn(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Ar(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function aT(u){return u}function $n(u,l){const d=l.type==="color",m=u.stops&&typeof u.stops[0][0]=="object",b=m||!(m||u.property!==void 0),k=u.type||(dy(l)?"exponential":"interval");if(d||l.type==="padding"){const H=d?Jn.parse:Wo.parse;(u=zt({},u)).stops&&(u.stops=u.stops.map(Z=>[Z[0],H(Z[1])])),u.default=H(u.default?u.default:l.default)}if(u.colorSpace&&(T=u.colorSpace)!=="rgb"&&T!=="hcl"&&T!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var T;let D,B,W;if(k==="exponential")D=rf;else if(k==="interval")D=Pr;else if(k==="categorical"){D=Ir,B=Object.create(null);for(const H of u.stops)B[H[0]]=H[1];W=typeof u.stops[0][0]}else{if(k!=="identity")throw new Error(`Unknown function type "${k}"`);D=qx}if(m){const H={},Z=[];for(let oe=0;oe<u.stops.length;oe++){const ce=u.stops[oe],ge=ce[0].zoom;H[ge]===void 0&&(H[ge]={zoom:ge,type:u.type,property:u.property,default:u.default,stops:[]},Z.push(ge)),H[ge].stops.push([ce[0].value,ce[1]])}const ee=[];for(const oe of Z)ee.push([H[oe].zoom,$n(H[oe],l)]);const ie={name:"linear"};return{kind:"composite",interpolationType:ie,interpolationFactor:Go.interpolationFactor.bind(void 0,ie),zoomStops:ee.map(oe=>oe[0]),evaluate:({zoom:oe},ce)=>rf({stops:ee,base:u.base},l,oe).evaluate(oe,ce)}}if(b){const H=k==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:H,interpolationFactor:Go.interpolationFactor.bind(void 0,H),zoomStops:u.stops.map(Z=>Z[0]),evaluate:({zoom:Z})=>D(u,l,Z,B,W)}}return{kind:"source",evaluate(H,Z){const ee=Z&&Z.properties?Z.properties[u.property]:void 0;return ee===void 0?_c(u.default,l.default):D(u,l,ee,B,W)}}}function _c(u,l,d){return u!==void 0?u:l!==void 0?l:d!==void 0?d:void 0}function Ir(u,l,d,m,b){return _c(typeof d===b?m[d]:void 0,u.default,l.default)}function Pr(u,l,d){if(Fn(d)!=="number")return _c(u.default,l.default);const m=u.stops.length;if(m===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[m-1][0])return u.stops[m-1][1];const b=Au(u.stops.map(k=>k[0]),d);return u.stops[b][1]}function rf(u,l,d){const m=u.base!==void 0?u.base:1;if(Fn(d)!=="number")return _c(u.default,l.default);const b=u.stops.length;if(b===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[b-1][0])return u.stops[b-1][1];const k=Au(u.stops.map(H=>H[0]),d),T=function(H,Z,ee,ie){const oe=ie-ee,ce=H-ee;return oe===0?0:Z===1?ce/oe:(Math.pow(Z,ce)-1)/(Math.pow(Z,oe)-1)}(d,m,u.stops[k][0],u.stops[k+1][0]),D=u.stops[k][1],B=u.stops[k+1][1],W=qo[l.type]||aT;return typeof D.evaluate=="function"?{evaluate(...H){const Z=D.evaluate.apply(void 0,H),ee=B.evaluate.apply(void 0,H);if(Z!==void 0&&ee!==void 0)return W(Z,ee,T,u.colorSpace)}}:W(D,B,T,u.colorSpace)}function qx(u,l,d){switch(l.type){case"color":d=Jn.parse(d);break;case"formatted":d=Ki.fromString(d.toString());break;case"resolvedImage":d=ji.fromString(d.toString());break;case"padding":d=Wo.parse(d);break;default:Fn(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return _c(d,u.default,l.default)}ma.register($u,{error:[{kind:"error"},[hn],(u,[l])=>{throw new jr(l.evaluate(u))}],typeof:[hn,[fn],(u,[l])=>ye(Mr(l.evaluate(u)))],"to-rgba":[me(dt,4),[Li],(u,[l])=>{const[d,m,b,k]=l.evaluate(u).rgb;return[255*d,255*m,255*b,k]}],rgb:[Li,[dt,dt,dt],Fx],rgba:[Li,[dt,dt,dt,dt],Fx],has:{type:dn,overloads:[[[hn],(u,[l])=>Ux(l.evaluate(u),u.properties())],[[hn,ua],(u,[l,d])=>Ux(l.evaluate(u),d.evaluate(u))]]},get:{type:fn,overloads:[[[hn],(u,[l])=>uy(l.evaluate(u),u.properties())],[[hn,ua],(u,[l,d])=>uy(l.evaluate(u),d.evaluate(u))]]},"feature-state":[fn,[hn],(u,[l])=>uy(l.evaluate(u),u.featureState||{})],properties:[ua,[],u=>u.properties()],"geometry-type":[hn,[],u=>u.geometryType()],id:[fn,[],u=>u.id()],zoom:[dt,[],u=>u.globals.zoom],"heatmap-density":[dt,[],u=>u.globals.heatmapDensity||0],"line-progress":[dt,[],u=>u.globals.lineProgress||0],accumulated:[fn,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[dt,xc(dt),(u,l)=>{let d=0;for(const m of l)d+=m.evaluate(u);return d}],"*":[dt,xc(dt),(u,l)=>{let d=1;for(const m of l)d*=m.evaluate(u);return d}],"-":{type:dt,overloads:[[[dt,dt],(u,[l,d])=>l.evaluate(u)-d.evaluate(u)],[[dt],(u,[l])=>-l.evaluate(u)]]},"/":[dt,[dt,dt],(u,[l,d])=>l.evaluate(u)/d.evaluate(u)],"%":[dt,[dt,dt],(u,[l,d])=>l.evaluate(u)%d.evaluate(u)],ln2:[dt,[],()=>Math.LN2],pi:[dt,[],()=>Math.PI],e:[dt,[],()=>Math.E],"^":[dt,[dt,dt],(u,[l,d])=>Math.pow(l.evaluate(u),d.evaluate(u))],sqrt:[dt,[dt],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[dt,[dt],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[dt,[dt],(u,[l])=>Math.log(l.evaluate(u))],log2:[dt,[dt],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[dt,[dt],(u,[l])=>Math.sin(l.evaluate(u))],cos:[dt,[dt],(u,[l])=>Math.cos(l.evaluate(u))],tan:[dt,[dt],(u,[l])=>Math.tan(l.evaluate(u))],asin:[dt,[dt],(u,[l])=>Math.asin(l.evaluate(u))],acos:[dt,[dt],(u,[l])=>Math.acos(l.evaluate(u))],atan:[dt,[dt],(u,[l])=>Math.atan(l.evaluate(u))],min:[dt,xc(dt),(u,l)=>Math.min(...l.map(d=>d.evaluate(u)))],max:[dt,xc(dt),(u,l)=>Math.max(...l.map(d=>d.evaluate(u)))],abs:[dt,[dt],(u,[l])=>Math.abs(l.evaluate(u))],round:[dt,[dt],(u,[l])=>{const d=l.evaluate(u);return d<0?-Math.round(-d):Math.round(d)}],floor:[dt,[dt],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[dt,[dt],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[dn,[hn,fn],(u,[l,d])=>u.properties()[l.value]===d.value],"filter-id-==":[dn,[fn],(u,[l])=>u.id()===l.value],"filter-type-==":[dn,[hn],(u,[l])=>u.geometryType()===l.value],"filter-<":[dn,[hn,fn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m<b}],"filter-id-<":[dn,[fn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<m}],"filter->":[dn,[hn,fn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m>b}],"filter-id->":[dn,[fn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>m}],"filter-<=":[dn,[hn,fn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m<=b}],"filter-id-<=":[dn,[fn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<=m}],"filter->=":[dn,[hn,fn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m>=b}],"filter-id->=":[dn,[fn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>=m}],"filter-has":[dn,[fn],(u,[l])=>l.value in u.properties()],"filter-has-id":[dn,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[dn,[me(hn)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[dn,[me(fn)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[dn,[hn,me(fn)],(u,[l,d])=>d.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[dn,[hn,me(fn)],(u,[l,d])=>function(m,b,k,T){for(;k<=T;){const D=k+T>>1;if(b[D]===m)return!0;b[D]>m?T=D-1:k=D+1}return!1}(u.properties()[l.value],d.value,0,d.value.length-1)],all:{type:dn,overloads:[[[dn,dn],(u,[l,d])=>l.evaluate(u)&&d.evaluate(u)],[xc(dn),(u,l)=>{for(const d of l)if(!d.evaluate(u))return!1;return!0}]]},any:{type:dn,overloads:[[[dn,dn],(u,[l,d])=>l.evaluate(u)||d.evaluate(u)],[xc(dn),(u,l)=>{for(const d of l)if(d.evaluate(u))return!0;return!1}]]},"!":[dn,[dn],(u,[l])=>!l.evaluate(u)],"is-supported-script":[dn,[hn],(u,[l])=>{const d=u.globals&&u.globals.isSupportedScript;return!d||d(l.evaluate(u))}],upcase:[hn,[hn],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[hn,[hn],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[hn,xc(fn),(u,l)=>l.map(d=>Bn(d.evaluate(u))).join("")],"resolved-locale":[hn,[da],(u,[l])=>l.evaluate(u).resolvedLocale()]});class fy{constructor(l,d){var m;this.expression=l,this._warningHistory={},this._evaluator=new Zg,this._defaultValue=d?(m=d).type==="color"&&Ar(m.default)?new Jn(0,0,0,0):m.type==="color"?Jn.parse(m.default)||null:m.type==="padding"?Wo.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?ha.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,m,b,k,T){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=m,this._evaluator.canonical=b,this._evaluator.availableImages=k||null,this._evaluator.formattedSection=T,this.expression.evaluate(this._evaluator)}evaluate(l,d,m,b,k,T){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=m||null,this._evaluator.canonical=b,this._evaluator.availableImages=k||null,this._evaluator.formattedSection=T||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new jr(`Expected value to be one of ${Object.keys(this._enumValues).map(B=>JSON.stringify(B)).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(D.message)),this._defaultValue}}}function Yh(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in $u}function Kh(u,l){const d=new Dh($u,zh,[],l?function(b){const k={color:Li,string:hn,number:dt,enum:hn,boolean:dn,formatted:he,padding:J,resolvedImage:ne,variableAnchorOffsetCollection:se};return b.type==="array"?me(k[b.value]||fn,b.length):k[b.type]}(l):void 0),m=d.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?Vx(new fy(m,l)):jl(d.errors)}class hy{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!nf(d.expression)}evaluateWithoutErrorHandling(l,d,m,b,k,T){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,b,k,T)}evaluate(l,d,m,b,k,T){return this._styleExpression.evaluate(l,d,m,b,k,T)}}class Zh{constructor(l,d,m,b){this.kind=l,this.zoomStops=m,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!nf(d.expression),this.interpolationType=b}evaluateWithoutErrorHandling(l,d,m,b,k,T){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,b,k,T)}evaluate(l,d,m,b,k,T){return this._styleExpression.evaluate(l,d,m,b,k,T)}interpolationFactor(l,d,m){return this.interpolationType?Go.interpolationFactor(this.interpolationType,l,d,m):0}}function py(u,l){const d=Kh(u,l);if(d.result==="error")return d;const m=d.value.expression,b=Bh(m);if(!b&&!Ru(l))return jl([new ln("","data expressions not supported")]);const k=Fh(m,["zoom"]);if(!k&&!Wx(l))return jl([new ln("","zoom expressions not supported")]);const T=af(m);return T||k?T instanceof ln?jl([T]):T instanceof Go&&!dy(l)?jl([new ln("",'"interpolate" expressions cannot be used with this property')]):Vx(T?new Zh(b?"camera":"composite",d.value,T.labels,T instanceof Go?T.interpolation:void 0):new hy(b?"constant":"source",d.value)):jl([new ln("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class of{constructor(l,d){this._parameters=l,this._specification=d,zt(this,$n(this._parameters,this._specification))}static deserialize(l){return new of(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function af(u){let l=null;if(u instanceof Wh)l=af(u.result);else if(u instanceof Vh){for(const d of u.args)if(l=af(d),l)break}else(u instanceof Ll||u instanceof Go)&&u.input instanceof ma&&u.input.name==="zoom"&&(l=u);return l instanceof ln||u.eachChild(d=>{const m=af(d);m instanceof ln?l=m:!l&&m?l=new ln("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&m&&l!==m&&(l=new ln("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function sf(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const l of u.slice(1))if(!sf(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const sT={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function my(u){if(u==null)return{filter:()=>!0,needGeometry:!1};sf(u)||(u=Xh(u));const l=Kh(u,sT);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,m,b)=>l.value.evaluate(d,m,{},b),needGeometry:Gx(u)}}function lT(u,l){return u<l?-1:u>l?1:0}function Gx(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let l=1;l<u.length;l++)if(Gx(u[l]))return!0;return!1}function Xh(u){if(!u)return!0;const l=u[0];return u.length<=1?l!=="any":l==="=="?gy(u[1],u[2],"=="):l==="!="?lf(gy(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?gy(u[1],u[2],l):l==="any"?(d=u.slice(1),["any"].concat(d.map(Xh))):l==="all"?["all"].concat(u.slice(1).map(Xh)):l==="none"?["all"].concat(u.slice(1).map(Xh).map(lf)):l==="in"?Hx(u[1],u.slice(2)):l==="!in"?lf(Hx(u[1],u.slice(2))):l==="has"?Yx(u[1]):l==="!has"?lf(Yx(u[1])):l!=="within"||u;var d}function gy(u,l,d){switch(u){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,u,l]}}function Hx(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",u,["literal",l.sort(lT)]]:["filter-in-small",u,["literal",l]]}}function Yx(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function lf(u){return["!",u]}function Jh(u){const l=typeof u;if(l==="number"||l==="boolean"||l==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let b="[";for(const k of u)b+=`${Jh(k)},`;return`${b}]`}const d=Object.keys(u).sort();let m="{";for(let b=0;b<d.length;b++)m+=`${JSON.stringify(d[b])}:${Jh(u[d[b]])},`;return`${m}}`}function Qh(u){let l="";for(const d of an)l+=`/${Jh(u[d])}`;return l}function Kx(u){const l=u.value;return l?[new ot(u.key,l,"constants have been deprecated as of v8")]:[]}function Nr(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function wc(u){if(Array.isArray(u))return u.map(wc);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const l={};for(const d in u)l[d]=wc(u[d]);return l}return Nr(u)}function wo(u){const l=u.key,d=u.value,m=u.valueSpec||{},b=u.objectElementValidators||{},k=u.style,T=u.styleSpec,D=u.validateSpec;let B=[];const W=Fn(d);if(W!=="object")return[new ot(l,d,`object expected, ${W} found`)];for(const H in d){const Z=H.split(".")[0],ee=m[Z]||m["*"];let ie;if(b[Z])ie=b[Z];else if(m[Z])ie=D;else if(b["*"])ie=b["*"];else{if(!m["*"]){B.push(new ot(l,d[H],`unknown property "${H}"`));continue}ie=D}B=B.concat(ie({key:(l&&`${l}.`)+H,value:d[H],valueSpec:ee,style:k,styleSpec:T,object:d,objectKey:H,validateSpec:D},d))}for(const H in m)b[H]||m[H].required&&m[H].default===void 0&&d[H]===void 0&&B.push(new ot(l,d,`missing required property "${H}"`));return B}function Du(u){const l=u.value,d=u.valueSpec,m=u.style,b=u.styleSpec,k=u.key,T=u.arrayElementValidator||u.validateSpec;if(Fn(l)!=="array")return[new ot(k,l,`array expected, ${Fn(l)} found`)];if(d.length&&l.length!==d.length)return[new ot(k,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new ot(k,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let D={type:d.value,values:d.values};b.$version<7&&(D.function=d.function),Fn(d.value)==="object"&&(D=d.value);let B=[];for(let W=0;W<l.length;W++)B=B.concat(T({array:l,arrayIndex:W,value:l[W],valueSpec:D,validateSpec:u.validateSpec,style:m,styleSpec:b,key:`${k}[${W}]`}));return B}function cf(u){const l=u.key,d=u.value,m=u.valueSpec;let b=Fn(d);return b==="number"&&d!=d&&(b="NaN"),b!=="number"?[new ot(l,d,`number expected, ${b} found`)]:"minimum"in m&&d<m.minimum?[new ot(l,d,`${d} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&d>m.maximum?[new ot(l,d,`${d} is greater than the maximum value ${m.maximum}`)]:[]}function ep(u){const l=u.valueSpec,d=Nr(u.value.type);let m,b,k,T={};const D=d!=="categorical"&&u.value.property===void 0,B=!D,W=Fn(u.value.stops)==="array"&&Fn(u.value.stops[0])==="array"&&Fn(u.value.stops[0][0])==="object",H=wo({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(ie){if(d==="identity")return[new ot(ie.key,ie.value,'identity function may not have a "stops" property')];let oe=[];const ce=ie.value;return oe=oe.concat(Du({key:ie.key,value:ce,valueSpec:ie.valueSpec,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,arrayElementValidator:Z})),Fn(ce)==="array"&&ce.length===0&&oe.push(new ot(ie.key,ce,"array must have at least one stop")),oe},default:function(ie){return ie.validateSpec({key:ie.key,value:ie.value,valueSpec:l,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec})}}});return d==="identity"&&D&&H.push(new ot(u.key,u.value,'missing required property "property"')),d==="identity"||u.value.stops||H.push(new ot(u.key,u.value,'missing required property "stops"')),d==="exponential"&&u.valueSpec.expression&&!dy(u.valueSpec)&&H.push(new ot(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(B&&!Ru(u.valueSpec)?H.push(new ot(u.key,u.value,"property functions not supported")):D&&!Wx(u.valueSpec)&&H.push(new ot(u.key,u.value,"zoom functions not supported"))),d!=="categorical"&&!W||u.value.property!==void 0||H.push(new ot(u.key,u.value,'"property" property is required')),H;function Z(ie){let oe=[];const ce=ie.value,ge=ie.key;if(Fn(ce)!=="array")return[new ot(ge,ce,`array expected, ${Fn(ce)} found`)];if(ce.length!==2)return[new ot(ge,ce,`array length 2 expected, length ${ce.length} found`)];if(W){if(Fn(ce[0])!=="object")return[new ot(ge,ce,`object expected, ${Fn(ce[0])} found`)];if(ce[0].zoom===void 0)return[new ot(ge,ce,"object stop key must have zoom")];if(ce[0].value===void 0)return[new ot(ge,ce,"object stop key must have value")];if(k&&k>Nr(ce[0].zoom))return[new ot(ge,ce[0].zoom,"stop zoom values must appear in ascending order")];Nr(ce[0].zoom)!==k&&(k=Nr(ce[0].zoom),b=void 0,T={}),oe=oe.concat(wo({key:`${ge}[0]`,value:ce[0],valueSpec:{zoom:{}},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,objectElementValidators:{zoom:cf,value:ee}}))}else oe=oe.concat(ee({key:`${ge}[0]`,value:ce[0],valueSpec:{},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec},ce));return Yh(wc(ce[1]))?oe.concat([new ot(`${ge}[1]`,ce[1],"expressions are not allowed in function stops.")]):oe.concat(ie.validateSpec({key:`${ge}[1]`,value:ce[1],valueSpec:l,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec}))}function ee(ie,oe){const ce=Fn(ie.value),ge=Nr(ie.value),_e=ie.value!==null?ie.value:oe;if(m){if(ce!==m)return[new ot(ie.key,_e,`${ce} stop domain type must match previous stop domain type ${m}`)]}else m=ce;if(ce!=="number"&&ce!=="string"&&ce!=="boolean")return[new ot(ie.key,_e,"stop domain value must be a number, string, or boolean")];if(ce!=="number"&&d!=="categorical"){let Re=`number expected, ${ce} found`;return Ru(l)&&d===void 0&&(Re+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ot(ie.key,_e,Re)]}return d!=="categorical"||ce!=="number"||isFinite(ge)&&Math.floor(ge)===ge?d!=="categorical"&&ce==="number"&&b!==void 0&&ge<b?[new ot(ie.key,_e,"stop domain values must appear in ascending order")]:(b=ge,d==="categorical"&&ge in T?[new ot(ie.key,_e,"stop domain values must be unique")]:(T[ge]=!0,[])):[new ot(ie.key,_e,`integer expected, found ${ge}`)]}}function Sc(u){const l=(u.expressionContext==="property"?py:Kh)(wc(u.value),u.valueSpec);if(l.result==="error")return l.value.map(m=>new ot(`${u.key}${m.key}`,u.value,m.message));const d=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!d.outputDefined())return[new ot(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!nf(d))return[new ot(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!nf(d))return[new ot(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!Fh(d,["zoom","feature-state"]))return[new ot(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Bh(d))return[new ot(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function uf(u){const l=u.key,d=u.value,m=u.valueSpec,b=[];return Array.isArray(m.values)?m.values.indexOf(Nr(d))===-1&&b.push(new ot(l,d,`expected one of [${m.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(m.values).indexOf(Nr(d))===-1&&b.push(new ot(l,d,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(d)} found`)),b}function Lu(u){return sf(wc(u.value))?Sc(zt({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Zx(u)}function Zx(u){const l=u.value,d=u.key;if(Fn(l)!=="array")return[new ot(d,l,`array expected, ${Fn(l)} found`)];const m=u.styleSpec;let b,k=[];if(l.length<1)return[new ot(d,l,"filter array must have at least 1 element")];switch(k=k.concat(uf({key:`${d}[0]`,value:l[0],valueSpec:m.filter_operator,style:u.style,styleSpec:u.styleSpec})),Nr(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Nr(l[1])==="$type"&&k.push(new ot(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&k.push(new ot(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(b=Fn(l[1]),b!=="string"&&k.push(new ot(`${d}[1]`,l[1],`string expected, ${b} found`)));for(let T=2;T<l.length;T++)b=Fn(l[T]),Nr(l[1])==="$type"?k=k.concat(uf({key:`${d}[${T}]`,value:l[T],valueSpec:m.geometry_type,style:u.style,styleSpec:u.styleSpec})):b!=="string"&&b!=="number"&&b!=="boolean"&&k.push(new ot(`${d}[${T}]`,l[T],`string, number, or boolean expected, ${b} found`));break;case"any":case"all":case"none":for(let T=1;T<l.length;T++)k=k.concat(Zx({key:`${d}[${T}]`,value:l[T],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":b=Fn(l[1]),l.length!==2?k.push(new ot(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):b!=="string"&&k.push(new ot(`${d}[1]`,l[1],`string expected, ${b} found`));break;case"within":b=Fn(l[1]),l.length!==2?k.push(new ot(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):b!=="object"&&k.push(new ot(`${d}[1]`,l[1],`object expected, ${b} found`))}return k}function Xx(u,l){const d=u.key,m=u.validateSpec,b=u.style,k=u.styleSpec,T=u.value,D=u.objectKey,B=k[`${l}_${u.layerType}`];if(!B)return[];const W=D.match(/^(.*)-transition$/);if(l==="paint"&&W&&B[W[1]]&&B[W[1]].transition)return m({key:d,value:T,valueSpec:k.transition,style:b,styleSpec:k});const H=u.valueSpec||B[D];if(!H)return[new ot(d,T,`unknown property "${D}"`)];let Z;if(Fn(T)==="string"&&Ru(H)&&!H.tokens&&(Z=/^{([^}]+)}$/.exec(T)))return[new ot(d,T,`"${D}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Z[1])} }\`.`)];const ee=[];return u.layerType==="symbol"&&(D==="text-field"&&b&&!b.glyphs&&ee.push(new ot(d,T,'use of "text-field" requires a style "glyphs" property')),D==="text-font"&&Ar(wc(T))&&Nr(T.type)==="identity"&&ee.push(new ot(d,T,'"text-font" does not support identity functions'))),ee.concat(m({key:u.key,value:T,valueSpec:H,style:b,styleSpec:k,expressionContext:"property",propertyType:l,propertyKey:D}))}function Jx(u){return Xx(u,"paint")}function Qx(u){return Xx(u,"layout")}function e_(u){let l=[];const d=u.value,m=u.key,b=u.style,k=u.styleSpec;d.type||d.ref||l.push(new ot(m,d,'either "type" or "ref" is required'));let T=Nr(d.type);const D=Nr(d.ref);if(d.id){const B=Nr(d.id);for(let W=0;W<u.arrayIndex;W++){const H=b.layers[W];Nr(H.id)===B&&l.push(new ot(m,d.id,`duplicate layer id "${d.id}", previously used at line ${H.id.__line__}`))}}if("ref"in d){let B;["type","source","source-layer","filter","layout"].forEach(W=>{W in d&&l.push(new ot(m,d[W],`"${W}" is prohibited for ref layers`))}),b.layers.forEach(W=>{Nr(W.id)===D&&(B=W)}),B?B.ref?l.push(new ot(m,d.ref,"ref cannot reference another ref layer")):T=Nr(B.type):l.push(new ot(m,d.ref,`ref layer "${D}" not found`))}else if(T!=="background")if(d.source){const B=b.sources&&b.sources[d.source],W=B&&Nr(B.type);B?W==="vector"&&T==="raster"?l.push(new ot(m,d.source,`layer "${d.id}" requires a raster source`)):W!=="raster-dem"&&T==="hillshade"?l.push(new ot(m,d.source,`layer "${d.id}" requires a raster-dem source`)):W==="raster"&&T!=="raster"?l.push(new ot(m,d.source,`layer "${d.id}" requires a vector source`)):W!=="vector"||d["source-layer"]?W==="raster-dem"&&T!=="hillshade"?l.push(new ot(m,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!d.paint||!d.paint["line-gradient"]||W==="geojson"&&B.lineMetrics||l.push(new ot(m,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new ot(m,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new ot(m,d.source,`source "${d.source}" not found`))}else l.push(new ot(m,d,'missing required property "source"'));return l=l.concat(wo({key:m,value:d,valueSpec:k.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${m}.type`,value:d.type,valueSpec:k.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:d,objectKey:"type"}),filter:Lu,layout:B=>wo({layer:d,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":W=>Qx(zt({layerType:T},W))}}),paint:B=>wo({layer:d,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":W=>Jx(zt({layerType:T},W))}})}})),l}function ss(u){const l=u.value,d=u.key,m=Fn(l);return m!=="string"?[new ot(d,l,`string expected, ${m} found`)]:[]}const df={promoteId:function({key:u,value:l}){if(Fn(l)==="string")return ss({key:u,value:l});{const d=[];for(const m in l)d.push(...ss({key:`${u}.${m}`,value:l[m]}));return d}}};function Ho(u){const l=u.value,d=u.key,m=u.styleSpec,b=u.style,k=u.validateSpec;if(!l.type)return[new ot(d,l,'"type" is required')];const T=Nr(l.type);let D;switch(T){case"vector":case"raster":return D=wo({key:d,value:l,valueSpec:m[`source_${T.replace("-","_")}`],style:u.style,styleSpec:m,objectElementValidators:df,validateSpec:k}),D;case"raster-dem":return D=function(B){var W;const H=(W=B.sourceName)!==null&&W!==void 0?W:"",Z=B.value,ee=B.styleSpec,ie=ee.source_raster_dem,oe=B.style;let ce=[];const ge=Fn(Z);if(Z===void 0)return ce;if(ge!=="object")return ce.push(new ot("source_raster_dem",Z,`object expected, ${ge} found`)),ce;const _e=Nr(Z.encoding)==="custom",Re=["redFactor","greenFactor","blueFactor","baseShift"],Te=B.value.encoding?`"${B.value.encoding}"`:"Default";for(const Le in Z)!_e&&Re.includes(Le)?ce.push(new ot(Le,Z[Le],`In "${H}": "${Le}" is only valid when "encoding" is set to "custom". ${Te} encoding found`)):ie[Le]?ce=ce.concat(B.validateSpec({key:Le,value:Z[Le],valueSpec:ie[Le],validateSpec:B.validateSpec,style:oe,styleSpec:ee})):ce.push(new ot(Le,Z[Le],`unknown property "${Le}"`));return ce}({sourceName:d,value:l,style:u.style,styleSpec:m,validateSpec:k}),D;case"geojson":if(D=wo({key:d,value:l,valueSpec:m.source_geojson,style:b,styleSpec:m,validateSpec:k,objectElementValidators:df}),l.cluster)for(const B in l.clusterProperties){const[W,H]=l.clusterProperties[B],Z=typeof W=="string"?[W,["accumulated"],["get",B]]:W;D.push(...Sc({key:`${d}.${B}.map`,value:H,validateSpec:k,expressionContext:"cluster-map"})),D.push(...Sc({key:`${d}.${B}.reduce`,value:Z,validateSpec:k,expressionContext:"cluster-reduce"}))}return D;case"video":return wo({key:d,value:l,valueSpec:m.source_video,style:b,validateSpec:k,styleSpec:m});case"image":return wo({key:d,value:l,valueSpec:m.source_image,style:b,validateSpec:k,styleSpec:m});case"canvas":return[new ot(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return uf({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,validateSpec:k,styleSpec:m})}}function ff(u){const l=u.value,d=u.styleSpec,m=d.light,b=u.style;let k=[];const T=Fn(l);if(l===void 0)return k;if(T!=="object")return k=k.concat([new ot("light",l,`object expected, ${T} found`)]),k;for(const D in l){const B=D.match(/^(.*)-transition$/);k=k.concat(B&&m[B[1]]&&m[B[1]].transition?u.validateSpec({key:D,value:l[D],valueSpec:d.transition,validateSpec:u.validateSpec,style:b,styleSpec:d}):m[D]?u.validateSpec({key:D,value:l[D],valueSpec:m[D],validateSpec:u.validateSpec,style:b,styleSpec:d}):[new ot(D,l[D],`unknown property "${D}"`)])}return k}function t_(u){const l=u.value,d=u.styleSpec,m=d.terrain,b=u.style;let k=[];const T=Fn(l);if(l===void 0)return k;if(T!=="object")return k=k.concat([new ot("terrain",l,`object expected, ${T} found`)]),k;for(const D in l)k=k.concat(m[D]?u.validateSpec({key:D,value:l[D],valueSpec:m[D],validateSpec:u.validateSpec,style:b,styleSpec:d}):[new ot(D,l[D],`unknown property "${D}"`)]);return k}function n_(u){let l=[];const d=u.value,m=u.key;if(Array.isArray(d)){const b=[],k=[];for(const T in d)d[T].id&&b.includes(d[T].id)&&l.push(new ot(m,d,`all the sprites' ids must be unique, but ${d[T].id} is duplicated`)),b.push(d[T].id),d[T].url&&k.includes(d[T].url)&&l.push(new ot(m,d,`all the sprites' URLs must be unique, but ${d[T].url} is duplicated`)),k.push(d[T].url),l=l.concat(wo({key:`${m}[${T}]`,value:d[T],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return l}return ss({key:m,value:d})}const r_={"*":()=>[],array:Du,boolean:function(u){const l=u.value,d=u.key,m=Fn(l);return m!=="boolean"?[new ot(d,l,`boolean expected, ${m} found`)]:[]},number:cf,color:function(u){const l=u.key,d=u.value,m=Fn(d);return m!=="string"?[new ot(l,d,`color expected, ${m} found`)]:Jn.parse(String(d))?[]:[new ot(l,d,`color expected, "${d}" found`)]},constants:Kx,enum:uf,filter:Lu,function:ep,layer:e_,object:wo,source:Ho,light:ff,terrain:t_,string:ss,formatted:function(u){return ss(u).length===0?[]:Sc(u)},resolvedImage:function(u){return ss(u).length===0?[]:Sc(u)},padding:function(u){const l=u.key,d=u.value;if(Fn(d)==="array"){if(d.length<1||d.length>4)return[new ot(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const m={type:"number"};let b=[];for(let k=0;k<d.length;k++)b=b.concat(u.validateSpec({key:`${l}[${k}]`,value:d[k],validateSpec:u.validateSpec,valueSpec:m}));return b}return cf({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const l=u.key,d=u.value,m=Fn(d),b=u.styleSpec;if(m!=="array"||d.length<1||d.length%2!=0)return[new ot(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let k=[];for(let T=0;T<d.length;T+=2)k=k.concat(uf({key:`${l}[${T}]`,value:d[T],valueSpec:b.layout_symbol["text-anchor"]})),k=k.concat(Du({key:`${l}[${T+1}]`,value:d[T+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:b}));return k},sprite:n_};function Ys(u){const l=u.value,d=u.valueSpec,m=u.styleSpec;return u.validateSpec=Ys,d.expression&&Ar(Nr(l))?ep(u):d.expression&&Yh(wc(l))?Sc(u):d.type&&r_[d.type]?r_[d.type](u):wo(zt({},u,{valueSpec:d.type?m[d.type]:d}))}function i_(u){const l=u.value,d=u.key,m=ss(u);return m.length||(l.indexOf("{fontstack}")===-1&&m.push(new ot(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&m.push(new ot(d,l,'"glyphs" url must include a "{range}" token'))),m}function ga(u,l=Ne){let d=[];return d=d.concat(Ys({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,validateSpec:Ys,objectElementValidators:{glyphs:i_,"*":()=>[]}})),u.constants&&(d=d.concat(Kx({key:"constants",value:u.constants,style:u,styleSpec:l,validateSpec:Ys}))),tp(d)}function Ks(u){return function(l){return u({...l,validateSpec:Ys})}}function tp(u){return[].concat(u).sort((l,d)=>l.line-d.line)}function Zs(u){return function(...l){return tp(u.apply(this,l))}}ga.source=Zs(Ks(Ho)),ga.sprite=Zs(Ks(n_)),ga.glyphs=Zs(Ks(i_)),ga.light=Zs(Ks(ff)),ga.terrain=Zs(Ks(t_)),ga.layer=Zs(Ks(e_)),ga.filter=Zs(Ks(Lu)),ga.paintProperty=Zs(Ks(Jx)),ga.layoutProperty=Zs(Ks(Qx));const Xs=ga,cT=Xs.light,yy=Xs.paintProperty,o_=Xs.layoutProperty;function np(u,l){let d=!1;if(l&&l.length)for(const m of l)u.fire(new xn(new Error(m.message))),d=!0;return d}class ju{constructor(l,d,m){const b=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const T=new Int32Array(this.arrayBuffer);l=T[0],this.d=(d=T[1])+2*(m=T[2]);for(let B=0;B<this.d*this.d;B++){const W=T[3+B],H=T[3+B+1];b.push(W===H?null:T.subarray(W,H))}const D=T[3+b.length+1];this.keys=T.subarray(T[3+b.length],D),this.bboxes=T.subarray(D),this.insert=this._insertReadonly}else{this.d=d+2*m;for(let T=0;T<this.d*this.d;T++)b.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=m,this.scale=d/l,this.uid=0;const k=m/d*l;this.min=-k,this.max=l+k}insert(l,d,m,b,k){this._forEachCell(d,m,b,k,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(b),this.bboxes.push(k)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,m,b,k,T){this.cells[k].push(T)}query(l,d,m,b,k){const T=this.min,D=this.max;if(l<=T&&d<=T&&D<=m&&D<=b&&!k)return Array.prototype.slice.call(this.keys);{const B=[];return this._forEachCell(l,d,m,b,this._queryCell,B,{},k),B}}_queryCell(l,d,m,b,k,T,D,B){const W=this.cells[k];if(W!==null){const H=this.keys,Z=this.bboxes;for(let ee=0;ee<W.length;ee++){const ie=W[ee];if(D[ie]===void 0){const oe=4*ie;(B?B(Z[oe+0],Z[oe+1],Z[oe+2],Z[oe+3]):l<=Z[oe+2]&&d<=Z[oe+3]&&m>=Z[oe+0]&&b>=Z[oe+1])?(D[ie]=!0,T.push(H[ie])):D[ie]=!1}}}}_forEachCell(l,d,m,b,k,T,D,B){const W=this._convertToCellCoord(l),H=this._convertToCellCoord(d),Z=this._convertToCellCoord(m),ee=this._convertToCellCoord(b);for(let ie=W;ie<=Z;ie++)for(let oe=H;oe<=ee;oe++){const ce=this.d*oe+ie;if((!B||B(this._convertFromCellCoord(ie),this._convertFromCellCoord(oe),this._convertFromCellCoord(ie+1),this._convertFromCellCoord(oe+1)))&&k.call(this,l,d,m,b,ce,T,D,B))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let m=0;for(let T=0;T<this.cells.length;T++)m+=this.cells[T].length;const b=new Int32Array(d+m+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;let k=d;for(let T=0;T<l.length;T++){const D=l[T];b[3+T]=k,b.set(D,k),k+=D.length}return b[3+l.length]=k,b.set(this.keys,k),k+=this.keys.length,b[3+l.length+1]=k,b.set(this.bboxes,k),k+=this.bboxes.length,b.buffer}static serialize(l,d){const m=l.toArrayBuffer();return d&&d.push(m),{buffer:m}}static deserialize(l){return new ju(l.buffer)}}const Js={};function Ot(u,l,d={}){if(Js[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),Js[u]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}Ot("Object",Object),Ot("TransferableGridIndex",ju),Ot("Color",Jn),Ot("Error",Error),Ot("AJAXError",Lt),Ot("ResolvedImage",ji),Ot("StylePropertyFunction",of),Ot("StyleExpression",fy,{omit:["_evaluator"]}),Ot("ZoomDependentExpression",Zh),Ot("ZoomConstantExpression",hy),Ot("CompoundExpression",ma,{omit:["_evaluate"]});for(const u in $u)$u[u]._classRegistryKey||Ot(`Expression_${u}`,$u[u]);function rp(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Nl(u,l){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob)return u;if(rp(u)||$e(u))return l&&l.push(u),u;if(ArrayBuffer.isView(u)){const d=u;return l&&l.push(d.buffer),d}if(u instanceof ImageData)return l&&l.push(u.data.buffer),u;if(Array.isArray(u)){const d=[];for(const m of u)d.push(Nl(m,l));return d}if(typeof u=="object"){const d=u.constructor,m=d._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!Js[m])throw new Error(`${m} is not registered.`);const b=d.serialize?d.serialize(u,l):{};if(d.serialize){if(l&&b===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const k in u){if(!u.hasOwnProperty(k)||Js[m].omit.indexOf(k)>=0)continue;const T=u[k];b[k]=Js[m].shallow.indexOf(k)>=0?T:Nl(T,l)}u instanceof Error&&(b.message=u.message)}if(b.$name)throw new Error("$name property is reserved for worker serialization logic.");return m!=="Object"&&(b.$name=m),b}throw new Error("can't serialize object of type "+typeof u)}function Nu(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||rp(u)||$e(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(Nu);if(typeof u=="object"){const l=u.$name||"Object";if(!Js[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=Js[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(u);const m=Object.create(d.prototype);for(const b of Object.keys(u)){if(b==="$name")continue;const k=u[b];m[b]=Js[l].shallow.indexOf(b)>=0?k:Nu(k)}return m}throw new Error("can't deserialize object of type "+typeof u)}class a_{constructor(){this.first=!0}update(l,d){const m=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=m,!0))}}const St={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function vy(u){for(const l of u)if(xy(l.charCodeAt(0)))return!0;return!1}function by(u){for(const l of u)if(!uT(l.charCodeAt(0)))return!1;return!0}function uT(u){return!(St.Arabic(u)||St["Arabic Supplement"](u)||St["Arabic Extended-A"](u)||St["Arabic Presentation Forms-A"](u)||St["Arabic Presentation Forms-B"](u))}function xy(u){return!(u!==746&&u!==747&&(u<4352||!(St["Bopomofo Extended"](u)||St.Bopomofo(u)||St["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||St["CJK Compatibility Ideographs"](u)||St["CJK Compatibility"](u)||St["CJK Radicals Supplement"](u)||St["CJK Strokes"](u)||!(!St["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||St["CJK Unified Ideographs Extension A"](u)||St["CJK Unified Ideographs"](u)||St["Enclosed CJK Letters and Months"](u)||St["Hangul Compatibility Jamo"](u)||St["Hangul Jamo Extended-A"](u)||St["Hangul Jamo Extended-B"](u)||St["Hangul Jamo"](u)||St["Hangul Syllables"](u)||St.Hiragana(u)||St["Ideographic Description Characters"](u)||St.Kanbun(u)||St["Kangxi Radicals"](u)||St["Katakana Phonetic Extensions"](u)||St.Katakana(u)&&u!==12540||!(!St["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!St["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||St["Unified Canadian Aboriginal Syllabics"](u)||St["Unified Canadian Aboriginal Syllabics Extended"](u)||St["Vertical Forms"](u)||St["Yijing Hexagram Symbols"](u)||St["Yi Syllables"](u)||St["Yi Radicals"](u))))}function s_(u){return!(xy(u)||function(l){return!!(St["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||St["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||St["Letterlike Symbols"](l)||St["Number Forms"](l)||St["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||St["Control Pictures"](l)&&l!==9251||St["Optical Character Recognition"](l)||St["Enclosed Alphanumerics"](l)||St["Geometric Shapes"](l)||St["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||St["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||St["CJK Symbols and Punctuation"](l)||St.Katakana(l)||St["Private Use Area"](l)||St["CJK Compatibility Forms"](l)||St["Small Form Variants"](l)||St["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}function l_(u){return u>=1424&&u<=2303||St["Arabic Presentation Forms-A"](u)||St["Arabic Presentation Forms-B"](u)}function c_(u,l){return!(!l&&l_(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||St.Khmer(u))}function dT(u){for(const l of u)if(l_(l.charCodeAt(0)))return!0;return!1}const _y="deferred",wy="loading",Sy="loaded";let ky=null,So="unavailable",zl=null;const hf=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(So="error"),ky&&ky(u)};function Cy(){pf.fire(new bn("pluginStateChange",{pluginStatus:So,pluginURL:zl}))}const pf=new rr,Ty=function(){return So},u_=function(){if(So!==_y||!zl)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");So=wy,Cy(),zl&&Pt({url:zl},u=>{u?hf(u):(So=Sy,Cy())})},Yo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>So===Sy||Yo.applyArabicShaping!=null,isLoading:()=>So===wy,setState(u){if(!Ce())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");So=u.pluginStatus,zl=u.pluginURL},isParsed(){if(!Ce())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return Yo.applyArabicShaping!=null&&Yo.processBidirectionalText!=null&&Yo.processStyledBidirectionalText!=null},getPluginURL(){if(!Ce())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return zl}};class br{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new a_,this.transition={})}isSupportedScript(l){return function(d,m){for(const b of d)if(!c_(b.charCodeAt(0),m))return!1;return!0}(l,Yo.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),m=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*d}}}class ip{constructor(l,d){this.property=l,this.value=d,this.expression=function(m,b){if(Ar(m))return new of(m,b);if(Yh(m)){const k=py(m,b);if(k.result==="error")throw new Error(k.value.map(T=>`${T.key}: ${T.message}`).join(", "));return k.value}{let k=m;return b.type==="color"&&typeof m=="string"?k=Jn.parse(m):b.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?b.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(k=ha.parse(m)):k=Wo.parse(m),{kind:"constant",evaluate:()=>k}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,m){return this.property.possiblyEvaluate(this,l,d,m)}}class Py{constructor(l){this.property=l,this.value=new ip(l,void 0)}transitioned(l,d){return new f_(this.property,this.value,d,q({},l.transition,this.transition),l.now)}untransitioned(){return new f_(this.property,this.value,null,{},0)}}class d_{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return fe(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Py(this._values[l].property)),this._values[l].value=new ip(this._values[l].property,d===null?void 0:fe(d))}getTransition(l){return fe(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Py(this._values[l].property)),this._values[l].transition=fe(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m);const b=this.getTransition(d);b!==void 0&&(l[`${d}-transition`]=b)}return l}transitioned(l,d){const m=new h_(this._properties);for(const b of Object.keys(this._values))m._values[b]=this._values[b].transitioned(l,d._values[b]);return m}untransitioned(){const l=new h_(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class f_{constructor(l,d,m,b,k){this.property=l,this.value=d,this.begin=k+b.delay||0,this.end=this.begin+b.duration||0,l.specification.transition&&(b.delay||b.duration)&&(this.prior=m)}possiblyEvaluate(l,d,m){const b=l.now||0,k=this.value.possiblyEvaluate(l,d,m),T=this.prior;if(T){if(b>this.end)return this.prior=null,k;if(this.value.isDataDriven())return this.prior=null,k;if(b<this.begin)return T.possiblyEvaluate(l,d,m);{const D=(b-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(l,d,m),k,function(B){if(B<=0)return 0;if(B>=1)return 1;const W=B*B,H=W*B;return 4*(B<.5?H:3*(B-W)+H-.75)}(D))}}return k}}class h_{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,m){const b=new op(this._properties);for(const k of Object.keys(this._values))b._values[k]=this._values[k].possiblyEvaluate(l,d,m);return b}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class fT{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return fe(this._values[l].value)}setValue(l,d){this._values[l]=new ip(this._values[l].property,d===null?void 0:fe(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m)}return l}possiblyEvaluate(l,d,m){const b=new op(this._properties);for(const k of Object.keys(this._values))b._values[k]=this._values[k].possiblyEvaluate(l,d,m);return b}}class lo{constructor(l,d,m){this.property=l,this.value=d,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,m,b){return this.property.evaluate(this.value,this.parameters,l,d,m,b)}}class op{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Bt{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,m){const b=qo[this.specification.type];return b?b(l,d,m):l}}class en{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,m,b){return new lo(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},m,b)}:l.expression,d)}interpolate(l,d,m){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new lo(this,{kind:"constant",value:void 0},l.parameters);const b=qo[this.specification.type];if(b){const k=b(l.value.value,d.value.value,m);return new lo(this,{kind:"constant",value:k},l.parameters)}return l}evaluate(l,d,m,b,k,T){return l.kind==="constant"?l.value:l.evaluate(d,m,b,k,T)}}class mf extends en{possiblyEvaluate(l,d,m,b){if(l.value===void 0)return new lo(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const k=l.expression.evaluate(d,null,{},m,b),T=l.property.specification.type==="resolvedImage"&&typeof k!="string"?k.name:k,D=this._calculate(T,T,T,d);return new lo(this,{kind:"constant",value:D},d)}if(l.expression.kind==="camera"){const k=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new lo(this,{kind:"constant",value:k},d)}return new lo(this,l.expression,d)}evaluate(l,d,m,b,k,T){if(l.kind==="source"){const D=l.evaluate(d,m,b,k,T);return this._calculate(D,D,D,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},m,b),l.evaluate({zoom:Math.floor(d.zoom)},m,b),l.evaluate({zoom:Math.floor(d.zoom)+1},m,b),d):l.value}_calculate(l,d,m,b){return b.zoom>b.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class Ey{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,b){if(l.value!==void 0){if(l.expression.kind==="constant"){const k=l.expression.evaluate(d,null,{},m,b);return this._calculate(k,k,k,d)}return this._calculate(l.expression.evaluate(new br(Math.floor(d.zoom-1),d)),l.expression.evaluate(new br(Math.floor(d.zoom),d)),l.expression.evaluate(new br(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,m,b){return b.zoom>b.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class Oy{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,b){return!!l.expression.evaluate(d,null,{},m,b)}interpolate(){return!1}}class ni{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const m=l[d];m.specification.overridable&&this.overridableProperties.push(d);const b=this.defaultPropertyValues[d]=new ip(m,void 0),k=this.defaultTransitionablePropertyValues[d]=new Py(m);this.defaultTransitioningPropertyValues[d]=k.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=b.possiblyEvaluate({})}}}Ot("DataDrivenProperty",en),Ot("DataConstantProperty",Bt),Ot("CrossFadedDataDrivenProperty",mf),Ot("CrossFadedProperty",Ey),Ot("ColorRampProperty",Oy);const My="-transition";class ya extends rr{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new fT(d.layout)),d.paint)){this._transitionablePaint=new d_(d.paint);for(const m in l.paint)this.setPaintProperty(m,l.paint[m],{validate:!1});for(const m in l.layout)this.setLayoutProperty(m,l.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new op(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,m={}){d!=null&&this._validate(o_,`layers.${this.id}.layout.${l}`,l,d,m)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(My)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,m={}){if(d!=null&&this._validate(yy,`layers.${this.id}.paint.${l}`,l,d,m))return!1;if(l.endsWith(My))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const b=this._transitionablePaint._values[l],k=b.property.specification["property-type"]==="cross-faded-data-driven",T=b.value.isDataDriven(),D=b.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const B=this._transitionablePaint._values[l].value;return B.isDataDriven()||T||k||this._handleOverridablePaintPropertyUpdate(l,D,B)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,m){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),ae(l,(d,m)=>!(d===void 0||m==="layout"&&!Object.keys(d).length||m==="paint"&&!Object.keys(d).length))}_validate(l,d,m,b,k={}){return(!k||k.validate!==!1)&&np(this,l.call(Xs,{key:d,layerType:this.type,objectKey:m,value:b,styleSpec:Ne,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof lo&&Ru(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const p_={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class kc{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class zr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function $r(u,l=1){let d=0,m=0;return{members:u.map(b=>{const k=p_[b.type].BYTES_PER_ELEMENT,T=d=zu(d,Math.max(l,k)),D=b.components||1;return m=Math.max(m,k),d+=k*D,{name:b.name,type:b.type,components:D,offset:T}}),size:zu(d,Math.max(m,l)),alignment:l}}function zu(u,l){return Math.ceil(u/l)*l}class gf extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.int16[b+0]=d,this.int16[b+1]=m,l}}gf.prototype.bytesPerElement=4,Ot("StructArrayLayout2i4",gf);class yf extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const k=3*l;return this.int16[k+0]=d,this.int16[k+1]=m,this.int16[k+2]=b,l}}yf.prototype.bytesPerElement=6,Ot("StructArrayLayout3i6",yf);class Cc extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const k=this.length;return this.resize(k+1),this.emplace(k,l,d,m,b)}emplace(l,d,m,b,k){const T=4*l;return this.int16[T+0]=d,this.int16[T+1]=m,this.int16[T+2]=b,this.int16[T+3]=k,l}}Cc.prototype.bytesPerElement=8,Ot("StructArrayLayout4i8",Cc);class Ay extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,k,T){const D=this.length;return this.resize(D+1),this.emplace(D,l,d,m,b,k,T)}emplace(l,d,m,b,k,T,D){const B=6*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.int16[B+2]=b,this.int16[B+3]=k,this.int16[B+4]=T,this.int16[B+5]=D,l}}Ay.prototype.bytesPerElement=12,Ot("StructArrayLayout2i4i12",Ay);class Iy extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,k,T){const D=this.length;return this.resize(D+1),this.emplace(D,l,d,m,b,k,T)}emplace(l,d,m,b,k,T,D){const B=4*l,W=8*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.uint8[W+4]=b,this.uint8[W+5]=k,this.uint8[W+6]=T,this.uint8[W+7]=D,l}}Iy.prototype.bytesPerElement=8,Ot("StructArrayLayout2i4ub8",Iy);class Bu extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.float32[b+0]=d,this.float32[b+1]=m,l}}Bu.prototype.bytesPerElement=8,Ot("StructArrayLayout2f8",Bu);class $y extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,k,T,D,B,W,H){const Z=this.length;return this.resize(Z+1),this.emplace(Z,l,d,m,b,k,T,D,B,W,H)}emplace(l,d,m,b,k,T,D,B,W,H,Z){const ee=10*l;return this.uint16[ee+0]=d,this.uint16[ee+1]=m,this.uint16[ee+2]=b,this.uint16[ee+3]=k,this.uint16[ee+4]=T,this.uint16[ee+5]=D,this.uint16[ee+6]=B,this.uint16[ee+7]=W,this.uint16[ee+8]=H,this.uint16[ee+9]=Z,l}}$y.prototype.bytesPerElement=20,Ot("StructArrayLayout10ui20",$y);class Ry extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,k,T,D,B,W,H,Z,ee){const ie=this.length;return this.resize(ie+1),this.emplace(ie,l,d,m,b,k,T,D,B,W,H,Z,ee)}emplace(l,d,m,b,k,T,D,B,W,H,Z,ee,ie){const oe=12*l;return this.int16[oe+0]=d,this.int16[oe+1]=m,this.int16[oe+2]=b,this.int16[oe+3]=k,this.uint16[oe+4]=T,this.uint16[oe+5]=D,this.uint16[oe+6]=B,this.uint16[oe+7]=W,this.int16[oe+8]=H,this.int16[oe+9]=Z,this.int16[oe+10]=ee,this.int16[oe+11]=ie,l}}Ry.prototype.bytesPerElement=24,Ot("StructArrayLayout4i4ui4i24",Ry);class Un extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const k=3*l;return this.float32[k+0]=d,this.float32[k+1]=m,this.float32[k+2]=b,l}}Un.prototype.bytesPerElement=12,Ot("StructArrayLayout3f12",Un);class w extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}w.prototype.bytesPerElement=4,Ot("StructArrayLayout1ul4",w);class c extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,k,T,D,B,W){const H=this.length;return this.resize(H+1),this.emplace(H,l,d,m,b,k,T,D,B,W)}emplace(l,d,m,b,k,T,D,B,W,H){const Z=10*l,ee=5*l;return this.int16[Z+0]=d,this.int16[Z+1]=m,this.int16[Z+2]=b,this.int16[Z+3]=k,this.int16[Z+4]=T,this.int16[Z+5]=D,this.uint32[ee+3]=B,this.uint16[Z+8]=W,this.uint16[Z+9]=H,l}}c.prototype.bytesPerElement=20,Ot("StructArrayLayout6i1ul2ui20",c);class p extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,k,T){const D=this.length;return this.resize(D+1),this.emplace(D,l,d,m,b,k,T)}emplace(l,d,m,b,k,T,D){const B=6*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.int16[B+2]=b,this.int16[B+3]=k,this.int16[B+4]=T,this.int16[B+5]=D,l}}p.prototype.bytesPerElement=12,Ot("StructArrayLayout2i2i2i12",p);class v extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,k){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,m,b,k)}emplace(l,d,m,b,k,T){const D=4*l,B=8*l;return this.float32[D+0]=d,this.float32[D+1]=m,this.float32[D+2]=b,this.int16[B+6]=k,this.int16[B+7]=T,l}}v.prototype.bytesPerElement=16,Ot("StructArrayLayout2f1f2i16",v);class _ extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const k=this.length;return this.resize(k+1),this.emplace(k,l,d,m,b)}emplace(l,d,m,b,k){const T=12*l,D=3*l;return this.uint8[T+0]=d,this.uint8[T+1]=m,this.float32[D+1]=b,this.float32[D+2]=k,l}}_.prototype.bytesPerElement=12,Ot("StructArrayLayout2ub2f12",_);class C extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const k=3*l;return this.uint16[k+0]=d,this.uint16[k+1]=m,this.uint16[k+2]=b,l}}C.prototype.bytesPerElement=6,Ot("StructArrayLayout3ui6",C);class j extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b,k,T,D,B,W,H,Z,ee,ie,oe,ce,ge,_e){const Re=this.length;return this.resize(Re+1),this.emplace(Re,l,d,m,b,k,T,D,B,W,H,Z,ee,ie,oe,ce,ge,_e)}emplace(l,d,m,b,k,T,D,B,W,H,Z,ee,ie,oe,ce,ge,_e,Re){const Te=24*l,Le=12*l,ze=48*l;return this.int16[Te+0]=d,this.int16[Te+1]=m,this.uint16[Te+2]=b,this.uint16[Te+3]=k,this.uint32[Le+2]=T,this.uint32[Le+3]=D,this.uint32[Le+4]=B,this.uint16[Te+10]=W,this.uint16[Te+11]=H,this.uint16[Te+12]=Z,this.float32[Le+7]=ee,this.float32[Le+8]=ie,this.uint8[ze+36]=oe,this.uint8[ze+37]=ce,this.uint8[ze+38]=ge,this.uint32[Le+10]=_e,this.int16[Te+22]=Re,l}}j.prototype.bytesPerElement=48,Ot("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",j);class z extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b,k,T,D,B,W,H,Z,ee,ie,oe,ce,ge,_e,Re,Te,Le,ze,Ze,kt,Dt,wt,xt,ht,Mt){const gt=this.length;return this.resize(gt+1),this.emplace(gt,l,d,m,b,k,T,D,B,W,H,Z,ee,ie,oe,ce,ge,_e,Re,Te,Le,ze,Ze,kt,Dt,wt,xt,ht,Mt)}emplace(l,d,m,b,k,T,D,B,W,H,Z,ee,ie,oe,ce,ge,_e,Re,Te,Le,ze,Ze,kt,Dt,wt,xt,ht,Mt,gt){const it=32*l,Yt=16*l;return this.int16[it+0]=d,this.int16[it+1]=m,this.int16[it+2]=b,this.int16[it+3]=k,this.int16[it+4]=T,this.int16[it+5]=D,this.int16[it+6]=B,this.int16[it+7]=W,this.uint16[it+8]=H,this.uint16[it+9]=Z,this.uint16[it+10]=ee,this.uint16[it+11]=ie,this.uint16[it+12]=oe,this.uint16[it+13]=ce,this.uint16[it+14]=ge,this.uint16[it+15]=_e,this.uint16[it+16]=Re,this.uint16[it+17]=Te,this.uint16[it+18]=Le,this.uint16[it+19]=ze,this.uint16[it+20]=Ze,this.uint16[it+21]=kt,this.uint16[it+22]=Dt,this.uint32[Yt+12]=wt,this.float32[Yt+13]=xt,this.float32[Yt+14]=ht,this.uint16[it+30]=Mt,this.uint16[it+31]=gt,l}}z.prototype.bytesPerElement=64,Ot("StructArrayLayout8i15ui1ul2f2ui64",z);class U extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}U.prototype.bytesPerElement=4,Ot("StructArrayLayout1f4",U);class G extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const k=3*l;return this.uint16[6*l+0]=d,this.float32[k+1]=m,this.float32[k+2]=b,l}}G.prototype.bytesPerElement=12,Ot("StructArrayLayout1ui2f12",G);class Y extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const k=4*l;return this.uint32[2*l+0]=d,this.uint16[k+2]=m,this.uint16[k+3]=b,l}}Y.prototype.bytesPerElement=8,Ot("StructArrayLayout1ul2ui8",Y);class K extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.uint16[b+0]=d,this.uint16[b+1]=m,l}}K.prototype.bytesPerElement=4,Ot("StructArrayLayout2ui4",K);class re extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}re.prototype.bytesPerElement=2,Ot("StructArrayLayout1ui2",re);class de extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const k=this.length;return this.resize(k+1),this.emplace(k,l,d,m,b)}emplace(l,d,m,b,k){const T=4*l;return this.float32[T+0]=d,this.float32[T+1]=m,this.float32[T+2]=b,this.float32[T+3]=k,l}}de.prototype.bytesPerElement=16,Ot("StructArrayLayout4f16",de);class ue extends kc{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new x(this.anchorPointX,this.anchorPointY)}}ue.prototype.size=20;class pe extends c{get(l){return new ue(this,l)}}Ot("CollisionBoxArray",pe);class le extends kc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}le.prototype.size=48;class Me extends j{get(l){return new le(this,l)}}Ot("PlacedSymbolArray",Me);class je extends kc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}je.prototype.size=64;class ve extends z{get(l){return new je(this,l)}}Ot("SymbolInstanceArray",ve);class Ie extends U{getoffsetX(l){return this.float32[1*l+0]}}Ot("GlyphOffsetArray",Ie);class Be extends yf{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Ot("SymbolLineVertexArray",Be);class Fe extends kc{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Fe.prototype.size=12;class Ke extends G{get(l){return new Fe(this,l)}}Ot("TextAnchorOffsetArray",Ke);class nt extends kc{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}nt.prototype.size=8;class et extends Y{get(l){return new nt(this,l)}}Ot("FeatureIndexArray",et);class ct extends gf{}class Rt extends gf{}class _n extends gf{}class bt extends Ay{}class tn extends Iy{}class jt extends Bu{}class Qn extends $y{}class vn extends Ry{}class mn extends Un{}class wn extends w{}class Hr extends p{}class fr extends _{}class Ni extends C{}class yi extends K{}const ri=$r([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ko}=ri;class xr{constructor(l=[]){this.segments=l}prepareSegment(l,d,m,b){let k=this.segments[this.segments.length-1];return l>xr.MAX_VERTEX_ARRAY_LENGTH&&ke(`Max vertices per segment is ${xr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!k||k.vertexLength+l>xr.MAX_VERTEX_ARRAY_LENGTH||k.sortKey!==b)&&(k={vertexOffset:d.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},b!==void 0&&(k.sortKey=b),this.segments.push(k)),k}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,m,b){return new xr([{vertexOffset:l,primitiveOffset:d,vertexLength:m,primitiveLength:b,vaos:{},sortKey:0}])}}function ls(u,l){return 256*(u=R(Math.floor(u),0,255))+R(Math.floor(l),0,255)}xr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ot("SegmentVector",xr);const cs=$r([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Bl={exports:{}},Tc={exports:{}};Tc.exports=function(u,l){var d,m,b,k,T,D,B,W;for(m=u.length-(d=3&u.length),b=l,T=3432918353,D=461845907,W=0;W<m;)B=255&u.charCodeAt(W)|(255&u.charCodeAt(++W))<<8|(255&u.charCodeAt(++W))<<16|(255&u.charCodeAt(++W))<<24,++W,b=27492+(65535&(k=5*(65535&(b=(b^=B=(65535&(B=(B=(65535&B)*T+(((B>>>16)*T&65535)<<16)&4294967295)<<15|B>>>17))*D+(((B>>>16)*D&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(k>>>16)&65535)<<16);switch(B=0,d){case 3:B^=(255&u.charCodeAt(W+2))<<16;case 2:B^=(255&u.charCodeAt(W+1))<<8;case 1:b^=B=(65535&(B=(B=(65535&(B^=255&u.charCodeAt(W)))*T+(((B>>>16)*T&65535)<<16)&4294967295)<<15|B>>>17))*D+(((B>>>16)*D&65535)<<16)&4294967295}return b^=u.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0};var Fu=Tc.exports,Zi={exports:{}};Zi.exports=function(u,l){for(var d,m=u.length,b=l^m,k=0;m>=4;)d=1540483477*(65535&(d=255&u.charCodeAt(k)|(255&u.charCodeAt(++k))<<8|(255&u.charCodeAt(++k))<<16|(255&u.charCodeAt(++k))<<24))+((1540483477*(d>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),m-=4,++k;switch(m){case 3:b^=(255&u.charCodeAt(k+2))<<16;case 2:b^=(255&u.charCodeAt(k+1))<<8;case 1:b=1540483477*(65535&(b^=255&u.charCodeAt(k)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0};var zi=Fu,co=Zi.exports;Bl.exports=zi,Bl.exports.murmur3=zi,Bl.exports.murmur2=co;var Pc=h(Bl.exports);class Yr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,m,b){this.ids.push(vi(l)),this.positions.push(d,m,b)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=vi(l);let m=0,b=this.ids.length-1;for(;m<b;){const T=m+b>>1;this.ids[T]>=d?b=T:m=T+1}const k=[];for(;this.ids[m]===d;)k.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return k}static serialize(l,d){const m=new Float64Array(l.ids),b=new Uint32Array(l.positions);return ko(m,b,0,m.length-1),d&&d.push(m.buffer,b.buffer),{ids:m,positions:b}}static deserialize(l){const d=new Yr;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function vi(u){const l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Pc(String(u))}function ko(u,l,d,m){for(;d<m;){const b=u[d+m>>1];let k=d-1,T=m+1;for(;;){do k++;while(u[k]<b);do T--;while(u[T]>b);if(k>=T)break;Kr(u,k,T),Kr(l,3*k,3*T),Kr(l,3*k+1,3*T+1),Kr(l,3*k+2,3*T+2)}T-d<m-T?(ko(u,l,d,T),d=T+1):(ko(u,l,T+1,m),m=T)}}function Kr(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}Ot("FeaturePositionMap",Yr);class Ec{constructor(l,d){this.gl=l.gl,this.location=d}}class ap extends Ec{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class m_ extends Ec{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class g_ extends Ec{constructor(l,d){super(l,d),this.current=Jn.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const hT=new Float32Array(16);function Dy(u){return[ls(255*u.r,255*u.g),ls(255*u.b,255*u.a)]}class us{constructor(l,d,m){this.value=l,this.uniformNames=d.map(b=>`u_${b}`),this.type=m}setUniform(l,d,m){l.set(m.constantOr(this.value))}getBinding(l,d,m){return this.type==="color"?new g_(l,d):new ap(l,d)}}class Oc{constructor(l,d){this.uniformNames=d.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,m,b){const k=b==="u_pattern_to"?this.patternTo:b==="u_pattern_from"?this.patternFrom:b==="u_pixel_ratio_to"?this.pixelRatioTo:b==="u_pixel_ratio_from"?this.pixelRatioFrom:null;k&&l.set(k)}getBinding(l,d,m){return m.substr(0,9)==="u_pattern"?new m_(l,d):new ap(l,d)}}class ds{constructor(l,d,m,b){this.expression=l,this.type=m,this.maxValue=0,this.paintVertexAttributes=d.map(k=>({name:`a_${k}`,type:"Float32",components:m==="color"?2:1,offset:0})),this.paintVertexArray=new b}populatePaintArray(l,d,m,b,k){const T=this.paintVertexArray.length,D=this.expression.evaluate(new br(0),d,{},b,[],k);this.paintVertexArray.resize(l),this._setPaintValue(T,l,D)}updatePaintArray(l,d,m,b){const k=this.expression.evaluate({zoom:0},m,b);this._setPaintValue(l,d,k)}_setPaintValue(l,d,m){if(this.type==="color"){const b=Dy(m);for(let k=l;k<d;k++)this.paintVertexArray.emplace(k,b[0],b[1])}else{for(let b=l;b<d;b++)this.paintVertexArray.emplace(b,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class va{constructor(l,d,m,b,k,T){this.expression=l,this.uniformNames=d.map(D=>`u_${D}_t`),this.type=m,this.useIntegerZoom=b,this.zoom=k,this.maxValue=0,this.paintVertexAttributes=d.map(D=>({name:`a_${D}`,type:"Float32",components:m==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(l,d,m,b,k){const T=this.expression.evaluate(new br(this.zoom),d,{},b,[],k),D=this.expression.evaluate(new br(this.zoom+1),d,{},b,[],k),B=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(B,l,T,D)}updatePaintArray(l,d,m,b){const k=this.expression.evaluate({zoom:this.zoom},m,b),T=this.expression.evaluate({zoom:this.zoom+1},m,b);this._setPaintValue(l,d,k,T)}_setPaintValue(l,d,m,b){if(this.type==="color"){const k=Dy(m),T=Dy(b);for(let D=l;D<d;D++)this.paintVertexArray.emplace(D,k[0],k[1],T[0],T[1])}else{for(let k=l;k<d;k++)this.paintVertexArray.emplace(k,m,b);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(b))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const m=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,b=R(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);l.set(b)}getBinding(l,d,m){return new ap(l,d)}}class fs{constructor(l,d,m,b,k,T){this.expression=l,this.type=d,this.useIntegerZoom=m,this.zoom=b,this.layerId=T,this.zoomInPaintVertexArray=new k,this.zoomOutPaintVertexArray=new k}populatePaintArray(l,d,m){const b=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(b,l,d.patterns&&d.patterns[this.layerId],m)}updatePaintArray(l,d,m,b,k){this._setPaintValues(l,d,m.patterns&&m.patterns[this.layerId],k)}_setPaintValues(l,d,m,b){if(!b||!m)return;const{min:k,mid:T,max:D}=m,B=b[k],W=b[T],H=b[D];if(B&&W&&H)for(let Z=l;Z<d;Z++)this.zoomInPaintVertexArray.emplace(Z,W.tl[0],W.tl[1],W.br[0],W.br[1],B.tl[0],B.tl[1],B.br[0],B.br[1],W.pixelRatio,B.pixelRatio),this.zoomOutPaintVertexArray.emplace(Z,W.tl[0],W.tl[1],W.br[0],W.br[1],H.tl[0],H.tl[1],H.br[0],H.br[1],W.pixelRatio,H.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,cs.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,cs.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Ly{constructor(l,d,m){this.binders={},this._buffers=[];const b=[];for(const k in l.paint._values){if(!m(k))continue;const T=l.paint.get(k);if(!(T instanceof lo&&Ru(T.property.specification)))continue;const D=PZ(k,l.type),B=T.value,W=T.property.specification.type,H=T.property.useIntegerZoom,Z=T.property.specification["property-type"],ee=Z==="cross-faded"||Z==="cross-faded-data-driven";if(B.kind==="constant")this.binders[k]=ee?new Oc(B.value,D):new us(B.value,D,W),b.push(`/u_${k}`);else if(B.kind==="source"||ee){const ie=QL(k,W,"source");this.binders[k]=ee?new fs(B,W,H,d,ie,l.id):new ds(B,D,W,ie),b.push(`/a_${k}`)}else{const ie=QL(k,W,"composite");this.binders[k]=new va(B,D,W,H,d,ie),b.push(`/z_${k}`)}}this.cacheKey=b.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof ds||d instanceof va?d.maxValue:0}populatePaintArrays(l,d,m,b,k){for(const T in this.binders){const D=this.binders[T];(D instanceof ds||D instanceof va||D instanceof fs)&&D.populatePaintArray(l,d,m,b,k)}}setConstantPatternPositions(l,d){for(const m in this.binders){const b=this.binders[m];b instanceof Oc&&b.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,m,b,k){let T=!1;for(const D in l){const B=d.getPositions(D);for(const W of B){const H=m.feature(W.index);for(const Z in this.binders){const ee=this.binders[Z];if((ee instanceof ds||ee instanceof va||ee instanceof fs)&&ee.expression.isStateDependent===!0){const ie=b.paint.get(Z);ee.expression=ie.value,ee.updatePaintArray(W.start,W.end,H,l[D],k),T=!0}}}}return T}defines(){const l=[];for(const d in this.binders){const m=this.binders[d];(m instanceof us||m instanceof Oc)&&l.push(...m.uniformNames.map(b=>`#define HAS_UNIFORM_${b}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof ds||m instanceof va)for(let b=0;b<m.paintVertexAttributes.length;b++)l.push(m.paintVertexAttributes[b].name);else if(m instanceof fs)for(let b=0;b<cs.members.length;b++)l.push(cs.members[b].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof us||m instanceof Oc||m instanceof va)for(const b of m.uniformNames)l.push(b)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const m=[];for(const b in this.binders){const k=this.binders[b];if(k instanceof us||k instanceof Oc||k instanceof va){for(const T of k.uniformNames)if(d[T]){const D=k.getBinding(l,d[T],T);m.push({name:T,property:b,binding:D})}}}return m}setUniforms(l,d,m,b){for(const{name:k,property:T,binding:D}of d)this.binders[T].setUniform(D,b,m.get(T),k)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const m=this.binders[d];if(l&&m instanceof fs){const b=l.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;b&&this._buffers.push(b)}else(m instanceof ds||m instanceof va)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(l){for(const d in this.binders){const m=this.binders[d];(m instanceof ds||m instanceof va||m instanceof fs)&&m.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof ds||d instanceof va||d instanceof fs)&&d.destroy()}}}class Qs{constructor(l,d,m=()=>!0){this.programConfigurations={};for(const b of l)this.programConfigurations[b.id]=new Ly(b,d,m);this.needsUpload=!1,this._featureMap=new Yr,this._bufferOffset=0}populatePaintArrays(l,d,m,b,k,T){for(const D in this.programConfigurations)this.programConfigurations[D].populatePaintArrays(l,d,b,k,T);d.id!==void 0&&this._featureMap.add(d.id,m,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,m,b){for(const k of m)this.needsUpload=this.programConfigurations[k.id].updatePaintArrays(l,this._featureMap,d,k,b)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function PZ(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function QL(u,l,d){const m={color:{source:Bu,composite:de},number:{source:U,composite:Bu}},b=function(k){return{"line-pattern":{source:Qn,composite:Qn},"fill-pattern":{source:Qn,composite:Qn},"fill-extrusion-pattern":{source:Qn,composite:Qn}}[k]}(u);return b&&b[d]||m[l][d]}Ot("ConstantBinder",us),Ot("CrossFadedConstantBinder",Oc),Ot("SourceExpressionBinder",ds),Ot("CrossFadedCompositeBinder",fs),Ot("CompositeExpressionBinder",va),Ot("ProgramConfiguration",Ly,{omit:["_buffers"]}),Ot("ProgramConfigurationSet",Qs);const di=8192,pT=Math.pow(2,14)-1,ej=-pT-1;function vf(u){const l=di/u.extent,d=u.loadGeometry();for(let m=0;m<d.length;m++){const b=d[m];for(let k=0;k<b.length;k++){const T=b[k],D=Math.round(T.x*l),B=Math.round(T.y*l);T.x=R(D,ej,pT),T.y=R(B,ej,pT),(D<T.x||D>T.x+1||B<T.y||B>T.y+1)&&ke("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function bf(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?vf(u):[]}}function y_(u,l,d,m,b){u.emplaceBack(2*l+(m+1)/2,2*d+(b+1)/2)}class mT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Rt,this.indexArray=new Ni,this.segments=new xr,this.programConfigurations=new Qs(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){const b=this.layers[0],k=[];let T=null,D=!1;b.type==="circle"&&(T=b.layout.get("circle-sort-key"),D=!T.isConstant());for(const{feature:B,id:W,index:H,sourceLayerIndex:Z}of l){const ee=this.layers[0]._featureFilter.needGeometry,ie=bf(B,ee);if(!this.layers[0]._featureFilter.filter(new br(this.zoom),ie,m))continue;const oe=D?T.evaluate(ie,{},m):void 0,ce={id:W,properties:B.properties,type:B.type,sourceLayerIndex:Z,index:H,geometry:ee?ie.geometry:vf(B),patterns:{},sortKey:oe};k.push(ce)}D&&k.sort((B,W)=>B.sortKey-W.sortKey);for(const B of k){const{geometry:W,index:H,sourceLayerIndex:Z}=B,ee=l[H].feature;this.addFeature(B,W,H,m),d.featureIndex.insert(ee,W,H,Z,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Ko),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,m,b){for(const k of d)for(const T of k){const D=T.x,B=T.y;if(D<0||D>=di||B<0||B>=di)continue;const W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),H=W.vertexLength;y_(this.layoutVertexArray,D,B,-1,-1),y_(this.layoutVertexArray,D,B,1,-1),y_(this.layoutVertexArray,D,B,1,1),y_(this.layoutVertexArray,D,B,-1,1),this.indexArray.emplaceBack(H,H+1,H+2),this.indexArray.emplaceBack(H,H+3,H+2),W.vertexLength+=4,W.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{},b)}}function tj(u,l){for(let d=0;d<u.length;d++)if(sp(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(sp(u,l[d]))return!0;return!!gT(u,l)}function EZ(u,l,d){return!!sp(u,l)||!!yT(l,u,d)}function nj(u,l){if(u.length===1)return ij(l,u[0]);for(let d=0;d<l.length;d++){const m=l[d];for(let b=0;b<m.length;b++)if(sp(u,m[b]))return!0}for(let d=0;d<u.length;d++)if(ij(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(gT(u,l[d]))return!0;return!1}function OZ(u,l,d){if(u.length>1){if(gT(u,l))return!0;for(let m=0;m<l.length;m++)if(yT(l[m],u,d))return!0}for(let m=0;m<u.length;m++)if(yT(u[m],l,d))return!0;return!1}function gT(u,l){if(u.length===0||l.length===0)return!1;for(let d=0;d<u.length-1;d++){const m=u[d],b=u[d+1];for(let k=0;k<l.length-1;k++)if(MZ(m,b,l[k],l[k+1]))return!0}return!1}function MZ(u,l,d,m){return we(u,d,m)!==we(l,d,m)&&we(u,l,d)!==we(u,l,m)}function yT(u,l,d){const m=d*d;if(l.length===1)return u.distSqr(l[0])<m;for(let b=1;b<l.length;b++)if(rj(u,l[b-1],l[b])<m)return!0;return!1}function rj(u,l,d){const m=l.distSqr(d);if(m===0)return u.distSqr(l);const b=((u.x-l.x)*(d.x-l.x)+(u.y-l.y)*(d.y-l.y))/m;return u.distSqr(b<0?l:b>1?d:d.sub(l)._mult(b)._add(l))}function ij(u,l){let d,m,b,k=!1;for(let T=0;T<u.length;T++){d=u[T];for(let D=0,B=d.length-1;D<d.length;B=D++)m=d[D],b=d[B],m.y>l.y!=b.y>l.y&&l.x<(b.x-m.x)*(l.y-m.y)/(b.y-m.y)+m.x&&(k=!k)}return k}function sp(u,l){let d=!1;for(let m=0,b=u.length-1;m<u.length;b=m++){const k=u[m],T=u[b];k.y>l.y!=T.y>l.y&&l.x<(T.x-k.x)*(l.y-k.y)/(T.y-k.y)+k.x&&(d=!d)}return d}function AZ(u,l,d){const m=d[0],b=d[2];if(u.x<m.x&&l.x<m.x||u.x>b.x&&l.x>b.x||u.y<m.y&&l.y<m.y||u.y>b.y&&l.y>b.y)return!1;const k=we(u,l,d[0]);return k!==we(u,l,d[1])||k!==we(u,l,d[2])||k!==we(u,l,d[3])}function jy(u,l,d){const m=l.paint.get(u).value;return m.kind==="constant"?m.value:d.programConfigurations.get(l.id).getMaxValue(u)}function v_(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function b_(u,l,d,m,b){if(!l[0]&&!l[1])return u;const k=x.convert(l)._mult(b);d==="viewport"&&k._rotate(-m);const T=[];for(let D=0;D<u.length;D++)T.push(u[D].sub(k));return T}let oj,aj;Ot("CircleBucket",mT,{omit:["layers"]});var IZ={get paint(){return aj=aj||new ni({"circle-radius":new en(Ne.paint_circle["circle-radius"]),"circle-color":new en(Ne.paint_circle["circle-color"]),"circle-blur":new en(Ne.paint_circle["circle-blur"]),"circle-opacity":new en(Ne.paint_circle["circle-opacity"]),"circle-translate":new Bt(Ne.paint_circle["circle-translate"]),"circle-translate-anchor":new Bt(Ne.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Bt(Ne.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Bt(Ne.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new en(Ne.paint_circle["circle-stroke-width"]),"circle-stroke-color":new en(Ne.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new en(Ne.paint_circle["circle-stroke-opacity"])})},get layout(){return oj=oj||new ni({"circle-sort-key":new en(Ne.layout_circle["circle-sort-key"])})}},Co=1e-6,lp=typeof Float32Array<"u"?Float32Array:Array;function vT(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function sj(u,l,d){var m=l[0],b=l[1],k=l[2],T=l[3],D=l[4],B=l[5],W=l[6],H=l[7],Z=l[8],ee=l[9],ie=l[10],oe=l[11],ce=l[12],ge=l[13],_e=l[14],Re=l[15],Te=d[0],Le=d[1],ze=d[2],Ze=d[3];return u[0]=Te*m+Le*D+ze*Z+Ze*ce,u[1]=Te*b+Le*B+ze*ee+Ze*ge,u[2]=Te*k+Le*W+ze*ie+Ze*_e,u[3]=Te*T+Le*H+ze*oe+Ze*Re,u[4]=(Te=d[4])*m+(Le=d[5])*D+(ze=d[6])*Z+(Ze=d[7])*ce,u[5]=Te*b+Le*B+ze*ee+Ze*ge,u[6]=Te*k+Le*W+ze*ie+Ze*_e,u[7]=Te*T+Le*H+ze*oe+Ze*Re,u[8]=(Te=d[8])*m+(Le=d[9])*D+(ze=d[10])*Z+(Ze=d[11])*ce,u[9]=Te*b+Le*B+ze*ee+Ze*ge,u[10]=Te*k+Le*W+ze*ie+Ze*_e,u[11]=Te*T+Le*H+ze*oe+Ze*Re,u[12]=(Te=d[12])*m+(Le=d[13])*D+(ze=d[14])*Z+(Ze=d[15])*ce,u[13]=Te*b+Le*B+ze*ee+Ze*ge,u[14]=Te*k+Le*W+ze*ie+Ze*_e,u[15]=Te*T+Le*H+ze*oe+Ze*Re,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var Ny,$Z=sj;function x_(u,l,d){var m=l[0],b=l[1],k=l[2],T=l[3];return u[0]=d[0]*m+d[4]*b+d[8]*k+d[12]*T,u[1]=d[1]*m+d[5]*b+d[9]*k+d[13]*T,u[2]=d[2]*m+d[6]*b+d[10]*k+d[14]*T,u[3]=d[3]*m+d[7]*b+d[11]*k+d[15]*T,u}Ny=new lp(4),lp!=Float32Array&&(Ny[0]=0,Ny[1]=0,Ny[2]=0,Ny[3]=0);class RZ extends ya{constructor(l){super(l,IZ)}createBucket(l){return new mT(l)}queryRadius(l){const d=l;return jy("circle-radius",this,d)+jy("circle-stroke-width",this,d)+v_(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,m,b,k,T,D,B){const W=b_(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),T.angle,D),H=this.paint.get("circle-radius").evaluate(d,m)+this.paint.get("circle-stroke-width").evaluate(d,m),Z=this.paint.get("circle-pitch-alignment")==="map",ee=Z?W:function(oe,ce){return oe.map(ge=>lj(ge,ce))}(W,B),ie=Z?H*D:H;for(const oe of b)for(const ce of oe){const ge=Z?ce:lj(ce,B);let _e=ie;const Re=x_([],[ce.x,ce.y,0,1],B);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?_e*=Re[3]/T.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(_e*=T.cameraToCenterDistance/Re[3]),EZ(ee,ge,_e))return!0}return!1}}function lj(u,l){const d=x_([],[u.x,u.y,0,1],l);return new x(d[0]/d[3],d[1]/d[3])}class cj extends mT{}let uj;Ot("HeatmapBucket",cj,{omit:["layers"]});var DZ={get paint(){return uj=uj||new ni({"heatmap-radius":new en(Ne.paint_heatmap["heatmap-radius"]),"heatmap-weight":new en(Ne.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Bt(Ne.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Oy(Ne.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Bt(Ne.paint_heatmap["heatmap-opacity"])})}};function bT(u,{width:l,height:d},m,b){if(b){if(b instanceof Uint8ClampedArray)b=new Uint8Array(b.buffer);else if(b.length!==l*d*m)throw new RangeError(`mismatched image size. expected: ${b.length} but got: ${l*d*m}`)}else b=new Uint8Array(l*d*m);return u.width=l,u.height=d,u.data=b,u}function dj(u,{width:l,height:d},m){if(l===u.width&&d===u.height)return;const b=bT({},{width:l,height:d},m);xT(u,b,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,d)},m),u.width=l,u.height=d,u.data=b.data}function xT(u,l,d,m,b,k){if(b.width===0||b.height===0)return l;if(b.width>u.width||b.height>u.height||d.x>u.width-b.width||d.y>u.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>l.width||b.height>l.height||m.x>l.width-b.width||m.y>l.height-b.height)throw new RangeError("out of range destination coordinates for image copy");const T=u.data,D=l.data;if(T===D)throw new Error("srcData equals dstData, so image is already copied");for(let B=0;B<b.height;B++){const W=((d.y+B)*u.width+d.x)*k,H=((m.y+B)*l.width+m.x)*k;for(let Z=0;Z<b.width*k;Z++)D[H+Z]=T[W+Z]}return l}class zy{constructor(l,d){bT(this,l,1,d)}resize(l){dj(this,l,1)}clone(){return new zy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,b,k){xT(l,d,m,b,k,1)}}class Da{constructor(l,d){bT(this,l,4,d)}resize(l){dj(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Da({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,b,k){xT(l,d,m,b,k,4)}}function fj(u){const l={},d=u.resolution||256,m=u.clips?u.clips.length:1,b=u.image||new Da({width:d,height:m});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const k=(T,D,B)=>{l[u.evaluationKey]=B;const W=u.expression.evaluate(l);b.data[T+D+0]=Math.floor(255*W.r/W.a),b.data[T+D+1]=Math.floor(255*W.g/W.a),b.data[T+D+2]=Math.floor(255*W.b/W.a),b.data[T+D+3]=Math.floor(255*W.a)};if(u.clips)for(let T=0,D=0;T<m;++T,D+=4*d)for(let B=0,W=0;B<d;B++,W+=4){const H=B/(d-1),{start:Z,end:ee}=u.clips[T];k(D,W,Z*(1-H)+ee*H)}else for(let T=0,D=0;T<d;T++,D+=4)k(0,D,T/(d-1));return b}Ot("AlphaImage",zy),Ot("RGBAImage",Da);class LZ extends ya{createBucket(l){return new cj(l)}constructor(l){super(l,DZ),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=fj({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let hj;var jZ={get paint(){return hj=hj||new ni({"hillshade-illumination-direction":new Bt(Ne.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Bt(Ne.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Bt(Ne.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Bt(Ne.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Bt(Ne.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Bt(Ne.paint_hillshade["hillshade-accent-color"])})}};class NZ extends ya{constructor(l){super(l,jZ)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const zZ=$r([{name:"a_pos",components:2,type:"Int16"}],4),{members:BZ}=zZ;var _T={exports:{}};function __(u,l,d){d=d||2;var m,b,k,T,D,B,W,H=l&&l.length,Z=H?l[0]*d:u.length,ee=pj(u,0,Z,d,!0),ie=[];if(!ee||ee.next===ee.prev)return ie;if(H&&(ee=function(ce,ge,_e,Re){var Te,Le,ze,Ze=[];for(Te=0,Le=ge.length;Te<Le;Te++)(ze=pj(ce,ge[Te]*Re,Te<Le-1?ge[Te+1]*Re:ce.length,Re,!1))===ze.next&&(ze.steiner=!0),Ze.push(YZ(ze));for(Ze.sort(qZ),Te=0;Te<Ze.length;Te++)_e=GZ(Ze[Te],_e);return _e}(u,l,ee,d)),u.length>80*d){m=k=u[0],b=T=u[1];for(var oe=d;oe<Z;oe+=d)(D=u[oe])<m&&(m=D),(B=u[oe+1])<b&&(b=B),D>k&&(k=D),B>T&&(T=B);W=(W=Math.max(k-m,T-b))!==0?32767/W:0}return By(ee,ie,d,m,b,W,0),ie}function pj(u,l,d,m,b){var k,T;if(b===kT(u,l,d,m)>0)for(k=l;k<d;k+=m)T=yj(k,u[k],u[k+1],T);else for(k=d-m;k>=l;k-=m)T=yj(k,u[k],u[k+1],T);return T&&w_(T,T.next)&&(Uy(T),T=T.next),T}function xf(u,l){if(!u)return u;l||(l=u);var d,m=u;do if(d=!1,m.steiner||!w_(m,m.next)&&ii(m.prev,m,m.next)!==0)m=m.next;else{if(Uy(m),(m=l=m.prev)===m.next)break;d=!0}while(d||m!==l);return l}function By(u,l,d,m,b,k,T){if(u){!T&&k&&function(H,Z,ee,ie){var oe=H;do oe.z===0&&(oe.z=wT(oe.x,oe.y,Z,ee,ie)),oe.prevZ=oe.prev,oe.nextZ=oe.next,oe=oe.next;while(oe!==H);oe.prevZ.nextZ=null,oe.prevZ=null,function(ce){var ge,_e,Re,Te,Le,ze,Ze,kt,Dt=1;do{for(_e=ce,ce=null,Le=null,ze=0;_e;){for(ze++,Re=_e,Ze=0,ge=0;ge<Dt&&(Ze++,Re=Re.nextZ);ge++);for(kt=Dt;Ze>0||kt>0&&Re;)Ze!==0&&(kt===0||!Re||_e.z<=Re.z)?(Te=_e,_e=_e.nextZ,Ze--):(Te=Re,Re=Re.nextZ,kt--),Le?Le.nextZ=Te:ce=Te,Te.prevZ=Le,Le=Te;_e=Re}Le.nextZ=null,Dt*=2}while(ze>1)}(oe)}(u,m,b,k);for(var D,B,W=u;u.prev!==u.next;)if(D=u.prev,B=u.next,k?UZ(u,m,b,k):FZ(u))l.push(D.i/d|0),l.push(u.i/d|0),l.push(B.i/d|0),Uy(u),u=B.next,W=B.next;else if((u=B)===W){T?T===1?By(u=VZ(xf(u),l,d),l,d,m,b,k,2):T===2&&WZ(u,l,d,m,b,k):By(xf(u),l,d,m,b,k,1);break}}}function FZ(u){var l=u.prev,d=u,m=u.next;if(ii(l,d,m)>=0)return!1;for(var b=l.x,k=d.x,T=m.x,D=l.y,B=d.y,W=m.y,H=b<k?b<T?b:T:k<T?k:T,Z=D<B?D<W?D:W:B<W?B:W,ee=b>k?b>T?b:T:k>T?k:T,ie=D>B?D>W?D:W:B>W?B:W,oe=m.next;oe!==l;){if(oe.x>=H&&oe.x<=ee&&oe.y>=Z&&oe.y<=ie&&cp(b,D,k,B,T,W,oe.x,oe.y)&&ii(oe.prev,oe,oe.next)>=0)return!1;oe=oe.next}return!0}function UZ(u,l,d,m){var b=u.prev,k=u,T=u.next;if(ii(b,k,T)>=0)return!1;for(var D=b.x,B=k.x,W=T.x,H=b.y,Z=k.y,ee=T.y,ie=D<B?D<W?D:W:B<W?B:W,oe=H<Z?H<ee?H:ee:Z<ee?Z:ee,ce=D>B?D>W?D:W:B>W?B:W,ge=H>Z?H>ee?H:ee:Z>ee?Z:ee,_e=wT(ie,oe,l,d,m),Re=wT(ce,ge,l,d,m),Te=u.prevZ,Le=u.nextZ;Te&&Te.z>=_e&&Le&&Le.z<=Re;){if(Te.x>=ie&&Te.x<=ce&&Te.y>=oe&&Te.y<=ge&&Te!==b&&Te!==T&&cp(D,H,B,Z,W,ee,Te.x,Te.y)&&ii(Te.prev,Te,Te.next)>=0||(Te=Te.prevZ,Le.x>=ie&&Le.x<=ce&&Le.y>=oe&&Le.y<=ge&&Le!==b&&Le!==T&&cp(D,H,B,Z,W,ee,Le.x,Le.y)&&ii(Le.prev,Le,Le.next)>=0))return!1;Le=Le.nextZ}for(;Te&&Te.z>=_e;){if(Te.x>=ie&&Te.x<=ce&&Te.y>=oe&&Te.y<=ge&&Te!==b&&Te!==T&&cp(D,H,B,Z,W,ee,Te.x,Te.y)&&ii(Te.prev,Te,Te.next)>=0)return!1;Te=Te.prevZ}for(;Le&&Le.z<=Re;){if(Le.x>=ie&&Le.x<=ce&&Le.y>=oe&&Le.y<=ge&&Le!==b&&Le!==T&&cp(D,H,B,Z,W,ee,Le.x,Le.y)&&ii(Le.prev,Le,Le.next)>=0)return!1;Le=Le.nextZ}return!0}function VZ(u,l,d){var m=u;do{var b=m.prev,k=m.next.next;!w_(b,k)&&mj(b,m,m.next,k)&&Fy(b,k)&&Fy(k,b)&&(l.push(b.i/d|0),l.push(m.i/d|0),l.push(k.i/d|0),Uy(m),Uy(m.next),m=u=k),m=m.next}while(m!==u);return xf(m)}function WZ(u,l,d,m,b,k){var T=u;do{for(var D=T.next.next;D!==T.prev;){if(T.i!==D.i&&KZ(T,D)){var B=gj(T,D);return T=xf(T,T.next),B=xf(B,B.next),By(T,l,d,m,b,k,0),void By(B,l,d,m,b,k,0)}D=D.next}T=T.next}while(T!==u)}function qZ(u,l){return u.x-l.x}function GZ(u,l){var d=function(b,k){var T,D=k,B=b.x,W=b.y,H=-1/0;do{if(W<=D.y&&W>=D.next.y&&D.next.y!==D.y){var Z=D.x+(W-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if(Z<=B&&Z>H&&(H=Z,T=D.x<D.next.x?D:D.next,Z===B))return T}D=D.next}while(D!==k);if(!T)return null;var ee,ie=T,oe=T.x,ce=T.y,ge=1/0;D=T;do B>=D.x&&D.x>=oe&&B!==D.x&&cp(W<ce?B:H,W,oe,ce,W<ce?H:B,W,D.x,D.y)&&(ee=Math.abs(W-D.y)/(B-D.x),Fy(D,b)&&(ee<ge||ee===ge&&(D.x>T.x||D.x===T.x&&HZ(T,D)))&&(T=D,ge=ee)),D=D.next;while(D!==ie);return T}(u,l);if(!d)return l;var m=gj(d,u);return xf(m,m.next),xf(d,d.next)}function HZ(u,l){return ii(u.prev,u,l.prev)<0&&ii(l.next,u,u.next)<0}function wT(u,l,d,m,b){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-d)*b|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-m)*b|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function YZ(u){var l=u,d=u;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==u);return d}function cp(u,l,d,m,b,k,T,D){return(b-T)*(l-D)>=(u-T)*(k-D)&&(u-T)*(m-D)>=(d-T)*(l-D)&&(d-T)*(k-D)>=(b-T)*(m-D)}function KZ(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(d,m){var b=d;do{if(b.i!==d.i&&b.next.i!==d.i&&b.i!==m.i&&b.next.i!==m.i&&mj(b,b.next,d,m))return!0;b=b.next}while(b!==d);return!1}(u,l)&&(Fy(u,l)&&Fy(l,u)&&function(d,m){var b=d,k=!1,T=(d.x+m.x)/2,D=(d.y+m.y)/2;do b.y>D!=b.next.y>D&&b.next.y!==b.y&&T<(b.next.x-b.x)*(D-b.y)/(b.next.y-b.y)+b.x&&(k=!k),b=b.next;while(b!==d);return k}(u,l)&&(ii(u.prev,u,l.prev)||ii(u,l.prev,l))||w_(u,l)&&ii(u.prev,u,u.next)>0&&ii(l.prev,l,l.next)>0)}function ii(u,l,d){return(l.y-u.y)*(d.x-l.x)-(l.x-u.x)*(d.y-l.y)}function w_(u,l){return u.x===l.x&&u.y===l.y}function mj(u,l,d,m){var b=k_(ii(u,l,d)),k=k_(ii(u,l,m)),T=k_(ii(d,m,u)),D=k_(ii(d,m,l));return b!==k&&T!==D||!(b!==0||!S_(u,d,l))||!(k!==0||!S_(u,m,l))||!(T!==0||!S_(d,u,m))||!(D!==0||!S_(d,l,m))}function S_(u,l,d){return l.x<=Math.max(u.x,d.x)&&l.x>=Math.min(u.x,d.x)&&l.y<=Math.max(u.y,d.y)&&l.y>=Math.min(u.y,d.y)}function k_(u){return u>0?1:u<0?-1:0}function Fy(u,l){return ii(u.prev,u,u.next)<0?ii(u,l,u.next)>=0&&ii(u,u.prev,l)>=0:ii(u,l,u.prev)<0||ii(u,u.next,l)<0}function gj(u,l){var d=new ST(u.i,u.x,u.y),m=new ST(l.i,l.x,l.y),b=u.next,k=l.prev;return u.next=l,l.prev=u,d.next=b,b.prev=d,m.next=d,d.prev=m,k.next=m,m.prev=k,m}function yj(u,l,d,m){var b=new ST(u,l,d);return m?(b.next=m.next,b.prev=m,m.next.prev=b,m.next=b):(b.prev=b,b.next=b),b}function Uy(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function ST(u,l,d){this.i=u,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function kT(u,l,d,m){for(var b=0,k=l,T=d-m;k<d;k+=m)b+=(u[T]-u[k])*(u[k+1]+u[T+1]),T=k;return b}_T.exports=__,_T.exports.default=__,__.deviation=function(u,l,d,m){var b=l&&l.length,k=Math.abs(kT(u,0,b?l[0]*d:u.length,d));if(b)for(var T=0,D=l.length;T<D;T++)k-=Math.abs(kT(u,l[T]*d,T<D-1?l[T+1]*d:u.length,d));var B=0;for(T=0;T<m.length;T+=3){var W=m[T]*d,H=m[T+1]*d,Z=m[T+2]*d;B+=Math.abs((u[W]-u[Z])*(u[H+1]-u[W+1])-(u[W]-u[H])*(u[Z+1]-u[W+1]))}return k===0&&B===0?0:Math.abs((B-k)/k)},__.flatten=function(u){for(var l=u[0][0].length,d={vertices:[],holes:[],dimensions:l},m=0,b=0;b<u.length;b++){for(var k=0;k<u[b].length;k++)for(var T=0;T<l;T++)d.vertices.push(u[b][k][T]);b>0&&d.holes.push(m+=u[b-1].length)}return d};var vj=h(_T.exports);function ZZ(u,l,d,m,b){bj(u,l,d||0,m||u.length-1,b||XZ)}function bj(u,l,d,m,b){for(;m>d;){if(m-d>600){var k=m-d+1,T=l-d+1,D=Math.log(k),B=.5*Math.exp(2*D/3),W=.5*Math.sqrt(D*B*(k-B)/k)*(T-k/2<0?-1:1);bj(u,l,Math.max(d,Math.floor(l-T*B/k+W)),Math.min(m,Math.floor(l+(k-T)*B/k+W)),b)}var H=u[l],Z=d,ee=m;for(Vy(u,d,l),b(u[m],H)>0&&Vy(u,d,m);Z<ee;){for(Vy(u,Z,ee),Z++,ee--;b(u[Z],H)<0;)Z++;for(;b(u[ee],H)>0;)ee--}b(u[d],H)===0?Vy(u,d,ee):Vy(u,++ee,m),ee<=l&&(d=ee+1),l<=ee&&(m=ee-1)}}function Vy(u,l,d){var m=u[l];u[l]=u[d],u[d]=m}function XZ(u,l){return u<l?-1:u>l?1:0}function CT(u,l){const d=u.length;if(d<=1)return[u];const m=[];let b,k;for(let T=0;T<d;T++){const D=Oe(u[T]);D!==0&&(u[T].area=Math.abs(D),k===void 0&&(k=D<0),k===D<0?(b&&m.push(b),b=[u[T]]):b.push(u[T]))}if(b&&m.push(b),l>1)for(let T=0;T<m.length;T++)m[T].length<=l||(ZZ(m[T],l,1,m[T].length-1,JZ),m[T]=m[T].slice(0,l));return m}function JZ(u,l){return l.area-u.area}function TT(u,l,d){const m=d.patternDependencies;let b=!1;for(const k of l){const T=k.paint.get(`${u}-pattern`);T.isConstant()||(b=!0);const D=T.constantOr(null);D&&(b=!0,m[D.to]=!0,m[D.from]=!0)}return b}function PT(u,l,d,m,b){const k=b.patternDependencies;for(const T of l){const D=T.paint.get(`${u}-pattern`).value;if(D.kind!=="constant"){let B=D.evaluate({zoom:m-1},d,{},b.availableImages),W=D.evaluate({zoom:m},d,{},b.availableImages),H=D.evaluate({zoom:m+1},d,{},b.availableImages);B=B&&B.name?B.name:B,W=W&&W.name?W.name:W,H=H&&H.name?H.name:H,k[B]=!0,k[W]=!0,k[H]=!0,d.patterns[T.id]={min:B,mid:W,max:H}}}return d}class ET{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _n,this.indexArray=new Ni,this.indexArray2=new yi,this.programConfigurations=new Qs(l.layers,l.zoom),this.segments=new xr,this.segments2=new xr,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=TT("fill",this.layers,d);const b=this.layers[0].layout.get("fill-sort-key"),k=!b.isConstant(),T=[];for(const{feature:D,id:B,index:W,sourceLayerIndex:H}of l){const Z=this.layers[0]._featureFilter.needGeometry,ee=bf(D,Z);if(!this.layers[0]._featureFilter.filter(new br(this.zoom),ee,m))continue;const ie=k?b.evaluate(ee,{},m,d.availableImages):void 0,oe={id:B,properties:D.properties,type:D.type,sourceLayerIndex:H,index:W,geometry:Z?ee.geometry:vf(D),patterns:{},sortKey:ie};T.push(oe)}k&&T.sort((D,B)=>D.sortKey-B.sortKey);for(const D of T){const{geometry:B,index:W,sourceLayerIndex:H}=D;if(this.hasPattern){const Z=PT("fill",this.layers,D,this.zoom,d);this.patternFeatures.push(Z)}else this.addFeature(D,B,W,m,{});d.featureIndex.insert(l[W].feature,B,W,H,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,BZ),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,m,b,k){for(const T of CT(d,500)){let D=0;for(const ie of T)D+=ie.length;const B=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray),W=B.vertexLength,H=[],Z=[];for(const ie of T){if(ie.length===0)continue;ie!==T[0]&&Z.push(H.length/2);const oe=this.segments2.prepareSegment(ie.length,this.layoutVertexArray,this.indexArray2),ce=oe.vertexLength;this.layoutVertexArray.emplaceBack(ie[0].x,ie[0].y),this.indexArray2.emplaceBack(ce+ie.length-1,ce),H.push(ie[0].x),H.push(ie[0].y);for(let ge=1;ge<ie.length;ge++)this.layoutVertexArray.emplaceBack(ie[ge].x,ie[ge].y),this.indexArray2.emplaceBack(ce+ge-1,ce+ge),H.push(ie[ge].x),H.push(ie[ge].y);oe.vertexLength+=ie.length,oe.primitiveLength+=ie.length}const ee=vj(H,Z);for(let ie=0;ie<ee.length;ie+=3)this.indexArray.emplaceBack(W+ee[ie],W+ee[ie+1],W+ee[ie+2]);B.vertexLength+=D,B.primitiveLength+=ee.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,k,b)}}let xj,_j;Ot("FillBucket",ET,{omit:["layers","patternFeatures"]});var QZ={get paint(){return _j=_j||new ni({"fill-antialias":new Bt(Ne.paint_fill["fill-antialias"]),"fill-opacity":new en(Ne.paint_fill["fill-opacity"]),"fill-color":new en(Ne.paint_fill["fill-color"]),"fill-outline-color":new en(Ne.paint_fill["fill-outline-color"]),"fill-translate":new Bt(Ne.paint_fill["fill-translate"]),"fill-translate-anchor":new Bt(Ne.paint_fill["fill-translate-anchor"]),"fill-pattern":new mf(Ne.paint_fill["fill-pattern"])})},get layout(){return xj=xj||new ni({"fill-sort-key":new en(Ne.layout_fill["fill-sort-key"])})}};class eX extends ya{constructor(l){super(l,QZ)}recalculate(l,d){super.recalculate(l,d);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new ET(l)}queryRadius(){return v_(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,m,b,k,T,D){return nj(b_(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),T.angle,D),b)}isTileClipped(){return!0}}const tX=$r([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),nX=$r([{name:"a_centroid",components:2,type:"Int16"}],4),{members:rX}=tX;var Uu={},iX=g,wj=up;function up(u,l,d,m,b){this.properties={},this.extent=d,this.type=0,this._pbf=u,this._geometry=-1,this._keys=m,this._values=b,u.readFields(oX,this,l)}function oX(u,l,d){u==1?l.id=d.readVarint():u==2?function(m,b){for(var k=m.readVarint()+m.pos;m.pos<k;){var T=b._keys[m.readVarint()],D=b._values[m.readVarint()];b.properties[T]=D}}(d,l):u==3?l.type=d.readVarint():u==4&&(l._geometry=d.pos)}function aX(u){for(var l,d,m=0,b=0,k=u.length,T=k-1;b<k;T=b++)m+=((d=u[T]).x-(l=u[b]).x)*(l.y+d.y);return m}up.types=["Unknown","Point","LineString","Polygon"],up.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,d=u.readVarint()+u.pos,m=1,b=0,k=0,T=0,D=[];u.pos<d;){if(b<=0){var B=u.readVarint();m=7&B,b=B>>3}if(b--,m===1||m===2)k+=u.readSVarint(),T+=u.readSVarint(),m===1&&(l&&D.push(l),l=[]),l.push(new iX(k,T));else{if(m!==7)throw new Error("unknown command "+m);l&&l.push(l[0].clone())}}return l&&D.push(l),D},up.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,d=1,m=0,b=0,k=0,T=1/0,D=-1/0,B=1/0,W=-1/0;u.pos<l;){if(m<=0){var H=u.readVarint();d=7&H,m=H>>3}if(m--,d===1||d===2)(b+=u.readSVarint())<T&&(T=b),b>D&&(D=b),(k+=u.readSVarint())<B&&(B=k),k>W&&(W=k);else if(d!==7)throw new Error("unknown command "+d)}return[T,B,D,W]},up.prototype.toGeoJSON=function(u,l,d){var m,b,k=this.extent*Math.pow(2,d),T=this.extent*u,D=this.extent*l,B=this.loadGeometry(),W=up.types[this.type];function H(ie){for(var oe=0;oe<ie.length;oe++){var ce=ie[oe];ie[oe]=[360*(ce.x+T)/k-180,360/Math.PI*Math.atan(Math.exp((180-360*(ce.y+D)/k)*Math.PI/180))-90]}}switch(this.type){case 1:var Z=[];for(m=0;m<B.length;m++)Z[m]=B[m][0];H(B=Z);break;case 2:for(m=0;m<B.length;m++)H(B[m]);break;case 3:for(B=function(ie){var oe=ie.length;if(oe<=1)return[ie];for(var ce,ge,_e=[],Re=0;Re<oe;Re++){var Te=aX(ie[Re]);Te!==0&&(ge===void 0&&(ge=Te<0),ge===Te<0?(ce&&_e.push(ce),ce=[ie[Re]]):ce.push(ie[Re]))}return ce&&_e.push(ce),_e}(B),m=0;m<B.length;m++)for(b=0;b<B[m].length;b++)H(B[m][b])}B.length===1?B=B[0]:W="Multi"+W;var ee={type:"Feature",geometry:{type:W,coordinates:B},properties:this.properties};return"id"in this&&(ee.id=this.id),ee};var sX=wj,Sj=kj;function kj(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(lX,this,l),this.length=this._features.length}function lX(u,l,d){u===15?l.version=d.readVarint():u===1?l.name=d.readString():u===5?l.extent=d.readVarint():u===2?l._features.push(d.pos):u===3?l._keys.push(d.readString()):u===4&&l._values.push(function(m){for(var b=null,k=m.readVarint()+m.pos;m.pos<k;){var T=m.readVarint()>>3;b=T===1?m.readString():T===2?m.readFloat():T===3?m.readDouble():T===4?m.readVarint64():T===5?m.readVarint():T===6?m.readSVarint():T===7?m.readBoolean():null}return b}(d))}kj.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new sX(this._pbf,l,this.extent,this._keys,this._values)};var cX=Sj;function uX(u,l,d){if(u===3){var m=new cX(d,d.readVarint()+d.pos);m.length&&(l[m.name]=m)}}Uu.VectorTile=function(u,l){this.layers=u.readFields(uX,{},l)},Uu.VectorTileFeature=wj,Uu.VectorTileLayer=Sj;const dX=Uu.VectorTileFeature.types,OT=Math.pow(2,13);function Wy(u,l,d,m,b,k,T,D){u.emplaceBack(l,d,2*Math.floor(m*OT)+T,b*OT*2,k*OT*2,Math.round(D))}class MT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new bt,this.centroidVertexArray=new ct,this.indexArray=new Ni,this.programConfigurations=new Qs(l.layers,l.zoom),this.segments=new xr,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.features=[],this.hasPattern=TT("fill-extrusion",this.layers,d);for(const{feature:b,id:k,index:T,sourceLayerIndex:D}of l){const B=this.layers[0]._featureFilter.needGeometry,W=bf(b,B);if(!this.layers[0]._featureFilter.filter(new br(this.zoom),W,m))continue;const H={id:k,sourceLayerIndex:D,index:T,geometry:B?W.geometry:vf(b),properties:b.properties,type:b.type,patterns:{}};this.hasPattern?this.features.push(PT("fill-extrusion",this.layers,H,this.zoom,d)):this.addFeature(H,H.geometry,T,m,{}),d.featureIndex.insert(b,H.geometry,T,D,this.index,!0)}}addFeatures(l,d,m){for(const b of this.features){const{geometry:k}=b;this.addFeature(b,k,b.index,d,m)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,rX),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,nX.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,m,b,k){const T={x:0,y:0,vertexCount:0};for(const D of CT(d,500)){let B=0;for(const oe of D)B+=oe.length;let W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const oe of D){if(oe.length===0||hX(oe))continue;let ce=0;for(let ge=0;ge<oe.length;ge++){const _e=oe[ge];if(ge>=1){const Re=oe[ge-1];if(!fX(_e,Re)){W.vertexLength+4>xr.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Te=_e.sub(Re)._perp()._unit(),Le=Re.dist(_e);ce+Le>32768&&(ce=0),Wy(this.layoutVertexArray,_e.x,_e.y,Te.x,Te.y,0,0,ce),Wy(this.layoutVertexArray,_e.x,_e.y,Te.x,Te.y,0,1,ce),T.x+=2*_e.x,T.y+=2*_e.y,T.vertexCount+=2,ce+=Le,Wy(this.layoutVertexArray,Re.x,Re.y,Te.x,Te.y,0,0,ce),Wy(this.layoutVertexArray,Re.x,Re.y,Te.x,Te.y,0,1,ce),T.x+=2*Re.x,T.y+=2*Re.y,T.vertexCount+=2;const ze=W.vertexLength;this.indexArray.emplaceBack(ze,ze+2,ze+1),this.indexArray.emplaceBack(ze+1,ze+2,ze+3),W.vertexLength+=4,W.primitiveLength+=2}}}}if(W.vertexLength+B>xr.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(B,this.layoutVertexArray,this.indexArray)),dX[l.type]!=="Polygon")continue;const H=[],Z=[],ee=W.vertexLength;for(const oe of D)if(oe.length!==0){oe!==D[0]&&Z.push(H.length/2);for(let ce=0;ce<oe.length;ce++){const ge=oe[ce];Wy(this.layoutVertexArray,ge.x,ge.y,0,0,1,1,0),T.x+=ge.x,T.y+=ge.y,T.vertexCount+=1,H.push(ge.x),H.push(ge.y)}}const ie=vj(H,Z);for(let oe=0;oe<ie.length;oe+=3)this.indexArray.emplaceBack(ee+ie[oe],ee+ie[oe+2],ee+ie[oe+1]);W.primitiveLength+=ie.length/3,W.vertexLength+=B}for(let D=0;D<T.vertexCount;D++)this.centroidVertexArray.emplaceBack(Math.floor(T.x/T.vertexCount),Math.floor(T.y/T.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,k,b)}}function fX(u,l){return u.x===l.x&&(u.x<0||u.x>di)||u.y===l.y&&(u.y<0||u.y>di)}function hX(u){return u.every(l=>l.x<0)||u.every(l=>l.x>di)||u.every(l=>l.y<0)||u.every(l=>l.y>di)}let Cj;Ot("FillExtrusionBucket",MT,{omit:["layers","features"]});var pX={get paint(){return Cj=Cj||new ni({"fill-extrusion-opacity":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new en(Ne["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new mf(Ne["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new en(Ne["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new en(Ne["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class mX extends ya{constructor(l){super(l,pX)}createBucket(l){return new MT(l)}queryRadius(){return v_(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,m,b,k,T,D,B){const W=b_(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),T.angle,D),H=this.paint.get("fill-extrusion-height").evaluate(d,m),Z=this.paint.get("fill-extrusion-base").evaluate(d,m),ee=function(oe,ce,ge,_e){const Re=[];for(const Te of oe){const Le=[Te.x,Te.y,0,1];x_(Le,Le,ce),Re.push(new x(Le[0]/Le[3],Le[1]/Le[3]))}return Re}(W,B),ie=function(oe,ce,ge,_e){const Re=[],Te=[],Le=_e[8]*ce,ze=_e[9]*ce,Ze=_e[10]*ce,kt=_e[11]*ce,Dt=_e[8]*ge,wt=_e[9]*ge,xt=_e[10]*ge,ht=_e[11]*ge;for(const Mt of oe){const gt=[],it=[];for(const Yt of Mt){const Nt=Yt.x,yn=Yt.y,_r=_e[0]*Nt+_e[4]*yn+_e[12],Er=_e[1]*Nt+_e[5]*yn+_e[13],xi=_e[2]*Nt+_e[6]*yn+_e[14],ba=_e[3]*Nt+_e[7]*yn+_e[15],To=xi+Ze,fi=ba+kt,Bi=_r+Dt,Ji=Er+wt,Po=xi+xt,Eo=ba+ht,_i=new x((_r+Le)/fi,(Er+ze)/fi);_i.z=To/fi,gt.push(_i);const wi=new x(Bi/Eo,Ji/Eo);wi.z=Po/Eo,it.push(wi)}Re.push(gt),Te.push(it)}return[Re,Te]}(b,Z,H,B);return function(oe,ce,ge){let _e=1/0;nj(ge,ce)&&(_e=Tj(ge,ce[0]));for(let Re=0;Re<ce.length;Re++){const Te=ce[Re],Le=oe[Re];for(let ze=0;ze<Te.length-1;ze++){const Ze=Te[ze],kt=[Ze,Te[ze+1],Le[ze+1],Le[ze],Ze];tj(ge,kt)&&(_e=Math.min(_e,Tj(ge,kt)))}}return _e!==1/0&&_e}(ie[0],ie[1],ee)}}function qy(u,l){return u.x*l.x+u.y*l.y}function Tj(u,l){if(u.length===1){let d=0;const m=l[d++];let b;for(;!b||m.equals(b);)if(b=l[d++],!b)return 1/0;for(;d<l.length;d++){const k=l[d],T=u[0],D=b.sub(m),B=k.sub(m),W=T.sub(m),H=qy(D,D),Z=qy(D,B),ee=qy(B,B),ie=qy(W,D),oe=qy(W,B),ce=H*ee-Z*Z,ge=(ee*ie-Z*oe)/ce,_e=(H*oe-Z*ie)/ce,Re=m.z*(1-ge-_e)+b.z*ge+k.z*_e;if(isFinite(Re))return Re}return 1/0}{let d=1/0;for(const m of l)d=Math.min(d,m.z);return d}}const gX=$r([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:yX}=gX,vX=$r([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:bX}=vX,xX=Uu.VectorTileFeature.types,_X=Math.cos(Math.PI/180*37.5),Pj=Math.pow(2,14)/.5;class AT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new tn,this.layoutVertexArray2=new jt,this.indexArray=new Ni,this.programConfigurations=new Qs(l.layers,l.zoom),this.segments=new xr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=TT("line",this.layers,d);const b=this.layers[0].layout.get("line-sort-key"),k=!b.isConstant(),T=[];for(const{feature:D,id:B,index:W,sourceLayerIndex:H}of l){const Z=this.layers[0]._featureFilter.needGeometry,ee=bf(D,Z);if(!this.layers[0]._featureFilter.filter(new br(this.zoom),ee,m))continue;const ie=k?b.evaluate(ee,{},m):void 0,oe={id:B,properties:D.properties,type:D.type,sourceLayerIndex:H,index:W,geometry:Z?ee.geometry:vf(D),patterns:{},sortKey:ie};T.push(oe)}k&&T.sort((D,B)=>D.sortKey-B.sortKey);for(const D of T){const{geometry:B,index:W,sourceLayerIndex:H}=D;if(this.hasPattern){const Z=PT("line",this.layers,D,this.zoom,d);this.patternFeatures.push(Z)}else this.addFeature(D,B,W,m,{});d.featureIndex.insert(l[W].feature,B,W,H,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,bX)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,yX),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,m,b,k){const T=this.layers[0].layout,D=T.get("line-join").evaluate(l,{}),B=T.get("line-cap"),W=T.get("line-miter-limit"),H=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Z of d)this.addLine(Z,l,D,B,W,H);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,k,b)}addLine(l,d,m,b,k,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let _e=0;_e<l.length-1;_e++)this.totalDistance+=l[_e].dist(l[_e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const D=xX[d.type]==="Polygon";let B=l.length;for(;B>=2&&l[B-1].equals(l[B-2]);)B--;let W=0;for(;W<B-1&&l[W].equals(l[W+1]);)W++;if(B<(D?3:2))return;m==="bevel"&&(k=1.05);const H=this.overscaling<=16?15*di/(512*this.overscaling):0,Z=this.segments.prepareSegment(10*B,this.layoutVertexArray,this.indexArray);let ee,ie,oe,ce,ge;this.e1=this.e2=-1,D&&(ee=l[B-2],ge=l[W].sub(ee)._unit()._perp());for(let _e=W;_e<B;_e++){if(oe=_e===B-1?D?l[W+1]:void 0:l[_e+1],oe&&l[_e].equals(oe))continue;ge&&(ce=ge),ee&&(ie=ee),ee=l[_e],ge=oe?oe.sub(ee)._unit()._perp():ce,ce=ce||ge;let Re=ce.add(ge);Re.x===0&&Re.y===0||Re._unit();const Te=ce.x*ge.x+ce.y*ge.y,Le=Re.x*ge.x+Re.y*ge.y,ze=Le!==0?1/Le:1/0,Ze=2*Math.sqrt(2-2*Le),kt=Le<_X&&ie&&oe,Dt=ce.x*ge.y-ce.y*ge.x>0;if(kt&&_e>W){const ht=ee.dist(ie);if(ht>2*H){const Mt=ee.sub(ee.sub(ie)._mult(H/ht)._round());this.updateDistance(ie,Mt),this.addCurrentVertex(Mt,ce,0,0,Z),ie=Mt}}const wt=ie&&oe;let xt=wt?m:D?"butt":b;if(wt&&xt==="round"&&(ze<T?xt="miter":ze<=2&&(xt="fakeround")),xt==="miter"&&ze>k&&(xt="bevel"),xt==="bevel"&&(ze>2&&(xt="flipbevel"),ze<k&&(xt="miter")),ie&&this.updateDistance(ie,ee),xt==="miter")Re._mult(ze),this.addCurrentVertex(ee,Re,0,0,Z);else if(xt==="flipbevel"){if(ze>100)Re=ge.mult(-1);else{const ht=ze*ce.add(ge).mag()/ce.sub(ge).mag();Re._perp()._mult(ht*(Dt?-1:1))}this.addCurrentVertex(ee,Re,0,0,Z),this.addCurrentVertex(ee,Re.mult(-1),0,0,Z)}else if(xt==="bevel"||xt==="fakeround"){const ht=-Math.sqrt(ze*ze-1),Mt=Dt?ht:0,gt=Dt?0:ht;if(ie&&this.addCurrentVertex(ee,ce,Mt,gt,Z),xt==="fakeround"){const it=Math.round(180*Ze/Math.PI/20);for(let Yt=1;Yt<it;Yt++){let Nt=Yt/it;if(Nt!==.5){const _r=Nt-.5;Nt+=Nt*_r*(Nt-1)*((1.0904+Te*(Te*(3.55645-1.43519*Te)-3.2452))*_r*_r+(.848013+Te*(.215638*Te-1.06021)))}const yn=ge.sub(ce)._mult(Nt)._add(ce)._unit()._mult(Dt?-1:1);this.addHalfVertex(ee,yn.x,yn.y,!1,Dt,0,Z)}}oe&&this.addCurrentVertex(ee,ge,-Mt,-gt,Z)}else if(xt==="butt")this.addCurrentVertex(ee,Re,0,0,Z);else if(xt==="square"){const ht=ie?1:-1;this.addCurrentVertex(ee,Re,ht,ht,Z)}else xt==="round"&&(ie&&(this.addCurrentVertex(ee,ce,0,0,Z),this.addCurrentVertex(ee,ce,1,1,Z,!0)),oe&&(this.addCurrentVertex(ee,ge,-1,-1,Z,!0),this.addCurrentVertex(ee,ge,0,0,Z)));if(kt&&_e<B-1){const ht=ee.dist(oe);if(ht>2*H){const Mt=ee.add(oe.sub(ee)._mult(H/ht)._round());this.updateDistance(ee,Mt),this.addCurrentVertex(Mt,ge,0,0,Z),ee=Mt}}}}addCurrentVertex(l,d,m,b,k,T=!1){const D=d.y*b-d.x,B=-d.y-d.x*b;this.addHalfVertex(l,d.x+d.y*m,d.y-d.x*m,T,!1,m,k),this.addHalfVertex(l,D,B,T,!0,-b,k),this.distance>Pj/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,m,b,k,T))}addHalfVertex({x:l,y:d},m,b,k,T,D,B){const W=.5*(this.lineClips?this.scaledDistance*(Pj-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(k?1:0),(d<<1)+(T?1:0),Math.round(63*m)+128,Math.round(63*b)+128,1+(D===0?0:D<0?-1:1)|(63&W)<<2,W>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const H=B.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,H),B.primitiveLength++),T?this.e2=H:this.e1=H}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let Ej,Oj;Ot("LineBucket",AT,{omit:["layers","patternFeatures"]});var Mj={get paint(){return Oj=Oj||new ni({"line-opacity":new en(Ne.paint_line["line-opacity"]),"line-color":new en(Ne.paint_line["line-color"]),"line-translate":new Bt(Ne.paint_line["line-translate"]),"line-translate-anchor":new Bt(Ne.paint_line["line-translate-anchor"]),"line-width":new en(Ne.paint_line["line-width"]),"line-gap-width":new en(Ne.paint_line["line-gap-width"]),"line-offset":new en(Ne.paint_line["line-offset"]),"line-blur":new en(Ne.paint_line["line-blur"]),"line-dasharray":new Ey(Ne.paint_line["line-dasharray"]),"line-pattern":new mf(Ne.paint_line["line-pattern"]),"line-gradient":new Oy(Ne.paint_line["line-gradient"])})},get layout(){return Ej=Ej||new ni({"line-cap":new Bt(Ne.layout_line["line-cap"]),"line-join":new en(Ne.layout_line["line-join"]),"line-miter-limit":new Bt(Ne.layout_line["line-miter-limit"]),"line-round-limit":new Bt(Ne.layout_line["line-round-limit"]),"line-sort-key":new en(Ne.layout_line["line-sort-key"])})}};class wX extends en{possiblyEvaluate(l,d){return d=new br(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,m,b){return d=q({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,m,b)}}let C_;class SX extends ya{constructor(l){super(l,Mj),this.gradientVersion=0,C_||(C_=new wX(Mj.paint.properties["line-width"].specification),C_.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(m){return m._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof Ll,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=C_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new AT(l)}queryRadius(l){const d=l,m=Aj(jy("line-width",this,d),jy("line-gap-width",this,d)),b=jy("line-offset",this,d);return m/2+Math.abs(b)+v_(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,m,b,k,T,D){const B=b_(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),T.angle,D),W=D/2*Aj(this.paint.get("line-width").evaluate(d,m),this.paint.get("line-gap-width").evaluate(d,m)),H=this.paint.get("line-offset").evaluate(d,m);return H&&(b=function(Z,ee){const ie=[];for(let oe=0;oe<Z.length;oe++){const ce=Z[oe],ge=[];for(let _e=0;_e<ce.length;_e++){const Re=ce[_e-1],Te=ce[_e],Le=ce[_e+1],ze=_e===0?new x(0,0):Te.sub(Re)._unit()._perp(),Ze=_e===ce.length-1?new x(0,0):Le.sub(Te)._unit()._perp(),kt=ze._add(Ze)._unit(),Dt=kt.x*Ze.x+kt.y*Ze.y;Dt!==0&&kt._mult(1/Dt),ge.push(kt._mult(ee)._add(Te))}ie.push(ge)}return ie}(b,H*D)),function(Z,ee,ie){for(let oe=0;oe<ee.length;oe++){const ce=ee[oe];if(Z.length>=3){for(let ge=0;ge<ce.length;ge++)if(sp(Z,ce[ge]))return!0}if(OZ(Z,ce,ie))return!0}return!1}(B,b,W)}isTileClipped(){return!0}}function Aj(u,l){return l>0?l+2*u:u}const kX=$r([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),CX=$r([{name:"a_projected_pos",components:3,type:"Float32"}],4);$r([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const TX=$r([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);$r([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Ij=$r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),PX=$r([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function EX(u,l,d){return u.sections.forEach(m=>{m.text=function(b,k,T){const D=k.layout.get("text-transform").evaluate(T,{});return D==="uppercase"?b=b.toLocaleUpperCase():D==="lowercase"&&(b=b.toLocaleLowerCase()),Yo.applyArabicShaping&&(b=Yo.applyArabicShaping(b)),b}(m.text,l,d)}),u}$r([{name:"triangle",components:3,type:"Uint16"}]),$r([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),$r([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),$r([{type:"Float32",name:"offsetX"}]),$r([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),$r([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Gy={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var bi=24,$j=ar,Rj=function(u,l,d,m,b){var k,T,D=8*b-m-1,B=(1<<D)-1,W=B>>1,H=-7,Z=d?b-1:0,ee=d?-1:1,ie=u[l+Z];for(Z+=ee,k=ie&(1<<-H)-1,ie>>=-H,H+=D;H>0;k=256*k+u[l+Z],Z+=ee,H-=8);for(T=k&(1<<-H)-1,k>>=-H,H+=m;H>0;T=256*T+u[l+Z],Z+=ee,H-=8);if(k===0)k=1-W;else{if(k===B)return T?NaN:1/0*(ie?-1:1);T+=Math.pow(2,m),k-=W}return(ie?-1:1)*T*Math.pow(2,k-m)},Dj=function(u,l,d,m,b,k){var T,D,B,W=8*k-b-1,H=(1<<W)-1,Z=H>>1,ee=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=m?0:k-1,oe=m?1:-1,ce=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(D=isNaN(l)?1:0,T=H):(T=Math.floor(Math.log(l)/Math.LN2),l*(B=Math.pow(2,-T))<1&&(T--,B*=2),(l+=T+Z>=1?ee/B:ee*Math.pow(2,1-Z))*B>=2&&(T++,B/=2),T+Z>=H?(D=0,T=H):T+Z>=1?(D=(l*B-1)*Math.pow(2,b),T+=Z):(D=l*Math.pow(2,Z-1)*Math.pow(2,b),T=0));b>=8;u[d+ie]=255&D,ie+=oe,D/=256,b-=8);for(T=T<<b|D,W+=b;W>0;u[d+ie]=255&T,ie+=oe,T/=256,W-=8);u[d+ie-oe]|=128*ce};function ar(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}ar.Varint=0,ar.Fixed64=1,ar.Bytes=2,ar.Fixed32=5;var IT=4294967296,Lj=1/IT,jj=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Mc(u){return u.type===ar.Bytes?u.readVarint()+u.pos:u.pos+1}function dp(u,l,d){return d?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function Nj(u,l,d){var m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(m);for(var b=d.pos-1;b>=u;b--)d.buf[b+m]=d.buf[b]}function OX(u,l){for(var d=0;d<u.length;d++)l.writeVarint(u[d])}function MX(u,l){for(var d=0;d<u.length;d++)l.writeSVarint(u[d])}function AX(u,l){for(var d=0;d<u.length;d++)l.writeFloat(u[d])}function IX(u,l){for(var d=0;d<u.length;d++)l.writeDouble(u[d])}function $X(u,l){for(var d=0;d<u.length;d++)l.writeBoolean(u[d])}function RX(u,l){for(var d=0;d<u.length;d++)l.writeFixed32(u[d])}function DX(u,l){for(var d=0;d<u.length;d++)l.writeSFixed32(u[d])}function LX(u,l){for(var d=0;d<u.length;d++)l.writeFixed64(u[d])}function jX(u,l){for(var d=0;d<u.length;d++)l.writeSFixed64(u[d])}function T_(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function fp(u,l,d){u[d]=l,u[d+1]=l>>>8,u[d+2]=l>>>16,u[d+3]=l>>>24}function zj(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}ar.prototype={destroy:function(){this.buf=null},readFields:function(u,l,d){for(d=d||this.length;this.pos<d;){var m=this.readVarint(),b=m>>3,k=this.pos;this.type=7&m,u(b,l,this),this.pos===k&&this.skip(m)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=T_(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=zj(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=T_(this.buf,this.pos)+T_(this.buf,this.pos+4)*IT;return this.pos+=8,u},readSFixed64:function(){var u=T_(this.buf,this.pos)+zj(this.buf,this.pos+4)*IT;return this.pos+=8,u},readFloat:function(){var u=Rj(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=Rj(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,d,m=this.buf;return l=127&(d=m[this.pos++]),d<128?l:(l|=(127&(d=m[this.pos++]))<<7,d<128?l:(l|=(127&(d=m[this.pos++]))<<14,d<128?l:(l|=(127&(d=m[this.pos++]))<<21,d<128?l:function(b,k,T){var D,B,W=T.buf;if(D=(112&(B=W[T.pos++]))>>4,B<128||(D|=(127&(B=W[T.pos++]))<<3,B<128)||(D|=(127&(B=W[T.pos++]))<<10,B<128)||(D|=(127&(B=W[T.pos++]))<<17,B<128)||(D|=(127&(B=W[T.pos++]))<<24,B<128)||(D|=(1&(B=W[T.pos++]))<<31,B<128))return dp(b,D,k);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=m[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&jj?function(d,m,b){return jj.decode(d.subarray(m,b))}(this.buf,l,u):function(d,m,b){for(var k="",T=m;T<b;){var D,B,W,H=d[T],Z=null,ee=H>239?4:H>223?3:H>191?2:1;if(T+ee>b)break;ee===1?H<128&&(Z=H):ee===2?(192&(D=d[T+1]))==128&&(Z=(31&H)<<6|63&D)<=127&&(Z=null):ee===3?(B=d[T+2],(192&(D=d[T+1]))==128&&(192&B)==128&&((Z=(15&H)<<12|(63&D)<<6|63&B)<=2047||Z>=55296&&Z<=57343)&&(Z=null)):ee===4&&(B=d[T+2],W=d[T+3],(192&(D=d[T+1]))==128&&(192&B)==128&&(192&W)==128&&((Z=(15&H)<<18|(63&D)<<12|(63&B)<<6|63&W)<=65535||Z>=1114112)&&(Z=null)),Z===null?(Z=65533,ee=1):Z>65535&&(Z-=65536,k+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),k+=String.fromCharCode(Z),T+=ee}return k}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==ar.Bytes)return u.push(this.readVarint(l));var d=Mc(this);for(u=u||[];this.pos<d;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==ar.Bytes)return u.push(this.readSVarint());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==ar.Bytes)return u.push(this.readBoolean());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==ar.Bytes)return u.push(this.readFloat());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==ar.Bytes)return u.push(this.readDouble());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==ar.Bytes)return u.push(this.readFixed32());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==ar.Bytes)return u.push(this.readSFixed32());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==ar.Bytes)return u.push(this.readFixed64());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==ar.Bytes)return u.push(this.readSFixed64());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===ar.Varint)for(;this.buf[this.pos++]>127;);else if(l===ar.Bytes)this.pos=this.readVarint()+this.pos;else if(l===ar.Fixed32)this.pos+=4;else{if(l!==ar.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),fp(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),fp(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),fp(this.buf,-1&u,this.pos),fp(this.buf,Math.floor(u*Lj),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),fp(this.buf,-1&u,this.pos),fp(this.buf,Math.floor(u*Lj),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,d){var m,b;if(l>=0?(m=l%4294967296|0,b=l/4294967296|0):(b=~(-l/4294967296),4294967295^(m=~(-l%4294967296))?m=m+1|0:(m=0,b=b+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(k,T,D){D.buf[D.pos++]=127&k|128,k>>>=7,D.buf[D.pos++]=127&k|128,k>>>=7,D.buf[D.pos++]=127&k|128,k>>>=7,D.buf[D.pos++]=127&k|128,D.buf[D.pos]=127&(k>>>=7)}(m,0,d),function(k,T){var D=(7&k)<<4;T.buf[T.pos++]|=D|((k>>>=3)?128:0),k&&(T.buf[T.pos++]=127&k|((k>>>=7)?128:0),k&&(T.buf[T.pos++]=127&k|((k>>>=7)?128:0),k&&(T.buf[T.pos++]=127&k|((k>>>=7)?128:0),k&&(T.buf[T.pos++]=127&k|((k>>>=7)?128:0),k&&(T.buf[T.pos++]=127&k)))))}(b,d)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(m,b,k){for(var T,D,B=0;B<b.length;B++){if((T=b.charCodeAt(B))>55295&&T<57344){if(!D){T>56319||B+1===b.length?(m[k++]=239,m[k++]=191,m[k++]=189):D=T;continue}if(T<56320){m[k++]=239,m[k++]=191,m[k++]=189,D=T;continue}T=D-55296<<10|T-56320|65536,D=null}else D&&(m[k++]=239,m[k++]=191,m[k++]=189,D=null);T<128?m[k++]=T:(T<2048?m[k++]=T>>6|192:(T<65536?m[k++]=T>>12|224:(m[k++]=T>>18|240,m[k++]=T>>12&63|128),m[k++]=T>>6&63|128),m[k++]=63&T|128)}return k}(this.buf,u,this.pos);var d=this.pos-l;d>=128&&Nj(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(u){this.realloc(4),Dj(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),Dj(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=u[d]},writeRawMessage:function(u,l){this.pos++;var d=this.pos;u(l,this);var m=this.pos-d;m>=128&&Nj(d,m,this),this.pos=d-1,this.writeVarint(m),this.pos+=m},writeMessage:function(u,l,d){this.writeTag(u,ar.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,OX,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,MX,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,$X,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,AX,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,IX,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,RX,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,DX,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,LX,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,jX,l)},writeBytesField:function(u,l){this.writeTag(u,ar.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,ar.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,ar.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,ar.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,ar.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,ar.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,ar.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,ar.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,ar.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,ar.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};var $T=h($j);const RT=3;function NX(u,l,d){u===1&&d.readMessage(zX,l)}function zX(u,l,d){if(u===3){const{id:m,bitmap:b,width:k,height:T,left:D,top:B,advance:W}=d.readMessage(BX,{});l.push({id:m,bitmap:new zy({width:k+2*RT,height:T+2*RT},b),metrics:{width:k,height:T,left:D,top:B,advance:W}})}}function BX(u,l,d){u===1?l.id=d.readVarint():u===2?l.bitmap=d.readBytes():u===3?l.width=d.readVarint():u===4?l.height=d.readVarint():u===5?l.left=d.readSVarint():u===6?l.top=d.readSVarint():u===7&&(l.advance=d.readVarint())}const Bj=RT;function Fj(u){let l=0,d=0;for(const T of u)l+=T.w*T.h,d=Math.max(d,T.w);u.sort((T,D)=>D.h-T.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let b=0,k=0;for(const T of u)for(let D=m.length-1;D>=0;D--){const B=m[D];if(!(T.w>B.w||T.h>B.h)){if(T.x=B.x,T.y=B.y,k=Math.max(k,T.y+T.h),b=Math.max(b,T.x+T.w),T.w===B.w&&T.h===B.h){const W=m.pop();D<m.length&&(m[D]=W)}else T.h===B.h?(B.x+=T.w,B.w-=T.w):T.w===B.w?(B.y+=T.h,B.h-=T.h):(m.push({x:B.x+T.w,y:B.y,w:B.w-T.w,h:T.h}),B.y+=T.h,B.h-=T.h);break}}return{w:b,h:k,fill:l/(b*k)||0}}const Zo=1;class DT{constructor(l,{pixelRatio:d,version:m,stretchX:b,stretchY:k,content:T}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=b,this.stretchY=k,this.content=T,this.version=m}get tl(){return[this.paddedRect.x+Zo,this.paddedRect.y+Zo]}get br(){return[this.paddedRect.x+this.paddedRect.w-Zo,this.paddedRect.y+this.paddedRect.h-Zo]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Zo)/this.pixelRatio,(this.paddedRect.h-2*Zo)/this.pixelRatio]}}class Uj{constructor(l,d){const m={},b={};this.haveRenderCallbacks=[];const k=[];this.addImages(l,m,k),this.addImages(d,b,k);const{w:T,h:D}=Fj(k),B=new Da({width:T||1,height:D||1});for(const W in l){const H=l[W],Z=m[W].paddedRect;Da.copy(H.data,B,{x:0,y:0},{x:Z.x+Zo,y:Z.y+Zo},H.data)}for(const W in d){const H=d[W],Z=b[W].paddedRect,ee=Z.x+Zo,ie=Z.y+Zo,oe=H.data.width,ce=H.data.height;Da.copy(H.data,B,{x:0,y:0},{x:ee,y:ie},H.data),Da.copy(H.data,B,{x:0,y:ce-1},{x:ee,y:ie-1},{width:oe,height:1}),Da.copy(H.data,B,{x:0,y:0},{x:ee,y:ie+ce},{width:oe,height:1}),Da.copy(H.data,B,{x:oe-1,y:0},{x:ee-1,y:ie},{width:1,height:ce}),Da.copy(H.data,B,{x:0,y:0},{x:ee+oe,y:ie},{width:1,height:ce})}this.image=B,this.iconPositions=m,this.patternPositions=b}addImages(l,d,m){for(const b in l){const k=l[b],T={x:0,y:0,w:k.data.width+2*Zo,h:k.data.height+2*Zo};m.push(T),d[b]=new DT(T,k),k.hasRenderCallback&&this.haveRenderCallbacks.push(b)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in l.updatedImages)this.patchUpdatedImage(this.iconPositions[m],l.getImage(m),d),this.patchUpdatedImage(this.patternPositions[m],l.getImage(m),d)}patchUpdatedImage(l,d,m){if(!l||!d||l.version===d.version)return;l.version=d.version;const[b,k]=l.tl;m.update(d.data,void 0,{x:b,y:k})}}var Vu;Ot("ImagePosition",DT),Ot("ImageAtlas",Uj),a.ai=void 0,(Vu=a.ai||(a.ai={}))[Vu.none=0]="none",Vu[Vu.horizontal=1]="horizontal",Vu[Vu.vertical=2]="vertical",Vu[Vu.horizontalOnly=3]="horizontalOnly";const Hy=-17;class Yy{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const m=new Yy;return m.scale=l||1,m.fontStack=d,m}static forImage(l){const d=new Yy;return d.imageName=l,d}}class hp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const m=new hp;for(let b=0;b<l.sections.length;b++){const k=l.sections[b];k.image?m.addImageSection(k):m.addTextSection(k,d)}return m}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let m=0;m<l.length;m++){const b=l.charCodeAt(m+1)||null,k=l.charCodeAt(m-1)||null;d+=b&&s_(b)&&!Gy[l[m+1]]||k&&s_(k)&&!Gy[l[m-1]]||!Gy[l[m]]?l[m]:Gy[l[m]]}return d}(this.text)}trim(){let l=0;for(let m=0;m<this.text.length&&E_[this.text.charCodeAt(m)];m++)l++;let d=this.text.length;for(let m=this.text.length-1;m>=0&&m>=l&&E_[this.text.charCodeAt(m)];m--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const m=new hp;return m.text=this.text.substring(l,d),m.sectionIndex=this.sectionIndex.slice(l,d),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(Yy.forText(l.scale,l.fontStack||d));const m=this.sections.length-1;for(let b=0;b<l.text.length;++b)this.sectionIndex.push(m)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void ke("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(Yy.forImage(d)),this.sectionIndex.push(this.sections.length-1)):ke("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function P_(u,l,d,m,b,k,T,D,B,W,H,Z,ee,ie,oe,ce){const ge=hp.fromFeature(u,b);let _e;Z===a.ai.vertical&&ge.verticalizePunctuation();const{processBidirectionalText:Re,processStyledBidirectionalText:Te}=Yo;if(Re&&ge.sections.length===1){_e=[];const Ze=Re(ge.toString(),LT(ge,W,k,l,m,ie,oe));for(const kt of Ze){const Dt=new hp;Dt.text=kt,Dt.sections=ge.sections;for(let wt=0;wt<kt.length;wt++)Dt.sectionIndex.push(0);_e.push(Dt)}}else if(Te){_e=[];const Ze=Te(ge.text,ge.sectionIndex,LT(ge,W,k,l,m,ie,oe));for(const kt of Ze){const Dt=new hp;Dt.text=kt[0],Dt.sectionIndex=kt[1],Dt.sections=ge.sections,_e.push(Dt)}}else _e=function(Ze,kt){const Dt=[],wt=Ze.text;let xt=0;for(const ht of kt)Dt.push(Ze.substring(xt,ht)),xt=ht;return xt<wt.length&&Dt.push(Ze.substring(xt,wt.length)),Dt}(ge,LT(ge,W,k,l,m,ie,oe));const Le=[],ze={positionedLines:Le,text:ge.toString(),top:H[1],bottom:H[1],left:H[0],right:H[0],writingMode:Z,iconsInText:!1,verticalizable:!1};return function(Ze,kt,Dt,wt,xt,ht,Mt,gt,it,Yt,Nt,yn){let _r=0,Er=Hy,xi=0,ba=0;const To=gt==="right"?1:gt==="left"?0:.5;let fi=0;for(const _i of xt){_i.trim();const wi=_i.getMaxScale(),uo=(wi-1)*bi,Oo={positionedGlyphs:[],lineOffset:0};Ze.positionedLines[fi]=Oo;const fo=Oo.positionedGlyphs;let Xo=0;if(!_i.length()){Er+=ht,++fi;continue}for(let Si=0;Si<_i.length();Si++){const Tn=_i.getSection(Si),ho=_i.getSectionIndex(Si),Qi=_i.getCharCode(Si);let ki=0,hs=null,el=null,tl=null,Ac=bi;const ps=!(it===a.ai.horizontal||!Nt&&!xy(Qi)||Nt&&(E_[Qi]||(Bi=Qi,St.Arabic(Bi)||St["Arabic Supplement"](Bi)||St["Arabic Extended-A"](Bi)||St["Arabic Presentation Forms-A"](Bi)||St["Arabic Presentation Forms-B"](Bi))));if(Tn.imageName){const ja=wt[Tn.imageName];if(!ja)continue;tl=Tn.imageName,Ze.iconsInText=Ze.iconsInText||!0,el=ja.paddedRect;const Qo=ja.displaySize;Tn.scale=Tn.scale*bi/yn,hs={width:Qo[0],height:Qo[1],left:Zo,top:-Bj,advance:ps?Qo[1]:Qo[0]},ki=uo+(bi-Qo[1]*Tn.scale),Ac=hs.advance;const Ic=ps?Qo[0]*Tn.scale-bi*wi:Qo[1]*Tn.scale-bi*wi;Ic>0&&Ic>Xo&&(Xo=Ic)}else{const ja=Dt[Tn.fontStack],Qo=ja&&ja[Qi];if(Qo&&Qo.rect)el=Qo.rect,hs=Qo.metrics;else{const Ic=kt[Tn.fontStack],Qy=Ic&&Ic[Qi];if(!Qy)continue;hs=Qy.metrics}ki=(wi-Tn.scale)*bi}ps?(Ze.verticalizable=!0,fo.push({glyph:Qi,imageName:tl,x:_r,y:Er+ki,vertical:ps,scale:Tn.scale,fontStack:Tn.fontStack,sectionIndex:ho,metrics:hs,rect:el}),_r+=Ac*Tn.scale+Yt):(fo.push({glyph:Qi,imageName:tl,x:_r,y:Er+ki,vertical:ps,scale:Tn.scale,fontStack:Tn.fontStack,sectionIndex:ho,metrics:hs,rect:el}),_r+=hs.advance*Tn.scale+Yt)}fo.length!==0&&(xi=Math.max(_r-Yt,xi),VX(fo,0,fo.length-1,To,Xo)),_r=0;const Jo=ht*wi+Xo;Oo.lineOffset=Math.max(Xo,uo),Er+=Jo,ba=Math.max(Jo,ba),++fi}var Bi;const Ji=Er-Hy,{horizontalAlign:Po,verticalAlign:Eo}=jT(Mt);(function(_i,wi,uo,Oo,fo,Xo,Jo,Si,Tn){const ho=(wi-uo)*fo;let Qi=0;Qi=Xo!==Jo?-Si*Oo-Hy:(-Oo*Tn+.5)*Jo;for(const ki of _i)for(const hs of ki.positionedGlyphs)hs.x+=ho,hs.y+=Qi})(Ze.positionedLines,To,Po,Eo,xi,ba,ht,Ji,xt.length),Ze.top+=-Eo*Ji,Ze.bottom=Ze.top+Ji,Ze.left+=-Po*xi,Ze.right=Ze.left+xi}(ze,l,d,m,_e,T,D,B,Z,W,ee,ce),!function(Ze){for(const kt of Ze)if(kt.positionedGlyphs.length!==0)return!1;return!0}(Le)&&ze}const E_={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},FX={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Vj(u,l,d,m,b,k){if(l.imageName){const T=m[l.imageName];return T?T.displaySize[0]*l.scale*bi/k+b:0}{const T=d[l.fontStack],D=T&&T[u];return D?D.metrics.advance*l.scale+b:0}}function Wj(u,l,d,m){const b=Math.pow(u-l,2);return m?u<l?b/2:2*b:b+Math.abs(d)*d}function UX(u,l,d){let m=0;return u===10&&(m-=1e4),d&&(m+=150),u!==40&&u!==65288||(m+=50),l!==41&&l!==65289||(m+=50),m}function qj(u,l,d,m,b,k){let T=null,D=Wj(l,d,b,k);for(const B of m){const W=Wj(l-B.x,d,b,k)+B.badness;W<=D&&(T=B,D=W)}return{index:u,x:l,priorBreak:T,badness:D}}function Gj(u){return u?Gj(u.priorBreak).concat(u.index):[]}function LT(u,l,d,m,b,k,T){if(k!=="point")return[];if(!u)return[];const D=[],B=function(ee,ie,oe,ce,ge,_e){let Re=0;for(let Te=0;Te<ee.length();Te++){const Le=ee.getSection(Te);Re+=Vj(ee.getCharCode(Te),Le,ce,ge,ie,_e)}return Re/Math.max(1,Math.ceil(Re/oe))}(u,l,d,m,b,T),W=u.text.indexOf("​")>=0;let H=0;for(let ee=0;ee<u.length();ee++){const ie=u.getSection(ee),oe=u.getCharCode(ee);if(E_[oe]||(H+=Vj(oe,ie,m,b,l,T)),ee<u.length()-1){const ce=!((Z=oe)<11904||!(St["Bopomofo Extended"](Z)||St.Bopomofo(Z)||St["CJK Compatibility Forms"](Z)||St["CJK Compatibility Ideographs"](Z)||St["CJK Compatibility"](Z)||St["CJK Radicals Supplement"](Z)||St["CJK Strokes"](Z)||St["CJK Symbols and Punctuation"](Z)||St["CJK Unified Ideographs Extension A"](Z)||St["CJK Unified Ideographs"](Z)||St["Enclosed CJK Letters and Months"](Z)||St["Halfwidth and Fullwidth Forms"](Z)||St.Hiragana(Z)||St["Ideographic Description Characters"](Z)||St["Kangxi Radicals"](Z)||St["Katakana Phonetic Extensions"](Z)||St.Katakana(Z)||St["Vertical Forms"](Z)||St["Yi Radicals"](Z)||St["Yi Syllables"](Z)));(FX[oe]||ce||ie.imageName)&&D.push(qj(ee+1,H,B,D,UX(oe,u.getCharCode(ee+1),ce&&W),!1))}}var Z;return Gj(qj(u.length(),H,B,D,0,!0))}function jT(u){let l=.5,d=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function VX(u,l,d,m,b){if(!m&&!b)return;const k=u[d],T=(u[d].x+k.metrics.advance*k.scale)*m;for(let D=l;D<=d;D++)u[D].x-=T,u[D].y+=b}function WX(u,l,d){const{horizontalAlign:m,verticalAlign:b}=jT(d),k=l[0]-u.displaySize[0]*m,T=l[1]-u.displaySize[1]*b;return{image:u,top:T,bottom:T+u.displaySize[1],left:k,right:k+u.displaySize[0]}}function Hj(u,l,d,m,b,k){const T=u.image;let D;if(T.content){const ge=T.content,_e=T.pixelRatio||1;D=[ge[0]/_e,ge[1]/_e,T.displaySize[0]-ge[2]/_e,T.displaySize[1]-ge[3]/_e]}const B=l.left*k,W=l.right*k;let H,Z,ee,ie;d==="width"||d==="both"?(ie=b[0]+B-m[3],Z=b[0]+W+m[1]):(ie=b[0]+(B+W-T.displaySize[0])/2,Z=ie+T.displaySize[0]);const oe=l.top*k,ce=l.bottom*k;return d==="height"||d==="both"?(H=b[1]+oe-m[0],ee=b[1]+ce+m[2]):(H=b[1]+(oe+ce-T.displaySize[1])/2,ee=H+T.displaySize[1]),{image:T,top:H,right:Z,bottom:ee,left:ie,collisionPadding:D}}const Ky=255,Fl=128,Wu=Ky*Fl;function Yj(u,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new br(u+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:b}=d;let k=0;for(;k<m.length&&m[k]<=u;)k++;k=Math.max(0,k-1);let T=k;for(;T<m.length&&m[T]<u+1;)T++;T=Math.min(m.length-1,T);const D=m[k],B=m[T];return d.kind==="composite"?{kind:"composite",minZoom:D,maxZoom:B,interpolationType:b}:{kind:"camera",minZoom:D,maxZoom:B,minSize:d.evaluate(new br(D)),maxSize:d.evaluate(new br(B)),interpolationType:b}}}function NT(u,l,d){let m="never";const b=u.get(l);return b?m=b:u.get(d)&&(m="always"),m}const qX=Uu.VectorTileFeature.types,GX=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function O_(u,l,d,m,b,k,T,D,B,W,H,Z,ee){const ie=D?Math.min(Wu,Math.round(D[0])):0,oe=D?Math.min(Wu,Math.round(D[1])):0;u.emplaceBack(l,d,Math.round(32*m),Math.round(32*b),k,T,(ie<<1)+(B?1:0),oe,16*W,16*H,256*Z,256*ee)}function zT(u,l,d){u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d)}function HX(u){for(const l of u.sections)if(dT(l.text))return!0;return!1}class BT{constructor(l){this.layoutVertexArray=new vn,this.indexArray=new Ni,this.programConfigurations=l,this.segments=new xr,this.dynamicLayoutVertexArray=new mn,this.opacityVertexArray=new wn,this.hasVisibleVertices=!1,this.placedSymbolArray=new Me}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,m,b){this.isEmpty()||(m&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,kX.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,CX.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,GX,!0),this.opacityVertexBuffer.itemSize=1),(m||b)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ot("SymbolBuffers",BT);class FT{constructor(l,d,m){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new m,this.segments=new xr,this.collisionVertexArray=new fr}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,TX.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ot("CollisionBuffers",FT);class pp{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(T=>T.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=vT([]),this.placementViewportMatrix=vT([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Yj(this.zoom,d["text-size"]),this.iconSizeData=Yj(this.zoom,d["icon-size"]);const m=this.layers[0].layout,b=m.get("symbol-sort-key"),k=m.get("symbol-z-order");this.canOverlap=NT(m,"text-overlap","text-allow-overlap")!=="never"||NT(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=k!=="viewport-y"&&!b.isConstant(),this.sortFeaturesByY=(k==="viewport-y"||k==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(T=>a.ai[T])),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=l.sourceID}createArrays(){this.text=new BT(new Qs(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new BT(new Qs(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new Ie,this.lineVertexArray=new Be,this.symbolInstances=new ve,this.textAnchorOffsets=new Ke}calculateGlyphDependencies(l,d,m,b,k){for(let T=0;T<l.length;T++)if(d[l.charCodeAt(T)]=!0,(m||b)&&k){const D=Gy[l.charAt(T)];D&&(d[D.charCodeAt(0)]=!0)}}populate(l,d,m){const b=this.layers[0],k=b.layout,T=k.get("text-font"),D=k.get("text-field"),B=k.get("icon-image"),W=(D.value.kind!=="constant"||D.value.value instanceof Ki&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),H=B.value.kind!=="constant"||!!B.value.value||Object.keys(B.parameters).length>0,Z=k.get("symbol-sort-key");if(this.features=[],!W&&!H)return;const ee=d.iconDependencies,ie=d.glyphDependencies,oe=d.availableImages,ce=new br(this.zoom);for(const{feature:ge,id:_e,index:Re,sourceLayerIndex:Te}of l){const Le=b._featureFilter.needGeometry,ze=bf(ge,Le);if(!b._featureFilter.filter(ce,ze,m))continue;let Ze,kt;if(Le||(ze.geometry=vf(ge)),W){const wt=b.getValueAndResolveTokens("text-field",ze,m,oe),xt=Ki.factory(wt);HX(xt)&&(this.hasRTLText=!0),(!this.hasRTLText||Ty()==="unavailable"||this.hasRTLText&&Yo.isParsed())&&(Ze=EX(xt,b,ze))}if(H){const wt=b.getValueAndResolveTokens("icon-image",ze,m,oe);kt=wt instanceof ji?wt:ji.fromString(wt)}if(!Ze&&!kt)continue;const Dt=this.sortFeaturesByKey?Z.evaluate(ze,{},m):void 0;if(this.features.push({id:_e,text:Ze,icon:kt,index:Re,sourceLayerIndex:Te,geometry:ze.geometry,properties:ge.properties,type:qX[ge.type],sortKey:Dt}),kt&&(ee[kt.name]=!0),Ze){const wt=T.evaluate(ze,{},m).join(","),xt=k.get("text-rotation-alignment")!=="viewport"&&k.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.ai.vertical)>=0;for(const ht of Ze.sections)if(ht.image)ee[ht.image.name]=!0;else{const Mt=vy(Ze.toString()),gt=ht.fontStack||wt,it=ie[gt]=ie[gt]||{};this.calculateGlyphDependencies(ht.text,it,xt,this.allowVerticalPlacement,Mt)}}}k.get("symbol-placement")==="line"&&(this.features=function(ge){const _e={},Re={},Te=[];let Le=0;function ze(wt){Te.push(ge[wt]),Le++}function Ze(wt,xt,ht){const Mt=Re[wt];return delete Re[wt],Re[xt]=Mt,Te[Mt].geometry[0].pop(),Te[Mt].geometry[0]=Te[Mt].geometry[0].concat(ht[0]),Mt}function kt(wt,xt,ht){const Mt=_e[xt];return delete _e[xt],_e[wt]=Mt,Te[Mt].geometry[0].shift(),Te[Mt].geometry[0]=ht[0].concat(Te[Mt].geometry[0]),Mt}function Dt(wt,xt,ht){const Mt=ht?xt[0][xt[0].length-1]:xt[0][0];return`${wt}:${Mt.x}:${Mt.y}`}for(let wt=0;wt<ge.length;wt++){const xt=ge[wt],ht=xt.geometry,Mt=xt.text?xt.text.toString():null;if(!Mt){ze(wt);continue}const gt=Dt(Mt,ht),it=Dt(Mt,ht,!0);if(gt in Re&&it in _e&&Re[gt]!==_e[it]){const Yt=kt(gt,it,ht),Nt=Ze(gt,it,Te[Yt].geometry);delete _e[gt],delete Re[it],Re[Dt(Mt,Te[Nt].geometry,!0)]=Nt,Te[Yt].geometry=null}else gt in Re?Ze(gt,it,ht):it in _e?kt(gt,it,ht):(ze(wt),_e[gt]=Le-1,Re[it]=Le-1)}return Te.filter(wt=>wt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ge,_e)=>ge.sortKey-_e.sortKey)}update(l,d,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,m),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const m=this.lineVertexArray.length;if(l.segment!==void 0){let b=l.dist(d[l.segment+1]),k=l.dist(d[l.segment]);const T={};for(let D=l.segment+1;D<d.length;D++)T[D]={x:d[D].x,y:d[D].y,tileUnitDistanceFromAnchor:b},D<d.length-1&&(b+=d[D+1].dist(d[D]));for(let D=l.segment||0;D>=0;D--)T[D]={x:d[D].x,y:d[D].y,tileUnitDistanceFromAnchor:k},D>0&&(k+=d[D-1].dist(d[D]));for(let D=0;D<d.length;D++){const B=T[D];this.lineVertexArray.emplaceBack(B.x,B.y,B.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(l,d,m,b,k,T,D,B,W,H,Z,ee){const ie=l.indexArray,oe=l.layoutVertexArray,ce=l.segments.prepareSegment(4*d.length,oe,ie,this.canOverlap?T.sortKey:void 0),ge=this.glyphOffsetArray.length,_e=ce.vertexLength,Re=this.allowVerticalPlacement&&D===a.ai.vertical?Math.PI/2:0,Te=T.text&&T.text.sections;for(let Le=0;Le<d.length;Le++){const{tl:ze,tr:Ze,bl:kt,br:Dt,tex:wt,pixelOffsetTL:xt,pixelOffsetBR:ht,minFontScaleX:Mt,minFontScaleY:gt,glyphOffset:it,isSDF:Yt,sectionIndex:Nt}=d[Le],yn=ce.vertexLength,_r=it[1];O_(oe,B.x,B.y,ze.x,_r+ze.y,wt.x,wt.y,m,Yt,xt.x,xt.y,Mt,gt),O_(oe,B.x,B.y,Ze.x,_r+Ze.y,wt.x+wt.w,wt.y,m,Yt,ht.x,xt.y,Mt,gt),O_(oe,B.x,B.y,kt.x,_r+kt.y,wt.x,wt.y+wt.h,m,Yt,xt.x,ht.y,Mt,gt),O_(oe,B.x,B.y,Dt.x,_r+Dt.y,wt.x+wt.w,wt.y+wt.h,m,Yt,ht.x,ht.y,Mt,gt),zT(l.dynamicLayoutVertexArray,B,Re),ie.emplaceBack(yn,yn+1,yn+2),ie.emplaceBack(yn+1,yn+2,yn+3),ce.vertexLength+=4,ce.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(it[0]),Le!==d.length-1&&Nt===d[Le+1].sectionIndex||l.programConfigurations.populatePaintArrays(oe.length,T,T.index,{},ee,Te&&Te[Nt])}l.placedSymbolArray.emplaceBack(B.x,B.y,ge,this.glyphOffsetArray.length-ge,_e,W,H,B.segment,m?m[0]:0,m?m[1]:0,b[0],b[1],D,0,!1,0,Z)}_addCollisionDebugVertex(l,d,m,b,k,T){return d.emplaceBack(0,0),l.emplaceBack(m.x,m.y,b,k,Math.round(T.x),Math.round(T.y))}addCollisionDebugVertices(l,d,m,b,k,T,D){const B=k.segments.prepareSegment(4,k.layoutVertexArray,k.indexArray),W=B.vertexLength,H=k.layoutVertexArray,Z=k.collisionVertexArray,ee=D.anchorX,ie=D.anchorY;this._addCollisionDebugVertex(H,Z,T,ee,ie,new x(l,d)),this._addCollisionDebugVertex(H,Z,T,ee,ie,new x(m,d)),this._addCollisionDebugVertex(H,Z,T,ee,ie,new x(m,b)),this._addCollisionDebugVertex(H,Z,T,ee,ie,new x(l,b)),B.vertexLength+=4;const oe=k.indexArray;oe.emplaceBack(W,W+1),oe.emplaceBack(W+1,W+2),oe.emplaceBack(W+2,W+3),oe.emplaceBack(W+3,W),B.primitiveLength+=4}addDebugCollisionBoxes(l,d,m,b){for(let k=l;k<d;k++){const T=this.collisionBoxArray.get(k);this.addCollisionDebugVertices(T.x1,T.y1,T.x2,T.y2,b?this.textCollisionBox:this.iconCollisionBox,T.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new FT(Hr,Ij.members,yi),this.iconCollisionBox=new FT(Hr,Ij.members,yi);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,m,b,k,T,D,B,W){const H={};for(let Z=d;Z<m;Z++){const ee=l.get(Z);H.textBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},H.textFeatureIndex=ee.featureIndex;break}for(let Z=b;Z<k;Z++){const ee=l.get(Z);H.verticalTextBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},H.verticalTextFeatureIndex=ee.featureIndex;break}for(let Z=T;Z<D;Z++){const ee=l.get(Z);H.iconBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},H.iconFeatureIndex=ee.featureIndex;break}for(let Z=B;Z<W;Z++){const ee=l.get(Z);H.verticalIconBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},H.verticalIconFeatureIndex=ee.featureIndex;break}return H}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const m=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const m=l.placedSymbolArray.get(d),b=m.vertexStartIndex+4*m.numGlyphs;for(let k=m.vertexStartIndex;k<b;k+=4)l.indexArray.emplaceBack(k,k+1,k+2),l.indexArray.emplaceBack(k+1,k+2,k+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),m=Math.cos(l),b=[],k=[],T=[];for(let D=0;D<this.symbolInstances.length;++D){T.push(D);const B=this.symbolInstances.get(D);b.push(0|Math.round(d*B.anchorX+m*B.anchorY)),k.push(B.featureIndex)}return T.sort((D,B)=>b[D]-b[B]||k[B]-k[D]),T}addToSortKeyRanges(l,d){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===d?m.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const m=this.symbolInstances.get(d);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((b,k,T)=>{b>=0&&T.indexOf(b)===k&&this.addIndicesForPlacedSymbol(this.text,b)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Kj,Zj;Ot("SymbolBucket",pp,{omit:["layers","collisionBoxArray","features","compareText"]}),pp.MAX_GLYPHS=65535,pp.addDynamicAttributes=zT;var UT={get paint(){return Zj=Zj||new ni({"icon-opacity":new en(Ne.paint_symbol["icon-opacity"]),"icon-color":new en(Ne.paint_symbol["icon-color"]),"icon-halo-color":new en(Ne.paint_symbol["icon-halo-color"]),"icon-halo-width":new en(Ne.paint_symbol["icon-halo-width"]),"icon-halo-blur":new en(Ne.paint_symbol["icon-halo-blur"]),"icon-translate":new Bt(Ne.paint_symbol["icon-translate"]),"icon-translate-anchor":new Bt(Ne.paint_symbol["icon-translate-anchor"]),"text-opacity":new en(Ne.paint_symbol["text-opacity"]),"text-color":new en(Ne.paint_symbol["text-color"],{runtimeType:Li,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new en(Ne.paint_symbol["text-halo-color"]),"text-halo-width":new en(Ne.paint_symbol["text-halo-width"]),"text-halo-blur":new en(Ne.paint_symbol["text-halo-blur"]),"text-translate":new Bt(Ne.paint_symbol["text-translate"]),"text-translate-anchor":new Bt(Ne.paint_symbol["text-translate-anchor"])})},get layout(){return Kj=Kj||new ni({"symbol-placement":new Bt(Ne.layout_symbol["symbol-placement"]),"symbol-spacing":new Bt(Ne.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Bt(Ne.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new en(Ne.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Bt(Ne.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Bt(Ne.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Bt(Ne.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Bt(Ne.layout_symbol["icon-ignore-placement"]),"icon-optional":new Bt(Ne.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Bt(Ne.layout_symbol["icon-rotation-alignment"]),"icon-size":new en(Ne.layout_symbol["icon-size"]),"icon-text-fit":new Bt(Ne.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Bt(Ne.layout_symbol["icon-text-fit-padding"]),"icon-image":new en(Ne.layout_symbol["icon-image"]),"icon-rotate":new en(Ne.layout_symbol["icon-rotate"]),"icon-padding":new en(Ne.layout_symbol["icon-padding"]),"icon-keep-upright":new Bt(Ne.layout_symbol["icon-keep-upright"]),"icon-offset":new en(Ne.layout_symbol["icon-offset"]),"icon-anchor":new en(Ne.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Bt(Ne.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Bt(Ne.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Bt(Ne.layout_symbol["text-rotation-alignment"]),"text-field":new en(Ne.layout_symbol["text-field"]),"text-font":new en(Ne.layout_symbol["text-font"]),"text-size":new en(Ne.layout_symbol["text-size"]),"text-max-width":new en(Ne.layout_symbol["text-max-width"]),"text-line-height":new Bt(Ne.layout_symbol["text-line-height"]),"text-letter-spacing":new en(Ne.layout_symbol["text-letter-spacing"]),"text-justify":new en(Ne.layout_symbol["text-justify"]),"text-radial-offset":new en(Ne.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Bt(Ne.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new en(Ne.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new en(Ne.layout_symbol["text-anchor"]),"text-max-angle":new Bt(Ne.layout_symbol["text-max-angle"]),"text-writing-mode":new Bt(Ne.layout_symbol["text-writing-mode"]),"text-rotate":new en(Ne.layout_symbol["text-rotate"]),"text-padding":new Bt(Ne.layout_symbol["text-padding"]),"text-keep-upright":new Bt(Ne.layout_symbol["text-keep-upright"]),"text-transform":new en(Ne.layout_symbol["text-transform"]),"text-offset":new en(Ne.layout_symbol["text-offset"]),"text-allow-overlap":new Bt(Ne.layout_symbol["text-allow-overlap"]),"text-overlap":new Bt(Ne.layout_symbol["text-overlap"]),"text-ignore-placement":new Bt(Ne.layout_symbol["text-ignore-placement"]),"text-optional":new Bt(Ne.layout_symbol["text-optional"])})}};class Xj{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:ui,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ot("FormatSectionOverride",Xj,{omit:["defaultValue"]});class M_ extends ya{constructor(l){super(l,UT)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const b=[];for(const k of m)b.indexOf(k)<0&&b.push(k);this.layout._values["text-writing-mode"]=b}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,m,b){const k=this.layout.get(l).evaluate(d,{},m,b),T=this._unevaluatedLayout._values[l];return T.isDataDriven()||Yh(T.value)||!k?k:function(D,B){return B.replace(/{([^{}]+)}/g,(W,H)=>D&&H in D?String(D[H]):"")}(d.properties,k)}createBucket(l){return new pp(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of UT.paint.overridableProperties){if(!M_.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),m=new Xj(d),b=new fy(m,d.property.specification);let k=null;k=d.value.kind==="constant"||d.value.kind==="source"?new hy("source",b):new Zh("composite",b,d.value.zoomStops),this.paint._values[l]=new lo(d.property,k,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,m){return!(!this.layout||d.isDataDriven()||m.isDataDriven())&&M_.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const m=l.get("text-field"),b=UT.paint.properties[d];let k=!1;const T=D=>{for(const B of D)if(b.overrides&&b.overrides.hasOverride(B))return void(k=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Ki)T(m.value.value.sections);else if(m.value.kind==="source"){const D=W=>{k||(W instanceof vc&&Mr(W.value)===he?T(W.value.sections):W instanceof Hh?T(W.sections):W.eachChild(D))},B=m.value;B._styleExpression&&D(B._styleExpression.expression)}return k}}let Jj;var YX={get paint(){return Jj=Jj||new ni({"background-color":new Bt(Ne.paint_background["background-color"]),"background-pattern":new Ey(Ne.paint_background["background-pattern"]),"background-opacity":new Bt(Ne.paint_background["background-opacity"])})}};class KX extends ya{constructor(l){super(l,YX)}}let Qj;var ZX={get paint(){return Qj=Qj||new ni({"raster-opacity":new Bt(Ne.paint_raster["raster-opacity"]),"raster-hue-rotate":new Bt(Ne.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Bt(Ne.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Bt(Ne.paint_raster["raster-brightness-max"]),"raster-saturation":new Bt(Ne.paint_raster["raster-saturation"]),"raster-contrast":new Bt(Ne.paint_raster["raster-contrast"]),"raster-resampling":new Bt(Ne.paint_raster["raster-resampling"]),"raster-fade-duration":new Bt(Ne.paint_raster["raster-fade-duration"])})}};class XX extends ya{constructor(l){super(l,ZX)}}class JX extends ya{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class QX{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const VT=63710088e-1;class qu{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new qu(F(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,m=this.lat*d,b=l.lat*d,k=Math.sin(m)*Math.sin(b)+Math.cos(m)*Math.cos(b)*Math.cos((l.lng-this.lng)*d);return VT*Math.acos(Math.min(k,1))}static convert(l){if(l instanceof qu)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new qu(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new qu(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const eN=2*Math.PI*VT;function tN(u){return eN*Math.cos(u*Math.PI/180)}function nN(u){return(180+u)/360}function rN(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function iN(u,l){return u/tN(l)}function oN(u){return 360*u-180}function WT(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class A_{constructor(l,d,m=0){this.x=+l,this.y=+d,this.z=+m}static fromLngLat(l,d=0){const m=qu.convert(l);return new A_(nN(m.lng),rN(m.lat),iN(d,m.lat))}toLngLat(){return new qu(oN(this.x),WT(this.y))}toAltitude(){return this.z*tN(WT(this.y))}meterInMercatorCoordinateUnits(){return 1/eN*(l=WT(this.y),1/Math.cos(l*Math.PI/180));var l}}function aN(u,l,d){var m=2*Math.PI*6378137/256/Math.pow(2,d);return[u*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}class qT{constructor(l,d,m){if(l<0||l>25||m<0||m>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${m}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=m,this.key=Zy(0,l,l,d,m)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,m){const b=(T=this.y,D=this.z,B=aN(256*(k=this.x),256*(T=Math.pow(2,D)-T-1),D),W=aN(256*(k+1),256*(T+1),D),B[0]+","+B[1]+","+W[0]+","+W[1]);var k,T,D,B,W;const H=function(Z,ee,ie){let oe,ce="";for(let ge=Z;ge>0;ge--)oe=1<<ge-1,ce+=(ee&oe?1:0)+(ie&oe?2:0);return ce}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,H).replace(/{bbox-epsg-3857}/g,b)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new x((l.x*d-this.x)*di,(l.y*d-this.y)*di)}toString(){return`${this.z}/${this.x}/${this.y}`}}class sN{constructor(l,d){this.wrap=l,this.canonical=d,this.key=Zy(l,d.z,d.z,d.x,d.y)}}class La{constructor(l,d,m,b,k){if(l<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${m}`);this.overscaledZ=l,this.wrap=d,this.canonical=new qT(m,+b,+k),this.key=Zy(d,l,m,b,k)}clone(){return new La(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new La(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new La(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-l;return l>this.canonical.z?Zy(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):Zy(this.wrap*+d,l,l,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new La(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,m=2*this.canonical.x,b=2*this.canonical.y;return[new La(d,this.wrap,d,m,b),new La(d,this.wrap,d,m+1,b),new La(d,this.wrap,d,m,b+1),new La(d,this.wrap,d,m+1,b+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new La(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new La(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new sN(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new A_(l.x-this.wrap,l.y))}}function Zy(u,l,d,m,b){(u*=2)<0&&(u=-1*u-1);const k=1<<d;return(k*k*u+k*b+m).toString(36)+d.toString(36)+l.toString(36)}Ot("CanonicalTileID",qT),Ot("OverscaledTileID",La,{omit:["posMatrix"]});class lN{constructor(l,d,m,b=1,k=1,T=1,D=0){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void ke(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const B=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=b,this.greenFactor=k,this.blueFactor=T,this.baseShift=D;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let W=0;W<B;W++)this.data[this._idx(-1,W)]=this.data[this._idx(0,W)],this.data[this._idx(B,W)]=this.data[this._idx(B-1,W)],this.data[this._idx(W,-1)]=this.data[this._idx(W,0)],this.data[this._idx(W,B)]=this.data[this._idx(W,B-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(B,-1)]=this.data[this._idx(B-1,0)],this.data[this._idx(-1,B)]=this.data[this._idx(0,B-1)],this.data[this._idx(B,B)]=this.data[this._idx(B-1,B-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let W=0;W<B;W++)for(let H=0;H<B;H++){const Z=this.get(W,H);Z>this.max&&(this.max=Z),Z<this.min&&(this.min=Z)}}get(l,d){const m=new Uint8Array(this.data.buffer),b=4*this._idx(l,d);return this.unpack(m[b],m[b+1],m[b+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}unpack(l,d,m){return l*this.redFactor+d*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new Da({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,m){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let b=d*this.dim,k=d*this.dim+this.dim,T=m*this.dim,D=m*this.dim+this.dim;switch(d){case-1:b=k-1;break;case 1:k=b+1}switch(m){case-1:T=D-1;break;case 1:D=T+1}const B=-d*this.dim,W=-m*this.dim;for(let H=T;H<D;H++)for(let Z=b;Z<k;Z++)this.data[this._idx(Z,H)]=l.data[this._idx(Z+B,H+W)]}}Ot("DEMData",lN);class cN{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const m=l[d];this._stringToNumber[m]=d,this._numberToString[d]=m}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class uN{constructor(l,d,m,b,k){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=m,l._y=b,this.properties=l.properties,this.id=k}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class dN{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new ju(di,16,0),this.grid3D=new ju(di,16,0),this.featureIndexArray=new et,this.promoteId=d}insert(l,d,m,b,k,T){const D=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,b,k);const B=T?this.grid3D:this.grid;for(let W=0;W<d.length;W++){const H=d[W],Z=[1/0,1/0,-1/0,-1/0];for(let ee=0;ee<H.length;ee++){const ie=H[ee];Z[0]=Math.min(Z[0],ie.x),Z[1]=Math.min(Z[1],ie.y),Z[2]=Math.max(Z[2],ie.x),Z[3]=Math.max(Z[3],ie.y)}Z[0]<di&&Z[1]<di&&Z[2]>=0&&Z[3]>=0&&B.insert(D,Z[0],Z[1],Z[2],Z[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Uu.VectorTile(new $T(this.rawTileData)).layers,this.sourceLayerCoder=new cN(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,m,b){this.loadVTLayers();const k=l.params||{},T=di/l.tileSize/l.scale,D=my(k.filter),B=l.queryGeometry,W=l.queryPadding*T,H=hN(B),Z=this.grid.query(H.minX-W,H.minY-W,H.maxX+W,H.maxY+W),ee=hN(l.cameraQueryGeometry),ie=this.grid3D.query(ee.minX-W,ee.minY-W,ee.maxX+W,ee.maxY+W,(ge,_e,Re,Te)=>function(Le,ze,Ze,kt,Dt){for(const xt of Le)if(ze<=xt.x&&Ze<=xt.y&&kt>=xt.x&&Dt>=xt.y)return!0;const wt=[new x(ze,Ze),new x(ze,Dt),new x(kt,Dt),new x(kt,Ze)];if(Le.length>2){for(const xt of wt)if(sp(Le,xt))return!0}for(let xt=0;xt<Le.length-1;xt++)if(AZ(Le[xt],Le[xt+1],wt))return!0;return!1}(l.cameraQueryGeometry,ge-W,_e-W,Re+W,Te+W));for(const ge of ie)Z.push(ge);Z.sort(eJ);const oe={};let ce;for(let ge=0;ge<Z.length;ge++){const _e=Z[ge];if(_e===ce)continue;ce=_e;const Re=this.featureIndexArray.get(_e);let Te=null;this.loadMatchingFeature(oe,Re.bucketIndex,Re.sourceLayerIndex,Re.featureIndex,D,k.layers,k.availableImages,d,m,b,(Le,ze,Ze)=>(Te||(Te=vf(Le)),ze.queryIntersectsFeature(B,Le,Ze,Te,this.z,l.transform,T,l.pixelPosMatrix)))}return oe}loadMatchingFeature(l,d,m,b,k,T,D,B,W,H,Z){const ee=this.bucketLayerIDs[d];if(T&&!function(ge,_e){for(let Re=0;Re<ge.length;Re++)if(_e.indexOf(ge[Re])>=0)return!0;return!1}(T,ee))return;const ie=this.sourceLayerCoder.decode(m),oe=this.vtLayers[ie].feature(b);if(k.needGeometry){const ge=bf(oe,!0);if(!k.filter(new br(this.tileID.overscaledZ),ge,this.tileID.canonical))return}else if(!k.filter(new br(this.tileID.overscaledZ),oe))return;const ce=this.getId(oe,ie);for(let ge=0;ge<ee.length;ge++){const _e=ee[ge];if(T&&T.indexOf(_e)<0)continue;const Re=B[_e];if(!Re)continue;let Te={};ce&&H&&(Te=H.getState(Re.sourceLayer||"_geojsonTileLayer",ce));const Le=q({},W[_e]);Le.paint=fN(Le.paint,Re.paint,oe,Te,D),Le.layout=fN(Le.layout,Re.layout,oe,Te,D);const ze=!Z||Z(oe,Re,Te);if(!ze)continue;const Ze=new uN(oe,this.z,this.x,this.y,ce);Ze.layer=Le;let kt=l[_e];kt===void 0&&(kt=l[_e]=[]),kt.push({featureIndex:b,feature:Ze,intersectionZ:ze})}}lookupSymbolFeatures(l,d,m,b,k,T,D,B){const W={};this.loadVTLayers();const H=my(k);for(const Z of l)this.loadMatchingFeature(W,m,b,Z,H,T,D,B,d);return W}hasLayer(l){for(const d of this.bucketLayerIDs)for(const m of d)if(l===m)return!0;return!1}getId(l,d){let m=l.id;return this.promoteId&&(m=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof m=="boolean"&&(m=Number(m))),m}}function fN(u,l,d,m,b){return Q(u,(k,T)=>{const D=l instanceof op?l.get(T):null;return D&&D.evaluate?D.evaluate(d,m,b):D})}function hN(u){let l=1/0,d=1/0,m=-1/0,b=-1/0;for(const k of u)l=Math.min(l,k.x),d=Math.min(d,k.y),m=Math.max(m,k.x),b=Math.max(b,k.y);return{minX:l,minY:d,maxX:m,maxY:b}}function eJ(u,l){return l-u}function pN(u,l,d,m,b){const k=[];for(let T=0;T<u.length;T++){const D=u[T];let B;for(let W=0;W<D.length-1;W++){let H=D[W],Z=D[W+1];H.x<l&&Z.x<l||(H.x<l?H=new x(l,H.y+(l-H.x)/(Z.x-H.x)*(Z.y-H.y))._round():Z.x<l&&(Z=new x(l,H.y+(l-H.x)/(Z.x-H.x)*(Z.y-H.y))._round()),H.y<d&&Z.y<d||(H.y<d?H=new x(H.x+(d-H.y)/(Z.y-H.y)*(Z.x-H.x),d)._round():Z.y<d&&(Z=new x(H.x+(d-H.y)/(Z.y-H.y)*(Z.x-H.x),d)._round()),H.x>=m&&Z.x>=m||(H.x>=m?H=new x(m,H.y+(m-H.x)/(Z.x-H.x)*(Z.y-H.y))._round():Z.x>=m&&(Z=new x(m,H.y+(m-H.x)/(Z.x-H.x)*(Z.y-H.y))._round()),H.y>=b&&Z.y>=b||(H.y>=b?H=new x(H.x+(b-H.y)/(Z.y-H.y)*(Z.x-H.x),b)._round():Z.y>=b&&(Z=new x(H.x+(b-H.y)/(Z.y-H.y)*(Z.x-H.x),b)._round()),B&&H.equals(B[B.length-1])||(B=[H],k.push(B)),B.push(Z)))))}}return k}Ot("FeatureIndex",dN,{omit:["rawTileData","sourceLayerCoder"]});class Gu extends x{constructor(l,d,m,b){super(l,d),this.angle=m,b!==void 0&&(this.segment=b)}clone(){return new Gu(this.x,this.y,this.angle,this.segment)}}function mN(u,l,d,m,b){if(l.segment===void 0||d===0)return!0;let k=l,T=l.segment+1,D=0;for(;D>-d/2;){if(T--,T<0)return!1;D-=u[T].dist(k),k=u[T]}D+=u[T].dist(u[T+1]),T++;const B=[];let W=0;for(;D<d/2;){const H=u[T],Z=u[T+1];if(!Z)return!1;let ee=u[T-1].angleTo(H)-H.angleTo(Z);for(ee=Math.abs((ee+3*Math.PI)%(2*Math.PI)-Math.PI),B.push({distance:D,angleDelta:ee}),W+=ee;D-B[0].distance>m;)W-=B.shift().angleDelta;if(W>b)return!1;T++,D+=H.dist(Z)}return!0}function gN(u){let l=0;for(let d=0;d<u.length-1;d++)l+=u[d].dist(u[d+1]);return l}function yN(u,l,d){return u?.6*l*d:0}function vN(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function tJ(u,l,d,m,b,k){const T=yN(d,b,k),D=vN(d,m)*k;let B=0;const W=gN(u)/2;for(let H=0;H<u.length-1;H++){const Z=u[H],ee=u[H+1],ie=Z.dist(ee);if(B+ie>W){const oe=(W-B)/ie,ce=qo.number(Z.x,ee.x,oe),ge=qo.number(Z.y,ee.y,oe),_e=new Gu(ce,ge,ee.angleTo(Z),H);return _e._round(),!T||mN(u,_e,D,T,l)?_e:void 0}B+=ie}}function nJ(u,l,d,m,b,k,T,D,B){const W=yN(m,k,T),H=vN(m,b),Z=H*T,ee=u[0].x===0||u[0].x===B||u[0].y===0||u[0].y===B;return l-Z<l/4&&(l=Z+l/4),bN(u,ee?l/2*D%l:(H/2+2*k)*T*D%l,l,W,d,Z,ee,!1,B)}function bN(u,l,d,m,b,k,T,D,B){const W=k/2,H=gN(u);let Z=0,ee=l-d,ie=[];for(let oe=0;oe<u.length-1;oe++){const ce=u[oe],ge=u[oe+1],_e=ce.dist(ge),Re=ge.angleTo(ce);for(;ee+d<Z+_e;){ee+=d;const Te=(ee-Z)/_e,Le=qo.number(ce.x,ge.x,Te),ze=qo.number(ce.y,ge.y,Te);if(Le>=0&&Le<B&&ze>=0&&ze<B&&ee-W>=0&&ee+W<=H){const Ze=new Gu(Le,ze,Re,oe);Ze._round(),m&&!mN(u,Ze,k,m,b)||ie.push(Ze)}}Z+=_e}return D||ie.length||T||(ie=bN(u,Z/2,d,m,b,k,T,!0,B)),ie}Ot("Anchor",Gu);const mp=Zo;function xN(u,l,d,m){const b=[],k=u.image,T=k.pixelRatio,D=k.paddedRect.w-2*mp,B=k.paddedRect.h-2*mp,W=u.right-u.left,H=u.bottom-u.top,Z=k.stretchX||[[0,D]],ee=k.stretchY||[[0,B]],ie=(ht,Mt)=>ht+Mt[1]-Mt[0],oe=Z.reduce(ie,0),ce=ee.reduce(ie,0),ge=D-oe,_e=B-ce;let Re=0,Te=oe,Le=0,ze=ce,Ze=0,kt=ge,Dt=0,wt=_e;if(k.content&&m){const ht=k.content;Re=I_(Z,0,ht[0]),Le=I_(ee,0,ht[1]),Te=I_(Z,ht[0],ht[2]),ze=I_(ee,ht[1],ht[3]),Ze=ht[0]-Re,Dt=ht[1]-Le,kt=ht[2]-ht[0]-Te,wt=ht[3]-ht[1]-ze}const xt=(ht,Mt,gt,it)=>{const Yt=$_(ht.stretch-Re,Te,W,u.left),Nt=R_(ht.fixed-Ze,kt,ht.stretch,oe),yn=$_(Mt.stretch-Le,ze,H,u.top),_r=R_(Mt.fixed-Dt,wt,Mt.stretch,ce),Er=$_(gt.stretch-Re,Te,W,u.left),xi=R_(gt.fixed-Ze,kt,gt.stretch,oe),ba=$_(it.stretch-Le,ze,H,u.top),To=R_(it.fixed-Dt,wt,it.stretch,ce),fi=new x(Yt,yn),Bi=new x(Er,yn),Ji=new x(Er,ba),Po=new x(Yt,ba),Eo=new x(Nt/T,_r/T),_i=new x(xi/T,To/T),wi=l*Math.PI/180;if(wi){const fo=Math.sin(wi),Xo=Math.cos(wi),Jo=[Xo,-fo,fo,Xo];fi._matMult(Jo),Bi._matMult(Jo),Po._matMult(Jo),Ji._matMult(Jo)}const uo=ht.stretch+ht.fixed,Oo=Mt.stretch+Mt.fixed;return{tl:fi,tr:Bi,bl:Po,br:Ji,tex:{x:k.paddedRect.x+mp+uo,y:k.paddedRect.y+mp+Oo,w:gt.stretch+gt.fixed-uo,h:it.stretch+it.fixed-Oo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Eo,pixelOffsetBR:_i,minFontScaleX:kt/T/W,minFontScaleY:wt/T/H,isSDF:d}};if(m&&(k.stretchX||k.stretchY)){const ht=_N(Z,ge,oe),Mt=_N(ee,_e,ce);for(let gt=0;gt<ht.length-1;gt++){const it=ht[gt],Yt=ht[gt+1];for(let Nt=0;Nt<Mt.length-1;Nt++)b.push(xt(it,Mt[Nt],Yt,Mt[Nt+1]))}}else b.push(xt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:D+1},{fixed:0,stretch:B+1}));return b}function I_(u,l,d){let m=0;for(const b of u)m+=Math.max(l,Math.min(d,b[1]))-Math.max(l,Math.min(d,b[0]));return m}function _N(u,l,d){const m=[{fixed:-mp,stretch:0}];for(const[b,k]of u){const T=m[m.length-1];m.push({fixed:b-T.stretch,stretch:T.stretch}),m.push({fixed:b-T.stretch,stretch:T.stretch+(k-b)})}return m.push({fixed:l+mp,stretch:d}),m}function $_(u,l,d,m){return u/l*d+m}function R_(u,l,d,m){return u-l*d/m}class D_{constructor(l,d,m,b,k,T,D,B,W,H){if(this.boxStartIndex=l.length,W){let Z=T.top,ee=T.bottom;const ie=T.collisionPadding;ie&&(Z-=ie[1],ee+=ie[3]);let oe=ee-Z;oe>0&&(oe=Math.max(10,oe),this.circleDiameter=oe)}else{let Z=T.top*D-B[0],ee=T.bottom*D+B[2],ie=T.left*D-B[3],oe=T.right*D+B[1];const ce=T.collisionPadding;if(ce&&(ie-=ce[0]*D,Z-=ce[1]*D,oe+=ce[2]*D,ee+=ce[3]*D),H){const ge=new x(ie,Z),_e=new x(oe,Z),Re=new x(ie,ee),Te=new x(oe,ee),Le=H*Math.PI/180;ge._rotate(Le),_e._rotate(Le),Re._rotate(Le),Te._rotate(Le),ie=Math.min(ge.x,_e.x,Re.x,Te.x),oe=Math.max(ge.x,_e.x,Re.x,Te.x),Z=Math.min(ge.y,_e.y,Re.y,Te.y),ee=Math.max(ge.y,_e.y,Re.y,Te.y)}l.emplaceBack(d.x,d.y,ie,Z,oe,ee,m,b,k)}this.boxEndIndex=l.length}}class rJ{constructor(l=[],d=iJ){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:m}=this,b=d[l];for(;l>0;){const k=l-1>>1,T=d[k];if(m(b,T)>=0)break;d[l]=T,l=k}d[l]=b}_down(l){const{data:d,compare:m}=this,b=this.length>>1,k=d[l];for(;l<b;){let T=1+(l<<1),D=d[T];const B=T+1;if(B<this.length&&m(d[B],D)<0&&(T=B,D=d[B]),m(D,k)>=0)break;d[l]=D,l=T}d[l]=k}}function iJ(u,l){return u<l?-1:u>l?1:0}function oJ(u,l=1,d=!1){let m=1/0,b=1/0,k=-1/0,T=-1/0;const D=u[0];for(let ie=0;ie<D.length;ie++){const oe=D[ie];(!ie||oe.x<m)&&(m=oe.x),(!ie||oe.y<b)&&(b=oe.y),(!ie||oe.x>k)&&(k=oe.x),(!ie||oe.y>T)&&(T=oe.y)}const B=Math.min(k-m,T-b);let W=B/2;const H=new rJ([],aJ);if(B===0)return new x(m,b);for(let ie=m;ie<k;ie+=B)for(let oe=b;oe<T;oe+=B)H.push(new gp(ie+W,oe+W,W,u));let Z=function(ie){let oe=0,ce=0,ge=0;const _e=ie[0];for(let Re=0,Te=_e.length,Le=Te-1;Re<Te;Le=Re++){const ze=_e[Re],Ze=_e[Le],kt=ze.x*Ze.y-Ze.x*ze.y;ce+=(ze.x+Ze.x)*kt,ge+=(ze.y+Ze.y)*kt,oe+=3*kt}return new gp(ce/oe,ge/oe,0,ie)}(u),ee=H.length;for(;H.length;){const ie=H.pop();(ie.d>Z.d||!Z.d)&&(Z=ie,d&&console.log("found best %d after %d probes",Math.round(1e4*ie.d)/1e4,ee)),ie.max-Z.d<=l||(W=ie.h/2,H.push(new gp(ie.p.x-W,ie.p.y-W,W,u)),H.push(new gp(ie.p.x+W,ie.p.y-W,W,u)),H.push(new gp(ie.p.x-W,ie.p.y+W,W,u)),H.push(new gp(ie.p.x+W,ie.p.y+W,W,u)),ee+=4)}return d&&(console.log(`num probes: ${ee}`),console.log(`best distance: ${Z.d}`)),Z.p}function aJ(u,l){return l.max-u.max}function gp(u,l,d,m){this.p=new x(u,l),this.h=d,this.d=function(b,k){let T=!1,D=1/0;for(let B=0;B<k.length;B++){const W=k[B];for(let H=0,Z=W.length,ee=Z-1;H<Z;ee=H++){const ie=W[H],oe=W[ee];ie.y>b.y!=oe.y>b.y&&b.x<(oe.x-ie.x)*(b.y-ie.y)/(oe.y-ie.y)+ie.x&&(T=!T),D=Math.min(D,rj(b,ie,oe))}}return(T?1:-1)*Math.sqrt(D)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Xi;a.aq=void 0,(Xi=a.aq||(a.aq={}))[Xi.center=1]="center",Xi[Xi.left=2]="left",Xi[Xi.right=3]="right",Xi[Xi.top=4]="top",Xi[Xi.bottom=5]="bottom",Xi[Xi["top-left"]=6]="top-left",Xi[Xi["top-right"]=7]="top-right",Xi[Xi["bottom-left"]=8]="bottom-left",Xi[Xi["bottom-right"]=9]="bottom-right";const Hu=7,GT=Number.POSITIVE_INFINITY;function wN(u,l){return l[1]!==GT?function(d,m,b){let k=0,T=0;switch(m=Math.abs(m),b=Math.abs(b),d){case"top-right":case"top-left":case"top":T=b-Hu;break;case"bottom-right":case"bottom-left":case"bottom":T=-b+Hu}switch(d){case"top-right":case"bottom-right":case"right":k=-m;break;case"top-left":case"bottom-left":case"left":k=m}return[k,T]}(u,l[0],l[1]):function(d,m){let b=0,k=0;m<0&&(m=0);const T=m/Math.SQRT2;switch(d){case"top-right":case"top-left":k=T-Hu;break;case"bottom-right":case"bottom-left":k=-T+Hu;break;case"bottom":k=-m+Hu;break;case"top":k=m-Hu}switch(d){case"top-right":case"bottom-right":b=-T;break;case"top-left":case"bottom-left":b=T;break;case"left":b=m;break;case"right":b=-m}return[b,k]}(u,l[0])}function SN(u,l,d){var m;const b=u.layout,k=(m=b.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(l,{},d);if(k){const D=k.values,B=[];for(let W=0;W<D.length;W+=2){const H=B[W]=D[W],Z=D[W+1].map(ee=>ee*bi);H.startsWith("top")?Z[1]-=Hu:H.startsWith("bottom")&&(Z[1]+=Hu),B[W+1]=Z}return new ha(B)}const T=b.get("text-variable-anchor");if(T){let D;D=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[b.get("text-radial-offset").evaluate(l,{},d)*bi,GT]:b.get("text-offset").evaluate(l,{},d).map(W=>W*bi);const B=[];for(const W of T)B.push(W,wN(W,D));return new ha(B)}return null}function HT(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function sJ(u,l,d,m,b,k,T,D,B,W,H){let Z=k.textMaxSize.evaluate(l,{});Z===void 0&&(Z=T);const ee=u.layers[0].layout,ie=ee.get("icon-offset").evaluate(l,{},H),oe=CN(d.horizontal),ce=T/24,ge=u.tilePixelRatio*ce,_e=u.tilePixelRatio*Z/24,Re=u.tilePixelRatio*D,Te=u.tilePixelRatio*ee.get("symbol-spacing"),Le=ee.get("text-padding")*u.tilePixelRatio,ze=function(it,Yt,Nt,yn=1){const _r=it.get("icon-padding").evaluate(Yt,{},Nt),Er=_r&&_r.values;return[Er[0]*yn,Er[1]*yn,Er[2]*yn,Er[3]*yn]}(ee,l,H,u.tilePixelRatio),Ze=ee.get("text-max-angle")/180*Math.PI,kt=ee.get("text-rotation-alignment")!=="viewport"&&ee.get("symbol-placement")!=="point",Dt=ee.get("icon-rotation-alignment")==="map"&&ee.get("symbol-placement")!=="point",wt=ee.get("symbol-placement"),xt=Te/2,ht=ee.get("icon-text-fit");let Mt;m&&ht!=="none"&&(u.allowVerticalPlacement&&d.vertical&&(Mt=Hj(m,d.vertical,ht,ee.get("icon-text-fit-padding"),ie,ce)),oe&&(m=Hj(m,oe,ht,ee.get("icon-text-fit-padding"),ie,ce)));const gt=(it,Yt)=>{Yt.x<0||Yt.x>=di||Yt.y<0||Yt.y>=di||function(Nt,yn,_r,Er,xi,ba,To,fi,Bi,Ji,Po,Eo,_i,wi,uo,Oo,fo,Xo,Jo,Si,Tn,ho,Qi,ki,hs){const el=Nt.addToLineVertexArray(yn,_r);let tl,Ac,ps,ja,Qo=0,Ic=0,Qy=0,ON=0,tP=-1,nP=-1;const $c={};let MN=Pc("");if(Nt.allowVerticalPlacement&&Er.vertical){const po=fi.layout.get("text-rotate").evaluate(Tn,{},ki)+90;ps=new D_(Bi,yn,Ji,Po,Eo,Er.vertical,_i,wi,uo,po),To&&(ja=new D_(Bi,yn,Ji,Po,Eo,To,fo,Xo,uo,po))}if(xi){const po=fi.layout.get("icon-rotate").evaluate(Tn,{}),Na=fi.layout.get("icon-text-fit")!=="none",_f=xN(xi,po,Qi,Na),rl=To?xN(To,po,Qi,Na):void 0;Ac=new D_(Bi,yn,Ji,Po,Eo,xi,fo,Xo,!1,po),Qo=4*_f.length;const wf=Nt.iconSizeData;let Ul=null;wf.kind==="source"?(Ul=[Fl*fi.layout.get("icon-size").evaluate(Tn,{})],Ul[0]>Wu&&ke(`${Nt.layerIds[0]}: Value for "icon-size" is >= ${Ky}. Reduce your "icon-size".`)):wf.kind==="composite"&&(Ul=[Fl*ho.compositeIconSizes[0].evaluate(Tn,{},ki),Fl*ho.compositeIconSizes[1].evaluate(Tn,{},ki)],(Ul[0]>Wu||Ul[1]>Wu)&&ke(`${Nt.layerIds[0]}: Value for "icon-size" is >= ${Ky}. Reduce your "icon-size".`)),Nt.addSymbols(Nt.icon,_f,Ul,Si,Jo,Tn,a.ai.none,yn,el.lineStartIndex,el.lineLength,-1,ki),tP=Nt.icon.placedSymbolArray.length-1,rl&&(Ic=4*rl.length,Nt.addSymbols(Nt.icon,rl,Ul,Si,Jo,Tn,a.ai.vertical,yn,el.lineStartIndex,el.lineLength,-1,ki),nP=Nt.icon.placedSymbolArray.length-1)}const AN=Object.keys(Er.horizontal);for(const po of AN){const Na=Er.horizontal[po];if(!tl){MN=Pc(Na.text);const rl=fi.layout.get("text-rotate").evaluate(Tn,{},ki);tl=new D_(Bi,yn,Ji,Po,Eo,Na,_i,wi,uo,rl)}const _f=Na.positionedLines.length===1;if(Qy+=kN(Nt,yn,Na,ba,fi,uo,Tn,Oo,el,Er.vertical?a.ai.horizontal:a.ai.horizontalOnly,_f?AN:[po],$c,tP,ho,ki),_f)break}Er.vertical&&(ON+=kN(Nt,yn,Er.vertical,ba,fi,uo,Tn,Oo,el,a.ai.vertical,["vertical"],$c,nP,ho,ki));const uJ=tl?tl.boxStartIndex:Nt.collisionBoxArray.length,dJ=tl?tl.boxEndIndex:Nt.collisionBoxArray.length,fJ=ps?ps.boxStartIndex:Nt.collisionBoxArray.length,hJ=ps?ps.boxEndIndex:Nt.collisionBoxArray.length,pJ=Ac?Ac.boxStartIndex:Nt.collisionBoxArray.length,mJ=Ac?Ac.boxEndIndex:Nt.collisionBoxArray.length,gJ=ja?ja.boxStartIndex:Nt.collisionBoxArray.length,yJ=ja?ja.boxEndIndex:Nt.collisionBoxArray.length;let nl=-1;const j_=(po,Na)=>po&&po.circleDiameter?Math.max(po.circleDiameter,Na):Na;nl=j_(tl,nl),nl=j_(ps,nl),nl=j_(Ac,nl),nl=j_(ja,nl);const IN=nl>-1?1:0;IN&&(nl*=hs/bi),Nt.glyphOffsetArray.length>=pp.MAX_GLYPHS&&ke("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Tn.sortKey!==void 0&&Nt.addToSortKeyRanges(Nt.symbolInstances.length,Tn.sortKey);const vJ=SN(fi,Tn,ki),[bJ,xJ]=function(po,Na){const _f=po.length,rl=Na==null?void 0:Na.values;if((rl==null?void 0:rl.length)>0)for(let wf=0;wf<rl.length;wf+=2){const Ul=rl[wf+1];po.emplaceBack(a.aq[rl[wf]],Ul[0],Ul[1])}return[_f,po.length]}(Nt.textAnchorOffsets,vJ);Nt.symbolInstances.emplaceBack(yn.x,yn.y,$c.right>=0?$c.right:-1,$c.center>=0?$c.center:-1,$c.left>=0?$c.left:-1,$c.vertical||-1,tP,nP,MN,uJ,dJ,fJ,hJ,pJ,mJ,gJ,yJ,Ji,Qy,ON,Qo,Ic,IN,0,_i,nl,bJ,xJ)}(u,Yt,it,d,m,b,Mt,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,ge,[Le,Le,Le,Le],kt,B,Re,ze,Dt,ie,l,k,W,H,T)};if(wt==="line")for(const it of pN(l.geometry,0,0,di,di)){const Yt=nJ(it,Te,Ze,d.vertical||oe,m,24,_e,u.overscaling,di);for(const Nt of Yt)oe&&lJ(u,oe.text,xt,Nt)||gt(it,Nt)}else if(wt==="line-center"){for(const it of l.geometry)if(it.length>1){const Yt=tJ(it,Ze,d.vertical||oe,m,24,_e);Yt&&gt(it,Yt)}}else if(l.type==="Polygon")for(const it of CT(l.geometry,0)){const Yt=oJ(it,16);gt(it[0],new Gu(Yt.x,Yt.y,0))}else if(l.type==="LineString")for(const it of l.geometry)gt(it,new Gu(it[0].x,it[0].y,0));else if(l.type==="Point")for(const it of l.geometry)for(const Yt of it)gt([Yt],new Gu(Yt.x,Yt.y,0))}function kN(u,l,d,m,b,k,T,D,B,W,H,Z,ee,ie,oe){const ce=function(Re,Te,Le,ze,Ze,kt,Dt,wt){const xt=ze.layout.get("text-rotate").evaluate(kt,{})*Math.PI/180,ht=[];for(const Mt of Te.positionedLines)for(const gt of Mt.positionedGlyphs){if(!gt.rect)continue;const it=gt.rect||{};let Yt=Bj+1,Nt=!0,yn=1,_r=0;const Er=(Ze||wt)&&gt.vertical,xi=gt.metrics.advance*gt.scale/2;if(wt&&Te.verticalizable&&(_r=Mt.lineOffset/2-(gt.imageName?-(bi-gt.metrics.width*gt.scale)/2:(gt.scale-1)*bi)),gt.imageName){const Si=Dt[gt.imageName];Nt=Si.sdf,yn=Si.pixelRatio,Yt=Zo/yn}const ba=Ze?[gt.x+xi,gt.y]:[0,0];let To=Ze?[0,0]:[gt.x+xi+Le[0],gt.y+Le[1]-_r],fi=[0,0];Er&&(fi=To,To=[0,0]);const Bi=gt.metrics.isDoubleResolution?2:1,Ji=(gt.metrics.left-Yt)*gt.scale-xi+To[0],Po=(-gt.metrics.top-Yt)*gt.scale+To[1],Eo=Ji+it.w/Bi*gt.scale/yn,_i=Po+it.h/Bi*gt.scale/yn,wi=new x(Ji,Po),uo=new x(Eo,Po),Oo=new x(Ji,_i),fo=new x(Eo,_i);if(Er){const Si=new x(-xi,xi-Hy),Tn=-Math.PI/2,ho=bi/2-xi,Qi=new x(5-Hy-ho,-(gt.imageName?ho:0)),ki=new x(...fi);wi._rotateAround(Tn,Si)._add(Qi)._add(ki),uo._rotateAround(Tn,Si)._add(Qi)._add(ki),Oo._rotateAround(Tn,Si)._add(Qi)._add(ki),fo._rotateAround(Tn,Si)._add(Qi)._add(ki)}if(xt){const Si=Math.sin(xt),Tn=Math.cos(xt),ho=[Tn,-Si,Si,Tn];wi._matMult(ho),uo._matMult(ho),Oo._matMult(ho),fo._matMult(ho)}const Xo=new x(0,0),Jo=new x(0,0);ht.push({tl:wi,tr:uo,bl:Oo,br:fo,tex:it,writingMode:Te.writingMode,glyphOffset:ba,sectionIndex:gt.sectionIndex,isSDF:Nt,pixelOffsetTL:Xo,pixelOffsetBR:Jo,minFontScaleX:0,minFontScaleY:0})}return ht}(0,d,D,b,k,T,m,u.allowVerticalPlacement),ge=u.textSizeData;let _e=null;ge.kind==="source"?(_e=[Fl*b.layout.get("text-size").evaluate(T,{})],_e[0]>Wu&&ke(`${u.layerIds[0]}: Value for "text-size" is >= ${Ky}. Reduce your "text-size".`)):ge.kind==="composite"&&(_e=[Fl*ie.compositeTextSizes[0].evaluate(T,{},oe),Fl*ie.compositeTextSizes[1].evaluate(T,{},oe)],(_e[0]>Wu||_e[1]>Wu)&&ke(`${u.layerIds[0]}: Value for "text-size" is >= ${Ky}. Reduce your "text-size".`)),u.addSymbols(u.text,ce,_e,D,k,T,W,l,B.lineStartIndex,B.lineLength,ee,oe);for(const Re of H)Z[Re]=u.text.placedSymbolArray.length-1;return 4*ce.length}function CN(u){for(const l in u)return u[l];return null}function lJ(u,l,d,m){const b=u.compareText;if(l in b){const k=b[l];for(let T=k.length-1;T>=0;T--)if(m.dist(k[T])<d)return!0}else b[l]=[];return b[l].push(m),!1}const TN=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class YT{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,m]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const b=m>>4;if(b!==1)throw new Error(`Got v${b} data when expected v1.`);const k=TN[15&m];if(!k)throw new Error("Unrecognized array type.");const[T]=new Uint16Array(l,2,1),[D]=new Uint32Array(l,4,1);return new YT(D,T,k,l)}constructor(l,d=64,m=Float64Array,b){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=m,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const k=TN.indexOf(this.ArrayType),T=2*l*this.ArrayType.BYTES_PER_ELEMENT,D=l*this.IndexArrayType.BYTES_PER_ELEMENT,B=(8-D%8)%8;if(k<0)throw new Error(`Unexpected typed array class: ${m}.`);b&&b instanceof ArrayBuffer?(this.data=b,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+B,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+T+D+B),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+B,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+k]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=l,this.coords[this._pos++]=d,m}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return KT(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,m,b){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:k,coords:T,nodeSize:D}=this,B=[0,k.length-1,0],W=[];for(;B.length;){const H=B.pop()||0,Z=B.pop()||0,ee=B.pop()||0;if(Z-ee<=D){for(let ge=ee;ge<=Z;ge++){const _e=T[2*ge],Re=T[2*ge+1];_e>=l&&_e<=m&&Re>=d&&Re<=b&&W.push(k[ge])}continue}const ie=ee+Z>>1,oe=T[2*ie],ce=T[2*ie+1];oe>=l&&oe<=m&&ce>=d&&ce<=b&&W.push(k[ie]),(H===0?l<=oe:d<=ce)&&(B.push(ee),B.push(ie-1),B.push(1-H)),(H===0?m>=oe:b>=ce)&&(B.push(ie+1),B.push(Z),B.push(1-H))}return W}within(l,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:k,nodeSize:T}=this,D=[0,b.length-1,0],B=[],W=m*m;for(;D.length;){const H=D.pop()||0,Z=D.pop()||0,ee=D.pop()||0;if(Z-ee<=T){for(let ge=ee;ge<=Z;ge++)EN(k[2*ge],k[2*ge+1],l,d)<=W&&B.push(b[ge]);continue}const ie=ee+Z>>1,oe=k[2*ie],ce=k[2*ie+1];EN(oe,ce,l,d)<=W&&B.push(b[ie]),(H===0?l-m<=oe:d-m<=ce)&&(D.push(ee),D.push(ie-1),D.push(1-H)),(H===0?l+m>=oe:d+m>=ce)&&(D.push(ie+1),D.push(Z),D.push(1-H))}return B}}function KT(u,l,d,m,b,k){if(b-m<=d)return;const T=m+b>>1;PN(u,l,T,m,b,k),KT(u,l,d,m,T-1,1-k),KT(u,l,d,T+1,b,1-k)}function PN(u,l,d,m,b,k){for(;b>m;){if(b-m>600){const W=b-m+1,H=d-m+1,Z=Math.log(W),ee=.5*Math.exp(2*Z/3),ie=.5*Math.sqrt(Z*ee*(W-ee)/W)*(H-W/2<0?-1:1);PN(u,l,d,Math.max(m,Math.floor(d-H*ee/W+ie)),Math.min(b,Math.floor(d+(W-H)*ee/W+ie)),k)}const T=l[2*d+k];let D=m,B=b;for(Xy(u,l,m,d),l[2*b+k]>T&&Xy(u,l,m,b);D<B;){for(Xy(u,l,D,B),D++,B--;l[2*D+k]<T;)D++;for(;l[2*B+k]>T;)B--}l[2*m+k]===T?Xy(u,l,m,B):(B++,Xy(u,l,B,b)),B<=d&&(m=B+1),d<=B&&(b=B-1)}}function Xy(u,l,d,m){ZT(u,d,m),ZT(l,2*d,2*m),ZT(l,2*d+1,2*m+1)}function ZT(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}function EN(u,l,d,m){const b=u-d,k=l-m;return b*b+k*k}var XT;a.bh=void 0,(XT=a.bh||(a.bh={})).create="create",XT.load="load",XT.fullLoad="fullLoad";let L_=null,Jy=[];const JT=1e3/60,QT="loadTime",eP="fullLoadTime",cJ={mark(u){performance.mark(u)},frame(u){const l=u;L_!=null&&Jy.push(l-L_),L_=l},clearMetrics(){L_=null,Jy=[],performance.clearMeasures(QT),performance.clearMeasures(eP);for(const u in a.bh)performance.clearMarks(a.bh[u])},getPerformanceMetrics(){performance.measure(QT,a.bh.create,a.bh.load),performance.measure(eP,a.bh.create,a.bh.fullLoad);const u=performance.getEntriesByName(QT)[0].duration,l=performance.getEntriesByName(eP)[0].duration,d=Jy.length,m=1/(Jy.reduce((k,T)=>k+T,0)/d/1e3),b=Jy.filter(k=>k>JT).reduce((k,T)=>k+(T-JT)/JT,0);return{loadTime:u,fullLoadTime:l,fps:m,percentDroppedFrames:b/(d+b)*100,totalFrames:d}}};a.$=function(u,l,d){var m,b,k,T,D,B,W,H,Z,ee,ie,oe,ce=d[0],ge=d[1],_e=d[2];return l===u?(u[12]=l[0]*ce+l[4]*ge+l[8]*_e+l[12],u[13]=l[1]*ce+l[5]*ge+l[9]*_e+l[13],u[14]=l[2]*ce+l[6]*ge+l[10]*_e+l[14],u[15]=l[3]*ce+l[7]*ge+l[11]*_e+l[15]):(b=l[1],k=l[2],T=l[3],D=l[4],B=l[5],W=l[6],H=l[7],Z=l[8],ee=l[9],ie=l[10],oe=l[11],u[0]=m=l[0],u[1]=b,u[2]=k,u[3]=T,u[4]=D,u[5]=B,u[6]=W,u[7]=H,u[8]=Z,u[9]=ee,u[10]=ie,u[11]=oe,u[12]=m*ce+D*ge+Z*_e+l[12],u[13]=b*ce+B*ge+ee*_e+l[13],u[14]=k*ce+W*ge+ie*_e+l[14],u[15]=T*ce+H*ge+oe*_e+l[15]),u},a.A=lp,a.B=qo,a.C=class{constructor(u,l,d){this.receive=m=>{const b=m.data,k=b.id;if(k&&(!b.targetMapId||this.mapId===b.targetMapId))if(b.type==="<cancel>"){delete this.tasks[k];const T=this.cancelCallbacks[k];delete this.cancelCallbacks[k],T&&T()}else Ce()||b.mustQueue?(this.tasks[k]=b,this.taskQueue.push(k),this.invoker.trigger()):this.processTask(k,b)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),b=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),b&&this.processTask(m,b)},this.target=u,this.parent=l,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new QX(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ce()?u:window}send(u,l,d,m,b=!1){const k=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[k]=d);const T=[],D={id:k,type:u,hasCallback:!!d,targetMapId:m,mustQueue:b,sourceMapId:this.mapId,data:Nl(l,T)};return this.target.postMessage(D,{transfer:T}),{cancel:()=>{d&&delete this.callbacks[k],this.target.postMessage({id:k,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(u,l){if(l.type==="<response>"){const d=this.callbacks[u];delete this.callbacks[u],d&&(l.error?d(Nu(l.error)):d(null,Nu(l.data)))}else{let d=!1;const m=[],b=l.hasCallback?(D,B)=>{d=!0,delete this.cancelCallbacks[u];const W={id:u,type:"<response>",sourceMapId:this.mapId,error:D?Nl(D):null,data:Nl(B,m)};this.target.postMessage(W,{transfer:m})}:D=>{d=!0};let k=null;const T=Nu(l.data);if(this.parent[l.type])k=this.parent[l.type](l.sourceMapId,T,b);else if("getWorkerSource"in this.parent){const D=l.type.split(".");k=this.parent.getWorkerSource(l.sourceMapId,D[0],T.source)[D[1]](T,b)}else b(new Error(`Could not find function ${l.type}`));!d&&k&&k.cancel&&(this.cancelCallbacks[u]=k.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.D=Bt,a.E=rr,a.F=function(u,l){const d={};for(let m=0;m<l.length;m++){const b=l[m];b in u&&(d[b]=u[b])}return d},a.G=nN,a.H=rN,a.I=DT,a.J=M,a.K=I,a.L=qu,a.M=ft,a.N=di,a.O=La,a.P=x,a.Q=$r,a.R=Da,a.S=xr,a.T=d_,a.U=A_,a.V=class extends Cc{},a.W=qT,a.X=function(u,l){const d=window.document.createElement("video");d.muted=!0,d.onloadstart=function(){l(null,d)};for(let m=0;m<u.length;m++){const b=window.document.createElement("source");Tt(u[m])||(d.crossOrigin="Anonymous"),b.src=u[m],d.appendChild(b)}return{cancel:()=>{}}},a.Y=ot,a.Z=function(){var u=new lp(16);return lp!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},a._=f,a.a=$e,a.a$=class extends re{},a.a0=function(u,l,d){var m=d[0],b=d[1],k=d[2];return u[0]=l[0]*m,u[1]=l[1]*m,u[2]=l[2]*m,u[3]=l[3]*m,u[4]=l[4]*b,u[5]=l[5]*b,u[6]=l[6]*b,u[7]=l[7]*b,u[8]=l[8]*k,u[9]=l[9]*k,u[10]=l[10]*k,u[11]=l[11]*k,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.a1=sj,a.a2=function(){return X++},a.a3=pe,a.a4=pp,a.a5=function(){Yo.isLoading()||Yo.isLoaded()||Ty()!=="deferred"||u_()},a.a6=my,a.a7=bf,a.a8=br,a.a9=uN,a.aA=hf,a.aB=function(u){u=u.slice();const l=Object.create(null);for(let d=0;d<u.length;d++)l[u[d].id]=u[d];for(let d=0;d<u.length;d++)"ref"in u[d]&&(u[d]=Mn(u[d],l[u[d].ref]));return u},a.aC=function(u){if(u.type==="custom")return new JX(u);switch(u.type){case"background":return new KX(u);case"circle":return new RZ(u);case"fill":return new eX(u);case"fill-extrusion":return new mX(u);case"heatmap":return new LZ(u);case"hillshade":return new NZ(u);case"line":return new SX(u);case"raster":return new XX(u);case"symbol":return new M_(u)}},a.aD=fe,a.aE=function(u,l){if(!u)return[{command:It.setStyle,args:[l]}];let d=[];try{if(!on(u.version,l.version))return[{command:It.setStyle,args:[l]}];on(u.center,l.center)||d.push({command:It.setCenter,args:[l.center]}),on(u.zoom,l.zoom)||d.push({command:It.setZoom,args:[l.zoom]}),on(u.bearing,l.bearing)||d.push({command:It.setBearing,args:[l.bearing]}),on(u.pitch,l.pitch)||d.push({command:It.setPitch,args:[l.pitch]}),on(u.sprite,l.sprite)||d.push({command:It.setSprite,args:[l.sprite]}),on(u.glyphs,l.glyphs)||d.push({command:It.setGlyphs,args:[l.glyphs]}),on(u.transition,l.transition)||d.push({command:It.setTransition,args:[l.transition]}),on(u.light,l.light)||d.push({command:It.setLight,args:[l.light]});const m={},b=[];(function(T,D,B,W){let H;for(H in D=D||{},T=T||{})Object.prototype.hasOwnProperty.call(T,H)&&(Object.prototype.hasOwnProperty.call(D,H)||ir(H,B,W));for(H in D)Object.prototype.hasOwnProperty.call(D,H)&&(Object.prototype.hasOwnProperty.call(T,H)?on(T[H],D[H])||(T[H].type==="geojson"&&D[H].type==="geojson"&&Dn(T,D,H)?B.push({command:It.setGeoJSONSourceData,args:[H,D[H].data]}):Tr(H,D,B,W)):Wn(H,D,B))})(u.sources,l.sources,b,m);const k=[];u.layers&&u.layers.forEach(T=>{m[T.source]?d.push({command:It.removeLayer,args:[T.id]}):k.push(T)}),d=d.concat(b),function(T,D,B){D=D||[];const W=(T=T||[]).map(cr),H=D.map(cr),Z=T.reduce(Di,{}),ee=D.reduce(Di,{}),ie=W.slice(),oe=Object.create(null);let ce,ge,_e,Re,Te,Le,ze;for(ce=0,ge=0;ce<W.length;ce++)_e=W[ce],Object.prototype.hasOwnProperty.call(ee,_e)?ge++:(B.push({command:It.removeLayer,args:[_e]}),ie.splice(ie.indexOf(_e,ge),1));for(ce=0,ge=0;ce<H.length;ce++)_e=H[H.length-1-ce],ie[ie.length-1-ce]!==_e&&(Object.prototype.hasOwnProperty.call(Z,_e)?(B.push({command:It.removeLayer,args:[_e]}),ie.splice(ie.lastIndexOf(_e,ie.length-ge),1)):ge++,Le=ie[ie.length-ce],B.push({command:It.addLayer,args:[ee[_e],Le]}),ie.splice(ie.length-ce,0,_e),oe[_e]=!0);for(ce=0;ce<H.length;ce++)if(_e=H[ce],Re=Z[_e],Te=ee[_e],!oe[_e]&&!on(Re,Te))if(on(Re.source,Te.source)&&on(Re["source-layer"],Te["source-layer"])&&on(Re.type,Te.type)){for(ze in Kt(Re.layout,Te.layout,B,_e,null,It.setLayoutProperty),Kt(Re.paint,Te.paint,B,_e,null,It.setPaintProperty),on(Re.filter,Te.filter)||B.push({command:It.setFilter,args:[_e,Te.filter]}),on(Re.minzoom,Te.minzoom)&&on(Re.maxzoom,Te.maxzoom)||B.push({command:It.setLayerZoomRange,args:[_e,Te.minzoom,Te.maxzoom]}),Re)Object.prototype.hasOwnProperty.call(Re,ze)&&ze!=="layout"&&ze!=="paint"&&ze!=="filter"&&ze!=="metadata"&&ze!=="minzoom"&&ze!=="maxzoom"&&(ze.indexOf("paint.")===0?Kt(Re[ze],Te[ze],B,_e,ze.slice(6),It.setPaintProperty):on(Re[ze],Te[ze])||B.push({command:It.setLayerProperty,args:[_e,ze,Te[ze]]}));for(ze in Te)Object.prototype.hasOwnProperty.call(Te,ze)&&!Object.prototype.hasOwnProperty.call(Re,ze)&&ze!=="layout"&&ze!=="paint"&&ze!=="filter"&&ze!=="metadata"&&ze!=="minzoom"&&ze!=="maxzoom"&&(ze.indexOf("paint.")===0?Kt(Re[ze],Te[ze],B,_e,ze.slice(6),It.setPaintProperty):on(Re[ze],Te[ze])||B.push({command:It.setLayerProperty,args:[_e,ze,Te[ze]]}))}else B.push({command:It.removeLayer,args:[_e]}),Le=ie[ie.lastIndexOf(_e)+1],B.push({command:It.addLayer,args:[Te,Le]})}(k,l.layers,d)}catch(m){console.warn("Unable to compute style diff:",m),d=[{command:It.setStyle,args:[l]}]}return d},a.aF=function(u){const l=[],d=u.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.aG=function u(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let m=0;m<l.length;m++)if(!u(l[m],d[m]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const m in l)if(!u(l[m],d[m]))return!1;return!0}return l===d},a.aH=Q,a.aI=ae,a.aJ=pf,a.aK=function(u){return u({pluginStatus:So,pluginURL:zl}),pf.on("pluginStateChange",u),u},a.aL=class extends Ec{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},a.aM=ap,a.aN=class extends Ec{constructor(u,l){super(u,l),this.current=hT}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},a.aO=m_,a.aP=class extends Ec{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},a.aQ=class extends Ec{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},a.aR=g_,a.aS=function(u,l,d,m,b,k,T){var D=1/(l-d),B=1/(m-b),W=1/(k-T);return u[0]=-2*D,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*B,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*W,u[11]=0,u[12]=(l+d)*D,u[13]=(b+m)*B,u[14]=(T+k)*W,u[15]=1,u},a.aT=Jn,a.aU=$Z,a.aV=class extends v{},a.aW=PX,a.aX=class extends C{},a.aY=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},a.aZ=fj,a.a_=ct,a.aa=function(u){const l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,m,b,k)=>{const T=b||k;return l[m]=!T||T.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},a.ab=function(u,l){const d=[];for(const m in u)m in l||d.push(m);return d},a.ac=function(u){if(be==null){const l=u.navigator?u.navigator.userAgent:null;be=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return be},a.ad=R,a.ae=function(u,l,d){var m=Math.sin(d),b=Math.cos(d),k=l[0],T=l[1],D=l[2],B=l[3],W=l[4],H=l[5],Z=l[6],ee=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=k*b+W*m,u[1]=T*b+H*m,u[2]=D*b+Z*m,u[3]=B*b+ee*m,u[4]=W*b-k*m,u[5]=H*b-T*m,u[6]=Z*b-D*m,u[7]=ee*b-B*m,u},a.af=function(u){var l=new lp(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},a.ag=x_,a.ah=function(u,l){let d=0,m=0;if(u.kind==="constant")m=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:b,minZoom:k,maxZoom:T}=u,D=b?R(Go.interpolationFactor(b,l,k,T),0,1):0;u.kind==="camera"?m=qo.number(u.minSize,u.maxSize,D):d=D}return{uSizeT:d,uSize:m}},a.aj=function(u,{uSize:l,uSizeT:d},{lowerSize:m,upperSize:b}){return u.kind==="source"?m/Fl:u.kind==="composite"?qo.number(m/Fl,b/Fl,d):l},a.ak=zT,a.al=function(u,l,d,m){const b=l.y-u.y,k=l.x-u.x,T=m.y-d.y,D=m.x-d.x,B=T*k-D*b;if(B===0)return null;const W=(D*(u.y-d.y)-T*(u.x-d.x))/B;return new x(u.x+W*k,u.y+W*b)},a.am=pN,a.an=tj,a.ao=vT,a.ap=bi,a.ar=NT,a.as=function(u,l){var d=l[0],m=l[1],b=l[2],k=l[3],T=l[4],D=l[5],B=l[6],W=l[7],H=l[8],Z=l[9],ee=l[10],ie=l[11],oe=l[12],ce=l[13],ge=l[14],_e=l[15],Re=d*D-m*T,Te=d*B-b*T,Le=d*W-k*T,ze=m*B-b*D,Ze=m*W-k*D,kt=b*W-k*B,Dt=H*ce-Z*oe,wt=H*ge-ee*oe,xt=H*_e-ie*oe,ht=Z*ge-ee*ce,Mt=Z*_e-ie*ce,gt=ee*_e-ie*ge,it=Re*gt-Te*Mt+Le*ht+ze*xt-Ze*wt+kt*Dt;return it?(u[0]=(D*gt-B*Mt+W*ht)*(it=1/it),u[1]=(b*Mt-m*gt-k*ht)*it,u[2]=(ce*kt-ge*Ze+_e*ze)*it,u[3]=(ee*Ze-Z*kt-ie*ze)*it,u[4]=(B*xt-T*gt-W*wt)*it,u[5]=(d*gt-b*xt+k*wt)*it,u[6]=(ge*Le-oe*kt-_e*Te)*it,u[7]=(H*kt-ee*Le+ie*Te)*it,u[8]=(T*Mt-D*xt+W*Dt)*it,u[9]=(m*xt-d*Mt-k*Dt)*it,u[10]=(oe*Ze-ce*Le+_e*Re)*it,u[11]=(Z*Le-H*Ze-ie*Re)*it,u[12]=(D*wt-T*ht-B*Dt)*it,u[13]=(d*ht-m*wt+b*Dt)*it,u[14]=(ce*Te-oe*ze-ge*Re)*it,u[15]=(H*ze-Z*Te+ee*Re)*it,u):null},a.at=HT,a.au=jT,a.av=YT,a.aw=function(){const u={},l=Ne.$version;for(const d in Ne.$root){const m=Ne.$root[d];if(m.required){let b=null;b=d==="version"?l:m.type==="array"?[]:{},b!=null&&(u[d]=b)}}return u},a.ax=It,a.ay=a_,a.az=He,a.b=function(u,l){const d=new Blob([new Uint8Array(u)],{type:"image/png"});createImageBitmap(d).then(m=>{l(null,m)}).catch(m=>{l(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},a.b0=Ni,a.b1=function(u,l){var d=u[0],m=u[1],b=u[2],k=u[3],T=u[4],D=u[5],B=u[6],W=u[7],H=u[8],Z=u[9],ee=u[10],ie=u[11],oe=u[12],ce=u[13],ge=u[14],_e=u[15],Re=l[0],Te=l[1],Le=l[2],ze=l[3],Ze=l[4],kt=l[5],Dt=l[6],wt=l[7],xt=l[8],ht=l[9],Mt=l[10],gt=l[11],it=l[12],Yt=l[13],Nt=l[14],yn=l[15];return Math.abs(d-Re)<=Co*Math.max(1,Math.abs(d),Math.abs(Re))&&Math.abs(m-Te)<=Co*Math.max(1,Math.abs(m),Math.abs(Te))&&Math.abs(b-Le)<=Co*Math.max(1,Math.abs(b),Math.abs(Le))&&Math.abs(k-ze)<=Co*Math.max(1,Math.abs(k),Math.abs(ze))&&Math.abs(T-Ze)<=Co*Math.max(1,Math.abs(T),Math.abs(Ze))&&Math.abs(D-kt)<=Co*Math.max(1,Math.abs(D),Math.abs(kt))&&Math.abs(B-Dt)<=Co*Math.max(1,Math.abs(B),Math.abs(Dt))&&Math.abs(W-wt)<=Co*Math.max(1,Math.abs(W),Math.abs(wt))&&Math.abs(H-xt)<=Co*Math.max(1,Math.abs(H),Math.abs(xt))&&Math.abs(Z-ht)<=Co*Math.max(1,Math.abs(Z),Math.abs(ht))&&Math.abs(ee-Mt)<=Co*Math.max(1,Math.abs(ee),Math.abs(Mt))&&Math.abs(ie-gt)<=Co*Math.max(1,Math.abs(ie),Math.abs(gt))&&Math.abs(oe-it)<=Co*Math.max(1,Math.abs(oe),Math.abs(it))&&Math.abs(ce-Yt)<=Co*Math.max(1,Math.abs(ce),Math.abs(Yt))&&Math.abs(ge-Nt)<=Co*Math.max(1,Math.abs(ge),Math.abs(Nt))&&Math.abs(_e-yn)<=Co*Math.max(1,Math.abs(_e),Math.abs(yn))},a.b2=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.b3=function(u,l,d){return u[0]=l[0]*d[0],u[1]=l[1]*d[1],u[2]=l[2]*d[2],u[3]=l[3]*d[3],u},a.b4=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},a.b5=F,a.b6=sN,a.b7=iN,a.b8=function(u,l,d,m,b){var k,T=1/Math.tan(l/2);return u[0]=T/d,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=T,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,b!=null&&b!==1/0?(u[10]=(b+m)*(k=1/(m-b)),u[14]=2*b*m*k):(u[10]=-1,u[14]=-2*m),u},a.b9=function(u,l,d){var m=Math.sin(d),b=Math.cos(d),k=l[4],T=l[5],D=l[6],B=l[7],W=l[8],H=l[9],Z=l[10],ee=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=k*b+W*m,u[5]=T*b+H*m,u[6]=D*b+Z*m,u[7]=B*b+ee*m,u[8]=W*b-k*m,u[9]=H*b-T*m,u[10]=Z*b-D*m,u[11]=ee*b-B*m,u},a.bA=g,a.bB=$j,a.bC=Kh,a.bD=Yo,a.ba=N,a.bb=$,a.bc=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},a.bd=class extends yf{},a.be=VT,a.bf=oN,a.bg=cJ,a.bi=Lt,a.bj=function(u,l,d=!1){if(So===_y||So===wy||So===Sy)throw new Error("setRTLTextPlugin cannot be called multiple times.");zl=st.resolveURL(u),So=_y,ky=l,Cy(),d||u_()},a.bk=Ty,a.bl=function(u,l){const d={};for(let b=0;b<u.length;b++){const k=l&&l[u[b].id]||Qh(u[b]);l&&(l[u[b].id]=k);let T=d[k];T||(T=d[k]=[]),T.push(u[b])}const m=[];for(const b in d)m.push(d[b]);return m},a.bm=Ot,a.bn=cN,a.bo=dN,a.bp=Uj,a.bq=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=di/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const l=u.bucket.layers[0],d=l.layout,m=l._unevaluatedLayout._values,b={layoutIconSize:m["icon-size"].possiblyEvaluate(new br(u.bucket.zoom+1),u.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new br(u.bucket.zoom+1),u.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new br(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:W,maxZoom:H}=u.bucket.textSizeData;b.compositeTextSizes=[m["text-size"].possiblyEvaluate(new br(W),u.canonical),m["text-size"].possiblyEvaluate(new br(H),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:W,maxZoom:H}=u.bucket.iconSizeData;b.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new br(W),u.canonical),m["icon-size"].possiblyEvaluate(new br(H),u.canonical)]}const k=d.get("text-line-height")*bi,T=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",D=d.get("text-keep-upright"),B=d.get("text-size");for(const W of u.bucket.features){const H=d.get("text-font").evaluate(W,{},u.canonical).join(","),Z=B.evaluate(W,{},u.canonical),ee=b.layoutTextSize.evaluate(W,{},u.canonical),ie=b.layoutIconSize.evaluate(W,{},u.canonical),oe={horizontal:{},vertical:void 0},ce=W.text;let ge,_e=[0,0];if(ce){const Le=ce.toString(),ze=d.get("text-letter-spacing").evaluate(W,{},u.canonical)*bi,Ze=by(Le)?ze:0,kt=d.get("text-anchor").evaluate(W,{},u.canonical),Dt=SN(l,W,u.canonical);if(!Dt){const gt=d.get("text-radial-offset").evaluate(W,{},u.canonical);_e=gt?wN(kt,[gt*bi,GT]):d.get("text-offset").evaluate(W,{},u.canonical).map(it=>it*bi)}let wt=T?"center":d.get("text-justify").evaluate(W,{},u.canonical);const xt=d.get("symbol-placement"),ht=xt==="point"?d.get("text-max-width").evaluate(W,{},u.canonical)*bi:0,Mt=()=>{u.bucket.allowVerticalPlacement&&vy(Le)&&(oe.vertical=P_(ce,u.glyphMap,u.glyphPositions,u.imagePositions,H,ht,k,kt,"left",Ze,_e,a.ai.vertical,!0,xt,ee,Z))};if(!T&&Dt){const gt=new Set;if(wt==="auto")for(let Yt=0;Yt<Dt.values.length;Yt+=2)gt.add(HT(Dt.values[Yt]));else gt.add(wt);let it=!1;for(const Yt of gt)if(!oe.horizontal[Yt])if(it)oe.horizontal[Yt]=oe.horizontal[0];else{const Nt=P_(ce,u.glyphMap,u.glyphPositions,u.imagePositions,H,ht,k,"center",Yt,Ze,_e,a.ai.horizontal,!1,xt,ee,Z);Nt&&(oe.horizontal[Yt]=Nt,it=Nt.positionedLines.length===1)}Mt()}else{wt==="auto"&&(wt=HT(kt));const gt=P_(ce,u.glyphMap,u.glyphPositions,u.imagePositions,H,ht,k,kt,wt,Ze,_e,a.ai.horizontal,!1,xt,ee,Z);gt&&(oe.horizontal[wt]=gt),Mt(),vy(Le)&&T&&D&&(oe.vertical=P_(ce,u.glyphMap,u.glyphPositions,u.imagePositions,H,ht,k,kt,wt,Ze,_e,a.ai.vertical,!1,xt,ee,Z))}}let Re=!1;if(W.icon&&W.icon.name){const Le=u.imageMap[W.icon.name];Le&&(ge=WX(u.imagePositions[W.icon.name],d.get("icon-offset").evaluate(W,{},u.canonical),d.get("icon-anchor").evaluate(W,{},u.canonical)),Re=!!Le.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=Re:u.bucket.sdfIcons!==Re&&ke("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Le.pixelRatio!==u.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const Te=CN(oe.horizontal)||oe.vertical;u.bucket.iconsInText=!!Te&&Te.iconsInText,(Te||ge)&&sJ(u.bucket,W,oe,ge,u.imageMap,b,ee,ie,_e,Re,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},a.br=AT,a.bs=ET,a.bt=MT,a.bu=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},a.bv=$T,a.bw=Uu,a.bx=function(u,l,d,m,b){return f(this,void 0,void 0,function*(){if(I())try{return yield ft(u,l,d,m,b)}catch{}return function(k,T,D,B,W){const H=k.width,Z=k.height;Xe&&tt||(Xe=new OffscreenCanvas(H,Z),tt=Xe.getContext("2d",{willReadFrequently:!0})),Xe.width=H,Xe.height=Z,tt.drawImage(k,0,0,H,Z);const ee=tt.getImageData(T,D,B,W);return tt.clearRect(0,0,H,Z),ee.data}(u,l,d,m,b)})},a.by=lN,a.bz=h,a.c=Ht,a.d=function(u,l){const d=new Image;d.onload=()=>{l(null,d),URL.revokeObjectURL(d.src),d.onload=null,window.requestAnimationFrame(()=>{d.src=Ue})},d.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(u)],{type:"image/png"});d.src=u.byteLength?URL.createObjectURL(m):Ue},a.e=q,a.f=function(u,l){return Ve(q(u,{type:"json"}),l)},a.g=_t,a.h=st,a.i=Ce,a.j=xn,a.k=bn,a.l=Pt,a.m=Ve,a.n=function(u){return new $T(u).readFields(NX,[])},a.o=function(u,l,d){if(!u.length)return d(null,[]);let m=u.length;const b=new Array(u.length);let k=null;u.forEach((T,D)=>{l(T,(B,W)=>{B&&(k=B),b[D]=W,--m==0&&d(k,b)})})},a.p=Fj,a.q=zy,a.r=ni,a.s=Tt,a.t=cT,a.u=St,a.v=Ne,a.w=ke,a.x=np,a.y=Xs,a.z=function([u,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(d),y:u*Math.sin(l)*Math.sin(d),z:u*Math.cos(d)}}}),o(["./shared"],function(a){class f{constructor(J){this.keyCache={},J&&this.replace(J)}replace(J){this._layerConfigs={},this._layers={},this.update(J,[])}update(J,ne){for(const me of J){this._layerConfigs[me.id]=me;const ye=this._layers[me.id]=a.aC(me);ye._featureFilter=a.a6(ye.filter),this.keyCache[me.id]&&delete this.keyCache[me.id]}for(const me of ne)delete this.keyCache[me],delete this._layerConfigs[me],delete this._layers[me];this.familiesBySource={};const se=a.bl(Object.values(this._layerConfigs),this.keyCache);for(const me of se){const ye=me.map(We=>this._layers[We.id]),De=ye[0];if(De.visibility==="none")continue;const Pe=De.source||"";let xe=this.familiesBySource[Pe];xe||(xe=this.familiesBySource[Pe]={});const Ae=De.sourceLayer||"_geojsonTileLayer";let qe=xe[Ae];qe||(qe=xe[Ae]=[]),qe.push(ye)}}}class h{constructor(J){const ne={},se=[];for(const Pe in J){const xe=J[Pe],Ae=ne[Pe]={};for(const qe in xe){const We=xe[+qe];if(!We||We.bitmap.width===0||We.bitmap.height===0)continue;const Ye={x:0,y:0,w:We.bitmap.width+2,h:We.bitmap.height+2};se.push(Ye),Ae[qe]={rect:Ye,metrics:We.metrics}}}const{w:me,h:ye}=a.p(se),De=new a.q({width:me||1,height:ye||1});for(const Pe in J){const xe=J[Pe];for(const Ae in xe){const qe=xe[+Ae];if(!qe||qe.bitmap.width===0||qe.bitmap.height===0)continue;const We=ne[Pe][Ae].rect;a.q.copy(qe.bitmap,De,{x:0,y:0},{x:We.x+1,y:We.y+1},qe.bitmap)}}this.image=De,this.positions=ne}}a.bm("GlyphAtlas",h);class g{constructor(J){this.tileID=new a.O(J.tileID.overscaledZ,J.tileID.wrap,J.tileID.canonical.z,J.tileID.canonical.x,J.tileID.canonical.y),this.uid=J.uid,this.zoom=J.zoom,this.pixelRatio=J.pixelRatio,this.tileSize=J.tileSize,this.source=J.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=J.showCollisionBoxes,this.collectResourceTiming=!!J.collectResourceTiming,this.returnDependencies=!!J.returnDependencies,this.promoteId=J.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(J,ne,se,me,ye){this.status="parsing",this.data=J,this.collisionBoxArray=new a.a3;const De=new a.bn(Object.keys(J.layers).sort()),Pe=new a.bo(this.tileID,this.promoteId);Pe.bucketLayerIDs=[];const xe={},Ae={featureIndex:Pe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:se},qe=ne.familiesBySource[this.source];for(const An in qe){const Cn=J.layers[An];if(!Cn)continue;Cn.version===1&&a.w(`Vector tile source "${this.source}" layer "${An}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Mi=De.encode(An),or=[];for(let Qt=0;Qt<Cn.length;Qt++){const Kn=Cn.feature(Qt),fa=Pe.getId(Kn,An);or.push({feature:Kn,id:fa,index:Qt,sourceLayerIndex:Mi})}for(const Qt of qe[An]){const Kn=Qt[0];Kn.source!==this.source&&a.w(`layer.source = ${Kn.source} does not equal this.source = ${this.source}`),Kn.minzoom&&this.zoom<Math.floor(Kn.minzoom)||Kn.maxzoom&&this.zoom>=Kn.maxzoom||Kn.visibility!=="none"&&(y(Qt,this.zoom,se),(xe[Kn.id]=Kn.createBucket({index:Pe.bucketLayerIDs.length,layers:Qt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Mi,sourceID:this.source})).populate(or,Ae,this.tileID.canonical),Pe.bucketLayerIDs.push(Qt.map(fa=>fa.id)))}}let We,Ye,qt,Zt;const At=a.aH(Ae.glyphDependencies,An=>Object.keys(An).map(Number));this.inFlightDependencies.forEach(An=>An==null?void 0:An.cancel()),this.inFlightDependencies=[];const Gt=++this.dependencySentinel;Object.keys(At).length?this.inFlightDependencies.push(me.send("getGlyphs",{uid:this.uid,stacks:At,source:this.source,tileID:this.tileID,type:"glyphs"},(An,Cn)=>{Gt===this.dependencySentinel&&(We||(We=An,Ye=Cn,qn.call(this)))})):Ye={};const cn=Object.keys(Ae.iconDependencies);cn.length?this.inFlightDependencies.push(me.send("getImages",{icons:cn,source:this.source,tileID:this.tileID,type:"icons"},(An,Cn)=>{Gt===this.dependencySentinel&&(We||(We=An,qt=Cn,qn.call(this)))})):qt={};const jn=Object.keys(Ae.patternDependencies);function qn(){if(We)return ye(We);if(Ye&&qt&&Zt){const An=new h(Ye),Cn=new a.bp(qt,Zt);for(const Mi in xe){const or=xe[Mi];or instanceof a.a4?(y(or.layers,this.zoom,se),a.bq({bucket:or,glyphMap:Ye,glyphPositions:An.positions,imageMap:qt,imagePositions:Cn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):or.hasPattern&&(or instanceof a.br||or instanceof a.bs||or instanceof a.bt)&&(y(or.layers,this.zoom,se),or.addFeatures(Ae,this.tileID.canonical,Cn.patternPositions))}this.status="done",ye(null,{buckets:Object.values(xe).filter(Mi=>!Mi.isEmpty()),featureIndex:Pe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:An.image,imageAtlas:Cn,glyphMap:this.returnDependencies?Ye:null,iconMap:this.returnDependencies?qt:null,glyphPositions:this.returnDependencies?An.positions:null})}}jn.length?this.inFlightDependencies.push(me.send("getImages",{icons:jn,source:this.source,tileID:this.tileID,type:"patterns"},(An,Cn)=>{Gt===this.dependencySentinel&&(We||(We=An,Zt=Cn,qn.call(this)))})):Zt={},qn.call(this)}}function y(he,J,ne){const se=new a.a8(J);for(const me of he)me.recalculate(se,ne)}function x(he,J){const ne=a.l(he.request,(se,me,ye,De)=>{if(se)J(se);else if(me)try{const Pe=new a.bw.VectorTile(new a.bv(me));J(null,{vectorTile:Pe,rawData:me,cacheControl:ye,expires:De})}catch(Pe){const xe=new Uint8Array(me);let Ae=`Unable to parse the tile at ${he.request.url}, `;Ae+=xe[0]===31&&xe[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Pe.messge}`,J(new Error(Ae))}});return()=>{ne.cancel(),J()}}class P{constructor(J,ne,se,me){this.actor=J,this.layerIndex=ne,this.availableImages=se,this.loadVectorData=me||x,this.fetching={},this.loading={},this.loaded={}}loadTile(J,ne){const se=J.uid;this.loading||(this.loading={});const me=!!(J&&J.request&&J.request.collectResourceTiming)&&new a.bu(J.request),ye=this.loading[se]=new g(J);ye.abort=this.loadVectorData(J,(De,Pe)=>{if(delete this.loading[se],De||!Pe)return ye.status="done",this.loaded[se]=ye,ne(De);const xe=Pe.rawData,Ae={};Pe.expires&&(Ae.expires=Pe.expires),Pe.cacheControl&&(Ae.cacheControl=Pe.cacheControl);const qe={};if(me){const We=me.finish();We&&(qe.resourceTiming=JSON.parse(JSON.stringify(We)))}ye.vectorTile=Pe.vectorTile,ye.parse(Pe.vectorTile,this.layerIndex,this.availableImages,this.actor,(We,Ye)=>{if(delete this.fetching[se],We||!Ye)return ne(We);ne(null,a.e({rawTileData:xe.slice(0)},Ye,Ae,qe))}),this.loaded=this.loaded||{},this.loaded[se]=ye,this.fetching[se]={rawTileData:xe,cacheControl:Ae,resourceTiming:qe}})}reloadTile(J,ne){const se=this.loaded,me=J.uid;if(se&&se[me]){const ye=se[me];ye.showCollisionBoxes=J.showCollisionBoxes,ye.status==="parsing"?ye.parse(ye.vectorTile,this.layerIndex,this.availableImages,this.actor,(De,Pe)=>{if(De||!Pe)return ne(De,Pe);let xe;if(this.fetching[me]){const{rawTileData:Ae,cacheControl:qe,resourceTiming:We}=this.fetching[me];delete this.fetching[me],xe=a.e({rawTileData:Ae.slice(0)},Pe,qe,We)}else xe=Pe;ne(null,xe)}):ye.status==="done"&&(ye.vectorTile?ye.parse(ye.vectorTile,this.layerIndex,this.availableImages,this.actor,ne):ne())}}abortTile(J,ne){const se=this.loading,me=J.uid;se&&se[me]&&se[me].abort&&(se[me].abort(),delete se[me]),ne()}removeTile(J,ne){const se=this.loaded,me=J.uid;se&&se[me]&&delete se[me],ne()}}class E{constructor(){this.loaded={}}loadTile(J,ne){return a._(this,void 0,void 0,function*(){const{uid:se,encoding:me,rawImageData:ye,redFactor:De,greenFactor:Pe,blueFactor:xe,baseShift:Ae}=J,qe=ye.width+2,We=ye.height+2,Ye=a.a(ye)?new a.R({width:qe,height:We},yield a.bx(ye,-1,-1,qe,We)):ye,qt=new a.by(se,Ye,me,De,Pe,xe,Ae);this.loaded=this.loaded||{},this.loaded[se]=qt,ne(null,qt)})}removeTile(J){const ne=this.loaded,se=J.uid;ne&&ne[se]&&delete ne[se]}}function S(he,J){if(he.length!==0){O(he[0],J);for(var ne=1;ne<he.length;ne++)O(he[ne],!J)}}function O(he,J){for(var ne=0,se=0,me=0,ye=he.length,De=ye-1;me<ye;De=me++){var Pe=(he[me][0]-he[De][0])*(he[De][1]+he[me][1]),xe=ne+Pe;se+=Math.abs(ne)>=Math.abs(Pe)?ne-xe+Pe:Pe-xe+ne,ne=xe}ne+se>=0!=!!J&&he.reverse()}var A=a.bz(function he(J,ne){var se,me=J&&J.type;if(me==="FeatureCollection")for(se=0;se<J.features.length;se++)he(J.features[se],ne);else if(me==="GeometryCollection")for(se=0;se<J.geometries.length;se++)he(J.geometries[se],ne);else if(me==="Feature")he(J.geometry,ne);else if(me==="Polygon")S(J.coordinates,ne);else if(me==="MultiPolygon")for(se=0;se<J.coordinates.length;se++)S(J.coordinates[se],ne);return J});const M=a.bw.VectorTileFeature.prototype.toGeoJSON;var I={exports:{}},N=a.bA,$=a.bw.VectorTileFeature,R=F;function F(he,J){this.options=J||{},this.features=he,this.length=he.length}function q(he,J){this.id=typeof he.id=="number"?he.id:void 0,this.type=he.type,this.rawGeometry=he.type===1?[he.geometry]:he.geometry,this.properties=he.tags,this.extent=J||4096}F.prototype.feature=function(he){return new q(this.features[he],this.options.extent)},q.prototype.loadGeometry=function(){var he=this.rawGeometry;this.geometry=[];for(var J=0;J<he.length;J++){for(var ne=he[J],se=[],me=0;me<ne.length;me++)se.push(new N(ne[me][0],ne[me][1]));this.geometry.push(se)}return this.geometry},q.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var he=this.geometry,J=1/0,ne=-1/0,se=1/0,me=-1/0,ye=0;ye<he.length;ye++)for(var De=he[ye],Pe=0;Pe<De.length;Pe++){var xe=De[Pe];J=Math.min(J,xe.x),ne=Math.max(ne,xe.x),se=Math.min(se,xe.y),me=Math.max(me,xe.y)}return[J,se,ne,me]},q.prototype.toGeoJSON=$.prototype.toGeoJSON;var X=a.bB,Q=R;function ae(he){var J=new X;return function(ne,se){for(var me in ne.layers)se.writeMessage(3,fe,ne.layers[me])}(he,J),J.finish()}function fe(he,J){var ne;J.writeVarintField(15,he.version||1),J.writeStringField(1,he.name||""),J.writeVarintField(5,he.extent||4096);var se={keys:[],values:[],keycache:{},valuecache:{}};for(ne=0;ne<he.length;ne++)se.feature=he.feature(ne),J.writeMessage(2,Se,se);var me=se.keys;for(ne=0;ne<me.length;ne++)J.writeStringField(3,me[ne]);var ye=se.values;for(ne=0;ne<ye.length;ne++)J.writeMessage(4,be,ye[ne])}function Se(he,J){var ne=he.feature;ne.id!==void 0&&J.writeVarintField(1,ne.id),J.writeMessage(2,ke,he),J.writeVarintField(3,ne.type),J.writeMessage(4,Ce,ne)}function ke(he,J){var ne=he.feature,se=he.keys,me=he.values,ye=he.keycache,De=he.valuecache;for(var Pe in ne.properties){var xe=ne.properties[Pe],Ae=ye[Pe];if(xe!==null){Ae===void 0&&(se.push(Pe),ye[Pe]=Ae=se.length-1),J.writeVarint(Ae);var qe=typeof xe;qe!=="string"&&qe!=="boolean"&&qe!=="number"&&(xe=JSON.stringify(xe));var We=qe+":"+xe,Ye=De[We];Ye===void 0&&(me.push(xe),De[We]=Ye=me.length-1),J.writeVarint(Ye)}}}function we(he,J){return(J<<3)+(7&he)}function Oe(he){return he<<1^he>>31}function Ce(he,J){for(var ne=he.loadGeometry(),se=he.type,me=0,ye=0,De=ne.length,Pe=0;Pe<De;Pe++){var xe=ne[Pe],Ae=1;se===1&&(Ae=xe.length),J.writeVarint(we(1,Ae));for(var qe=se===3?xe.length-1:xe.length,We=0;We<qe;We++){We===1&&se!==1&&J.writeVarint(we(2,qe-1));var Ye=xe[We].x-me,qt=xe[We].y-ye;J.writeVarint(Oe(Ye)),J.writeVarint(Oe(qt)),me+=Ye,ye+=qt}se===3&&J.writeVarint(we(7,1))}}function be(he,J){var ne=typeof he;ne==="string"?J.writeStringField(1,he):ne==="boolean"?J.writeBooleanField(7,he):ne==="number"&&(he%1!=0?J.writeDoubleField(3,he):he<0?J.writeSVarintField(6,he):J.writeVarintField(5,he))}I.exports=ae,I.exports.fromVectorTileJs=ae,I.exports.fromGeojsonVt=function(he,J){J=J||{};var ne={};for(var se in he)ne[se]=new Q(he[se].features,J),ne[se].name=se,ne[se].version=J.version,ne[se].extent=J.extent;return ae({layers:ne})},I.exports.GeoJSONWrapper=Q;var $e=a.bz(I.exports);const Ue={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:he=>he},ft=Math.fround||(Xe=new Float32Array(1),he=>(Xe[0]=+he,Xe[0]));var Xe;const tt=3,lt=5,Ct=6;class st{constructor(J){this.options=Object.assign(Object.create(Ue),J),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(J){const{log:ne,minZoom:se,maxZoom:me}=this.options;ne&&console.time("total time");const ye=`prepare ${J.length} points`;ne&&console.time(ye),this.points=J;const De=[];for(let xe=0;xe<J.length;xe++){const Ae=J[xe];if(!Ae.geometry)continue;const[qe,We]=Ae.geometry.coordinates,Ye=ft(He(qe)),qt=ft(_t(We));De.push(Ye,qt,1/0,xe,-1,1),this.options.reduce&&De.push(0)}let Pe=this.trees[me+1]=this._createTree(De);ne&&console.timeEnd(ye);for(let xe=me;xe>=se;xe--){const Ae=+Date.now();Pe=this.trees[xe]=this._createTree(this._cluster(Pe,xe)),ne&&console.log("z%d: %d clusters in %dms",xe,Pe.numItems,+Date.now()-Ae)}return ne&&console.timeEnd("total time"),this}getClusters(J,ne){let se=((J[0]+180)%360+360)%360-180;const me=Math.max(-90,Math.min(90,J[1]));let ye=J[2]===180?180:((J[2]+180)%360+360)%360-180;const De=Math.max(-90,Math.min(90,J[3]));if(J[2]-J[0]>=360)se=-180,ye=180;else if(se>ye){const We=this.getClusters([se,me,180,De],ne),Ye=this.getClusters([-180,me,ye,De],ne);return We.concat(Ye)}const Pe=this.trees[this._limitZoom(ne)],xe=Pe.range(He(se),_t(De),He(ye),_t(me)),Ae=Pe.data,qe=[];for(const We of xe){const Ye=this.stride*We;qe.push(Ae[Ye+lt]>1?Ht(Ae,Ye,this.clusterProps):this.points[Ae[Ye+tt]])}return qe}getChildren(J){const ne=this._getOriginId(J),se=this._getOriginZoom(J),me="No cluster with the specified id.",ye=this.trees[se];if(!ye)throw new Error(me);const De=ye.data;if(ne*this.stride>=De.length)throw new Error(me);const Pe=this.options.radius/(this.options.extent*Math.pow(2,se-1)),xe=ye.within(De[ne*this.stride],De[ne*this.stride+1],Pe),Ae=[];for(const qe of xe){const We=qe*this.stride;De[We+4]===J&&Ae.push(De[We+lt]>1?Ht(De,We,this.clusterProps):this.points[De[We+tt]])}if(Ae.length===0)throw new Error(me);return Ae}getLeaves(J,ne,se){const me=[];return this._appendLeaves(me,J,ne=ne||10,se=se||0,0),me}getTile(J,ne,se){const me=this.trees[this._limitZoom(J)],ye=Math.pow(2,J),{extent:De,radius:Pe}=this.options,xe=Pe/De,Ae=(se-xe)/ye,qe=(se+1+xe)/ye,We={features:[]};return this._addTileFeatures(me.range((ne-xe)/ye,Ae,(ne+1+xe)/ye,qe),me.data,ne,se,ye,We),ne===0&&this._addTileFeatures(me.range(1-xe/ye,Ae,1,qe),me.data,ye,se,ye,We),ne===ye-1&&this._addTileFeatures(me.range(0,Ae,xe/ye,qe),me.data,-1,se,ye,We),We.features.length?We:null}getClusterExpansionZoom(J){let ne=this._getOriginZoom(J)-1;for(;ne<=this.options.maxZoom;){const se=this.getChildren(J);if(ne++,se.length!==1)break;J=se[0].properties.cluster_id}return ne}_appendLeaves(J,ne,se,me,ye){const De=this.getChildren(ne);for(const Pe of De){const xe=Pe.properties;if(xe&&xe.cluster?ye+xe.point_count<=me?ye+=xe.point_count:ye=this._appendLeaves(J,xe.cluster_id,se,me,ye):ye<me?ye++:J.push(Pe),J.length===se)break}return ye}_createTree(J){const ne=new a.av(J.length/this.stride|0,this.options.nodeSize,Float32Array);for(let se=0;se<J.length;se+=this.stride)ne.add(J[se],J[se+1]);return ne.finish(),ne.data=J,ne}_addTileFeatures(J,ne,se,me,ye,De){for(const Pe of J){const xe=Pe*this.stride,Ae=ne[xe+lt]>1;let qe,We,Ye;if(Ae)qe=Lt(ne,xe,this.clusterProps),We=ne[xe],Ye=ne[xe+1];else{const At=this.points[ne[xe+tt]];qe=At.properties;const[Gt,cn]=At.geometry.coordinates;We=He(Gt),Ye=_t(cn)}const qt={type:1,geometry:[[Math.round(this.options.extent*(We*ye-se)),Math.round(this.options.extent*(Ye*ye-me))]],tags:qe};let Zt;Zt=Ae||this.options.generateId?ne[xe+tt]:this.points[ne[xe+tt]].id,Zt!==void 0&&(qt.id=Zt),De.features.push(qt)}}_limitZoom(J){return Math.max(this.options.minZoom,Math.min(Math.floor(+J),this.options.maxZoom+1))}_cluster(J,ne){const{radius:se,extent:me,reduce:ye,minPoints:De}=this.options,Pe=se/(me*Math.pow(2,ne)),xe=J.data,Ae=[],qe=this.stride;for(let We=0;We<xe.length;We+=qe){if(xe[We+2]<=ne)continue;xe[We+2]=ne;const Ye=xe[We],qt=xe[We+1],Zt=J.within(xe[We],xe[We+1],Pe),At=xe[We+lt];let Gt=At;for(const cn of Zt){const jn=cn*qe;xe[jn+2]>ne&&(Gt+=xe[jn+lt])}if(Gt>At&&Gt>=De){let cn,jn=Ye*At,qn=qt*At,An=-1;const Cn=((We/qe|0)<<5)+(ne+1)+this.points.length;for(const Mi of Zt){const or=Mi*qe;if(xe[or+2]<=ne)continue;xe[or+2]=ne;const Qt=xe[or+lt];jn+=xe[or]*Qt,qn+=xe[or+1]*Qt,xe[or+4]=Cn,ye&&(cn||(cn=this._map(xe,We,!0),An=this.clusterProps.length,this.clusterProps.push(cn)),ye(cn,this._map(xe,or)))}xe[We+4]=Cn,Ae.push(jn/Gt,qn/Gt,1/0,Cn,-1,Gt),ye&&Ae.push(An)}else{for(let cn=0;cn<qe;cn++)Ae.push(xe[We+cn]);if(Gt>1)for(const cn of Zt){const jn=cn*qe;if(!(xe[jn+2]<=ne)){xe[jn+2]=ne;for(let qn=0;qn<qe;qn++)Ae.push(xe[jn+qn])}}}}return Ae}_getOriginId(J){return J-this.points.length>>5}_getOriginZoom(J){return(J-this.points.length)%32}_map(J,ne,se){if(J[ne+lt]>1){const De=this.clusterProps[J[ne+Ct]];return se?Object.assign({},De):De}const me=this.points[J[ne+tt]].properties,ye=this.options.map(me);return se&&ye===me?Object.assign({},ye):ye}}function Ht(he,J,ne){return{type:"Feature",id:he[J+tt],properties:Lt(he,J,ne),geometry:{type:"Point",coordinates:[(se=he[J],360*(se-.5)),pt(he[J+1])]}};var se}function Lt(he,J,ne){const se=he[J+lt],me=se>=1e4?`${Math.round(se/1e3)}k`:se>=1e3?Math.round(se/100)/10+"k":se,ye=he[J+Ct],De=ye===-1?{}:Object.assign({},ne[ye]);return Object.assign(De,{cluster:!0,cluster_id:he[J+tt],point_count:se,point_count_abbreviated:me})}function He(he){return he/360+.5}function _t(he){const J=Math.sin(he*Math.PI/180),ne=.5-.25*Math.log((1+J)/(1-J))/Math.PI;return ne<0?0:ne>1?1:ne}function pt(he){const J=(180-360*he)*Math.PI/180;return 360*Math.atan(Math.exp(J))/Math.PI-90}function Ve(he,J,ne,se){for(var me,ye=se,De=ne-J>>1,Pe=ne-J,xe=he[J],Ae=he[J+1],qe=he[ne],We=he[ne+1],Ye=J+3;Ye<ne;Ye+=3){var qt=Pt(he[Ye],he[Ye+1],xe,Ae,qe,We);if(qt>ye)me=Ye,ye=qt;else if(qt===ye){var Zt=Math.abs(Ye-De);Zt<Pe&&(me=Ye,Pe=Zt)}}ye>se&&(me-J>3&&Ve(he,J,me,se),he[me+2]=ye,ne-me>3&&Ve(he,me,ne,se))}function Pt(he,J,ne,se,me,ye){var De=me-ne,Pe=ye-se;if(De!==0||Pe!==0){var xe=((he-ne)*De+(J-se)*Pe)/(De*De+Pe*Pe);xe>1?(ne=me,se=ye):xe>0&&(ne+=De*xe,se+=Pe*xe)}return(De=he-ne)*De+(Pe=J-se)*Pe}function Tt(he,J,ne,se){var me={id:he===void 0?null:he,type:J,geometry:ne,tags:se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ye){var De=ye.geometry,Pe=ye.type;if(Pe==="Point"||Pe==="MultiPoint"||Pe==="LineString")Ut(ye,De);else if(Pe==="Polygon"||Pe==="MultiLineString")for(var xe=0;xe<De.length;xe++)Ut(ye,De[xe]);else if(Pe==="MultiPolygon")for(xe=0;xe<De.length;xe++)for(var Ae=0;Ae<De[xe].length;Ae++)Ut(ye,De[xe][Ae])}(me),me}function Ut(he,J){for(var ne=0;ne<J.length;ne+=3)he.minX=Math.min(he.minX,J[ne]),he.minY=Math.min(he.minY,J[ne+1]),he.maxX=Math.max(he.maxX,J[ne]),he.maxY=Math.max(he.maxY,J[ne+1])}function gn(he,J,ne,se){if(J.geometry){var me=J.geometry.coordinates,ye=J.geometry.type,De=Math.pow(ne.tolerance/((1<<ne.maxZoom)*ne.extent),2),Pe=[],xe=J.id;if(ne.promoteId?xe=J.properties[ne.promoteId]:ne.generateId&&(xe=se||0),ye==="Point")bn(me,Pe);else if(ye==="MultiPoint")for(var Ae=0;Ae<me.length;Ae++)bn(me[Ae],Pe);else if(ye==="LineString")xn(me,Pe,De,!1);else if(ye==="MultiLineString"){if(ne.lineMetrics){for(Ae=0;Ae<me.length;Ae++)xn(me[Ae],Pe=[],De,!1),he.push(Tt(xe,"LineString",Pe,J.properties));return}rr(me,Pe,De,!1)}else if(ye==="Polygon")rr(me,Pe,De,!0);else{if(ye!=="MultiPolygon"){if(ye==="GeometryCollection"){for(Ae=0;Ae<J.geometry.geometries.length;Ae++)gn(he,{id:xe,geometry:J.geometry.geometries[Ae],properties:J.properties},ne,se);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ae=0;Ae<me.length;Ae++){var qe=[];rr(me[Ae],qe,De,!0),Pe.push(qe)}}he.push(Tt(xe,ye,Pe,J.properties))}}function bn(he,J){J.push(Ne(he[0])),J.push(an(he[1])),J.push(0)}function xn(he,J,ne,se){for(var me,ye,De=0,Pe=0;Pe<he.length;Pe++){var xe=Ne(he[Pe][0]),Ae=an(he[Pe][1]);J.push(xe),J.push(Ae),J.push(0),Pe>0&&(De+=se?(me*Ae-xe*ye)/2:Math.sqrt(Math.pow(xe-me,2)+Math.pow(Ae-ye,2))),me=xe,ye=Ae}var qe=J.length-3;J[2]=1,Ve(J,0,qe,ne),J[qe+2]=1,J.size=Math.abs(De),J.start=0,J.end=J.size}function rr(he,J,ne,se){for(var me=0;me<he.length;me++){var ye=[];xn(he[me],ye,ne,se),J.push(ye)}}function Ne(he){return he/360+.5}function an(he){var J=Math.sin(he*Math.PI/180),ne=.5-.25*Math.log((1+J)/(1-J))/Math.PI;return ne<0?0:ne>1?1:ne}function Mn(he,J,ne,se,me,ye,De,Pe){if(se/=J,ye>=(ne/=J)&&De<se)return he;if(De<ne||ye>=se)return null;for(var xe=[],Ae=0;Ae<he.length;Ae++){var qe=he[Ae],We=qe.geometry,Ye=qe.type,qt=me===0?qe.minX:qe.minY,Zt=me===0?qe.maxX:qe.maxY;if(qt>=ne&&Zt<se)xe.push(qe);else if(!(Zt<ne||qt>=se)){var At=[];if(Ye==="Point"||Ye==="MultiPoint")on(We,At,ne,se,me);else if(Ye==="LineString")It(We,At,ne,se,me,!1,Pe.lineMetrics);else if(Ye==="MultiLineString")ir(We,At,ne,se,me,!1);else if(Ye==="Polygon")ir(We,At,ne,se,me,!0);else if(Ye==="MultiPolygon")for(var Gt=0;Gt<We.length;Gt++){var cn=[];ir(We[Gt],cn,ne,se,me,!0),cn.length&&At.push(cn)}if(At.length){if(Pe.lineMetrics&&Ye==="LineString"){for(Gt=0;Gt<At.length;Gt++)xe.push(Tt(qe.id,Ye,At[Gt],qe.tags));continue}Ye!=="LineString"&&Ye!=="MultiLineString"||(At.length===1?(Ye="LineString",At=At[0]):Ye="MultiLineString"),Ye!=="Point"&&Ye!=="MultiPoint"||(Ye=At.length===3?"Point":"MultiPoint"),xe.push(Tt(qe.id,Ye,At,qe.tags))}}}return xe.length?xe:null}function on(he,J,ne,se,me){for(var ye=0;ye<he.length;ye+=3){var De=he[ye+me];De>=ne&&De<=se&&(J.push(he[ye]),J.push(he[ye+1]),J.push(he[ye+2]))}}function It(he,J,ne,se,me,ye,De){for(var Pe,xe,Ae=Wn(he),qe=me===0?Dn:Kt,We=he.start,Ye=0;Ye<he.length-3;Ye+=3){var qt=he[Ye],Zt=he[Ye+1],At=he[Ye+2],Gt=he[Ye+3],cn=he[Ye+4],jn=me===0?qt:Zt,qn=me===0?Gt:cn,An=!1;De&&(Pe=Math.sqrt(Math.pow(qt-Gt,2)+Math.pow(Zt-cn,2))),jn<ne?qn>ne&&(xe=qe(Ae,qt,Zt,Gt,cn,ne),De&&(Ae.start=We+Pe*xe)):jn>se?qn<se&&(xe=qe(Ae,qt,Zt,Gt,cn,se),De&&(Ae.start=We+Pe*xe)):Tr(Ae,qt,Zt,At),qn<ne&&jn>=ne&&(xe=qe(Ae,qt,Zt,Gt,cn,ne),An=!0),qn>se&&jn<=se&&(xe=qe(Ae,qt,Zt,Gt,cn,se),An=!0),!ye&&An&&(De&&(Ae.end=We+Pe*xe),J.push(Ae),Ae=Wn(he)),De&&(We+=Pe)}var Cn=he.length-3;qt=he[Cn],Zt=he[Cn+1],At=he[Cn+2],(jn=me===0?qt:Zt)>=ne&&jn<=se&&Tr(Ae,qt,Zt,At),Cn=Ae.length-3,ye&&Cn>=3&&(Ae[Cn]!==Ae[0]||Ae[Cn+1]!==Ae[1])&&Tr(Ae,Ae[0],Ae[1],Ae[2]),Ae.length&&J.push(Ae)}function Wn(he){var J=[];return J.size=he.size,J.start=he.start,J.end=he.end,J}function ir(he,J,ne,se,me,ye){for(var De=0;De<he.length;De++)It(he[De],J,ne,se,me,ye,!1)}function Tr(he,J,ne,se){he.push(J),he.push(ne),he.push(se)}function Dn(he,J,ne,se,me,ye){var De=(ye-J)/(se-J);return he.push(ye),he.push(ne+(me-ne)*De),he.push(1),De}function Kt(he,J,ne,se,me,ye){var De=(ye-ne)/(me-ne);return he.push(J+(se-J)*De),he.push(ye),he.push(1),De}function cr(he,J){for(var ne=[],se=0;se<he.length;se++){var me,ye=he[se],De=ye.type;if(De==="Point"||De==="MultiPoint"||De==="LineString")me=Di(ye.geometry,J);else if(De==="MultiLineString"||De==="Polygon"){me=[];for(var Pe=0;Pe<ye.geometry.length;Pe++)me.push(Di(ye.geometry[Pe],J))}else if(De==="MultiPolygon")for(me=[],Pe=0;Pe<ye.geometry.length;Pe++){for(var xe=[],Ae=0;Ae<ye.geometry[Pe].length;Ae++)xe.push(Di(ye.geometry[Pe][Ae],J));me.push(xe)}ne.push(Tt(ye.id,De,me,ye.tags))}return ne}function Di(he,J){var ne=[];ne.size=he.size,he.start!==void 0&&(ne.start=he.start,ne.end=he.end);for(var se=0;se<he.length;se+=3)ne.push(he[se]+J,he[se+1],he[se+2]);return ne}function ot(he,J){if(he.transformed)return he;var ne,se,me,ye=1<<he.z,De=he.x,Pe=he.y;for(ne=0;ne<he.features.length;ne++){var xe=he.features[ne],Ae=xe.geometry,qe=xe.type;if(xe.geometry=[],qe===1)for(se=0;se<Ae.length;se+=2)xe.geometry.push(zt(Ae[se],Ae[se+1],J,ye,De,Pe));else for(se=0;se<Ae.length;se++){var We=[];for(me=0;me<Ae[se].length;me+=2)We.push(zt(Ae[se][me],Ae[se][me+1],J,ye,De,Pe));xe.geometry.push(We)}}return he.transformed=!0,he}function zt(he,J,ne,se,me,ye){return[Math.round(ne*(he*se-me)),Math.round(ne*(J*se-ye))]}function ln(he,J,ne,se,me){for(var ye=J===me.maxZoom?0:me.tolerance/((1<<J)*me.extent),De={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ne,y:se,z:J,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Pe=0;Pe<he.length;Pe++){De.numFeatures++,Xn(De,he[Pe],ye,me);var xe=he[Pe].minX,Ae=he[Pe].minY,qe=he[Pe].maxX,We=he[Pe].maxY;xe<De.minX&&(De.minX=xe),Ae<De.minY&&(De.minY=Ae),qe>De.maxX&&(De.maxX=qe),We>De.maxY&&(De.maxY=We)}return De}function Xn(he,J,ne,se){var me=J.geometry,ye=J.type,De=[];if(ye==="Point"||ye==="MultiPoint")for(var Pe=0;Pe<me.length;Pe+=3)De.push(me[Pe]),De.push(me[Pe+1]),he.numPoints++,he.numSimplified++;else if(ye==="LineString")ui(De,me,he,ne,!1,!1);else if(ye==="MultiLineString"||ye==="Polygon")for(Pe=0;Pe<me.length;Pe++)ui(De,me[Pe],he,ne,ye==="Polygon",Pe===0);else if(ye==="MultiPolygon")for(var xe=0;xe<me.length;xe++){var Ae=me[xe];for(Pe=0;Pe<Ae.length;Pe++)ui(De,Ae[Pe],he,ne,!0,Pe===0)}if(De.length){var qe=J.tags||null;if(ye==="LineString"&&se.lineMetrics){for(var We in qe={},J.tags)qe[We]=J.tags[We];qe.mapbox_clip_start=me.start/me.size,qe.mapbox_clip_end=me.end/me.size}var Ye={geometry:De,type:ye==="Polygon"||ye==="MultiPolygon"?3:ye==="LineString"||ye==="MultiLineString"?2:1,tags:qe};J.id!==null&&(Ye.id=J.id),he.features.push(Ye)}}function ui(he,J,ne,se,me,ye){var De=se*se;if(se>0&&J.size<(me?De:se))ne.numPoints+=J.length/3;else{for(var Pe=[],xe=0;xe<J.length;xe+=3)(se===0||J[xe+2]>De)&&(ne.numSimplified++,Pe.push(J[xe]),Pe.push(J[xe+1])),ne.numPoints++;me&&function(Ae,qe){for(var We=0,Ye=0,qt=Ae.length,Zt=qt-2;Ye<qt;Zt=Ye,Ye+=2)We+=(Ae[Ye]-Ae[Zt])*(Ae[Ye+1]+Ae[Zt+1]);if(We>0===qe)for(Ye=0,qt=Ae.length;Ye<qt/2;Ye+=2){var At=Ae[Ye],Gt=Ae[Ye+1];Ae[Ye]=Ae[qt-2-Ye],Ae[Ye+1]=Ae[qt-1-Ye],Ae[qt-2-Ye]=At,Ae[qt-1-Ye]=Gt}}(Pe,ye),he.push(Pe)}}function dt(he,J){var ne=(J=this.options=function(me,ye){for(var De in ye)me[De]=ye[De];return me}(Object.create(this.options),J)).debug;if(ne&&console.time("preprocess data"),J.maxZoom<0||J.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(J.promoteId&&J.generateId)throw new Error("promoteId and generateId cannot be used together.");var se=function(me,ye){var De=[];if(me.type==="FeatureCollection")for(var Pe=0;Pe<me.features.length;Pe++)gn(De,me.features[Pe],ye,Pe);else gn(De,me.type==="Feature"?me:{geometry:me},ye);return De}(he,J);this.tiles={},this.tileCoords=[],ne&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",J.indexMaxZoom,J.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=function(me,ye){var De=ye.buffer/ye.extent,Pe=me,xe=Mn(me,1,-1-De,De,0,-1,2,ye),Ae=Mn(me,1,1-De,2+De,0,-1,2,ye);return(xe||Ae)&&(Pe=Mn(me,1,-De,1+De,0,-1,2,ye)||[],xe&&(Pe=cr(xe,1).concat(Pe)),Ae&&(Pe=Pe.concat(cr(Ae,-1)))),Pe}(se,J),se.length&&this.splitTile(se,0,0,0),ne&&(se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function hn(he,J,ne){return 32*((1<<he)*ne+J)+he}function dn(he,J){return J?he.properties[J]:he.id}function Li(he,J){if(he==null)return!0;if(he.type==="Feature")return dn(he,J)!=null;if(he.type==="FeatureCollection"){const ne=new Set;for(const se of he.features){const me=dn(se,J);if(me==null||ne.has(me))return!1;ne.add(me)}return!0}return!1}function ua(he,J){const ne=new Map;if(he!=null)if(he.type==="Feature")ne.set(dn(he,J),he);else for(const se of he.features)ne.set(dn(se,J),se);return ne}dt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},dt.prototype.splitTile=function(he,J,ne,se,me,ye,De){for(var Pe=[he,J,ne,se],xe=this.options,Ae=xe.debug;Pe.length;){se=Pe.pop(),ne=Pe.pop(),J=Pe.pop(),he=Pe.pop();var qe=1<<J,We=hn(J,ne,se),Ye=this.tiles[We];if(!Ye&&(Ae>1&&console.time("creation"),Ye=this.tiles[We]=ln(he,J,ne,se,xe),this.tileCoords.push({z:J,x:ne,y:se}),Ae)){Ae>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",J,ne,se,Ye.numFeatures,Ye.numPoints,Ye.numSimplified),console.timeEnd("creation"));var qt="z"+J;this.stats[qt]=(this.stats[qt]||0)+1,this.total++}if(Ye.source=he,me){if(J===xe.maxZoom||J===me)continue;var Zt=1<<me-J;if(ne!==Math.floor(ye/Zt)||se!==Math.floor(De/Zt))continue}else if(J===xe.indexMaxZoom||Ye.numPoints<=xe.indexMaxPoints)continue;if(Ye.source=null,he.length!==0){Ae>1&&console.time("clipping");var At,Gt,cn,jn,qn,An,Cn=.5*xe.buffer/xe.extent,Mi=.5-Cn,or=.5+Cn,Qt=1+Cn;At=Gt=cn=jn=null,qn=Mn(he,qe,ne-Cn,ne+or,0,Ye.minX,Ye.maxX,xe),An=Mn(he,qe,ne+Mi,ne+Qt,0,Ye.minX,Ye.maxX,xe),he=null,qn&&(At=Mn(qn,qe,se-Cn,se+or,1,Ye.minY,Ye.maxY,xe),Gt=Mn(qn,qe,se+Mi,se+Qt,1,Ye.minY,Ye.maxY,xe),qn=null),An&&(cn=Mn(An,qe,se-Cn,se+or,1,Ye.minY,Ye.maxY,xe),jn=Mn(An,qe,se+Mi,se+Qt,1,Ye.minY,Ye.maxY,xe),An=null),Ae>1&&console.timeEnd("clipping"),Pe.push(At||[],J+1,2*ne,2*se),Pe.push(Gt||[],J+1,2*ne,2*se+1),Pe.push(cn||[],J+1,2*ne+1,2*se),Pe.push(jn||[],J+1,2*ne+1,2*se+1)}}},dt.prototype.getTile=function(he,J,ne){var se=this.options,me=se.extent,ye=se.debug;if(he<0||he>24)return null;var De=1<<he,Pe=hn(he,J=(J%De+De)%De,ne);if(this.tiles[Pe])return ot(this.tiles[Pe],me);ye>1&&console.log("drilling down to z%d-%d-%d",he,J,ne);for(var xe,Ae=he,qe=J,We=ne;!xe&&Ae>0;)Ae--,qe=Math.floor(qe/2),We=Math.floor(We/2),xe=this.tiles[hn(Ae,qe,We)];return xe&&xe.source?(ye>1&&console.log("found parent tile z%d-%d-%d",Ae,qe,We),ye>1&&console.time("drilling down"),this.splitTile(xe.source,Ae,qe,We,he,J,ne),ye>1&&console.timeEnd("drilling down"),this.tiles[Pe]?ot(this.tiles[Pe],me):null):null};class fn extends P{constructor(J,ne,se,me){super(J,ne,se),this._dataUpdateable=new Map,this.loadGeoJSON=(ye,De)=>{const{promoteId:Pe}=ye;if(ye.request)return a.f(ye.request,(xe,Ae,qe,We)=>{this._dataUpdateable=Li(Ae,Pe)?ua(Ae,Pe):void 0,De(xe,Ae,qe,We)});if(typeof ye.data=="string")try{const xe=JSON.parse(ye.data);this._dataUpdateable=Li(xe,Pe)?ua(xe,Pe):void 0,De(null,xe)}catch{De(new Error(`Input data given to '${ye.source}' is not a valid GeoJSON object.`))}else ye.dataDiff?this._dataUpdateable?(function(xe,Ae,qe){var We,Ye,qt,Zt;if(Ae.removeAll&&xe.clear(),Ae.remove)for(const At of Ae.remove)xe.delete(At);if(Ae.add)for(const At of Ae.add){const Gt=dn(At,qe);Gt!=null&&xe.set(Gt,At)}if(Ae.update)for(const At of Ae.update){let Gt=xe.get(At.id);if(Gt==null)continue;const cn=!At.removeAllProperties&&(((We=At.removeProperties)===null||We===void 0?void 0:We.length)>0||((Ye=At.addOrUpdateProperties)===null||Ye===void 0?void 0:Ye.length)>0);if((At.newGeometry||At.removeAllProperties||cn)&&(Gt=Object.assign({},Gt),xe.set(At.id,Gt),cn&&(Gt.properties=Object.assign({},Gt.properties))),At.newGeometry&&(Gt.geometry=At.newGeometry),At.removeAllProperties)Gt.properties={};else if(((qt=At.removeProperties)===null||qt===void 0?void 0:qt.length)>0)for(const jn of At.removeProperties)Object.prototype.hasOwnProperty.call(Gt.properties,jn)&&delete Gt.properties[jn];if(((Zt=At.addOrUpdateProperties)===null||Zt===void 0?void 0:Zt.length)>0)for(const{key:jn,value:qn}of At.addOrUpdateProperties)Gt.properties[jn]=qn}}(this._dataUpdateable,ye.dataDiff,Pe),De(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):De(new Error(`Cannot update existing geojson data in ${ye.source}`)):De(new Error(`Input data given to '${ye.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,me&&(this.loadGeoJSON=me)}loadGeoJSONTile(J,ne){const se=J.tileID.canonical;if(!this._geoJSONIndex)return ne(null,null);const me=this._geoJSONIndex.getTile(se.z,se.x,se.y);if(!me)return ne(null,null);const ye=new class{constructor(Pe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.N,this.length=Pe.length,this._features=Pe}feature(Pe){return new class{constructor(xe){this._feature=xe,this.extent=a.N,this.type=xe.type,this.properties=xe.tags,"id"in xe&&!isNaN(xe.id)&&(this.id=parseInt(xe.id,10))}loadGeometry(){if(this._feature.type===1){const xe=[];for(const Ae of this._feature.geometry)xe.push([new a.P(Ae[0],Ae[1])]);return xe}{const xe=[];for(const Ae of this._feature.geometry){const qe=[];for(const We of Ae)qe.push(new a.P(We[0],We[1]));xe.push(qe)}return xe}}toGeoJSON(xe,Ae,qe){return M.call(this,xe,Ae,qe)}}(this._features[Pe])}}(me.features);let De=$e(ye);De.byteOffset===0&&De.byteLength===De.buffer.byteLength||(De=new Uint8Array(De)),ne(null,{vectorTile:ye,rawData:De.buffer})}loadData(J,ne){var se;(se=this._pendingRequest)===null||se===void 0||se.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const me=!!(J&&J.request&&J.request.collectResourceTiming)&&new a.bu(J.request);this._pendingCallback=ne,this._pendingRequest=this.loadGeoJSON(J,(ye,De)=>{if(delete this._pendingCallback,delete this._pendingRequest,ye||!De)return ne(ye);if(typeof De!="object")return ne(new Error(`Input data given to '${J.source}' is not a valid GeoJSON object.`));{A(De,!0);try{if(J.filter){const xe=a.bC(J.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(xe.result==="error")throw new Error(xe.value.map(qe=>`${qe.key}: ${qe.message}`).join(", "));De={type:"FeatureCollection",features:De.features.filter(qe=>xe.value.evaluate({zoom:0},qe))}}this._geoJSONIndex=J.cluster?new st(function({superclusterOptions:xe,clusterProperties:Ae}){if(!Ae||!xe)return xe;const qe={},We={},Ye={accumulated:null,zoom:0},qt={properties:null},Zt=Object.keys(Ae);for(const At of Zt){const[Gt,cn]=Ae[At],jn=a.bC(cn),qn=a.bC(typeof Gt=="string"?[Gt,["accumulated"],["get",At]]:Gt);qe[At]=jn.value,We[At]=qn.value}return xe.map=At=>{qt.properties=At;const Gt={};for(const cn of Zt)Gt[cn]=qe[cn].evaluate(Ye,qt);return Gt},xe.reduce=(At,Gt)=>{qt.properties=Gt;for(const cn of Zt)Ye.accumulated=At[cn],At[cn]=We[cn].evaluate(Ye,qt)},xe}(J)).load(De.features):function(xe,Ae){return new dt(xe,Ae)}(De,J.geojsonVtOptions)}catch(xe){return ne(xe)}this.loaded={};const Pe={};if(me){const xe=me.finish();xe&&(Pe.resourceTiming={},Pe.resourceTiming[J.source]=JSON.parse(JSON.stringify(xe)))}ne(null,Pe)}})}reloadTile(J,ne){const se=this.loaded;return se&&se[J.uid]?super.reloadTile(J,ne):this.loadTile(J,ne)}removeSource(J,ne){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ne()}getClusterExpansionZoom(J,ne){try{ne(null,this._geoJSONIndex.getClusterExpansionZoom(J.clusterId))}catch(se){ne(se)}}getClusterChildren(J,ne){try{ne(null,this._geoJSONIndex.getChildren(J.clusterId))}catch(se){ne(se)}}getClusterLeaves(J,ne){try{ne(null,this._geoJSONIndex.getLeaves(J.clusterId,J.limit,J.offset))}catch(se){ne(se)}}}class da{constructor(J){this.self=J,this.actor=new a.C(J,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:P,geojson:fn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(ne,se)=>{if(this.workerSourceTypes[ne])throw new Error(`Worker source with name "${ne}" already registered.`);this.workerSourceTypes[ne]=se},this.self.registerRTLTextPlugin=ne=>{if(a.bD.isParsed())throw new Error("RTL text plugin already registered.");a.bD.applyArabicShaping=ne.applyArabicShaping,a.bD.processBidirectionalText=ne.processBidirectionalText,a.bD.processStyledBidirectionalText=ne.processStyledBidirectionalText}}setReferrer(J,ne){this.referrer=ne}setImages(J,ne,se){this.availableImages[J]=ne;for(const me in this.workerSources[J]){const ye=this.workerSources[J][me];for(const De in ye)ye[De].availableImages=ne}se()}setLayers(J,ne,se){this.getLayerIndex(J).replace(ne),se()}updateLayers(J,ne,se){this.getLayerIndex(J).update(ne.layers,ne.removedIds),se()}loadTile(J,ne,se){this.getWorkerSource(J,ne.type,ne.source).loadTile(ne,se)}loadDEMTile(J,ne,se){this.getDEMWorkerSource(J,ne.source).loadTile(ne,se)}reloadTile(J,ne,se){this.getWorkerSource(J,ne.type,ne.source).reloadTile(ne,se)}abortTile(J,ne,se){this.getWorkerSource(J,ne.type,ne.source).abortTile(ne,se)}removeTile(J,ne,se){this.getWorkerSource(J,ne.type,ne.source).removeTile(ne,se)}removeDEMTile(J,ne){this.getDEMWorkerSource(J,ne.source).removeTile(ne)}removeSource(J,ne,se){if(!this.workerSources[J]||!this.workerSources[J][ne.type]||!this.workerSources[J][ne.type][ne.source])return;const me=this.workerSources[J][ne.type][ne.source];delete this.workerSources[J][ne.type][ne.source],me.removeSource!==void 0?me.removeSource(ne,se):se()}loadWorkerSource(J,ne,se){try{this.self.importScripts(ne.url),se()}catch(me){se(me.toString())}}syncRTLPluginState(J,ne,se){try{a.bD.setState(ne);const me=a.bD.getPluginURL();if(a.bD.isLoaded()&&!a.bD.isParsed()&&me!=null){this.self.importScripts(me);const ye=a.bD.isParsed();se(ye?void 0:new Error(`RTL Text Plugin failed to import scripts from ${me}`),ye)}}catch(me){se(me.toString())}}getAvailableImages(J){let ne=this.availableImages[J];return ne||(ne=[]),ne}getLayerIndex(J){let ne=this.layerIndexes[J];return ne||(ne=this.layerIndexes[J]=new f),ne}getWorkerSource(J,ne,se){return this.workerSources[J]||(this.workerSources[J]={}),this.workerSources[J][ne]||(this.workerSources[J][ne]={}),this.workerSources[J][ne][se]||(this.workerSources[J][ne][se]=new this.workerSourceTypes[ne]({send:(me,ye,De)=>{this.actor.send(me,ye,De,J)}},this.getLayerIndex(J),this.getAvailableImages(J))),this.workerSources[J][ne][se]}getDEMWorkerSource(J,ne){return this.demWorkerSources[J]||(this.demWorkerSources[J]={}),this.demWorkerSources[J][ne]||(this.demWorkerSources[J][ne]=new E),this.demWorkerSources[J][ne]}}return a.i()&&(self.worker=new da(self)),da}),o(["./shared"],function(a){var f="3.6.2";class h{static testProp(c){if(!h.docStyle)return c[0];for(let p=0;p<c.length;p++)if(c[p]in h.docStyle)return c[p];return c[0]}static create(c,p,v){const _=window.document.createElement(c);return p!==void 0&&(_.className=p),v&&v.appendChild(_),_}static createNS(c,p){return window.document.createElementNS(c,p)}static disableDrag(){h.docStyle&&h.selectProp&&(h.userSelect=h.docStyle[h.selectProp],h.docStyle[h.selectProp]="none")}static enableDrag(){h.docStyle&&h.selectProp&&(h.docStyle[h.selectProp]=h.userSelect)}static setTransform(c,p){c.style[h.transformProp]=p}static addEventListener(c,p,v,_={}){c.addEventListener(p,v,"passive"in _?_:_.capture)}static removeEventListener(c,p,v,_={}){c.removeEventListener(p,v,"passive"in _?_:_.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",h.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",h.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",h.suppressClickInternal,!0)},0)}static mousePos(c,p){const v=c.getBoundingClientRect();return new a.P(p.clientX-v.left-c.clientLeft,p.clientY-v.top-c.clientTop)}static touchPos(c,p){const v=c.getBoundingClientRect(),_=[];for(let C=0;C<p.length;C++)_.push(new a.P(p[C].clientX-v.left-c.clientLeft,p[C].clientY-v.top-c.clientTop));return _}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}}h.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,h.selectProp=h.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),h.transformProp=h.testProp(["transform","WebkitTransform"]);const g={supported:!1,testSupport:function(w){!P&&x&&(E?S(w):y=w)}};let y,x,P=!1,E=!1;function S(w){const c=w.createTexture();w.bindTexture(w.TEXTURE_2D,c);try{if(w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,x),w.isContextLost())return;g.supported=!0}catch{}w.deleteTexture(c),P=!0}var O,A;typeof document<"u"&&(x=document.createElement("img"),x.onload=function(){y&&S(y),y=null,E=!0},x.onerror=function(){P=!0,y=null},x.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(w){let c,p,v,_;w.resetRequestQueue=()=>{c=[],p=0,v=0,_={}},w.addThrottleControl=G=>{const Y=v++;return _[Y]=G,Y},w.removeThrottleControl=G=>{delete _[G],z()},w.getImage=(G,Y,K=!0)=>{g.supported&&(G.headers||(G.headers={}),G.headers.accept="image/webp,*/*");const re={requestParameters:G,supportImageRefresh:K,callback:Y,cancelled:!1,completed:!1,cancel:()=>{re.completed||re.cancelled||(re.cancelled=!0,re.innerRequest&&(re.innerRequest.cancel(),p--),z())}};return c.push(re),z(),re};const C=G=>{const{requestParameters:Y,supportImageRefresh:K,callback:re}=G;return a.e(Y,{type:"image"}),(K!==!1||a.i()||a.g(Y.url)||Y.headers&&!Object.keys(Y.headers).reduce((de,ue)=>de&&ue==="accept",!0)?a.m:U)(Y,(de,ue,pe,le)=>{j(G,re,de,ue,pe,le)})},j=(G,Y,K,re,de,ue)=>{K?Y(K):re instanceof HTMLImageElement||a.a(re)?Y(null,re):re&&((pe,le)=>{typeof createImageBitmap=="function"?a.b(pe,le):a.d(pe,le)})(re,(pe,le)=>{pe!=null?Y(pe):le!=null&&Y(null,le,{cacheControl:de,expires:ue})}),G.cancelled||(G.completed=!0,p--,z())},z=()=>{const G=(()=>{const Y=Object.keys(_);let K=!1;if(Y.length>0){for(const re of Y)if(K=_[re](),K)break}return K})()?a.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let Y=p;Y<G&&c.length>0;Y++){const K=c.shift();if(K.cancelled){Y--;continue}const re=C(K);p++,K.innerRequest=re}},U=(G,Y)=>{const K=new Image,re=G.url;let de=!1;const ue=G.credentials;return ue&&ue==="include"?K.crossOrigin="use-credentials":(ue&&ue==="same-origin"||!a.s(re))&&(K.crossOrigin="anonymous"),K.fetchPriority="high",K.onload=()=>{Y(null,K),K.onerror=K.onload=null},K.onerror=()=>{de||Y(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),K.onerror=K.onload=null},K.src=re,{cancel:()=>{de=!0,K.src=""}}}}(O||(O={})),O.resetRequestQueue(),function(w){w.Glyphs="Glyphs",w.Image="Image",w.Source="Source",w.SpriteImage="SpriteImage",w.SpriteJSON="SpriteJSON",w.Style="Style",w.Tile="Tile",w.Unknown="Unknown"}(A||(A={}));class M{constructor(c){this._transformRequestFn=c}transformRequest(c,p){return this._transformRequestFn&&this._transformRequestFn(c,p)||{url:c}}normalizeSpriteURL(c,p,v){const _=function(C){const j=C.match(I);if(!j)throw new Error(`Unable to parse URL "${C}"`);return{protocol:j[1],authority:j[2],path:j[3]||"/",params:j[4]?j[4].split("&"):[]}}(c);return _.path+=`${p}${v}`,function(C){const j=C.params.length?`?${C.params.join("&")}`:"";return`${C.protocol}://${C.authority}${C.path}${j}`}(_)}setTransformRequest(c){this._transformRequestFn=c}}const I=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function N(w){var c=new a.A(3);return c[0]=w[0],c[1]=w[1],c[2]=w[2],c}var $,R=function(w,c,p){return w[0]=c[0]-p[0],w[1]=c[1]-p[1],w[2]=c[2]-p[2],w};$=new a.A(3),a.A!=Float32Array&&($[0]=0,$[1]=0,$[2]=0);var F=function(w){var c=w[0],p=w[1];return c*c+p*p};function q(w){const c=[];if(typeof w=="string")c.push({id:"default",url:w});else if(w&&w.length>0){const p=[];for(const{id:v,url:_}of w){const C=`${v}${_}`;p.indexOf(C)===-1&&(p.push(C),c.push({id:v,url:_}))}}return c}function X(w,c,p,v,_){if(v)return void w(v);if(_!==Object.values(c).length||_!==Object.values(p).length)return;const C={};for(const j in c){C[j]={};const z=a.h.getImageCanvasContext(p[j]),U=c[j];for(const G in U){const{width:Y,height:K,x:re,y:de,sdf:ue,pixelRatio:pe,stretchX:le,stretchY:Me,content:je}=U[G];C[j][G]={data:null,pixelRatio:pe,sdf:ue,stretchX:le,stretchY:Me,content:je,spriteData:{width:Y,height:K,x:re,y:de,context:z}}}}w(null,C)}(function(){var w=new a.A(2);a.A!=Float32Array&&(w[0]=0,w[1]=0)})();class Q{constructor(c,p,v,_){this.context=c,this.format=v,this.texture=c.gl.createTexture(),this.update(p,_)}update(c,p,v){const{width:_,height:C}=c,j=!(this.size&&this.size[0]===_&&this.size[1]===C||v),{context:z}=this,{gl:U}=z;if(this.useMipmap=!!(p&&p.useMipmap),U.bindTexture(U.TEXTURE_2D,this.texture),z.pixelStoreUnpackFlipY.set(!1),z.pixelStoreUnpack.set(1),z.pixelStoreUnpackPremultiplyAlpha.set(this.format===U.RGBA&&(!p||p.premultiply!==!1)),j)this.size=[_,C],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.a(c)?U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,U.UNSIGNED_BYTE,c):U.texImage2D(U.TEXTURE_2D,0,this.format,_,C,0,this.format,U.UNSIGNED_BYTE,c.data);else{const{x:G,y:Y}=v||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.a(c)?U.texSubImage2D(U.TEXTURE_2D,0,G,Y,U.RGBA,U.UNSIGNED_BYTE,c):U.texSubImage2D(U.TEXTURE_2D,0,G,Y,_,C,U.RGBA,U.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&U.generateMipmap(U.TEXTURE_2D)}bind(c,p,v){const{context:_}=this,{gl:C}=_;C.bindTexture(C.TEXTURE_2D,this.texture),v!==C.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=C.LINEAR),c!==this.filter&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,c),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,v||c),this.filter=c),p!==this.wrap&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,p),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function ae(w){const{userImage:c}=w;return!!(c&&c.render&&c.render())&&(w.data.replace(new Uint8Array(c.data.buffer)),!0)}class fe extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:v}of this.requestors)this._notify(p,v);this.requestors=[]}}getImage(c){const p=this.images[c];if(p&&!p.data&&p.spriteData){const v=p.spriteData;p.data=new a.R({width:v.width,height:v.height},v.context.getImageData(v.x,v.y,v.width,v.height).data),p.spriteData=null}return p}addImage(c,p){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let v=!0;const _=p.data||p.spriteData;return this._validateStretch(p.stretchX,_&&_.width)||(this.fire(new a.j(new Error(`Image "${c}" has invalid "stretchX" value`))),v=!1),this._validateStretch(p.stretchY,_&&_.height)||(this.fire(new a.j(new Error(`Image "${c}" has invalid "stretchY" value`))),v=!1),this._validateContent(p.content,p)||(this.fire(new a.j(new Error(`Image "${c}" has invalid "content" value`))),v=!1),v}_validateStretch(c,p){if(!c)return!0;let v=0;for(const _ of c){if(_[0]<v||_[1]<_[0]||p<_[1])return!1;v=_[1]}return!0}_validateContent(c,p){if(!c)return!0;if(c.length!==4)return!1;const v=p.spriteData,_=v&&v.width||p.data.width,C=v&&v.height||p.data.height;return!(c[0]<0||_<c[0]||c[1]<0||C<c[1]||c[2]<0||_<c[2]||c[3]<0||C<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,p,v=!0){const _=this.getImage(c);if(v&&(_.data.width!==p.data.width||_.data.height!==p.data.height))throw new Error(`size mismatch between old image (${_.data.width}x${_.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=_.version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let v=!0;if(!this.isLoaded())for(const _ of c)this.images[_]||(v=!1);this.isLoaded()||v?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const v={};for(const _ of c){let C=this.getImage(_);C||(this.fire(new a.k("styleimagemissing",{id:_})),C=this.getImage(_)),C?v[_]={data:C.data.clone(),pixelRatio:C.pixelRatio,sdf:C.sdf,version:C.version,stretchX:C.stretchX,stretchY:C.stretchY,content:C.content,hasRenderCallback:!!(C.userImage&&C.userImage.render)}:a.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,v)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],v=this.getImage(c);if(!v)return null;if(p&&p.position.version===v.version)return p.position;if(p)p.position.version=v.version;else{const _={w:v.data.width+2,h:v.data.height+2,x:0,y:0},C=new a.I(_,v);this.patterns[c]={bin:_,position:C}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Q(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const C in this.patterns)c.push(this.patterns[C].bin);const{w:p,h:v}=a.p(c),_=this.atlasImage;_.resize({width:p||1,height:v||1});for(const C in this.patterns){const{bin:j}=this.patterns[C],z=j.x+1,U=j.y+1,G=this.getImage(C).data,Y=G.width,K=G.height;a.R.copy(G,_,{x:0,y:0},{x:z,y:U},{width:Y,height:K}),a.R.copy(G,_,{x:0,y:K-1},{x:z,y:U-1},{width:Y,height:1}),a.R.copy(G,_,{x:0,y:0},{x:z,y:U+K},{width:Y,height:1}),a.R.copy(G,_,{x:Y-1,y:0},{x:z-1,y:U},{width:1,height:K}),a.R.copy(G,_,{x:0,y:0},{x:z+Y,y:U},{width:1,height:K})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const v=this.getImage(p);v||a.w(`Image with ID: "${p}" was not found`),ae(v)&&this.updateImage(p,v)}}}const Se=1e20;function ke(w,c,p,v,_,C,j,z,U){for(let G=c;G<c+v;G++)we(w,p*C+G,C,_,j,z,U);for(let G=p;G<p+_;G++)we(w,G*C+c,1,v,j,z,U)}function we(w,c,p,v,_,C,j){C[0]=0,j[0]=-Se,j[1]=Se,_[0]=w[c];for(let z=1,U=0,G=0;z<v;z++){_[z]=w[c+z*p];const Y=z*z;do{const K=C[U];G=(_[z]-_[K]+Y-K*K)/(z-K)/2}while(G<=j[U]&&--U>-1);U++,C[U]=z,j[U]=G,j[U+1]=Se}for(let z=0,U=0;z<v;z++){for(;j[U+1]<z;)U++;const G=C[U],Y=z-G;w[c+z*p]=_[G]+Y*Y}}class Oe{constructor(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}}setURL(c){this.url=c}getGlyphs(c,p){const v=[];for(const _ in c)for(const C of c[_])v.push({stack:_,id:C});a.o(v,({stack:_,id:C},j)=>{let z=this.entries[_];z||(z=this.entries[_]={glyphs:{},requests:{},ranges:{}});let U=z.glyphs[C];if(U!==void 0)return void j(null,{stack:_,id:C,glyph:U});if(U=this._tinySDF(z,_,C),U)return z.glyphs[C]=U,void j(null,{stack:_,id:C,glyph:U});const G=Math.floor(C/256);if(256*G>65535)return void j(new Error("glyphs > 65535 not supported"));if(z.ranges[G])return void j(null,{stack:_,id:C,glyph:U});if(!this.url)return void j(new Error("glyphsUrl is not set"));let Y=z.requests[G];Y||(Y=z.requests[G]=[],Oe.loadGlyphRange(_,G,this.url,this.requestManager,(K,re)=>{if(re){for(const de in re)this._doesCharSupportLocalGlyph(+de)||(z.glyphs[+de]=re[+de]);z.ranges[G]=!0}for(const de of Y)de(K,re);delete z.requests[G]})),Y.push((K,re)=>{K?j(K):re&&j(null,{stack:_,id:C,glyph:re[C]||null})})},(_,C)=>{if(_)p(_);else if(C){const j={};for(const{stack:z,id:U,glyph:G}of C)(j[z]||(j[z]={}))[U]=G&&{id:G.id,bitmap:G.bitmap.clone(),metrics:G.metrics};p(null,j)}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(a.u["CJK Unified Ideographs"](c)||a.u["Hangul Syllables"](c)||a.u.Hiragana(c)||a.u.Katakana(c))}_tinySDF(c,p,v){const _=this.localIdeographFontFamily;if(!_||!this._doesCharSupportLocalGlyph(v))return;let C=c.tinySDF;if(!C){let z="400";/bold/i.test(p)?z="900":/medium/i.test(p)?z="500":/light/i.test(p)&&(z="200"),C=c.tinySDF=new Oe.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:_,fontWeight:z})}const j=C.draw(String.fromCharCode(v));return{id:v,bitmap:new a.q({width:j.width||60,height:j.height||60},j.data),metrics:{width:j.glyphWidth/2||24,height:j.glyphHeight/2||24,left:j.glyphLeft/2+.5||0,top:j.glyphTop/2-27.5||-8,advance:j.glyphAdvance/2||24,isDoubleResolution:!0}}}}Oe.loadGlyphRange=function(w,c,p,v,_){const C=256*c,j=C+255,z=v.transformRequest(p.replace("{fontstack}",w).replace("{range}",`${C}-${j}`),A.Glyphs);a.l(z,(U,G)=>{if(U)_(U);else if(G){const Y={};for(const K of a.n(G))Y[K.id]=K;_(null,Y)}})},Oe.TinySDF=class{constructor({fontSize:w=24,buffer:c=3,radius:p=8,cutoff:v=.25,fontFamily:_="sans-serif",fontWeight:C="normal",fontStyle:j="normal"}={}){this.buffer=c,this.cutoff=v,this.radius=p;const z=this.size=w+4*c,U=this._createCanvas(z),G=this.ctx=U.getContext("2d",{willReadFrequently:!0});G.font=`${j} ${C} ${w}px ${_}`,G.textBaseline="alphabetic",G.textAlign="left",G.fillStyle="black",this.gridOuter=new Float64Array(z*z),this.gridInner=new Float64Array(z*z),this.f=new Float64Array(z),this.z=new Float64Array(z+1),this.v=new Uint16Array(z)}_createCanvas(w){const c=document.createElement("canvas");return c.width=c.height=w,c}draw(w){const{width:c,actualBoundingBoxAscent:p,actualBoundingBoxDescent:v,actualBoundingBoxLeft:_,actualBoundingBoxRight:C}=this.ctx.measureText(w),j=Math.ceil(p),z=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(C-_))),U=Math.min(this.size-this.buffer,j+Math.ceil(v)),G=z+2*this.buffer,Y=U+2*this.buffer,K=Math.max(G*Y,0),re=new Uint8ClampedArray(K),de={data:re,width:G,height:Y,glyphWidth:z,glyphHeight:U,glyphTop:j,glyphLeft:0,glyphAdvance:c};if(z===0||U===0)return de;const{ctx:ue,buffer:pe,gridInner:le,gridOuter:Me}=this;ue.clearRect(pe,pe,z,U),ue.fillText(w,pe,pe+j);const je=ue.getImageData(pe,pe,z,U);Me.fill(Se,0,K),le.fill(0,0,K);for(let ve=0;ve<U;ve++)for(let Ie=0;Ie<z;Ie++){const Be=je.data[4*(ve*z+Ie)+3]/255;if(Be===0)continue;const Fe=(ve+pe)*G+Ie+pe;if(Be===1)Me[Fe]=0,le[Fe]=Se;else{const Ke=.5-Be;Me[Fe]=Ke>0?Ke*Ke:0,le[Fe]=Ke<0?Ke*Ke:0}}ke(Me,0,0,G,Y,G,this.f,this.v,this.z),ke(le,pe,pe,z,U,G,this.f,this.v,this.z);for(let ve=0;ve<K;ve++){const Ie=Math.sqrt(Me[ve])-Math.sqrt(le[ve]);re[ve]=Math.round(255-255*(Ie/this.radius+this.cutoff))}return de}};class Ce{constructor(){this.specification=a.v.light.position}possiblyEvaluate(c,p){return a.z(c.expression.evaluate(p))}interpolate(c,p,v){return{x:a.B.number(c.x,p.x,v),y:a.B.number(c.y,p.y,v),z:a.B.number(c.z,p.z,v)}}}let be;class $e extends a.E{constructor(c){super(),be=be||new a.r({anchor:new a.D(a.v.light.anchor),position:new Ce,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.T(be),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(a.t,c,p))for(const v in c){const _=c[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),_):this._transitionable.setValue(v,_)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,v){return(!v||v.validate!==!1)&&a.x(this,c.call(a.y,a.e({value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}}class Ue{constructor(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,p){const v=c.join(",")+String(p);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(c,p)),this.dashEntry[v]}getDashRanges(c,p,v){const _=[];let C=c.length%2==1?-c[c.length-1]*v:0,j=c[0]*v,z=!0;_.push({left:C,right:j,isDash:z,zeroLength:c[0]===0});let U=c[0];for(let G=1;G<c.length;G++){z=!z;const Y=c[G];C=U*v,U+=Y,j=U*v,_.push({left:C,right:j,isDash:z,zeroLength:Y===0})}return _}addRoundDash(c,p,v){const _=p/2;for(let C=-v;C<=v;C++){const j=this.width*(this.nextRow+v+C);let z=0,U=c[z];for(let G=0;G<this.width;G++){G/U.right>1&&(U=c[++z]);const Y=Math.abs(G-U.left),K=Math.abs(G-U.right),re=Math.min(Y,K);let de;const ue=C/v*(_+1);if(U.isDash){const pe=_-Math.abs(ue);de=Math.sqrt(re*re+pe*pe)}else de=_-Math.sqrt(re*re+ue*ue);this.data[j+G]=Math.max(0,Math.min(255,de+128))}}}addRegularDash(c){for(let z=c.length-1;z>=0;--z){const U=c[z],G=c[z+1];U.zeroLength?c.splice(z,1):G&&G.isDash===U.isDash&&(G.left=U.left,c.splice(z,1))}const p=c[0],v=c[c.length-1];p.isDash===v.isDash&&(p.left=v.left-this.width,v.right=p.right+this.width);const _=this.width*this.nextRow;let C=0,j=c[C];for(let z=0;z<this.width;z++){z/j.right>1&&(j=c[++C]);const U=Math.abs(z-j.left),G=Math.abs(z-j.right),Y=Math.min(U,G);this.data[_+z]=Math.max(0,Math.min(255,(j.isDash?Y:-Y)+128))}}addDash(c,p){const v=p?7:0,_=2*v+1;if(this.nextRow+_>this.height)return a.w("LineAtlas out of space"),null;let C=0;for(let z=0;z<c.length;z++)C+=c[z];if(C!==0){const z=this.width/C,U=this.getDashRanges(c,this.width,z);p?this.addRoundDash(U,z,v):this.addRegularDash(U)}const j={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:C};return this.nextRow+=_,this.dirty=!0,j}bind(c){const p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}class ft{constructor(c,p,v){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=v;const _=this.workerPool.acquire(v);for(let C=0;C<_.length;C++){const j=new a.C(_[C],p,v);j.name=`Worker ${C}`,this.actors.push(j)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,p,v){a.o(this.actors,(_,C)=>{_.send(c,p,C)},v=v||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],c&&this.workerPool.release(this.id)}}function Xe(w,c,p){const v=function(_,C){if(_)return p(_);if(C){const j=a.F(a.e(C,w),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);C.vector_layers&&(j.vectorLayers=C.vector_layers,j.vectorLayerIds=j.vectorLayers.map(z=>z.id)),p(null,j)}};return w.url?a.f(c.transformRequest(w.url,A.Source),v):a.h.frame(()=>v(null,w))}class tt{constructor(c,p){c&&(p?this.setSouthWest(c).setNorthEast(p):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof a.L?new a.L(c.lng,c.lat):a.L.convert(c),this}setSouthWest(c){return this._sw=c instanceof a.L?new a.L(c.lng,c.lat):a.L.convert(c),this}extend(c){const p=this._sw,v=this._ne;let _,C;if(c instanceof a.L)_=c,C=c;else{if(!(c instanceof tt))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(tt.convert(c)):this.extend(a.L.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(a.L.convert(c)):this;if(_=c._sw,C=c._ne,!_||!C)return this}return p||v?(p.lng=Math.min(_.lng,p.lng),p.lat=Math.min(_.lat,p.lat),v.lng=Math.max(C.lng,v.lng),v.lat=Math.max(C.lat,v.lat)):(this._sw=new a.L(_.lng,_.lat),this._ne=new a.L(C.lng,C.lat)),this}getCenter(){return new a.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.L(this.getWest(),this.getNorth())}getSouthEast(){return new a.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:p,lat:v}=a.L.convert(c);let _=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(_=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=v&&v<=this._ne.lat&&_}static convert(c){return c instanceof tt?c:c&&new tt(c)}static fromLngLat(c,p=0){const v=360*p/40075017,_=v/Math.cos(Math.PI/180*c.lat);return new tt(new a.L(c.lng-_,c.lat-v),new a.L(c.lng+_,c.lat+v))}}class lt{constructor(c,p,v){this.bounds=tt.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=v||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),v=Math.floor(a.G(this.bounds.getWest())*p),_=Math.floor(a.H(this.bounds.getNorth())*p),C=Math.ceil(a.G(this.bounds.getEast())*p),j=Math.ceil(a.H(this.bounds.getSouth())*p);return c.x>=v&&c.x<C&&c.y>=_&&c.y<j}}class Ct extends a.E{constructor(c,p,v,_){if(super(),this.load=()=>{this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=Xe(this._options,this.map._requestManager,(C,j)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),C?this.fire(new a.j(C)):j&&(a.e(this,j),j.bounds&&(this.tileBounds=new lt(j.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>a.e({},this._options),this.id=c,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.F(p,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_)}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(v,A.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function C(j,z){return delete c.request,c.aborted?p(null):j&&j.status!==404?p(j):(z&&z.resourceTiming&&(c.resourceTiming=z.resourceTiming),this.map._refreshExpiredTiles&&z&&c.setExpiryData(z),c.loadVectorData(z,this.map.painter),p(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}_.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=p:c.request=c.actor.send("reloadTile",_,C.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",_,C.bind(this)))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class st extends a.E{constructor(c,p,v,_){super(),this.id=c,this.dispatcher=v,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},p),a.e(this,a.F(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=Xe(this._options,this.map._requestManager,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new a.j(c)):p&&(a.e(this,p),p.bounds&&(this.tileBounds=new lt(p.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}serialize(){return a.e({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.request=O.getImage(this.map._requestManager.transformRequest(v,A.Tile),(_,C,j)=>{if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(_)c.state="errored",p(_);else if(C){this.map._refreshExpiredTiles&&j&&c.setExpiryData(j);const z=this.map.painter.context,U=z.gl;c.texture=this.map.painter.getTileTexture(C.width),c.texture?c.texture.update(C,{useMipmap:!0}):(c.texture=new Q(z,C,U.RGBA,{useMipmap:!0}),c.texture.bind(U.LINEAR,U.CLAMP_TO_EDGE,U.LINEAR_MIPMAP_NEAREST),z.extTextureFilterAnisotropic&&U.texParameterf(U.TEXTURE_2D,z.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,z.extTextureFilterAnisotropicMax)),c.state="loaded",p(null)}},this.map._refreshExpiredTiles)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}class Ht extends st{constructor(c,p,v,_){super(c,p,v,_),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(v,A.Tile);function C(j,z){j&&(c.state="errored",p(j)),z&&(c.dem=z,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded",p(null))}c.neighboringTiles=this._getNeighboringTiles(c.tileID),c.request=O.getImage(_,(j,z,U)=>a._(this,void 0,void 0,function*(){if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(j)c.state="errored",p(j);else if(z){this.map._refreshExpiredTiles&&c.setExpiryData(U);const G=a.a(z)&&a.J()?z:yield function(K){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.K()){const re=K.width+2,de=K.height+2;try{return new a.R({width:re,height:de},yield a.M(K,-1,-1,re,de))}catch{}}return a.h.getImageData(K,1)})}(z),Y={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:G,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",Y,C))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(c){const p=c.canonical,v=Math.pow(2,p.z),_=(p.x-1+v)%v,C=p.x===0?c.wrap-1:c.wrap,j=(p.x+1+v)%v,z=p.x+1===v?c.wrap+1:c.wrap,U={};return U[new a.O(c.overscaledZ,C,p.z,_,p.y).key]={backfilled:!1},U[new a.O(c.overscaledZ,z,p.z,j,p.y).key]={backfilled:!1},p.y>0&&(U[new a.O(c.overscaledZ,C,p.z,_,p.y-1).key]={backfilled:!1},U[new a.O(c.overscaledZ,c.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},U[new a.O(c.overscaledZ,z,p.z,j,p.y-1).key]={backfilled:!1}),p.y+1<v&&(U[new a.O(c.overscaledZ,C,p.z,_,p.y+1).key]={backfilled:!1},U[new a.O(c.overscaledZ,c.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},U[new a.O(c.overscaledZ,z,p.z,j,p.y+1).key]={backfilled:!1}),U}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})}}class Lt extends a.E{constructor(c,p,v,_){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>a.e({},this._options,{type:this.type,data:this._data}),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=v.getActor(),this.setEventedParent(_),this._data=p.data,this._options=a.e({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const C=a.N/this.tileSize;this.workerOptions=a.e({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*C,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*C,extent:a.N,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.N,radius:(p.clusterRadius||50)*C,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData(),this}updateData(c){return this._updateWorkerData(c),this}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c&&(c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=c.clusterRadius),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=c.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(c,p){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},p),this}getClusterChildren(c,p){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},p),this}getClusterLeaves(c,p,v,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:p,offset:v},_),this}_updateWorkerData(c){const p=a.e({},this.workerOptions);c?p.dataDiff=c:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(a.h.resolveURL(this._data),A.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,p,(v,_)=>{if(this._pendingLoads--,this._removed||_&&_.abandoned)return void this.fire(new a.k("dataabort",{dataType:"source"}));let C=null;if(_&&_.resourceTiming&&_.resourceTiming[this.id]&&(C=_.resourceTiming[this.id].slice(0)),v)return void this.fire(new a.j(v));const j={dataType:"source"};this._collectResourceTiming&&C&&C.length>0&&a.e(j,{resourceTiming:C}),this.fire(new a.k("data",Object.assign(Object.assign({},j),{sourceDataType:"metadata"}))),this.fire(new a.k("data",Object.assign(Object.assign({},j),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(c,p){const v=c.actor?"reloadTile":"loadTile";c.actor=this.actor;const _={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};c.request=this.actor.send(v,_,(C,j)=>(delete c.request,c.unloadVectorData(),c.aborted?p(null):C?p(C):(c.loadVectorData(j,this.map.painter,v==="reloadTile"),p(null))))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var He=a.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class _t extends a.E{constructor(c,p,v,_){super(),this.load=(C,j)=>{this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=O.getImage(this.map._requestManager.transformRequest(this.url,A.Image),(z,U)=>{this._request=null,this._loaded=!0,z?this.fire(new a.j(z)):U&&(this.image=U,C&&(this.coordinates=C),j&&j(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const C=this.map.painter.context,j=C.gl;this.boundsBuffer||(this.boundsBuffer=C.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Q(C,this.image,j.RGBA),this.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE));let z=!1;for(const U in this.tiles){const G=this.tiles[U];G.state!=="loaded"&&(G.state="loaded",G.texture=this.texture,z=!0)}z&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=c,this.dispatcher=v,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_),this.options=p}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=c.url,this.load(c.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(c){this.coordinates=c;const p=c.map(a.U.fromLngLat);this.tileID=function(_){let C=1/0,j=1/0,z=-1/0,U=-1/0;for(const re of _)C=Math.min(C,re.x),j=Math.min(j,re.y),z=Math.max(z,re.x),U=Math.max(U,re.y);const G=Math.max(z-C,U-j),Y=Math.max(0,Math.floor(-Math.log(G)/Math.LN2)),K=Math.pow(2,Y);return new a.W(Y,Math.floor((C+z)/2*K),Math.floor((j+U)/2*K))}(p),this.minzoom=this.maxzoom=this.tileID.z;const v=p.map(_=>this.tileID.getTilePoint(_)._round());return this._boundsArray=new a.V,this._boundsArray.emplaceBack(v[0].x,v[0].y,0,0),this._boundsArray.emplaceBack(v[1].x,v[1].y,a.N,0),this._boundsArray.emplaceBack(v[3].x,v[3].y,0,a.N),this._boundsArray.emplaceBack(v[2].x,v[2].y,a.N,a.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}hasTransition(){return!1}}class pt extends _t{constructor(c,p,v,_){super(c,p,v,_),this.load=()=>{this._loaded=!1;const C=this.options;this.urls=[];for(const j of C.urls)this.urls.push(this.map._requestManager.transformRequest(j,A.Source).url);a.X(this.urls,(j,z)=>{this._loaded=!0,j?this.fire(new a.j(j)):z&&(this.video=z,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const C=this.map.painter.context,j=C.gl;this.boundsBuffer||(this.boundsBuffer=C.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE),j.texSubImage2D(j.TEXTURE_2D,0,0,0,j.RGBA,j.UNSIGNED_BYTE,this.video)):(this.texture=new Q(C,this.video,j.RGBA),this.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE));let z=!1;for(const U in this.tiles){const G=this.tiles[U];G.state!=="loaded"&&(G.state="loaded",G.texture=this.texture,z=!0)}z&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=p}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const p=this.video.seekable;c<p.start(0)||c>p.end(0)?this.fire(new a.j(new a.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Ve extends _t{constructor(c,p,v,_){super(c,p,v,_),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let C=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,C=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,C=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const j=this.map.painter.context,z=j.gl;this.boundsBuffer||(this.boundsBuffer=j.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture?(C||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Q(j,this.canvas,z.RGBA,{premultiply:!0});let U=!1;for(const G in this.tiles){const Y=this.tiles[G];Y.state!=="loaded"&&(Y.state="loaded",Y.texture=this.texture,U=!0)}U&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(C=>!Array.isArray(C)||C.length!==2||C.some(j=>typeof j!="number"))||this.fire(new a.j(new a.Y(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.j(new a.Y(`sources.${c}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.j(new a.Y(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.j(new a.Y(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.j(new a.Y(`sources.${c}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const Pt={},Tt=w=>{switch(w){case"geojson":return Lt;case"image":return _t;case"raster":return st;case"raster-dem":return Ht;case"vector":return Ct;case"video":return pt;case"canvas":return Ve}return Pt[w]};function Ut(w,c){const p=a.Z();return a.$(p,p,[1,1,0]),a.a0(p,p,[.5*w.width,.5*w.height,1]),a.a1(p,p,w.calculatePosMatrix(c.toUnwrapped()))}function gn(w,c,p,v,_,C){const j=function(K,re,de){if(K)for(const ue of K){const pe=re[ue];if(pe&&pe.source===de&&pe.type==="fill-extrusion")return!0}else for(const ue in re){const pe=re[ue];if(pe.source===de&&pe.type==="fill-extrusion")return!0}return!1}(_&&_.layers,c,w.id),z=C.maxPitchScaleFactor(),U=w.tilesIn(v,z,j);U.sort(bn);const G=[];for(const K of U)G.push({wrappedTileID:K.tileID.wrapped().key,queryResults:K.tile.queryRenderedFeatures(c,p,w._state,K.queryGeometry,K.cameraQueryGeometry,K.scale,_,C,z,Ut(w.transform,K.tileID))});const Y=function(K){const re={},de={};for(const ue of K){const pe=ue.queryResults,le=ue.wrappedTileID,Me=de[le]=de[le]||{};for(const je in pe){const ve=pe[je],Ie=Me[je]=Me[je]||{},Be=re[je]=re[je]||[];for(const Fe of ve)Ie[Fe.featureIndex]||(Ie[Fe.featureIndex]=!0,Be.push(Fe))}}return re}(G);for(const K in Y)Y[K].forEach(re=>{const de=re.feature,ue=w.getFeatureState(de.layer["source-layer"],de.id);de.source=de.layer.source,de.layer["source-layer"]&&(de.sourceLayer=de.layer["source-layer"]),de.state=ue});return Y}function bn(w,c){const p=w.tileID,v=c.tileID;return p.overscaledZ-v.overscaledZ||p.canonical.y-v.canonical.y||p.wrap-v.wrap||p.canonical.x-v.canonical.x}class xn{constructor(c,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=c,this.uid=a.a2(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const p=c+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,p,v){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(_,C){const j={};if(!C)return j;for(const z of _){const U=z.layerIds.map(G=>C.getLayer(G)).filter(Boolean);if(U.length!==0){z.layers=U,z.stateDependentLayerIds&&(z.stateDependentLayers=z.stateDependentLayerIds.map(G=>U.filter(Y=>Y.id===G)[0]));for(const G of U)j[G.id]=z}}return j}(c.buckets,p.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const C=this.buckets[_];if(C instanceof a.a4){if(this.hasSymbolBuckets=!0,!v)break;C.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const C=this.buckets[_];if(C instanceof a.a4&&C.hasRTLText){this.hasRTLText=!0,a.a5();break}}this.queryPadding=0;for(const _ in this.buckets){const C=this.buckets[_];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(_).queryRadius(C))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new a.a3}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const v in this.buckets){const _=this.buckets[v];_.uploadPending()&&_.upload(c)}const p=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Q(c,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Q(c,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,p,v,_,C,j,z,U,G,Y){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:_,cameraQueryGeometry:C,scale:j,tileSize:this.tileSize,pixelPosMatrix:Y,transform:U,params:z,queryPadding:this.queryPadding*G},c,p,v):{}}querySourceFeatures(c,p){const v=this.latestFeatureIndex;if(!v||!v.rawTileData)return;const _=v.loadVTLayers(),C=p&&p.sourceLayer?p.sourceLayer:"",j=_._geojsonTileLayer||_[C];if(!j)return;const z=a.a6(p&&p.filter),{z:U,x:G,y:Y}=this.tileID.canonical,K={z:U,x:G,y:Y};for(let re=0;re<j.length;re++){const de=j.feature(re);if(z.needGeometry){const le=a.a7(de,!0);if(!z.filter(new a.a8(this.tileID.overscaledZ),le,this.tileID.canonical))continue}else if(!z.filter(new a.a8(this.tileID.overscaledZ),de))continue;const ue=v.getId(de,C),pe=new a.a9(de,U,G,Y,ue);pe.tile=K,c.push(pe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const p=this.expirationTime;if(c.cacheControl){const v=a.aa(c.cacheControl);v["max-age"]&&(this.expirationTime=Date.now()+1e3*v["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const v=Date.now();let _=!1;if(this.expirationTime>v)_=!1;else if(p)if(this.expirationTime<p)_=!0;else{const C=this.expirationTime-p;C?this.expirationTime=v+Math.max(C,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const v=this.latestFeatureIndex.loadVTLayers();for(const _ in this.buckets){if(!p.style.hasLayer(_))continue;const C=this.buckets[_],j=C.layers[0].sourceLayer||"_geojsonTileLayer",z=v[j],U=c[j];if(!z||!U||Object.keys(U).length===0)continue;C.update(U,z,this.imageAtlas&&this.imageAtlas.patternPositions||{});const G=p&&p.style&&p.style.getLayer(_);G&&(this.queryPadding=Math.max(this.queryPadding,G.queryRadius(C)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=a.h.now()+c}setDependencies(c,p){const v={};for(const _ of p)v[_]=!0;this.dependencies[c]=v}hasDependency(c,p){for(const v of c){const _=this.dependencies[v];if(_){for(const C of p)if(_[C])return!0}}return!1}}class rr{constructor(c,p){this.max=c,this.onRemove=p,this.reset()}reset(){for(const c in this.data)for(const p of this.data[c])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(c,p,v){const _=c.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const C={value:p,timeout:void 0};if(v!==void 0&&(C.timeout=setTimeout(()=>{this.remove(c,C)},v)),this.data[_].push(C),this.order.push(_),this.order.length>this.max){const j=this._getAndRemoveByKey(this.order[0]);j&&this.onRemove(j)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value}getByKey(c){const p=this.data[c];return p?p[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,p){if(!this.has(c))return this;const v=c.wrapped().key,_=p===void 0?0:this.data[v].indexOf(p),C=this.data[v][_];return this.data[v].splice(_,1),C.timeout&&clearTimeout(C.timeout),this.data[v].length===0&&delete this.data[v],this.onRemove(C.value),this.order.splice(this.order.indexOf(v),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(c){const p=[];for(const v in this.data)for(const _ of this.data[v])c(_.value)||p.push(_);for(const v of p)this.remove(v.value.tileID,v)}}class Ne{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,p,v){const _=String(p);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][_]=this.stateChanges[c][_]||{},a.e(this.stateChanges[c][_],v),this.deletedStates[c]===null){this.deletedStates[c]={};for(const C in this.state[c])C!==_&&(this.deletedStates[c][C]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][_]===null){this.deletedStates[c][_]={};for(const C in this.state[c][_])v[C]||(this.deletedStates[c][_][C]=null)}else for(const C in v)this.deletedStates[c]&&this.deletedStates[c][_]&&this.deletedStates[c][_][C]===null&&delete this.deletedStates[c][_][C]}removeFeatureState(c,p,v){if(this.deletedStates[c]===null)return;const _=String(p);if(this.deletedStates[c]=this.deletedStates[c]||{},v&&p!==void 0)this.deletedStates[c][_]!==null&&(this.deletedStates[c][_]=this.deletedStates[c][_]||{},this.deletedStates[c][_][v]=null);else if(p!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][_])for(v in this.deletedStates[c][_]={},this.stateChanges[c][_])this.deletedStates[c][_][v]=null;else this.deletedStates[c][_]=null;else this.deletedStates[c]=null}getState(c,p){const v=String(p),_=a.e({},(this.state[c]||{})[v],(this.stateChanges[c]||{})[v]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const C=this.deletedStates[c][p];if(C===null)return{};for(const j in C)delete _[j]}return _}initializeTileState(c,p){c.setFeatureState(this.state,p)}coalesceChanges(c,p){const v={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const C={};for(const j in this.stateChanges[_])this.state[_][j]||(this.state[_][j]={}),a.e(this.state[_][j],this.stateChanges[_][j]),C[j]=this.state[_][j];v[_]=C}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const C={};if(this.deletedStates[_]===null)for(const j in this.state[_])C[j]={},this.state[_][j]={};else for(const j in this.deletedStates[_]){if(this.deletedStates[_][j]===null)this.state[_][j]={};else for(const z of Object.keys(this.deletedStates[_][j]))delete this.state[_][j][z];C[j]=this.state[_][j]}v[_]=v[_]||{},a.e(v[_],C)}if(this.stateChanges={},this.deletedStates={},Object.keys(v).length!==0)for(const _ in c)c[_].setFeatureState(v,p)}}class an extends a.E{constructor(c,p,v){super(),this.id=c,this.dispatcher=v,this.on("data",_=>{_.dataType==="source"&&_.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&_.dataType==="source"&&_.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((_,C,j,z)=>{const U=new(Tt(C.type))(_,C,j,z);if(U.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${U.id}`);return U})(c,p,v,this),this._tiles={},this._cache=new rr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ne,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c in this._tiles){const p=this._tiles[c];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,p){return this._source.loadTile(c,p)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){this._source.abortTile&&this._source.abortTile(c,()=>{}),this._source.fire(new a.k("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const v=this._tiles[p];v.upload(c),v.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort(Mn).map(c=>c.key)}getRenderableIds(c){const p=[];for(const v in this._tiles)this._isIdRenderable(v,c)&&p.push(this._tiles[v]);return c?p.sort((v,_)=>{const C=v.tileID,j=_.tileID,z=new a.P(C.canonical.x,C.canonical.y)._rotate(this.transform.angle),U=new a.P(j.canonical.x,j.canonical.y)._rotate(this.transform.angle);return C.overscaledZ-j.overscaledZ||U.y-z.y||U.x-z.x}).map(v=>v.tileID.key):p.map(v=>v.tileID).sort(Mn).map(v=>v.key)}hasRenderableParent(c){const p=this.findLoadedParent(c,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(c,p){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(p||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(c,p){const v=this._tiles[c];v&&(v.state!=="loading"&&(v.state=p),this._loadTile(v,this._tileLoaded.bind(this,v,c,p)))}_tileLoaded(c,p,v,_){if(_)return c.state="errored",void(_.status!==404?this._source.fire(new a.j(_,{tile:c})):this.update(this.transform,this.terrain));c.timeAdded=a.h.now(),v==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(p,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new a.k("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const p=this.getRenderableIds();for(let _=0;_<p.length;_++){const C=p[_];if(c.neighboringTiles&&c.neighboringTiles[C]){const j=this.getTileByID(C);v(c,j),v(j,c)}}function v(_,C){_.needsHillshadePrepare=!0,_.needsTerrainPrepare=!0;let j=C.tileID.canonical.x-_.tileID.canonical.x;const z=C.tileID.canonical.y-_.tileID.canonical.y,U=Math.pow(2,_.tileID.canonical.z),G=C.tileID.key;j===0&&z===0||Math.abs(z)>1||(Math.abs(j)>1&&(Math.abs(j+U)===1?j+=U:Math.abs(j-U)===1&&(j-=U)),C.dem&&_.dem&&(_.dem.backfillBorder(C.dem,j,z),_.neighboringTiles&&_.neighboringTiles[G]&&(_.neighboringTiles[G].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,p,v,_){for(const C in this._tiles){let j=this._tiles[C];if(_[C]||!j.hasData()||j.tileID.overscaledZ<=p||j.tileID.overscaledZ>v)continue;let z=j.tileID;for(;j&&j.tileID.overscaledZ>p+1;){const G=j.tileID.scaledTo(j.tileID.overscaledZ-1);j=this._tiles[G.key],j&&j.hasData()&&(z=G)}let U=z;for(;U.overscaledZ>p;)if(U=U.scaledTo(U.overscaledZ-1),c[U.key]){_[z.key]=z;break}}}findLoadedParent(c,p){if(c.key in this._loadedParentTiles){const v=this._loadedParentTiles[c.key];return v&&v.tileID.overscaledZ>=p?v:null}for(let v=c.overscaledZ-1;v>=p;v--){const _=c.scaledTo(v),C=this._getLoadedTile(_);if(C)return C}}_getLoadedTile(c){const p=this._tiles[c.key];return p&&p.hasData()?p:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const p=Math.ceil(c.width/this._source.tileSize)+1,v=Math.ceil(c.height/this._source.tileSize)+1,_=Math.floor(p*v*(this._maxTileCacheZoomLevels===null?a.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),C=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_):_;this._cache.setMaxSize(C)}handleWrapJump(c){const p=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,p){const v={};for(const _ in this._tiles){const C=this._tiles[_];C.tileID=C.tileID.unwrapTo(C.tileID.wrap+p),v[C.tileID.key]=C}this._tiles=v;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(_,this._tiles[_])}}update(c,p){if(this.transform=c,this.terrain=p,!this._sourceLoaded||this._paused)return;let v;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?v=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(Y=>new a.O(Y.canonical.z,Y.wrap,Y.canonical.z,Y.canonical.x,Y.canonical.y)):(v=c.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(v=v.filter(Y=>this._source.hasTile(Y)))):v=[];const _=c.coveringZoomLevel(this._source),C=Math.max(_-an.maxOverzooming,this._source.minzoom),j=Math.max(_+an.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Y={};for(const K of v)if(K.canonical.z>this._source.minzoom){const re=K.scaledTo(K.canonical.z-1);Y[re.key]=re;const de=K.scaledTo(Math.max(this._source.minzoom,Math.min(K.canonical.z,5)));Y[de.key]=de}v=v.concat(Object.values(Y))}const z=v.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,z&&this.fire(new a.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const U=this._updateRetainedTiles(v,_);if(on(this._source.type)){const Y={},K={},re=Object.keys(U),de=a.h.now();for(const ue of re){const pe=U[ue],le=this._tiles[ue];if(!le||le.fadeEndTime!==0&&le.fadeEndTime<=de)continue;const Me=this.findLoadedParent(pe,C);Me&&(this._addTile(Me.tileID),Y[Me.tileID.key]=Me.tileID),K[ue]=pe}this._retainLoadedChildren(K,_,j,U);for(const ue in Y)U[ue]||(this._coveredTiles[ue]=!0,U[ue]=Y[ue]);if(p){const ue={},pe={};for(const le of v)this._tiles[le.key].hasData()?ue[le.key]=le:pe[le.key]=le;for(const le in pe){const Me=pe[le].children(this._source.maxzoom);this._tiles[Me[0].key]&&this._tiles[Me[1].key]&&this._tiles[Me[2].key]&&this._tiles[Me[3].key]&&(ue[Me[0].key]=U[Me[0].key]=Me[0],ue[Me[1].key]=U[Me[1].key]=Me[1],ue[Me[2].key]=U[Me[2].key]=Me[2],ue[Me[3].key]=U[Me[3].key]=Me[3],delete pe[le])}for(const le in pe){const Me=this.findLoadedParent(pe[le],this._source.minzoom);if(Me){ue[Me.tileID.key]=U[Me.tileID.key]=Me.tileID;for(const je in ue)ue[je].isChildOf(Me.tileID)&&delete ue[je]}}for(const le in this._tiles)ue[le]||(this._coveredTiles[le]=!0)}}for(const Y in U)this._tiles[Y].clearFadeHold();const G=a.ab(this._tiles,U);for(const Y of G){const K=this._tiles[Y];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(Y)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,p){const v={},_={},C=Math.max(p-an.maxOverzooming,this._source.minzoom),j=Math.max(p+an.maxUnderzooming,this._source.minzoom),z={};for(const U of c){const G=this._addTile(U);v[U.key]=U,G.hasData()||p<this._source.maxzoom&&(z[U.key]=U)}this._retainLoadedChildren(z,p,j,v);for(const U of c){let G=this._tiles[U.key];if(G.hasData())continue;if(p+1>this._source.maxzoom){const K=U.children(this._source.maxzoom)[0],re=this.getTile(K);if(re&&re.hasData()){v[K.key]=K;continue}}else{const K=U.children(this._source.maxzoom);if(v[K[0].key]&&v[K[1].key]&&v[K[2].key]&&v[K[3].key])continue}let Y=G.wasRequested();for(let K=U.overscaledZ-1;K>=C;--K){const re=U.scaledTo(K);if(_[re.key])break;if(_[re.key]=!0,G=this.getTile(re),!G&&Y&&(G=this._addTile(re)),G){const de=G.hasData();if((Y||de)&&(v[re.key]=re),Y=G.wasRequested(),de)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const p=[];let v,_=this._tiles[c].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){v=this._loadedParentTiles[_.key];break}p.push(_.key);const C=_.scaledTo(_.overscaledZ-1);if(v=this._getLoadedTile(C),v)break;_=C}for(const C of p)this._loadedParentTiles[C]=v}}_addTile(c){let p=this._tiles[c.key];if(p)return p;p=this._cache.getAndRemove(c),p&&(this._setTileReloadTimer(c.key,p),p.tileID=c,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,p)));const v=p;return p||(p=new xn(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(p,this._tileLoaded.bind(this,p,c.key,p.state))),p.uses++,this._tiles[c.key]=p,v||this._source.fire(new a.k("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(c,p){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const v=p.getExpiryTimeout();v&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},v))}_removeTile(c){const p=this._tiles[c];p&&(p.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,p,v){const _=[],C=this.transform;if(!C)return _;const j=v?C.getCameraQueryGeometry(c):c,z=c.map(ue=>C.pointCoordinate(ue,this.terrain)),U=j.map(ue=>C.pointCoordinate(ue,this.terrain)),G=this.getIds();let Y=1/0,K=1/0,re=-1/0,de=-1/0;for(const ue of U)Y=Math.min(Y,ue.x),K=Math.min(K,ue.y),re=Math.max(re,ue.x),de=Math.max(de,ue.y);for(let ue=0;ue<G.length;ue++){const pe=this._tiles[G[ue]];if(pe.holdingForFade())continue;const le=pe.tileID,Me=Math.pow(2,C.zoom-pe.tileID.overscaledZ),je=p*pe.queryPadding*a.N/pe.tileSize/Me,ve=[le.getTilePoint(new a.U(Y,K)),le.getTilePoint(new a.U(re,de))];if(ve[0].x-je<a.N&&ve[0].y-je<a.N&&ve[1].x+je>=0&&ve[1].y+je>=0){const Ie=z.map(Fe=>le.getTilePoint(Fe)),Be=U.map(Fe=>le.getTilePoint(Fe));_.push({tile:pe,tileID:le,queryGeometry:Ie,cameraQueryGeometry:Be,scale:Me})}}return _}getVisibleCoordinates(c){const p=this.getRenderableIds(c).map(v=>this._tiles[v].tileID);for(const v of p)v.posMatrix=this.transform.calculatePosMatrix(v.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(on(this._source.type)){const c=a.h.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=c)return!0}return!1}setFeatureState(c,p,v){this._state.updateState(c=c||"_geojsonTileLayer",p,v)}removeFeatureState(c,p,v){this._state.removeFeatureState(c=c||"_geojsonTileLayer",p,v)}getFeatureState(c,p){return this._state.getState(c=c||"_geojsonTileLayer",p)}setDependencies(c,p,v){const _=this._tiles[c];_&&_.setDependencies(p,v)}reloadTilesForDependencies(c,p){for(const v in this._tiles)this._tiles[v].hasDependency(c,p)&&this._reloadTile(v,"reloading");this._cache.filter(v=>!v.hasDependency(c,p))}}function Mn(w,c){const p=Math.abs(2*w.wrap)-+(w.wrap<0),v=Math.abs(2*c.wrap)-+(c.wrap<0);return w.overscaledZ-c.overscaledZ||v-p||c.canonical.y-w.canonical.y||c.canonical.x-w.canonical.x}function on(w){return w==="raster"||w==="image"||w==="video"}an.maxOverzooming=10,an.maxUnderzooming=3;const It="mapboxgl_preloaded_worker_pool";class Wn{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Wn.workerCount;)this.workers.push(new Worker(a.c.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[It]}numActive(){return Object.keys(this.active).length}}const ir=Math.floor(a.h.hardwareConcurrency/2);let Tr;function Dn(){return Tr||(Tr=new Wn),Tr}Wn.workerCount=a.ac(globalThis)?Math.max(Math.min(ir,3),1):1;class Kt{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=a.ad(c,0,1);let p=1,v=this._distances[p];const _=c*this.paddedLength+this.padding;for(;v<_&&p<this._distances.length;)v=this._distances[++p];const C=p-1,j=this._distances[C],z=v-j,U=z>0?(_-j)/z:0;return this.points[C].mult(1-U).add(this.points[p].mult(U))}}function cr(w,c){let p=!0;return w==="always"||w!=="never"&&c!=="never"||(p=!1),p}class Di{constructor(c,p,v){const _=this.boxCells=[],C=this.circleCells=[];this.xCellCount=Math.ceil(c/v),this.yCellCount=Math.ceil(p/v);for(let j=0;j<this.xCellCount*this.yCellCount;j++)_.push([]),C.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,v,_,C){this._forEachCell(p,v,_,C,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(v),this.bboxes.push(_),this.bboxes.push(C)}insertCircle(c,p,v,_){this._forEachCell(p-_,v-_,p+_,v+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(v),this.circles.push(_)}_insertBoxCell(c,p,v,_,C,j){this.boxCells[C].push(j)}_insertCircleCell(c,p,v,_,C,j){this.circleCells[C].push(j)}_query(c,p,v,_,C,j,z){if(v<0||c>this.width||_<0||p>this.height)return[];const U=[];if(c<=0&&p<=0&&this.width<=v&&this.height<=_){if(C)return[{key:null,x1:c,y1:p,x2:v,y2:_}];for(let G=0;G<this.boxKeys.length;G++)U.push({key:this.boxKeys[G],x1:this.bboxes[4*G],y1:this.bboxes[4*G+1],x2:this.bboxes[4*G+2],y2:this.bboxes[4*G+3]});for(let G=0;G<this.circleKeys.length;G++){const Y=this.circles[3*G],K=this.circles[3*G+1],re=this.circles[3*G+2];U.push({key:this.circleKeys[G],x1:Y-re,y1:K-re,x2:Y+re,y2:K+re})}}else this._forEachCell(c,p,v,_,this._queryCell,U,{hitTest:C,overlapMode:j,seenUids:{box:{},circle:{}}},z);return U}query(c,p,v,_){return this._query(c,p,v,_,!1,null)}hitTest(c,p,v,_,C,j){return this._query(c,p,v,_,!0,C,j).length>0}hitTestCircle(c,p,v,_,C){const j=c-v,z=c+v,U=p-v,G=p+v;if(z<0||j>this.width||G<0||U>this.height)return!1;const Y=[];return this._forEachCell(j,U,z,G,this._queryCellCircle,Y,{hitTest:!0,overlapMode:_,circle:{x:c,y:p,radius:v},seenUids:{box:{},circle:{}}},C),Y.length>0}_queryCell(c,p,v,_,C,j,z,U){const{seenUids:G,hitTest:Y,overlapMode:K}=z,re=this.boxCells[C];if(re!==null){const ue=this.bboxes;for(const pe of re)if(!G.box[pe]){G.box[pe]=!0;const le=4*pe,Me=this.boxKeys[pe];if(c<=ue[le+2]&&p<=ue[le+3]&&v>=ue[le+0]&&_>=ue[le+1]&&(!U||U(Me))&&(!Y||!cr(K,Me.overlapMode))&&(j.push({key:Me,x1:ue[le],y1:ue[le+1],x2:ue[le+2],y2:ue[le+3]}),Y))return!0}}const de=this.circleCells[C];if(de!==null){const ue=this.circles;for(const pe of de)if(!G.circle[pe]){G.circle[pe]=!0;const le=3*pe,Me=this.circleKeys[pe];if(this._circleAndRectCollide(ue[le],ue[le+1],ue[le+2],c,p,v,_)&&(!U||U(Me))&&(!Y||!cr(K,Me.overlapMode))){const je=ue[le],ve=ue[le+1],Ie=ue[le+2];if(j.push({key:Me,x1:je-Ie,y1:ve-Ie,x2:je+Ie,y2:ve+Ie}),Y)return!0}}}return!1}_queryCellCircle(c,p,v,_,C,j,z,U){const{circle:G,seenUids:Y,overlapMode:K}=z,re=this.boxCells[C];if(re!==null){const ue=this.bboxes;for(const pe of re)if(!Y.box[pe]){Y.box[pe]=!0;const le=4*pe,Me=this.boxKeys[pe];if(this._circleAndRectCollide(G.x,G.y,G.radius,ue[le+0],ue[le+1],ue[le+2],ue[le+3])&&(!U||U(Me))&&!cr(K,Me.overlapMode))return j.push(!0),!0}}const de=this.circleCells[C];if(de!==null){const ue=this.circles;for(const pe of de)if(!Y.circle[pe]){Y.circle[pe]=!0;const le=3*pe,Me=this.circleKeys[pe];if(this._circlesCollide(ue[le],ue[le+1],ue[le+2],G.x,G.y,G.radius)&&(!U||U(Me))&&!cr(K,Me.overlapMode))return j.push(!0),!0}}}_forEachCell(c,p,v,_,C,j,z,U){const G=this._convertToXCellCoord(c),Y=this._convertToYCellCoord(p),K=this._convertToXCellCoord(v),re=this._convertToYCellCoord(_);for(let de=G;de<=K;de++)for(let ue=Y;ue<=re;ue++)if(C.call(this,c,p,v,_,this.xCellCount*ue+de,j,z,U))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,v,_,C,j){const z=_-c,U=C-p,G=v+j;return G*G>z*z+U*U}_circleAndRectCollide(c,p,v,_,C,j,z){const U=(j-_)/2,G=Math.abs(c-(_+U));if(G>U+v)return!1;const Y=(z-C)/2,K=Math.abs(p-(C+Y));if(K>Y+v)return!1;if(G<=U||K<=Y)return!0;const re=G-U,de=K-Y;return re*re+de*de<=v*v}}function ot(w,c,p,v,_){const C=a.Z();return c?(a.a0(C,C,[1/_,1/_,1]),p||a.ae(C,C,v.angle)):a.a1(C,v.labelPlaneMatrix,w),C}function zt(w,c,p,v,_){if(c){const C=a.af(w);return a.a0(C,C,[_,_,1]),p||a.ae(C,C,-v.angle),C}return v.glCoordMatrix}function ln(w,c,p){let v;p?(v=[w.x,w.y,p(w.x,w.y),1],a.ag(v,v,c)):(v=[w.x,w.y,0,1],me(v,v,c));const _=v[3];return{point:new a.P(v[0]/_,v[1]/_),signedDistanceFromCamera:_}}function Xn(w,c){return .5+w/c*.5}function ui(w,c){const p=w[0]/w[3],v=w[1]/w[3];return p>=-c[0]&&p<=c[0]&&v>=-c[1]&&v<=c[1]}function dt(w,c,p,v,_,C,j,z,U,G){const Y=v?w.textSizeData:w.iconSizeData,K=a.ah(Y,p.transform.zoom),re=[256/p.width*2+1,256/p.height*2+1],de=v?w.text.dynamicLayoutVertexArray:w.icon.dynamicLayoutVertexArray;de.clear();const ue=w.lineVertexArray,pe=v?w.text.placedSymbolArray:w.icon.placedSymbolArray,le=p.transform.width/p.transform.height;let Me=!1;for(let je=0;je<pe.length;je++){const ve=pe.get(je);if(ve.hidden||ve.writingMode===a.ai.vertical&&!Me){se(ve.numGlyphs,de);continue}let Ie;if(Me=!1,G?(Ie=[ve.anchorX,ve.anchorY,G(ve.anchorX,ve.anchorY),1],a.ag(Ie,Ie,c)):(Ie=[ve.anchorX,ve.anchorY,0,1],me(Ie,Ie,c)),!ui(Ie,re)){se(ve.numGlyphs,de);continue}const Be=Xn(p.transform.cameraToCenterDistance,Ie[3]),Fe=a.aj(Y,K,ve),Ke=j?Fe/Be:Fe*Be,nt=new a.P(ve.anchorX,ve.anchorY),et=ln(nt,_,G).point,ct={projections:{},offsets:{}},Rt=Li(ve,Ke,!1,z,c,_,C,w.glyphOffsetArray,ue,de,et,nt,ct,le,U,G);Me=Rt.useVertical,(Rt.notEnoughRoom||Me||Rt.needsFlipping&&Li(ve,Ke,!0,z,c,_,C,w.glyphOffsetArray,ue,de,et,nt,ct,le,U,G).notEnoughRoom)&&se(ve.numGlyphs,de)}v?w.text.dynamicLayoutVertexBuffer.updateData(de):w.icon.dynamicLayoutVertexBuffer.updateData(de)}function hn(w,c,p,v,_,C,j,z,U,G,Y,K,re){const de=z.glyphStartIndex+z.numGlyphs,ue=z.lineStartIndex,pe=z.lineStartIndex+z.lineLength,le=c.getoffsetX(z.glyphStartIndex),Me=c.getoffsetX(de-1),je=J(w*le,p,v,_,C,j,z.segment,ue,pe,U,G,Y,K,re);if(!je)return null;const ve=J(w*Me,p,v,_,C,j,z.segment,ue,pe,U,G,Y,K,re);return ve?{first:je,last:ve}:null}function dn(w,c,p,v){return w===a.ai.horizontal&&Math.abs(p.y-c.y)>Math.abs(p.x-c.x)*v?{useVertical:!0}:(w===a.ai.vertical?c.y<p.y:c.x>p.x)?{needsFlipping:!0}:null}function Li(w,c,p,v,_,C,j,z,U,G,Y,K,re,de,ue,pe){const le=c/24,Me=w.lineOffsetX*le,je=w.lineOffsetY*le;let ve;if(w.numGlyphs>1){const Ie=w.glyphStartIndex+w.numGlyphs,Be=w.lineStartIndex,Fe=w.lineStartIndex+w.lineLength,Ke=hn(le,z,Me,je,p,Y,K,w,U,C,re,ue,pe);if(!Ke)return{notEnoughRoom:!0};const nt=ln(Ke.first.point,j,pe).point,et=ln(Ke.last.point,j,pe).point;if(v&&!p){const ct=dn(w.writingMode,nt,et,de);if(ct)return ct}ve=[Ke.first];for(let ct=w.glyphStartIndex+1;ct<Ie-1;ct++)ve.push(J(le*z.getoffsetX(ct),Me,je,p,Y,K,w.segment,Be,Fe,U,C,re,ue,pe));ve.push(Ke.last)}else{if(v&&!p){const Be=ln(K,_,pe).point,Fe=w.lineStartIndex+w.segment+1,Ke=new a.P(U.getx(Fe),U.gety(Fe)),nt=ln(Ke,_,pe),et=nt.signedDistanceFromCamera>0?nt.point:ua(K,Ke,Be,1,_,pe),ct=dn(w.writingMode,Be,et,de);if(ct)return ct}const Ie=J(le*z.getoffsetX(w.glyphStartIndex),Me,je,p,Y,K,w.segment,w.lineStartIndex,w.lineStartIndex+w.lineLength,U,C,re,ue,pe);if(!Ie)return{notEnoughRoom:!0};ve=[Ie]}for(const Ie of ve)a.ak(G,Ie.point,Ie.angle);return{}}function ua(w,c,p,v,_,C){const j=ln(w.add(w.sub(c)._unit()),_,C).point,z=p.sub(j);return p.add(z._mult(v/z.mag()))}function fn(w,c){const{projectionCache:p,lineVertexArray:v,labelPlaneMatrix:_,tileAnchorPoint:C,distanceFromAnchor:j,getElevation:z,previousVertex:U,direction:G,absOffsetX:Y}=c;if(p.projections[w])return p.projections[w];const K=new a.P(v.getx(w),v.gety(w)),re=ln(K,_,z);if(re.signedDistanceFromCamera>0)return p.projections[w]=re.point,re.point;const de=w-G;return ua(j===0?C:new a.P(v.getx(de),v.gety(de)),K,U,Y-j+1,_,z)}function da(w,c,p){return w._unit()._perp()._mult(c*p)}function he(w,c,p,v,_,C,j,z){const{projectionCache:U,direction:G}=z;if(U.offsets[w])return U.offsets[w];const Y=p.add(c);if(w+G<v||w+G>=_)return U.offsets[w]=Y,Y;const K=fn(w+G,z),re=da(K.sub(p),j,G),de=p.add(re),ue=K.add(re);return U.offsets[w]=a.al(C,Y,de,ue)||Y,U.offsets[w]}function J(w,c,p,v,_,C,j,z,U,G,Y,K,re,de){const ue=v?w-c:w+c;let pe=ue>0?1:-1,le=0;v&&(pe*=-1,le=Math.PI),pe<0&&(le+=Math.PI);let Me,je,ve=pe>0?z+j:z+j+1,Ie=_,Be=_,Fe=0,Ke=0;const nt=Math.abs(ue),et=[];let ct;for(;Fe+Ke<=nt;){if(ve+=pe,ve<z||ve>=U)return null;Fe+=Ke,Be=Ie,je=Me;const bt={projectionCache:K,lineVertexArray:G,labelPlaneMatrix:Y,tileAnchorPoint:C,distanceFromAnchor:Fe,getElevation:de,previousVertex:Be,direction:pe,absOffsetX:nt};if(Ie=fn(ve,bt),p===0)et.push(Be),ct=Ie.sub(Be);else{let tn;const jt=Ie.sub(Be);tn=jt.mag()===0?da(fn(ve+pe,bt).sub(Ie),p,pe):da(jt,p,pe),je||(je=Be.add(tn)),Me=he(ve,tn,Ie,z,U,je,p,bt),et.push(je),ct=Me.sub(je)}Ke=ct.mag()}const Rt=ct._mult((nt-Fe)/Ke)._add(je||Be),_n=le+Math.atan2(Ie.y-Be.y,Ie.x-Be.x);return et.push(Rt),{point:Rt,angle:re?_n:0,path:et}}const ne=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function se(w,c){for(let p=0;p<w;p++){const v=c.length;c.resize(v+4),c.float32.set(ne,3*v)}}function me(w,c,p){const v=c[0],_=c[1];return w[0]=p[0]*v+p[4]*_+p[12],w[1]=p[1]*v+p[5]*_+p[13],w[3]=p[3]*v+p[7]*_+p[15],w}const ye=100;class De{constructor(c,p=new Di(c.width+200,c.height+200,25),v=new Di(c.width+200,c.height+200,25)){this.transform=c,this.grid=p,this.ignoredGrid=v,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+ye,this.screenBottomBoundary=c.height+ye,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,p,v,_,C,j){const z=this.projectAndGetPerspectiveRatio(_,c.anchorPointX,c.anchorPointY,j),U=v*z.perspectiveRatio,G=c.x1*U+z.point.x,Y=c.y1*U+z.point.y,K=c.x2*U+z.point.x,re=c.y2*U+z.point.y;return!this.isInsideGrid(G,Y,K,re)||p!=="always"&&this.grid.hitTest(G,Y,K,re,p,C)||z.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[G,Y,K,re],offscreen:this.isOffscreen(G,Y,K,re)}}placeCollisionCircles(c,p,v,_,C,j,z,U,G,Y,K,re,de,ue){const pe=[],le=new a.P(p.anchorX,p.anchorY),Me=ln(le,j,ue),je=Xn(this.transform.cameraToCenterDistance,Me.signedDistanceFromCamera),ve=(Y?C/je:C*je)/a.ap,Ie=ln(le,z,ue).point,Be=hn(ve,_,p.lineOffsetX*ve,p.lineOffsetY*ve,!1,Ie,le,p,v,z,{projections:{},offsets:{}},!1,ue);let Fe=!1,Ke=!1,nt=!0;if(Be){const et=.5*re*je+de,ct=new a.P(-100,-100),Rt=new a.P(this.screenRightBoundary,this.screenBottomBoundary),_n=new Kt,bt=Be.first,tn=Be.last;let jt=[];for(let mn=bt.path.length-1;mn>=1;mn--)jt.push(bt.path[mn]);for(let mn=1;mn<tn.path.length;mn++)jt.push(tn.path[mn]);const Qn=2.5*et;if(U){const mn=jt.map(wn=>ln(wn,U,ue));jt=mn.some(wn=>wn.signedDistanceFromCamera<=0)?[]:mn.map(wn=>wn.point)}let vn=[];if(jt.length>0){const mn=jt[0].clone(),wn=jt[0].clone();for(let Hr=1;Hr<jt.length;Hr++)mn.x=Math.min(mn.x,jt[Hr].x),mn.y=Math.min(mn.y,jt[Hr].y),wn.x=Math.max(wn.x,jt[Hr].x),wn.y=Math.max(wn.y,jt[Hr].y);vn=mn.x>=ct.x&&wn.x<=Rt.x&&mn.y>=ct.y&&wn.y<=Rt.y?[jt]:wn.x<ct.x||mn.x>Rt.x||wn.y<ct.y||mn.y>Rt.y?[]:a.am([jt],ct.x,ct.y,Rt.x,Rt.y)}for(const mn of vn){_n.reset(mn,.25*et);let wn=0;wn=_n.length<=.5*et?1:Math.ceil(_n.paddedLength/Qn)+1;for(let Hr=0;Hr<wn;Hr++){const fr=Hr/Math.max(wn-1,1),Ni=_n.lerp(fr),yi=Ni.x+ye,ri=Ni.y+ye;pe.push(yi,ri,et,0);const Ko=yi-et,xr=ri-et,ls=yi+et,cs=ri+et;if(nt=nt&&this.isOffscreen(Ko,xr,ls,cs),Ke=Ke||this.isInsideGrid(Ko,xr,ls,cs),c!=="always"&&this.grid.hitTestCircle(yi,ri,et,c,K)&&(Fe=!0,!G))return{circles:[],offscreen:!1,collisionDetected:Fe}}}}return{circles:!G&&Fe||!Ke||je<this.perspectiveRatioCutoff?[]:pe,offscreen:nt,collisionDetected:Fe}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let v=1/0,_=1/0,C=-1/0,j=-1/0;for(const Y of c){const K=new a.P(Y.x+ye,Y.y+ye);v=Math.min(v,K.x),_=Math.min(_,K.y),C=Math.max(C,K.x),j=Math.max(j,K.y),p.push(K)}const z=this.grid.query(v,_,C,j).concat(this.ignoredGrid.query(v,_,C,j)),U={},G={};for(const Y of z){const K=Y.key;if(U[K.bucketInstanceId]===void 0&&(U[K.bucketInstanceId]={}),U[K.bucketInstanceId][K.featureIndex])continue;const re=[new a.P(Y.x1,Y.y1),new a.P(Y.x2,Y.y1),new a.P(Y.x2,Y.y2),new a.P(Y.x1,Y.y2)];a.an(p,re)&&(U[K.bucketInstanceId][K.featureIndex]=!0,G[K.bucketInstanceId]===void 0&&(G[K.bucketInstanceId]=[]),G[K.bucketInstanceId].push(K.featureIndex))}return G}insertCollisionBox(c,p,v,_,C,j){(v?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:C,collisionGroupID:j,overlapMode:p},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,v,_,C,j){const z=v?this.ignoredGrid:this.grid,U={bucketInstanceId:_,featureIndex:C,collisionGroupID:j,overlapMode:p};for(let G=0;G<c.length;G+=4)z.insertCircle(U,c[G],c[G+1],c[G+2])}projectAndGetPerspectiveRatio(c,p,v,_){let C;return _?(C=[p,v,_(p,v),1],a.ag(C,C,c)):(C=[p,v,0,1],me(C,C,c)),{point:new a.P((C[0]/C[3]+1)/2*this.transform.width+ye,(-C[1]/C[3]+1)/2*this.transform.height+ye),perspectiveRatio:.5+this.transform.cameraToCenterDistance/C[3]*.5}}isOffscreen(c,p,v,_){return v<ye||c>=this.screenRightBoundary||_<ye||p>this.screenBottomBoundary}isInsideGrid(c,p,v,_){return v>=0&&c<this.gridRightBoundary&&_>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=a.ao([]);return a.$(c,c,[-100,-100,0]),c}}function Pe(w,c,p){return c*(a.N/(w.tileSize*Math.pow(2,p-w.tileID.overscaledZ)))}class xe{constructor(c,p,v,_){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):_&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class Ae{constructor(c,p,v,_,C){this.text=new xe(c?c.text:null,p,v,C),this.icon=new xe(c?c.icon:null,p,_,C)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class qe{constructor(c,p,v){this.text=c,this.icon=p,this.skipFade=v}}class We{constructor(){this.invProjMatrix=a.Z(),this.viewportMatrix=a.Z(),this.circles=[]}}class Ye{constructor(c,p,v,_,C){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=v,this.bucketIndex=_,this.tileID=C}}class qt{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:v=>v.collisionGroupID===p}}return this.collisionGroups[c]}}function Zt(w,c,p,v,_){const{horizontalAlign:C,verticalAlign:j}=a.au(w);return new a.P(-(C-.5)*c+v[0]*_,-(j-.5)*p+v[1]*_)}function At(w,c,p,v,_,C){const{x1:j,x2:z,y1:U,y2:G,anchorPointX:Y,anchorPointY:K}=w,re=new a.P(c,p);return v&&re._rotate(_?C:-C),{x1:j+re.x,y1:U+re.y,x2:z+re.x,y2:G+re.y,anchorPointX:Y,anchorPointY:K}}class Gt{constructor(c,p,v,_,C){this.transform=c.clone(),this.terrain=p,this.collisionIndex=new De(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new qt(_),this.collisionCircleArrays={},this.prevPlacement=C,C&&(C.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,v,_){const C=v.getBucket(p),j=v.latestFeatureIndex;if(!C||!j||p.id!==C.layerIds[0])return;const z=v.collisionBoxArray,U=C.layers[0].layout,G=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),Y=v.tileSize/a.N,K=this.transform.calculatePosMatrix(v.tileID.toUnwrapped()),re=U.get("text-pitch-alignment")==="map",de=U.get("text-rotation-alignment")==="map",ue=Pe(v,1,this.transform.zoom),pe=ot(K,re,de,this.transform,ue);let le=null;if(re){const je=zt(K,re,de,this.transform,ue);le=a.a1([],this.transform.labelPlaneMatrix,je)}this.retainedQueryData[C.bucketInstanceId]=new Ye(C.bucketInstanceId,j,C.sourceLayerIndex,C.index,v.tileID);const Me={bucket:C,layout:U,posMatrix:K,textLabelPlaneMatrix:pe,labelToScreenMatrix:le,scale:G,textPixelRatio:Y,holdingForFade:v.holdingForFade(),collisionBoxArray:z,partiallyEvaluatedTextSize:a.ah(C.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(C.sourceID)};if(_)for(const je of C.sortKeyRanges){const{sortKey:ve,symbolInstanceStart:Ie,symbolInstanceEnd:Be}=je;c.push({sortKey:ve,symbolInstanceStart:Ie,symbolInstanceEnd:Be,parameters:Me})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:C.symbolInstances.length,parameters:Me})}attemptAnchorPlacement(c,p,v,_,C,j,z,U,G,Y,K,re,de,ue,pe,le){const Me=a.aq[c.textAnchor],je=[c.textOffset0,c.textOffset1],ve=Zt(Me,v,_,je,C),Ie=this.collisionIndex.placeCollisionBox(At(p,ve.x,ve.y,j,z,this.transform.angle),K,U,G,Y.predicate,le);if((!pe||this.collisionIndex.placeCollisionBox(At(pe,ve.x,ve.y,j,z,this.transform.angle),K,U,G,Y.predicate,le).box.length!==0)&&Ie.box.length>0){let Be;if(this.prevPlacement&&this.prevPlacement.variableOffsets[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID].text&&(Be=this.prevPlacement.variableOffsets[re.crossTileID].anchor),re.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[re.crossTileID]={textOffset:je,width:v,height:_,anchor:Me,textBoxScale:C,prevAnchor:Be},this.markUsedJustification(de,Me,re,ue),de.allowVerticalPlacement&&(this.markUsedOrientation(de,ue,re),this.placedOrientations[re.crossTileID]=ue),{shift:ve,placedGlyphBoxes:Ie}}}placeLayerBucketPart(c,p,v){const{bucket:_,layout:C,posMatrix:j,textLabelPlaneMatrix:z,labelToScreenMatrix:U,textPixelRatio:G,holdingForFade:Y,collisionBoxArray:K,partiallyEvaluatedTextSize:re,collisionGroup:de}=c.parameters,ue=C.get("text-optional"),pe=C.get("icon-optional"),le=a.ar(C,"text-overlap","text-allow-overlap"),Me=le==="always",je=a.ar(C,"icon-overlap","icon-allow-overlap"),ve=je==="always",Ie=C.get("text-rotation-alignment")==="map",Be=C.get("text-pitch-alignment")==="map",Fe=C.get("icon-text-fit")!=="none",Ke=C.get("symbol-z-order")==="viewport-y",nt=Me&&(ve||!_.hasIconData()||pe),et=ve&&(Me||!_.hasTextData()||ue);!_.collisionArrays&&K&&_.deserializeCollisionBoxes(K);const ct=this.retainedQueryData[_.bucketInstanceId].tileID,Rt=this.terrain?(bt,tn)=>this.terrain.getElevation(ct,bt,tn):null,_n=(bt,tn)=>{var jt,Qn;if(p[bt.crossTileID])return;if(Y)return void(this.placements[bt.crossTileID]=new qe(!1,!1,!1));let vn=!1,mn=!1,wn=!0,Hr=null,fr={box:null,offscreen:null},Ni={box:null,offscreen:null},yi=null,ri=null,Ko=null,xr=0,ls=0,cs=0;tn.textFeatureIndex?xr=tn.textFeatureIndex:bt.useRuntimeCollisionCircles&&(xr=bt.featureIndex),tn.verticalTextFeatureIndex&&(ls=tn.verticalTextFeatureIndex);const Bl=tn.textBox;if(Bl){const Zi=Yr=>{let vi=a.ai.horizontal;if(_.allowVerticalPlacement&&!Yr&&this.prevPlacement){const ko=this.prevPlacement.placedOrientations[bt.crossTileID];ko&&(this.placedOrientations[bt.crossTileID]=ko,vi=ko,this.markUsedOrientation(_,vi,bt))}return vi},zi=(Yr,vi)=>{if(_.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&tn.verticalTextBox){for(const ko of _.writingModes)if(ko===a.ai.vertical?(fr=vi(),Ni=fr):fr=Yr(),fr&&fr.box&&fr.box.length)break}else fr=Yr()},co=bt.textAnchorOffsetStartIndex,Pc=bt.textAnchorOffsetEndIndex;if(Pc===co){const Yr=(vi,ko)=>{const Kr=this.collisionIndex.placeCollisionBox(vi,le,G,j,de.predicate,Rt);return Kr&&Kr.box&&Kr.box.length&&(this.markUsedOrientation(_,ko,bt),this.placedOrientations[bt.crossTileID]=ko),Kr};zi(()=>Yr(Bl,a.ai.horizontal),()=>{const vi=tn.verticalTextBox;return _.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&vi?Yr(vi,a.ai.vertical):{box:null,offscreen:null}}),Zi(fr&&fr.box&&fr.box.length)}else{let Yr=a.aq[(Qn=(jt=this.prevPlacement)===null||jt===void 0?void 0:jt.variableOffsets[bt.crossTileID])===null||Qn===void 0?void 0:Qn.anchor];const vi=(Kr,Ec,ap)=>{const m_=Kr.x2-Kr.x1,g_=Kr.y2-Kr.y1,hT=bt.textBoxScale,Dy=Fe&&je==="never"?Ec:null;let us={box:[],offscreen:!1},Oc=le==="never"?1:2,ds="never";Yr&&Oc++;for(let va=0;va<Oc;va++){for(let fs=co;fs<Pc;fs++){const Ly=_.textAnchorOffsets.get(fs);if(Yr&&Ly.textAnchor!==Yr)continue;const Qs=this.attemptAnchorPlacement(Ly,Kr,m_,g_,hT,Ie,Be,G,j,de,ds,bt,_,ap,Dy,Rt);if(Qs&&(us=Qs.placedGlyphBoxes,us&&us.box&&us.box.length))return vn=!0,Hr=Qs.shift,us}Yr?Yr=null:ds=le}return us};zi(()=>vi(Bl,tn.iconBox,a.ai.horizontal),()=>{const Kr=tn.verticalTextBox;return _.allowVerticalPlacement&&!(fr&&fr.box&&fr.box.length)&&bt.numVerticalGlyphVertices>0&&Kr?vi(Kr,tn.verticalIconBox,a.ai.vertical):{box:null,offscreen:null}}),fr&&(vn=fr.box,wn=fr.offscreen);const ko=Zi(fr&&fr.box);if(!vn&&this.prevPlacement){const Kr=this.prevPlacement.variableOffsets[bt.crossTileID];Kr&&(this.variableOffsets[bt.crossTileID]=Kr,this.markUsedJustification(_,Kr.anchor,bt,ko))}}}if(yi=fr,vn=yi&&yi.box&&yi.box.length>0,wn=yi&&yi.offscreen,bt.useRuntimeCollisionCircles){const Zi=_.text.placedSymbolArray.get(bt.centerJustifiedTextSymbolIndex),zi=a.aj(_.textSizeData,re,Zi),co=C.get("text-padding");ri=this.collisionIndex.placeCollisionCircles(le,Zi,_.lineVertexArray,_.glyphOffsetArray,zi,j,z,U,v,Be,de.predicate,bt.collisionCircleDiameter,co,Rt),ri.circles.length&&ri.collisionDetected&&!v&&a.w("Collisions detected, but collision boxes are not shown"),vn=Me||ri.circles.length>0&&!ri.collisionDetected,wn=wn&&ri.offscreen}if(tn.iconFeatureIndex&&(cs=tn.iconFeatureIndex),tn.iconBox){const Zi=zi=>{const co=Fe&&Hr?At(zi,Hr.x,Hr.y,Ie,Be,this.transform.angle):zi;return this.collisionIndex.placeCollisionBox(co,je,G,j,de.predicate,Rt)};Ni&&Ni.box&&Ni.box.length&&tn.verticalIconBox?(Ko=Zi(tn.verticalIconBox),mn=Ko.box.length>0):(Ko=Zi(tn.iconBox),mn=Ko.box.length>0),wn=wn&&Ko.offscreen}const Tc=ue||bt.numHorizontalGlyphVertices===0&&bt.numVerticalGlyphVertices===0,Fu=pe||bt.numIconVertices===0;if(Tc||Fu?Fu?Tc||(mn=mn&&vn):vn=mn&&vn:mn=vn=mn&&vn,vn&&yi&&yi.box&&this.collisionIndex.insertCollisionBox(yi.box,le,C.get("text-ignore-placement"),_.bucketInstanceId,Ni&&Ni.box&&ls?ls:xr,de.ID),mn&&Ko&&this.collisionIndex.insertCollisionBox(Ko.box,je,C.get("icon-ignore-placement"),_.bucketInstanceId,cs,de.ID),ri&&(vn&&this.collisionIndex.insertCollisionCircles(ri.circles,le,C.get("text-ignore-placement"),_.bucketInstanceId,xr,de.ID),v)){const Zi=_.bucketInstanceId;let zi=this.collisionCircleArrays[Zi];zi===void 0&&(zi=this.collisionCircleArrays[Zi]=new We);for(let co=0;co<ri.circles.length;co+=4)zi.circles.push(ri.circles[co+0]),zi.circles.push(ri.circles[co+1]),zi.circles.push(ri.circles[co+2]),zi.circles.push(ri.collisionDetected?1:0)}if(bt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(_.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[bt.crossTileID]=new qe(vn||nt,mn||et,wn||_.justReloaded),p[bt.crossTileID]=!0};if(Ke){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const bt=_.getSortedSymbolIndexes(this.transform.angle);for(let tn=bt.length-1;tn>=0;--tn){const jt=bt[tn];_n(_.symbolInstances.get(jt),_.collisionArrays[jt])}}else for(let bt=c.symbolInstanceStart;bt<c.symbolInstanceEnd;bt++)_n(_.symbolInstances.get(bt),_.collisionArrays[bt]);if(v&&_.bucketInstanceId in this.collisionCircleArrays){const bt=this.collisionCircleArrays[_.bucketInstanceId];a.as(bt.invProjMatrix,j),bt.viewportMatrix=this.collisionIndex.getViewportMatrix()}_.justReloaded=!1}markUsedJustification(c,p,v,_){let C;C=_===a.ai.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[a.at(p)];const j=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];for(const z of j)z>=0&&(c.text.placedSymbolArray.get(z).crossTileID=C>=0&&z!==C?0:v.crossTileID)}markUsedOrientation(c,p,v){const _=p===a.ai.horizontal||p===a.ai.horizontalOnly?p:0,C=p===a.ai.vertical?p:0,j=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];for(const z of j)c.text.placedSymbolArray.get(z).placedOrientation=_;v.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=C)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let v=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const _=p?p.symbolFadeChange(c):1,C=p?p.opacities:{},j=p?p.variableOffsets:{},z=p?p.placedOrientations:{};for(const U in this.placements){const G=this.placements[U],Y=C[U];Y?(this.opacities[U]=new Ae(Y,_,G.text,G.icon),v=v||G.text!==Y.text.placed||G.icon!==Y.icon.placed):(this.opacities[U]=new Ae(null,_,G.text,G.icon,G.skipFade),v=v||G.text||G.icon)}for(const U in C){const G=C[U];if(!this.opacities[U]){const Y=new Ae(G,_,!1,!1);Y.isHidden()||(this.opacities[U]=Y,v=v||G.text.placed||G.icon.placed)}}for(const U in j)this.variableOffsets[U]||!this.opacities[U]||this.opacities[U].isHidden()||(this.variableOffsets[U]=j[U]);for(const U in z)this.placedOrientations[U]||!this.opacities[U]||this.opacities[U].isHidden()||(this.placedOrientations[U]=z[U]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");v?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const v={};for(const _ of p){const C=_.getBucket(c);C&&_.latestFeatureIndex&&c.id===C.layerIds[0]&&this.updateBucketOpacities(C,v,_.collisionBoxArray)}}updateBucketOpacities(c,p,v){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const _=c.layers[0],C=_.layout,j=new Ae(null,0,!1,!1,!0),z=C.get("text-allow-overlap"),U=C.get("icon-allow-overlap"),G=_._unevaluatedLayout.hasValue("text-variable-anchor")||_._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Y=C.get("text-rotation-alignment")==="map",K=C.get("text-pitch-alignment")==="map",re=C.get("icon-text-fit")!=="none",de=new Ae(null,0,z&&(U||!c.hasIconData()||C.get("icon-optional")),U&&(z||!c.hasTextData()||C.get("text-optional")),!0);!c.collisionArrays&&v&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(v);const ue=(pe,le,Me)=>{for(let je=0;je<le/4;je++)pe.opacityVertexArray.emplaceBack(Me);pe.hasVisibleVertices=pe.hasVisibleVertices||Me!==fa};for(let pe=0;pe<c.symbolInstances.length;pe++){const le=c.symbolInstances.get(pe),{numHorizontalGlyphVertices:Me,numVerticalGlyphVertices:je,crossTileID:ve}=le;let Ie=this.opacities[ve];p[ve]?Ie=j:Ie||(Ie=de,this.opacities[ve]=Ie),p[ve]=!0;const Be=le.numIconVertices>0,Fe=this.placedOrientations[le.crossTileID],Ke=Fe===a.ai.vertical,nt=Fe===a.ai.horizontal||Fe===a.ai.horizontalOnly;if(Me>0||je>0){const et=Kn(Ie.text);ue(c.text,Me,Ke?fa:et),ue(c.text,je,nt?fa:et);const ct=Ie.text.isHidden();[le.rightJustifiedTextSymbolIndex,le.centerJustifiedTextSymbolIndex,le.leftJustifiedTextSymbolIndex].forEach(bt=>{bt>=0&&(c.text.placedSymbolArray.get(bt).hidden=ct||Ke?1:0)}),le.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(le.verticalPlacedTextSymbolIndex).hidden=ct||nt?1:0);const Rt=this.variableOffsets[le.crossTileID];Rt&&this.markUsedJustification(c,Rt.anchor,le,Fe);const _n=this.placedOrientations[le.crossTileID];_n&&(this.markUsedJustification(c,"left",le,_n),this.markUsedOrientation(c,_n,le))}if(Be){const et=Kn(Ie.icon),ct=!(re&&le.verticalPlacedIconSymbolIndex&&Ke);le.placedIconSymbolIndex>=0&&(ue(c.icon,le.numIconVertices,ct?et:fa),c.icon.placedSymbolArray.get(le.placedIconSymbolIndex).hidden=Ie.icon.isHidden()),le.verticalPlacedIconSymbolIndex>=0&&(ue(c.icon,le.numVerticalIconVertices,ct?fa:et),c.icon.placedSymbolArray.get(le.verticalPlacedIconSymbolIndex).hidden=Ie.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const et=c.collisionArrays[pe];if(et){let ct=new a.P(0,0);if(et.textBox||et.verticalTextBox){let _n=!0;if(G){const bt=this.variableOffsets[ve];bt?(ct=Zt(bt.anchor,bt.width,bt.height,bt.textOffset,bt.textBoxScale),Y&&ct._rotate(K?this.transform.angle:-this.transform.angle)):_n=!1}et.textBox&&cn(c.textCollisionBox.collisionVertexArray,Ie.text.placed,!_n||Ke,ct.x,ct.y),et.verticalTextBox&&cn(c.textCollisionBox.collisionVertexArray,Ie.text.placed,!_n||nt,ct.x,ct.y)}const Rt=!!(!nt&&et.verticalIconBox);et.iconBox&&cn(c.iconCollisionBox.collisionVertexArray,Ie.icon.placed,Rt,re?ct.x:0,re?ct.y:0),et.verticalIconBox&&cn(c.iconCollisionBox.collisionVertexArray,Ie.icon.placed,!Rt,re?ct.x:0,re?ct.y:0)}}}if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);if(c.bucketInstanceId in this.collisionCircleArrays){const pe=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=pe.invProjMatrix,c.placementViewportMatrix=pe.viewportMatrix,c.collisionCircleArray=pe.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const v=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*v>c}setStale(){this.stale=!0}}function cn(w,c,p,v,_){w.emplaceBack(c?1:0,p?1:0,v||0,_||0),w.emplaceBack(c?1:0,p?1:0,v||0,_||0),w.emplaceBack(c?1:0,p?1:0,v||0,_||0),w.emplaceBack(c?1:0,p?1:0,v||0,_||0)}const jn=Math.pow(2,25),qn=Math.pow(2,24),An=Math.pow(2,17),Cn=Math.pow(2,16),Mi=Math.pow(2,9),or=Math.pow(2,8),Qt=Math.pow(2,1);function Kn(w){if(w.opacity===0&&!w.placed)return 0;if(w.opacity===1&&w.placed)return 4294967295;const c=w.placed?1:0,p=Math.floor(127*w.opacity);return p*jn+c*qn+p*An+c*Cn+p*Mi+c*or+p*Qt+c}const fa=0;class Ax{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,v,_,C){const j=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(j,_,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,C())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,j.sort((z,U)=>z.sortKey-U.sortKey));this._currentPartIndex<j.length;)if(p.placeLayerBucketPart(j[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,C())return!0;return!1}}class Eu{constructor(c,p,v,_,C,j,z,U){this.placement=new Gt(c,p,j,z,U),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=C,this._done=!1}isDone(){return this._done}continuePlacement(c,p,v){const _=a.h.now(),C=()=>!this._forceFullPlacement&&a.h.now()-_>2;for(;this._currentPlacementIndex>=0;){const j=p[c[this._currentPlacementIndex]],z=this.placement.collisionIndex.transform.zoom;if(j.type==="symbol"&&(!j.minzoom||j.minzoom<=z)&&(!j.maxzoom||j.maxzoom>z)){if(this._inProgressLayer||(this._inProgressLayer=new Ax(j)),this._inProgressLayer.continuePlacement(v[j.source],this.placement,this._showCollisionBoxes,j,C))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Ou=512/a.N/2;class ZC{constructor(c,p,v){this.tileID=c,this.bucketInstanceId=v,this._symbolsByKey={};const _=new Map;for(let C=0;C<p.length;C++){const j=p.get(C),z=j.key,U=_.get(z);U?U.push(j):_.set(z,[j])}for(const[C,j]of _){const z={positions:j.map(U=>({x:Math.floor(U.anchorX*Ou),y:Math.floor(U.anchorY*Ou)})),crossTileIDs:j.map(U=>U.crossTileID)};if(z.positions.length>128){const U=new a.av(z.positions.length,16,Uint16Array);for(const{x:G,y:Y}of z.positions)U.add(G,Y);U.finish(),delete z.positions,z.index=U}this._symbolsByKey[C]=z}}getScaledCoordinates(c,p){const{x:v,y:_,z:C}=this.tileID.canonical,{x:j,y:z,z:U}=p.canonical,G=Ou/Math.pow(2,U-C),Y=(z*a.N+c.anchorY)*G,K=_*a.N*Ou;return{x:Math.floor((j*a.N+c.anchorX)*G-v*a.N*Ou),y:Math.floor(Y-K)}}findMatches(c,p,v){const _=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let C=0;C<c.length;C++){const j=c.get(C);if(j.crossTileID)continue;const z=this._symbolsByKey[j.key];if(!z)continue;const U=this.getScaledCoordinates(j,p);if(z.index){const G=z.index.range(U.x-_,U.y-_,U.x+_,U.y+_).sort();for(const Y of G){const K=z.crossTileIDs[Y];if(!v[K]){v[K]=!0,j.crossTileID=K;break}}}else if(z.positions)for(let G=0;G<z.positions.length;G++){const Y=z.positions[G],K=z.crossTileIDs[G];if(Math.abs(Y.x-U.x)<=_&&Math.abs(Y.y-U.y)<=_&&!v[K]){v[K]=!0,j.crossTileID=K;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:c})=>c)}}class Jn{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Yg{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const v in this.indexes){const _=this.indexes[v],C={};for(const j in _){const z=_[j];z.tileID=z.tileID.unwrapTo(z.tileID.wrap+p),C[z.tileID.key]=z}this.indexes[v]=C}this.lng=c}addBucket(c,p,v){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let C=0;C<p.symbolInstances.length;C++)p.symbolInstances.get(C).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const _=this.usedCrossTileIDs[c.overscaledZ];for(const C in this.indexes){const j=this.indexes[C];if(Number(C)>c.overscaledZ)for(const z in j){const U=j[z];U.tileID.isChildOf(c)&&U.findMatches(p.symbolInstances,c,_)}else{const z=j[c.scaledTo(Number(C)).key];z&&z.findMatches(p.symbolInstances,c,_)}}for(let C=0;C<p.symbolInstances.length;C++){const j=p.symbolInstances.get(C);j.crossTileID||(j.crossTileID=v.generate(),_[j.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new ZC(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const v of p.getCrossTileIDsLists())for(const _ of v)delete this.usedCrossTileIDs[c][_]}removeStaleBuckets(c){let p=!1;for(const v in this.indexes){const _=this.indexes[v];for(const C in _)c[_[C].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,_[C]),delete _[C],p=!0)}return p}}class Ih{constructor(){this.layerIndexes={},this.crossTileIDs=new Jn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,v){let _=this.layerIndexes[c.id];_===void 0&&(_=this.layerIndexes[c.id]=new Yg);let C=!1;const j={};_.handleWrapJump(v);for(const z of p){const U=z.getBucket(c);U&&c.id===U.layerIds[0]&&(U.bucketInstanceId||(U.bucketInstanceId=++this.maxBucketInstanceId),_.addBucket(z.tileID,U,this.crossTileIDs)&&(C=!0),j[U.bucketInstanceId]=!0)}return _.removeStaleBuckets(j)&&(C=!0),C}pruneUnusedLayers(c){const p={};c.forEach(v=>{p[v]=!0});for(const v in this.layerIndexes)p[v]||delete this.layerIndexes[v]}}const Ki=(w,c)=>a.x(w,c&&c.filter(p=>p.identifier!=="source.canvas")),Wo=a.F(a.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),XC=a.F(a.ax,["setCenter","setZoom","setBearing","setPitch"]),ha=a.aw();class ji extends a.E{constructor(c,p={}){super(),this.map=c,this.dispatcher=new ft(Dn(),this,c._getMapId()),this.imageManager=new fe,this.imageManager.setEventedParent(this),this.glyphManager=new Oe(c._requestManager,p.localIdeographFontFamily),this.lineAtlas=new Ue(256,512),this.crossTileSymbolIndex=new Ih,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.az());const v=this;this._rtlTextPluginCallback=ji.registerForPluginStateChange(_=>{v.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(C,j)=>{if(a.aA(C),j&&j.every(z=>z))for(const z in v.sourceCaches){const U=v.sourceCaches[z].getSource().type;U!=="vector"&&U!=="geojson"||v.sourceCaches[z].reload()}})}),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const C=this.sourceCaches[_.sourceId];if(!C)return;const j=C.getSource();if(j&&j.vectorLayerIds)for(const z in this._layers){const U=this._layers[z];U.source===j.id&&this._validateLayer(U)}})}loadURL(c,p={},v){this.fire(new a.k("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const _=this.map._requestManager.transformRequest(c,A.Style);this._request=a.f(_,(C,j)=>{this._request=null,C?this.fire(new a.j(C)):j&&this._load(j,p,v)})}loadJSON(c,p={},v){this.fire(new a.k("dataloading",{dataType:"style"})),this._request=a.h.frame(()=>{this._request=null,p.validate=p.validate!==!1,this._load(c,p,v)})}loadEmpty(){this.fire(new a.k("dataloading",{dataType:"style"})),this._load(ha,{validate:!1})}_load(c,p,v){var _;const C=p.transformStyle?p.transformStyle(v,c):c;if(!p.validate||!Ki(this,a.y(C))){this._loaded=!0,this.stylesheet=C;for(const j in C.sources)this.addSource(j,C.sources[j],{validate:!1});C.sprite?this._loadSprite(C.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(C.glyphs),this._createLayers(),this.light=new $e(this.stylesheet.light),this.map.setTerrain((_=this.stylesheet.terrain)!==null&&_!==void 0?_:null),this.fire(new a.k("data",{dataType:"style"})),this.fire(new a.k("style.load"))}}_createLayers(){const c=a.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",c),this._order=c.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of c){const v=a.aC(p);v.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=v}}_loadSprite(c,p=!1,v=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(_,C,j,z){const U=q(_),G=U.length,Y=j>1?"@2x":"",K={},re={},de={};for(const{id:ue,url:pe}of U){const le=C.transformRequest(C.normalizeSpriteURL(pe,Y,".json"),A.SpriteJSON),Me=`${ue}_${le.url}`;K[Me]=a.f(le,(Ie,Be)=>{delete K[Me],re[ue]=Be,X(z,re,de,Ie,G)});const je=C.transformRequest(C.normalizeSpriteURL(pe,Y,".png"),A.SpriteImage),ve=`${ue}_${je.url}`;K[ve]=O.getImage(je,(Ie,Be)=>{delete K[ve],de[ue]=Be,X(z,re,de,Ie,G)})}return{cancel(){for(const ue of Object.values(K))ue.cancel()}}}(c,this.map._requestManager,this.map.getPixelRatio(),(_,C)=>{if(this._spriteRequest=null,_)this.fire(new a.j(_));else if(C)for(const j in C){this._spritesImagesIds[j]=[];const z=this._spritesImagesIds[j]?this._spritesImagesIds[j].filter(U=>!(U in C)):[];for(const U of z)this.imageManager.removeImage(U),this._changedImages[U]=!0;for(const U in C[j]){const G=j==="default"?U:`${j}:${U}`;this._spritesImagesIds[j].push(G),G in this.imageManager.images?this.imageManager.updateImage(G,C[j][U],!1):this.imageManager.addImage(G,C[j][U]),p&&(this._changedImages[G]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"})),v&&v(_)})}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}_validateLayer(c){const p=this.sourceCaches[c.source];if(!p)return;const v=c.sourceLayer;if(!v)return;const _=p.getSource();(_.type==="geojson"||_.vectorLayerIds&&_.vectorLayerIds.indexOf(v)===-1)&&this.fire(new a.j(new Error(`Source layer "${v}" does not exist on source "${_.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c){const p=this._serializedAllLayers();if(!c||c.length===0)return Object.values(p);const v=[];for(const _ of c)p[_]&&v.push(p[_]);return v}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const p=Object.keys(this._layers);for(const v of p){const _=this._layers[v];_.type!=="custom"&&(c[v]=_.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const _=Object.keys(this._updatedLayers),C=Object.keys(this._removedLayers);(_.length||C.length)&&this._updateWorkerLayers(_,C);for(const j in this._updatedSources){const z=this._updatedSources[j];if(z==="reload")this._reloadSource(j);else{if(z!=="clear")throw new Error(`Invalid action ${z}`);this._clearSource(j)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const j in this._updatedPaintProps)this._layers[j].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}const v={};for(const _ in this.sourceCaches){const C=this.sourceCaches[_];v[_]=C.used,C.used=!1}for(const _ of this._order){const C=this._layers[_];C.recalculate(c,this._availableImages),!C.isHidden(c.zoom)&&C.source&&(this.sourceCaches[C.source].used=!0)}for(const _ in v){const C=this.sourceCaches[_];v[_]!==C.used&&C.fire(new a.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:_}))}this.light.recalculate(c),this.z=c.zoom,p&&this.fire(new a.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,p={}){this._checkLoaded();const v=this.serialize();if(c=p.transformStyle?p.transformStyle(v,c):c,Ki(this,a.y(c)))return!1;(c=a.aD(c)).layers=a.aB(c.layers);const _=a.aE(v,c).filter(j=>!(j.command in XC));if(_.length===0)return!1;const C=_.filter(j=>!(j.command in Wo));if(C.length>0)throw new Error(`Unimplemented: ${C.map(j=>j.command).join(", ")}.`);for(const j of _)j.command!=="setTransition"&&this[j.command].apply(this,j.args);return this.stylesheet=c,this._serializedLayers=null,!0}addImage(c,p){if(this.getImage(c))return this.fire(new a.j(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,p),this._afterImageUpdated(c)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new a.j(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,p,v={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(a.y.source,`sources.${c}`,p,null,v))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const _=this.sourceCaches[c]=new an(c,p,this.dispatcher);_.style=this,_.setEventedParent(this,()=>({isSourceLoaded:_.loaded(),source:_.serialize(),sourceId:c})),_.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===c)return this.fire(new a.j(new Error(`Source "${c}" cannot be removed while layer "${v}" is using it.`)));const p=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],p.fire(new a.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,p){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const v=this.sourceCaches[c].getSource();if(v.type!=="geojson")throw new Error(`geojsonSource.type is ${v.type}, which is !== 'geojson`);v.setData(p),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,p,v={}){this._checkLoaded();const _=c.id;if(this.getLayer(_))return void this.fire(new a.j(new Error(`Layer "${_}" already exists on this map.`)));let C;if(c.type==="custom"){if(Ki(this,a.aF(c)))return;C=a.aC(c)}else{if("source"in c&&typeof c.source=="object"&&(this.addSource(_,c.source),c=a.aD(c),c=a.e(c,{source:_})),this._validate(a.y.layer,`layers.${_}`,c,{arrayIndex:-1},v))return;C=a.aC(c),this._validateLayer(C),C.setEventedParent(this,{layer:{id:_}})}const j=p?this._order.indexOf(p):this._order.length;if(p&&j===-1)this.fire(new a.j(new Error(`Cannot add layer "${_}" before non-existing layer "${p}".`)));else{if(this._order.splice(j,0,_),this._layerOrderChanged=!0,this._layers[_]=C,this._removedLayers[_]&&C.source&&C.type!=="custom"){const z=this._removedLayers[_];delete this._removedLayers[_],z.type!==C.type?this._updatedSources[C.source]="clear":(this._updatedSources[C.source]="reload",this.sourceCaches[C.source].pause())}this._updateLayer(C),C.onAdd&&C.onAdd(this.map)}}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new a.j(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const v=this._order.indexOf(c);this._order.splice(v,1);const _=p?this._order.indexOf(p):this._order.length;p&&_===-1?this.fire(new a.j(new Error(`Cannot move layer "${c}" before non-existing layer "${p}".`))):(this._order.splice(_,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new a.j(new Error(`Cannot remove non-existing layer "${c}".`)));p.setEventedParent(null);const v=this._order.indexOf(c);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map)}getLayer(c){return this._layers[c]}getLayersOrder(){return[...this._order]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,p,v){this._checkLoaded();const _=this.getLayer(c);_?_.minzoom===p&&_.maxzoom===v||(p!=null&&(_.minzoom=p),v!=null&&(_.maxzoom=v),this._updateLayer(_)):this.fire(new a.j(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,p,v={}){this._checkLoaded();const _=this.getLayer(c);if(_){if(!a.aG(_.filter,p))return p==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(a.y.filter,`layers.${_.id}.filter`,p,null,v)||(_.filter=a.aD(p),this._updateLayer(_)))}else this.fire(new a.j(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return a.aD(this.getLayer(c).filter)}setLayoutProperty(c,p,v,_={}){this._checkLoaded();const C=this.getLayer(c);C?a.aG(C.getLayoutProperty(p),v)||(C.setLayoutProperty(p,v,_),this._updateLayer(C)):this.fire(new a.j(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,p){const v=this.getLayer(c);if(v)return v.getLayoutProperty(p);this.fire(new a.j(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,p,v,_={}){this._checkLoaded();const C=this.getLayer(c);C?a.aG(C.getPaintProperty(p),v)||(C.setPaintProperty(p,v,_)&&this._updateLayer(C),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new a.j(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,p){return this.getLayer(c).getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const v=c.source,_=c.sourceLayer,C=this.sourceCaches[v];if(C===void 0)return void this.fire(new a.j(new Error(`The source '${v}' does not exist in the map's style.`)));const j=C.getSource().type;j==="geojson"&&_?this.fire(new a.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):j!=="vector"||_?(c.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),C.setFeatureState(_,c.id,p)):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,p){this._checkLoaded();const v=c.source,_=this.sourceCaches[v];if(_===void 0)return void this.fire(new a.j(new Error(`The source '${v}' does not exist in the map's style.`)));const C=_.getSource().type,j=C==="vector"?c.sourceLayer:void 0;C!=="vector"||j?p&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new a.j(new Error("A feature id is required to remove its specific state property."))):_.removeFeatureState(j,c.id,p):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const p=c.source,v=c.sourceLayer,_=this.sourceCaches[p];if(_!==void 0)return _.getSource().type!=="vector"||v?(c.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),_.getFeatureState(v,c.id)):void this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.j(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=a.aH(this.sourceCaches,C=>C.serialize()),p=this._serializeByIds(this._order),v=this.map.getTerrain()||void 0,_=this.stylesheet;return a.aI({version:_.version,name:_.name,metadata:_.metadata,light:_.light,center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,sprite:_.sprite,glyphs:_.glyphs,transition:_.transition,sources:c,layers:p,terrain:v},C=>C!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const p=j=>this._layers[j].type==="fill-extrusion",v={},_=[];for(let j=this._order.length-1;j>=0;j--){const z=this._order[j];if(p(z)){v[z]=j;for(const U of c){const G=U[z];if(G)for(const Y of G)_.push(Y)}}}_.sort((j,z)=>z.intersectionZ-j.intersectionZ);const C=[];for(let j=this._order.length-1;j>=0;j--){const z=this._order[j];if(p(z))for(let U=_.length-1;U>=0;U--){const G=_[U].feature;if(v[G.layer.id]<j)break;C.push(G),_.pop()}else for(const U of c){const G=U[z];if(G)for(const Y of G)C.push(Y.feature)}}return C}queryRenderedFeatures(c,p,v){p&&p.filter&&this._validate(a.y.filter,"queryRenderedFeatures.filter",p.filter,null,p);const _={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.j(new Error("parameters.layers must be an Array."))),[];for(const z of p.layers){const U=this._layers[z];if(!U)return this.fire(new a.j(new Error(`The layer '${z}' does not exist in the map's style and cannot be queried for features.`))),[];_[U.source]=!0}}const C=[];p.availableImages=this._availableImages;const j=this._serializedAllLayers();for(const z in this.sourceCaches)p.layers&&!_[z]||C.push(gn(this.sourceCaches[z],this._layers,j,c,p,v));return this.placement&&C.push(function(z,U,G,Y,K,re,de){const ue={},pe=re.queryRenderedSymbols(Y),le=[];for(const Me of Object.keys(pe).map(Number))le.push(de[Me]);le.sort(bn);for(const Me of le){const je=Me.featureIndex.lookupSymbolFeatures(pe[Me.bucketInstanceId],U,Me.bucketIndex,Me.sourceLayerIndex,K.filter,K.layers,K.availableImages,z);for(const ve in je){const Ie=ue[ve]=ue[ve]||[],Be=je[ve];Be.sort((Fe,Ke)=>{const nt=Me.featureSortOrder;if(nt){const et=nt.indexOf(Fe.featureIndex);return nt.indexOf(Ke.featureIndex)-et}return Ke.featureIndex-Fe.featureIndex});for(const Fe of Be)Ie.push(Fe)}}for(const Me in ue)ue[Me].forEach(je=>{const ve=je.feature,Ie=G[z[Me].source].getFeatureState(ve.layer["source-layer"],ve.id);ve.source=ve.layer.source,ve.layer["source-layer"]&&(ve.sourceLayer=ve.layer["source-layer"]),ve.state=Ie});return ue}(this._layers,j,this.sourceCaches,c,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(C)}querySourceFeatures(c,p){p&&p.filter&&this._validate(a.y.filter,"querySourceFeatures.filter",p.filter,null,p);const v=this.sourceCaches[c];return v?function(_,C){const j=_.getRenderableIds().map(G=>_.getTileByID(G)),z=[],U={};for(let G=0;G<j.length;G++){const Y=j[G],K=Y.tileID.canonical.key;U[K]||(U[K]=!0,Y.querySourceFeatures(z,C))}return z}(v,p):[]}addSourceType(c,p,v){return Tt(c)?v(new Error(`A source type called "${c}" already exists.`)):(((_,C)=>{Pt[_]=C})(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},v):v(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const v=this.light.getLight();let _=!1;for(const j in c)if(!a.aG(c[j],v[j])){_=!0;break}if(!_)return;const C={now:a.h.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,p),this.light.updateTransitions(C)}_validate(c,p,v,_,C={}){return(!C||C.validate!==!1)&&Ki(this,c.call(a.y,a.e({key:p,style:this.serialize(),value:v,styleSpec:a.v},_)))}_remove(c=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const v=this.sourceCaches[p];v.setEventedParent(null),v.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(c)}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const p in this.sourceCaches)this.sourceCaches[p].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,p,v,_,C=!1){let j=!1,z=!1;const U={};for(const G of this._order){const Y=this._layers[G];if(Y.type!=="symbol")continue;if(!U[Y.source]){const re=this.sourceCaches[Y.source];U[Y.source]=re.getRenderableIds(!0).map(de=>re.getTileByID(de)).sort((de,ue)=>ue.tileID.overscaledZ-de.tileID.overscaledZ||(de.tileID.isLessThan(ue.tileID)?-1:1))}const K=this.crossTileSymbolIndex.addLayer(Y,U[Y.source],c.center.lng);j=j||K}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((C=C||this._layerOrderChanged||v===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.h.now(),c.zoom))&&(this.pauseablePlacement=new Eu(c,this.map.terrain,this._order,C,p,v,_,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,U),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.h.now()),z=!0),j&&this.pauseablePlacement.placement.setStale()),z||j)for(const G of this._order){const Y=this._layers[G];Y.type==="symbol"&&this.placement.updateLayerOpacities(Y,U[Y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.h.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,v){this.imageManager.getImages(p.icons,v),this._updateTilesForChangedImages();const _=this.sourceCaches[p.source];_&&_.setDependencies(p.tileID.key,p.type,p.icons)}getGlyphs(c,p,v){this.glyphManager.getGlyphs(p.stacks,v);const _=this.sourceCaches[p.source];_&&_.setDependencies(p.tileID.key,p.type,[""])}getResource(c,p,v){return a.m(p,v)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,p={}){this._checkLoaded(),c&&this._validate(a.y.glyphs,"glyphs",c,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}addSprite(c,p,v={},_){this._checkLoaded();const C=[{id:c,url:p}],j=[...q(this.stylesheet.sprite),...C];this._validate(a.y.sprite,"sprite",j,null,v)||(this.stylesheet.sprite=j,this._loadSprite(C,!0,_))}removeSprite(c){this._checkLoaded();const p=q(this.stylesheet.sprite);if(p.find(v=>v.id===c)){if(this._spritesImagesIds[c])for(const v of this._spritesImagesIds[c])this.imageManager.removeImage(v),this._changedImages[v]=!0;p.splice(p.findIndex(v=>v.id===c),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}else this.fire(new a.j(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return q(this.stylesheet.sprite)}setSprite(c,p={},v){this._checkLoaded(),c&&this._validate(a.y.sprite,"sprite",c,null,p)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,v):(this._unloadSprite(),v&&v(null)))}}ji.registerForPluginStateChange=a.aK;var $h=a.Q([{name:"a_pos",type:"Int16",components:2}]),Mu="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Mr={prelude:Bn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Bn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Bn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Bn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Bn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Bn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Bn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Bn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Bn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Bn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Bn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Bn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Bn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Bn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Bn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Bn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Bn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Bn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Bn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Bn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Bn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Bn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Bn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Bn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Bn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Bn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Bn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Mu),terrainDepth:Bn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Mu),terrainCoords:Bn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Mu)};function Bn(w,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=c.match(/attribute ([\w]+) ([\w]+)/g),_=w.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),j=C?C.concat(_):_,z={};return{fragmentSource:w=w.replace(p,(U,G,Y,K,re)=>(z[re]=!0,G==="define"?`
#ifndef HAS_UNIFORM_u_${re}
varying ${Y} ${K} ${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:`
#ifdef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = u_${re};
#endif
`)),vertexSource:c=c.replace(p,(U,G,Y,K,re)=>{const de=K==="float"?"vec2":"vec4",ue=re.match(/color/)?"color":de;return z[re]?G==="define"?`
#ifndef HAS_UNIFORM_u_${re}
uniform lowp float u_${re}_t;
attribute ${Y} ${de} a_${re};
varying ${Y} ${K} ${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:ue==="vec4"?`
#ifndef HAS_UNIFORM_u_${re}
    ${re} = a_${re};
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:`
#ifndef HAS_UNIFORM_u_${re}
    ${re} = unpack_mix_${ue}(a_${re}, u_${re}_t);
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:G==="define"?`
#ifndef HAS_UNIFORM_u_${re}
uniform lowp float u_${re}_t;
attribute ${Y} ${de} a_${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:ue==="vec4"?`
#ifndef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = a_${re};
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:`
#ifndef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = unpack_mix_${ue}(a_${re}, u_${re}_t);
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`}),staticAttributes:v,staticUniforms:j}}class vc{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,p,v,_,C,j,z,U,G){this.context=c;let Y=this.boundPaintVertexBuffers.length!==_.length;for(let K=0;!Y&&K<_.length;K++)this.boundPaintVertexBuffers[K]!==_[K]&&(Y=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==v||Y||this.boundIndexBuffer!==C||this.boundVertexOffset!==j||this.boundDynamicVertexBuffer!==z||this.boundDynamicVertexBuffer2!==U||this.boundDynamicVertexBuffer3!==G?this.freshBind(p,v,_,C,j,z,U,G):(c.bindVertexArray.set(this.vao),z&&z.bind(),C&&C.dynamicDraw&&C.bind(),U&&U.bind(),G&&G.bind())}freshBind(c,p,v,_,C,j,z,U){const G=c.numAttributes,Y=this.context,K=Y.gl;this.vao&&this.destroy(),this.vao=Y.createVertexArray(),Y.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=_,this.boundVertexOffset=C,this.boundDynamicVertexBuffer=j,this.boundDynamicVertexBuffer2=z,this.boundDynamicVertexBuffer3=U,p.enableAttributes(K,c);for(const re of v)re.enableAttributes(K,c);j&&j.enableAttributes(K,c),z&&z.enableAttributes(K,c),U&&U.enableAttributes(K,c),p.bind(),p.setVertexAttribPointers(K,c,C);for(const re of v)re.bind(),re.setVertexAttribPointers(K,c,C);j&&(j.bind(),j.setVertexAttribPointers(K,c,C)),_&&_.bind(),z&&(z.bind(),z.setVertexAttribPointers(K,c,C)),U&&(U.bind(),U.setVertexAttribPointers(K,c,C)),Y.currentNumAttributes=G}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function jr(w){const c=[];for(let p=0;p<w.length;p++){if(w[p]===null)continue;const v=w[p].split(" ");c.push(v.pop())}return c}class Rh{constructor(c,p,v,_,C,j){const z=c.gl;this.program=z.createProgram();const U=jr(p.staticAttributes),G=v?v.getBinderAttributes():[],Y=U.concat(G),K=Mr.prelude.staticUniforms?jr(Mr.prelude.staticUniforms):[],re=p.staticUniforms?jr(p.staticUniforms):[],de=v?v.getBinderUniforms():[],ue=K.concat(re).concat(de),pe=[];for(const Fe of ue)pe.indexOf(Fe)<0&&pe.push(Fe);const le=v?v.defines():[];C&&le.push("#define OVERDRAW_INSPECTOR;"),j&&le.push("#define TERRAIN3D;");const Me=le.concat(Mr.prelude.fragmentSource,p.fragmentSource).join(`
`),je=le.concat(Mr.prelude.vertexSource,p.vertexSource).join(`
`),ve=z.createShader(z.FRAGMENT_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);if(z.shaderSource(ve,Me),z.compileShader(ve),!z.getShaderParameter(ve,z.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${z.getShaderInfoLog(ve)}`);z.attachShader(this.program,ve);const Ie=z.createShader(z.VERTEX_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);if(z.shaderSource(Ie,je),z.compileShader(Ie),!z.getShaderParameter(Ie,z.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${z.getShaderInfoLog(Ie)}`);z.attachShader(this.program,Ie),this.attributes={};const Be={};this.numAttributes=Y.length;for(let Fe=0;Fe<this.numAttributes;Fe++)Y[Fe]&&(z.bindAttribLocation(this.program,Fe,Y[Fe]),this.attributes[Y[Fe]]=Fe);if(z.linkProgram(this.program),!z.getProgramParameter(this.program,z.LINK_STATUS))throw new Error(`Program failed to link: ${z.getProgramInfoLog(this.program)}`);z.deleteShader(Ie),z.deleteShader(ve);for(let Fe=0;Fe<pe.length;Fe++){const Ke=pe[Fe];if(Ke&&!Be[Ke]){const nt=z.getUniformLocation(this.program,Ke);nt&&(Be[Ke]=nt)}}this.fixedUniforms=_(c,Be),this.terrainUniforms=((Fe,Ke)=>({u_depth:new a.aL(Fe,Ke.u_depth),u_terrain:new a.aL(Fe,Ke.u_terrain),u_terrain_dim:new a.aM(Fe,Ke.u_terrain_dim),u_terrain_matrix:new a.aN(Fe,Ke.u_terrain_matrix),u_terrain_unpack:new a.aO(Fe,Ke.u_terrain_unpack),u_terrain_exaggeration:new a.aM(Fe,Ke.u_terrain_exaggeration)}))(c,Be),this.binderUniforms=v?v.getUniforms(c,Be):[]}draw(c,p,v,_,C,j,z,U,G,Y,K,re,de,ue,pe,le,Me,je){const ve=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(v),c.setStencilMode(_),c.setColorMode(C),c.setCullFace(j),U){c.activeTexture.set(ve.TEXTURE2),ve.bindTexture(ve.TEXTURE_2D,U.depthTexture),c.activeTexture.set(ve.TEXTURE3),ve.bindTexture(ve.TEXTURE_2D,U.texture);for(const Be in this.terrainUniforms)this.terrainUniforms[Be].set(U[Be])}for(const Be in this.fixedUniforms)this.fixedUniforms[Be].set(z[Be]);pe&&pe.setUniforms(c,this.binderUniforms,de,{zoom:ue});let Ie=0;switch(p){case ve.LINES:Ie=2;break;case ve.TRIANGLES:Ie=3;break;case ve.LINE_STRIP:Ie=1}for(const Be of re.get()){const Fe=Be.vaos||(Be.vaos={});(Fe[G]||(Fe[G]=new vc)).bind(c,this,Y,pe?pe.getPaintVertexBuffers():[],K,Be.vertexOffset,le,Me,je),ve.drawElements(p,Be.primitiveLength*Ie,ve.UNSIGNED_SHORT,Be.primitiveOffset*Ie*2)}}}function pa(w,c,p){const v=1/Pe(p,1,c.transform.tileZoom),_=Math.pow(2,p.tileID.overscaledZ),C=p.tileSize*Math.pow(2,c.transform.tileZoom)/_,j=C*(p.tileID.canonical.x+p.tileID.wrap*_),z=C*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[v,w.fromScale,w.toScale],u_fade:w.t,u_pixel_coord_upper:[j>>16,z>>16],u_pixel_coord_lower:[65535&j,65535&z]}}const Kg=(w,c,p,v)=>{const _=c.style.light,C=_.properties.get("position"),j=[C.x,C.y,C.z],z=function(){var G=new a.A(9);return a.A!=Float32Array&&(G[1]=0,G[2]=0,G[3]=0,G[5]=0,G[6]=0,G[7]=0),G[0]=1,G[4]=1,G[8]=1,G}();_.properties.get("anchor")==="viewport"&&function(G,Y){var K=Math.sin(Y),re=Math.cos(Y);G[0]=re,G[1]=K,G[2]=0,G[3]=-K,G[4]=re,G[5]=0,G[6]=0,G[7]=0,G[8]=1}(z,-c.transform.angle),function(G,Y,K){var re=Y[0],de=Y[1],ue=Y[2];G[0]=re*K[0]+de*K[3]+ue*K[6],G[1]=re*K[1]+de*K[4]+ue*K[7],G[2]=re*K[2]+de*K[5]+ue*K[8]}(j,j,z);const U=_.properties.get("color");return{u_matrix:w,u_lightpos:j,u_lightintensity:_.properties.get("intensity"),u_lightcolor:[U.r,U.g,U.b],u_vertical_gradient:+p,u_opacity:v}},Rl=(w,c,p,v,_,C,j)=>a.e(Kg(w,c,p,v),pa(C,c,j),{u_height_factor:-Math.pow(2,_.overscaledZ)/j.tileSize/8}),Ix=w=>({u_matrix:w}),Zg=(w,c,p,v)=>a.e(Ix(w),pa(p,c,v)),Dh=(w,c)=>({u_matrix:w,u_world:c}),Lh=(w,c,p,v,_)=>a.e(Zg(w,c,p,v),{u_world:_}),Dl=(w,c,p,v)=>{const _=w.transform;let C,j;if(v.paint.get("circle-pitch-alignment")==="map"){const z=Pe(p,1,_.zoom);C=!0,j=[z,z]}else C=!1,j=_.pixelsToGLUnits;return{u_camera_to_center_distance:_.cameraToCenterDistance,u_scale_with_map:+(v.paint.get("circle-pitch-scale")==="map"),u_matrix:w.translatePosMatrix(c.posMatrix,p,v.paint.get("circle-translate"),v.paint.get("circle-translate-anchor")),u_pitch_with_map:+C,u_device_pixel_ratio:w.pixelRatio,u_extrude_scale:j}},Xg=(w,c,p)=>{const v=Pe(p,1,c.zoom),_=Math.pow(2,c.zoom-p.tileID.overscaledZ),C=p.tileID.overscaleFactor();return{u_matrix:w,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:v,u_extrude_scale:[c.pixelsToGLUnits[0]/(v*_),c.pixelsToGLUnits[1]/(v*_)],u_overscale_factor:C}},tf=(w,c,p=1)=>({u_matrix:w,u_color:c,u_overlay:0,u_overlay_scale:p}),$x=w=>({u_matrix:w}),JC=(w,c,p,v)=>({u_matrix:w,u_extrude_scale:Pe(c,1,p),u_intensity:v});function Jg(w,c){const p=Math.pow(2,c.canonical.z),v=c.canonical.y;return[new a.U(0,v/p).toLngLat().lat,new a.U(0,(v+1)/p).toLngLat().lat]}const Qg=(w,c,p,v)=>{const _=w.transform;return{u_matrix:jh(w,c,p,v),u_ratio:1/Pe(c,1,_.zoom),u_device_pixel_ratio:w.pixelRatio,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Rx=(w,c,p,v,_)=>a.e(Qg(w,c,p,_),{u_image:0,u_image_height:v}),QC=(w,c,p,v,_)=>{const C=w.transform,j=Lx(c,C);return{u_matrix:jh(w,c,p,_),u_texsize:c.imageAtlasTexture.size,u_ratio:1/Pe(c,1,C.zoom),u_device_pixel_ratio:w.pixelRatio,u_image:0,u_scale:[j,v.fromScale,v.toScale],u_fade:v.t,u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]]}},Dx=(w,c,p,v,_,C)=>{const j=w.lineAtlas,z=Lx(c,w.transform),U=p.layout.get("line-cap")==="round",G=j.getDash(v.from,U),Y=j.getDash(v.to,U),K=G.width*_.fromScale,re=Y.width*_.toScale;return a.e(Qg(w,c,p,C),{u_patternscale_a:[z/K,-G.height/2],u_patternscale_b:[z/re,-Y.height/2],u_sdfgamma:j.width/(256*Math.min(K,re)*w.pixelRatio)/2,u_image:0,u_tex_y_a:G.y,u_tex_y_b:Y.y,u_mix:_.t})};function Lx(w,c){return 1/Pe(w,1,c.tileZoom)}function jh(w,c,p,v){return w.translatePosMatrix(v?v.posMatrix:c.tileID.posMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const jx=(w,c,p,v,_)=>{return{u_matrix:w,u_tl_parent:c,u_scale_parent:p,u_buffer_scale:1,u_fade_t:v.mix,u_opacity:v.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(j=_.paint.get("raster-saturation"),j>0?1-1/(1.001-j):-j),u_contrast_factor:(C=_.paint.get("raster-contrast"),C>0?1/(1-C):1+C),u_spin_weights:Nx(_.paint.get("raster-hue-rotate"))};var C,j};function Nx(w){w*=Math.PI/180;const c=Math.sin(w),p=Math.cos(w);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const ey=(w,c,p,v,_,C,j,z,U,G)=>{const Y=_.transform;return{u_is_size_zoom_constant:+(w==="constant"||w==="source"),u_is_size_feature_constant:+(w==="constant"||w==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pitch:Y.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:Y.width/Y.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:C,u_label_plane_matrix:j,u_coord_matrix:z,u_is_text:+U,u_pitch_with_map:+v,u_texsize:G,u_texture:0}},ty=(w,c,p,v,_,C,j,z,U,G,Y)=>{const K=_.transform;return a.e(ey(w,c,p,v,_,C,j,z,U,G),{u_gamma_scale:v?Math.cos(K._pitch)*K.cameraToCenterDistance:1,u_device_pixel_ratio:_.pixelRatio,u_is_halo:+Y})},bc=(w,c,p,v,_,C,j,z,U,G)=>a.e(ty(w,c,p,v,_,C,j,z,!0,U,!0),{u_texsize_icon:G,u_texture_icon:1}),Nh=(w,c,p)=>({u_matrix:w,u_opacity:c,u_color:p}),ma=(w,c,p,v,_,C)=>a.e(function(j,z,U,G){const Y=U.imageManager.getPattern(j.from.toString()),K=U.imageManager.getPattern(j.to.toString()),{width:re,height:de}=U.imageManager.getPixelSize(),ue=Math.pow(2,G.tileID.overscaledZ),pe=G.tileSize*Math.pow(2,U.transform.tileZoom)/ue,le=pe*(G.tileID.canonical.x+G.tileID.wrap*ue),Me=pe*G.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Y.tl,u_pattern_br_a:Y.br,u_pattern_tl_b:K.tl,u_pattern_br_b:K.br,u_texsize:[re,de],u_mix:z.t,u_pattern_size_a:Y.displaySize,u_pattern_size_b:K.displaySize,u_scale_a:z.fromScale,u_scale_b:z.toScale,u_tile_units_to_pixels:1/Pe(G,1,U.transform.tileZoom),u_pixel_coord_upper:[le>>16,Me>>16],u_pixel_coord_lower:[65535&le,65535&Me]}}(v,C,p,_),{u_matrix:w,u_opacity:c}),zh={fillExtrusion:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_lightpos:new a.aP(w,c.u_lightpos),u_lightintensity:new a.aM(w,c.u_lightintensity),u_lightcolor:new a.aP(w,c.u_lightcolor),u_vertical_gradient:new a.aM(w,c.u_vertical_gradient),u_opacity:new a.aM(w,c.u_opacity)}),fillExtrusionPattern:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_lightpos:new a.aP(w,c.u_lightpos),u_lightintensity:new a.aM(w,c.u_lightintensity),u_lightcolor:new a.aP(w,c.u_lightcolor),u_vertical_gradient:new a.aM(w,c.u_vertical_gradient),u_height_factor:new a.aM(w,c.u_height_factor),u_image:new a.aL(w,c.u_image),u_texsize:new a.aQ(w,c.u_texsize),u_pixel_coord_upper:new a.aQ(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(w,c.u_pixel_coord_lower),u_scale:new a.aP(w,c.u_scale),u_fade:new a.aM(w,c.u_fade),u_opacity:new a.aM(w,c.u_opacity)}),fill:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix)}),fillPattern:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_image:new a.aL(w,c.u_image),u_texsize:new a.aQ(w,c.u_texsize),u_pixel_coord_upper:new a.aQ(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(w,c.u_pixel_coord_lower),u_scale:new a.aP(w,c.u_scale),u_fade:new a.aM(w,c.u_fade)}),fillOutline:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_world:new a.aQ(w,c.u_world)}),fillOutlinePattern:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_world:new a.aQ(w,c.u_world),u_image:new a.aL(w,c.u_image),u_texsize:new a.aQ(w,c.u_texsize),u_pixel_coord_upper:new a.aQ(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(w,c.u_pixel_coord_lower),u_scale:new a.aP(w,c.u_scale),u_fade:new a.aM(w,c.u_fade)}),circle:(w,c)=>({u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_scale_with_map:new a.aL(w,c.u_scale_with_map),u_pitch_with_map:new a.aL(w,c.u_pitch_with_map),u_extrude_scale:new a.aQ(w,c.u_extrude_scale),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_matrix:new a.aN(w,c.u_matrix)}),collisionBox:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_pixels_to_tile_units:new a.aM(w,c.u_pixels_to_tile_units),u_extrude_scale:new a.aQ(w,c.u_extrude_scale),u_overscale_factor:new a.aM(w,c.u_overscale_factor)}),collisionCircle:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_inv_matrix:new a.aN(w,c.u_inv_matrix),u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_viewport_size:new a.aQ(w,c.u_viewport_size)}),debug:(w,c)=>({u_color:new a.aR(w,c.u_color),u_matrix:new a.aN(w,c.u_matrix),u_overlay:new a.aL(w,c.u_overlay),u_overlay_scale:new a.aM(w,c.u_overlay_scale)}),clippingMask:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix)}),heatmap:(w,c)=>({u_extrude_scale:new a.aM(w,c.u_extrude_scale),u_intensity:new a.aM(w,c.u_intensity),u_matrix:new a.aN(w,c.u_matrix)}),heatmapTexture:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_world:new a.aQ(w,c.u_world),u_image:new a.aL(w,c.u_image),u_color_ramp:new a.aL(w,c.u_color_ramp),u_opacity:new a.aM(w,c.u_opacity)}),hillshade:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_image:new a.aL(w,c.u_image),u_latrange:new a.aQ(w,c.u_latrange),u_light:new a.aQ(w,c.u_light),u_shadow:new a.aR(w,c.u_shadow),u_highlight:new a.aR(w,c.u_highlight),u_accent:new a.aR(w,c.u_accent)}),hillshadePrepare:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_image:new a.aL(w,c.u_image),u_dimension:new a.aQ(w,c.u_dimension),u_zoom:new a.aM(w,c.u_zoom),u_unpack:new a.aO(w,c.u_unpack)}),line:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_ratio:new a.aM(w,c.u_ratio),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(w,c.u_units_to_pixels)}),lineGradient:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_ratio:new a.aM(w,c.u_ratio),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(w,c.u_units_to_pixels),u_image:new a.aL(w,c.u_image),u_image_height:new a.aM(w,c.u_image_height)}),linePattern:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_texsize:new a.aQ(w,c.u_texsize),u_ratio:new a.aM(w,c.u_ratio),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_image:new a.aL(w,c.u_image),u_units_to_pixels:new a.aQ(w,c.u_units_to_pixels),u_scale:new a.aP(w,c.u_scale),u_fade:new a.aM(w,c.u_fade)}),lineSDF:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_ratio:new a.aM(w,c.u_ratio),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(w,c.u_units_to_pixels),u_patternscale_a:new a.aQ(w,c.u_patternscale_a),u_patternscale_b:new a.aQ(w,c.u_patternscale_b),u_sdfgamma:new a.aM(w,c.u_sdfgamma),u_image:new a.aL(w,c.u_image),u_tex_y_a:new a.aM(w,c.u_tex_y_a),u_tex_y_b:new a.aM(w,c.u_tex_y_b),u_mix:new a.aM(w,c.u_mix)}),raster:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_tl_parent:new a.aQ(w,c.u_tl_parent),u_scale_parent:new a.aM(w,c.u_scale_parent),u_buffer_scale:new a.aM(w,c.u_buffer_scale),u_fade_t:new a.aM(w,c.u_fade_t),u_opacity:new a.aM(w,c.u_opacity),u_image0:new a.aL(w,c.u_image0),u_image1:new a.aL(w,c.u_image1),u_brightness_low:new a.aM(w,c.u_brightness_low),u_brightness_high:new a.aM(w,c.u_brightness_high),u_saturation_factor:new a.aM(w,c.u_saturation_factor),u_contrast_factor:new a.aM(w,c.u_contrast_factor),u_spin_weights:new a.aP(w,c.u_spin_weights)}),symbolIcon:(w,c)=>({u_is_size_zoom_constant:new a.aL(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(w,c.u_is_size_feature_constant),u_size_t:new a.aM(w,c.u_size_t),u_size:new a.aM(w,c.u_size),u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_pitch:new a.aM(w,c.u_pitch),u_rotate_symbol:new a.aL(w,c.u_rotate_symbol),u_aspect_ratio:new a.aM(w,c.u_aspect_ratio),u_fade_change:new a.aM(w,c.u_fade_change),u_matrix:new a.aN(w,c.u_matrix),u_label_plane_matrix:new a.aN(w,c.u_label_plane_matrix),u_coord_matrix:new a.aN(w,c.u_coord_matrix),u_is_text:new a.aL(w,c.u_is_text),u_pitch_with_map:new a.aL(w,c.u_pitch_with_map),u_texsize:new a.aQ(w,c.u_texsize),u_texture:new a.aL(w,c.u_texture)}),symbolSDF:(w,c)=>({u_is_size_zoom_constant:new a.aL(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(w,c.u_is_size_feature_constant),u_size_t:new a.aM(w,c.u_size_t),u_size:new a.aM(w,c.u_size),u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_pitch:new a.aM(w,c.u_pitch),u_rotate_symbol:new a.aL(w,c.u_rotate_symbol),u_aspect_ratio:new a.aM(w,c.u_aspect_ratio),u_fade_change:new a.aM(w,c.u_fade_change),u_matrix:new a.aN(w,c.u_matrix),u_label_plane_matrix:new a.aN(w,c.u_label_plane_matrix),u_coord_matrix:new a.aN(w,c.u_coord_matrix),u_is_text:new a.aL(w,c.u_is_text),u_pitch_with_map:new a.aL(w,c.u_pitch_with_map),u_texsize:new a.aQ(w,c.u_texsize),u_texture:new a.aL(w,c.u_texture),u_gamma_scale:new a.aM(w,c.u_gamma_scale),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_is_halo:new a.aL(w,c.u_is_halo)}),symbolTextAndIcon:(w,c)=>({u_is_size_zoom_constant:new a.aL(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(w,c.u_is_size_feature_constant),u_size_t:new a.aM(w,c.u_size_t),u_size:new a.aM(w,c.u_size),u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_pitch:new a.aM(w,c.u_pitch),u_rotate_symbol:new a.aL(w,c.u_rotate_symbol),u_aspect_ratio:new a.aM(w,c.u_aspect_ratio),u_fade_change:new a.aM(w,c.u_fade_change),u_matrix:new a.aN(w,c.u_matrix),u_label_plane_matrix:new a.aN(w,c.u_label_plane_matrix),u_coord_matrix:new a.aN(w,c.u_coord_matrix),u_is_text:new a.aL(w,c.u_is_text),u_pitch_with_map:new a.aL(w,c.u_pitch_with_map),u_texsize:new a.aQ(w,c.u_texsize),u_texsize_icon:new a.aQ(w,c.u_texsize_icon),u_texture:new a.aL(w,c.u_texture),u_texture_icon:new a.aL(w,c.u_texture_icon),u_gamma_scale:new a.aM(w,c.u_gamma_scale),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_is_halo:new a.aL(w,c.u_is_halo)}),background:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_opacity:new a.aM(w,c.u_opacity),u_color:new a.aR(w,c.u_color)}),backgroundPattern:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_opacity:new a.aM(w,c.u_opacity),u_image:new a.aL(w,c.u_image),u_pattern_tl_a:new a.aQ(w,c.u_pattern_tl_a),u_pattern_br_a:new a.aQ(w,c.u_pattern_br_a),u_pattern_tl_b:new a.aQ(w,c.u_pattern_tl_b),u_pattern_br_b:new a.aQ(w,c.u_pattern_br_b),u_texsize:new a.aQ(w,c.u_texsize),u_mix:new a.aM(w,c.u_mix),u_pattern_size_a:new a.aQ(w,c.u_pattern_size_a),u_pattern_size_b:new a.aQ(w,c.u_pattern_size_b),u_scale_a:new a.aM(w,c.u_scale_a),u_scale_b:new a.aM(w,c.u_scale_b),u_pixel_coord_upper:new a.aQ(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(w,c.u_pixel_coord_lower),u_tile_units_to_pixels:new a.aM(w,c.u_tile_units_to_pixels)}),terrain:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_texture:new a.aL(w,c.u_texture),u_ele_delta:new a.aM(w,c.u_ele_delta)}),terrainDepth:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_ele_delta:new a.aM(w,c.u_ele_delta)}),terrainCoords:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_texture:new a.aL(w,c.u_texture),u_terrain_coords_id:new a.aM(w,c.u_terrain_coords_id),u_ele_delta:new a.aM(w,c.u_ele_delta)})};class Bh{constructor(c,p,v){this.context=c;const _=c.gl;this.buffer=_.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),_.bufferData(_.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const nf={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Fh{constructor(c,p,v,_){this.length=p.length,this.attributes=v,this.itemSize=p.bytesPerElement,this.dynamicDraw=_,this.context=c;const C=c.gl;this.buffer=C.createBuffer(),c.bindVertexBuffer.set(this.buffer),C.bufferData(C.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let v=0;v<this.attributes.length;v++){const _=p.attributes[this.attributes[v].name];_!==void 0&&c.enableVertexAttribArray(_)}}setVertexAttribPointers(c,p,v){for(let _=0;_<this.attributes.length;_++){const C=this.attributes[_],j=p.attributes[C.name];j!==void 0&&c.vertexAttribPointer(j,C.components,c[nf[C.type]],!1,this.itemSize,C.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Au=new WeakMap;function Ll(w){var c;if(Au.has(w))return Au.get(w);{const p=(c=w.getParameter(w.VERSION))===null||c===void 0?void 0:c.startsWith("WebGL 2.0");return Au.set(w,p),p}}class In{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Uh extends In{getDefault(){return a.aT.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class qo extends In{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class Go extends In{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class ny extends In{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Vh extends In{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class Wh extends In{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class ry extends In{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class iy extends In{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class qh extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class oy extends In{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class ay extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class Gh extends In{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class zx extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class Bx extends In{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class Iu extends In{getDefault(){return a.aT.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class eT extends In{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class tT extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class nT extends In{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class rT extends In{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class iT extends In{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class oT extends In{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class sy extends In{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Hh extends In{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class ly extends In{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class cy extends In{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class $u extends In{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Fx extends In{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Ux extends In{getDefault(){return null}set(c){var p;if(c===this.current&&!this.dirty)return;const v=this.gl;Ll(v)?v.bindVertexArray(c):(p=v.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class uy extends In{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class xc extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class Vx extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class jl extends In{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class Ru extends jl{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class Wx extends jl{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class dy extends jl{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Fn{constructor(c,p,v,_,C){this.context=c,this.width=p,this.height=v;const j=c.gl,z=this.framebuffer=j.createFramebuffer();if(this.colorAttachment=new Ru(c,z),_)this.depthAttachment=C?new dy(c,z):new Wx(c,z);else if(C)throw new Error("Stencil cannot be setted without depth");if(j.checkFramebufferStatus(j.FRAMEBUFFER)!==j.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const v=this.depthAttachment.get();v&&c.deleteRenderbuffer(v)}c.deleteFramebuffer(this.framebuffer)}}class Ar{constructor(c,p,v){this.blendFunction=c,this.blendColor=p,this.mask=v}}Ar.Replace=[1,0],Ar.disabled=new Ar(Ar.Replace,a.aT.transparent,[!1,!1,!1,!1]),Ar.unblended=new Ar(Ar.Replace,a.aT.transparent,[!0,!0,!0,!0]),Ar.alphaBlended=new Ar([1,771],a.aT.transparent,[!0,!0,!0,!0]);class aT{constructor(c){var p,v;if(this.gl=c,this.clearColor=new Uh(this),this.clearDepth=new qo(this),this.clearStencil=new Go(this),this.colorMask=new ny(this),this.depthMask=new Vh(this),this.stencilMask=new Wh(this),this.stencilFunc=new ry(this),this.stencilOp=new iy(this),this.stencilTest=new qh(this),this.depthRange=new oy(this),this.depthTest=new ay(this),this.depthFunc=new Gh(this),this.blend=new zx(this),this.blendFunc=new Bx(this),this.blendColor=new Iu(this),this.blendEquation=new eT(this),this.cullFace=new tT(this),this.cullFaceSide=new nT(this),this.frontFace=new rT(this),this.program=new iT(this),this.activeTexture=new oT(this),this.viewport=new sy(this),this.bindFramebuffer=new Hh(this),this.bindRenderbuffer=new ly(this),this.bindTexture=new cy(this),this.bindVertexBuffer=new $u(this),this.bindElementBuffer=new Fx(this),this.bindVertexArray=new Ux(this),this.pixelStoreUnpack=new uy(this),this.pixelStoreUnpackPremultiplyAlpha=new xc(this),this.pixelStoreUnpackFlipY=new Vx(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),Ll(c)){this.HALF_FLOAT=c.HALF_FLOAT;const _=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=c.RGBA16F)!==null&&p!==void 0?p:_==null?void 0:_.RGBA16F_EXT,this.RGB16F=(v=c.RGB16F)!==null&&v!==void 0?v:_==null?void 0:_.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const _=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=_==null?void 0:_.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new Bh(this,c,p)}createVertexBuffer(c,p,v){return new Fh(this,c,p,v)}createRenderbuffer(c,p,v){const _=this.gl,C=_.createRenderbuffer();return this.bindRenderbuffer.set(C),_.renderbufferStorage(_.RENDERBUFFER,c,p,v),this.bindRenderbuffer.set(null),C}createFramebuffer(c,p,v,_){return new Fn(this,c,p,v,_)}clear({color:c,depth:p,stencil:v}){const _=this.gl;let C=0;c&&(C|=_.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(C|=_.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),v!==void 0&&(C|=_.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),_.clear(C)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){a.aG(c.blendFunction,Ar.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return Ll(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var p;return Ll(this.gl)?this.gl.deleteVertexArray(c):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}class $n{constructor(c,p,v){this.func=c,this.mask=p,this.range=v}}$n.ReadOnly=!1,$n.ReadWrite=!0,$n.disabled=new $n(519,$n.ReadOnly,[0,1]);const _c=7680;class Ir{constructor(c,p,v,_,C,j){this.test=c,this.ref=p,this.mask=v,this.fail=_,this.depthFail=C,this.pass=j}}Ir.disabled=new Ir({func:519,mask:0},0,0,_c,_c,_c);class Pr{constructor(c,p,v){this.enable=c,this.mode=p,this.frontFace=v}}let rf;function qx(w,c,p,v,_,C,j){const z=w.context,U=z.gl,G=w.useProgram("collisionBox"),Y=[];let K=0,re=0;for(let ve=0;ve<v.length;ve++){const Ie=v[ve],Be=c.getTile(Ie),Fe=Be.getBucket(p);if(!Fe)continue;let Ke=Ie.posMatrix;_[0]===0&&_[1]===0||(Ke=w.translatePosMatrix(Ie.posMatrix,Be,_,C));const nt=j?Fe.textCollisionBox:Fe.iconCollisionBox,et=Fe.collisionCircleArray;if(et.length>0){const ct=a.Z(),Rt=Ke;a.aU(ct,Fe.placementInvProjMatrix,w.transform.glCoordMatrix),a.aU(ct,ct,Fe.placementViewportMatrix),Y.push({circleArray:et,circleOffset:re,transform:Rt,invTransform:ct,coord:Ie}),K+=et.length/4,re=K}nt&&G.draw(z,U.LINES,$n.disabled,Ir.disabled,w.colorModeForRenderPass(),Pr.disabled,Xg(Ke,w.transform,Be),w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ie),p.id,nt.layoutVertexBuffer,nt.indexBuffer,nt.segments,null,w.transform.zoom,null,null,nt.collisionVertexBuffer)}if(!j||!Y.length)return;const de=w.useProgram("collisionCircle"),ue=new a.aV;ue.resize(4*K),ue._trim();let pe=0;for(const ve of Y)for(let Ie=0;Ie<ve.circleArray.length/4;Ie++){const Be=4*Ie,Fe=ve.circleArray[Be+0],Ke=ve.circleArray[Be+1],nt=ve.circleArray[Be+2],et=ve.circleArray[Be+3];ue.emplace(pe++,Fe,Ke,nt,et,0),ue.emplace(pe++,Fe,Ke,nt,et,1),ue.emplace(pe++,Fe,Ke,nt,et,2),ue.emplace(pe++,Fe,Ke,nt,et,3)}(!rf||rf.length<2*K)&&(rf=function(ve){const Ie=2*ve,Be=new a.aX;Be.resize(Ie),Be._trim();for(let Fe=0;Fe<Ie;Fe++){const Ke=6*Fe;Be.uint16[Ke+0]=4*Fe+0,Be.uint16[Ke+1]=4*Fe+1,Be.uint16[Ke+2]=4*Fe+2,Be.uint16[Ke+3]=4*Fe+2,Be.uint16[Ke+4]=4*Fe+3,Be.uint16[Ke+5]=4*Fe+0}return Be}(K));const le=z.createIndexBuffer(rf,!0),Me=z.createVertexBuffer(ue,a.aW.members,!0);for(const ve of Y){const Ie={u_matrix:ve.transform,u_inv_matrix:ve.invTransform,u_camera_to_center_distance:(je=w.transform).cameraToCenterDistance,u_viewport_size:[je.width,je.height]};de.draw(z,U.TRIANGLES,$n.disabled,Ir.disabled,w.colorModeForRenderPass(),Pr.disabled,Ie,w.style.map.terrain&&w.style.map.terrain.getTerrainData(ve.coord),p.id,Me,le,a.S.simpleSegment(0,2*ve.circleOffset,ve.circleArray.length,ve.circleArray.length/2),null,w.transform.zoom,null,null,null)}var je;Me.destroy(),le.destroy()}Pr.disabled=new Pr(!1,1029,2305),Pr.backCCW=new Pr(!0,1029,2305);const fy=a.ao(new Float32Array(16));function Yh(w,c,p,v,_,C){const{horizontalAlign:j,verticalAlign:z}=a.au(w);return new a.P((-(j-.5)*c/_+v[0])*C,(-(z-.5)*p/_+v[1])*C)}function Kh(w,c,p,v,_,C,j,z,U,G,Y){const K=w.text.placedSymbolArray,re=w.text.dynamicLayoutVertexArray,de=w.icon.dynamicLayoutVertexArray,ue={};re.clear();for(let pe=0;pe<K.length;pe++){const le=K.get(pe),Me=le.hidden||!le.crossTileID||w.allowVerticalPlacement&&!le.placedOrientation?null:v[le.crossTileID];if(Me){const je=new a.P(le.anchorX,le.anchorY),ve=ln(je,p?j:C,Y),Ie=Xn(_.cameraToCenterDistance,ve.signedDistanceFromCamera);let Be=a.aj(w.textSizeData,U,le)*Ie/a.ap;p&&(Be*=w.tilePixelRatio/z);const{width:Fe,height:Ke,anchor:nt,textOffset:et,textBoxScale:ct}=Me,Rt=Yh(nt,Fe,Ke,et,ct,Be),_n=p?ln(je.add(Rt),C,Y).point:ve.point.add(c?Rt.rotate(-_.angle):Rt),bt=w.allowVerticalPlacement&&le.placedOrientation===a.ai.vertical?Math.PI/2:0;for(let tn=0;tn<le.numGlyphs;tn++)a.ak(re,_n,bt);G&&le.associatedIconIndex>=0&&(ue[le.associatedIconIndex]={shiftedAnchor:_n,angle:bt})}else se(le.numGlyphs,re)}if(G){de.clear();const pe=w.icon.placedSymbolArray;for(let le=0;le<pe.length;le++){const Me=pe.get(le);if(Me.hidden)se(Me.numGlyphs,de);else{const je=ue[le];if(je)for(let ve=0;ve<Me.numGlyphs;ve++)a.ak(de,je.shiftedAnchor,je.angle);else se(Me.numGlyphs,de)}}w.icon.dynamicLayoutVertexBuffer.updateData(de)}w.text.dynamicLayoutVertexBuffer.updateData(re)}function hy(w,c,p){return p.iconsInText&&c?"symbolTextAndIcon":w?"symbolSDF":"symbolIcon"}function Zh(w,c,p,v,_,C,j,z,U,G,Y,K){const re=w.context,de=re.gl,ue=w.transform,pe=z==="map",le=U==="map",Me=z!=="viewport"&&p.layout.get("symbol-placement")!=="point",je=pe&&!le&&!Me,ve=!p.layout.get("symbol-sort-key").isConstant();let Ie=!1;const Be=w.depthModeForSublayer(0,$n.ReadOnly),Fe=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ke=[];for(const nt of v){const et=c.getTile(nt),ct=et.getBucket(p);if(!ct)continue;const Rt=_?ct.text:ct.icon;if(!Rt||!Rt.segments.get().length||!Rt.hasVisibleVertices)continue;const _n=Rt.programConfigurations.get(p.id),bt=_||ct.sdfIcons,tn=_?ct.textSizeData:ct.iconSizeData,jt=le||ue.pitch!==0,Qn=w.useProgram(hy(bt,_,ct),_n),vn=a.ah(tn,ue.zoom),mn=w.style.map.terrain&&w.style.map.terrain.getTerrainData(nt);let wn,Hr,fr,Ni,yi=[0,0],ri=null;if(_)Hr=et.glyphAtlasTexture,fr=de.LINEAR,wn=et.glyphAtlasTexture.size,ct.iconsInText&&(yi=et.imageAtlasTexture.size,ri=et.imageAtlasTexture,Ni=jt||w.options.rotating||w.options.zooming||tn.kind==="composite"||tn.kind==="camera"?de.LINEAR:de.NEAREST);else{const Yr=p.layout.get("icon-size").constantOr(0)!==1||ct.iconsNeedLinear;Hr=et.imageAtlasTexture,fr=bt||w.options.rotating||w.options.zooming||Yr||jt?de.LINEAR:de.NEAREST,wn=et.imageAtlasTexture.size}const Ko=Pe(et,1,w.transform.zoom),xr=ot(nt.posMatrix,le,pe,w.transform,Ko),ls=zt(nt.posMatrix,le,pe,w.transform,Ko),cs=Fe&&ct.hasTextData(),Bl=p.layout.get("icon-text-fit")!=="none"&&cs&&ct.hasIconData();if(Me){const Yr=w.style.map.terrain?(ko,Kr)=>w.style.map.terrain.getElevation(nt,ko,Kr):null,vi=p.layout.get("text-rotation-alignment")==="map";dt(ct,nt.posMatrix,w,_,xr,ls,le,G,vi,Yr)}const Tc=w.translatePosMatrix(nt.posMatrix,et,C,j),Fu=Me||_&&Fe||Bl?fy:xr,Zi=w.translatePosMatrix(ls,et,C,j,!0),zi=bt&&p.paint.get(_?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let co;co=bt?ct.iconsInText?bc(tn.kind,vn,je,le,w,Tc,Fu,Zi,wn,yi):ty(tn.kind,vn,je,le,w,Tc,Fu,Zi,_,wn,!0):ey(tn.kind,vn,je,le,w,Tc,Fu,Zi,_,wn);const Pc={program:Qn,buffers:Rt,uniformValues:co,atlasTexture:Hr,atlasTextureIcon:ri,atlasInterpolation:fr,atlasInterpolationIcon:Ni,isSDF:bt,hasHalo:zi};if(ve&&ct.canOverlap){Ie=!0;const Yr=Rt.segments.get();for(const vi of Yr)Ke.push({segments:new a.S([vi]),sortKey:vi.sortKey,state:Pc,terrainData:mn})}else Ke.push({segments:Rt.segments,sortKey:0,state:Pc,terrainData:mn})}Ie&&Ke.sort((nt,et)=>nt.sortKey-et.sortKey);for(const nt of Ke){const et=nt.state;if(re.activeTexture.set(de.TEXTURE0),et.atlasTexture.bind(et.atlasInterpolation,de.CLAMP_TO_EDGE),et.atlasTextureIcon&&(re.activeTexture.set(de.TEXTURE1),et.atlasTextureIcon&&et.atlasTextureIcon.bind(et.atlasInterpolationIcon,de.CLAMP_TO_EDGE)),et.isSDF){const ct=et.uniformValues;et.hasHalo&&(ct.u_is_halo=1,py(et.buffers,nt.segments,p,w,et.program,Be,Y,K,ct,nt.terrainData)),ct.u_is_halo=0}py(et.buffers,nt.segments,p,w,et.program,Be,Y,K,et.uniformValues,nt.terrainData)}}function py(w,c,p,v,_,C,j,z,U,G){const Y=v.context;_.draw(Y,Y.gl.TRIANGLES,C,j,z,Pr.disabled,U,G,p.id,w.layoutVertexBuffer,w.indexBuffer,c,p.paint,v.transform.zoom,w.programConfigurations.get(p.id),w.dynamicLayoutVertexBuffer,w.opacityVertexBuffer)}function of(w,c,p,v,_){if(!p||!v||!v.imageAtlas)return;const C=v.imageAtlas.patternPositions;let j=C[p.to.toString()],z=C[p.from.toString()];if(!j&&z&&(j=z),!z&&j&&(z=j),!j||!z){const U=_.getPaintProperty(c);j=C[U],z=C[U]}j&&z&&w.setConstantPatternPositions(j,z)}function af(w,c,p,v,_,C,j){const z=w.context.gl,U="fill-pattern",G=p.paint.get(U),Y=G&&G.constantOr(1),K=p.getCrossfadeParameters();let re,de,ue,pe,le;j?(de=Y&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",re=z.LINES):(de=Y?"fillPattern":"fill",re=z.TRIANGLES);const Me=G.constantOr(null);for(const je of v){const ve=c.getTile(je);if(Y&&!ve.patternsLoaded())continue;const Ie=ve.getBucket(p);if(!Ie)continue;const Be=Ie.programConfigurations.get(p.id),Fe=w.useProgram(de,Be),Ke=w.style.map.terrain&&w.style.map.terrain.getTerrainData(je);Y&&(w.context.activeTexture.set(z.TEXTURE0),ve.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),Be.updatePaintBuffers(K)),of(Be,U,Me,ve,p);const nt=Ke?je:null,et=w.translatePosMatrix(nt?nt.posMatrix:je.posMatrix,ve,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(j){pe=Ie.indexBuffer2,le=Ie.segments2;const ct=[z.drawingBufferWidth,z.drawingBufferHeight];ue=de==="fillOutlinePattern"&&Y?Lh(et,w,K,ve,ct):Dh(et,ct)}else pe=Ie.indexBuffer,le=Ie.segments,ue=Y?Zg(et,w,K,ve):Ix(et);Fe.draw(w.context,re,_,w.stencilModeForClipping(je),C,Pr.disabled,ue,Ke,p.id,Ie.layoutVertexBuffer,pe,le,p.paint,w.transform.zoom,Be)}}function sf(w,c,p,v,_,C,j){const z=w.context,U=z.gl,G="fill-extrusion-pattern",Y=p.paint.get(G),K=Y.constantOr(1),re=p.getCrossfadeParameters(),de=p.paint.get("fill-extrusion-opacity"),ue=Y.constantOr(null);for(const pe of v){const le=c.getTile(pe),Me=le.getBucket(p);if(!Me)continue;const je=w.style.map.terrain&&w.style.map.terrain.getTerrainData(pe),ve=Me.programConfigurations.get(p.id),Ie=w.useProgram(K?"fillExtrusionPattern":"fillExtrusion",ve);K&&(w.context.activeTexture.set(U.TEXTURE0),le.imageAtlasTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),ve.updatePaintBuffers(re)),of(ve,G,ue,le,p);const Be=w.translatePosMatrix(pe.posMatrix,le,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Fe=p.paint.get("fill-extrusion-vertical-gradient"),Ke=K?Rl(Be,w,Fe,de,pe,re,le):Kg(Be,w,Fe,de);Ie.draw(z,z.gl.TRIANGLES,_,C,j,Pr.backCCW,Ke,je,p.id,Me.layoutVertexBuffer,Me.indexBuffer,Me.segments,p.paint,w.transform.zoom,ve,w.style.map.terrain&&Me.centroidVertexBuffer)}}function sT(w,c,p,v,_,C,j){const z=w.context,U=z.gl,G=p.fbo;if(!G)return;const Y=w.useProgram("hillshade"),K=w.style.map.terrain&&w.style.map.terrain.getTerrainData(c);z.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,G.colorAttachment.get()),Y.draw(z,U.TRIANGLES,_,C,j,Pr.disabled,((re,de,ue,pe)=>{const le=ue.paint.get("hillshade-shadow-color"),Me=ue.paint.get("hillshade-highlight-color"),je=ue.paint.get("hillshade-accent-color");let ve=ue.paint.get("hillshade-illumination-direction")*(Math.PI/180);ue.paint.get("hillshade-illumination-anchor")==="viewport"&&(ve-=re.transform.angle);const Ie=!re.options.moving;return{u_matrix:pe?pe.posMatrix:re.transform.calculatePosMatrix(de.tileID.toUnwrapped(),Ie),u_image:0,u_latrange:Jg(0,de.tileID),u_light:[ue.paint.get("hillshade-exaggeration"),ve],u_shadow:le,u_highlight:Me,u_accent:je}})(w,p,v,K?c:null),K,v.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments)}function my(w,c,p,v,_,C){const j=w.context,z=j.gl,U=c.dem;if(U&&U.data){const G=U.dim,Y=U.stride,K=U.getPixels();if(j.activeTexture.set(z.TEXTURE1),j.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||w.getTileTexture(Y),c.demTexture){const de=c.demTexture;de.update(K,{premultiply:!1}),de.bind(z.NEAREST,z.CLAMP_TO_EDGE)}else c.demTexture=new Q(j,K,z.RGBA,{premultiply:!1}),c.demTexture.bind(z.NEAREST,z.CLAMP_TO_EDGE);j.activeTexture.set(z.TEXTURE0);let re=c.fbo;if(!re){const de=new Q(j,{width:G,height:G,data:null},z.RGBA);de.bind(z.LINEAR,z.CLAMP_TO_EDGE),re=c.fbo=j.createFramebuffer(G,G,!0,!1),re.colorAttachment.set(de.texture)}j.bindFramebuffer.set(re.framebuffer),j.viewport.set([0,0,G,G]),w.useProgram("hillshadePrepare").draw(j,z.TRIANGLES,v,_,C,Pr.disabled,((de,ue)=>{const pe=ue.stride,le=a.Z();return a.aS(le,0,a.N,-a.N,0,0,1),a.$(le,le,[0,-a.N,0]),{u_matrix:le,u_image:1,u_dimension:[pe,pe],u_zoom:de.overscaledZ,u_unpack:ue.getUnpackVector()}})(c.tileID,U),null,p.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function lT(w,c,p,v,_,C){const j=v.paint.get("raster-fade-duration");if(!C&&j>0){const z=a.h.now(),U=(z-w.timeAdded)/j,G=c?(z-c.timeAdded)/j:-1,Y=p.getSource(),K=_.coveringZoomLevel({tileSize:Y.tileSize,roundZoom:Y.roundZoom}),re=!c||Math.abs(c.tileID.overscaledZ-K)>Math.abs(w.tileID.overscaledZ-K),de=re&&w.refreshedUponExpiration?1:a.ad(re?U:1-G,0,1);return w.refreshedUponExpiration&&U>=1&&(w.refreshedUponExpiration=!1),c?{opacity:1,mix:1-de}:{opacity:de,mix:0}}return{opacity:1,mix:0}}const Gx=new a.aT(1,0,0,1),Xh=new a.aT(0,1,0,1),gy=new a.aT(0,0,1,1),Hx=new a.aT(1,0,1,1),Yx=new a.aT(0,1,1,1);function lf(w,c,p,v){Qh(w,0,c+p/2,w.transform.width,p,v)}function Jh(w,c,p,v){Qh(w,c-p/2,0,p,w.transform.height,v)}function Qh(w,c,p,v,_,C){const j=w.context,z=j.gl;z.enable(z.SCISSOR_TEST),z.scissor(c*w.pixelRatio,p*w.pixelRatio,v*w.pixelRatio,_*w.pixelRatio),j.clear({color:C}),z.disable(z.SCISSOR_TEST)}function Kx(w,c,p){const v=w.context,_=v.gl,C=p.posMatrix,j=w.useProgram("debug"),z=$n.disabled,U=Ir.disabled,G=w.colorModeForRenderPass(),Y="$debug",K=w.style.map.terrain&&w.style.map.terrain.getTerrainData(p);v.activeTexture.set(_.TEXTURE0);const re=c.getTileByID(p.key).latestRawTileData,de=Math.floor((re&&re.byteLength||0)/1024),ue=c.getTile(p).tileSize,pe=512/Math.min(ue,512)*(p.overscaledZ/w.transform.zoom)*.5;let le=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(le+=` => ${p.overscaledZ}`),function(Me,je){Me.initDebugOverlayCanvas();const ve=Me.debugOverlayCanvas,Ie=Me.context.gl,Be=Me.debugOverlayCanvas.getContext("2d");Be.clearRect(0,0,ve.width,ve.height),Be.shadowColor="white",Be.shadowBlur=2,Be.lineWidth=1.5,Be.strokeStyle="white",Be.textBaseline="top",Be.font="bold 36px Open Sans, sans-serif",Be.fillText(je,5,5),Be.strokeText(je,5,5),Me.debugOverlayTexture.update(ve),Me.debugOverlayTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE)}(w,`${le} ${de}kB`),j.draw(v,_.TRIANGLES,z,U,Ar.alphaBlended,Pr.disabled,tf(C,a.aT.transparent,pe),null,Y,w.debugBuffer,w.quadTriangleIndexBuffer,w.debugSegments),j.draw(v,_.LINE_STRIP,z,U,G,Pr.disabled,tf(C,a.aT.red),K,Y,w.debugBuffer,w.tileBorderIndexBuffer,w.debugSegments)}function Nr(w,c,p){const v=w.context,_=v.gl,C=w.colorModeForRenderPass(),j=new $n(_.LEQUAL,$n.ReadWrite,w.depthRangeFor3D),z=w.useProgram("terrain"),U=c.getTerrainMesh();v.bindFramebuffer.set(null),v.viewport.set([0,0,w.width,w.height]);for(const G of p){const Y=w.renderToTexture.getTexture(G),K=c.getTerrainData(G.tileID);v.activeTexture.set(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,Y.texture);const re={u_matrix:w.transform.calculatePosMatrix(G.tileID.toUnwrapped()),u_texture:0,u_ele_delta:c.getMeshFrameDelta(w.transform.zoom)};z.draw(v,_.TRIANGLES,j,Ir.disabled,C,Pr.backCCW,re,K,"terrain",U.vertexBuffer,U.indexBuffer,U.segments)}}class wc{constructor(c,p){this.context=new aT(c),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.Z(),renderTime:0},this.setup(),this.numSublayers=an.maxUnderzooming+an.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ih}resize(c,p,v){if(this.width=Math.floor(c*v),this.height=Math.floor(p*v),this.pixelRatio=v,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style._order)this.style._layers[_].resize()}setup(){const c=this.context,p=new a.a_;p.emplaceBack(0,0),p.emplaceBack(a.N,0),p.emplaceBack(0,a.N),p.emplaceBack(a.N,a.N),this.tileExtentBuffer=c.createVertexBuffer(p,$h.members),this.tileExtentSegments=a.S.simpleSegment(0,0,4,2);const v=new a.a_;v.emplaceBack(0,0),v.emplaceBack(a.N,0),v.emplaceBack(0,a.N),v.emplaceBack(a.N,a.N),this.debugBuffer=c.createVertexBuffer(v,$h.members),this.debugSegments=a.S.simpleSegment(0,0,4,5);const _=new a.V;_.emplaceBack(0,0,0,0),_.emplaceBack(a.N,0,a.N,0),_.emplaceBack(0,a.N,0,a.N),_.emplaceBack(a.N,a.N,a.N,a.N),this.rasterBoundsBuffer=c.createVertexBuffer(_,He.members),this.rasterBoundsSegments=a.S.simpleSegment(0,0,4,2);const C=new a.a_;C.emplaceBack(0,0),C.emplaceBack(1,0),C.emplaceBack(0,1),C.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(C,$h.members),this.viewportSegments=a.S.simpleSegment(0,0,4,2);const j=new a.a$;j.emplaceBack(0),j.emplaceBack(1),j.emplaceBack(3),j.emplaceBack(2),j.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(j);const z=new a.b0;z.emplaceBack(0,1,2),z.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(z);const U=this.context.gl;this.stencilClearMode=new Ir({func:U.ALWAYS,mask:0},0,255,U.ZERO,U.ZERO,U.ZERO)}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const v=a.Z();a.aS(v,0,this.width,this.height,0,0,1),a.a0(v,v,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,$n.disabled,this.stencilClearMode,Ar.disabled,Pr.disabled,$x(v),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,p){if(this.currentStencilSource===c.source||!c.isTileClipped()||!p||!p.length)return;this.currentStencilSource=c.source;const v=this.context,_=v.gl;this.nextStencilID+p.length>256&&this.clearStencil(),v.setColorMode(Ar.disabled),v.setDepthMode($n.disabled);const C=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const j of p){const z=this._tileClippingMaskIDs[j.key]=this.nextStencilID++,U=this.style.map.terrain&&this.style.map.terrain.getTerrainData(j);C.draw(v,_.TRIANGLES,$n.disabled,new Ir({func:_.ALWAYS,mask:0},z,255,_.KEEP,_.KEEP,_.REPLACE),Ar.disabled,Pr.disabled,$x(j.posMatrix),U,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new Ir({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){const p=this.context.gl;return new Ir({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,v=c.sort((j,z)=>z.overscaledZ-j.overscaledZ),_=v[v.length-1].overscaledZ,C=v[0].overscaledZ-_+1;if(C>1){this.currentStencilSource=void 0,this.nextStencilID+C>256&&this.clearStencil();const j={};for(let z=0;z<C;z++)j[z+_]=new Ir({func:p.GEQUAL,mask:255},z+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=C,[j,v]}return[{[_]:Ir.disabled},v]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new Ar([c.CONSTANT_COLOR,c.ONE],new a.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ar.unblended:Ar.alphaBlended}depthModeForSublayer(c,p,v){if(!this.opaquePassEnabledForLayer())return $n.disabled;const _=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new $n(v||this.context.gl.LEQUAL,p,[_,_])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.h.now()),this.imageManager.beginFrame();const v=this.style._order,_=this.style.sourceCaches,C={},j={},z={};for(const U in _){const G=_[U];G.used&&G.prepare(this.context),C[U]=G.getVisibleCoordinates(),j[U]=C[U].slice().reverse(),z[U]=G.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let U=0;U<v.length;U++)if(this.style._layers[v[U]].is3D()){this.opaquePassCutoff=U;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const U=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||U.length)&&(a.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(G,Y){const K=G.context,re=K.gl,de=Ar.unblended,ue=new $n(re.LEQUAL,$n.ReadWrite,[0,1]),pe=Y.getTerrainMesh(),le=Y.sourceCache.getRenderableTiles(),Me=G.useProgram("terrainDepth");K.bindFramebuffer.set(Y.getFramebuffer("depth").framebuffer),K.viewport.set([0,0,G.width/devicePixelRatio,G.height/devicePixelRatio]),K.clear({color:a.aT.transparent,depth:1});for(const je of le){const ve=Y.getTerrainData(je.tileID),Ie={u_matrix:G.transform.calculatePosMatrix(je.tileID.toUnwrapped()),u_ele_delta:Y.getMeshFrameDelta(G.transform.zoom)};Me.draw(K,re.TRIANGLES,ue,Ir.disabled,de,Pr.backCCW,Ie,ve,"terrain",pe.vertexBuffer,pe.indexBuffer,pe.segments)}K.bindFramebuffer.set(null),K.viewport.set([0,0,G.width,G.height])}(this,this.style.map.terrain),function(G,Y){const K=G.context,re=K.gl,de=Ar.unblended,ue=new $n(re.LEQUAL,$n.ReadWrite,[0,1]),pe=Y.getTerrainMesh(),le=Y.getCoordsTexture(),Me=Y.sourceCache.getRenderableTiles(),je=G.useProgram("terrainCoords");K.bindFramebuffer.set(Y.getFramebuffer("coords").framebuffer),K.viewport.set([0,0,G.width/devicePixelRatio,G.height/devicePixelRatio]),K.clear({color:a.aT.transparent,depth:1}),Y.coordsIndex=[];for(const ve of Me){const Ie=Y.getTerrainData(ve.tileID);K.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,le.texture);const Be={u_matrix:G.transform.calculatePosMatrix(ve.tileID.toUnwrapped()),u_terrain_coords_id:(255-Y.coordsIndex.length)/255,u_texture:0,u_ele_delta:Y.getMeshFrameDelta(G.transform.zoom)};je.draw(K,re.TRIANGLES,ue,Ir.disabled,de,Pr.backCCW,Be,Ie,"terrain",pe.vertexBuffer,pe.indexBuffer,pe.segments),Y.coordsIndex.push(ve.tileID.key)}K.bindFramebuffer.set(null),K.viewport.set([0,0,G.width,G.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const U of v){const G=this.style._layers[U];if(!G.hasOffscreenPass()||G.isHidden(this.transform.zoom))continue;const Y=j[G.source];(G.type==="custom"||Y.length)&&this.renderLayer(this,_[G.source],G,Y)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.aT.black:a.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){const U=this.style._layers[v[this.currentLayer]],G=_[U.source],Y=C[U.source];this._renderTileClippingMasks(U,Y),this.renderLayer(this,G,U,Y)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){const U=this.style._layers[v[this.currentLayer]],G=_[U.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(U))continue;const Y=(U.type==="symbol"?z:j)[U.source];this._renderTileClippingMasks(U,C[U.source]),this.renderLayer(this,G,U,Y)}if(this.options.showTileBoundaries){const U=function(G,Y){let K=null;const re=Object.values(G._layers).flatMap(le=>le.source&&!le.isHidden(Y)?[G.sourceCaches[le.source]]:[]),de=re.filter(le=>le.getSource().type==="vector"),ue=re.filter(le=>le.getSource().type!=="vector"),pe=le=>{(!K||K.getSource().maxzoom<le.getSource().maxzoom)&&(K=le)};return de.forEach(le=>pe(le)),K||ue.forEach(le=>pe(le)),K}(this.style,this.transform.zoom);U&&function(G,Y,K){for(let re=0;re<K.length;re++)Kx(G,Y,K[re])}(this,U,U.getVisibleCoordinates())}this.options.showPadding&&function(U){const G=U.transform.padding;lf(U,U.transform.height-(G.top||0),3,Gx),lf(U,G.bottom||0,3,Xh),Jh(U,G.left||0,3,gy),Jh(U,U.transform.width-(G.right||0),3,Hx);const Y=U.transform.centerPoint;(function(K,re,de,ue){Qh(K,re-1,de-10,2,20,ue),Qh(K,re-10,de-1,20,2,ue)})(U,Y.x,U.transform.height-Y.y,Yx)}(this),this.context.setDefault()}renderLayer(c,p,v,_){if(!v.isHidden(this.transform.zoom)&&(v.type==="background"||v.type==="custom"||(_||[]).length))switch(this.id=v.id,v.type){case"symbol":(function(C,j,z,U,G){if(C.renderPass!=="translucent")return;const Y=Ir.disabled,K=C.colorModeForRenderPass();(z._unevaluatedLayout.hasValue("text-variable-anchor")||z._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(re,de,ue,pe,le,Me,je){const ve=de.transform,Ie=le==="map",Be=Me==="map";for(const Fe of re){const Ke=pe.getTile(Fe),nt=Ke.getBucket(ue);if(!nt||!nt.text||!nt.text.segments.get().length)continue;const et=a.ah(nt.textSizeData,ve.zoom),ct=Pe(Ke,1,de.transform.zoom),Rt=ot(Fe.posMatrix,Be,Ie,de.transform,ct),_n=ue.layout.get("icon-text-fit")!=="none"&&nt.hasIconData();if(et){const bt=Math.pow(2,ve.zoom-Ke.tileID.overscaledZ);Kh(nt,Ie,Be,je,ve,Rt,Fe.posMatrix,bt,et,_n,de.style.map.terrain?(tn,jt)=>de.style.map.terrain.getElevation(Fe,tn,jt):null)}}}(U,C,z,j,z.layout.get("text-rotation-alignment"),z.layout.get("text-pitch-alignment"),G),z.paint.get("icon-opacity").constantOr(1)!==0&&Zh(C,j,z,U,!1,z.paint.get("icon-translate"),z.paint.get("icon-translate-anchor"),z.layout.get("icon-rotation-alignment"),z.layout.get("icon-pitch-alignment"),z.layout.get("icon-keep-upright"),Y,K),z.paint.get("text-opacity").constantOr(1)!==0&&Zh(C,j,z,U,!0,z.paint.get("text-translate"),z.paint.get("text-translate-anchor"),z.layout.get("text-rotation-alignment"),z.layout.get("text-pitch-alignment"),z.layout.get("text-keep-upright"),Y,K),j.map.showCollisionBoxes&&(qx(C,j,z,U,z.paint.get("text-translate"),z.paint.get("text-translate-anchor"),!0),qx(C,j,z,U,z.paint.get("icon-translate"),z.paint.get("icon-translate-anchor"),!1))})(c,p,v,_,this.style.placement.variableOffsets);break;case"circle":(function(C,j,z,U){if(C.renderPass!=="translucent")return;const G=z.paint.get("circle-opacity"),Y=z.paint.get("circle-stroke-width"),K=z.paint.get("circle-stroke-opacity"),re=!z.layout.get("circle-sort-key").isConstant();if(G.constantOr(1)===0&&(Y.constantOr(1)===0||K.constantOr(1)===0))return;const de=C.context,ue=de.gl,pe=C.depthModeForSublayer(0,$n.ReadOnly),le=Ir.disabled,Me=C.colorModeForRenderPass(),je=[];for(let ve=0;ve<U.length;ve++){const Ie=U[ve],Be=j.getTile(Ie),Fe=Be.getBucket(z);if(!Fe)continue;const Ke=Fe.programConfigurations.get(z.id),nt=C.useProgram("circle",Ke),et=Fe.layoutVertexBuffer,ct=Fe.indexBuffer,Rt=C.style.map.terrain&&C.style.map.terrain.getTerrainData(Ie),_n={programConfiguration:Ke,program:nt,layoutVertexBuffer:et,indexBuffer:ct,uniformValues:Dl(C,Ie,Be,z),terrainData:Rt};if(re){const bt=Fe.segments.get();for(const tn of bt)je.push({segments:new a.S([tn]),sortKey:tn.sortKey,state:_n})}else je.push({segments:Fe.segments,sortKey:0,state:_n})}re&&je.sort((ve,Ie)=>ve.sortKey-Ie.sortKey);for(const ve of je){const{programConfiguration:Ie,program:Be,layoutVertexBuffer:Fe,indexBuffer:Ke,uniformValues:nt,terrainData:et}=ve.state;Be.draw(de,ue.TRIANGLES,pe,le,Me,Pr.disabled,nt,et,z.id,Fe,Ke,ve.segments,z.paint,C.transform.zoom,Ie)}})(c,p,v,_);break;case"heatmap":(function(C,j,z,U){if(z.paint.get("heatmap-opacity")!==0)if(C.renderPass==="offscreen"){const G=C.context,Y=G.gl,K=Ir.disabled,re=new Ar([Y.ONE,Y.ONE],a.aT.transparent,[!0,!0,!0,!0]);(function(de,ue,pe){const le=de.gl;de.activeTexture.set(le.TEXTURE1),de.viewport.set([0,0,ue.width/4,ue.height/4]);let Me=pe.heatmapFbo;if(Me)le.bindTexture(le.TEXTURE_2D,Me.colorAttachment.get()),de.bindFramebuffer.set(Me.framebuffer);else{const je=le.createTexture();le.bindTexture(le.TEXTURE_2D,je),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,le.LINEAR),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,le.LINEAR),Me=pe.heatmapFbo=de.createFramebuffer(ue.width/4,ue.height/4,!1,!1),function(ve,Ie,Be,Fe){var Ke,nt;const et=ve.gl,ct=(Ke=ve.HALF_FLOAT)!==null&&Ke!==void 0?Ke:et.UNSIGNED_BYTE,Rt=(nt=ve.RGBA16F)!==null&&nt!==void 0?nt:et.RGBA;et.texImage2D(et.TEXTURE_2D,0,Rt,Ie.width/4,Ie.height/4,0,et.RGBA,ct,null),Fe.colorAttachment.set(Be)}(de,ue,je,Me)}})(G,C,z),G.clear({color:a.aT.transparent});for(let de=0;de<U.length;de++){const ue=U[de];if(j.hasRenderableParent(ue))continue;const pe=j.getTile(ue),le=pe.getBucket(z);if(!le)continue;const Me=le.programConfigurations.get(z.id),je=C.useProgram("heatmap",Me),{zoom:ve}=C.transform;je.draw(G,Y.TRIANGLES,$n.disabled,K,re,Pr.disabled,JC(ue.posMatrix,pe,ve,z.paint.get("heatmap-intensity")),null,z.id,le.layoutVertexBuffer,le.indexBuffer,le.segments,z.paint,C.transform.zoom,Me)}G.viewport.set([0,0,C.width,C.height])}else C.renderPass==="translucent"&&(C.context.setColorMode(C.colorModeForRenderPass()),function(G,Y){const K=G.context,re=K.gl,de=Y.heatmapFbo;if(!de)return;K.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,de.colorAttachment.get()),K.activeTexture.set(re.TEXTURE1);let ue=Y.colorRampTexture;ue||(ue=Y.colorRampTexture=new Q(K,Y.colorRamp,re.RGBA)),ue.bind(re.LINEAR,re.CLAMP_TO_EDGE),G.useProgram("heatmapTexture").draw(K,re.TRIANGLES,$n.disabled,Ir.disabled,G.colorModeForRenderPass(),Pr.disabled,((pe,le,Me,je)=>{const ve=a.Z();a.aS(ve,0,pe.width,pe.height,0,0,1);const Ie=pe.context.gl;return{u_matrix:ve,u_world:[Ie.drawingBufferWidth,Ie.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:le.paint.get("heatmap-opacity")}})(G,Y),null,Y.id,G.viewportBuffer,G.quadTriangleIndexBuffer,G.viewportSegments,Y.paint,G.transform.zoom)}(C,z))})(c,p,v,_);break;case"line":(function(C,j,z,U){if(C.renderPass!=="translucent")return;const G=z.paint.get("line-opacity"),Y=z.paint.get("line-width");if(G.constantOr(1)===0||Y.constantOr(1)===0)return;const K=C.depthModeForSublayer(0,$n.ReadOnly),re=C.colorModeForRenderPass(),de=z.paint.get("line-dasharray"),ue=z.paint.get("line-pattern"),pe=ue.constantOr(1),le=z.paint.get("line-gradient"),Me=z.getCrossfadeParameters(),je=pe?"linePattern":de?"lineSDF":le?"lineGradient":"line",ve=C.context,Ie=ve.gl;let Be=!0;for(const Fe of U){const Ke=j.getTile(Fe);if(pe&&!Ke.patternsLoaded())continue;const nt=Ke.getBucket(z);if(!nt)continue;const et=nt.programConfigurations.get(z.id),ct=C.context.program.get(),Rt=C.useProgram(je,et),_n=Be||Rt.program!==ct,bt=C.style.map.terrain&&C.style.map.terrain.getTerrainData(Fe),tn=ue.constantOr(null);if(tn&&Ke.imageAtlas){const vn=Ke.imageAtlas,mn=vn.patternPositions[tn.to.toString()],wn=vn.patternPositions[tn.from.toString()];mn&&wn&&et.setConstantPatternPositions(mn,wn)}const jt=bt?Fe:null,Qn=pe?QC(C,Ke,z,Me,jt):de?Dx(C,Ke,z,de,Me,jt):le?Rx(C,Ke,z,nt.lineClipsArray.length,jt):Qg(C,Ke,z,jt);if(pe)ve.activeTexture.set(Ie.TEXTURE0),Ke.imageAtlasTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE),et.updatePaintBuffers(Me);else if(de&&(_n||C.lineAtlas.dirty))ve.activeTexture.set(Ie.TEXTURE0),C.lineAtlas.bind(ve);else if(le){const vn=nt.gradients[z.id];let mn=vn.texture;if(z.gradientVersion!==vn.version){let wn=256;if(z.stepInterpolant){const Hr=j.getSource().maxzoom,fr=Fe.canonical.z===Hr?Math.ceil(1<<C.transform.maxZoom-Fe.canonical.z):1;wn=a.ad(a.aY(nt.maxLineLength/a.N*1024*fr),256,ve.maxTextureSize)}vn.gradient=a.aZ({expression:z.gradientExpression(),evaluationKey:"lineProgress",resolution:wn,image:vn.gradient||void 0,clips:nt.lineClipsArray}),vn.texture?vn.texture.update(vn.gradient):vn.texture=new Q(ve,vn.gradient,Ie.RGBA),vn.version=z.gradientVersion,mn=vn.texture}ve.activeTexture.set(Ie.TEXTURE0),mn.bind(z.stepInterpolant?Ie.NEAREST:Ie.LINEAR,Ie.CLAMP_TO_EDGE)}Rt.draw(ve,Ie.TRIANGLES,K,C.stencilModeForClipping(Fe),re,Pr.disabled,Qn,bt,z.id,nt.layoutVertexBuffer,nt.indexBuffer,nt.segments,z.paint,C.transform.zoom,et,nt.layoutVertexBuffer2),Be=!1}})(c,p,v,_);break;case"fill":(function(C,j,z,U){const G=z.paint.get("fill-color"),Y=z.paint.get("fill-opacity");if(Y.constantOr(1)===0)return;const K=C.colorModeForRenderPass(),re=z.paint.get("fill-pattern"),de=C.opaquePassEnabledForLayer()&&!re.constantOr(1)&&G.constantOr(a.aT.transparent).a===1&&Y.constantOr(0)===1?"opaque":"translucent";if(C.renderPass===de){const ue=C.depthModeForSublayer(1,C.renderPass==="opaque"?$n.ReadWrite:$n.ReadOnly);af(C,j,z,U,ue,K,!1)}if(C.renderPass==="translucent"&&z.paint.get("fill-antialias")){const ue=C.depthModeForSublayer(z.getPaintProperty("fill-outline-color")?2:0,$n.ReadOnly);af(C,j,z,U,ue,K,!0)}})(c,p,v,_);break;case"fill-extrusion":(function(C,j,z,U){const G=z.paint.get("fill-extrusion-opacity");if(G!==0&&C.renderPass==="translucent"){const Y=new $n(C.context.gl.LEQUAL,$n.ReadWrite,C.depthRangeFor3D);if(G!==1||z.paint.get("fill-extrusion-pattern").constantOr(1))sf(C,j,z,U,Y,Ir.disabled,Ar.disabled),sf(C,j,z,U,Y,C.stencilModeFor3D(),C.colorModeForRenderPass());else{const K=C.colorModeForRenderPass();sf(C,j,z,U,Y,Ir.disabled,K)}}})(c,p,v,_);break;case"hillshade":(function(C,j,z,U){if(C.renderPass!=="offscreen"&&C.renderPass!=="translucent")return;const G=C.context,Y=C.depthModeForSublayer(0,$n.ReadOnly),K=C.colorModeForRenderPass(),[re,de]=C.renderPass==="translucent"?C.stencilConfigForOverlap(U):[{},U];for(const ue of de){const pe=j.getTile(ue);pe.needsHillshadePrepare!==void 0&&pe.needsHillshadePrepare&&C.renderPass==="offscreen"?my(C,pe,z,Y,Ir.disabled,K):C.renderPass==="translucent"&&sT(C,ue,pe,z,Y,re[ue.overscaledZ],K)}G.viewport.set([0,0,C.width,C.height])})(c,p,v,_);break;case"raster":(function(C,j,z,U){if(C.renderPass!=="translucent"||z.paint.get("raster-opacity")===0||!U.length)return;const G=C.context,Y=G.gl,K=j.getSource(),re=C.useProgram("raster"),de=C.colorModeForRenderPass(),[ue,pe]=K instanceof _t?[{},U]:C.stencilConfigForOverlap(U),le=pe[pe.length-1].overscaledZ,Me=!C.options.moving;for(const je of pe){const ve=C.depthModeForSublayer(je.overscaledZ-le,z.paint.get("raster-opacity")===1?$n.ReadWrite:$n.ReadOnly,Y.LESS),Ie=j.getTile(je);Ie.registerFadeDuration(z.paint.get("raster-fade-duration"));const Be=j.findLoadedParent(je,0),Fe=lT(Ie,Be,j,z,C.transform,C.style.map.terrain);let Ke,nt;const et=z.paint.get("raster-resampling")==="nearest"?Y.NEAREST:Y.LINEAR;G.activeTexture.set(Y.TEXTURE0),Ie.texture.bind(et,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST),G.activeTexture.set(Y.TEXTURE1),Be?(Be.texture.bind(et,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST),Ke=Math.pow(2,Be.tileID.overscaledZ-Ie.tileID.overscaledZ),nt=[Ie.tileID.canonical.x*Ke%1,Ie.tileID.canonical.y*Ke%1]):Ie.texture.bind(et,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST);const ct=C.style.map.terrain&&C.style.map.terrain.getTerrainData(je),Rt=ct?je:null,_n=Rt?Rt.posMatrix:C.transform.calculatePosMatrix(je.toUnwrapped(),Me),bt=jx(_n,nt||[0,0],Ke||1,Fe,z);K instanceof _t?re.draw(G,Y.TRIANGLES,ve,Ir.disabled,de,Pr.disabled,bt,ct,z.id,K.boundsBuffer,C.quadTriangleIndexBuffer,K.boundsSegments):re.draw(G,Y.TRIANGLES,ve,ue[je.overscaledZ],de,Pr.disabled,bt,ct,z.id,C.rasterBoundsBuffer,C.quadTriangleIndexBuffer,C.rasterBoundsSegments)}})(c,p,v,_);break;case"background":(function(C,j,z,U){const G=z.paint.get("background-color"),Y=z.paint.get("background-opacity");if(Y===0)return;const K=C.context,re=K.gl,de=C.transform,ue=de.tileSize,pe=z.paint.get("background-pattern");if(C.isPatternMissing(pe))return;const le=!pe&&G.a===1&&Y===1&&C.opaquePassEnabledForLayer()?"opaque":"translucent";if(C.renderPass!==le)return;const Me=Ir.disabled,je=C.depthModeForSublayer(0,le==="opaque"?$n.ReadWrite:$n.ReadOnly),ve=C.colorModeForRenderPass(),Ie=C.useProgram(pe?"backgroundPattern":"background"),Be=U||de.coveringTiles({tileSize:ue,terrain:C.style.map.terrain});pe&&(K.activeTexture.set(re.TEXTURE0),C.imageManager.bind(C.context));const Fe=z.getCrossfadeParameters();for(const Ke of Be){const nt=U?Ke.posMatrix:C.transform.calculatePosMatrix(Ke.toUnwrapped()),et=pe?ma(nt,Y,C,pe,{tileID:Ke,tileSize:ue},Fe):Nh(nt,Y,G),ct=C.style.map.terrain&&C.style.map.terrain.getTerrainData(Ke);Ie.draw(K,re.TRIANGLES,je,Me,ve,Pr.disabled,et,ct,z.id,C.tileExtentBuffer,C.quadTriangleIndexBuffer,C.tileExtentSegments)}})(c,0,v,_);break;case"custom":(function(C,j,z){const U=C.context,G=z.implementation;if(C.renderPass==="offscreen"){const Y=G.prerender;Y&&(C.setCustomLayerDefaults(),U.setColorMode(C.colorModeForRenderPass()),Y.call(G,U.gl,C.transform.customLayerMatrix()),U.setDirty(),C.setBaseState())}else if(C.renderPass==="translucent"){C.setCustomLayerDefaults(),U.setColorMode(C.colorModeForRenderPass()),U.setStencilMode(Ir.disabled);const Y=G.renderingMode==="3d"?new $n(C.context.gl.LEQUAL,$n.ReadWrite,C.depthRangeFor3D):C.depthModeForSublayer(0,$n.ReadOnly);U.setDepthMode(Y),G.render(U.gl,C.transform.customLayerMatrix()),U.setDirty(),C.setBaseState(),U.bindFramebuffer.set(null)}})(c,0,v)}}translatePosMatrix(c,p,v,_,C){if(!v[0]&&!v[1])return c;const j=C?_==="map"?this.transform.angle:0:_==="viewport"?-this.transform.angle:0;if(j){const G=Math.sin(j),Y=Math.cos(j);v=[v[0]*Y-v[1]*G,v[0]*G+v[1]*Y]}const z=[C?v[0]:Pe(p,v[0],this.transform.zoom),C?v[1]:Pe(p,v[1],this.transform.zoom),0],U=new Float32Array(16);return a.$(U,c,z),U}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const p=this.imageManager.getPattern(c.from.toString()),v=this.imageManager.getPattern(c.to.toString());return!p||!v}useProgram(c,p){this.cache=this.cache||{};const v=c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[v]||(this.cache[v]=new Rh(this.context,Mr[c],p,zh[c],this._showOverdrawInspector,this.style.map.terrain)),this.cache[v]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Q(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:p}=this.context.gl;return this.width!==c||this.height!==p}}class wo{constructor(c,p){this.points=c,this.planes=p}static fromInvProjectionMatrix(c,p,v){const _=Math.pow(2,v),C=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(z=>{const U=1/(z=a.ag([],z,c))[3]/p*_;return a.b3(z,z,[U,U,1/z[3],U])}),j=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(z=>{const U=function(re,de){var ue=de[0],pe=de[1],le=de[2],Me=ue*ue+pe*pe+le*le;return Me>0&&(Me=1/Math.sqrt(Me)),re[0]=de[0]*Me,re[1]=de[1]*Me,re[2]=de[2]*Me,re}([],function(re,de,ue){var pe=de[0],le=de[1],Me=de[2],je=ue[0],ve=ue[1],Ie=ue[2];return re[0]=le*Ie-Me*ve,re[1]=Me*je-pe*Ie,re[2]=pe*ve-le*je,re}([],R([],C[z[0]],C[z[1]]),R([],C[z[2]],C[z[1]]))),G=-((Y=U)[0]*(K=C[z[1]])[0]+Y[1]*K[1]+Y[2]*K[2]);var Y,K;return U.concat(G)});return new wo(C,j)}}class Du{constructor(c,p){this.min=c,this.max=p,this.center=function(v,_,C){return v[0]=.5*_[0],v[1]=.5*_[1],v[2]=.5*_[2],v}([],function(v,_,C){return v[0]=_[0]+C[0],v[1]=_[1]+C[1],v[2]=_[2]+C[2],v}([],this.min,this.max))}quadrant(c){const p=[c%2==0,c<2],v=N(this.min),_=N(this.max);for(let C=0;C<p.length;C++)v[C]=p[C]?this.min[C]:this.center[C],_[C]=p[C]?this.center[C]:this.max[C];return _[2]=this.max[2],new Du(v,_)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersects(c){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let v=!0;for(let _=0;_<c.planes.length;_++){const C=c.planes[_];let j=0;for(let z=0;z<p.length;z++)a.b4(C,p[z])>=0&&j++;if(j===0)return 0;j!==p.length&&(v=!1)}if(v)return 2;for(let _=0;_<3;_++){let C=Number.MAX_VALUE,j=-Number.MAX_VALUE;for(let z=0;z<c.points.length;z++){const U=c.points[z][_]-this.min[_];C=Math.min(C,U),j=Math.max(j,U)}if(j<0||C>this.max[_]-this.min[_])return 0}return 1}}class cf{constructor(c=0,p=0,v=0,_=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(v)||v<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=v,this.right=_}interpolate(c,p,v){return p.top!=null&&c.top!=null&&(this.top=a.B.number(c.top,p.top,v)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.B.number(c.bottom,p.bottom,v)),p.left!=null&&c.left!=null&&(this.left=a.B.number(c.left,p.left,v)),p.right!=null&&c.right!=null&&(this.right=a.B.number(c.right,p.right,v)),this}getCenter(c,p){const v=a.ad((this.left+c-this.right)/2,0,c),_=a.ad((this.top+p-this.bottom)/2,0,p);return new a.P(v,_)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new cf(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class ep{constructor(c,p,v,_,C){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=C===void 0||!!C,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=v??0,this._maxPitch=_??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new cf,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const c=new ep(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.apply(this),c}apply(c){this.tileSize=c.tileSize,this.latRange=c.latRange,this.width=c.width,this.height=c.height,this._center=c._center,this._elevation=c._elevation,this._minEleveationForCurrentTile=c._minEleveationForCurrentTile,this.zoom=c.zoom,this.angle=c.angle,this._fov=c._fov,this._pitch=c._pitch,this._unmodified=c._unmodified,this._edgeInsets=c._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(c){const p=-a.b5(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var v=new a.A(4);return a.A!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v}(),function(v,_,C){var j=_[0],z=_[1],U=_[2],G=_[3],Y=Math.sin(C),K=Math.cos(C);v[0]=j*K+U*Y,v[1]=z*K+G*Y,v[2]=j*-Y+U*K,v[3]=z*-Y+G*K}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=a.ad(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,v){this._unmodified=!1,this._edgeInsets.interpolate(c,p,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new a.b6(0,c)];if(this._renderWorldCopies){const v=this.pointCoordinate(new a.P(0,0)),_=this.pointCoordinate(new a.P(this.width,0)),C=this.pointCoordinate(new a.P(this.width,this.height)),j=this.pointCoordinate(new a.P(0,this.height)),z=Math.floor(Math.min(v.x,_.x,C.x,j.x)),U=Math.floor(Math.max(v.x,_.x,C.x,j.x)),G=1;for(let Y=z-G;Y<=U+G;Y++)Y!==0&&p.push(new a.b6(Y,c))}return p}coveringTiles(c){var p,v;let _=this.coveringZoomLevel(c);const C=_;if(c.minzoom!==void 0&&_<c.minzoom)return[];c.maxzoom!==void 0&&_>c.maxzoom&&(_=c.maxzoom);const j=this.pointCoordinate(this.getCameraPoint()),z=a.U.fromLngLat(this.center),U=Math.pow(2,_),G=[U*j.x,U*j.y,0],Y=[U*z.x,U*z.y,0],K=wo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,_);let re=c.minzoom||0;!c.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(re=_);const de=c.terrain?2/Math.min(this.tileSize,c.tileSize)*this.tileSize:3,ue=ve=>({aabb:new Du([ve*U,0,0],[(ve+1)*U,U,0]),zoom:0,x:0,y:0,wrap:ve,fullyVisible:!1}),pe=[],le=[],Me=_,je=c.reparseOverscaled?C:_;if(this._renderWorldCopies)for(let ve=1;ve<=3;ve++)pe.push(ue(-ve)),pe.push(ue(ve));for(pe.push(ue(0));pe.length>0;){const ve=pe.pop(),Ie=ve.x,Be=ve.y;let Fe=ve.fullyVisible;if(!Fe){const Rt=ve.aabb.intersects(K);if(Rt===0)continue;Fe=Rt===2}const Ke=c.terrain?G:Y,nt=ve.aabb.distanceX(Ke),et=ve.aabb.distanceY(Ke),ct=Math.max(Math.abs(nt),Math.abs(et));if(ve.zoom===Me||ct>de+(1<<Me-ve.zoom)-2&&ve.zoom>=re){const Rt=Me-ve.zoom,_n=G[0]-.5-(Ie<<Rt),bt=G[1]-.5-(Be<<Rt);le.push({tileID:new a.O(ve.zoom===Me?je:ve.zoom,ve.wrap,ve.zoom,Ie,Be),distanceSq:F([Y[0]-.5-Ie,Y[1]-.5-Be]),tileDistanceToCamera:Math.sqrt(_n*_n+bt*bt)})}else for(let Rt=0;Rt<4;Rt++){const _n=(Ie<<1)+Rt%2,bt=(Be<<1)+(Rt>>1),tn=ve.zoom+1;let jt=ve.aabb.quadrant(Rt);if(c.terrain){const Qn=new a.O(tn,ve.wrap,tn,_n,bt),vn=c.terrain.getMinMaxElevation(Qn),mn=(p=vn.minElevation)!==null&&p!==void 0?p:this.elevation,wn=(v=vn.maxElevation)!==null&&v!==void 0?v:this.elevation;jt=new Du([jt.min[0],jt.min[1],mn],[jt.max[0],jt.max[1],wn])}pe.push({aabb:jt,zoom:tn,x:_n,y:bt,wrap:ve.wrap,fullyVisible:Fe})}}return le.sort((ve,Ie)=>ve.distanceSq-Ie.distanceSq).map(ve=>ve.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=a.ad(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.P(a.G(c.lng)*this.worldSize,a.H(p)*this.worldSize)}unproject(c){return new a.U(c.x/this.worldSize,c.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(c){const p=this.pointLocation(this.centerPoint,c),v=c.getElevationForLngLatZoom(p,this.tileZoom);if(!(this.elevation-v))return;const _=this.getCameraPosition(),C=a.U.fromLngLat(_.lngLat,_.altitude),j=a.U.fromLngLat(p,v),z=C.x-j.x,U=C.y-j.y,G=C.z-j.z,Y=Math.sqrt(z*z+U*U+G*G),K=this.scaleZoom(this.cameraToCenterDistance/Y/this.tileSize);this._elevation=v,this._center=p,this.zoom=K}setLocationAtPoint(c,p){const v=this.pointCoordinate(p),_=this.pointCoordinate(this.centerPoint),C=this.locationCoordinate(c),j=new a.U(C.x-(v.x-_.x),C.y-(v.y-_.y));this.center=this.coordinateLocation(j),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(c,p){return p?this.coordinatePoint(this.locationCoordinate(c),p.getElevationForLngLatZoom(c,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(c))}pointLocation(c,p){return this.coordinateLocation(this.pointCoordinate(c,p))}locationCoordinate(c){return a.U.fromLngLat(c)}coordinateLocation(c){return c&&c.toLngLat()}pointCoordinate(c,p){if(p){const re=p.pointCoordinate(c);if(re!=null)return re}const v=[c.x,c.y,0,1],_=[c.x,c.y,1,1];a.ag(v,v,this.pixelMatrixInverse),a.ag(_,_,this.pixelMatrixInverse);const C=v[3],j=_[3],z=v[1]/C,U=_[1]/j,G=v[2]/C,Y=_[2]/j,K=G===Y?0:(0-G)/(Y-G);return new a.U(a.B.number(v[0]/C,_[0]/j,K)/this.worldSize,a.B.number(z,U,K)/this.worldSize)}coordinatePoint(c,p=0,v=this.pixelMatrix){const _=[c.x*this.worldSize,c.y*this.worldSize,p,1];return a.ag(_,_,v),new a.P(_[0]/_[3],_[1]/_[3])}getBounds(){const c=Math.max(0,this.height/2-this.getHorizon());return new tt().extend(this.pointLocation(new a.P(0,c))).extend(this.pointLocation(new a.P(this.width,c))).extend(this.pointLocation(new a.P(this.width,this.height))).extend(this.pointLocation(new a.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new tt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(c,p=!1){const v=c.key,_=p?this._alignedPosMatrixCache:this._posMatrixCache;if(_[v])return _[v];const C=c.canonical,j=this.worldSize/this.zoomScale(C.z),z=C.x+Math.pow(2,C.z)*c.wrap,U=a.ao(new Float64Array(16));return a.$(U,U,[z*j,C.y*j,0]),a.a0(U,U,[j/a.N,j/a.N,1]),a.a1(U,p?this.alignedProjMatrix:this.projMatrix,U),_[v]=new Float32Array(U),_[v]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let c,p,v,_,C=-90,j=90,z=-180,U=180;const G=this.size,Y=this._unmodified;if(this.latRange){const de=this.latRange;C=a.H(de[1])*this.worldSize,j=a.H(de[0])*this.worldSize,c=j-C<G.y?G.y/(j-C):0}if(this.lngRange){const de=this.lngRange;z=a.b5(a.G(de[0])*this.worldSize,0,this.worldSize),U=a.b5(a.G(de[1])*this.worldSize,0,this.worldSize),U<z&&(U+=this.worldSize),p=U-z<G.x?G.x/(U-z):0}const K=this.point,re=Math.max(p||0,c||0);if(re)return this.center=this.unproject(new a.P(p?(U+z)/2:K.x,c?(j+C)/2:K.y)),this.zoom+=this.scaleZoom(re),this._unmodified=Y,void(this._constraining=!1);if(this.latRange){const de=K.y,ue=G.y/2;de-ue<C&&(_=C+ue),de+ue>j&&(_=j-ue)}if(this.lngRange){const de=(z+U)/2,ue=a.b5(K.x,de-this.worldSize/2,de+this.worldSize/2),pe=G.x/2;ue-pe<z&&(v=z+pe),ue+pe>U&&(v=U-pe)}v===void 0&&_===void 0||(this.center=this.unproject(new a.P(v!==void 0?v:K.x,_!==void 0?_:K.y)).wrap()),this._unmodified=Y,this._constraining=!1}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.point.x,v=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.b7(1,this.center.lat)*this.worldSize;let _=a.ao(new Float64Array(16));a.a0(_,_,[this.width/2,-this.height/2,1]),a.$(_,_,[1,-1,0]),this.labelPlaneMatrix=_,_=a.ao(new Float64Array(16)),a.a0(_,_,[1,-1,1]),a.$(_,_,[-1,-1,0]),a.a0(_,_,[2/this.width,2/this.height,1]),this.glCoordMatrix=_;const C=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),j=Math.min(this.elevation,this._minEleveationForCurrentTile),z=C-j*this._pixelPerMeter/Math.cos(this._pitch),U=j<0?z:C,G=Math.PI/2+this._pitch,Y=this._fov*(.5+c.y/this.height),K=Math.sin(Y)*U/Math.sin(a.ad(Math.PI-G-Y,.01,Math.PI-.01)),re=this.getHorizon(),de=2*Math.atan(re/this.cameraToCenterDistance)*(.5+c.y/(2*re)),ue=Math.sin(de)*U/Math.sin(a.ad(Math.PI-G-de,.01,Math.PI-.01)),pe=Math.min(K,ue),le=1.01*(Math.cos(Math.PI/2-this._pitch)*pe+U),Me=this.height/50;_=new Float64Array(16),a.b8(_,this._fov,this.width/this.height,Me,le),_[8]=2*-c.x/this.width,_[9]=2*c.y/this.height,a.a0(_,_,[1,-1,1]),a.$(_,_,[0,0,-this.cameraToCenterDistance]),a.b9(_,_,this._pitch),a.ae(_,_,this.angle),a.$(_,_,[-p,-v,0]),this.mercatorMatrix=a.a0([],_,[this.worldSize,this.worldSize,this.worldSize]),a.a0(_,_,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.a1(new Float64Array(16),this.labelPlaneMatrix,_),a.$(_,_,[0,0,-this.elevation]),this.projMatrix=_,this.invProjMatrix=a.as([],_),this.pixelMatrix3D=a.a1(new Float64Array(16),this.labelPlaneMatrix,_);const je=this.width%2/2,ve=this.height%2/2,Ie=Math.cos(this.angle),Be=Math.sin(this.angle),Fe=p-Math.round(p)+Ie*je+Be*ve,Ke=v-Math.round(v)+Ie*ve+Be*je,nt=new Float64Array(_);if(a.$(nt,nt,[Fe>.5?Fe-1:Fe,Ke>.5?Ke-1:Ke,0]),this.alignedProjMatrix=nt,_=a.as(new Float64Array(16),this.pixelMatrix),!_)throw new Error("failed to invert matrix");this.pixelMatrixInverse=_,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const c=this.pointCoordinate(new a.P(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.ag(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,c))}getCameraQueryGeometry(c){const p=this.getCameraPoint();if(c.length===1)return[c[0],p];{let v=p.x,_=p.y,C=p.x,j=p.y;for(const z of c)v=Math.min(v,z.x),_=Math.min(_,z.y),C=Math.max(C,z.x),j=Math.max(j,z.y);return[new a.P(v,_),new a.P(C,_),new a.P(C,j),new a.P(v,j),new a.P(v,_)]}}}function Sc(w,c){let p,v=!1,_=null,C=null;const j=()=>{_=null,v&&(w.apply(C,p),_=setTimeout(j,c),v=!1)};return(...z)=>(v=!0,C=this,p=z,_||j(),_)}class uf{constructor(c){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let v;return p.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(v=_)}),(v&&v[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(v=>isNaN(v))){const v=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:v,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=Sc(this._updateHashUnthrottled,300),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(c){const p=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,_=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),C=Math.pow(10,_),j=Math.round(p.lng*C)/C,z=Math.round(p.lat*C)/C,U=this._map.getBearing(),G=this._map.getPitch();let Y="";if(Y+=c?`/${j}/${z}/${v}`:`${v}/${z}/${j}`,(U||G)&&(Y+="/"+Math.round(10*U)/10),G&&(Y+=`/${Math.round(G)}`),this._hashName){const K=this._hashName;let re=!1;const de=window.location.hash.slice(1).split("&").map(ue=>{const pe=ue.split("=")[0];return pe===K?(re=!0,`${pe}=${Y}`):ue}).filter(ue=>ue);return re||de.push(`${K}=${Y}`),`#${de.join("&")}`}return`#${Y}`}}const Lu={linearity:.3,easing:a.ba(0,0,.3,1)},Zx=a.e({deceleration:2500,maxSpeed:1400},Lu),Xx=a.e({deceleration:20,maxSpeed:1400},Lu),Jx=a.e({deceleration:1e3,maxSpeed:360},Lu),Qx=a.e({deceleration:1e3,maxSpeed:90},Lu);class e_{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.h.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=a.h.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:C}of this._inertiaBuffer)p.zoom+=C.zoomDelta||0,p.bearing+=C.bearingDelta||0,p.pitch+=C.pitchDelta||0,C.panDelta&&p.pan._add(C.panDelta),C.around&&(p.around=C.around),C.pinchAround&&(p.pinchAround=C.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(p.pan.mag()){const C=df(p.pan.mag(),v,a.e({},Zx,c||{}));_.offset=p.pan.mult(C.amount/p.pan.mag()),_.center=this._map.transform.center,ss(_,C)}if(p.zoom){const C=df(p.zoom,v,Xx);_.zoom=this._map.transform.zoom+C.amount,ss(_,C)}if(p.bearing){const C=df(p.bearing,v,Jx);_.bearing=this._map.transform.bearing+a.ad(C.amount,-179,179),ss(_,C)}if(p.pitch){const C=df(p.pitch,v,Qx);_.pitch=this._map.transform.pitch+C.amount,ss(_,C)}if(_.zoom||_.bearing){const C=p.pinchAround===void 0?p.around:p.pinchAround;_.around=C?this._map.unproject(C):this._map.getCenter()}return this.clear(),a.e(_,{noMoveStart:!0})}}function ss(w,c){(!w.duration||w.duration<c.duration)&&(w.duration=c.duration,w.easing=c.easing)}function df(w,c,p){const{maxSpeed:v,linearity:_,deceleration:C}=p,j=a.ad(w*_/(c/1e3),-v,v),z=Math.abs(j)/(C*_);return{easing:p.easing,duration:1e3*z,amount:j*(z/2)}}class Ho extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v,_={}){const C=h.mousePos(p.getCanvasContainer(),v),j=p.unproject(C);super(c,a.e({point:C,lngLat:j,originalEvent:v},_)),this._defaultPrevented=!1,this.target=p}}class ff extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v){const _=c==="touchend"?v.changedTouches:v.touches,C=h.touchPos(p.getCanvasContainer(),_),j=C.map(U=>p.unproject(U)),z=C.reduce((U,G,Y,K)=>U.add(G.div(K.length)),new a.P(0,0));super(c,{points:C,point:z,lngLats:j,lngLat:p.unproject(z),originalEvent:v}),this._defaultPrevented=!1}}class t_ extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v){super(c,{originalEvent:v}),this._defaultPrevented=!1}}class n_{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new t_(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new Ho(c.type,this._map,c))}mouseup(c){this._map.fire(new Ho(c.type,this._map,c))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Ho(c.type,this._map,c))}dblclick(c){return this._firePreventable(new Ho(c.type,this._map,c))}mouseover(c){this._map.fire(new Ho(c.type,this._map,c))}mouseout(c){this._map.fire(new Ho(c.type,this._map,c))}touchstart(c){return this._firePreventable(new ff(c.type,this._map,c))}touchmove(c){this._map.fire(new ff(c.type,this._map,c))}touchend(c){this._map.fire(new ff(c.type,this._map,c))}touchcancel(c){this._map.fire(new ff(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class r_{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new Ho(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ho("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new Ho(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ys{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.pointLocation(a.P.convert(c),this._map.terrain)}}class i_{constructor(c,p){this._map=c,this._tr=new Ys(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(h.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const v=p;if(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)return;const _=this._startPos;this._lastPos=v,this._box||(this._box=h.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const C=Math.min(_.x,v.x),j=Math.max(_.x,v.x),z=Math.min(_.y,v.y),U=Math.max(_.y,v.y);h.setTransform(this._box,`translate(${C}px,${z}px)`),this._box.style.width=j-C+"px",this._box.style.height=U-z+"px"}mouseupWindow(c,p){if(!this._active||c.button!==0)return;const v=this._startPos,_=p;if(this.reset(),h.suppressClick(),v.x!==_.x||v.y!==_.y)return this._map.fire(new a.k("boxzoomend",{originalEvent:c})),{cameraAnimation:C=>C.fitScreenCoordinates(v,_,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(h.remove(this._box),this._box=null),h.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new a.k(c,{originalEvent:p}))}}function ga(w,c){if(w.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${w.length}, points ${c.length}`);const p={};for(let v=0;v<w.length;v++)p[w[v].identifier]=c[v];return p}class Ks{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,p,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),v.length===this.numTouches&&(this.centroid=function(_){const C=new a.P(0,0);for(const j of _)C._add(j);return C.div(_.length)}(p),this.touches=ga(v,p)))}touchmove(c,p,v){if(this.aborted||!this.centroid)return;const _=ga(v,p);for(const C in this.touches){const j=_[C];(!j||j.dist(this.touches[C])>30)&&(this.aborted=!0)}}touchend(c,p,v){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class tp{constructor(c){this.singleTap=new Ks(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,p,v){this.singleTap.touchstart(c,p,v)}touchmove(c,p,v){this.singleTap.touchmove(c,p,v)}touchend(c,p,v){const _=this.singleTap.touchend(c,p,v);if(_){const C=c.timeStamp-this.lastTime<500,j=!this.lastTap||this.lastTap.dist(_)<30;if(C&&j||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class Zs{constructor(c){this._tr=new Ys(c),this._zoomIn=new tp({numTouches:1,numTaps:2}),this._zoomOut=new tp({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,v){this._zoomIn.touchstart(c,p,v),this._zoomOut.touchstart(c,p,v)}touchmove(c,p,v){this._zoomIn.touchmove(c,p,v),this._zoomOut.touchmove(c,p,v)}touchend(c,p,v){const _=this._zoomIn.touchend(c,p,v),C=this._zoomOut.touchend(c,p,v),j=this._tr;return _?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:j.zoom+1,around:j.unproject(_)},{originalEvent:c})}):C?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:j.zoom-1,around:j.unproject(C)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xs{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const p=this._moveFunction(...c);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(c,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,p){if(!this.isEnabled())return;const v=this._lastPoint;if(!v)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const _=p.length?p[0]:p;return!this._moved&&_.dist(v)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=_,this._move(v,_))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&h.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const cT={0:1,2:2};class yy{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const p=h.mouseButton(c);this._eventButton=p}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!function(p,v){const _=cT[v];return p.buttons===void 0||(p.buttons&_)!==_}(c,this._eventButton)}isValidEndEvent(c){return h.mouseButton(c)===this._eventButton}}class o_{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}const np=w=>{w.mousedown=w.dragStart,w.mousemoveWindow=w.dragMove,w.mouseup=w.dragEnd,w.contextmenu=function(c){c.preventDefault()}},ju=({enable:w,clickTolerance:c,bearingDegreesPerPixelMoved:p=.8})=>{const v=new yy({checkCorrectEvent:_=>h.mouseButton(_)===0&&_.ctrlKey||h.mouseButton(_)===2});return new Xs({clickTolerance:c,move:(_,C)=>({bearingDelta:(C.x-_.x)*p}),moveStateManager:v,enable:w,assignEvents:np})},Js=({enable:w,clickTolerance:c,pitchDegreesPerPixelMoved:p=-.5})=>{const v=new yy({checkCorrectEvent:_=>h.mouseButton(_)===0&&_.ctrlKey||h.mouseButton(_)===2});return new Xs({clickTolerance:c,move:(_,C)=>({pitchDelta:(C.y-_.y)*p}),moveStateManager:v,enable:w,assignEvents:np})};class Ot{constructor(c,p){this._minTouches=c.cooperativeGestures?2:1,this._clickTolerance=c.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(c,p,v){return this._calculateTransform(c,p,v)}touchmove(c,p,v){if(this._map._cooperativeGestures&&(this._minTouches===2&&v.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(c,!1,v.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(v.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,v)}touchend(c,p,v){this._calculateTransform(c,p,v),this._active&&v.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,v){v.length>0&&(this._active=!0);const _=ga(v,p),C=new a.P(0,0),j=new a.P(0,0);let z=0;for(const G in _){const Y=_[G],K=this._touches[G];K&&(C._add(Y),j._add(Y.sub(K)),z++,_[G]=Y)}if(this._touches=_,z<this._minTouches||!j.mag())return;const U=j.div(z);return this._sum._add(U),this._sum.mag()<this._clickTolerance?void 0:{around:C.div(z),panDelta:U}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class rp{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,p,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,v){if(!this._firstTwoTouches)return;c.preventDefault();const[_,C]=this._firstTwoTouches,j=Nl(v,p,_),z=Nl(v,p,C);if(!j||!z)return;const U=this._aroundCenter?null:j.add(z).div(2);return this._move([j,z],U,c)}touchend(c,p,v){if(!this._firstTwoTouches)return;const[_,C]=this._firstTwoTouches,j=Nl(v,p,_),z=Nl(v,p,C);j&&z||(this._active&&h.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Nl(w,c,p){for(let v=0;v<w.length;v++)if(w[v].identifier===p)return c[v]}function Nu(w,c){return Math.log(w/c)/Math.LN2}class a_ extends rp{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const v=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Nu(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Nu(this._distance,v),pinchAround:p}}}function St(w,c){return 180*w.angleWith(c)/Math.PI}class vy extends rp{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const v=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:St(this._vector,v),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,v=St(c,this._startVector);return Math.abs(v)<p}}function by(w){return Math.abs(w.y)>Math.abs(w.x)}class uT extends rp{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,p,v){super.touchstart(c,p,v),this._currentTouchCount=v.length}_start(c){this._lastPoints=c,by(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,v){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const _=c[0].sub(this._lastPoints[0]),C=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(_,C,v.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(_.y+C.y)/2*-.5}):void 0}gestureBeginsVertically(c,p,v){if(this._valid!==void 0)return this._valid;const _=c.mag()>=2,C=p.mag()>=2;if(!_&&!C)return;if(!_||!C)return this._firstMove===void 0&&(this._firstMove=v),v-this._firstMove<100&&void 0;const j=c.y>0==p.y>0;return by(c)&&by(p)&&j}}const xy={panStep:100,bearingStep:15,pitchStep:10};class s_{constructor(c){this._tr=new Ys(c);const p=xy;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,v=0,_=0,C=0,j=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?v=-1:(c.preventDefault(),C=-1);break;case 39:c.shiftKey?v=1:(c.preventDefault(),C=1);break;case 38:c.shiftKey?_=1:(c.preventDefault(),j=-1);break;case 40:c.shiftKey?_=-1:(c.preventDefault(),j=1);break;default:return}return this._rotationDisabled&&(v=0,_=0),{cameraAnimation:z=>{const U=this._tr;z.easeTo({duration:300,easeId:"keyboardHandler",easing:l_,zoom:p?Math.round(U.zoom)+p*(c.shiftKey?2:1):U.zoom,bearing:U.bearing+v*this._bearingStep,pitch:U.pitch+_*this._pitchStep,offset:[-C*this._panStep,-j*this._panStep],center:U.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function l_(w){return w*(2-w)}const c_=4.000244140625;class dT{constructor(c,p){this._onTimeout=v=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},this._map=c,this._tr=new Ys(c),this._el=c.getCanvasContainer(),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!c[this._map._metaKey])return;c.preventDefault()}let p=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const v=a.h.now(),_=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,p!==0&&p%c_==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(_*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=h.mousePos(this._el,c),v=this._tr;this._around=a.L.convert(this._aroundCenter?v.center:v.unproject(p)),this._aroundPoint=v.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(this._delta!==0){const z=this._type==="wheel"&&Math.abs(this._delta)>c_?this._wheelZoomRate:this._defaultZoomRate;let U=2/(1+Math.exp(-Math.abs(this._delta*z)));this._delta<0&&U!==0&&(U=1/U);const G=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(G*U))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,v=this._startZoom,_=this._easing;let C,j=!1;if(this._type==="wheel"&&v&&_){const z=Math.min((a.h.now()-this._lastWheelEventTime)/200,1),U=_(z);C=a.B.number(v,p,U),z<1?this._frameId||(this._frameId=!0):j=!0}else C=p,j=!0;return this._active=!0,j&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!j,zoomDelta:C-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=a.bb;if(this._prevEase){const v=this._prevEase,_=(a.h.now()-v.start)/v.duration,C=v.easing(_+.01)-v.easing(_),j=.27/Math.sqrt(C*C+1e-4)*.01,z=Math.sqrt(.0729-j*j);p=a.ba(j,z,.25,1)}return this._prevEase={start:a.h.now(),duration:c,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class _y{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class wy{constructor(c){this._tr=new Ys(c),this.reset()}reset(){this._active=!1}dblclick(c,p){return c.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Sy{constructor(){this._tap=new tp({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,p,v){if(!this._swipePoint)if(this._tapTime){const _=p[0],C=c.timeStamp-this._tapTime<500,j=this._tapPoint.dist(_)<30;C&&j?v.length>0&&(this._swipePoint=_,this._swipeTouch=v[0].identifier):this.reset()}else this._tap.touchstart(c,p,v)}touchmove(c,p,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const _=p[0],C=_.y-this._swipePoint.y;return this._swipePoint=_,c.preventDefault(),this._active=!0,{zoomDelta:C/128}}}else this._tap.touchmove(c,p,v)}touchend(c,p,v){if(this._tapTime)this._swipePoint&&v.length===0&&this.reset();else{const _=this._tap.touchend(c,p,v);_&&(this._tapTime=c.timeStamp,this._tapPoint=_)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ky{constructor(c,p,v){this._el=c,this._mousePan=p,this._touchPan=v}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class So{constructor(c,p,v){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class zl{constructor(c,p,v,_){this._el=c,this._touchZoom=p,this._touchRotate=v,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const hf=w=>w.zoom||w.drag||w.pitch||w.rotate;class Cy extends a.k{}function pf(w){return w.panDelta&&w.panDelta.mag()||w.zoomDelta||w.bearingDelta||w.pitchDelta}class Ty{constructor(c,p){this.handleWindowEvent=_=>{this.handleEvent(_,`${_.type}Window`)},this.handleEvent=(_,C)=>{if(_.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const j=_.type==="renderFrame"?void 0:_,z={needsRenderFrame:!1},U={},G={},Y=_.touches,K=Y?this._getMapTouches(Y):void 0,re=K?h.touchPos(this._el,K):h.mousePos(this._el,_);for(const{handlerName:pe,handler:le,allowed:Me}of this._handlers){if(!le.isEnabled())continue;let je;this._blockedByActive(G,Me,pe)?le.reset():le[C||_.type]&&(je=le[C||_.type](_,re,K),this.mergeHandlerResult(z,U,je,pe,j),je&&je.needsRenderFrame&&this._triggerRenderFrame()),(je||le.isActive())&&(G[pe]=le)}const de={};for(const pe in this._previousActiveHandlers)G[pe]||(de[pe]=j);this._previousActiveHandlers=G,(Object.keys(de).length||pf(z))&&(this._changes.push([z,U,de]),this._triggerRenderFrame()),(Object.keys(G).length||pf(z))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ue}=z;ue&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ue(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new e_(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,C,j]of this._listeners)h.addEventListener(_,C,_===document?this.handleWindowEvent:this.handleEvent,j)}destroy(){for(const[c,p,v]of this._listeners)h.removeEventListener(c,p,c===document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(c){const p=this._map,v=p.getCanvasContainer();this._add("mapEvent",new n_(p,c));const _=p.boxZoom=new i_(p,c);this._add("boxZoom",_),c.interactive&&c.boxZoom&&_.enable();const C=new Zs(p),j=new wy(p);p.doubleClickZoom=new _y(j,C),this._add("tapZoom",C),this._add("clickZoom",j),c.interactive&&c.doubleClickZoom&&p.doubleClickZoom.enable();const z=new Sy;this._add("tapDragZoom",z);const U=p.touchPitch=new uT(p);this._add("touchPitch",U),c.interactive&&c.touchPitch&&p.touchPitch.enable(c.touchPitch);const G=ju(c),Y=Js(c);p.dragRotate=new So(c,G,Y),this._add("mouseRotate",G,["mousePitch"]),this._add("mousePitch",Y,["mouseRotate"]),c.interactive&&c.dragRotate&&p.dragRotate.enable();const K=(({enable:Me,clickTolerance:je})=>{const ve=new yy({checkCorrectEvent:Ie=>h.mouseButton(Ie)===0&&!Ie.ctrlKey});return new Xs({clickTolerance:je,move:(Ie,Be)=>({around:Be,panDelta:Be.sub(Ie)}),activateOnStart:!0,moveStateManager:ve,enable:Me,assignEvents:np})})(c),re=new Ot(c,p);p.dragPan=new ky(v,K,re),this._add("mousePan",K),this._add("touchPan",re,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&p.dragPan.enable(c.dragPan);const de=new vy,ue=new a_;p.touchZoomRotate=new zl(v,ue,de,z),this._add("touchRotate",de,["touchPan","touchZoom"]),this._add("touchZoom",ue,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&p.touchZoomRotate.enable(c.touchZoomRotate);const pe=p.scrollZoom=new dT(p,()=>this._triggerRenderFrame());this._add("scrollZoom",pe,["mousePan"]),c.interactive&&c.scrollZoom&&p.scrollZoom.enable(c.scrollZoom);const le=p.keyboard=new s_(p);this._add("keyboard",le),c.interactive&&c.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new r_(p))}_add(c,p,v){this._handlers.push({handlerName:c,handler:p,allowed:v}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!hf(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,p,v){for(const _ in c)if(_!==v&&(!p||p.indexOf(_)<0))return!0;return!1}_getMapTouches(c){const p=[];for(const v of c)this._el.contains(v.target)&&p.push(v);return p}mergeHandlerResult(c,p,v,_,C){if(!v)return;a.e(c,v);const j={handlerName:_,originalEvent:v.originalEvent||C};v.zoomDelta!==void 0&&(p.zoom=j),v.panDelta!==void 0&&(p.drag=j),v.pitchDelta!==void 0&&(p.pitch=j),v.bearingDelta!==void 0&&(p.rotate=j)}_applyChanges(){const c={},p={},v={};for(const[_,C,j]of this._changes)_.panDelta&&(c.panDelta=(c.panDelta||new a.P(0,0))._add(_.panDelta)),_.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+_.pitchDelta),_.around!==void 0&&(c.around=_.around),_.pinchAround!==void 0&&(c.pinchAround=_.pinchAround),_.noInertia&&(c.noInertia=_.noInertia),a.e(p,C),a.e(v,j);this._updateMapTransform(c,p,v),this._changes=[]}_updateMapTransform(c,p,v){const _=this._map,C=_._getTransformForUpdate(),j=_.terrain;if(!(pf(c)||j&&this._terrainMovement))return this._fireEvents(p,v,!0);let{panDelta:z,zoomDelta:U,bearingDelta:G,pitchDelta:Y,around:K,pinchAround:re}=c;re!==void 0&&(K=re),_._stop(!0),K=K||_.transform.centerPoint;const de=C.pointLocation(z?K.sub(z):K);G&&(C.bearing+=G),Y&&(C.pitch+=Y),U&&(C.zoom+=U),j?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?C.center=C.pointLocation(C.centerPoint.sub(z)):C.setLocationAtPoint(de,K):(this._terrainMovement=!0,this._map._elevationFreeze=!0,C.setLocationAtPoint(de,K),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,C.recalculateZoom(_.terrain)})):C.setLocationAtPoint(de,K),_._applyUpdatedTransform(C),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,v,!0)}_fireEvents(c,p,v){const _=hf(this._eventsInProgress),C=hf(c),j={};for(const Y in c){const{originalEvent:K}=c[Y];this._eventsInProgress[Y]||(j[`${Y}start`]=K),this._eventsInProgress[Y]=c[Y]}!_&&C&&this._fireEvent("movestart",C.originalEvent);for(const Y in j)this._fireEvent(Y,j[Y]);C&&this._fireEvent("move",C.originalEvent);for(const Y in c){const{originalEvent:K}=c[Y];this._fireEvent(Y,K)}const z={};let U;for(const Y in this._eventsInProgress){const{handlerName:K,originalEvent:re}=this._eventsInProgress[Y];this._handlersById[K].isActive()||(delete this._eventsInProgress[Y],U=p[K]||re,z[`${Y}end`]=U)}for(const Y in z)this._fireEvent(Y,z[Y]);const G=hf(this._eventsInProgress);if(v&&(_||C)&&!G){this._updatingCamera=!0;const Y=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),K=re=>re!==0&&-this._bearingSnap<re&&re<this._bearingSnap;!Y||!Y.essential&&a.h.prefersReducedMotion?(this._map.fire(new a.k("moveend",{originalEvent:U})),K(this._map.getBearing())&&this._map.resetNorth()):(K(Y.bearing||this._map.getBearing())&&(Y.bearing=0),Y.freezeElevation=!0,this._map.easeTo(Y,{originalEvent:U})),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new a.k(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new Cy("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class u_ extends a.E{constructor(c,p){super(),this._renderFrameCallback=()=>{const v=Math.min((a.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.L(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,v){return c=a.P.convert(c).mult(-1),this.panTo(this.transform.center,a.e({offset:c},p),v)}panTo(c,p,v){return this.easeTo(a.e({center:c},p),v)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,v){return this.easeTo(a.e({zoom:c},p),v)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,v){return this.easeTo(a.e({bearing:c},p),v)}resetNorth(c,p){return this.rotateTo(0,a.e({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(a.e({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=tt.convert(c);const v=p&&p.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),v,p)}_cameraForBoxAndBearing(c,p,v,_){const C={top:0,bottom:0,right:0,left:0};if(typeof(_=a.e({padding:C,offset:[0,0],maxZoom:this.transform.maxZoom},_)).padding=="number"){const Be=_.padding;_.padding={top:Be,bottom:Be,right:Be,left:Be}}_.padding=a.e(C,_.padding);const j=this.transform,z=j.padding,U=j.project(a.L.convert(c)),G=j.project(a.L.convert(p)),Y=U.rotate(-v*Math.PI/180),K=G.rotate(-v*Math.PI/180),re=new a.P(Math.max(Y.x,K.x),Math.max(Y.y,K.y)),de=new a.P(Math.min(Y.x,K.x),Math.min(Y.y,K.y)),ue=re.sub(de),pe=(j.width-(z.left+z.right+_.padding.left+_.padding.right))/ue.x,le=(j.height-(z.top+z.bottom+_.padding.top+_.padding.bottom))/ue.y;if(le<0||pe<0)return void a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Me=Math.min(j.scaleZoom(j.scale*Math.min(pe,le)),_.maxZoom),je=a.P.convert(_.offset),ve=new a.P((_.padding.left-_.padding.right)/2,(_.padding.top-_.padding.bottom)/2).rotate(v*Math.PI/180),Ie=je.add(ve).mult(j.scale/j.zoomScale(Me));return{center:j.unproject(U.add(G).div(2).sub(Ie)),zoom:Me,bearing:v}}fitBounds(c,p,v){return this._fitInternal(this.cameraForBounds(c,p),p,v)}fitScreenCoordinates(c,p,v,_,C){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.P.convert(c)),this.transform.pointLocation(a.P.convert(p)),v,_),_,C)}_fitInternal(c,p,v){return c?(delete(p=a.e(c,p)).padding,p.linear?this.easeTo(p,v):this.flyTo(p,v)):this}jumpTo(c,p){this.stop();const v=this._getTransformForUpdate();let _=!1,C=!1,j=!1;return"zoom"in c&&v.zoom!==+c.zoom&&(_=!0,v.zoom=+c.zoom),c.center!==void 0&&(v.center=a.L.convert(c.center)),"bearing"in c&&v.bearing!==+c.bearing&&(C=!0,v.bearing=+c.bearing),"pitch"in c&&v.pitch!==+c.pitch&&(j=!0,v.pitch=+c.pitch),c.padding==null||v.isPaddingEqual(c.padding)||(v.padding=c.padding),this._applyUpdatedTransform(v),this.fire(new a.k("movestart",p)).fire(new a.k("move",p)),_&&this.fire(new a.k("zoomstart",p)).fire(new a.k("zoom",p)).fire(new a.k("zoomend",p)),C&&this.fire(new a.k("rotatestart",p)).fire(new a.k("rotate",p)).fire(new a.k("rotateend",p)),j&&this.fire(new a.k("pitchstart",p)).fire(new a.k("pitch",p)).fire(new a.k("pitchend",p)),this.fire(new a.k("moveend",p))}calculateCameraOptionsFromTo(c,p,v,_=0){const C=a.U.fromLngLat(c,p),j=a.U.fromLngLat(v,_),z=j.x-C.x,U=j.y-C.y,G=j.z-C.z,Y=Math.hypot(z,U,G);if(Y===0)throw new Error("Can't calculate camera options with same From and To");const K=Math.hypot(z,U),re=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Y/this.transform.tileSize),de=180*Math.atan2(z,-U)/Math.PI;let ue=180*Math.acos(K/Y)/Math.PI;return ue=G<0?90-ue:90+ue,{center:j.toLngLat(),zoom:re,pitch:ue,bearing:de}}easeTo(c,p){this._stop(!1,c.easeId),((c=a.e({offset:[0,0],duration:500,easing:a.bb},c)).animate===!1||!c.essential&&a.h.prefersReducedMotion)&&(c.duration=0);const v=this._getTransformForUpdate(),_=this.getZoom(),C=this.getBearing(),j=this.getPitch(),z=this.getPadding(),U="zoom"in c?+c.zoom:_,G="bearing"in c?this._normalizeBearing(c.bearing,C):C,Y="pitch"in c?+c.pitch:j,K="padding"in c?c.padding:v.padding,re=a.P.convert(c.offset);let de=v.centerPoint.add(re);const ue=v.pointLocation(de),pe=a.L.convert(c.center||ue);this._normalizeCenter(pe);const le=v.project(ue),Me=v.project(pe).sub(le),je=v.zoomScale(U-_);let ve,Ie;c.around&&(ve=a.L.convert(c.around),Ie=v.locationPoint(ve));const Be={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||U!==_,this._rotating=this._rotating||C!==G,this._pitching=this._pitching||Y!==j,this._padding=!v.isPaddingEqual(K),this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,Be),this.terrain&&this._prepareElevation(pe),this._ease(Fe=>{if(this._zooming&&(v.zoom=a.B.number(_,U,Fe)),this._rotating&&(v.bearing=a.B.number(C,G,Fe)),this._pitching&&(v.pitch=a.B.number(j,Y,Fe)),this._padding&&(v.interpolatePadding(z,K,Fe),de=v.centerPoint.add(re)),this.terrain&&!c.freezeElevation&&this._updateElevation(Fe),ve)v.setLocationAtPoint(ve,Ie);else{const Ke=v.zoomScale(v.zoom-_),nt=U>_?Math.min(2,je):Math.max(.5,je),et=Math.pow(nt,1-Fe),ct=v.unproject(le.add(Me.mult(Fe*et)).mult(Ke));v.setLocationAtPoint(v.renderWorldCopies?ct.wrap():ct,de)}this._applyUpdatedTransform(v),this._fireMoveEvents(p)},Fe=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Fe)},c),this}_prepareEase(c,p,v={}){this._moving=!0,p||v.moving||this.fire(new a.k("movestart",c)),this._zooming&&!v.zooming&&this.fire(new a.k("zoomstart",c)),this._rotating&&!v.rotating&&this.fire(new a.k("rotatestart",c)),this._pitching&&!v.pitching&&this.fire(new a.k("pitchstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&p!==this._elevationTarget){const v=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(v-(p-(v*c+this._elevationStart))/(1-c)),this._elevationTarget=p}this.transform.elevation=a.B.number(this._elevationStart,this._elevationTarget,c)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(c){if(!this.transformCameraUpdate)return;const p=c.clone(),{center:v,zoom:_,pitch:C,bearing:j,elevation:z}=this.transformCameraUpdate(p);v&&(p.center=v),_!==void 0&&(p.zoom=_),C!==void 0&&(p.pitch=C),j!==void 0&&(p.bearing=j),z!==void 0&&(p.elevation=z),this.transform.apply(p)}_fireMoveEvents(c){this.fire(new a.k("move",c)),this._zooming&&this.fire(new a.k("zoom",c)),this._rotating&&this.fire(new a.k("rotate",c)),this._pitching&&this.fire(new a.k("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const v=this._zooming,_=this._rotating,C=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,v&&this.fire(new a.k("zoomend",c)),_&&this.fire(new a.k("rotateend",c)),C&&this.fire(new a.k("pitchend",c)),this.fire(new a.k("moveend",c))}flyTo(c,p){if(!c.essential&&a.h.prefersReducedMotion){const jt=a.F(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(jt,p)}this.stop(),c=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.bb},c);const v=this._getTransformForUpdate(),_=this.getZoom(),C=this.getBearing(),j=this.getPitch(),z=this.getPadding(),U="zoom"in c?a.ad(+c.zoom,v.minZoom,v.maxZoom):_,G="bearing"in c?this._normalizeBearing(c.bearing,C):C,Y="pitch"in c?+c.pitch:j,K="padding"in c?c.padding:v.padding,re=v.zoomScale(U-_),de=a.P.convert(c.offset);let ue=v.centerPoint.add(de);const pe=v.pointLocation(ue),le=a.L.convert(c.center||pe);this._normalizeCenter(le);const Me=v.project(pe),je=v.project(le).sub(Me);let ve=c.curve;const Ie=Math.max(v.width,v.height),Be=Ie/re,Fe=je.mag();if("minZoom"in c){const jt=a.ad(Math.min(c.minZoom,_,U),v.minZoom,v.maxZoom),Qn=Ie/v.zoomScale(jt-_);ve=Math.sqrt(Qn/Fe*2)}const Ke=ve*ve;function nt(jt){const Qn=(Be*Be-Ie*Ie+(jt?-1:1)*Ke*Ke*Fe*Fe)/(2*(jt?Be:Ie)*Ke*Fe);return Math.log(Math.sqrt(Qn*Qn+1)-Qn)}function et(jt){return(Math.exp(jt)-Math.exp(-jt))/2}function ct(jt){return(Math.exp(jt)+Math.exp(-jt))/2}const Rt=nt(!1);let _n=function(jt){return ct(Rt)/ct(Rt+ve*jt)},bt=function(jt){return Ie*((ct(Rt)*(et(Qn=Rt+ve*jt)/ct(Qn))-et(Rt))/Ke)/Fe;var Qn},tn=(nt(!0)-Rt)/ve;if(Math.abs(Fe)<1e-6||!isFinite(tn)){if(Math.abs(Ie-Be)<1e-6)return this.easeTo(c,p);const jt=Be<Ie?-1:1;tn=Math.abs(Math.log(Be/Ie))/ve,bt=function(){return 0},_n=function(Qn){return Math.exp(jt*ve*Qn)}}return c.duration="duration"in c?+c.duration:1e3*tn/("screenSpeed"in c?+c.screenSpeed/ve:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=C!==G,this._pitching=Y!==j,this._padding=!v.isPaddingEqual(K),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(le),this._ease(jt=>{const Qn=jt*tn,vn=1/_n(Qn);v.zoom=jt===1?U:_+v.scaleZoom(vn),this._rotating&&(v.bearing=a.B.number(C,G,jt)),this._pitching&&(v.pitch=a.B.number(j,Y,jt)),this._padding&&(v.interpolatePadding(z,K,jt),ue=v.centerPoint.add(de)),this.terrain&&!c.freezeElevation&&this._updateElevation(jt);const mn=jt===1?le:v.unproject(Me.add(je.mult(bt(Qn))).mult(vn));v.setLocationAtPoint(v.renderWorldCopies?mn.wrap():mn,ue),this._applyUpdatedTransform(v),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,p)}if(!c){const v=this.handlers;v&&v.stop(!1)}return this}_ease(c,p,v){v.animate===!1||v.duration===0?(c(1),p()):(this._easeStart=a.h.now(),this._easeOptions=v,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,p){c=a.b5(c,-180,180);const v=Math.abs(c-p);return Math.abs(c-360-p)<v&&(c-=360),Math.abs(c+360-p)<v&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const v=c.lng-p.center.lng;c.lng+=v>180?-360:v<-180?360:0}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLatZoom(a.L.convert(c),this.transform.tileZoom)-this.transform.elevation:null}}class Yo{constructor(c={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=h.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=h.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){h.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const v=this._map._getUIString(`AttributionControl.${p}`);c.title=v,c.setAttribute("aria-label",v)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(_=>typeof _!="string"?"":_)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const p=this._map.style.sourceCaches;for(const _ in p){const C=p[_];if(C.used||C.usedForTerrain){const j=C.getSource();j.attribution&&c.indexOf(j.attribution)<0&&c.push(j.attribution)}}c=c.filter(_=>String(_).trim()),c.sort((_,C)=>_.length-C.length),c=c.filter((_,C)=>{for(let j=C+1;j<c.length;j++)if(c[j].indexOf(_)>=0)return!1;return!0});const v=c.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,c.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class br{constructor(c={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const v=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&v.classList.add("maplibregl-compact"):v.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("div","maplibregl-ctrl");const p=h.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){h.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class ip{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,v=p?this._queue.concat(p):this._queue;for(const _ of v)if(_.id===c)return void(_.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const v of p)if(!v.cancelled&&(v.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Py={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var d_=a.Q([{name:"a_pos3d",type:"Int16",components:3}]);class f_ extends a.E{constructor(c){super(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,c.usedForTerrain=!0,c.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(c,p){this.sourceCache.update(c,p),this._renderableTilesKeys=[];const v={};for(const _ of c.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))v[_.key]=!0,this._renderableTilesKeys.push(_.key),this._tiles[_.key]||(_.posMatrix=new Float64Array(16),a.aS(_.posMatrix,0,a.N,0,a.N,0,1),this._tiles[_.key]=new xn(_,this.tileSize));for(const _ in this._tiles)v[_]||delete this._tiles[_]}freeRtt(c){for(const p in this._tiles){const v=this._tiles[p];(!c||v.tileID.equals(c)||v.tileID.isChildOf(c)||c.isChildOf(v.tileID))&&(v.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c){const p={};for(const v of this._renderableTilesKeys){const _=this._tiles[v].tileID;if(_.canonical.equals(c.canonical)){const C=c.clone();C.posMatrix=new Float64Array(16),a.aS(C.posMatrix,0,a.N,0,a.N,0,1),p[v]=C}else if(_.canonical.isChildOf(c.canonical)){const C=c.clone();C.posMatrix=new Float64Array(16);const j=_.canonical.z-c.canonical.z,z=_.canonical.x-(_.canonical.x>>j<<j),U=_.canonical.y-(_.canonical.y>>j<<j),G=a.N>>j;a.aS(C.posMatrix,0,G,0,G,0,1),a.$(C.posMatrix,C.posMatrix,[-z*G,-U*G,0]),p[v]=C}else if(c.canonical.isChildOf(_.canonical)){const C=c.clone();C.posMatrix=new Float64Array(16);const j=c.canonical.z-_.canonical.z,z=c.canonical.x-(c.canonical.x>>j<<j),U=c.canonical.y-(c.canonical.y>>j<<j),G=a.N>>j;a.aS(C.posMatrix,0,a.N,0,a.N,0,1),a.$(C.posMatrix,C.posMatrix,[z*G,U*G,0]),a.a0(C.posMatrix,C.posMatrix,[1/2**j,1/2**j,0]),p[v]=C}}return p}getSourceTile(c,p){const v=this.sourceCache._source;let _=c.overscaledZ-this.deltaZoom;if(_>v.maxzoom&&(_=v.maxzoom),_<v.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(_).key);let C=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!C||!C.dem)&&p)for(;_>=v.minzoom&&(!C||!C.dem);)C=this.sourceCache.getTileByID(c.scaledTo(_--).key);return C}tilesAfterTime(c=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=c)}}class h_{constructor(c,p,v){this.painter=c,this.sourceCache=new f_(p),this.options=v,this.exaggeration=typeof v.exaggeration=="number"?v.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,p,v,_=a.N){var C;if(!(p>=0&&p<_&&v>=0&&v<_))return 0;const j=this.getTerrainData(c),z=(C=j.tile)===null||C===void 0?void 0:C.dem;if(!z)return 0;const U=function(ue,pe,le){var Me=pe[0],je=pe[1];return ue[0]=le[0]*Me+le[4]*je+le[12],ue[1]=le[1]*Me+le[5]*je+le[13],ue}([],[p/_*a.N,v/_*a.N],j.u_terrain_matrix),G=[U[0]*z.dim,U[1]*z.dim],Y=Math.floor(G[0]),K=Math.floor(G[1]),re=G[0]-Y,de=G[1]-K;return z.get(Y,K)*(1-re)*(1-de)+z.get(Y+1,K)*re*(1-de)+z.get(Y,K+1)*(1-re)*de+z.get(Y+1,K+1)*re*de}getElevationForLngLatZoom(c,p){const{tileID:v,mercatorX:_,mercatorY:C}=this._getOverscaledTileIDFromLngLatZoom(c,p);return this.getElevation(v,_%a.N,C%a.N,a.N)}getElevation(c,p,v,_=a.N){return this.getDEMElevation(c,p,v,_)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const _=this.painter.context,C=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Q(_,C,_.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Q(_,new a.R({width:1,height:1}),_.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.ao([])}const p=this.sourceCache.getSourceTile(c,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const _=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new Q(_,p.dem.getPixels(),_.gl.RGBA,{premultiply:!1}),p.demTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const v=p&&p+p.tileID.key+c.key;if(v&&!this._demMatrixCache[v]){const _=this.sourceCache.sourceCache._source.maxzoom;let C=c.canonical.z-p.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=_?C=c.canonical.z-_:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const j=c.canonical.x-(c.canonical.x>>C<<C),z=c.canonical.y-(c.canonical.y>>C<<C),U=a.bc(new Float64Array(16),[1/(a.N<<C),1/(a.N<<C),0]);a.$(U,U,[j*a.N,z*a.N,0]),this._demMatrixCache[c.key]={matrix:U,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:v?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(c){const p=this.painter,v=p.width/devicePixelRatio,_=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===v&&this._fbo.height===_||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Q(p.context,{width:v,height:_,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Q(p.context,{width:v,height:_,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(v,_,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,v,_))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let C=0,j=0;C<this._coordsTextureSize;C++)for(let z=0;z<this._coordsTextureSize;z++,j+=4)p[j+0]=255&z,p[j+1]=255&C,p[j+2]=z>>8<<4|C>>8,p[j+3]=0;const v=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),_=new Q(c,v,c.gl.RGBA,{premultiply:!1});return _.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=_,_}pointCoordinate(c){const p=new Uint8Array(4),v=this.painter.context,_=v.gl;v.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),_.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,_.RGBA,_.UNSIGNED_BYTE,p),v.bindFramebuffer.set(null);const C=p[0]+(p[2]>>4<<8),j=p[1]+((15&p[2])<<8),z=this.coordsIndex[255-p[3]],U=z&&this.sourceCache.getTileByID(z);if(!U)return null;const G=this._coordsTextureSize,Y=(1<<U.tileID.canonical.z)*G;return new a.U(this._allowMercatorOverflow(c,(U.tileID.canonical.x*G+C)/Y),(U.tileID.canonical.y*G+j)/Y,this.getElevation(U.tileID,C,j,G))}getTerrainMesh(){if(this._mesh)return this._mesh;const c=this.painter.context,p=new a.bd,v=new a.b0,_=this.meshSize,C=a.N/_,j=_*_;for(let K=0;K<=_;K++)for(let re=0;re<=_;re++)p.emplaceBack(re*C,K*C,0);for(let K=0;K<j;K+=_+1)for(let re=0;re<_;re++)v.emplaceBack(re+K,_+re+K+1,_+re+K+2),v.emplaceBack(re+K,_+re+K+2,re+K+1);const z=p.length,U=z+2*(_+1);for(const K of[0,1])for(let re=0;re<=_;re++)for(const de of[0,1])p.emplaceBack(re*C,K*a.N,de);for(let K=0;K<2*_;K+=2)v.emplaceBack(U+K,U+K+1,U+K+3),v.emplaceBack(U+K,U+K+3,U+K+2),v.emplaceBack(z+K,z+K+3,z+K+1),v.emplaceBack(z+K,z+K+2,z+K+3);const G=p.length,Y=G+2*(_+1);for(const K of[0,1])for(let re=0;re<=_;re++)for(const de of[0,1])p.emplaceBack(K*a.N,re*C,de);for(let K=0;K<2*_;K+=2)v.emplaceBack(G+K,G+K+1,G+K+3),v.emplaceBack(G+K,G+K+3,G+K+2),v.emplaceBack(Y+K,Y+K+3,Y+K+1),v.emplaceBack(Y+K,Y+K+2,Y+K+3);return this._mesh={indexBuffer:c.createIndexBuffer(v),vertexBuffer:c.createVertexBuffer(p,d_.members),segments:a.S.simpleSegment(0,0,p.length,v.length)},this._mesh}getMeshFrameDelta(c){return 2*Math.PI*a.be/Math.pow(2,c)/5}getMinTileElevationForLngLatZoom(c,p){var v;const{tileID:_}=this._getOverscaledTileIDFromLngLatZoom(c,p);return(v=this.getMinMaxElevation(_).minElevation)!==null&&v!==void 0?v:0}getMinMaxElevation(c){const p=this.getTerrainData(c).tile,v={minElevation:null,maxElevation:null};return p&&p.dem&&(v.minElevation=p.dem.min*this.exaggeration,v.maxElevation=p.dem.max*this.exaggeration),v}_getOverscaledTileIDFromLngLatZoom(c,p){const v=a.U.fromLngLat(c.wrap()),_=(1<<p)*a.N,C=v.x*_,j=v.y*_,z=Math.floor(C/a.N),U=Math.floor(j/a.N);return{tileID:new a.O(p,0,p,z,U),mercatorX:C,mercatorY:j}}_allowMercatorOverflow(c,p){const v=c.x<this.painter.width/2;let _=a.bf(p);const C=this.painter.transform.center.lng;return v&&Math.sign(_)>0&&Math.sign(C)<0||!v&&Math.sign(_)<0&&Math.sign(C)>0?(_=360*Math.sign(C)+_,a.G(_)):p}}class fT{constructor(c,p,v){this._context=c,this._size=p,this._tileSize=v,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),v=new Q(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return v.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(v.texture),{id:c,fbo:p,texture:v,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>c.id!==p),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(c=>!c.inUse)===!1}}const lo={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class op{constructor(c,p){this.painter=c,this.terrain=p,this.pool=new fT(c.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=c._order.filter(v=>!c._layers[v].isHidden(p)),this._coordsDescendingInv={};for(const v in c.sourceCaches){this._coordsDescendingInv[v]={};const _=c.sourceCaches[v].getVisibleCoordinates();for(const C of _){const j=this.terrain.sourceCache.getTerrainCoords(C);for(const z in j)this._coordsDescendingInv[v][z]||(this._coordsDescendingInv[v][z]=[]),this._coordsDescendingInv[v][z].push(j[z])}}this._coordsDescendingInvStr={};for(const v of c._order){const _=c._layers[v],C=_.source;if(lo[_.type]&&!this._coordsDescendingInvStr[C]){this._coordsDescendingInvStr[C]={};for(const j in this._coordsDescendingInv[C])this._coordsDescendingInvStr[C][j]=this._coordsDescendingInv[C][j].map(z=>z.key).sort().join()}}for(const v of this._renderableTiles)for(const _ in this._coordsDescendingInvStr){const C=this._coordsDescendingInvStr[_][v.tileID.key];C&&C!==v.rttCoords[_]&&(v.rtt=[])}}renderLayer(c){if(c.isHidden(this.painter.transform.zoom))return!1;const p=c.type,v=this.painter,_=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(lo[p]&&(this._prevType&&lo[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(c.id),!_))return!0;if(lo[this._prevType]||lo[p]&&_){this._prevType=p;const C=this._stacks.length-1,j=this._stacks[C]||[];for(const z of this._renderableTiles){if(this.pool.isFull()&&(Nr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(z),z.rtt[C]){const G=this.pool.getObjectForId(z.rtt[C].id);if(G.stamp===z.rtt[C].stamp){this.pool.useObject(G);continue}}const U=this.pool.getOrCreateFreeObject();this.pool.useObject(U),this.pool.stampObject(U),z.rtt[C]={id:U.id,stamp:U.stamp},v.context.bindFramebuffer.set(U.fbo.framebuffer),v.context.clear({color:a.aT.transparent,stencil:0}),v.currentStencilSource=void 0;for(let G=0;G<j.length;G++){const Y=v.style._layers[j[G]],K=Y.source?this._coordsDescendingInv[Y.source][z.tileID.key]:[z.tileID];v.context.viewport.set([0,0,U.fbo.width,U.fbo.height]),v._renderTileClippingMasks(Y,K),v.renderLayer(v,v.style.sourceCaches[Y.source],Y,K),Y.source&&(z.rttCoords[Y.source]=this._coordsDescendingInvStr[Y.source][z.tileID.key])}}return Nr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),lo[p]}return!1}}const Bt=f,en={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},mf=w=>{w.touchstart=w.dragStart,w.touchmoveWindow=w.dragMove,w.touchend=w.dragEnd},Ey={showCompass:!0,showZoom:!0,visualizePitch:!1};class Oy{constructor(c,p,v=!1){this.mousedown=j=>{this.startMouse(a.e({},j,{ctrlKey:!0,preventDefault:()=>j.preventDefault()}),h.mousePos(this.element,j)),h.addEventListener(window,"mousemove",this.mousemove),h.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=j=>{this.moveMouse(j,h.mousePos(this.element,j))},this.mouseup=j=>{this.mouseRotate.dragEnd(j),this.mousePitch&&this.mousePitch.dragEnd(j),this.offTemp()},this.touchstart=j=>{j.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=h.touchPos(this.element,j.targetTouches)[0],this.startTouch(j,this._startPos),h.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.addEventListener(window,"touchend",this.touchend))},this.touchmove=j=>{j.targetTouches.length!==1?this.reset():(this._lastPos=h.touchPos(this.element,j.targetTouches)[0],this.moveTouch(j,this._lastPos))},this.touchend=j=>{j.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const _=c.dragRotate._mouseRotate.getClickTolerance(),C=c.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=ju({clickTolerance:_,enable:!0}),this.touchRotate=(({enable:j,clickTolerance:z,bearingDegreesPerPixelMoved:U=.8})=>{const G=new o_;return new Xs({clickTolerance:z,move:(Y,K)=>({bearingDelta:(K.x-Y.x)*U}),moveStateManager:G,enable:j,assignEvents:mf})})({clickTolerance:_,enable:!0}),this.map=c,v&&(this.mousePitch=Js({clickTolerance:C,enable:!0}),this.touchPitch=(({enable:j,clickTolerance:z,pitchDegreesPerPixelMoved:U=-.5})=>{const G=new o_;return new Xs({clickTolerance:z,move:(Y,K)=>({pitchDelta:(K.y-Y.y)*U}),moveStateManager:G,enable:j,assignEvents:mf})})({clickTolerance:C,enable:!0})),h.addEventListener(p,"mousedown",this.mousedown),h.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),h.addEventListener(p,"touchcancel",this.reset)}startMouse(c,p){this.mouseRotate.dragStart(c,p),this.mousePitch&&this.mousePitch.dragStart(c,p),h.disableDrag()}startTouch(c,p){this.touchRotate.dragStart(c,p),this.touchPitch&&this.touchPitch.dragStart(c,p),h.disableDrag()}moveMouse(c,p){const v=this.map,{bearingDelta:_}=this.mouseRotate.dragMove(c,p)||{};if(_&&v.setBearing(v.getBearing()+_),this.mousePitch){const{pitchDelta:C}=this.mousePitch.dragMove(c,p)||{};C&&v.setPitch(v.getPitch()+C)}}moveTouch(c,p){const v=this.map,{bearingDelta:_}=this.touchRotate.dragMove(c,p)||{};if(_&&v.setBearing(v.getBearing()+_),this.touchPitch){const{pitchDelta:C}=this.touchPitch.dragMove(c,p)||{};C&&v.setPitch(v.getPitch()+C)}}off(){const c=this.element;h.removeEventListener(c,"mousedown",this.mousedown),h.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend),h.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){h.enableDrag(),h.removeEventListener(window,"mousemove",this.mousemove),h.removeEventListener(window,"mouseup",this.mouseup),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend)}}let ni;function My(w,c,p){if(w=new a.L(w.lng,w.lat),c){const v=new a.L(w.lng-360,w.lat),_=new a.L(w.lng+360,w.lat),C=p.locationPoint(w).distSqr(c);p.locationPoint(v).distSqr(c)<C?w=v:p.locationPoint(_).distSqr(c)<C&&(w=_)}for(;Math.abs(w.lng-p.center.lng)>180;){const v=p.locationPoint(w);if(v.x>=0&&v.y>=0&&v.x<=p.width&&v.y<=p.height)break;w.lng>p.center.lng?w.lng-=360:w.lng+=360}return w}const ya={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function p_(w,c,p){const v=w.classList;for(const _ in ya)v.remove(`maplibregl-${p}-anchor-${_}`);v.add(`maplibregl-${p}-anchor-${c}`)}class kc extends a.E{constructor(c){if(super(),this._onKeyPress=p=>{const v=p.code,_=p.charCode||p.keyCode;v!=="Space"&&v!=="Enter"&&_!==32&&_!==13||this.togglePopup()},this._onMapClick=p=>{const v=p.originalEvent.target,_=this._element;this._popup&&(v===_||_.contains(v))&&this.togglePopup()},this._update=p=>{if(!this._map)return;const v=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!v)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=My(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(_=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let C="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?C="rotateX(0deg)":this._pitchAlignment==="map"&&(C=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),h.setTransform(this._element,`${ya[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${C} ${_}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const j=this._map.unproject(this._pos),z=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=j.distanceTo(this._lngLat)>20*z?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=p=>{if(!this._isDragging){const v=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=v}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.k("dragstart"))),this.fire(new a.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.k("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=a.P.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=h.create("div"),this._element.setAttribute("aria-label","Map marker");const p=h.createNS("http://www.w3.org/2000/svg","svg"),v=41,_=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${v}px`),p.setAttributeNS(null,"width",`${_}px`),p.setAttributeNS(null,"viewBox",`0 0 ${_} ${v}`);const C=h.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"stroke","none"),C.setAttributeNS(null,"stroke-width","1"),C.setAttributeNS(null,"fill","none"),C.setAttributeNS(null,"fill-rule","evenodd");const j=h.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"fill-rule","nonzero");const z=h.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"transform","translate(3.0, 29.0)"),z.setAttributeNS(null,"fill","#000000");const U=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Me of U){const je=h.createNS("http://www.w3.org/2000/svg","ellipse");je.setAttributeNS(null,"opacity","0.04"),je.setAttributeNS(null,"cx","10.5"),je.setAttributeNS(null,"cy","5.80029008"),je.setAttributeNS(null,"rx",Me.rx),je.setAttributeNS(null,"ry",Me.ry),z.appendChild(je)}const G=h.createNS("http://www.w3.org/2000/svg","g");G.setAttributeNS(null,"fill",this._color);const Y=h.createNS("http://www.w3.org/2000/svg","path");Y.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),G.appendChild(Y);const K=h.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"opacity","0.25"),K.setAttributeNS(null,"fill","#000000");const re=h.createNS("http://www.w3.org/2000/svg","path");re.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),K.appendChild(re);const de=h.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(6.0, 7.0)"),de.setAttributeNS(null,"fill","#FFFFFF");const ue=h.createNS("http://www.w3.org/2000/svg","g");ue.setAttributeNS(null,"transform","translate(8.0, 8.0)");const pe=h.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#000000"),pe.setAttributeNS(null,"opacity","0.25"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962");const le=h.createNS("http://www.w3.org/2000/svg","circle");le.setAttributeNS(null,"fill","#FFFFFF"),le.setAttributeNS(null,"cx","5.5"),le.setAttributeNS(null,"cy","5.5"),le.setAttributeNS(null,"r","5.4999962"),ue.appendChild(pe),ue.appendChild(le),j.appendChild(z),j.appendChild(G),j.appendChild(K),j.appendChild(de),j.appendChild(ue),p.appendChild(j),p.setAttributeNS(null,"height",v*this._scale+"px"),p.setAttributeNS(null,"width",_*this._scale+"px"),this._element.appendChild(p),this._offset=a.P.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),p_(this._element,this._anchor,"marker"),c&&c.className)for(const p of c.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),c.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),h.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=a.L.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const _=Math.abs(13.5)/Math.SQRT2;c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(c){return this._offset=a.P.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const zr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let $r=0,zu=!1;const gf={maxWidth:100,unit:"metric"};function yf(w,c,p){const v=p&&p.maxWidth||100,_=w._container.clientHeight/2,C=w.unproject([0,_]),j=w.unproject([v,_]),z=C.distanceTo(j);if(p&&p.unit==="imperial"){const U=3.2808*z;U>5280?Cc(c,v,U/5280,w._getUIString("ScaleControl.Miles")):Cc(c,v,U,w._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?Cc(c,v,z/1852,w._getUIString("ScaleControl.NauticalMiles")):z>=1e3?Cc(c,v,z/1e3,w._getUIString("ScaleControl.Kilometers")):Cc(c,v,z,w._getUIString("ScaleControl.Meters"))}function Cc(w,c,p,v){const _=function(C){const j=Math.pow(10,`${Math.floor(C)}`.length-1);let z=C/j;return z=z>=10?10:z>=5?5:z>=3?3:z>=2?2:z>=1?1:function(U){const G=Math.pow(10,Math.ceil(-Math.log(U)/Math.LN10));return Math.round(U*G)/G}(z),j*z}(p);w.style.width=c*(_/p)+"px",w.innerHTML=`${_}&nbsp;${v}`}const Ay={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Iy=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Bu(w){if(w){if(typeof w=="number"){const c=Math.round(Math.abs(w)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,w),"top-left":new a.P(c,c),"top-right":new a.P(-c,c),bottom:new a.P(0,-w),"bottom-left":new a.P(c,-c),"bottom-right":new a.P(-c,-c),left:new a.P(w,0),right:new a.P(-w,0)}}if(w instanceof a.P||Array.isArray(w)){const c=a.P.convert(w);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:a.P.convert(w.center||[0,0]),top:a.P.convert(w.top||[0,0]),"top-left":a.P.convert(w["top-left"]||[0,0]),"top-right":a.P.convert(w["top-right"]||[0,0]),bottom:a.P.convert(w.bottom||[0,0]),"bottom-left":a.P.convert(w["bottom-left"]||[0,0]),"bottom-right":a.P.convert(w["bottom-right"]||[0,0]),left:a.P.convert(w.left||[0,0]),right:a.P.convert(w.right||[0,0])}}return Bu(new a.P(0,0))}const $y={extend:(w,...c)=>a.e(w,...c),run(w){w()},logToElement(w,c=!1,p="log"){const v=window.document.getElementById(p);v&&(c&&(v.innerHTML=""),v.innerHTML+=`<br>${w}`)}},Ry=f;class Un{static get version(){return Ry}static get workerCount(){return Wn.workerCount}static set workerCount(c){Wn.workerCount=c}static get maxParallelImageRequests(){return a.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(c){a.c.MAX_PARALLEL_IMAGE_REQUESTS=c}static get workerUrl(){return a.c.WORKER_URL}static set workerUrl(c){a.c.WORKER_URL=c}static addProtocol(c,p){a.c.REGISTERED_PROTOCOLS[c]=p}static removeProtocol(c){delete a.c.REGISTERED_PROTOCOLS[c]}}return Un.Map=class extends u_{constructor(w){if(a.bg.mark(a.bh.create),(w=a.e({},en,w)).minZoom!=null&&w.maxZoom!=null&&w.minZoom>w.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(w.minPitch!=null&&w.maxPitch!=null&&w.minPitch>w.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(w.minPitch!=null&&w.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(w.maxPitch!=null&&w.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new ep(w.minZoom,w.maxZoom,w.minPitch,w.maxPitch,w.renderWorldCopies),{bearingSnap:w.bearingSnap}),this._cooperativeGesturesOnWheel=c=>{this._onCooperativeGesture(c,c[this._metaKey],1)},this._contextLost=c=>{c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.k("webglcontextlost",{originalEvent:c}))},this._contextRestored=c=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.k("webglcontextrestored",{originalEvent:c}))},this._onMapScroll=c=>{if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=w.interactive,this._cooperativeGestures=w.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=w.maxTileCacheSize,this._maxTileCacheZoomLevels=w.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=w.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=w.preserveDrawingBuffer,this._antialias=w.antialias,this._trackResize=w.trackResize,this._bearingSnap=w.bearingSnap,this._refreshExpiredTiles=w.refreshExpiredTiles,this._fadeDuration=w.fadeDuration,this._crossSourceCollisions=w.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=w.collectResourceTiming,this._renderTaskQueue=new ip,this._controls=[],this._mapId=a.a2(),this._locale=a.e({},Py,w.locale),this._clickTolerance=w.clickTolerance,this._overridePixelRatio=w.pixelRatio,this._maxCanvasSize=w.maxCanvasSize,this.transformCameraUpdate=w.transformCameraUpdate,this._imageQueueHandle=O.addThrottleControl(()=>this.isMoving()),this._requestManager=new M(w.transformRequest),typeof w.container=="string"){if(this._container=document.getElementById(w.container),!this._container)throw new Error(`Container '${w.container}' not found.`)}else{if(!(w.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=w.container}if(w.maxBounds&&this.setMaxBounds(w.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let c=!1;const p=Sc(v=>{this._trackResize&&!this._removed&&this.resize(v)._update()},50);this._resizeObserver=new ResizeObserver(v=>{c?p(v):c=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Ty(this,w),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=w.hash&&new uf(typeof w.hash=="string"&&w.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch}),w.bounds&&(this.resize(),this.fitBounds(w.bounds,a.e({},w.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=w.localIdeographFontFamily,this._validateStyle=w.validateStyle,w.style&&this.setStyle(w.style,{localIdeographFontFamily:w.localIdeographFontFamily}),w.attributionControl&&this.addControl(new Yo({customAttribution:w.customAttribution})),w.maplibreLogo&&this.addControl(new br,w.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new a.k(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new a.k(`${c.dataType}dataloading`,c))}),this.on("dataabort",c=>{this.fire(new a.k("sourcedataabort",c))})}_getMapId(){return this._mapId}addControl(w,c){if(c===void 0&&(c=w.getDefaultPosition?w.getDefaultPosition():"top-right"),!w||!w.onAdd)return this.fire(new a.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=w.onAdd(this);this._controls.push(w);const v=this._controlPositions[c];return c.indexOf("bottom")!==-1?v.insertBefore(p,v.firstChild):v.appendChild(p),this}removeControl(w){if(!w||!w.onRemove)return this.fire(new a.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(w);return c>-1&&this._controls.splice(c,1),w.onRemove(this),this}hasControl(w){return this._controls.indexOf(w)>-1}calculateCameraOptionsFromTo(w,c,p,v){return v==null&&this.terrain&&(v=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(w,c,p,v)}resize(w){var c;const p=this._containerDimensions(),v=p[0],_=p[1],C=this._getClampedPixelRatio(v,_);if(this._resizeCanvas(v,_,C),this.painter.resize(v,_,C),this.painter.overLimit()){const z=this.painter.context.gl;this._maxCanvasSize=[z.drawingBufferWidth,z.drawingBufferHeight];const U=this._getClampedPixelRatio(v,_);this._resizeCanvas(v,_,U),this.painter.resize(v,_,U)}this.transform.resize(v,_),(c=this._requestedCameraState)===null||c===void 0||c.resize(v,_);const j=!this._moving;return j&&(this.stop(),this.fire(new a.k("movestart",w)).fire(new a.k("move",w))),this.fire(new a.k("resize",w)),j&&this.fire(new a.k("moveend",w)),this}_getClampedPixelRatio(w,c){const{0:p,1:v}=this._maxCanvasSize,_=this.getPixelRatio(),C=w*_,j=c*_;return Math.min(C>p?p/C:1,j>v?v/j:1)*_}getPixelRatio(){var w;return(w=this._overridePixelRatio)!==null&&w!==void 0?w:devicePixelRatio}setPixelRatio(w){this._overridePixelRatio=w,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(w){return this.transform.setMaxBounds(tt.convert(w)),this._update()}setMinZoom(w){if((w=w??-2)>=-2&&w<=this.transform.maxZoom)return this.transform.minZoom=w,this._update(),this.getZoom()<w&&this.setZoom(w),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(w){if((w=w??22)>=this.transform.minZoom)return this.transform.maxZoom=w,this._update(),this.getZoom()>w&&this.setZoom(w),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(w){if((w=w??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(w>=0&&w<=this.transform.maxPitch)return this.transform.minPitch=w,this._update(),this.getPitch()<w&&this.setPitch(w),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(w){if((w=w??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(w>=this.transform.minPitch)return this.transform.maxPitch=w,this._update(),this.getPitch()>w&&this.setPitch(w),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(w){return this.transform.renderWorldCopies=w,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(w){return this._cooperativeGestures=w,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(w){return this.transform.locationPoint(a.L.convert(w),this.style&&this.terrain)}unproject(w){return this.transform.pointLocation(a.P.convert(w),this.terrain)}isMoving(){var w;return this._moving||((w=this.handlers)===null||w===void 0?void 0:w.isMoving())}isZooming(){var w;return this._zooming||((w=this.handlers)===null||w===void 0?void 0:w.isZooming())}isRotating(){var w;return this._rotating||((w=this.handlers)===null||w===void 0?void 0:w.isRotating())}_createDelegatedListener(w,c,p){if(w==="mouseenter"||w==="mouseover"){let v=!1;return{layer:c,listener:p,delegates:{mousemove:C=>{const j=this.getLayer(c)?this.queryRenderedFeatures(C.point,{layers:[c]}):[];j.length?v||(v=!0,p.call(this,new Ho(w,this,C.originalEvent,{features:j}))):v=!1},mouseout:()=>{v=!1}}}}if(w==="mouseleave"||w==="mouseout"){let v=!1;return{layer:c,listener:p,delegates:{mousemove:j=>{(this.getLayer(c)?this.queryRenderedFeatures(j.point,{layers:[c]}):[]).length?v=!0:v&&(v=!1,p.call(this,new Ho(w,this,j.originalEvent)))},mouseout:j=>{v&&(v=!1,p.call(this,new Ho(w,this,j.originalEvent)))}}}}{const v=_=>{const C=this.getLayer(c)?this.queryRenderedFeatures(_.point,{layers:[c]}):[];C.length&&(_.features=C,p.call(this,_),delete _.features)};return{layer:c,listener:p,delegates:{[w]:v}}}}on(w,c,p){if(p===void 0)return super.on(w,c);const v=this._createDelegatedListener(w,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[w]=this._delegatedListeners[w]||[],this._delegatedListeners[w].push(v);for(const _ in v.delegates)this.on(_,v.delegates[_]);return this}once(w,c,p){if(p===void 0)return super.once(w,c);const v=this._createDelegatedListener(w,c,p);for(const _ in v.delegates)this.once(_,v.delegates[_]);return this}off(w,c,p){return p===void 0?super.off(w,c):(this._delegatedListeners&&this._delegatedListeners[w]&&(v=>{const _=this._delegatedListeners[w];for(let C=0;C<_.length;C++){const j=_[C];if(j.layer===c&&j.listener===p){for(const z in j.delegates)this.off(z,j.delegates[z]);return _.splice(C,1),this}}})(),this)}queryRenderedFeatures(w,c){if(!this.style)return[];let p;const v=w instanceof a.P||Array.isArray(w),_=v?w:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(v?{}:w)||{},_ instanceof a.P||typeof _[0]=="number")p=[a.P.convert(_)];else{const C=a.P.convert(_[0]),j=a.P.convert(_[1]);p=[C,new a.P(j.x,C.y),j,new a.P(C.x,j.y),C]}return this.style.queryRenderedFeatures(p,c,this.transform)}querySourceFeatures(w,c){return this.style.querySourceFeatures(w,c)}setStyle(w,c){return(c=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&w?(this._diffStyle(w,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(w,c))}setTransformRequest(w){return this._requestManager.setTransformRequest(w),this}_getUIString(w){const c=this._locale[w];if(c==null)throw new Error(`Missing UI string '${w}'`);return c}_updateStyle(w,c){if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(w,c));const p=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!w)),w?(this.style=new ji(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof w=="string"?this.style.loadURL(w,c,p):this.style.loadJSON(w,c,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ji(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(w,c){if(typeof w=="string"){const p=this._requestManager.transformRequest(w,A.Style);a.f(p,(v,_)=>{v?this.fire(new a.j(v)):_&&this._updateDiff(_,c)})}else typeof w=="object"&&this._updateDiff(w,c)}_updateDiff(w,c){try{this.style.setState(w,c)&&this._update(!0)}catch(p){a.w(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(w,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(w,c){return this._lazyInitEmptyStyle(),this.style.addSource(w,c),this._update(!0)}isSourceLoaded(w){const c=this.style&&this.style.sourceCaches[w];if(c!==void 0)return c.loaded();this.fire(new a.j(new Error(`There is no source with ID '${w}'`)))}setTerrain(w){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),w){const c=this.style.sourceCaches[w.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${w.source}`);for(const p in this.style._layers){const v=this.style._layers[p];v.type==="hillshade"&&v.source===w.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new h_(this.painter,c,w),this.painter.renderToTexture=new op(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==w.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.k("terrain",{terrain:w})),this}getTerrain(){var w,c;return(c=(w=this.terrain)===null||w===void 0?void 0:w.options)!==null&&c!==void 0?c:null}areTilesLoaded(){const w=this.style&&this.style.sourceCaches;for(const c in w){const p=w[c]._tiles;for(const v in p){const _=p[v];if(_.state!=="loaded"&&_.state!=="errored")return!1}}return!0}addSourceType(w,c,p){return this._lazyInitEmptyStyle(),this.style.addSourceType(w,c,p)}removeSource(w){return this.style.removeSource(w),this._update(!0)}getSource(w){return this.style.getSource(w)}addImage(w,c,p={}){const{pixelRatio:v=1,sdf:_=!1,stretchX:C,stretchY:j,content:z}=p;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||a.a(c))){if(c.width===void 0||c.height===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:U,height:G,data:Y}=c,K=c;return this.style.addImage(w,{data:new a.R({width:U,height:G},new Uint8Array(Y)),pixelRatio:v,stretchX:C,stretchY:j,content:z,sdf:_,version:0,userImage:K}),K.onAdd&&K.onAdd(this,w),this}}{const{width:U,height:G,data:Y}=a.h.getImageData(c);this.style.addImage(w,{data:new a.R({width:U,height:G},Y),pixelRatio:v,stretchX:C,stretchY:j,content:z,sdf:_,version:0})}}updateImage(w,c){const p=this.style.getImage(w);if(!p)return this.fire(new a.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=c instanceof HTMLImageElement||a.a(c)?a.h.getImageData(c):c,{width:_,height:C,data:j}=v;if(_===void 0||C===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==p.data.width||C!==p.data.height)return this.fire(new a.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const z=!(c instanceof HTMLImageElement||a.a(c));return p.data.replace(j,z),this.style.updateImage(w,p),this}getImage(w){return this.style.getImage(w)}hasImage(w){return w?!!this.style.getImage(w):(this.fire(new a.j(new Error("Missing required image id"))),!1)}removeImage(w){this.style.removeImage(w)}loadImage(w,c){O.getImage(this._requestManager.transformRequest(w,A.Image),c)}listImages(){return this.style.listImages()}addLayer(w,c){return this._lazyInitEmptyStyle(),this.style.addLayer(w,c),this._update(!0)}moveLayer(w,c){return this.style.moveLayer(w,c),this._update(!0)}removeLayer(w){return this.style.removeLayer(w),this._update(!0)}getLayer(w){return this.style.getLayer(w)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(w,c,p){return this.style.setLayerZoomRange(w,c,p),this._update(!0)}setFilter(w,c,p={}){return this.style.setFilter(w,c,p),this._update(!0)}getFilter(w){return this.style.getFilter(w)}setPaintProperty(w,c,p,v={}){return this.style.setPaintProperty(w,c,p,v),this._update(!0)}getPaintProperty(w,c){return this.style.getPaintProperty(w,c)}setLayoutProperty(w,c,p,v={}){return this.style.setLayoutProperty(w,c,p,v),this._update(!0)}getLayoutProperty(w,c){return this.style.getLayoutProperty(w,c)}setGlyphs(w,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(w,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(w,c,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(w,c,p,v=>{v||this._update(!0)}),this}removeSprite(w){return this._lazyInitEmptyStyle(),this.style.removeSprite(w),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(w,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(w,c,p=>{p||this._update(!0)}),this}setLight(w,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(w,c),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(w,c){return this.style.setFeatureState(w,c),this._update()}removeFeatureState(w,c){return this.style.removeFeatureState(w,c),this._update()}getFeatureState(w){return this.style.getFeatureState(w)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let w=0,c=0;return this._container&&(w=this._container.clientWidth||400,c=this._container.clientHeight||300),[w,c]}_setupContainer(){const w=this._container;w.classList.add("maplibregl-map");const c=this._canvasContainer=h.create("div","maplibregl-canvas-container",w);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=h.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),v=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],v);const _=this._controlContainer=h.create("div","maplibregl-control-container",w),C=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(j=>{C[j]=h.create("div",`maplibregl-ctrl-${j} `,_)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=h.create("div","maplibregl-cooperative-gesture-screen",this._container);let w=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(w=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${w}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){h.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(w,c,p){this._canvas.width=Math.floor(p*w),this._canvas.height=Math.floor(p*c),this._canvas.style.width=`${w}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const w={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let c=null;this._canvas.addEventListener("webglcontextcreationerror",v=>{c={requestedAttributes:w},v&&(c.statusMessage=v.statusMessage,c.type=v.type)},{once:!0});const p=this._canvas.getContext("webgl2",w)||this._canvas.getContext("webgl",w);if(!p){const v="Failed to initialize WebGL";throw c?(c.message=v,new Error(JSON.stringify(c))):new Error(v)}this.painter=new wc(p,this.transform),g.testSupport(p)}_onCooperativeGesture(w,c,p){return!c&&p<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(w){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||w,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(w){return this._update(),this._renderTaskQueue.add(w)}_cancelRenderFrame(w){this._renderTaskQueue.remove(w)}_render(w){const c=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(w),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const _=this.transform.zoom,C=a.h.now();this.style.zoomHistory.update(_,C);const j=new a.a8(_,{now:C,fadeDuration:c,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),z=j.crossFadingFactor();z===1&&z===this._crossFadingFactor||(p=!0,this._crossFadingFactor=z),this.style.update(j)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,c,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:c,showPadding:this.showPadding}),this.fire(new a.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.bg.mark(a.bh.load),this.fire(new a.k("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const v=this._sourcesDirty||this._styleDirty||this._placementDirty;return v||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.k("idle")),!this._loaded||this._fullyLoaded||v||(this._fullyLoaded=!0,a.bg.mark(a.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var w;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),O.removeThrottleControl(this._imageQueueHandle),(w=this._resizeObserver)===null||w===void 0||w.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),h.remove(this._canvasContainer),h.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),a.bg.clearMetrics(),this._removed=!0,this.fire(new a.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.h.frame(w=>{a.bg.frame(w),this._frame=null,this._render(w)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(w){this._showTileBoundaries!==w&&(this._showTileBoundaries=w,this._update())}get showPadding(){return!!this._showPadding}set showPadding(w){this._showPadding!==w&&(this._showPadding=w,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(w){this._showCollisionBoxes!==w&&(this._showCollisionBoxes=w,w?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(w){this._showOverdrawInspector!==w&&(this._showOverdrawInspector=w,this._update())}get repaint(){return!!this._repaint}set repaint(w){this._repaint!==w&&(this._repaint=w,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(w){this._vertices=w,this._update()}get version(){return Bt}getCameraTargetElevation(){return this.transform.elevation}},Un.NavigationControl=class{constructor(w){this._updateZoomButtons=()=>{const c=this._map.getZoom(),p=c===this._map.getMaxZoom(),v=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},this._rotateCompassArrow=()=>{const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=c},this._setButtonTitle=(c,p)=>{const v=this._map._getUIString(`NavigationControl.${p}`);c.title=v,c.setAttribute("aria-label",v)},this.options=a.e({},Ey,w),this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=h.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(w){return this._map=w,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Oy(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){h.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(w,c){const p=h.create("button",w,this._container);return p.type="button",p.addEventListener("click",c),p}},Un.GeolocateControl=class extends a.E{constructor(w){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new a.k("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.k("geolocate",c)),this._finish()}},this._updateCamera=c=>{const p=new a.L(c.coords.longitude,c.coords.latitude),v=c.coords.accuracy,_=this._map.getBearing(),C=a.e({bearing:_},this.options.fitBoundsOptions),j=tt.fromLngLat(p,v);this._map.fitBounds(j,C,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const p=new a.L(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=c=>{if(this._map){if(this.options.trackUserLocation)if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&zu)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.k("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=c=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=h.create("button","maplibregl-ctrl-geolocate",this._container),h.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",c===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=h.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new kc({element:this._dotElement}),this._circleElement=h.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new kc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.k("trackuserlocationend")))})}},this.options=a.e({},zr,w)}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(c,p=!1){ni===void 0||p?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(v=>{ni=v.state!=="denied",c(ni)}).catch(()=>{ni=!!window.navigator.geolocation,c(ni)}):(ni=!!window.navigator.geolocation,c(ni)):c(ni)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),h.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,$r=0,zu=!1}_isOutOfMapMaxBounds(w){const c=this._map.getMaxBounds(),p=w.coords;return c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const w=this._map.getBounds(),c=w.getSouthEast(),p=w.getNorthEast(),v=c.distanceTo(p),_=Math.ceil(this._accuracy/(v/this._map._container.clientHeight)*2);this._circleElement.style.width=`${_}px`,this._circleElement.style.height=`${_}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":$r--,zu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let w;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),$r++,$r>1?(w={maximumAge:6e5,timeout:0},zu=!0):(w=this.options.positionOptions,zu=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,w)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Un.AttributionControl=Yo,Un.LogoControl=br,Un.ScaleControl=class{constructor(w){this._onMove=()=>{yf(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,yf(this._map,this._container,this.options)},this.options=a.e({},gf,w)}getDefaultPosition(){return"bottom-left"}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-scale",w.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){h.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Un.FullscreenControl=class extends a.E{constructor(w={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,w&&w.container&&(w.container instanceof HTMLElement?this._container=w.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(w){return this._map=w,this._container||(this._container=this._map.getContainer()),this._controlContainer=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){h.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const w=this._fullscreenButton=h.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);h.create("span","maplibregl-ctrl-icon",w).setAttribute("aria-hidden","true"),w.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const w=this._getTitle();this._fullscreenButton.setAttribute("aria-label",w),this._fullscreenButton.title=w}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new a.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Un.TerrainControl=class{constructor(w){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=w}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=h.create("button","maplibregl-ctrl-terrain",this._container),h.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){h.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Un.Popup=class extends a.E{constructor(w){super(),this.remove=()=>(this._content&&h.remove(this._content),this._container&&(h.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.k("close")),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=h.create("div","maplibregl-popup",this._map.getContainer()),this._tip=h.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const j of this.options.className.split(" "))this._container.classList.add(j);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=My(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!c)return;const p=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);let v=this.options.anchor;const _=Bu(this.options.offset);if(!v){const j=this._container.offsetWidth,z=this._container.offsetHeight;let U;U=p.y+_.bottom.y<z?["top"]:p.y>this._map.transform.height-z?["bottom"]:[],p.x<j/2?U.push("left"):p.x>this._map.transform.width-j/2&&U.push("right"),v=U.length===0?"bottom":U.join("-")}const C=p.add(_[v]).round();h.setTransform(this._container,`${ya[v]} translate(${C.x}px,${C.y}px)`),p_(this._container,v,"popup")},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Ay),w)}addTo(w){return this._map&&this.remove(),this._map=w,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(w){return this._lngLat=a.L.convert(w),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(w){return this.setDOMContent(document.createTextNode(w))}setHTML(w){const c=document.createDocumentFragment(),p=document.createElement("body");let v;for(p.innerHTML=w;v=p.firstChild,v;)c.appendChild(v);return this.setDOMContent(c)}getMaxWidth(){var w;return(w=this._container)===null||w===void 0?void 0:w.style.maxWidth}setMaxWidth(w){return this.options.maxWidth=w,this._update(),this}setDOMContent(w){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=h.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(w),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(w){this._container&&this._container.classList.add(w)}removeClassName(w){this._container&&this._container.classList.remove(w)}setOffset(w){return this.options.offset=w,this._update(),this}toggleClassName(w){if(this._container)return this._container.classList.toggle(w)}_createCloseButton(){this.options.closeButton&&(this._closeButton=h.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const w=this._container.querySelector(Iy);w&&w.focus()}},Un.Marker=kc,Un.Style=ji,Un.LngLat=a.L,Un.LngLatBounds=tt,Un.Point=a.P,Un.MercatorCoordinate=a.U,Un.Evented=a.E,Un.AJAXError=a.bi,Un.config=a.c,Un.CanvasSource=Ve,Un.GeoJSONSource=Lt,Un.ImageSource=_t,Un.RasterDEMTileSource=Ht,Un.RasterTileSource=st,Un.VectorTileSource=Ct,Un.VideoSource=pt,Un.setRTLTextPlugin=a.bj,Un.getRTLTextPluginStatus=a.bk,Un.prewarm=function(){Dn().acquire(It)},Un.clearPrewarmedResources=function(){const w=Tr;w&&(w.isPreloaded()&&w.numActive()===1?(w.release(It),Tr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},$y.extend(Un,{isSafari:a.ac,getPerformanceMetrics:a.bg.getPerformanceMetrics}),Un});var s=i;return s})})(W7);var rxe=W7.exports;const ux=mr(rxe);class ixe{constructor(t,n,r){this.onBeforeSwitch=t,this.onSwitch=n,this.onAfterSwitch=r,this.onDocumentClick=this.onDocumentClick.bind(this),this.styles=[],this.currentStyle=null}getDefaultPosition(){return"top-right"}updateStyles(t,n){this.styles=t;let r=null;for(const o of this.styles)if(o.id===(this.currentStyle||n)){r=o.id;break}for(r||(r=this.styles[0].id);this.mapStyleContainer.firstChild;)this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);let i;for(const o of this.styles){const s=document.createElement("button");s.type="button",s.innerText=o.title,s.dataset.id=o.id,s.dataset.style=JSON.stringify(o.style),s.addEventListener("click",a=>{const{target:f}=a;f.classList.contains("active")||this.onSelectStyle(f)}),o.id===r&&(i=s,s.classList.add("active")),this.mapStyleContainer.appendChild(s)}this.currentStyle!==r&&(this.onSelectStyle(i),this.currentStyle=r)}onSelectStyle(t){this.onBeforeSwitch();const n=this.styles.find(i=>i.id===t.dataset.id);this.map.setStyle(n.style,{diff:!1}),this.map.setTransformRequest(n.transformRequest),this.onSwitch(t.dataset.id),this.mapStyleContainer.style.display="none",this.styleButton.style.display="block";const r=this.mapStyleContainer.getElementsByClassName("active");for(;r[0];)r[0].classList.remove("active");t.classList.add("active"),this.currentStyle=t.dataset.id,this.onAfterSwitch()}onAdd(t){return this.map=t,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("maplibregl-ctrl"),this.controlContainer.classList.add("maplibregl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("maplibregl-style-list"),this.styleButton.classList.add("maplibregl-ctrl-icon"),this.styleButton.classList.add("maplibregl-style-switcher"),this.styleButton.addEventListener("click",()=>{this.styleButton.style.display="none",this.mapStyleContainer.style.display="block"}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}onDocumentClick(t){this.controlContainer&&!this.controlContainer.contains(t.target)&&this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}}const oxe=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))},Io=({tiles:e,minZoom:t,maxZoom:n,attribution:r})=>{const i={type:"raster",tiles:e,attribution:r,tileSize:256,minzoom:t,maxzoom:n};let o=window.location.origin.slice(0,-5),s=8484;return Object.keys(i).forEach(a=>i[a]===void 0&&delete i[a]),{version:8,sources:{custom:i},glyphs:`${o}:${s}/map/fonts/{fontstack}/{range}.pbf`,layers:[{id:"custom",type:"raster",source:"custom"}]}},axe=()=>{const e="mykey",t="pk.0f147952a41c555a5b70614039fd148b",n="mykey",r="mykey",i="mykey",o="mykey";return[{id:"osm",title:"mapOsm",style:Io({tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],maxZoom:19,attribution:'© <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),available:!0},{id:"locationIqStreets",title:"mapLocationIqStreets",style:`https://tiles.locationiq.com/v3/streets/vector.json?key=${t}`,available:!0},{id:"locationIqDark",title:"mapLocationIqDark",style:`https://tiles.locationiq.com/v3/dark/vector.json?key=${t}`,available:!0},{id:"openTopoMap",title:"mapOpenTopoMap",style:Io({tiles:["a","b","c"].map(s=>`https://${s}.tile.opentopomap.org/{z}/{x}/{y}.png`),maxZoom:17}),available:!0},{id:"carto",title:"mapCarto",style:Io({tiles:["a","b","c","d"].map(s=>`https://${s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png`),maxZoom:22,attribution:'© <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, © <a target="_top" rel="noopener" href="https://carto.com/attribution">CARTO</a>'}),available:!0},{id:"googleRoad",title:"mapGoogleRoad",style:Io({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:"© Google"}),available:!0},{id:"googleSatellite",title:"mapGoogleSatellite",style:Io({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:"© Google"}),available:!0},{id:"googleHybrid",title:"mapGoogleHybrid",style:Io({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:"© Google"}),available:!0},{id:"mapTilerBasic",title:"mapMapTilerBasic",style:`https://api.maptiler.com/maps/basic/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"mapTilerHybrid",title:"mapMapTilerHybrid",style:`https://api.maptiler.com/maps/hybrid/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"bingRoad",title:"mapBingRoad",style:Io({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=G,L&shading=hill&og=1885&n=z`),maxZoom:21}),available:!!n,attribute:"bingMapsKey"},{id:"bingAerial",title:"mapBingAerial",style:Io({tiles:[0,1,2,3].map(s=>`https://ecn.t${s}.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=12327`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"bingHybrid",title:"mapBingHybrid",style:Io({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=A,G,L&og=1885&n=z`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"tomTomBasic",title:"mapTomTomBasic",style:`https://api.tomtom.com/map/1/style/20.0.0-8/basic_main.json?key=${r}`,available:!!r,attribute:"tomTomKey"},{id:"hereBasic",title:"mapHereBasic",style:`https://assets.vector.hereapi.com/styles/berlin/base/mapbox/tilezen?apikey=${i}`,available:!!i,attribute:"hereKey"},{id:"hereHybrid",title:"mapHereHybrid",style:Io({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:20}),available:!!i,attribute:"hereKey"},{id:"hereSatellite",title:"mapHereSatellite",style:Io({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:19}),available:!!i,attribute:"hereKey"},{id:"autoNavi",title:"mapAutoNavi",style:Io({tiles:[1,2,3,4].map(s=>`https://webrd0${s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`),minZoom:3,maxZoom:18}),available:!0},{id:"ordnanceSurvey",title:"mapOrdnanceSurvey",style:"https://api.os.uk/maps/vector/v1/vts/resources/styles?key=EAZ8p83u72FTGiLjLC2MsTAl1ko6XQHC",transformRequest:s=>({url:`${s}&srs=3857`}),available:!0},{id:"mapboxStreets",title:"mapMapboxStreets",style:Io({tiles:[`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxOutdoors",title:"mapMapboxOutdoors",style:Io({tiles:[`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxSatelliteStreet",title:"mapMapboxSatellite",style:Io({tiles:[`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"custom",title:"mapCustom",style:Io({tiles:["http://localhost:8080/tile/{z}/{x}/{y}.png"],maxZoom:19}),available:!0}]},Gm=document.createElement("div");Gm.style.width="100%";Gm.style.height="100%";Gm.style.boxSizing="initial";const Ge=new ux.Map({container:Gm,attributionControl:!1,zoom:14});let ER=!1;const OR=new Set,sxe=e=>{OR.add(e),e(ER)},lxe=e=>{OR.delete(e)},G7=e=>{ER=e,OR.forEach(t=>t(e))},cxe=async()=>{ER||(Ge.hasImage("background")||(Object.entries(jc).forEach(([e,t])=>{Ge.addImage(e,t,{pixelRatio:window.devicePixelRatio})}),Ge.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ge.getZoom(),5),offset:[0,-1/2]})),G7(!0))};Ge.addControl(new ux.NavigationControl);const H7=new ixe(()=>G7(!1),e=>oxe("selectedMapStyle",e),()=>{Ge.once("styledata",()=>{const e=()=>{Ge.loaded()?cxe():setTimeout(e,33)};e()})});Ge.addControl(H7);const Mk=({children:e})=>{const t=V.useRef(null),[n,r]=V.useState(!1),i=axe(),o="osm,locationIqStreets,carto,custom",[s]="osm",a="my tocken",f=21;return V.useEffect(()=>{Ge.setMaxZoom(f)},[f]),V.useEffect(()=>{ux.accessToken=a},[a]),V.useEffect(()=>{const h=i.filter(y=>y.available&&o.includes(y.id)),g=h.length?h:i.filter(y=>y.id==="osm");H7.updateStyles(g,s)},[i,s]),V.useEffect(()=>{const h=g=>r(g);return sxe(h),()=>{lxe(h)}},[]),V.useLayoutEffect(()=>{const h=t.current;return h.appendChild(Gm),Ge.resize(),()=>{h.removeChild(Gm)}},[t]),L.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},ref:t,children:n&&e})},MR=Symbol.for("yaml.alias"),qM=Symbol.for("yaml.document"),Ad=Symbol.for("yaml.map"),Y7=Symbol.for("yaml.pair"),du=Symbol.for("yaml.scalar"),Pg=Symbol.for("yaml.seq"),Fs=Symbol.for("yaml.node.type"),Th=e=>!!e&&typeof e=="object"&&e[Fs]===MR,Eg=e=>!!e&&typeof e=="object"&&e[Fs]===qM,Og=e=>!!e&&typeof e=="object"&&e[Fs]===Ad,ti=e=>!!e&&typeof e=="object"&&e[Fs]===Y7,Lr=e=>!!e&&typeof e=="object"&&e[Fs]===du,Mg=e=>!!e&&typeof e=="object"&&e[Fs]===Pg;function ai(e){if(e&&typeof e=="object")switch(e[Fs]){case Ad:case Pg:return!0}return!1}function Ei(e){if(e&&typeof e=="object")switch(e[Fs]){case MR:case Ad:case du:case Pg:return!0}return!1}const uxe=e=>(Lr(e)||ai(e))&&!!e.anchor,ka=Symbol("break visit"),K7=Symbol("skip children"),oc=Symbol("remove node");function Fd(e,t){const n=Z7(t);Eg(e)?Jp(null,e.contents,n,Object.freeze([e]))===oc&&(e.contents=null):Jp(null,e,n,Object.freeze([]))}Fd.BREAK=ka;Fd.SKIP=K7;Fd.REMOVE=oc;function Jp(e,t,n,r){const i=X7(e,t,n,r);if(Ei(i)||ti(i))return J7(e,r,i),Jp(e,i,n,r);if(typeof i!="symbol"){if(ai(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=Jp(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===ka)return ka;s===oc&&(t.items.splice(o,1),o-=1)}}}else if(ti(t)){r=Object.freeze(r.concat(t));const o=Jp("key",t.key,n,r);if(o===ka)return ka;o===oc&&(t.key=null);const s=Jp("value",t.value,n,r);if(s===ka)return ka;s===oc&&(t.value=null)}}return i}async function Ak(e,t){const n=Z7(t);Eg(e)?await Qp(null,e.contents,n,Object.freeze([e]))===oc&&(e.contents=null):await Qp(null,e,n,Object.freeze([]))}Ak.BREAK=ka;Ak.SKIP=K7;Ak.REMOVE=oc;async function Qp(e,t,n,r){const i=await X7(e,t,n,r);if(Ei(i)||ti(i))return J7(e,r,i),Qp(e,i,n,r);if(typeof i!="symbol"){if(ai(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=await Qp(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===ka)return ka;s===oc&&(t.items.splice(o,1),o-=1)}}}else if(ti(t)){r=Object.freeze(r.concat(t));const o=await Qp("key",t.key,n,r);if(o===ka)return ka;o===oc&&(t.key=null);const s=await Qp("value",t.value,n,r);if(s===ka)return ka;s===oc&&(t.value=null)}}return i}function Z7(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function X7(e,t,n,r){var i,o,s,a,f;if(typeof n=="function")return n(e,t,r);if(Og(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(Mg(t))return(o=n.Seq)==null?void 0:o.call(n,e,t,r);if(ti(t))return(s=n.Pair)==null?void 0:s.call(n,e,t,r);if(Lr(t))return(a=n.Scalar)==null?void 0:a.call(n,e,t,r);if(Th(t))return(f=n.Alias)==null?void 0:f.call(n,e,t,r)}function J7(e,t,n){const r=t[t.length-1];if(ai(r))r.items[e]=n;else if(ti(r))e==="key"?r.key=n:r.value=n;else if(Eg(r))r.contents=n;else{const i=Th(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const dxe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},fxe=e=>e.replace(/[!,[\]{}]/g,t=>dxe[t]);class ia{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ia.defaultYaml,t),this.tags=Object.assign({},ia.defaultTags,n)}clone(){const t=new ia(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new ia(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ia.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ia.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:ia.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ia.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,s]=r;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(s){return n(String(s)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+fxe(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Ei(t.contents)){const o={};Fd(t.contents,(s,a)=>{Ei(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of r)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&n.push(`%TAG ${o} ${s}`);return n.join(`
`)}}ia.defaultYaml={explicit:!1,version:"1.2"};ia.defaultTags={"!!":"tag:yaml.org,2002:"};function Q7(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function eq(e){const t=new Set;return Fd(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function tq(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function hxe(e,t){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i||(i=eq(e));const s=tq(t,i);return i.add(s),s},setAnchors:()=>{for(const o of n){const s=r.get(o);if(typeof s=="object"&&s.anchor&&(Lr(s.node)||ai(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:r}}function em(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const s=r[i],a=em(e,r,String(i),s);a===void 0?delete r[i]:a!==s&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),s=em(e,r,i,o);s===void 0?r.delete(i):s!==o&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const o=em(e,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const s=em(e,r,i,o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}return e.call(t,n,r)}function Is(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Is(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!uxe(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class AR{constructor(t){Object.defineProperty(this,Fs,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!Eg(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=Is(this,"",s);if(typeof i=="function")for(const{count:f,res:h}of s.anchors.values())i(h,f);return typeof o=="function"?em(o,{"":a},"",a):a}}class Ik extends AR{constructor(t){super(MR),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return Fd(t,{Node:(r,i)=>{if(i===this)return Fd.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,s=this.resolve(i);if(!s){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}let a=r.get(s);if(a||(Is(s,null,n),a=r.get(s)),!a||a.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=tw(i,s,r)),a.count*a.aliasCount>o)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(Q7(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function tw(e,t,n){if(Th(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(ai(t)){let r=0;for(const i of t.items){const o=tw(e,i,n);o>r&&(r=o)}return r}else if(ti(t)){const r=tw(e,t.key,n),i=tw(e,t.value,n);return Math.max(r,i)}return 1}const nq=e=>!e||typeof e!="function"&&typeof e!="object";class Sn extends AR{constructor(t){super(du),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:Is(this.value,t,n)}toString(){return String(this.value)}}Sn.BLOCK_FOLDED="BLOCK_FOLDED";Sn.BLOCK_LITERAL="BLOCK_LITERAL";Sn.PLAIN="PLAIN";Sn.QUOTE_DOUBLE="QUOTE_DOUBLE";Sn.QUOTE_SINGLE="QUOTE_SINGLE";const pxe="tag:yaml.org,2002:";function mxe(e,t,n){if(t){const r=n.filter(o=>o.tag===t),i=r.find(o=>!o.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function nb(e,t,n){var y,x,P;if(Eg(e)&&(e=e.contents),Ei(e))return e;if(ti(e)){const E=(x=(y=n.schema[Ad]).createNode)==null?void 0:x.call(y,n.schema,null,n);return E.items.push(e),E}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=n;let f;if(r&&e&&typeof e=="object"){if(f=a.get(e),f)return f.anchor||(f.anchor=i(e)),new Ik(f.anchor);f={anchor:null,node:null},a.set(e,f)}t!=null&&t.startsWith("!!")&&(t=pxe+t.slice(2));let h=mxe(e,t,s.tags);if(!h){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const E=new Sn(e);return f&&(f.node=E),E}h=e instanceof Map?s[Ad]:Symbol.iterator in Object(e)?s[Pg]:s[Ad]}o&&(o(h),delete n.onTagObj);const g=h!=null&&h.createNode?h.createNode(n.schema,e,n):typeof((P=h==null?void 0:h.nodeClass)==null?void 0:P.from)=="function"?h.nodeClass.from(n.schema,e,n):new Sn(e);return t?g.tag=t:h.default||(g.tag=h.tag),f&&(f.node=g),g}function oS(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return nb(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Kv=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class $k extends AR{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Ei(r)||ti(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Kv(t))this.add(n);else{const[r,...i]=t,o=this.get(r,!0);if(ai(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,oS(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(ai(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,o=this.get(r,!0);return i.length===0?!n&&Lr(o)?o.value:o:ai(o)?o.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!ti(n))return!1;const r=n.value;return r==null||t&&Lr(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return ai(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(ai(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,oS(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}$k.maxFlowStringSingleLineLength=60;const gxe=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Gc(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const gd=(e,t,n)=>e.endsWith(`
`)?Gc(n,t):n.includes(`
`)?`
`+Gc(n,t):(e.endsWith(" ")?"":" ")+n,rq="flow",GM="block",nw="quoted";function Rk(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;const f=Math.max(1+o,1+i-t.length);if(e.length<=f)return e;const h=[],g={};let y=i-t.length;typeof r=="number"&&(r>i-Math.max(2,o)?h.push(0):y=i-r);let x,P,E=!1,S=-1,O=-1,A=-1;n===GM&&(S=yB(e,S),S!==-1&&(y=S+f));for(let I;I=e[S+=1];){if(n===nw&&I==="\\"){switch(O=S,e[S+1]){case"x":S+=3;break;case"u":S+=5;break;case"U":S+=9;break;default:S+=1}A=S}if(I===`
`)n===GM&&(S=yB(e,S)),y=S+f,x=void 0;else{if(I===" "&&P&&P!==" "&&P!==`
`&&P!=="	"){const N=e[S+1];N&&N!==" "&&N!==`
`&&N!=="	"&&(x=S)}if(S>=y)if(x)h.push(x),y=x+f,x=void 0;else if(n===nw){for(;P===" "||P==="	";)P=I,I=e[S+=1],E=!0;const N=S>A+1?S-2:O-1;if(g[N])return e;h.push(N),g[N]=!0,y=N+f,x=void 0}else E=!0}P=I}if(E&&a&&a(),h.length===0)return e;s&&s();let M=e.slice(0,h[0]);for(let I=0;I<h.length;++I){const N=h[I],$=h[I+1]||e.length;N===0?M=`
${t}${e.slice(0,$)}`:(n===nw&&g[N]&&(M+=`${e[N]}\\`),M+=`
${t}${e.slice(N+1,$)}`)}return M}function yB(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const Dk=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Lk=e=>/^(%|---|\.\.\.)/m.test(e);function yxe(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>r)return!0;if(s=o+1,i-s<=r)return!1}return!0}function g0(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(Lk(e)?"  ":"");let s="",a=0;for(let f=0,h=n[f];h;h=n[++f])if(h===" "&&n[f+1]==="\\"&&n[f+2]==="n"&&(s+=n.slice(a,f)+"\\ ",f+=1,a=f,h="\\"),h==="\\")switch(n[f+1]){case"u":{s+=n.slice(a,f);const g=n.substr(f+2,4);switch(g){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:g.substr(0,2)==="00"?s+="\\x"+g.substr(2):s+=n.substr(f,6)}f+=5,a=f+1}break;case"n":if(r||n[f+2]==='"'||n.length<i)f+=1;else{for(s+=n.slice(a,f)+`

`;n[f+2]==="\\"&&n[f+3]==="n"&&n[f+4]!=='"';)s+=`
`,f+=2;s+=o,n[f+2]===" "&&(s+="\\"),f+=1,a=f+1}break;default:f+=1}return s=a?s+n.slice(a):n,r?s:Rk(s,o,nw,Dk(t,!1))}function HM(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return g0(e,t);const n=t.indent||(Lk(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Rk(r,n,rq,Dk(t,!1))}function tm(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=g0;else{const i=e.includes('"'),o=e.includes("'");i&&!o?r=HM:o&&!i?r=g0:r=n?HM:g0}return r(e,t)}let YM;try{YM=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{YM=/\n+(?!\n|$)/g}function rw({comment:e,type:t,value:n},r,i,o){const{blockQuote:s,commentString:a,lineWidth:f}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return tm(n,r);const h=r.indent||(r.forceBlockIndent||Lk(n)?"  ":""),g=s==="literal"?!0:s==="folded"||t===Sn.BLOCK_FOLDED?!1:t===Sn.BLOCK_LITERAL?!0:!yxe(n,f,h.length);if(!n)return g?`|
`:`>
`;let y,x;for(x=n.length;x>0;--x){const R=n[x-1];if(R!==`
`&&R!=="	"&&R!==" ")break}let P=n.substring(x);const E=P.indexOf(`
`);E===-1?y="-":n===P||E!==P.length-1?(y="+",o&&o()):y="",P&&(n=n.slice(0,-P.length),P[P.length-1]===`
`&&(P=P.slice(0,-1)),P=P.replace(YM,`$&${h}`));let S=!1,O,A=-1;for(O=0;O<n.length;++O){const R=n[O];if(R===" ")S=!0;else if(R===`
`)A=O;else break}let M=n.substring(0,A<O?A+1:O);M&&(n=n.substring(M.length),M=M.replace(/\n+/g,`$&${h}`));let N=(g?"|":">")+(S?h?"2":"1":"")+y;if(e&&(N+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),g)return n=n.replace(/\n+/g,`$&${h}`),`${N}
${h}${M}${n}${P}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);const $=Rk(`${M}${n}${P}`,h,GM,Dk(r,!0));return`${N}
${h}${$}`}function vxe(e,t,n,r){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:f,indentStep:h,inFlow:g}=t;if(a&&o.includes(`
`)||g&&/[[\]{},]/.test(o))return tm(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||g||!o.includes(`
`)?tm(o,t):rw(e,t,n,r);if(!a&&!g&&i!==Sn.PLAIN&&o.includes(`
`))return rw(e,t,n,r);if(Lk(o)){if(f==="")return t.forceBlockIndent=!0,rw(e,t,n,r);if(a&&f===h)return tm(o,t)}const y=o.replace(/\n+/g,`$&
${f}`);if(s){const x=S=>{var O;return S.default&&S.tag!=="tag:yaml.org,2002:str"&&((O=S.test)==null?void 0:O.test(y))},{compat:P,tags:E}=t.doc.schema;if(E.some(x)||P!=null&&P.some(x))return tm(o,t)}return a?y:Rk(y,f,rq,Dk(t,!1))}function dx(e,t,n,r){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==Sn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Sn.QUOTE_DOUBLE);const f=g=>{switch(g){case Sn.BLOCK_FOLDED:case Sn.BLOCK_LITERAL:return i||o?tm(s.value,t):rw(s,t,n,r);case Sn.QUOTE_DOUBLE:return g0(s.value,t);case Sn.QUOTE_SINGLE:return HM(s.value,t);case Sn.PLAIN:return vxe(s,t,n,r);default:return null}};let h=f(a);if(h===null){const{defaultKeyType:g,defaultStringType:y}=t.options,x=i&&g||y;if(h=f(x),h===null)throw new Error(`Unsupported default string type ${x}`)}return h}function iq(e,t){const n=Object.assign({blockQuote:!0,commentString:gxe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function bxe(e,t){var i;if(t.tag){const o=e.filter(s=>s.tag===t.tag);if(o.length>0)return o.find(s=>s.format===t.format)??o[0]}let n,r;if(Lr(t)){r=t.value;const o=e.filter(s=>{var a;return(a=s.identify)==null?void 0:a.call(s,r)});n=o.find(s=>s.format===t.format)??o.find(s=>!s.format)}else r=t,n=e.find(o=>o.nodeClass&&r instanceof o.nodeClass);if(!n){const o=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${o} value`)}return n}function xxe(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(Lr(e)||ai(e))&&e.anchor;o&&Q7(o)&&(n.add(o),i.push(`&${o}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(r.directives.tagString(s)),i.join(" ")}function Hm(e,t,n,r){var f;if(ti(e))return e.toString(t,n,r);if(Th(e)){if(t.doc.directives)return e.toString(t);if((f=t.resolvedAliases)!=null&&f.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Ei(e)?e:t.doc.createNode(e,{onTagObj:h=>i=h});i||(i=bxe(t.doc.schema.tags,o));const s=xxe(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,n,r):Lr(o)?dx(o,t,n,r):o.toString(t,n,r);return s?Lr(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function _xe({key:e,value:t},n,r,i){const{allNullValues:o,doc:s,indent:a,indentStep:f,options:{commentString:h,indentSeq:g,simpleKeys:y}}=n;let x=Ei(e)&&e.comment||null;if(y){if(x)throw new Error("With simple keys, key nodes cannot have comments");if(ai(e)){const F="With simple keys, collection cannot be used as a key value";throw new Error(F)}}let P=!y&&(!e||x&&t==null&&!n.inFlow||ai(e)||(Lr(e)?e.type===Sn.BLOCK_FOLDED||e.type===Sn.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!P&&(y||!o),indent:a+f});let E=!1,S=!1,O=Hm(e,n,()=>E=!0,()=>S=!0);if(!P&&!n.inFlow&&O.length>1024){if(y)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");P=!0}if(n.inFlow){if(o||t==null)return E&&r&&r(),O===""?"?":P?`? ${O}`:O}else if(o&&!y||t==null&&P)return O=`? ${O}`,x&&!E?O+=gd(O,n.indent,h(x)):S&&i&&i(),O;E&&(x=null),P?(x&&(O+=gd(O,n.indent,h(x))),O=`? ${O}
${a}:`):(O=`${O}:`,x&&(O+=gd(O,n.indent,h(x))));let A,M,I;Ei(t)?(A=!!t.spaceBefore,M=t.commentBefore,I=t.comment):(A=!1,M=null,I=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!P&&!x&&Lr(t)&&(n.indentAtStart=O.length+1),S=!1,!g&&f.length>=2&&!n.inFlow&&!P&&Mg(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let N=!1;const $=Hm(t,n,()=>N=!0,()=>S=!0);let R=" ";if(x||A||M){if(R=A?`
`:"",M){const F=h(M);R+=`
${Gc(F,n.indent)}`}$===""&&!n.inFlow?R===`
`&&(R=`

`):R+=`
${n.indent}`}else if(!P&&ai(t)){const F=$[0],q=$.indexOf(`
`),X=q!==-1,Q=n.inFlow??t.flow??t.items.length===0;if(X||!Q){let ae=!1;if(X&&(F==="&"||F==="!")){let fe=$.indexOf(" ");F==="&"&&fe!==-1&&fe<q&&$[fe+1]==="!"&&(fe=$.indexOf(" ",fe+1)),(fe===-1||q<fe)&&(ae=!0)}ae||(R=`
${n.indent}`)}}else($===""||$[0]===`
`)&&(R="");return O+=R+$,n.inFlow?N&&r&&r():I&&!N?O+=gd(O,n.indent,h(I)):S&&i&&i(),O}function oq(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const vB="<<";function aq(e,t,{key:n,value:r}){if(e!=null&&e.doc.schema.merge&&wxe(n))if(r=Th(r)?r.resolve(e.doc):r,Mg(r))for(const i of r.items)pE(e,t,i);else if(Array.isArray(r))for(const i of r)pE(e,t,i);else pE(e,t,r);else{const i=Is(n,"",e);if(t instanceof Map)t.set(i,Is(r,i,e));else if(t instanceof Set)t.add(i);else{const o=Sxe(n,i,e),s=Is(r,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const wxe=e=>e===vB||Lr(e)&&e.value===vB&&(!e.type||e.type===Sn.PLAIN);function pE(e,t,n){const r=e&&Th(n)?n.resolve(e.doc):n;if(!Og(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function Sxe(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Ei(e)&&(n!=null&&n.doc)){const r=iq(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),oq(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function IR(e,t,n){const r=nb(e,void 0,n),i=nb(t,void 0,n);return new zo(r,i)}class zo{constructor(t,n=null){Object.defineProperty(this,Fs,{value:Y7}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Ei(n)&&(n=n.clone(t)),Ei(r)&&(r=r.clone(t)),new zo(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return aq(n,r,this)}toString(t,n,r){return t!=null&&t.doc?_xe(this,t,n,r):JSON.stringify(this)}}function sq(e,t,n){return(t.inFlow??e.flow?Cxe:kxe)(e,t,n)}function kxe({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:f,options:{commentString:h}}=n,g=Object.assign({},n,{indent:o,type:null});let y=!1;const x=[];for(let E=0;E<t.length;++E){const S=t[E];let O=null;if(Ei(S))!y&&S.spaceBefore&&x.push(""),aS(n,x,S.commentBefore,y),S.comment&&(O=S.comment);else if(ti(S)){const M=Ei(S.key)?S.key:null;M&&(!y&&M.spaceBefore&&x.push(""),aS(n,x,M.commentBefore,y))}y=!1;let A=Hm(S,g,()=>O=null,()=>y=!0);O&&(A+=gd(A,o,h(O))),y&&O&&(y=!1),x.push(r+A)}let P;if(x.length===0)P=i.start+i.end;else{P=x[0];for(let E=1;E<x.length;++E){const S=x[E];P+=S?`
${f}${S}`:`
`}}return e?(P+=`
`+Gc(h(e),f),a&&a()):y&&s&&s(),P}function Cxe({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:f,options:{commentString:h}}=n;i+=a;const g=Object.assign({},n,{indent:i,inFlow:!0,type:null});let y=!1,x=0;const P=[];for(let A=0;A<t.length;++A){const M=t[A];let I=null;if(Ei(M))M.spaceBefore&&P.push(""),aS(n,P,M.commentBefore,!1),M.comment&&(I=M.comment);else if(ti(M)){const $=Ei(M.key)?M.key:null;$&&($.spaceBefore&&P.push(""),aS(n,P,$.commentBefore,!1),$.comment&&(y=!0));const R=Ei(M.value)?M.value:null;R?(R.comment&&(I=R.comment),R.commentBefore&&(y=!0)):M.value==null&&($!=null&&$.comment)&&(I=$.comment)}I&&(y=!0);let N=Hm(M,g,()=>I=null);A<t.length-1&&(N+=","),I&&(N+=gd(N,i,h(I))),!y&&(P.length>x||N.includes(`
`))&&(y=!0),P.push(N),x=P.length}let E;const{start:S,end:O}=r;if(P.length===0)E=S+O;else if(y||(y=P.reduce((M,I)=>M+I.length+2,2)>$k.maxFlowStringSingleLineLength),y){E=S;for(const A of P)E+=A?`
${a}${s}${A}`:`
`;E+=`
${s}${O}`}else E=`${S}${f}${P.join(" ")}${f}${O}`;return e&&(E+=gd(E,s,h(e)),o&&o()),E}function aS({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Gc(t(r),e);n.push(o.trimStart())}}function Vf(e,t){const n=Lr(t)?t.value:t;for(const r of e)if(ti(r)&&(r.key===t||r.key===n||Lr(r.key)&&r.key.value===n))return r}class qa extends $k{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Ad,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:o}=r,s=new this(t),a=(f,h)=>{if(typeof o=="function")h=o.call(n,f,h);else if(Array.isArray(o)&&!o.includes(f))return;(h!==void 0||i)&&s.items.push(IR(f,h,r))};if(n instanceof Map)for(const[f,h]of n)a(f,h);else if(n&&typeof n=="object")for(const f of Object.keys(n))a(f,n[f]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,n){var s;let r;ti(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new zo(t,t==null?void 0:t.value):r=new zo(t.key,t.value);const i=Vf(this.items,r.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Lr(i.value)&&nq(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const a=this.items.findIndex(f=>o(r,f)<0);a===-1?this.items.push(r):this.items.splice(a,0,r)}else this.items.push(r)}delete(t){const n=Vf(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Vf(this.items,t),i=r==null?void 0:r.value;return(!n&&Lr(i)?i.value:i)??void 0}has(t){return!!Vf(this.items,t)}set(t,n){this.add(new zo(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const o of this.items)aq(n,i,o);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!ti(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),sq(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Ag={collection:"map",default:!0,nodeClass:qa,tag:"tag:yaml.org,2002:map",resolve(e,t){return Og(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>qa.from(e,t,n)};class Ud extends $k{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Pg,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=v1(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=v1(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Lr(i)?i.value:i}has(t){const n=v1(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=v1(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Lr(i)&&nq(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push(Is(o,String(i++),n));return r}toString(t,n,r){return t?sq(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n)){let s=0;for(let a of n){if(typeof i=="function"){const f=n instanceof Set?a:String(s++);a=i.call(n,f,a)}o.items.push(nb(a,void 0,r))}}return o}}function v1(e){let t=Lr(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Ig={collection:"seq",default:!0,nodeClass:Ud,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Mg(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>Ud.from(e,t,n)},jk={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),dx(e,t,n,r)}},Nk={identify:e=>e==null,createNode:()=>new Sn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Sn(null),stringify:({source:e},t)=>typeof e=="string"&&Nk.test.test(e)?e:t.options.nullStr},$R={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Sn(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&$R.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Al({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const lq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Al},cq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Al(e)}},uq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Sn(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Al},zk=e=>typeof e=="bigint"||Number.isInteger(e),RR=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function dq(e,t,n){const{value:r}=e;return zk(r)&&r>=0?n+r.toString(t):Al(e)}const fq={identify:e=>zk(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>RR(e,2,8,n),stringify:e=>dq(e,8,"0o")},hq={identify:zk,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>RR(e,0,10,n),stringify:Al},pq={identify:e=>zk(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>RR(e,2,16,n),stringify:e=>dq(e,16,"0x")},Txe=[Ag,Ig,jk,Nk,$R,fq,hq,pq,lq,cq,uq];function bB(e){return typeof e=="bigint"||Number.isInteger(e)}const b1=({value:e})=>JSON.stringify(e),Pxe=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:b1},{identify:e=>e==null,createNode:()=>new Sn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:b1},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:b1},{identify:bB,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>bB(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:b1}],Exe={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},Oxe=[Ag,Ig].concat(Pxe,Exe),DR={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,o){const s=n;let a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let h=0;h<s.length;++h)f+=String.fromCharCode(s[h]);a=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=Sn.BLOCK_LITERAL),t!==Sn.QUOTE_DOUBLE){const f=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),h=Math.ceil(a.length/f),g=new Array(h);for(let y=0,x=0;y<h;++y,x+=f)g[y]=a.substr(x,f);a=g.join(t===Sn.BLOCK_LITERAL?`
`:" ")}return dx({comment:e,type:t,value:a},r,i,o)}};function mq(e,t){if(Mg(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!ti(r)){if(Og(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new zo(new Sn(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}e.items[n]=ti(r)?r:new zo(r)}}else t("Expected a sequence for this tag");return e}function gq(e,t,n){const{replacer:r}=n,i=new Ud(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(o++),s));let a,f;if(Array.isArray(s))if(s.length===2)a=s[0],f=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const h=Object.keys(s);if(h.length===1)a=h[0],f=s[a];else throw new TypeError(`Expected tuple with one key, not ${h.length} keys`)}else a=s;i.items.push(IR(a,f,n))}return i}const LR={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:mq,createNode:gq};class bm extends Ud{constructor(){super(),this.add=qa.prototype.add.bind(this),this.delete=qa.prototype.delete.bind(this),this.get=qa.prototype.get.bind(this),this.has=qa.prototype.has.bind(this),this.set=qa.prototype.set.bind(this),this.tag=bm.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let o,s;if(ti(i)?(o=Is(i.key,"",n),s=Is(i.value,o,n)):o=Is(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}static from(t,n,r){const i=gq(t,n,r),o=new this;return o.items=i.items,o}}bm.tag="tag:yaml.org,2002:omap";const jR={collection:"seq",identify:e=>e instanceof Map,nodeClass:bm,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=mq(e,t),r=[];for(const{key:i}of n.items)Lr(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new bm,n)},createNode:(e,t,n)=>bm.from(e,t,n)};function yq({value:e,source:t},n){return t&&(e?vq:bq).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const vq={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Sn(!0),stringify:yq},bq={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Sn(!1),stringify:yq},Mxe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Al},Axe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Al(e)}},Ixe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Sn(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Al},fx=e=>typeof e=="bigint"||Number.isInteger(e);function Bk(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,n);return i==="-"?-1*o:o}function NR(e,t,n){const{value:r}=e;if(fx(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Al(e)}const $xe={identify:fx,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>Bk(e,2,2,n),stringify:e=>NR(e,2,"0b")},Rxe={identify:fx,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>Bk(e,1,8,n),stringify:e=>NR(e,8,"0")},Dxe={identify:fx,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>Bk(e,0,10,n),stringify:Al},Lxe={identify:fx,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>Bk(e,2,16,n),stringify:e=>NR(e,16,"0x")};class xm extends qa{constructor(t){super(t),this.tag=xm.tag}add(t){let n;ti(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new zo(t.key,null):n=new zo(t,null),Vf(this.items,n.key)||this.items.push(n)}get(t,n){const r=Vf(this.items,t);return!n&&ti(r)?Lr(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Vf(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new zo(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n))for(let s of n)typeof i=="function"&&(s=i.call(n,s,s)),o.items.push(IR(s,null,r));return o}}xm.tag="tag:yaml.org,2002:set";const zR={collection:"map",identify:e=>e instanceof Set,nodeClass:xm,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>xm.from(e,t,n),resolve(e,t){if(Og(e)){if(e.hasAllNullValues(!0))return Object.assign(new xm,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function BR(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=r.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return n==="-"?i(-1)*o:o}function xq(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return Al(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const _q={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>BR(e,n),stringify:xq},wq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>BR(e,!1),stringify:xq},Fk={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Fk.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,a]=t.map(Number),f=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(n,r-1,i,o||0,s||0,a||0,f);const g=t[8];if(g&&g!=="Z"){let y=BR(g,!1);Math.abs(y)<30&&(y*=60),h-=6e4*y}return new Date(h)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},xB=[Ag,Ig,jk,Nk,vq,bq,$xe,Rxe,Dxe,Lxe,Mxe,Axe,Ixe,DR,jR,LR,zR,_q,wq,Fk],_B=new Map([["core",Txe],["failsafe",[Ag,Ig,jk]],["json",Oxe],["yaml11",xB],["yaml-1.1",xB]]),wB={binary:DR,bool:$R,float:uq,floatExp:cq,floatNaN:lq,floatTime:wq,int:hq,intHex:pq,intOct:fq,intTime:_q,map:Ag,null:Nk,omap:jR,pairs:LR,seq:Ig,set:zR,timestamp:Fk},jxe={"tag:yaml.org,2002:binary":DR,"tag:yaml.org,2002:omap":jR,"tag:yaml.org,2002:pairs":LR,"tag:yaml.org,2002:set":zR,"tag:yaml.org,2002:timestamp":Fk};function mE(e,t){let n=_B.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(_B.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=wB[r];if(i)return i;const o=Object.keys(wB).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${o}`)})}const Nxe=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Uk{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?mE(t,"compat"):t?mE(null,t):null,this.merge=!!r,this.name=typeof o=="string"&&o||"core",this.knownTags=i?jxe:{},this.tags=mE(n,this.name),this.toStringOptions=a??null,Object.defineProperty(this,Ad,{value:Ag}),Object.defineProperty(this,du,{value:jk}),Object.defineProperty(this,Pg,{value:Ig}),this.sortMapEntries=typeof s=="function"?s:s===!0?Nxe:null}clone(){const t=Object.create(Uk.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function zxe(e,t){var f;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const h=e.directives.toString(e);h?(n.push(h),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=iq(e,t),{commentString:o}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const h=o(e.commentBefore);n.unshift(Gc(h,""))}let s=!1,a=null;if(e.contents){if(Ei(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const y=o(e.contents.commentBefore);n.push(Gc(y,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const h=a?void 0:()=>s=!0;let g=Hm(e.contents,i,()=>a=null,h);a&&(g+=gd(g,"",o(a))),(g[0]==="|"||g[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${g}`:n.push(g)}else n.push(Hm(e.contents,i));if((f=e.directives)!=null&&f.docEnd)if(e.comment){const h=o(e.comment);h.includes(`
`)?(n.push("..."),n.push(Gc(h,""))):n.push(`... ${h}`)}else n.push("...");else{let h=e.comment;h&&s&&(h=h.replace(/^\n+/,"")),h&&((!s||a)&&n[n.length-1]!==""&&n.push(""),n.push(Gc(o(h),"")))}return n.join(`
`)+`
`}class $g{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Fs,{value:qM});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:s}=o;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new ia({version:s}),this.setSchema(s,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create($g.prototype,{[Fs]:{value:qM}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ei(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Pp(this.contents)&&this.contents.add(t)}addIn(t,n){Pp(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=eq(this);t.anchor=!n||r.has(n)?tq(n||"a",r):n}return new Ik(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const O=M=>typeof M=="number"||M instanceof String||M instanceof Number,A=n.filter(O).map(String);A.length>0&&(n=n.concat(A)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:f,onTagObj:h,tag:g}=r??{},{onAnchor:y,setAnchors:x,sourceObjects:P}=hxe(this,s||"a"),E={aliasDuplicateObjects:o??!0,keepUndefined:f??!1,onAnchor:y,onTagObj:h,replacer:i,schema:this.schema,sourceObjects:P},S=nb(t,g,E);return a&&ai(S)&&(S.flow=!0),x(),S}createPair(t,n,r={}){const i=this.createNode(t,null,r),o=this.createNode(n,null,r);return new zo(i,o)}delete(t){return Pp(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Kv(t)?this.contents==null?!1:(this.contents=null,!0):Pp(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return ai(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Kv(t)?!n&&Lr(this.contents)?this.contents.value:this.contents:ai(this.contents)?this.contents.getIn(t,n):void 0}has(t){return ai(this.contents)?this.contents.has(t):!1}hasIn(t){return Kv(t)?this.contents!==void 0:ai(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=oS(this.schema,[t],n):Pp(this.contents)&&this.contents.set(t,n)}setIn(t,n){Kv(t)?this.contents=n:this.contents==null?this.contents=oS(this.schema,Array.from(t),n):Pp(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ia({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new ia({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Uk(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},f=Is(this.contents,n??"",a);if(typeof o=="function")for(const{count:h,res:g}of a.anchors.values())o(g,h);return typeof s=="function"?em(s,{"":f},"",f):f}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return zxe(this,t)}}function Pp(e){if(ai(e))return!0;throw new Error("Expected a YAML collection as document contents")}class FR extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class Wf extends FR{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class Sq extends FR{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const sS=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s="…"+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+"…"),r>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`…
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const f=n.linePos[1];f&&f.line===r&&f.col>i&&(a=Math.max(1,Math.min(f.col-i,80-o)));const h=" ".repeat(o)+"^".repeat(a);n.message+=`:

${s}
${h}
`}};function Ym(e,{flow:t,indicator:n,next:r,offset:i,onError:o,startOnNewline:s}){let a=!1,f=s,h=s,g="",y="",x=!1,P=!1,E=!1,S=null,O=null,A=null,M=null,I=null;for(const R of e)switch(E&&(R.type!=="space"&&R.type!=="newline"&&R.type!=="comma"&&o(R.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),E=!1),R.type){case"space":!t&&f&&n!=="doc-start"&&R.source[0]==="	"&&o(R,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=!0;break;case"comment":{h||o(R,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const F=R.source.substring(1)||" ";g?g+=y+F:g=F,y="",f=!1;break}case"newline":f?g?g+=R.source:a=!0:y+=R.source,f=!0,x=!0,(S||O)&&(P=!0),h=!0;break;case"anchor":S&&o(R,"MULTIPLE_ANCHORS","A node can have at most one anchor"),R.source.endsWith(":")&&o(R.offset+R.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),S=R,I===null&&(I=R.offset),f=!1,h=!1,E=!0;break;case"tag":{O&&o(R,"MULTIPLE_TAGS","A node can have at most one tag"),O=R,I===null&&(I=R.offset),f=!1,h=!1,E=!0;break}case n:(S||O)&&o(R,"BAD_PROP_ORDER",`Anchors and tags must be after the ${R.source} indicator`),M&&o(R,"UNEXPECTED_TOKEN",`Unexpected ${R.source} in ${t??"collection"}`),M=R,f=!1,h=!1;break;case"comma":if(t){A&&o(R,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),A=R,f=!1,h=!1;break}default:o(R,"UNEXPECTED_TOKEN",`Unexpected ${R.type} token`),f=!1,h=!1}const N=e[e.length-1],$=N?N.offset+N.source.length:i;return E&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:A,found:M,spaceBefore:a,comment:g,hasNewline:x,hasNewlineAfterProp:P,anchor:S,tag:O,end:$,start:I??$}}function rb(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(rb(t.key)||rb(t.value))return!0}return!1;default:return!0}}function KM(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&rb(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function kq(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(o,s)=>o===s||Lr(o)&&Lr(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,n))}const SB="All mapping items must start at the same column";function Bxe({composeNode:e,composeEmptyNode:t},n,r,i,o){var g;const s=(o==null?void 0:o.nodeClass)??qa,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let f=r.offset,h=null;for(const y of r.items){const{start:x,key:P,sep:E,value:S}=y,O=Ym(x,{indicator:"explicit-key-ind",next:P??(E==null?void 0:E[0]),offset:f,onError:i,startOnNewline:!0}),A=!O.found;if(A){if(P&&(P.type==="block-seq"?i(f,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in P&&P.indent!==r.indent&&i(f,"BAD_INDENT",SB)),!O.anchor&&!O.tag&&!E){h=O.end,O.comment&&(a.comment?a.comment+=`
`+O.comment:a.comment=O.comment);continue}(O.hasNewlineAfterProp||rb(P))&&i(P??x[x.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((g=O.found)==null?void 0:g.indent)!==r.indent&&i(f,"BAD_INDENT",SB);const M=O.end,I=P?e(n,P,O,i):t(n,M,x,null,O,i);n.schema.compat&&KM(r.indent,P,i),kq(n,a.items,I)&&i(M,"DUPLICATE_KEY","Map keys must be unique");const N=Ym(E??[],{indicator:"map-value-ind",next:S,offset:I.range[2],onError:i,startOnNewline:!P||P.type==="block-scalar"});if(f=N.end,N.found){A&&((S==null?void 0:S.type)==="block-map"&&!N.hasNewline&&i(f,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&O.start<N.found.offset-1024&&i(I.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const $=S?e(n,S,N,i):t(n,f,E,null,N,i);n.schema.compat&&KM(r.indent,S,i),f=$.range[2];const R=new zo(I,$);n.options.keepSourceTokens&&(R.srcToken=y),a.items.push(R)}else{A&&i(I.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),N.comment&&(I.comment?I.comment+=`
`+N.comment:I.comment=N.comment);const $=new zo(I);n.options.keepSourceTokens&&($.srcToken=y),a.items.push($)}}return h&&h<f&&i(h,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,f,h??f],a}function Fxe({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=(o==null?void 0:o.nodeClass)??Ud,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let f=r.offset,h=null;for(const{start:g,value:y}of r.items){const x=Ym(g,{indicator:"seq-item-ind",next:y,offset:f,onError:i,startOnNewline:!0});if(!x.found)if(x.anchor||x.tag||y)y&&y.type==="block-seq"?i(x.end,"BAD_INDENT","All sequence items must start at the same column"):i(f,"MISSING_CHAR","Sequence item without - indicator");else{h=x.end,x.comment&&(a.comment=x.comment);continue}const P=y?e(n,y,x,i):t(n,x.end,g,null,x,i);n.schema.compat&&KM(r.indent,y,i),f=P.range[2],a.items.push(P)}return a.range=[r.offset,f,h??f],a}function hx(e,t,n,r){let i="";if(e){let o=!1,s="";for(const a of e){const{source:f,type:h}=a;switch(h){case"space":o=!0;break;case"comment":{n&&!o&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=f.substring(1)||" ";i?i+=s+g:i=g,s="";break}case"newline":i&&(s+=f),o=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}t+=f.length}}return{comment:i,offset:t}}const gE="Block collections are not allowed within flow collections",yE=e=>e&&(e.type==="block-map"||e.type==="block-seq");function Uxe({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=r.start.source==="{",a=s?"flow map":"flow sequence",f=(o==null?void 0:o.nodeClass)??(s?qa:Ud),h=new f(n.schema);h.flow=!0;const g=n.atRoot;g&&(n.atRoot=!1);let y=r.offset+r.start.source.length;for(let O=0;O<r.items.length;++O){const A=r.items[O],{start:M,key:I,sep:N,value:$}=A,R=Ym(M,{flow:a,indicator:"explicit-key-ind",next:I??(N==null?void 0:N[0]),offset:y,onError:i,startOnNewline:!1});if(!R.found){if(!R.anchor&&!R.tag&&!N&&!$){O===0&&R.comma?i(R.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):O<r.items.length-1&&i(R.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),R.comment&&(h.comment?h.comment+=`
`+R.comment:h.comment=R.comment),y=R.end;continue}!s&&n.options.strict&&rb(I)&&i(I,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(O===0)R.comma&&i(R.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(R.comma||i(R.start,"MISSING_CHAR",`Missing , between ${a} items`),R.comment){let F="";e:for(const q of M)switch(q.type){case"comma":case"space":break;case"comment":F=q.source.substring(1);break e;default:break e}if(F){let q=h.items[h.items.length-1];ti(q)&&(q=q.value??q.key),q.comment?q.comment+=`
`+F:q.comment=F,R.comment=R.comment.substring(F.length+1)}}if(!s&&!N&&!R.found){const F=$?e(n,$,R,i):t(n,R.end,N,null,R,i);h.items.push(F),y=F.range[2],yE($)&&i(F.range,"BLOCK_IN_FLOW",gE)}else{const F=R.end,q=I?e(n,I,R,i):t(n,F,M,null,R,i);yE(I)&&i(q.range,"BLOCK_IN_FLOW",gE);const X=Ym(N??[],{flow:a,indicator:"map-value-ind",next:$,offset:q.range[2],onError:i,startOnNewline:!1});if(X.found){if(!s&&!R.found&&n.options.strict){if(N)for(const fe of N){if(fe===X.found)break;if(fe.type==="newline"){i(fe,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}R.start<X.found.offset-1024&&i(X.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else $&&("source"in $&&$.source&&$.source[0]===":"?i($,"MISSING_CHAR",`Missing space after : in ${a}`):i(X.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const Q=$?e(n,$,X,i):X.found?t(n,X.end,N,null,X,i):null;Q?yE($)&&i(Q.range,"BLOCK_IN_FLOW",gE):X.comment&&(q.comment?q.comment+=`
`+X.comment:q.comment=X.comment);const ae=new zo(q,Q);if(n.options.keepSourceTokens&&(ae.srcToken=A),s){const fe=h;kq(n,fe.items,q)&&i(F,"DUPLICATE_KEY","Map keys must be unique"),fe.items.push(ae)}else{const fe=new qa(n.schema);fe.flow=!0,fe.items.push(ae),h.items.push(fe)}y=Q?Q.range[2]:X.end}}const x=s?"}":"]",[P,...E]=r.end;let S=y;if(P&&P.source===x)S=P.offset+P.source.length;else{const O=a[0].toUpperCase()+a.substring(1),A=g?`${O} must end with a ${x}`:`${O} in block collection must be sufficiently indented and end with a ${x}`;i(y,g?"MISSING_CHAR":"BAD_INDENT",A),P&&P.source.length!==1&&E.unshift(P)}if(E.length>0){const O=hx(E,S,n.options.strict,i);O.comment&&(h.comment?h.comment+=`
`+O.comment:h.comment=O.comment),h.range=[r.offset,S,O.offset]}else h.range=[r.offset,S,S];return h}function vE(e,t,n,r,i,o){const s=n.type==="block-map"?Bxe(e,t,n,r,o):n.type==="block-seq"?Fxe(e,t,n,r,o):Uxe(e,t,n,r,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function Vxe(e,t,n,r,i){var y;const o=r?t.directives.tagName(r.source,x=>i(r,"TAG_RESOLVE_FAILED",x)):null,s=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===qa.tagName&&s==="map"||o===Ud.tagName&&s==="seq"||!s)return vE(e,t,n,i,o);let a=t.schema.tags.find(x=>x.tag===o&&x.collection===s);if(!a){const x=t.schema.knownTags[o];if(x&&x.collection===s)t.schema.tags.push(Object.assign({},x,{default:!1})),a=x;else return x!=null&&x.collection?i(r,"BAD_COLLECTION_TYPE",`${x.tag} used for ${s} collection, but expects ${x.collection}`,!0):i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),vE(e,t,n,i,o)}const f=vE(e,t,n,i,o,a),h=((y=a.resolve)==null?void 0:y.call(a,f,x=>i(r,"TAG_RESOLVE_FAILED",x),t.options))??f,g=Ei(h)?h:new Sn(h);return g.range=f.range,g.tag=o,a!=null&&a.format&&(g.format=a.format),g}function Cq(e,t,n){const r=e.offset,i=Wxe(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=i.mode===">"?Sn.BLOCK_FOLDED:Sn.BLOCK_LITERAL,s=e.source?qxe(e.source):[];let a=s.length;for(let S=s.length-1;S>=0;--S){const O=s[S][1];if(O===""||O==="\r")a=S;else break}if(a===0){const S=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let O=r+i.length;return e.source&&(O+=e.source.length),{value:S,type:o,comment:i.comment,range:[r,O,O]}}let f=e.indent+i.indent,h=e.offset+i.length,g=0;for(let S=0;S<a;++S){const[O,A]=s[S];if(A===""||A==="\r")i.indent===0&&O.length>f&&(f=O.length);else{if(O.length<f){const M="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(h+O.length,"MISSING_CHAR",M)}i.indent===0&&(f=O.length),g=S;break}h+=O.length+A.length+1}for(let S=s.length-1;S>=a;--S)s[S][0].length>f&&(a=S+1);let y="",x="",P=!1;for(let S=0;S<g;++S)y+=s[S][0].slice(f)+`
`;for(let S=g;S<a;++S){let[O,A]=s[S];h+=O.length+A.length+1;const M=A[A.length-1]==="\r";if(M&&(A=A.slice(0,-1)),A&&O.length<f){const N=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(h-A.length-(M?2:1),"BAD_INDENT",N),O=""}o===Sn.BLOCK_LITERAL?(y+=x+O.slice(f)+A,x=`
`):O.length>f||A[0]==="	"?(x===" "?x=`
`:!P&&x===`
`&&(x=`

`),y+=x+O.slice(f)+A,x=`
`,P=!0):A===""?x===`
`?y+=`
`:x=`
`:(y+=x+A,x=" ",P=!1)}switch(i.chomp){case"-":break;case"+":for(let S=a;S<s.length;++S)y+=`
`+s[S][0].slice(f);y[y.length-1]!==`
`&&(y+=`
`);break;default:y+=`
`}const E=r+i.length+e.source.length;return{value:y,type:o,comment:i.comment,range:[r,E,E]}}function Wxe({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",f=-1;for(let x=1;x<i.length;++x){const P=i[x];if(!a&&(P==="-"||P==="+"))a=P;else{const E=Number(P);!s&&E?s=E:f===-1&&(f=e+x)}}f!==-1&&r(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let h=!1,g="",y=i.length;for(let x=1;x<t.length;++x){const P=t[x];switch(P.type){case"space":h=!0;case"newline":y+=P.source.length;break;case"comment":n&&!h&&r(P,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),y+=P.source.length,g=P.source.substring(1);break;case"error":r(P,"UNEXPECTED_TOKEN",P.message),y+=P.source.length;break;default:{const E=`Unexpected token in block scalar header: ${P.type}`;r(P,"UNEXPECTED_TOKEN",E);const S=P.source;S&&typeof S=="string"&&(y+=S.length)}}}return{mode:o,indent:s,chomp:a,comment:g,length:y}}function qxe(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function Tq(e,t,n){const{offset:r,type:i,source:o,end:s}=e;let a,f;const h=(x,P,E)=>n(r+x,P,E);switch(i){case"scalar":a=Sn.PLAIN,f=Gxe(o,h);break;case"single-quoted-scalar":a=Sn.QUOTE_SINGLE,f=Hxe(o,h);break;case"double-quoted-scalar":a=Sn.QUOTE_DOUBLE,f=Yxe(o,h);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const g=r+o.length,y=hx(s,g,t,n);return{value:f,type:a,comment:y.comment,range:[r,g,y.offset]}}function Gxe(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Pq(e)}function Hxe(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Pq(e.slice(1,-1)).replace(/''/g,"'")}function Pq(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],o=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)r[1]===""?o===`
`?i+=o:o=`
`:(i+=o+r[1],o=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,r=a.exec(e),i+o+((r==null?void 0:r[1])??"")}function Yxe(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:o,offset:s}=Kxe(e,r);n+=o,r=s}else if(i==="\\"){let o=e[++r];const s=Zxe[o];if(s)n+=s;else if(o===`
`)for(o=e[r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="\r"&&e[r+1]===`
`)for(o=e[++r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];n+=Xxe(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const o=r;let s=e[r+1];for(;s===" "||s==="	";)s=e[++r+1];s!==`
`&&!(s==="\r"&&e[r+2]===`
`)&&(n+=r>o?e.slice(o,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function Kxe(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const Zxe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Xxe(e,t,n,r){const i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function Eq(e,t,n,r){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?Cq(t,e.options.strict,r):Tq(t,e.options.strict,r),f=n?e.directives.tagName(n.source,y=>r(n,"TAG_RESOLVE_FAILED",y)):null,h=n&&f?Jxe(e.schema,i,f,n,r):t.type==="scalar"?Qxe(e,i,t,r):e.schema[du];let g;try{const y=h.resolve(i,x=>r(n??t,"TAG_RESOLVE_FAILED",x),e.options);g=Lr(y)?y:new Sn(y)}catch(y){const x=y instanceof Error?y.message:String(y);r(n??t,"TAG_RESOLVE_FAILED",x),g=new Sn(i)}return g.range=a,g.source=i,o&&(g.type=o),f&&(g.tag=f),h.format&&(g.format=h.format),s&&(g.comment=s),g}function Jxe(e,t,n,r,i){var a;if(n==="!")return e[du];const o=[];for(const f of e.tags)if(!f.collection&&f.tag===n)if(f.default&&f.test)o.push(f);else return f;for(const f of o)if((a=f.test)!=null&&a.test(t))return f;const s=e.knownTags[n];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[du])}function Qxe({directives:e,schema:t},n,r,i){const o=t.tags.find(s=>{var a;return s.default&&((a=s.test)==null?void 0:a.test(n))})||t[du];if(t.compat){const s=t.compat.find(a=>{var f;return a.default&&((f=a.test)==null?void 0:f.test(n))})??t[du];if(o.tag!==s.tag){const a=e.tagString(o.tag),f=e.tagString(s.tag),h=`Value may be parsed as either ${a} or ${f}`;i(r,"TAG_RESOLVE_FAILED",h,!0)}}return o}function e_e(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const t_e={composeNode:Oq,composeEmptyNode:UR};function Oq(e,t,n,r){const{spaceBefore:i,comment:o,anchor:s,tag:a}=n;let f,h=!0;switch(t.type){case"alias":f=n_e(e,t,r),(s||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=Eq(e,t,a,r),s&&(f.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=Vxe(t_e,e,t,a,r),s&&(f.anchor=s.source.substring(1));break;default:{const g=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",g),f=UR(e,t.offset,void 0,null,n,r),h=!1}}return s&&f.anchor===""&&r(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(f.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?f.comment=o:f.commentBefore=o),e.options.keepSourceTokens&&h&&(f.srcToken=t),f}function UR(e,t,n,r,{spaceBefore:i,comment:o,anchor:s,tag:a,end:f},h){const g={type:"scalar",offset:e_e(t,n,r),indent:-1,source:""},y=Eq(e,g,a,h);return s&&(y.anchor=s.source.substring(1),y.anchor===""&&h(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(y.spaceBefore=!0),o&&(y.comment=o,y.range[2]=f),y}function n_e({options:e},{offset:t,source:n,end:r},i){const o=new Ik(n.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,a=hx(r,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function r_e(e,t,{offset:n,start:r,value:i,end:o},s){const a=Object.assign({_directives:t},e),f=new $g(void 0,a),h={atRoot:!0,directives:f.directives,options:f.options,schema:f.schema},g=Ym(r,{indicator:"doc-start",next:i??(o==null?void 0:o[0]),offset:n,onError:s,startOnNewline:!0});g.found&&(f.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!g.hasNewline&&s(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),f.contents=i?Oq(h,i,g,s):UR(h,g.end,r,null,g,s);const y=f.contents.range[2],x=hx(o,y,!1,s);return x.comment&&(f.comment=x.comment),f.range=[n,y,x.offset],f}function kv(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function kB(e){var i;let t="",n=!1,r=!1;for(let o=0;o<e.length;++o){const s=e[o];switch(s[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[o+1])==null?void 0:i[0])!=="#"&&(o+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class VR{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,o)=>{const s=kv(n);o?this.warnings.push(new Sq(s,r,i)):this.errors.push(new Wf(s,r,i))},this.directives=new ia({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=kB(this.prelude);if(r){const o=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!o)t.commentBefore=r;else if(ai(o)&&!o.flow&&o.items.length>0){let s=o.items[0];ti(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${r}
${a}`:r}else{const s=o.commentBefore;o.commentBefore=s?`${r}
${s}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:kB(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const o=kv(t);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=r_e(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new Wf(kv(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Wf(kv(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=hx(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Wf(kv(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new $g(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function i_e(e,t=!0,n){if(e){const r=(i,o,s)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,o,s);else throw new Wf([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Tq(e,t,r);case"block-scalar":return Cq(e,t,r)}}return null}function o_e(e,t){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:o=-1,type:s="PLAIN"}=t,a=dx({type:s,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),f=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(a[0]){case"|":case">":{const h=a.indexOf(`
`),g=a.substring(0,h),y=a.substring(h+1)+`
`,x=[{type:"block-scalar-header",offset:o,indent:r,source:g}];return Mq(x,f)||x.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:o,indent:r,props:x,source:y}}case'"':return{type:"double-quoted-scalar",offset:o,indent:r,source:a,end:f};case"'":return{type:"single-quoted-scalar",offset:o,indent:r,source:a,end:f};default:return{type:"scalar",offset:o,indent:r,source:a,end:f}}}function a_e(e,t,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=n,a="indent"in e?e.indent:null;if(r&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const h=e.props[0];if(h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=h.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const f=dx({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(f[0]){case"|":case">":s_e(e,f);break;case'"':bE(e,f,"double-quoted-scalar");break;case"'":bE(e,f,"single-quoted-scalar");break;default:bE(e,f,"scalar")}}function s_e(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),i=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=r,e.source=i}else{const{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:r}];Mq(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(const f of Object.keys(e))f!=="type"&&f!=="offset"&&delete e[f];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function Mq(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function bE(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const o of r)o.offset+=i;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[i]});break}default:{const r="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:n,indent:r,source:t,end:i})}}}const l_e=e=>"type"in e?lS(e):iw(e);function lS(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=lS(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=iw(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=iw(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=iw(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function iw({start:e,key:t,sep:n,value:r}){let i="";for(const o of e)i+=o.source;if(t&&(i+=lS(t)),n)for(const o of n)i+=o.source;return r&&(i+=lS(r)),i}const ZM=Symbol("break visit"),c_e=Symbol("skip children"),Aq=Symbol("remove item");function xh(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Iq(Object.freeze([]),e,t)}xh.BREAK=ZM;xh.SKIP=c_e;xh.REMOVE=Aq;xh.itemAtPath=(e,t)=>{let n=e;for(const[r,i]of t){const o=n==null?void 0:n[r];if(o&&"items"in o)n=o.items[i];else return}return n};xh.parentCollection=(e,t)=>{const n=xh.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Iq(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){const a=Iq(Object.freeze(e.concat([[i,s]])),o.items[s],n);if(typeof a=="number")s=a-1;else{if(a===ZM)return ZM;a===Aq&&(o.items.splice(s,1),s-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const Vk="\uFEFF",Wk="",qk="",ib="",u_e=e=>!!e&&"items"in e,d_e=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function f_e(e){switch(e){case Vk:return"<BOM>";case Wk:return"<DOC>";case qk:return"<FLOW_END>";case ib:return"<SCALAR>";default:return JSON.stringify(e)}}function $q(e){switch(e){case Vk:return"byte-order-mark";case Wk:return"doc-mode";case qk:return"flow-error-end";case ib:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const h_e=Object.freeze(Object.defineProperty({__proto__:null,BOM:Vk,DOCUMENT:Wk,FLOW_END:qk,SCALAR:ib,createScalarToken:o_e,isCollection:u_e,isScalar:d_e,prettyToken:f_e,resolveAsScalar:i_e,setScalarValue:a_e,stringify:l_e,tokenType:$q,visit:xh},Symbol.toStringTag,{value:"Module"}));function gs(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const CB="0123456789ABCDEFabcdef".split(""),p_e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),xE=",[]{}".split(""),m_e=` ,[]{}
\r	`.split(""),_E=e=>!e||m_e.includes(e);class Rq{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&gs(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===Vk&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length;const r=t.indexOf("#");if(r!==-1){const o=t[r-1];(o===" "||o==="	")&&(n=r-1)}for(;;){const o=t[n-1];if(o===" "||o==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield Wk,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&gs(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&gs(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!gs(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&gs(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(_E),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&gs(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield qk,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(_E),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||gs(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=r.indexOf(`
`,o)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>gs(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const s=i;for(;o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>s)t=i;else break}while(!0);return yield ib,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const o=this.buffer[r+1];if(gs(o)||t&&o===",")break;n=r}else if(gs(i)){let o=this.buffer[r+1];if(i==="\r"&&(o===`
`?(r+=1,i=`
`,o=this.buffer[r+1]):n=r),o==="#"||t&&xE.includes(o))break;if(i===`
`){const s=this.continueScalar(r+1);if(s===-1)break;r=Math.max(r,s-2)}}else{if(t&&xE.includes(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield ib,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(_E))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(gs(n)||t&&xE.includes(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!gs(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(p_e.includes(n))n=this.buffer[++t];else if(n==="%"&&CB.includes(this.buffer[t+1])&&CB.includes(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Dq{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const o=n+r>>1;this.lineStarts[o]<t?n=o+1:r=o}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function ll(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function TB(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Lq(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function x1(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Ep(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function PB(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!ll(t.start,"explicit-key-ind")&&!ll(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Lq(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class WR{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Rq,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=$q(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&PB(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!ll(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&TB(i.start)===-1&&(n.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}else{const r="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:r}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{TB(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=x1(this.peek(2)),r=Ep(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&n.sep;let o=[];if(i&&n.sep&&!n.value){const s=[];for(let a=0;a<n.sep.length;++a){const f=n.sep[a];switch(f.type){case"newline":s.push(a);break;case"space":break;case"comment":f.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!ll(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(o.push(this.sourceToken),t.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(ll(n.start,"explicit-key-ind"))if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ll(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Lq(n.key)&&!ll(n.sep,"newline")){const s=Ep(n.start),a=n.key,f=n.sep;f.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:f}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(ll(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=Ep(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):ll(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){i&&s.type!=="block-seq"&&ll(n.start,"explicit-key-ind")&&t.items.push({start:o}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||ll(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=x1(r),o=Ep(i);PB(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=x1(t),r=Ep(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=x1(t),r=Ep(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function jq(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Dq||null,prettyErrors:t}}function g_e(e,t={}){const{lineCounter:n,prettyErrors:r}=jq(t),i=new WR(n==null?void 0:n.addNewLine),o=new VR(t),s=Array.from(o.compose(i.parse(e)));if(r&&n)for(const a of s)a.errors.forEach(sS(e,n)),a.warnings.forEach(sS(e,n));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function Nq(e,t={}){const{lineCounter:n,prettyErrors:r}=jq(t),i=new WR(n==null?void 0:n.addNewLine),o=new VR(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new Wf(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(s.errors.forEach(sS(e,n)),s.warnings.forEach(sS(e,n))),s}function y_e(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const i=Nq(e,n);if(!i)return null;if(i.warnings.forEach(o=>oq(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function v_e(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return new $g(e,r,n).toString(n)}const zq=Object.freeze(Object.defineProperty({__proto__:null,Alias:Ik,CST:h_e,Composer:VR,Document:$g,Lexer:Rq,LineCounter:Dq,Pair:zo,Parser:WR,Scalar:Sn,Schema:Uk,YAMLError:FR,YAMLMap:qa,YAMLParseError:Wf,YAMLSeq:Ud,YAMLWarning:Sq,isAlias:Th,isCollection:ai,isDocument:Eg,isMap:Og,isNode:Ei,isPair:ti,isScalar:Lr,isSeq:Mg,parse:y_e,parseAllDocuments:g_e,parseDocument:Nq,stringify:v_e,visit:Fd,visitAsync:Ak},Symbol.toStringTag,{value:"Module"})),Vd=Ee.createContext();var EB="";const Gk=({children:e,notification:t})=>{On(M=>M.devices.items);const n=On(M=>M.mission),r=On(M=>M.session.server),i=Ml(),[o,s]=V.useState(!1),[a,f]=V.useState(!1);V.useState(""),V.useEffect(()=>{s(r)},[r]);const h=async M=>{try{const I=await fetch("/api/rosConnect",{method:"POST",body:new URLSearchParams(`rosState=${encodeURIComponent(o)}`)});if(I.ok){let N=await I.json();N.state==="connect"&&(t("success",N.msg),s(!0)),N.state==="error"&&(s(!1),t("danger",N.msg)),N.state==="disconnect"&&(t("danger",N.msg),s(!1)),console.log(N)}else throw Error(await I.text())}catch{s(!1)}},g=async M=>{console.log(M.name+"-"+M.category);try{const I=await fetch("/api/devices",{method:"POST",body:JSON.stringify(M),headers:{"Content-Type":"application/json"}});if(I.ok){let N=await I.json();N.state==="connect"&&t("success",N.msg),N.state==="error"&&t("danger",N.msg),console.log(N)}else throw Error(await I.text())}catch{}},y=async()=>{try{const M=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"loadMission",attributes:n.route}),headers:{"Content-Type":"application/json"}});if(M.ok){let I=await M.json();I.state==="connect"&&t("success",I.msg),I.state==="error"&&t("danger",I.msg),console.log(I)}else throw Error(await M.text())}catch{}},x=async()=>{console.log("command mission ");try{const M=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"commandMission"}),headers:{"Content-Type":"application/json"}});if(M.ok){let I=await M.json();I.state==="connect"&&t("success",I.msg),I.state==="error"&&t("danger",I.msg),console.log(I)}else throw Error(await M.text())}catch{}},P=(M,I)=>{if(M.endsWith(".yaml"))EB=zq.parse(I),i(qc.updateMission({name:M.slice(0,-5),mission:EB}));else if(M.endsWith(".waypoints")){let $=I.split(`
`).map(q=>q.split("	")),R={uav_n:1,uav_1:{}},F=0;$.forEach(q=>{q[3]=="16"&&(R.uav_1["wp_"+F]=[q[8],q[9],q[10]],F=F+1)}),R.uav_1.wp_n=F,i(qc.updateMission({name:M.slice(0,-10),mission:R}))}else if(M.endsWith(".kml")){let R=new DOMParser().parseFromString(I,"text/xml").querySelector("coordinates").textContent.replace(/(\r\n|\n|\r|\t)/gm,"").split(" ").map(X=>X.split(",")),F={uav_n:1,uav_1:{}},q=0;R.forEach(X=>{X.length==3&&(F.uav_1["wp_"+q]=[X[1],X[0],X[2]],q=q+1)}),F.uav_1.wp_n=q,i(qc.updateMission({name:M.slice(0,-4),mission:F}))}else if(M.endsWith(".plan")){let N=JSON.parse(I),$={uav_n:1,uav_1:{}},R=0;N.mission.items.forEach(F=>{$.uav_1["wp_"+R]=[F.params[4],F.params[5],F.Altitude],R=R+1}),$.uav_1.wp_n=R,i(qc.updateMission({name:M.slice(0,-5),mission:$}))}else t("danger","Formato de mission no compatible")},E=()=>{h()};async function S(M){o?g(M):alert(`
Ros no está conectado.

 Por favor conéctelo primero.`)}function O(){y()}function A(){x()}return L.jsx("div",{style:{width:"100%",height:"100%"},children:L.jsx(Vd.Provider,{value:{rosConnect:E,rosState:o,openMision:P,connectAddUav:S,commandMission:A,loadMission:O,confirmMission:a,setconfirmMission:f},children:e})})},Hk=({SetAddUAVOpen:e})=>{const[t,n]=V.useState(!1),r=Ml(),i=bg(),o=()=>{r(qc.clearMission({}))},s=()=>{const x=document.getElementsByName("otrotest");for(let P=0;P<x.length;P++)x[P].setAttribute("class","mytest");setTimeout(()=>{console.log("1 Segundo esperado");for(let P=0;P<x.length;P++)x[P].setAttribute("class","dropdown-content")},500),n(P=>!P)},a=V.useContext(Vd),f=x=>{const P=x.target.files[0];if(!P)return;const E=new FileReader;E.readAsText(P),E.onload=()=>{a.openMision(P.name,E.result)},E.onerror=()=>{console.log("error"),console.log(E.error)}},h=x=>{const P=x.target.files[0];if(!P)return;const E=new FileReader;E.readAsText(P),E.onload=()=>{console.log(E.result);let S=new DOMParser().parseFromString(E.result,"text/xml");console.log(S);let O=S.getElementsByTagName("Point");console.log(O);let A=Object.values(O).map(R=>R.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(","));console.log(A);let M=S.getElementsByTagName("coordinates");console.log(M);let I=Object.values(M).map(R=>R.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(" ")),N=I.map(R=>R.map(F=>F.split(",")));console.log(I),console.log(N);let $=[];if(A.length)return console.log("add markers"),$=A.map((R,F,q)=>({latitude:Number(R[1]),longitude:Number(R[0]),image:"base"})),console.log($),r(Lf.addMarker($)),null;N.length&&(console.log("add towers markers"),N.map((R,F,q)=>{console.log(R),R.map(X=>{console.log(X),X.length>1&&$.push({latitude:Number(X[1]),longitude:Number(X[0]),image:"powerTower"})})}),console.log($),r(Lf.addMarker($)))},E.onerror=()=>{console.log("error"),console.log(E.error)}};function g(){Ge.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ge.getZoom(),5),offset:[0,-1/2]})}function y(){e(!0)}return L.jsx(oR,{position:"static",style:{backgroundColor:"#333",height:"52px"},children:L.jsx(eS,{maxWidth:"x",children:L.jsxs(Cg,{disableGutters:!0,children:[L.jsx(hr,{onClick:()=>{g(),i("/")},children:L.jsx(pn,{variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"#FFFFFF",textDecoration:"none"},children:"Management Tool"})}),L.jsxs("div",{className:"dropdown",children:[L.jsx("button",{className:"dropbtn",children:"ROS "}),L.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[L.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Connect Ros"}),L.jsx("a",{id:"rosConnectNavbar",onClick:()=>{i("/topics"),s()},children:"Show Topics"}),L.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Show servies"})]})]}),L.jsxs("div",{className:"dropdown",children:[L.jsxs("button",{className:"dropbtn",children:["UAV",L.jsx("i",{className:"fa fa-caret-down"})]}),L.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[L.jsx("a",{id:"openAddUavNavbar",onClick:()=>{y(),s()},children:"Connect UAV"}),L.jsx("a",{id:"loadMissionNavbar",onClick:()=>{a.loadMission(),s()},children:"Load Mission UAV's"}),L.jsx("a",{id:"commandMissionNavbar",onClick:()=>{a.setconfirmMission(!0),s()},children:"Command Mission All"})]})]}),L.jsxs("div",{className:"dropdown",children:[L.jsxs("button",{className:"dropbtn",children:["Mission",L.jsx("i",{className:"fa fa-caret-down"})]}),L.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[L.jsx("label",{id:"menuopenmission",htmlFor:"openMissionNavbar",children:"Open Mision"}),L.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:f}),L.jsx("a",{id:"Clear mission",onClick:()=>{o(),s()},children:"Clear Mission"}),L.jsx("a",{id:"editmission",onClick:()=>{i("/mission"),s()},children:"Edit mission"}),L.jsx("a",{id:"planning",onClick:()=>{i("/planning"),s()},children:"Mission Elements"})]})]}),L.jsxs("div",{className:"dropdown",children:[L.jsxs("button",{className:"dropbtn",children:["View",L.jsx("i",{className:"fa fa-caret-down"})]}),L.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[L.jsx("a",{id:"hideRosterNavbar",onClick:s,children:"Enviroment Features"}),L.jsx("label",{id:"menuopenelements",htmlFor:"openElementsNavbar",children:"add elements"}),L.jsx("input",{accept:".kml",type:"file",multiple:!1,style:{display:"none"},id:"openElementsNavbar",onChange:h}),L.jsx("a",{id:"cameraView",onClick:()=>{i("/camera"),s()},children:"Camera view"})]})]}),L.jsx("div",{className:"dropdown",children:L.jsxs("button",{className:"dropbtn",onClick:()=>{i("/events")},children:["Report",L.jsx("i",{className:"fa fa-caret-down"})]})})]})})})};var qR={},Bq={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Bq);var ur=Bq.exports,wE={};const b_e=H8(nle);var OB;function dr(){return OB||(OB=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=b_e}(wE)),wE}var x_e=ur;Object.defineProperty(qR,"__esModule",{value:!0});var Fq=qR.default=void 0,__e=x_e(dr()),w_e=L,S_e=(0,__e.default)((0,w_e.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");Fq=qR.default=S_e;var GR={},k_e=ur;Object.defineProperty(GR,"__esModule",{value:!0});var Uq=GR.default=void 0,C_e=k_e(dr()),T_e=L,P_e=(0,C_e.default)((0,T_e.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");Uq=GR.default=P_e;var HR={},E_e=ur;Object.defineProperty(HR,"__esModule",{value:!0});var Vq=HR.default=void 0,O_e=E_e(dr()),M_e=L,A_e=(0,O_e.default)((0,M_e.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"Flight");Vq=HR.default=A_e;var YR={},I_e=ur;Object.defineProperty(YR,"__esModule",{value:!0});var Wq=YR.default=void 0,$_e=I_e(dr()),R_e=L,D_e=(0,$_e.default)((0,R_e.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");Wq=YR.default=D_e;var KR={},L_e=ur;Object.defineProperty(KR,"__esModule",{value:!0});var qq=KR.default=void 0,j_e=L_e(dr()),N_e=L,z_e=(0,j_e.default)((0,N_e.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"}),"Tab");qq=KR.default=z_e;var ZR={},B_e=ur;Object.defineProperty(ZR,"__esModule",{value:!0});var Gq=ZR.default=void 0,F_e=B_e(dr()),U_e=L,V_e=(0,F_e.default)((0,U_e.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");Gq=ZR.default=V_e;var XR={},W_e=ur;Object.defineProperty(XR,"__esModule",{value:!0});var Hq=XR.default=void 0,q_e=W_e(dr()),G_e=L,H_e=(0,q_e.default)((0,G_e.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");Hq=XR.default=H_e;var JR={},Y_e=ur;Object.defineProperty(JR,"__esModule",{value:!0});var Yq=JR.default=void 0,K_e=Y_e(dr()),Z_e=L,X_e=(0,K_e.default)((0,Z_e.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");Yq=JR.default=X_e;var QR={},J_e=ur;Object.defineProperty(QR,"__esModule",{value:!0});var Kq=QR.default=void 0,Q_e=J_e(dr()),e1e=L,t1e=(0,Q_e.default)((0,e1e.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");Kq=QR.default=t1e;const n1e=qr(e=>({toolbar:{height:"36px",background:"linear-gradient(#E7E5E7, #D3D1D3)",borderTop:"1px solid rgba(255, 255, 255, .6)"},mediaButton:{width:"auto",color:nc[700],backgroundColor:"#F9F9F9",boxShadow:"inset 0px -4px 4px 0 rgba(0, 0, 0, 0.1)",maxHeight:"22px",top:"2px",border:"1px solid #C2C0C2",margin:"5px 10px",fontSize:"12px","&:hover":{backgroundColor:nc[300]}},mediaicon:{color:nc[700],width:"15px"}})),Yk=({SetAddUAVOpen:e})=>{const t=n1e(),n=V.useContext(Vd),[r,i]=V.useState("no load mission"),o=On(E=>E.mission.name),s=On(E=>E.mission.home),[a,f]=V.useState(!0),h=E=>{const S=E.target.files[0];if(!S)return;const O=new FileReader;O.readAsText(S),O.onload=()=>{console.log(O.result),console.log(S.name),n.openMision(S.name,O.result)},O.onerror=()=>{console.log(O.error)}};function g(){Ge.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ge.getZoom(),5),offset:[0,-1/2]})}function y(){Ge.easeTo({center:[s[1],s[0]],zoom:Math.max(Ge.getZoom(),15),offset:[0,-1/2]})}function x(){e(!0)}const P=()=>{f(!a)};return V.useEffect(()=>{i(o)},[o]),V.useEffect(()=>{y()},[s]),L.jsx("header",{className:t.toolbar,children:L.jsxs("div",{children:[L.jsxs(Ofe,{style:{height:"26px",display:"inline",justifyContent:"flex-end"},children:[L.jsx(hr,{onClick:g,className:t.mediaButton,style:{margin:"0px 0px"},children:L.jsx(Fq,{fontSize:"small",className:t.mediaicon})}),L.jsxs(hr,{id:"openMission",className:t.mediaButton,style:{margin:"0px 0px"},children:[L.jsx("label",{htmlFor:"openMissionNavbar",style:{padding:0},children:L.jsx(Uq,{fontSize:"small",className:t.mediaicon,style:{position:"relative",top:"3px"}})}),L.jsx("input",{type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:h})]}),L.jsx(hr,{id:"openAddUav",onClick:x,className:t.mediaButton,style:{margin:"0px 0px"},children:L.jsx(Vq,{fontSize:"small",className:t.mediaicon,style:{transform:"rotate(90deg)"}})})]}),L.jsx(Vd.Consumer,{children:({rosState:E})=>L.jsxs(hr,{id:"rosConnect",onClick:n.rosConnect,className:t.mediaButton,children:[E&&"conectado"," ",!E&&"desconectado"," "]})}),L.jsx(hr,{id:"loadMission",size:"small",onClick:x,className:t.mediaButton,children:L.jsx(Wq,{fontSize:"small",className:t.mediaicon})}),L.jsx(hr,{id:"commandMission",onClick:x,className:t.mediaButton,children:"Fly!"}),L.jsxs(hr,{id:"openedmission",onClick:y,className:t.mediaButton,style:{margin:"0px 100px",width:"500px"},children:[" ",r]}),L.jsx(hr,{variant:"filledTonal",onClick:E=>P(),className:t.mediaButton,children:"Status"}),L.jsx(hr,{id:"openTerminal",style:{visibility:!0},className:t.mediaButton,children:L.jsx(qq,{fontSize:"small",className:t.mediaicon})}),L.jsx(hr,{id:"UndoMission",style:{visibility:!0},className:t.mediaButton,children:L.jsx(Gq,{fontSize:"small",className:t.mediaicon})}),L.jsx(hr,{id:"reset",className:t.mediaButton,children:L.jsx(Hq,{fontSize:"small",className:t.mediaicon})}),L.jsx(hr,{id:"showManualMode",className:t.mediaButton,children:L.jsx(Yq,{fontSize:"small",className:t.mediaicon})}),L.jsx(hr,{id:"commandManualMission",style:{visibility:!0},className:t.mediaButton,children:L.jsx(Kq,{fontSize:"small",className:t.mediaicon})})]})})};var eD={},r1e=ur;Object.defineProperty(eD,"__esModule",{value:!0});var fu=eD.default=void 0,i1e=r1e(dr()),o1e=L,a1e=(0,i1e.default)((0,o1e.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");fu=eD.default=a1e;const s1e=qr(e=>({title:{fontWeight:700,fontSize:"16px",textAlign:"left",marginTop:0,marginBottom:"6px",width:"300px",height:"18px"},mediaButton:{color:"#fff",mixBlendMode:"difference",right:0,top:0},description:{margin:0,textAlign:"left",fontSize:"12px",paddingLeft:"1rem"},toast:{height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(.5,1,0,2)},card:{pointerEvents:"auto",height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},root:{pointerEvents:"none",position:"fixed",zIndex:5,bottom:"1rem",right:"1rem"}})),l1e=({toastlist:e,position:t,setList:n})=>{const r=s1e(),i=V.useCallback(o=>{const s=e.filter(a=>a.id!==o);n(s)},[e,n]);return V.useEffect(()=>{const o=setInterval(()=>{e.length&&i(e[0].id)},3e3);return()=>{clearInterval(o)}},[e,i]),L.jsx("div",{className:r.root,children:e.map((o,s)=>L.jsxs(wu,{elevation:3,className:r.card,style:{backgroundColor:o.backgroundColor},children:[L.jsxs("div",{className:r.header,children:[L.jsx(pn,{variant:"body2",children:o.title}),L.jsx(Gn,{size:"small",onClick:()=>i(o.id),onTouchStart:()=>i(o.id),children:L.jsx(fu,{fontSize:"small",className:r.mediaButton})})]}),L.jsx("div",{children:L.jsx("p",{className:r.description,children:o.description})})]}))})};var tD={},c1e=ur;Object.defineProperty(tD,"__esModule",{value:!0});var Es=tD.default=void 0,u1e=c1e(dr()),d1e=L,f1e=(0,u1e.default)((0,d1e.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");Es=tD.default=f1e;const Yl=({label:e,fullWidth:t,multiple:n,value:r,emptyValue:i=0,emptyTitle:o=" ",onChange:s,endpoint:a,data:f,keyGetter:h=y=>y.id,titleGetter:g=y=>y.name})=>{const[y,x]=V.useState(f);return xR(async()=>{if(a){const P=await fetch(a);if(P.ok)x(await P.json());else throw Error(await P.text())}},[]),y?L.jsxs(ix,{fullWidth:t,children:[L.jsx(ox,{children:e}),L.jsxs(ax,{label:e,multiple:n,value:r,onChange:s,children:[!n&&i!==null&&L.jsx(Ps,{value:i,children:o}),y.map(P=>L.jsx(Ps,{value:h(P),children:g(P)},h(P)))]})]}):null};var nD={},h1e=ur;Object.defineProperty(nD,"__esModule",{value:!0});var _h=nD.default=void 0,p1e=h1e(dr()),m1e=L,g1e=(0,p1e.default)((0,m1e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");_h=nD.default=g1e;const y1e=qr(e=>({card:{pointerEvents:"auto",display:"block",width:"400px",height:"70vh",transitionDuration:"0.3s",overflowY:"auto"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},button:{width:"80%",paddingBottom:"10pt",paddingTop:"10pt"},formControl:{margin:e.spacing(1),gap:e.spacing(2),paddingBottom:"20pt"},inputtext:{paddingBottom:"20px"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},title:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"20pt",textAlign:"left"},closeBtn:{display:"flex",right:"5px",height:"35px",position:"absolute"},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),v1e=({SetAddUAVOpen:e})=>{const t=y1e(),n=V.useContext(Vd),[r,i]=V.useState({name:"uav_",category:"dji_M210_noetic",ip:"10.42.0.42",camera:[]});function o(){e(!1)}function s(){console.log("add uav-"+r.name+"-"+r.category),console.log(r),n.connectAddUav(r),e(!1)}const a=h=>{let g=JSON.parse(JSON.stringify(r.camera));g.splice(h,1),i({...r,camera:g})};function f(){let h=JSON.parse(JSON.stringify(r.camera));h.push({type:"WebRTC",source:""}),i({...r,camera:h})}return L.jsx("div",{className:t.root,children:L.jsxs(wu,{elevation:3,className:t.card,children:[L.jsx("div",{className:t.closeBtn,children:L.jsx(Gn,{size:"small",onClick:o,onTouchStart:o,children:L.jsx(fu,{fontSize:"small",className:t.mediaButton})})}),L.jsx("b",{children:L.jsx("div",{className:t.title,children:"Add device "})}),L.jsxs(xl,{defaultExpanded:!0,children:[L.jsx(wl,{expandIcon:L.jsx(Es,{}),children:L.jsx(pn,{variant:"subtitle1",children:"Datos UAV"})}),L.jsx(_l,{className:t.details,children:L.jsxs(ipe,{style:{margin:"20px"},children:[L.jsx(Ai,{required:!0,label:"UAV ID",name:"uavid",value:r.name,onChange:h=>i({...r,name:h.target.value}),className:t.inputtext}),L.jsx(Yl,{emptyValue:null,value:r.category?r.category:"",onChange:h=>i({...r,category:h.target.value}),endpoint:"/api/category",keyGetter:h=>h,titleGetter:h=>h,label:"Type UAV "}),L.jsx(Ai,{style:{marginTop:"20px"},label:"ip",value:r.ip,onChange:h=>i({...r,ip:h.target.value})})]})})]}),r&&L.jsxs(xl,{children:[L.jsx(wl,{expandIcon:L.jsx(Es,{}),children:L.jsx(pn,{variant:"subtitle1",children:"Camera"})}),L.jsxs(_l,{className:t.details,children:[r.camera&&r.camera.map((h,g,y)=>L.jsxs(V.Fragment,{children:[L.jsx(pn,{variant:"subtitle1",className:t.attributeName,children:"Camera "+g}),L.jsxs("div",{children:[L.jsxs(ix,{variant:"outlined",children:[L.jsx(ox,{id:"demo-simple-select-outlined-label",children:"CameraType"}),L.jsxs(ax,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:h.type,label:"type",onChange:x=>i({...r,camera:r.camera.map((P,E)=>{let S=JSON.parse(JSON.stringify(P));return g==E&&(S.type=x.target.value),S})}),children:[L.jsx(Ps,{value:"WebRTC",children:"WebRTC"}),L.jsx(Ps,{value:"WebRTC_env",children:"WebRTCenv"}),L.jsx(Ps,{value:"Websocket",children:"Websocket"})]})]}),L.jsx("div",{className:t.actionValue,children:L.jsx(Ai,{required:!0,fullWidth:!0,value:h.source,onChange:x=>i({...r,camera:r.camera.map((P,E)=>{let S=JSON.parse(JSON.stringify(P));return g==E&&(S.source=x.target.value),S})})})}),L.jsx(Gn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>a(g),className:t.negative,children:L.jsx(_h,{})})]}),L.jsx(rx,{})]},"fragment-action-"+g)),L.jsx(hr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:f,children:"Add camera source"})]})]}),L.jsx("div",{style:{paddingBottom:"20pt",paddingTop:"20pt",display:"flex",justifyContent:"center"},children:L.jsx(hr,{className:t.button,variant:"contained",onClick:s,children:"ADD"})})]})})},cS="/assets/placeholder-IqVYhB-0.jpg";var rD={},b1e=ur;Object.defineProperty(rD,"__esModule",{value:!0});var iD=rD.default=void 0,x1e=b1e(dr()),_1e=L,w1e=(0,x1e.default)((0,_1e.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");iD=rD.default=w1e;const S1e=qr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},card_max:{pointerEvents:"auto",width:"100%"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)",width:"55%"}})),k1e=({deviceId:e,datacamera:t,onClose:n})=>{const r=S1e(),[i,o]=V.useState(cS),s=On(x=>x.devices.items[e]),[a,f]=V.useState(!1);let h=a?r.card_max:r.card,g=a?r.root_max:r.root;function y(){f(!a)}return V.useEffect(()=>{e!=null&&(t!=null?o("data:image/bgr8;base64,"+t.camera):o(cS))},[t]),L.jsx("div",{className:g,children:s&&L.jsxs(wu,{elevation:3,className:h,children:[L.jsxs("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:[L.jsx(Gn,{size:"small",onClick:y,onTouchStart:y,children:L.jsx(iD,{fontSize:"small",className:r.mediaButton})}),L.jsx(Gn,{size:"small",onClick:()=>{n(),f(!1)},onTouchStart:n,children:L.jsx(fu,{fontSize:"small",className:r.mediaButton})})]}),L.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},children:["Image "+s.name," "]}),L.jsx("img",{src:i,className:r.media})]})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Zq;function $t(){return Zq.apply(null,arguments)}function C1e(e){Zq=e}function El(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function rh(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function er(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oD(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(er(e,t))return!1;return!0}function _a(e){return e===void 0}function hu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function px(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Xq(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function yd(e,t){for(var n in t)er(t,n)&&(e[n]=t[n]);return er(t,"toString")&&(e.toString=t.toString),er(t,"valueOf")&&(e.valueOf=t.valueOf),e}function hc(e,t,n,r){return _G(e,t,n,r,!0).utc()}function T1e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function En(e){return e._pf==null&&(e._pf=T1e()),e._pf}var XM;Array.prototype.some?XM=Array.prototype.some:XM=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function aD(e){if(e._isValid==null){var t=En(e),n=XM.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Kk(e){var t=hc(NaN);return e!=null?yd(En(t),e):En(t).userInvalidated=!0,t}var MB=$t.momentProperties=[],SE=!1;function sD(e,t){var n,r,i,o=MB.length;if(_a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),_a(t._i)||(e._i=t._i),_a(t._f)||(e._f=t._f),_a(t._l)||(e._l=t._l),_a(t._strict)||(e._strict=t._strict),_a(t._tzm)||(e._tzm=t._tzm),_a(t._isUTC)||(e._isUTC=t._isUTC),_a(t._offset)||(e._offset=t._offset),_a(t._pf)||(e._pf=En(t)),_a(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)r=MB[n],i=t[r],_a(i)||(e[r]=i);return e}function mx(e){sD(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),SE===!1&&(SE=!0,$t.updateOffset(this),SE=!1)}function Ol(e){return e instanceof mx||e!=null&&e._isAMomentObject!=null}function Jq(e){$t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function qs(e,t){var n=!0;return yd(function(){if($t.deprecationHandler!=null&&$t.deprecationHandler(null,e),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])er(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}Jq(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var AB={};function Qq(e,t){$t.deprecationHandler!=null&&$t.deprecationHandler(e,t),AB[e]||(Jq(t),AB[e]=!0)}$t.suppressDeprecationWarnings=!1;$t.deprecationHandler=null;function pc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function P1e(e){var t,n;for(n in e)er(e,n)&&(t=e[n],pc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function JM(e,t){var n=yd({},e),r;for(r in t)er(t,r)&&(rh(e[r])&&rh(t[r])?(n[r]={},yd(n[r],e[r]),yd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)er(e,r)&&!er(t,r)&&rh(e[r])&&(n[r]=yd({},n[r]));return n}function lD(e){e!=null&&this.set(e)}var QM;Object.keys?QM=Object.keys:QM=function(e){var t,n=[];for(t in e)er(e,t)&&n.push(t);return n};var E1e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O1e(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return pc(r)?r.call(t,n):r}function uc(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var cD=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_1=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,kE={},_m={};function sn(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(_m[e]=i),t&&(_m[t[0]]=function(){return uc(i.apply(this,arguments),t[1],t[2])}),n&&(_m[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function M1e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function A1e(e){var t=e.match(cD),n,r;for(n=0,r=t.length;n<r;n++)_m[t[n]]?t[n]=_m[t[n]]:t[n]=M1e(t[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=pc(t[s])?t[s].call(i,e):t[s];return o}}function ow(e,t){return e.isValid()?(t=eG(t,e.localeData()),kE[t]=kE[t]||A1e(t),kE[t](e)):e.localeData().invalidDate()}function eG(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(_1.lastIndex=0;n>=0&&_1.test(e);)e=e.replace(_1,r),_1.lastIndex=0,n-=1;return e}var I1e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $1e(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(cD).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var R1e="Invalid date";function D1e(){return this._invalidDate}var L1e="%d",j1e=/\d{1,2}/;function N1e(e){return this._ordinal.replace("%d",e)}var z1e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function B1e(e,t,n,r){var i=this._relativeTime[n];return pc(i)?i(e,t,n,r):i.replace(/%d/i,e)}function F1e(e,t){var n=this._relativeTime[e>0?"future":"past"];return pc(n)?n(t):n.replace(/%s/i,t)}var y0={};function Uo(e,t){var n=e.toLowerCase();y0[n]=y0[n+"s"]=y0[t]=e}function Gs(e){return typeof e=="string"?y0[e]||y0[e.toLowerCase()]:void 0}function uD(e){var t={},n,r;for(r in e)er(e,r)&&(n=Gs(r),n&&(t[n]=e[r]));return t}var tG={};function Vo(e,t){tG[e]=t}function U1e(e){var t=[],n;for(n in e)er(e,n)&&t.push({unit:n,priority:tG[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function Zk(e){return e%4===0&&e%100!==0||e%400===0}function ks(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ln(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=ks(t)),n}function Rg(e,t){return function(n){return n!=null?(nG(this,e,n),$t.updateOffset(this,t),this):uS(this,e)}}function uS(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function nG(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Zk(e.year())&&e.month()===1&&e.date()===29?(n=Ln(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),nC(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function V1e(e){return e=Gs(e),pc(this[e])?this[e]():this}function W1e(e,t){if(typeof e=="object"){e=uD(e);var n=U1e(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=Gs(e),pc(this[e]))return this[e](t);return this}var rG=/\d/,os=/\d\d/,iG=/\d{3}/,dD=/\d{4}/,Xk=/[+-]?\d{6}/,Gr=/\d\d?/,oG=/\d\d\d\d?/,aG=/\d\d\d\d\d\d?/,Jk=/\d{1,3}/,fD=/\d{1,4}/,Qk=/[+-]?\d{1,6}/,Dg=/\d+/,eC=/[+-]?\d+/,q1e=/Z|[+-]\d\d:?\d\d/gi,tC=/Z|[+-]\d\d(?::?\d\d)?/gi,G1e=/[+-]?\d+(\.\d{1,3})?/,gx=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,dS;dS={};function Ft(e,t,n){dS[e]=pc(t)?t:function(r,i){return r&&n?n:t}}function H1e(e,t){return er(dS,e)?dS[e](t._strict,t._locale):new RegExp(Y1e(e))}function Y1e(e){return Va(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,o){return n||r||i||o}))}function Va(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var eA={};function Cr(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),hu(t)&&(r=function(o,s){s[t]=Ln(o)}),i=e.length,n=0;n<i;n++)eA[e[n]]=r}function yx(e,t){Cr(e,function(n,r,i,o){i._w=i._w||{},t(n,i._w,i,o)})}function K1e(e,t,n){t!=null&&er(eA,e)&&eA[e](t,n._a,n,e)}var Bo=0,Hc=1,Zl=2,Wi=3,Sl=4,Yc=5,qf=6,Z1e=7,X1e=8;function J1e(e,t){return(e%t+t)%t}var Ci;Array.prototype.indexOf?Ci=Array.prototype.indexOf:Ci=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function nC(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=J1e(t,12);return e+=(t-n)/12,n===1?Zk(e)?29:28:31-n%7%2}sn("M",["MM",2],"Mo",function(){return this.month()+1});sn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});sn("MMMM",0,0,function(e){return this.localeData().months(this,e)});Uo("month","M");Vo("month",8);Ft("M",Gr);Ft("MM",Gr,os);Ft("MMM",function(e,t){return t.monthsShortRegex(e)});Ft("MMMM",function(e,t){return t.monthsRegex(e)});Cr(["M","MM"],function(e,t){t[Hc]=Ln(e)-1});Cr(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Hc]=i:En(n).invalidMonth=e});var Q1e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),sG="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lG=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ewe=gx,twe=gx;function nwe(e,t){return e?El(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||lG).test(t)?"format":"standalone"][e.month()]:El(this._months)?this._months:this._months.standalone}function rwe(e,t){return e?El(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[lG.test(t)?"format":"standalone"][e.month()]:El(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function iwe(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=hc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(i=Ci.call(this._shortMonthsParse,s),i!==-1?i:null):(i=Ci.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=Ci.call(this._shortMonthsParse,s),i!==-1?i:(i=Ci.call(this._longMonthsParse,s),i!==-1?i:null)):(i=Ci.call(this._longMonthsParse,s),i!==-1?i:(i=Ci.call(this._shortMonthsParse,s),i!==-1?i:null))}function owe(e,t,n){var r,i,o;if(this._monthsParseExact)return iwe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=hc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function cG(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ln(t);else if(t=e.localeData().monthsParse(t),!hu(t))return e}return n=Math.min(e.date(),nC(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function uG(e){return e!=null?(cG(this,e),$t.updateOffset(this,!0),this):uS(this,"Month")}function awe(){return nC(this.year(),this.month())}function swe(e){return this._monthsParseExact?(er(this,"_monthsRegex")||dG.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(er(this,"_monthsShortRegex")||(this._monthsShortRegex=ewe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function lwe(e){return this._monthsParseExact?(er(this,"_monthsRegex")||dG.call(this),e?this._monthsStrictRegex:this._monthsRegex):(er(this,"_monthsRegex")||(this._monthsRegex=twe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dG(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=hc([2e3,i]),t.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=Va(t[i]),n[i]=Va(n[i]);for(i=0;i<24;i++)r[i]=Va(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}sn("Y",0,0,function(){var e=this.year();return e<=9999?uc(e,4):"+"+e});sn(0,["YY",2],0,function(){return this.year()%100});sn(0,["YYYY",4],0,"year");sn(0,["YYYYY",5],0,"year");sn(0,["YYYYYY",6,!0],0,"year");Uo("year","y");Vo("year",1);Ft("Y",eC);Ft("YY",Gr,os);Ft("YYYY",fD,dD);Ft("YYYYY",Qk,Xk);Ft("YYYYYY",Qk,Xk);Cr(["YYYYY","YYYYYY"],Bo);Cr("YYYY",function(e,t){t[Bo]=e.length===2?$t.parseTwoDigitYear(e):Ln(e)});Cr("YY",function(e,t){t[Bo]=$t.parseTwoDigitYear(e)});Cr("Y",function(e,t){t[Bo]=parseInt(e,10)});function v0(e){return Zk(e)?366:365}$t.parseTwoDigitYear=function(e){return Ln(e)+(Ln(e)>68?1900:2e3)};var fG=Rg("FullYear",!0);function cwe(){return Zk(this.year())}function uwe(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function ob(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function fS(e,t,n){var r=7+t-n,i=(7+ob(e,0,r).getUTCDay()-t)%7;return-i+r-1}function hG(e,t,n,r,i){var o=(7+n-r)%7,s=fS(e,r,i),a=1+7*(t-1)+o+s,f,h;return a<=0?(f=e-1,h=v0(f)+a):a>v0(e)?(f=e+1,h=a-v0(e)):(f=e,h=a),{year:f,dayOfYear:h}}function ab(e,t,n){var r=fS(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=e.year()-1,o=i+eu(s,t,n)):i>eu(e.year(),t,n)?(o=i-eu(e.year(),t,n),s=e.year()+1):(s=e.year(),o=i),{week:o,year:s}}function eu(e,t,n){var r=fS(e,t,n),i=fS(e+1,t,n);return(v0(e)-r+i)/7}sn("w",["ww",2],"wo","week");sn("W",["WW",2],"Wo","isoWeek");Uo("week","w");Uo("isoWeek","W");Vo("week",5);Vo("isoWeek",5);Ft("w",Gr);Ft("ww",Gr,os);Ft("W",Gr);Ft("WW",Gr,os);yx(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Ln(e)});function dwe(e){return ab(e,this._week.dow,this._week.doy).week}var fwe={dow:0,doy:6};function hwe(){return this._week.dow}function pwe(){return this._week.doy}function mwe(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function gwe(e){var t=ab(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}sn("d",0,"do","day");sn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});sn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});sn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});sn("e",0,0,"weekday");sn("E",0,0,"isoWeekday");Uo("day","d");Uo("weekday","e");Uo("isoWeekday","E");Vo("day",11);Vo("weekday",11);Vo("isoWeekday",11);Ft("d",Gr);Ft("e",Gr);Ft("E",Gr);Ft("dd",function(e,t){return t.weekdaysMinRegex(e)});Ft("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ft("dddd",function(e,t){return t.weekdaysRegex(e)});yx(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:En(n).invalidWeekday=e});yx(["d","e","E"],function(e,t,n,r){t[r]=Ln(e)});function ywe(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function vwe(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function hD(e,t){return e.slice(t,7).concat(e.slice(0,t))}var bwe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pG="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xwe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_we=gx,wwe=gx,Swe=gx;function kwe(e,t){var n=El(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?hD(n,this._week.dow):e?n[e.day()]:n}function Cwe(e){return e===!0?hD(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Twe(e){return e===!0?hD(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Pwe(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=hc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(i=Ci.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=Ci.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=Ci.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=Ci.call(this._weekdaysParse,s),i!==-1||(i=Ci.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=Ci.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=Ci.call(this._shortWeekdaysParse,s),i!==-1||(i=Ci.call(this._weekdaysParse,s),i!==-1)?i:(i=Ci.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=Ci.call(this._minWeekdaysParse,s),i!==-1||(i=Ci.call(this._weekdaysParse,s),i!==-1)?i:(i=Ci.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function Ewe(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Pwe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=hc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Owe(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=ywe(e,this.localeData()),this.add(e-t,"d")):t}function Mwe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Awe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=vwe(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Iwe(e){return this._weekdaysParseExact?(er(this,"_weekdaysRegex")||pD.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(er(this,"_weekdaysRegex")||(this._weekdaysRegex=_we),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function $we(e){return this._weekdaysParseExact?(er(this,"_weekdaysRegex")||pD.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(er(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wwe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Rwe(e){return this._weekdaysParseExact?(er(this,"_weekdaysRegex")||pD.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(er(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Swe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function pD(){function e(g,y){return y.length-g.length}var t=[],n=[],r=[],i=[],o,s,a,f,h;for(o=0;o<7;o++)s=hc([2e3,1]).day(o),a=Va(this.weekdaysMin(s,"")),f=Va(this.weekdaysShort(s,"")),h=Va(this.weekdays(s,"")),t.push(a),n.push(f),r.push(h),i.push(a),i.push(f),i.push(h);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function mD(){return this.hours()%12||12}function Dwe(){return this.hours()||24}sn("H",["HH",2],0,"hour");sn("h",["hh",2],0,mD);sn("k",["kk",2],0,Dwe);sn("hmm",0,0,function(){return""+mD.apply(this)+uc(this.minutes(),2)});sn("hmmss",0,0,function(){return""+mD.apply(this)+uc(this.minutes(),2)+uc(this.seconds(),2)});sn("Hmm",0,0,function(){return""+this.hours()+uc(this.minutes(),2)});sn("Hmmss",0,0,function(){return""+this.hours()+uc(this.minutes(),2)+uc(this.seconds(),2)});function mG(e,t){sn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}mG("a",!0);mG("A",!1);Uo("hour","h");Vo("hour",13);function gG(e,t){return t._meridiemParse}Ft("a",gG);Ft("A",gG);Ft("H",Gr);Ft("h",Gr);Ft("k",Gr);Ft("HH",Gr,os);Ft("hh",Gr,os);Ft("kk",Gr,os);Ft("hmm",oG);Ft("hmmss",aG);Ft("Hmm",oG);Ft("Hmmss",aG);Cr(["H","HH"],Wi);Cr(["k","kk"],function(e,t,n){var r=Ln(e);t[Wi]=r===24?0:r});Cr(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Cr(["h","hh"],function(e,t,n){t[Wi]=Ln(e),En(n).bigHour=!0});Cr("hmm",function(e,t,n){var r=e.length-2;t[Wi]=Ln(e.substr(0,r)),t[Sl]=Ln(e.substr(r)),En(n).bigHour=!0});Cr("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Wi]=Ln(e.substr(0,r)),t[Sl]=Ln(e.substr(r,2)),t[Yc]=Ln(e.substr(i)),En(n).bigHour=!0});Cr("Hmm",function(e,t,n){var r=e.length-2;t[Wi]=Ln(e.substr(0,r)),t[Sl]=Ln(e.substr(r))});Cr("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Wi]=Ln(e.substr(0,r)),t[Sl]=Ln(e.substr(r,2)),t[Yc]=Ln(e.substr(i))});function Lwe(e){return(e+"").toLowerCase().charAt(0)==="p"}var jwe=/[ap]\.?m?\.?/i,Nwe=Rg("Hours",!0);function zwe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var yG={calendar:E1e,longDateFormat:I1e,invalidDate:R1e,ordinal:L1e,dayOfMonthOrdinalParse:j1e,relativeTime:z1e,months:Q1e,monthsShort:sG,week:fwe,weekdays:bwe,weekdaysMin:xwe,weekdaysShort:pG,meridiemParse:jwe},Xr={},Cv={},sb;function Bwe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function IB(e){return e&&e.toLowerCase().replace("_","-")}function Fwe(e){for(var t=0,n,r,i,o;t<e.length;){for(o=IB(e[t]).split("-"),n=o.length,r=IB(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=rC(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Bwe(o,r)>=n-1)break;n--}t++}return sb}function Uwe(e){return e.match("^[^/\\\\]*$")!=null}function rC(e){var t=null,n;if(Xr[e]===void 0&&typeof uw<"u"&&uw&&uw.exports&&Uwe(e))try{t=sb._abbr,n=require,n("./locale/"+e),Id(t)}catch{Xr[e]=null}return Xr[e]}function Id(e,t){var n;return e&&(_a(t)?n=Su(e):n=gD(e,t),n?sb=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sb._abbr}function gD(e,t){if(t!==null){var n,r=yG;if(t.abbr=e,Xr[e]!=null)Qq("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Xr[e]._config;else if(t.parentLocale!=null)if(Xr[t.parentLocale]!=null)r=Xr[t.parentLocale]._config;else if(n=rC(t.parentLocale),n!=null)r=n._config;else return Cv[t.parentLocale]||(Cv[t.parentLocale]=[]),Cv[t.parentLocale].push({name:e,config:t}),null;return Xr[e]=new lD(JM(r,t)),Cv[e]&&Cv[e].forEach(function(i){gD(i.name,i.config)}),Id(e),Xr[e]}else return delete Xr[e],null}function Vwe(e,t){if(t!=null){var n,r,i=yG;Xr[e]!=null&&Xr[e].parentLocale!=null?Xr[e].set(JM(Xr[e]._config,t)):(r=rC(e),r!=null&&(i=r._config),t=JM(i,t),r==null&&(t.abbr=e),n=new lD(t),n.parentLocale=Xr[e],Xr[e]=n),Id(e)}else Xr[e]!=null&&(Xr[e].parentLocale!=null?(Xr[e]=Xr[e].parentLocale,e===Id()&&Id(e)):Xr[e]!=null&&delete Xr[e]);return Xr[e]}function Su(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sb;if(!El(e)){if(t=rC(e),t)return t;e=[e]}return Fwe(e)}function Wwe(){return QM(Xr)}function yD(e){var t,n=e._a;return n&&En(e).overflow===-2&&(t=n[Hc]<0||n[Hc]>11?Hc:n[Zl]<1||n[Zl]>nC(n[Bo],n[Hc])?Zl:n[Wi]<0||n[Wi]>24||n[Wi]===24&&(n[Sl]!==0||n[Yc]!==0||n[qf]!==0)?Wi:n[Sl]<0||n[Sl]>59?Sl:n[Yc]<0||n[Yc]>59?Yc:n[qf]<0||n[qf]>999?qf:-1,En(e)._overflowDayOfYear&&(t<Bo||t>Zl)&&(t=Zl),En(e)._overflowWeeks&&t===-1&&(t=Z1e),En(e)._overflowWeekday&&t===-1&&(t=X1e),En(e).overflow=t),e}var qwe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gwe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hwe=/Z|[+-]\d\d(?::?\d\d)?/,w1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],CE=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ywe=/^\/?Date\((-?\d+)/i,Kwe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Zwe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vG(e){var t,n,r=e._i,i=qwe.exec(r)||Gwe.exec(r),o,s,a,f,h=w1.length,g=CE.length;if(i){for(En(e).iso=!0,t=0,n=h;t<n;t++)if(w1[t][1].exec(i[1])){s=w1[t][0],o=w1[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,n=g;t<n;t++)if(CE[t][1].exec(i[3])){a=(i[2]||" ")+CE[t][0];break}if(a==null){e._isValid=!1;return}}if(!o&&a!=null){e._isValid=!1;return}if(i[4])if(Hwe.exec(i[4]))f="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(f||""),bD(e)}else e._isValid=!1}function Xwe(e,t,n,r,i,o){var s=[Jwe(e),sG.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function Jwe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Qwe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function eSe(e,t,n){if(e){var r=pG.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return En(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function tSe(e,t,n){if(e)return Zwe[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function bG(e){var t=Kwe.exec(Qwe(e._i)),n;if(t){if(n=Xwe(t[4],t[3],t[2],t[5],t[6],t[7]),!eSe(t[1],n,e))return;e._a=n,e._tzm=tSe(t[8],t[9],t[10]),e._d=ob.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),En(e).rfc2822=!0}else e._isValid=!1}function nSe(e){var t=Ywe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(vG(e),e._isValid===!1)delete e._isValid;else return;if(bG(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:$t.createFromInputFallback(e)}$t.createFromInputFallback=qs("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Lp(e,t,n){return e??t??n}function rSe(e){var t=new Date($t.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function vD(e){var t,n,r=[],i,o,s;if(!e._d){for(i=rSe(e),e._w&&e._a[Zl]==null&&e._a[Hc]==null&&iSe(e),e._dayOfYear!=null&&(s=Lp(e._a[Bo],i[Bo]),(e._dayOfYear>v0(s)||e._dayOfYear===0)&&(En(e)._overflowDayOfYear=!0),n=ob(s,0,e._dayOfYear),e._a[Hc]=n.getUTCMonth(),e._a[Zl]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Wi]===24&&e._a[Sl]===0&&e._a[Yc]===0&&e._a[qf]===0&&(e._nextDay=!0,e._a[Wi]=0),e._d=(e._useUTC?ob:uwe).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Wi]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(En(e).weekdayMismatch=!0)}}function iSe(e){var t,n,r,i,o,s,a,f,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,s=4,n=Lp(t.GG,e._a[Bo],ab(Wr(),1,4).year),r=Lp(t.W,1),i=Lp(t.E,1),(i<1||i>7)&&(f=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,h=ab(Wr(),o,s),n=Lp(t.gg,e._a[Bo],h.year),r=Lp(t.w,h.week),t.d!=null?(i=t.d,(i<0||i>6)&&(f=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(f=!0)):i=o),r<1||r>eu(n,o,s)?En(e)._overflowWeeks=!0:f!=null?En(e)._overflowWeekday=!0:(a=hG(n,r,i,o,s),e._a[Bo]=a.year,e._dayOfYear=a.dayOfYear)}$t.ISO_8601=function(){};$t.RFC_2822=function(){};function bD(e){if(e._f===$t.ISO_8601){vG(e);return}if(e._f===$t.RFC_2822){bG(e);return}e._a=[],En(e).empty=!0;var t=""+e._i,n,r,i,o,s,a=t.length,f=0,h,g;for(i=eG(e._f,e._locale).match(cD)||[],g=i.length,n=0;n<g;n++)o=i[n],r=(t.match(H1e(o,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&En(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),f+=r.length),_m[o]?(r?En(e).empty=!1:En(e).unusedTokens.push(o),K1e(o,r,e)):e._strict&&!r&&En(e).unusedTokens.push(o);En(e).charsLeftOver=a-f,t.length>0&&En(e).unusedInput.push(t),e._a[Wi]<=12&&En(e).bigHour===!0&&e._a[Wi]>0&&(En(e).bigHour=void 0),En(e).parsedDateParts=e._a.slice(0),En(e).meridiem=e._meridiem,e._a[Wi]=oSe(e._locale,e._a[Wi],e._meridiem),h=En(e).era,h!==null&&(e._a[Bo]=e._locale.erasConvertYear(h,e._a[Bo])),vD(e),yD(e)}function oSe(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function aSe(e){var t,n,r,i,o,s,a=!1,f=e._f.length;if(f===0){En(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<f;i++)o=0,s=!1,t=sD({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],bD(t),aD(t)&&(s=!0),o+=En(t).charsLeftOver,o+=En(t).unusedTokens.length*10,En(t).score=o,a?o<r&&(r=o,n=t):(r==null||o<r||s)&&(r=o,n=t,s&&(a=!0));yd(e,n||t)}function sSe(e){if(!e._d){var t=uD(e._i),n=t.day===void 0?t.date:t.day;e._a=Xq([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),vD(e)}}function lSe(e){var t=new mx(yD(xG(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function xG(e){var t=e._i,n=e._f;return e._locale=e._locale||Su(e._l),t===null||n===void 0&&t===""?Kk({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ol(t)?new mx(yD(t)):(px(t)?e._d=t:El(n)?aSe(e):n?bD(e):cSe(e),aD(e)||(e._d=null),e))}function cSe(e){var t=e._i;_a(t)?e._d=new Date($t.now()):px(t)?e._d=new Date(t.valueOf()):typeof t=="string"?nSe(e):El(t)?(e._a=Xq(t.slice(0),function(n){return parseInt(n,10)}),vD(e)):rh(t)?sSe(e):hu(t)?e._d=new Date(t):$t.createFromInputFallback(e)}function _G(e,t,n,r,i){var o={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(rh(e)&&oD(e)||El(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,lSe(o)}function Wr(e,t,n,r){return _G(e,t,n,r,!1)}var uSe=qs("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Wr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Kk()}),dSe=qs("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Wr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Kk()});function wG(e,t){var n,r;if(t.length===1&&El(t[0])&&(t=t[0]),!t.length)return Wr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function fSe(){var e=[].slice.call(arguments,0);return wG("isBefore",e)}function hSe(){var e=[].slice.call(arguments,0);return wG("isAfter",e)}var pSe=function(){return Date.now?Date.now():+new Date},Tv=["year","quarter","month","week","day","hour","minute","second","millisecond"];function mSe(e){var t,n=!1,r,i=Tv.length;for(t in e)if(er(e,t)&&!(Ci.call(Tv,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Tv[r]]){if(n)return!1;parseFloat(e[Tv[r]])!==Ln(e[Tv[r]])&&(n=!0)}return!0}function gSe(){return this._isValid}function ySe(){return Il(NaN)}function iC(e){var t=uD(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,f=t.minute||0,h=t.second||0,g=t.millisecond||0;this._isValid=mSe(t),this._milliseconds=+g+h*1e3+f*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=Su(),this._bubble()}function aw(e){return e instanceof iC}function tA(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function vSe(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Ln(e[s])!==Ln(t[s]))&&o++;return o+i}function SG(e,t){sn(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+uc(~~(n/60),2)+t+uc(~~n%60,2)})}SG("Z",":");SG("ZZ","");Ft("Z",tC);Ft("ZZ",tC);Cr(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=xD(tC,e)});var bSe=/([\+\-]|\d\d)/gi;function xD(e,t){var n=(t||"").match(e),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(bSe)||["-",0,0],o=+(i[1]*60)+Ln(i[2]),o===0?0:i[0]==="+"?o:-o)}function _D(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Ol(e)||px(e)?e.valueOf():Wr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),$t.updateOffset(n,!1),n):Wr(e).local()}function nA(e){return-Math.round(e._d.getTimezoneOffset())}$t.updateOffset=function(){};function xSe(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=xD(tC,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=nA(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?TG(this,Il(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,$t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:nA(this)}function _Se(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function wSe(e){return this.utcOffset(0,e)}function SSe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(nA(this),"m")),this}function kSe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=xD(q1e,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function CSe(e){return this.isValid()?(e=e?Wr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function TSe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function PSe(){if(!_a(this._isDSTShifted))return this._isDSTShifted;var e={},t;return sD(e,this),e=xG(e),e._a?(t=e._isUTC?hc(e._a):Wr(e._a),this._isDSTShifted=this.isValid()&&vSe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ESe(){return this.isValid()?!this._isUTC:!1}function OSe(){return this.isValid()?this._isUTC:!1}function kG(){return this.isValid()?this._isUTC&&this._offset===0:!1}var MSe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ASe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Il(e,t){var n=e,r=null,i,o,s;return aw(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:hu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=MSe.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:Ln(r[Zl])*i,h:Ln(r[Wi])*i,m:Ln(r[Sl])*i,s:Ln(r[Yc])*i,ms:Ln(tA(r[qf]*1e3))*i}):(r=ASe.exec(e))?(i=r[1]==="-"?-1:1,n={y:Cf(r[2],i),M:Cf(r[3],i),w:Cf(r[4],i),d:Cf(r[5],i),h:Cf(r[6],i),m:Cf(r[7],i),s:Cf(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=ISe(Wr(n.from),Wr(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new iC(n),aw(e)&&er(e,"_locale")&&(o._locale=e._locale),aw(e)&&er(e,"_isValid")&&(o._isValid=e._isValid),o}Il.fn=iC.prototype;Il.invalid=ySe;function Cf(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function $B(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ISe(e,t){var n;return e.isValid()&&t.isValid()?(t=_D(t,e),e.isBefore(t)?n=$B(e,t):(n=$B(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function CG(e,t){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(Qq(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Il(n,r),TG(this,i,e),this}}function TG(e,t,n,r){var i=t._milliseconds,o=tA(t._days),s=tA(t._months);e.isValid()&&(r=r??!0,s&&cG(e,uS(e,"Month")+s*n),o&&nG(e,"Date",uS(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&$t.updateOffset(e,o||s))}var $Se=CG(1,"add"),RSe=CG(-1,"subtract");function PG(e){return typeof e=="string"||e instanceof String}function DSe(e){return Ol(e)||px(e)||PG(e)||hu(e)||jSe(e)||LSe(e)||e===null||e===void 0}function LSe(e){var t=rh(e)&&!oD(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||er(e,o);return t&&n}function jSe(e){var t=El(e),n=!1;return t&&(n=e.filter(function(r){return!hu(r)&&PG(e)}).length===0),t&&n}function NSe(e){var t=rh(e)&&!oD(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||er(e,o);return t&&n}function zSe(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function BSe(e,t){arguments.length===1&&(arguments[0]?DSe(arguments[0])?(e=arguments[0],t=void 0):NSe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Wr(),r=_D(n,this).startOf("day"),i=$t.calendarFormat(this,r)||"sameElse",o=t&&(pc(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Wr(n)))}function FSe(){return new mx(this)}function USe(e,t){var n=Ol(e)?e:Wr(e);return this.isValid()&&n.isValid()?(t=Gs(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function VSe(e,t){var n=Ol(e)?e:Wr(e);return this.isValid()&&n.isValid()?(t=Gs(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function WSe(e,t,n,r){var i=Ol(e)?e:Wr(e),o=Ol(t)?t:Wr(t);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function qSe(e,t){var n=Ol(e)?e:Wr(e),r;return this.isValid()&&n.isValid()?(t=Gs(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function GSe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function HSe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function YSe(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=_D(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=Gs(t),t){case"year":o=sw(this,r)/12;break;case"month":o=sw(this,r);break;case"quarter":o=sw(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ks(o)}function sw(e,t){if(e.date()<t.date())return-sw(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,o;return t-r<0?(i=e.clone().add(n-1,"months"),o=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),o=(t-r)/(i-r)),-(n+o)||0}$t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";$t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function KSe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ZSe(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?ow(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):pc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ow(n,"Z")):ow(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function XSe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+r+i+o)}function JSe(e){e||(e=this.isUtc()?$t.defaultFormatUtc:$t.defaultFormat);var t=ow(this,e);return this.localeData().postformat(t)}function QSe(e,t){return this.isValid()&&(Ol(e)&&e.isValid()||Wr(e).isValid())?Il({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function e2e(e){return this.from(Wr(),e)}function t2e(e,t){return this.isValid()&&(Ol(e)&&e.isValid()||Wr(e).isValid())?Il({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function n2e(e){return this.to(Wr(),e)}function EG(e){var t;return e===void 0?this._locale._abbr:(t=Su(e),t!=null&&(this._locale=t),this)}var OG=qs("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function MG(){return this._locale}var hS=1e3,wm=60*hS,pS=60*wm,AG=(365*400+97)*24*pS;function Sm(e,t){return(e%t+t)%t}function IG(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-AG:new Date(e,t,n).valueOf()}function $G(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-AG:Date.UTC(e,t,n)}function r2e(e){var t,n;if(e=Gs(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$G:IG,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Sm(t+(this._isUTC?0:this.utcOffset()*wm),pS);break;case"minute":t=this._d.valueOf(),t-=Sm(t,wm);break;case"second":t=this._d.valueOf(),t-=Sm(t,hS);break}return this._d.setTime(t),$t.updateOffset(this,!0),this}function i2e(e){var t,n;if(e=Gs(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$G:IG,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=pS-Sm(t+(this._isUTC?0:this.utcOffset()*wm),pS)-1;break;case"minute":t=this._d.valueOf(),t+=wm-Sm(t,wm)-1;break;case"second":t=this._d.valueOf(),t+=hS-Sm(t,hS)-1;break}return this._d.setTime(t),$t.updateOffset(this,!0),this}function o2e(){return this._d.valueOf()-(this._offset||0)*6e4}function a2e(){return Math.floor(this.valueOf()/1e3)}function s2e(){return new Date(this.valueOf())}function l2e(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function c2e(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function u2e(){return this.isValid()?this.toISOString():null}function d2e(){return aD(this)}function f2e(){return yd({},En(this))}function h2e(){return En(this).overflow}function p2e(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}sn("N",0,0,"eraAbbr");sn("NN",0,0,"eraAbbr");sn("NNN",0,0,"eraAbbr");sn("NNNN",0,0,"eraName");sn("NNNNN",0,0,"eraNarrow");sn("y",["y",1],"yo","eraYear");sn("y",["yy",2],0,"eraYear");sn("y",["yyy",3],0,"eraYear");sn("y",["yyyy",4],0,"eraYear");Ft("N",wD);Ft("NN",wD);Ft("NNN",wD);Ft("NNNN",C2e);Ft("NNNNN",T2e);Cr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?En(n).era=i:En(n).invalidEra=e});Ft("y",Dg);Ft("yy",Dg);Ft("yyy",Dg);Ft("yyyy",Dg);Ft("yo",P2e);Cr(["y","yy","yyy","yyyy"],Bo);Cr(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Bo]=n._locale.eraYearOrdinalParse(e,i):t[Bo]=parseInt(e,10)});function m2e(e,t){var n,r,i,o=this._eras||Su("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=$t(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=$t(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function g2e(e,t,n){var r,i,o=this.eras(),s,a,f;for(e=e.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),f=o[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[r];break;case"NNNN":if(s===e)return o[r];break;case"NNNNN":if(f===e)return o[r];break}else if([s,a,f].indexOf(e)>=0)return o[r]}function y2e(e,t){var n=e.since<=e.until?1:-1;return t===void 0?$t(e.since).year():$t(e.since).year()+(t-e.offset)*n}function v2e(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function b2e(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function x2e(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function _2e(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-$t(i[e].since).year())*n+i[e].offset;return this.year()}function w2e(e){return er(this,"_erasNameRegex")||SD.call(this),e?this._erasNameRegex:this._erasRegex}function S2e(e){return er(this,"_erasAbbrRegex")||SD.call(this),e?this._erasAbbrRegex:this._erasRegex}function k2e(e){return er(this,"_erasNarrowRegex")||SD.call(this),e?this._erasNarrowRegex:this._erasRegex}function wD(e,t){return t.erasAbbrRegex(e)}function C2e(e,t){return t.erasNameRegex(e)}function T2e(e,t){return t.erasNarrowRegex(e)}function P2e(e,t){return t._eraYearOrdinalRegex||Dg}function SD(){var e=[],t=[],n=[],r=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)t.push(Va(s[i].name)),e.push(Va(s[i].abbr)),n.push(Va(s[i].narrow)),r.push(Va(s[i].name)),r.push(Va(s[i].abbr)),r.push(Va(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}sn(0,["gg",2],0,function(){return this.weekYear()%100});sn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function oC(e,t){sn(0,[e,e.length],0,t)}oC("gggg","weekYear");oC("ggggg","weekYear");oC("GGGG","isoWeekYear");oC("GGGGG","isoWeekYear");Uo("weekYear","gg");Uo("isoWeekYear","GG");Vo("weekYear",1);Vo("isoWeekYear",1);Ft("G",eC);Ft("g",eC);Ft("GG",Gr,os);Ft("gg",Gr,os);Ft("GGGG",fD,dD);Ft("gggg",fD,dD);Ft("GGGGG",Qk,Xk);Ft("ggggg",Qk,Xk);yx(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Ln(e)});yx(["gg","GG"],function(e,t,n,r){t[r]=$t.parseTwoDigitYear(e)});function E2e(e){return RG.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function O2e(e){return RG.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function M2e(){return eu(this.year(),1,4)}function A2e(){return eu(this.isoWeekYear(),1,4)}function I2e(){var e=this.localeData()._week;return eu(this.year(),e.dow,e.doy)}function $2e(){var e=this.localeData()._week;return eu(this.weekYear(),e.dow,e.doy)}function RG(e,t,n,r,i){var o;return e==null?ab(this,r,i).year:(o=eu(e,r,i),t>o&&(t=o),R2e.call(this,e,t,n,r,i))}function R2e(e,t,n,r,i){var o=hG(e,t,n,r,i),s=ob(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}sn("Q",0,"Qo","quarter");Uo("quarter","Q");Vo("quarter",7);Ft("Q",rG);Cr("Q",function(e,t){t[Hc]=(Ln(e)-1)*3});function D2e(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}sn("D",["DD",2],"Do","date");Uo("date","D");Vo("date",9);Ft("D",Gr);Ft("DD",Gr,os);Ft("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Cr(["D","DD"],Zl);Cr("Do",function(e,t){t[Zl]=Ln(e.match(Gr)[0])});var DG=Rg("Date",!0);sn("DDD",["DDDD",3],"DDDo","dayOfYear");Uo("dayOfYear","DDD");Vo("dayOfYear",4);Ft("DDD",Jk);Ft("DDDD",iG);Cr(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ln(e)});function L2e(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}sn("m",["mm",2],0,"minute");Uo("minute","m");Vo("minute",14);Ft("m",Gr);Ft("mm",Gr,os);Cr(["m","mm"],Sl);var j2e=Rg("Minutes",!1);sn("s",["ss",2],0,"second");Uo("second","s");Vo("second",15);Ft("s",Gr);Ft("ss",Gr,os);Cr(["s","ss"],Yc);var N2e=Rg("Seconds",!1);sn("S",0,0,function(){return~~(this.millisecond()/100)});sn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});sn(0,["SSS",3],0,"millisecond");sn(0,["SSSS",4],0,function(){return this.millisecond()*10});sn(0,["SSSSS",5],0,function(){return this.millisecond()*100});sn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});sn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});sn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});sn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Uo("millisecond","ms");Vo("millisecond",16);Ft("S",Jk,rG);Ft("SS",Jk,os);Ft("SSS",Jk,iG);var vd,LG;for(vd="SSSS";vd.length<=9;vd+="S")Ft(vd,Dg);function z2e(e,t){t[qf]=Ln(("0."+e)*1e3)}for(vd="S";vd.length<=9;vd+="S")Cr(vd,z2e);LG=Rg("Milliseconds",!1);sn("z",0,0,"zoneAbbr");sn("zz",0,0,"zoneName");function B2e(){return this._isUTC?"UTC":""}function F2e(){return this._isUTC?"Coordinated Universal Time":""}var vt=mx.prototype;vt.add=$Se;vt.calendar=BSe;vt.clone=FSe;vt.diff=YSe;vt.endOf=i2e;vt.format=JSe;vt.from=QSe;vt.fromNow=e2e;vt.to=t2e;vt.toNow=n2e;vt.get=V1e;vt.invalidAt=h2e;vt.isAfter=USe;vt.isBefore=VSe;vt.isBetween=WSe;vt.isSame=qSe;vt.isSameOrAfter=GSe;vt.isSameOrBefore=HSe;vt.isValid=d2e;vt.lang=OG;vt.locale=EG;vt.localeData=MG;vt.max=dSe;vt.min=uSe;vt.parsingFlags=f2e;vt.set=W1e;vt.startOf=r2e;vt.subtract=RSe;vt.toArray=l2e;vt.toObject=c2e;vt.toDate=s2e;vt.toISOString=ZSe;vt.inspect=XSe;typeof Symbol<"u"&&Symbol.for!=null&&(vt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});vt.toJSON=u2e;vt.toString=KSe;vt.unix=a2e;vt.valueOf=o2e;vt.creationData=p2e;vt.eraName=v2e;vt.eraNarrow=b2e;vt.eraAbbr=x2e;vt.eraYear=_2e;vt.year=fG;vt.isLeapYear=cwe;vt.weekYear=E2e;vt.isoWeekYear=O2e;vt.quarter=vt.quarters=D2e;vt.month=uG;vt.daysInMonth=awe;vt.week=vt.weeks=mwe;vt.isoWeek=vt.isoWeeks=gwe;vt.weeksInYear=I2e;vt.weeksInWeekYear=$2e;vt.isoWeeksInYear=M2e;vt.isoWeeksInISOWeekYear=A2e;vt.date=DG;vt.day=vt.days=Owe;vt.weekday=Mwe;vt.isoWeekday=Awe;vt.dayOfYear=L2e;vt.hour=vt.hours=Nwe;vt.minute=vt.minutes=j2e;vt.second=vt.seconds=N2e;vt.millisecond=vt.milliseconds=LG;vt.utcOffset=xSe;vt.utc=wSe;vt.local=SSe;vt.parseZone=kSe;vt.hasAlignedHourOffset=CSe;vt.isDST=TSe;vt.isLocal=ESe;vt.isUtcOffset=OSe;vt.isUtc=kG;vt.isUTC=kG;vt.zoneAbbr=B2e;vt.zoneName=F2e;vt.dates=qs("dates accessor is deprecated. Use date instead.",DG);vt.months=qs("months accessor is deprecated. Use month instead",uG);vt.years=qs("years accessor is deprecated. Use year instead",fG);vt.zone=qs("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_Se);vt.isDSTShifted=qs("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",PSe);function U2e(e){return Wr(e*1e3)}function V2e(){return Wr.apply(null,arguments).parseZone()}function jG(e){return e}var nr=lD.prototype;nr.calendar=O1e;nr.longDateFormat=$1e;nr.invalidDate=D1e;nr.ordinal=N1e;nr.preparse=jG;nr.postformat=jG;nr.relativeTime=B1e;nr.pastFuture=F1e;nr.set=P1e;nr.eras=m2e;nr.erasParse=g2e;nr.erasConvertYear=y2e;nr.erasAbbrRegex=S2e;nr.erasNameRegex=w2e;nr.erasNarrowRegex=k2e;nr.months=nwe;nr.monthsShort=rwe;nr.monthsParse=owe;nr.monthsRegex=lwe;nr.monthsShortRegex=swe;nr.week=dwe;nr.firstDayOfYear=pwe;nr.firstDayOfWeek=hwe;nr.weekdays=kwe;nr.weekdaysMin=Twe;nr.weekdaysShort=Cwe;nr.weekdaysParse=Ewe;nr.weekdaysRegex=Iwe;nr.weekdaysShortRegex=$we;nr.weekdaysMinRegex=Rwe;nr.isPM=Lwe;nr.meridiem=zwe;function mS(e,t,n,r){var i=Su(),o=hc().set(r,t);return i[n](o,e)}function NG(e,t,n){if(hu(e)&&(t=e,e=void 0),e=e||"",t!=null)return mS(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mS(e,r,n,"month");return i}function kD(e,t,n,r){typeof e=="boolean"?(hu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,hu(t)&&(n=t,t=void 0),t=t||"");var i=Su(),o=e?i._week.dow:0,s,a=[];if(n!=null)return mS(t,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=mS(t,(s+o)%7,r,"day");return a}function W2e(e,t){return NG(e,t,"months")}function q2e(e,t){return NG(e,t,"monthsShort")}function G2e(e,t,n){return kD(e,t,n,"weekdays")}function H2e(e,t,n){return kD(e,t,n,"weekdaysShort")}function Y2e(e,t,n){return kD(e,t,n,"weekdaysMin")}Id("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Ln(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});$t.lang=qs("moment.lang is deprecated. Use moment.locale instead.",Id);$t.langData=qs("moment.langData is deprecated. Use moment.localeData instead.",Su);var Lc=Math.abs;function K2e(){var e=this._data;return this._milliseconds=Lc(this._milliseconds),this._days=Lc(this._days),this._months=Lc(this._months),e.milliseconds=Lc(e.milliseconds),e.seconds=Lc(e.seconds),e.minutes=Lc(e.minutes),e.hours=Lc(e.hours),e.months=Lc(e.months),e.years=Lc(e.years),this}function zG(e,t,n,r){var i=Il(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Z2e(e,t){return zG(this,e,t,1)}function X2e(e,t){return zG(this,e,t,-1)}function RB(e){return e<0?Math.floor(e):Math.ceil(e)}function J2e(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,o,s,a,f;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=RB(rA(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=ks(e/1e3),r.seconds=i%60,o=ks(i/60),r.minutes=o%60,s=ks(o/60),r.hours=s%24,t+=ks(s/24),f=ks(BG(t)),n+=f,t-=RB(rA(f)),a=ks(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function BG(e){return e*4800/146097}function rA(e){return e*146097/4800}function Q2e(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Gs(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+BG(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(rA(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function eke(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ln(this._months/12)*31536e6:NaN}function ku(e){return function(){return this.as(e)}}var tke=ku("ms"),nke=ku("s"),rke=ku("m"),ike=ku("h"),oke=ku("d"),ake=ku("w"),ske=ku("M"),lke=ku("Q"),cke=ku("y");function uke(){return Il(this)}function dke(e){return e=Gs(e),this.isValid()?this[e+"s"]():NaN}function Ph(e){return function(){return this.isValid()?this._data[e]:NaN}}var fke=Ph("milliseconds"),hke=Ph("seconds"),pke=Ph("minutes"),mke=Ph("hours"),gke=Ph("days"),yke=Ph("months"),vke=Ph("years");function bke(){return ks(this.days()/7)}var zc=Math.round,nm={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function xke(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function _ke(e,t,n,r){var i=Il(e).abs(),o=zc(i.as("s")),s=zc(i.as("m")),a=zc(i.as("h")),f=zc(i.as("d")),h=zc(i.as("M")),g=zc(i.as("w")),y=zc(i.as("y")),x=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(x=x||g<=1&&["w"]||g<n.w&&["ww",g]),x=x||h<=1&&["M"]||h<n.M&&["MM",h]||y<=1&&["y"]||["yy",y],x[2]=t,x[3]=+e>0,x[4]=r,xke.apply(null,x)}function wke(e){return e===void 0?zc:typeof e=="function"?(zc=e,!0):!1}function Ske(e,t){return nm[e]===void 0?!1:t===void 0?nm[e]:(nm[e]=t,e==="s"&&(nm.ss=t-1),!0)}function kke(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=nm,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},nm,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),o=_ke(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var TE=Math.abs;function Op(e){return(e>0)-(e<0)||+e}function aC(){if(!this.isValid())return this.localeData().invalidDate();var e=TE(this._milliseconds)/1e3,t=TE(this._days),n=TE(this._months),r,i,o,s,a=this.asSeconds(),f,h,g,y;return a?(r=ks(e/60),i=ks(r/60),e%=60,r%=60,o=ks(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",f=a<0?"-":"",h=Op(this._months)!==Op(a)?"-":"",g=Op(this._days)!==Op(a)?"-":"",y=Op(this._milliseconds)!==Op(a)?"-":"",f+"P"+(o?h+o+"Y":"")+(n?h+n+"M":"")+(t?g+t+"D":"")+(i||r||e?"T":"")+(i?y+i+"H":"")+(r?y+r+"M":"")+(e?y+s+"S":"")):"P0D"}var Yn=iC.prototype;Yn.isValid=gSe;Yn.abs=K2e;Yn.add=Z2e;Yn.subtract=X2e;Yn.as=Q2e;Yn.asMilliseconds=tke;Yn.asSeconds=nke;Yn.asMinutes=rke;Yn.asHours=ike;Yn.asDays=oke;Yn.asWeeks=ake;Yn.asMonths=ske;Yn.asQuarters=lke;Yn.asYears=cke;Yn.valueOf=eke;Yn._bubble=J2e;Yn.clone=uke;Yn.get=dke;Yn.milliseconds=fke;Yn.seconds=hke;Yn.minutes=pke;Yn.hours=mke;Yn.days=gke;Yn.weeks=bke;Yn.months=yke;Yn.years=vke;Yn.humanize=kke;Yn.toISOString=aC;Yn.toString=aC;Yn.toJSON=aC;Yn.locale=EG;Yn.localeData=MG;Yn.toIsoString=qs("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",aC);Yn.lang=OG;sn("X",0,0,"unix");sn("x",0,0,"valueOf");Ft("x",eC);Ft("X",G1e);Cr("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Cr("x",function(e,t,n){n._d=new Date(Ln(e))});//! moment.js
$t.version="2.29.4";C1e(Wr);$t.fn=vt;$t.min=fSe;$t.max=hSe;$t.now=pSe;$t.utc=hc;$t.unix=U2e;$t.months=W2e;$t.isDate=px;$t.locale=Id;$t.invalid=Kk;$t.duration=Il;$t.isMoment=Ol;$t.weekdays=G2e;$t.parseZone=V2e;$t.localeData=Su;$t.isDuration=aw;$t.monthsShort=q2e;$t.weekdaysMin=Y2e;$t.defineLocale=gD;$t.updateLocale=Vwe;$t.locales=Wwe;$t.weekdaysShort=H2e;$t.normalizeUnits=Gs;$t.relativeTimeRounding=wke;$t.relativeTimeThreshold=Ske;$t.calendarFormat=zSe;$t.prototype=vt;$t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Cke=e=>{switch(e){case"kmh":return 1.852;case"mph":return 1.15078;case"kn":default:return 1}},Tke=e=>{switch(e){case"kmh":return"Km/h";case"mph":return"sharedMph";case"kn":default:return"Km/h"}},Pke=(e,t)=>e*Cke(t),Eke=e=>{switch(e){case"mi":return 621371e-9;case"nmi":return 539957e-9;case"km":default:return .001}},Oke=e=>{switch(e){case"mi":return"Mi";case"nmi":return"Nmi";case"km":default:return"Km"}},Mke=(e,t)=>e*Eke(t),Ake=e=>{switch(e){case"ft":return 3.28084;case"m":default:return 1}},Ike=e=>{switch(e){case"ft":return"sharedFeet";case"m":default:return"sharedMeters"}},$ke=(e,t)=>e*Ake(t),FG=(e,t)=>e+t.charAt(0).toUpperCase()+t.slice(1),UG=e=>e?"sharedYes":"sharedNo",Rke=(e,t=1)=>Number(e.toFixed(t)),VG=e=>`${e}%`,WG=(e,t,n)=>{if(e){const r=$t(e);switch(t){case"date":return r.format("YYYY-MM-DD");case"time":return r.format(n?"hh:mm:ss A":"HH:mm:ss");case"minutes":return r.format(n?"YYYY-MM-DD hh:mm A":"YYYY-MM-DD HH:mm");default:return r.format(n?"YYYY-MM-DD hh:mm:ss A":"YYYY-MM-DD HH:mm:ss")}}return""},qG=e=>e?FG("alarm_",e):"",Dke=e=>{const t=["↑","↗","→","↘","↓","↙","←","↖"];let n=(e+22.5)%360;return n<0&&(n+=360),e.toFixed()+t[Math.floor(n/45)]},Lke=(e,t,n)=>`${Mke(e,t).toFixed(2)} ${Oke(t)}`,jke=(e,t,n)=>`${$ke(e,t).toFixed(2)} ${Ike(t)}`,Nke=(e,t,n)=>`${Pke(e,t).toFixed(2)} ${Tke(t)}`,zke=(e,t)=>{const n=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return`${n} ${t("sharedHourAbbreviation")} ${r} ${t("sharedMinuteAbbreviation")}`},DB=(e,t,n)=>{let r,i,o,s;switch(e==="latitude"?r=t>=0?"N":"S":r=t>=0?"E":"W",n){case"ddm":return t=Math.abs(t),i=Math.floor(t),o=(t-i)*60,`${i}° ${o.toFixed(6)}' ${r}`;case"dms":return t=Math.abs(t),i=Math.floor(t),o=Math.floor((t-i)*60),s=Math.round((t-i-o/60)*3600),`${i}° ${o}' ${s}" ${r}`;default:return`${t.toFixed(6)}°`}},GG=e=>{switch(e){case"online":return"positive";case"offline":return"negative";case"unknown":default:return"neutral"}},CD=({positions:e,onClick:t,showStatus:n,selectedPosition:r,titleField:i})=>{const o=V.useId(),s=`${o}-clusters`,a=`${o}-direction`,f=`${o}-mission`,h=On($=>$.devices.items),g=On($=>$.mission.route),y=1,x=!0,P=!1,E="all",S=($,R,F)=>{const q=$[R.deviceId];let X;switch(E){case"none":X=!1;break;case"all":X=!0;break;default:X=F===R.id;break}let Q=g.find(fe=>fe.uav==q.name),ae=Q?Q.id:null;return{id:R.id,deviceId:R.deviceId,name:q.name,fixTime:WG(R.fixTime,"seconds",P),category:Vw(q.category),color:n?GG(q.status):"neutral",rotation:R.course,direction:X,mission:!!Q,missionColor:ae}},O=()=>Ge.getCanvas().style.cursor="pointer",A=()=>Ge.getCanvas().style.cursor="",M=V.useCallback($=>{!$.defaultPrevented&&t&&t()},[t]),I=V.useCallback($=>{$.preventDefault();const R=$.features[0];t&&t(R.properties.id,R.properties.deviceId)},[t]),N=V.useCallback($=>{$.preventDefault();const R=Ge.queryRenderedFeatures($.point,{layers:[s]}),F=R[0].properties.cluster_id;Ge.getSource(o).getClusterExpansionZoom(F,(q,X)=>{q||Ge.easeTo({center:R[0].geometry.coordinates,zoom:X})})},[s]);return V.useEffect(()=>(Ge.addSource(o,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:x,clusterMaxZoom:14,clusterRadius:50}),Ge.addLayer({id:o,type:"symbol",source:o,filter:["!has","point_count"],layout:{"icon-image":"{category}-{color}","icon-size":y,"icon-allow-overlap":!0,"text-field":`{${i||"name"}}`,"text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*y],"text-font":Qc(Ge),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ge.addLayer({id:s,type:"symbol",source:o,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":y,"text-field":"{point_count_abbreviated}","text-font":Qc(Ge),"text-size":14}}),Ge.addLayer({id:a,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","direction",!0]],layout:{"icon-image":"direction","icon-size":y,"icon-allow-overlap":!0,"icon-rotate":["get","rotation"],"icon-rotation-alignment":"map"}}),Ge.addLayer({id:f,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","mission",!0]],layout:{"icon-image":"mission-{missionColor}","icon-size":y}}),Ge.on("mouseenter",o,O),Ge.on("mouseleave",o,A),Ge.on("mouseenter",s,O),Ge.on("mouseleave",s,A),Ge.on("click",o,I),Ge.on("click",s,N),Ge.on("click",M),()=>{Ge.off("mouseenter",o,O),Ge.off("mouseleave",o,A),Ge.off("mouseenter",s,O),Ge.off("mouseleave",s,A),Ge.off("click",o,I),Ge.off("click",s,N),Ge.off("click",M),Ge.getLayer(o)&&Ge.removeLayer(o),Ge.getLayer(s)&&Ge.removeLayer(s),Ge.getLayer(a)&&Ge.removeLayer(a),Ge.getLayer(f)&&Ge.removeLayer(f),Ge.getSource(o)&&Ge.removeSource(o)}),[x,s,a,f,I,N]),V.useEffect(()=>{Ge.getSource(o).setData({type:"FeatureCollection",features:e.filter($=>h.hasOwnProperty($.deviceId)).map($=>({type:"Feature",geometry:{type:"Point",coordinates:[$.longitude,$.latitude]},properties:S(h,$,r&&r.id)}))})},[h,e,r]),null},HG=()=>{const e=V.useId(),t=`${e}-points`,n=`${e}-points-clusters`,r=On(g=>g.mission.route),i=!0,o=.6,s=(g,y)=>({id:y.id,name:g[y.routeid].name,uav:g[y.routeid].uav,latitude:g[y.routeid].wp[y.id].pos[0],longitude:g[y.routeid].wp[y.id].pos[1],altitud:g[y.routeid].wp[y.id].pos[2],yaw:g[y.routeid].wp[y.id].yaw,speed:g[y.routeid].wp[y.id].speed,gimbal:g[y.routeid].wp[y.id].gimbal,actions:g[y.routeid].wp[y.id].action,attributes:g[y.routeid].attributes,category:"default",color:g[y.routeid].id});function a(g){console.log("target"),console.log(g);let y=`<div style="color: #FF7A59;text-align: center" ><b>UAV: ${g.features[0].properties.uav}</b>
    <span><a href="https://www.google.com/maps?q=${g.features[0].properties.latitude},${g.features[0].properties.longitude}" target="_blank">
    Point_${g.features[0].properties.id}</a></span></div>
        <div><span>Route: ${g.features[0].properties.name}</span></div>
        <div style="display:inline"><span> Height: </span><span>${g.features[0].properties.altitud.toFixed(1)}m </span></div>`;y=g.features[0].properties.hasOwnProperty("speed")?y+`<div style="display:inline"><span>Speed: </span><span>${g.features[0].properties.speed} m/s </span></div>`:y,y=g.features[0].properties.hasOwnProperty("yaw")?y+`<div style="display:inline"><span>Yaw: </span><span>${g.features[0].properties.yaw}° </span></div>`:y,y=g.features[0].properties.hasOwnProperty("gimbal")?y+`<div style="display:inline"><span>Gimbal: </span><span>${g.features[0].properties.gimbal}° </span></div>`:y;let x="<div><b> Waypoint actions: </b></div>";if(g.features[0].properties.actions){let S=JSON.parse(g.features[0].properties.actions);x=x+Object.keys(S).map(O=>{let A=O=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${O}: </span><span>${S[O]} ${A} </span></div>`}).join("")}let P="<div><b> Attributes_mission: </b></div>",E=JSON.parse(g.features[0].properties.attributes);P=P+Object.keys(E).map(S=>{let O=S=="idle_vel"||S=="max_vel"?"m/s":"";return`<div style="display:inline"><span>${S}: </span><span>${E[S]} ${O} </span></div>`}).join(""),new ux.Popup().setLngLat(g.lngLat).setHTML(y+x+P).addTo(Ge)}V.useEffect(()=>(Ge.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),Ge.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Ge.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Ge.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":Qc(Ge),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ge.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":Qc(Ge),"text-size":14},paint:{"text-color":"white"}}),Ge.addLayer({id:n,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":Qc(Ge),"text-size":14}}),Ge.on("click","mission-points",a),Ge.on("mouseenter","mission-points",()=>{Ge.getCanvas().style.cursor="pointer"}),Ge.on("mouseleave","mission-points",()=>{Ge.getCanvas().style.cursor=""}),()=>{Ge.getLayer("mission-line")&&Ge.removeLayer("mission-line"),Ge.getLayer("mission-title")&&Ge.removeLayer("mission-title"),Ge.getLayer("mission-points")&&Ge.removeLayer("mission-points"),Ge.getLayer(n)&&Ge.removeLayer(n),Ge.getSource(e)&&Ge.removeSource(e),Ge.getSource(t)&&Ge.removeSource(t)}),[]);function f(g){let y=g.wp.map(function(x){return[x.pos[1],x.pos[0]]});return{id:g.id,type:"Feature",geometry:{type:"LineString",coordinates:y},properties:{name:g.uav,color:ph.colors_devices[g.id]}}}function h(g){let y=[];return g.forEach((x,P)=>{x.wp.forEach((E,S)=>{y.push({longitude:E.pos[1],latitude:E.pos[0],id:S,routeid:P})})}),y}return V.useEffect(()=>{let g=h(r);Ge.getSource(t).setData({type:"FeatureCollection",features:g.map(y=>({type:"Feature",geometry:{type:"Point",coordinates:[y.longitude,y.latitude]},properties:s(r,y)}))}),Ge.getSource(e).setData({type:"FeatureCollection",features:r.map(y=>f(y))})},[r]),null},TD=({markers:e,showTitles:t})=>{const n=V.useId();S7();const r=.4;V.useEffect(()=>(Ge.addSource(n,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),t?Ge.addLayer({id:n,type:"symbol",source:n,filter:["!has","point_count"],layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0,"text-field":"{title}","text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*r],"text-font":Qc(Ge),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}):Ge.addLayer({id:n,type:"symbol",source:n,layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0}}),()=>{Ge.getLayer(n)&&Ge.removeLayer(n),Ge.getSource(n)&&Ge.removeSource(n)}),[t]);function i(o){let s=[];return o.forEach((a,f)=>{a.items.forEach(h=>{s.push({...h,image:a.type,title:"none"})})}),s}return V.useEffect(()=>{var s;let o=i(e);console.log(o),(s=Ge.getSource(n))==null||s.setData({type:"FeatureCollection",features:o.map(({latitude:a,longitude:f,image:h,title:g})=>({type:"Feature",geometry:{type:"Point",coordinates:[f,a]},properties:{image:h||"default-neutral",title:g||""}}))})},[t,e]),null},Bke=e=>{const t=V.useRef();return V.useEffect(()=>{t.current=e}),t.current},YG=()=>{const e=On(o=>o.devices.selectedId),t=Bke(e),n=10,r=!1,i=On(o=>o.data.positions[e]);return V.useEffect(()=>{(e!==t||r)&&i&&i.hasOwnProperty("latitude")&&Ge.easeTo({center:[i.longitude,i.latitude],zoom:Math.max(Ge.getZoom(),n),offset:[0,-300/2]})}),null};var LB=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Fke(e,t){return!!(e===t||LB(e)&&LB(t))}function Uke(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Fke(e[n],t[n]))return!1;return!0}function PE(e,t){t===void 0&&(t=Uke);var n,r=[],i,o=!1;function s(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var Vke=typeof performance=="object"&&typeof performance.now=="function",jB=Vke?function(){return performance.now()}:function(){return Date.now()};function NB(e){cancelAnimationFrame(e.id)}function Wke(e,t){var n=jB();function r(){jB()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var EE=-1;function zB(e){if(e===void 0&&(e=!1),EE===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),EE=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return EE}var Mp=null;function BB(e){if(e===void 0&&(e=!1),Mp===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Mp="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Mp="negative":Mp="positive-ascending"),document.body.removeChild(t),Mp}return Mp}var qke=150,Gke=function(t,n){return t};function Hke(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,f=e.initInstanceProps,h=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return t=function(y){ex(x,y);function x(E){var S;return S=y.call(this,E)||this,S._instanceProps=f(S.props,X0(S)),S._outerRef=void 0,S._resetIsScrollingTimeoutId=null,S.state={instance:X0(S),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof S.props.initialScrollOffset=="number"?S.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},S._callOnItemsRendered=void 0,S._callOnItemsRendered=PE(function(O,A,M,I){return S.props.onItemsRendered({overscanStartIndex:O,overscanStopIndex:A,visibleStartIndex:M,visibleStopIndex:I})}),S._callOnScroll=void 0,S._callOnScroll=PE(function(O,A,M){return S.props.onScroll({scrollDirection:O,scrollOffset:A,scrollUpdateWasRequested:M})}),S._getItemStyle=void 0,S._getItemStyle=function(O){var A=S.props,M=A.direction,I=A.itemSize,N=A.layout,$=S._getItemStyleCache(h&&I,h&&N,h&&M),R;if($.hasOwnProperty(O))R=$[O];else{var F=n(S.props,O,S._instanceProps),q=i(S.props,O,S._instanceProps),X=M==="horizontal"||N==="horizontal",Q=M==="rtl",ae=X?F:0;$[O]=R={position:"absolute",left:Q?void 0:ae,right:Q?ae:void 0,top:X?0:F,height:X?"100%":q,width:X?q:"100%"}}return R},S._getItemStyleCache=void 0,S._getItemStyleCache=PE(function(O,A,M){return{}}),S._onScrollHorizontal=function(O){var A=O.currentTarget,M=A.clientWidth,I=A.scrollLeft,N=A.scrollWidth;S.setState(function($){if($.scrollOffset===I)return null;var R=S.props.direction,F=I;if(R==="rtl")switch(BB()){case"negative":F=-I;break;case"positive-descending":F=N-M-I;break}return F=Math.max(0,Math.min(F,N-M)),{isScrolling:!0,scrollDirection:$.scrollOffset<F?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!1}},S._resetIsScrollingDebounced)},S._onScrollVertical=function(O){var A=O.currentTarget,M=A.clientHeight,I=A.scrollHeight,N=A.scrollTop;S.setState(function($){if($.scrollOffset===N)return null;var R=Math.max(0,Math.min(N,I-M));return{isScrolling:!0,scrollDirection:$.scrollOffset<R?"forward":"backward",scrollOffset:R,scrollUpdateWasRequested:!1}},S._resetIsScrollingDebounced)},S._outerRefSetter=function(O){var A=S.props.outerRef;S._outerRef=O,typeof A=="function"?A(O):A!=null&&typeof A=="object"&&A.hasOwnProperty("current")&&(A.current=O)},S._resetIsScrollingDebounced=function(){S._resetIsScrollingTimeoutId!==null&&NB(S._resetIsScrollingTimeoutId),S._resetIsScrollingTimeoutId=Wke(S._resetIsScrolling,qke)},S._resetIsScrolling=function(){S._resetIsScrollingTimeoutId=null,S.setState({isScrolling:!1},function(){S._getItemStyleCache(-1,null)})},S}x.getDerivedStateFromProps=function(S,O){return Yke(S,O),g(S),null};var P=x.prototype;return P.scrollTo=function(S){S=Math.max(0,S),this.setState(function(O){return O.scrollOffset===S?null:{scrollDirection:O.scrollOffset<S?"forward":"backward",scrollOffset:S,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},P.scrollToItem=function(S,O){O===void 0&&(O="auto");var A=this.props,M=A.itemCount,I=A.layout,N=this.state.scrollOffset;S=Math.max(0,Math.min(S,M-1));var $=0;if(this._outerRef){var R=this._outerRef;I==="vertical"?$=R.scrollWidth>R.clientWidth?zB():0:$=R.scrollHeight>R.clientHeight?zB():0}this.scrollTo(o(this.props,S,O,N,this._instanceProps,$))},P.componentDidMount=function(){var S=this.props,O=S.direction,A=S.initialScrollOffset,M=S.layout;if(typeof A=="number"&&this._outerRef!=null){var I=this._outerRef;O==="horizontal"||M==="horizontal"?I.scrollLeft=A:I.scrollTop=A}this._callPropsCallbacks()},P.componentDidUpdate=function(){var S=this.props,O=S.direction,A=S.layout,M=this.state,I=M.scrollOffset,N=M.scrollUpdateWasRequested;if(N&&this._outerRef!=null){var $=this._outerRef;if(O==="horizontal"||A==="horizontal")if(O==="rtl")switch(BB()){case"negative":$.scrollLeft=-I;break;case"positive-ascending":$.scrollLeft=I;break;default:var R=$.clientWidth,F=$.scrollWidth;$.scrollLeft=F-R-I;break}else $.scrollLeft=I;else $.scrollTop=I}this._callPropsCallbacks()},P.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&NB(this._resetIsScrollingTimeoutId)},P.render=function(){var S=this.props,O=S.children,A=S.className,M=S.direction,I=S.height,N=S.innerRef,$=S.innerElementType,R=S.innerTagName,F=S.itemCount,q=S.itemData,X=S.itemKey,Q=X===void 0?Gke:X,ae=S.layout,fe=S.outerElementType,Se=S.outerTagName,ke=S.style,we=S.useIsScrolling,Oe=S.width,Ce=this.state.isScrolling,be=M==="horizontal"||ae==="horizontal",$e=be?this._onScrollHorizontal:this._onScrollVertical,Ue=this._getRangeToRender(),ft=Ue[0],Xe=Ue[1],tt=[];if(F>0)for(var lt=ft;lt<=Xe;lt++)tt.push(V.createElement(O,{data:q,key:Q(lt,q),index:lt,isScrolling:we?Ce:void 0,style:this._getItemStyle(lt)}));var Ct=r(this.props,this._instanceProps);return V.createElement(fe||Se||"div",{className:A,onScroll:$e,ref:this._outerRefSetter,style:te({position:"relative",height:I,width:Oe,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:M},ke)},V.createElement($||R||"div",{children:tt,ref:N,style:{height:be?"100%":Ct,pointerEvents:Ce?"none":void 0,width:be?Ct:"100%"}}))},P._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var S=this.props.itemCount;if(S>0){var O=this._getRangeToRender(),A=O[0],M=O[1],I=O[2],N=O[3];this._callOnItemsRendered(A,M,I,N)}}if(typeof this.props.onScroll=="function"){var $=this.state,R=$.scrollDirection,F=$.scrollOffset,q=$.scrollUpdateWasRequested;this._callOnScroll(R,F,q)}},P._getRangeToRender=function(){var S=this.props,O=S.itemCount,A=S.overscanCount,M=this.state,I=M.isScrolling,N=M.scrollDirection,$=M.scrollOffset;if(O===0)return[0,0,0,0];var R=s(this.props,$,this._instanceProps),F=a(this.props,R,$,this._instanceProps),q=!I||N==="backward"?Math.max(1,A):1,X=!I||N==="forward"?Math.max(1,A):1;return[Math.max(0,R-q),Math.max(0,Math.min(O-1,F+X)),R,F]},x}(V.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Yke=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},Kke=Hke({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,i,o,s){var a=t.direction,f=t.height,h=t.itemCount,g=t.itemSize,y=t.layout,x=t.width,P=a==="horizontal"||y==="horizontal",E=P?x:f,S=Math.max(0,h*g-E),O=Math.min(S,n*g),A=Math.max(0,n*g-E+g+s);switch(r==="smart"&&(i>=A-E&&i<=O+E?r="auto":r="center"),r){case"start":return O;case"end":return A;case"center":{var M=Math.round(A+(O-A)/2);return M<Math.ceil(E/2)?0:M>S+Math.floor(E/2)?S:M}case"auto":default:return i>=A&&i<=O?i:i<A?A:O}},getStartIndexForOffset:function(t,n){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(t,n,r){var i=t.direction,o=t.height,s=t.itemCount,a=t.itemSize,f=t.layout,h=t.width,g=i==="horizontal"||f==="horizontal",y=n*a,x=g?h:o,P=Math.ceil((x+r-y)/a);return Math.max(0,Math.min(s-1,n+P-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});let $s;typeof window<"u"?$s=window:typeof self<"u"?$s=self:$s=global;let iA=null,oA=null;const FB=20,OE=$s.clearTimeout,UB=$s.setTimeout,ME=$s.cancelAnimationFrame||$s.mozCancelAnimationFrame||$s.webkitCancelAnimationFrame,VB=$s.requestAnimationFrame||$s.mozRequestAnimationFrame||$s.webkitRequestAnimationFrame;ME==null||VB==null?(iA=OE,oA=function(t){return UB(t,FB)}):(iA=function([t,n]){ME(t),OE(n)},oA=function(t){const n=VB(function(){OE(r),t()}),r=UB(function(){ME(n),t()},FB);return[n,r]});function Zke(e){let t,n,r,i,o,s,a;const f=typeof document<"u"&&document.attachEvent;if(!f){s=function(A){const M=A.__resizeTriggers__,I=M.firstElementChild,N=M.lastElementChild,$=I.firstElementChild;N.scrollLeft=N.scrollWidth,N.scrollTop=N.scrollHeight,$.style.width=I.offsetWidth+1+"px",$.style.height=I.offsetHeight+1+"px",I.scrollLeft=I.scrollWidth,I.scrollTop=I.scrollHeight},o=function(A){return A.offsetWidth!==A.__resizeLast__.width||A.offsetHeight!==A.__resizeLast__.height},a=function(A){if(A.target.className&&typeof A.target.className.indexOf=="function"&&A.target.className.indexOf("contract-trigger")<0&&A.target.className.indexOf("expand-trigger")<0)return;const M=this;s(this),this.__resizeRAF__&&iA(this.__resizeRAF__),this.__resizeRAF__=oA(function(){o(M)&&(M.__resizeLast__.width=M.offsetWidth,M.__resizeLast__.height=M.offsetHeight,M.__resizeListeners__.forEach(function($){$.call(M,A)}))})};let x=!1,P="";r="animationstart";const E="Webkit Moz O ms".split(" ");let S="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),O="";{const A=document.createElement("fakeelement");if(A.style.animationName!==void 0&&(x=!0),x===!1){for(let M=0;M<E.length;M++)if(A.style[E[M]+"AnimationName"]!==void 0){O=E[M],P="-"+O.toLowerCase()+"-",r=S[M],x=!0;break}}}n="resizeanim",t="@"+P+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=P+"animation: 1ms "+n+"; "}const h=function(x){if(!x.getElementById("detectElementResize")){const P=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',E=x.head||x.getElementsByTagName("head")[0],S=x.createElement("style");S.id="detectElementResize",S.type="text/css",e!=null&&S.setAttribute("nonce",e),S.styleSheet?S.styleSheet.cssText=P:S.appendChild(x.createTextNode(P)),E.appendChild(S)}};return{addResizeListener:function(x,P){if(f)x.attachEvent("onresize",P);else{if(!x.__resizeTriggers__){const E=x.ownerDocument,S=$s.getComputedStyle(x);S&&S.position==="static"&&(x.style.position="relative"),h(E),x.__resizeLast__={},x.__resizeListeners__=[],(x.__resizeTriggers__=E.createElement("div")).className="resize-triggers";const O=E.createElement("div");O.className="expand-trigger",O.appendChild(E.createElement("div"));const A=E.createElement("div");A.className="contract-trigger",x.__resizeTriggers__.appendChild(O),x.__resizeTriggers__.appendChild(A),x.appendChild(x.__resizeTriggers__),s(x),x.addEventListener("scroll",a,!0),r&&(x.__resizeTriggers__.__animationListener__=function(I){I.animationName===n&&s(x)},x.__resizeTriggers__.addEventListener(r,x.__resizeTriggers__.__animationListener__))}x.__resizeListeners__.push(P)}},removeResizeListener:function(x,P){if(f)x.detachEvent("onresize",P);else if(x.__resizeListeners__.splice(x.__resizeListeners__.indexOf(P),1),!x.__resizeListeners__.length){x.removeEventListener("scroll",a,!0),x.__resizeTriggers__.__animationListener__&&(x.__resizeTriggers__.removeEventListener(r,x.__resizeTriggers__.__animationListener__),x.__resizeTriggers__.__animationListener__=null);try{x.__resizeTriggers__=!x.removeChild(x.__resizeTriggers__)}catch{}}}}}class Xke extends V.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:i}=this.props;if(this._parentNode){var o,s,a,f;const h=window.getComputedStyle(this._parentNode)||{},g=parseFloat((o=h.paddingLeft)!==null&&o!==void 0?o:"0"),y=parseFloat((s=h.paddingRight)!==null&&s!==void 0?s:"0"),x=parseFloat((a=h.paddingTop)!==null&&a!==void 0?a:"0"),P=parseFloat((f=h.paddingBottom)!==null&&f!==void 0?f:"0"),E=this._parentNode.getBoundingClientRect(),S=E.height-x-P,O=E.width-g-y,A=this._parentNode.offsetHeight-x-P,M=this._parentNode.offsetWidth-g-y;(!n&&(this.state.height!==A||this.state.scaledHeight!==S)||!r&&(this.state.width!==M||this.state.scaledWidth!==O))&&(this.setState({height:A,width:M,scaledHeight:S,scaledWidth:O}),typeof i=="function"&&i({height:A,scaledHeight:S,scaledWidth:O,width:M}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=Zke(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:n,defaultWidth:r,disableHeight:i=!1,disableWidth:o=!1,nonce:s,onResize:a,style:f={},tagName:h="div",...g}=this.props,{height:y,scaledHeight:x,scaledWidth:P,width:E}=this.state,S={overflow:"visible"},O={};let A=!1;return i||(y===0&&(A=!0),S.height=0,O.height=y,O.scaledHeight=x),o||(E===0&&(A=!0),S.width=0,O.width=E,O.scaledWidth=P),V.createElement(h,{ref:this._setRef,style:{...S,...f},...g},!A&&t(O))}}var PD={},Jke=ur;Object.defineProperty(PD,"__esModule",{value:!0});var KG=PD.default=void 0,Qke=Jke(dr()),eCe=L,tCe=(0,Qke.default)((0,eCe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull");KG=PD.default=tCe;var ED={},nCe=ur;Object.defineProperty(ED,"__esModule",{value:!0});var ZG=ED.default=void 0,rCe=nCe(dr()),iCe=L,oCe=(0,rCe.default)((0,iCe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"}),"BatteryChargingFull");ZG=ED.default=oCe;var OD={},aCe=ur;Object.defineProperty(OD,"__esModule",{value:!0});var XG=OD.default=void 0,sCe=cCe(V),lCe=aCe(dr()),AE=L;function JG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(JG=function(r){return r?n:t})(e)}function cCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=JG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var uCe=(0,lCe.default)((0,AE.jsxs)(sCe.Fragment,{children:[(0,AE.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"}),(0,AE.jsx)("path",{d:"M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"})]}),"Battery60");XG=OD.default=uCe;var MD={},dCe=ur;Object.defineProperty(MD,"__esModule",{value:!0});var QG=MD.default=void 0,fCe=pCe(V),hCe=dCe(dr()),IE=L;function eH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(eH=function(r){return r?n:t})(e)}function pCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=eH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var mCe=(0,hCe.default)((0,IE.jsxs)(fCe.Fragment,{children:[(0,IE.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"}),(0,IE.jsx)("path",{d:"M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"})]}),"BatteryCharging60");QG=MD.default=mCe;var AD={},gCe=ur;Object.defineProperty(AD,"__esModule",{value:!0});var tH=AD.default=void 0,yCe=bCe(V),vCe=gCe(dr()),$E=L;function nH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(nH=function(r){return r?n:t})(e)}function bCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=nH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var xCe=(0,vCe.default)((0,$E.jsxs)(yCe.Fragment,{children:[(0,$E.jsx)("path",{d:"M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"}),(0,$E.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"})]}),"Battery20");tH=AD.default=xCe;var ID={},_Ce=ur;Object.defineProperty(ID,"__esModule",{value:!0});var rH=ID.default=void 0,wCe=kCe(V),SCe=_Ce(dr()),RE=L;function iH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(iH=function(r){return r?n:t})(e)}function kCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=iH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var CCe=(0,SCe.default)((0,RE.jsxs)(wCe.Fragment,{children:[(0,RE.jsx)("path",{d:"M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"}),(0,RE.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"})]}),"BatteryCharging20");rH=ID.default=CCe;var $D={},TCe=ur;Object.defineProperty($D,"__esModule",{value:!0});var oH=$D.default=void 0,PCe=TCe(dr()),ECe=L,OCe=(0,PCe.default)((0,ECe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");oH=$D.default=OCe;const WB="data:image/svg+xml,%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%3e%3ctitle%3eEngine%3c/title%3e%3cpath%20fill='currentColor'%20d='M13.778%206.667v2.222h3.333v2.222h2.222v-2.222h3.333v-2.222h-8.889zM13.778%2013.333c-0.3%200-0.579%200.121-0.79%200.321l-1.888%201.901h-2.878c-0.611%200-1.111%200.5-1.111%201.111v6.667c0%200.611%200.5%201.111%201.111%201.111h1.888l3.056%202.033c0.178%200.122%200.39%200.189%200.612%200.189h5.556c0.244%200%200.477-0.077%200.666-0.221l4.444-3.333c0.278-0.211%200.445-0.545%200.445-0.89v-7.778c0-0.611-0.5-1.111-1.111-1.111h-10zM27.111%2014.444v6.667h2.222v-6.667h-2.222zM17.111%2015.556v3.333h2.222l-3.333%205.556v-3.333h-2.222l3.333-5.556zM2.667%2016.667v5.556h2.222v-5.556h-2.222z'%3e%3c/path%3e%3c/svg%3e",MCe=qr(e=>({icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},batteryText:{fontSize:"0.75rem",fontWeight:"normal",lineHeight:"0.875rem"},positive:{color:e.palette.colors.positive},medium:{color:e.palette.colors.medium},negative:{color:e.palette.colors.negative},neutral:{color:e.palette.colors.neutral}})),ACe={width:"25px",height:"25px",filter:"brightness(0) invert(1)"},DE={color:pl[500]},qB={color:D$[700]},LE={color:Fc[500]},ICe={color:nc[500]},$Ce=({data:e,index:t,style:n})=>{const r=MCe(),i=Ml(),o=e[t],s=On(h=>h.data.positions[o.id]),a=o.name,f=()=>{let h;return o.status==="online"||!o.lastUpdate?h=o.status:h=$t(o.lastUpdate).fromNow(),L.jsxs(Ee.Fragment,{children:[s&&s.attributes.hasOwnProperty("landed_state")&&L.jsx(pn,{component:"span",sx:{display:"block",fontSize:10},children:s.attributes.landed_state}),L.jsx(pn,{component:"span",style:{fontSize:12},className:r[GG(o.status)],children:h})]})};return L.jsx("div",{style:n,children:L.jsxs(Cme,{onClick:()=>i(yl.selectId(o.id)),disabled:o.disabled,children:[L.jsx(Ame,{children:L.jsx(Vde,{children:L.jsx("img",{style:ACe,src:H0[Vw(o.category)],alt:""})})}),L.jsx(zme,{primary:a,primaryTypographyProps:{noWrap:!0},secondary:f(),secondaryTypographyProps:{noWrap:!0}}),s&&L.jsxs(L.Fragment,{children:[s.attributes.hasOwnProperty("ignition")&&L.jsx(Dp,{title:`positionIgnition: ${UG(s.attributes.ignition)}`,children:L.jsx(Gn,{size:"small",children:s.attributes.ignition?L.jsx(WB,{width:20,height:20,style:DE}):L.jsx(WB,{width:20,height:20,style:ICe})})}),s.hasOwnProperty("speed")&&L.jsx(Dp,{title:`speed: ${s.speed}`,children:L.jsx(Gn,{size:"small",children:L.jsxs("div",{style:{fontSize:"0.9rem"},children:[" V ",Math.round(s.speed),"m/s"]})})}),s.hasOwnProperty("altitude")&&L.jsx(Dp,{title:`altitude: ${Math.round(s.altitude)}`,children:L.jsx(Gn,{size:"small",children:L.jsxs("div",{style:{fontSize:"0.9rem"},children:["H ",Math.round(s.altitude),"m"]})})}),s.attributes.hasOwnProperty("batteryLevel")&&L.jsx(Dp,{title:`BatteryLevel: ${VG(s.attributes.batteryLevel)}`,children:L.jsx(Gn,{size:"small",children:s.attributes.batteryLevel>70?s.attributes.charge?L.jsx(ZG,{fontSize:"small",style:DE}):L.jsx(KG,{fontSize:"small",style:DE}):s.attributes.batteryLevel>30?s.attributes.charge?L.jsx(QG,{fontSize:"small",style:qB}):L.jsx(XG,{fontSize:"small",style:qB}):s.attributes.charge?L.jsx(rH,{fontSize:"small",style:LE}):L.jsx(tH,{fontSize:"small",style:LE})})}),s.attributes.hasOwnProperty("alarm")&&s.attributes.alarm=="threat"&&L.jsx(Dp,{title:`eventAlarm: ${qG(s.attributes.alarm)}`,children:L.jsx(Gn,{size:"small",children:L.jsx(oH,{fontSize:"small",style:LE})})})]})]},o.id)})},RCe=qr(e=>({list:{maxHeight:"100%"},listInner:{position:"relative",margin:e.spacing(1.5,0)}})),aH=({devices:e})=>{const t=RCe();Ml();const n=V.useRef(null);n.current&&(n.current.className=t.listInner);const[,r]=V.useState(Date.now());return V.useEffect(()=>{const i=setInterval(()=>r(Date.now()),6e4);return()=>{clearInterval(i)}},[]),L.jsx(Xke,{className:t.list,children:({height:i,width:o})=>L.jsx(Kke,{width:o,height:i,itemCount:e.length,itemData:e,itemSize:72,overscanCount:10,innerRef:n,children:$Ce})})};var RD={exports:{}},sH={};function lH(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=lH(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function GB(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=lH(e))&&(r&&(r+=" "),r+=t);return r}const DCe=Object.freeze(Object.defineProperty({__proto__:null,clsx:GB,default:GB},Symbol.toStringTag,{value:"Module"})),LCe=H8(DCe);var gi={},mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.dontSetMe=FCe;mc.findInArray=jCe;mc.int=BCe;mc.isFunction=NCe;mc.isNum=zCe;function jCe(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function NCe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function zCe(e){return typeof e=="number"&&!isNaN(e)}function BCe(e){return parseInt(e,10)}function FCe(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});Eh.browserPrefixToKey=uH;Eh.browserPrefixToStyle=UCe;Eh.default=void 0;Eh.getPrefix=cH;const jE=["Moz","Webkit","O","ms"];function cH(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<jE.length;r++)if(uH(t,jE[r])in n)return jE[r];return""}function uH(e,t){return t?"".concat(t).concat(VCe(e)):e}function UCe(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function VCe(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Eh.default=cH();Object.defineProperty(gi,"__esModule",{value:!0});gi.addClassName=hH;gi.addEvent=GCe;gi.addUserSelectStyles=rTe;gi.createCSSTransform=QCe;gi.createSVGTransform=eTe;gi.getTouch=tTe;gi.getTouchIdentifier=nTe;gi.getTranslation=DD;gi.innerHeight=ZCe;gi.innerWidth=XCe;gi.matchesSelector=fH;gi.matchesSelectorAndParentsTo=qCe;gi.offsetXYFromParent=JCe;gi.outerHeight=YCe;gi.outerWidth=KCe;gi.removeClassName=pH;gi.removeEvent=HCe;gi.removeUserSelectStyles=iTe;var Za=mc,HB=WCe(Eh);function dH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(dH=function(r){return r?n:t})(e)}function WCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=dH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let S1="";function fH(e,t){return S1||(S1=(0,Za.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Za.isFunction)(e[n])})),(0,Za.isFunction)(e[S1])?e[S1](t):!1}function qCe(e,t,n){let r=e;do{if(fH(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function GCe(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function HCe(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function YCe(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Za.int)(n.borderTopWidth),t+=(0,Za.int)(n.borderBottomWidth),t}function KCe(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Za.int)(n.borderLeftWidth),t+=(0,Za.int)(n.borderRightWidth),t}function ZCe(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Za.int)(n.paddingTop),t-=(0,Za.int)(n.paddingBottom),t}function XCe(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Za.int)(n.paddingLeft),t-=(0,Za.int)(n.paddingRight),t}function JCe(e,t,n){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/n,s=(e.clientY+t.scrollTop-i.top)/n;return{x:o,y:s}}function QCe(e,t){const n=DD(e,t,"px");return{[(0,HB.browserPrefixToKey)("transform",HB.default)]:n}}function eTe(e,t){return DD(e,t,"")}function DD(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const s="".concat(typeof t.x=="string"?t.x:t.x+n),a="".concat(typeof t.y=="string"?t.y:t.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function tTe(e,t){return e.targetTouches&&(0,Za.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,Za.findInArray)(e.changedTouches,n=>t===n.identifier)}function nTe(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function rTe(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&hH(e.body,"react-draggable-transparent-selection")}function iTe(e){if(e)try{if(e.body&&pH(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function hH(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function pH(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.canDragX=sTe;gc.canDragY=lTe;gc.createCoreData=uTe;gc.createDraggableData=dTe;gc.getBoundPosition=oTe;gc.getControlPosition=cTe;gc.snapToGrid=aTe;var za=mc,rm=gi;function oTe(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:fTe(r);const i=LD(e);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const f=a,h=s.getComputedStyle(i),g=s.getComputedStyle(f);r={left:-i.offsetLeft+(0,za.int)(g.paddingLeft)+(0,za.int)(h.marginLeft),top:-i.offsetTop+(0,za.int)(g.paddingTop)+(0,za.int)(h.marginTop),right:(0,rm.innerWidth)(f)-(0,rm.outerWidth)(i)-i.offsetLeft+(0,za.int)(g.paddingRight)-(0,za.int)(h.marginRight),bottom:(0,rm.innerHeight)(f)-(0,rm.outerHeight)(i)-i.offsetTop+(0,za.int)(g.paddingBottom)-(0,za.int)(h.marginBottom)}}return(0,za.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,za.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,za.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,za.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function aTe(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function sTe(e){return e.props.axis==="both"||e.props.axis==="x"}function lTe(e){return e.props.axis==="both"||e.props.axis==="y"}function cTe(e,t,n){const r=typeof t=="number"?(0,rm.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const i=LD(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,rm.offsetXYFromParent)(r||e,o,n.props.scale)}function uTe(e,t,n){const r=!(0,za.isNum)(e.lastX),i=LD(e);return r?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function dTe(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function fTe(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function LD(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var sC={},lC={};Object.defineProperty(lC,"__esModule",{value:!0});lC.default=hTe;function hTe(){}Object.defineProperty(sC,"__esModule",{value:!0});sC.default=void 0;var NE=mTe(V),xa=jD(j$),pTe=jD(bu),$o=gi,Ju=gc,zE=mc,Pv=jD(lC);function jD(e){return e&&e.__esModule?e:{default:e}}function mH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(mH=function(r){return r?n:t})(e)}function mTe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=mH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function na(e,t,n){return t=gTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gTe(e){var t=yTe(e,"string");return typeof t=="symbol"?t:String(t)}function yTe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const sl={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Qu=sl.mouse,cC=class extends NE.Component{constructor(){super(...arguments),na(this,"dragging",!1),na(this,"lastX",NaN),na(this,"lastY",NaN),na(this,"touchIdentifier",null),na(this,"mounted",!1),na(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,$o.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,$o.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const i=(0,$o.getTouchIdentifier)(t);this.touchIdentifier=i;const o=(0,Ju.getControlPosition)(t,i,this);if(o==null)return;const{x:s,y:a}=o,f=(0,Ju.createCoreData)(this,s,a);(0,Pv.default)("DraggableCore: handleDragStart: %j",f),(0,Pv.default)("calling",this.props.onStart),!(this.props.onStart(t,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,$o.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,$o.addEvent)(r,Qu.move,this.handleDrag),(0,$o.addEvent)(r,Qu.stop,this.handleDragStop))}),na(this,"handleDrag",t=>{const n=(0,Ju.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,f=i-this.lastY;if([a,f]=(0,Ju.snapToGrid)(this.props.grid,a,f),!a&&!f)return;r=this.lastX+a,i=this.lastY+f}const o=(0,Ju.createCoreData)(this,r,i);if((0,Pv.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=r,this.lastY=i}),na(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,Ju.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let f=r-this.lastX||0,h=i-this.lastY||0;[f,h]=(0,Ju.snapToGrid)(this.props.grid,f,h),r=this.lastX+f,i=this.lastY+h}const o=(0,Ju.createCoreData)(this,r,i);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,$o.removeUserSelectStyles)(a.ownerDocument),(0,Pv.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Pv.default)("DraggableCore: Removing handlers"),(0,$o.removeEvent)(a.ownerDocument,Qu.move,this.handleDrag),(0,$o.removeEvent)(a.ownerDocument,Qu.stop,this.handleDragStop))}),na(this,"onMouseDown",t=>(Qu=sl.mouse,this.handleDragStart(t))),na(this,"onMouseUp",t=>(Qu=sl.mouse,this.handleDragStop(t))),na(this,"onTouchStart",t=>(Qu=sl.touch,this.handleDragStart(t))),na(this,"onTouchEnd",t=>(Qu=sl.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,$o.addEvent)(t,sl.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,$o.removeEvent)(n,sl.mouse.move,this.handleDrag),(0,$o.removeEvent)(n,sl.touch.move,this.handleDrag),(0,$o.removeEvent)(n,sl.mouse.stop,this.handleDragStop),(0,$o.removeEvent)(n,sl.touch.stop,this.handleDragStop),(0,$o.removeEvent)(t,sl.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,$o.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:pTe.default.findDOMNode(this)}render(){return NE.cloneElement(NE.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};sC.default=cC;na(cC,"displayName","DraggableCore");na(cC,"propTypes",{allowAnyClick:xa.default.bool,children:xa.default.node.isRequired,disabled:xa.default.bool,enableUserSelectHack:xa.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:xa.default.arrayOf(xa.default.number),handle:xa.default.string,cancel:xa.default.string,nodeRef:xa.default.object,onStart:xa.default.func,onDrag:xa.default.func,onStop:xa.default.func,onMouseDown:xa.default.func,scale:xa.default.number,className:zE.dontSetMe,style:zE.dontSetMe,transform:zE.dontSetMe});na(cC,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var t=x(V),n=g(j$),r=g(bu),i=g(LCe),o=gi,s=gc,a=mc,f=g(sC),h=g(lC);function g(M){return M&&M.__esModule?M:{default:M}}function y(M){if(typeof WeakMap!="function")return null;var I=new WeakMap,N=new WeakMap;return(y=function($){return $?N:I})(M)}function x(M,I){if(!I&&M&&M.__esModule)return M;if(M===null||typeof M!="object"&&typeof M!="function")return{default:M};var N=y(I);if(N&&N.has(M))return N.get(M);var $={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in M)if(F!=="default"&&Object.prototype.hasOwnProperty.call(M,F)){var q=R?Object.getOwnPropertyDescriptor(M,F):null;q&&(q.get||q.set)?Object.defineProperty($,F,q):$[F]=M[F]}return $.default=M,N&&N.set(M,$),$}function P(){return P=Object.assign?Object.assign.bind():function(M){for(var I=1;I<arguments.length;I++){var N=arguments[I];for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(M[$]=N[$])}return M},P.apply(this,arguments)}function E(M,I,N){return I=S(I),I in M?Object.defineProperty(M,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):M[I]=N,M}function S(M){var I=O(M,"string");return typeof I=="symbol"?I:String(I)}function O(M,I){if(typeof M!="object"||M===null)return M;var N=M[Symbol.toPrimitive];if(N!==void 0){var $=N.call(M,I||"default");if(typeof $!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(M)}class A extends t.Component{static getDerivedStateFromProps(I,N){let{position:$}=I,{prevPropsPosition:R}=N;return $&&(!R||$.x!==R.x||$.y!==R.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:$,prevPropsPosition:R}),{x:$.x,y:$.y,prevPropsPosition:{...$}}):null}constructor(I){super(I),E(this,"onDragStart",(N,$)=>{if((0,h.default)("Draggable: onDragStart: %j",$),this.props.onStart(N,(0,s.createDraggableData)(this,$))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),E(this,"onDrag",(N,$)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",$);const R=(0,s.createDraggableData)(this,$),F={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:X,y:Q}=F;F.x+=this.state.slackX,F.y+=this.state.slackY;const[ae,fe]=(0,s.getBoundPosition)(this,F.x,F.y);F.x=ae,F.y=fe,F.slackX=this.state.slackX+(X-F.x),F.slackY=this.state.slackY+(Q-F.y),R.x=F.x,R.y=F.y,R.deltaX=F.x-this.state.x,R.deltaY=F.y-this.state.y}if(this.props.onDrag(N,R)===!1)return!1;this.setState(F)}),E(this,"onDragStop",(N,$)=>{if(!this.state.dragging||this.props.onStop(N,(0,s.createDraggableData)(this,$))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",$);const F={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:X,y:Q}=this.props.position;F.x=X,F.y=Q}this.setState(F)}),this.state={dragging:!1,dragged:!1,x:I.position?I.position.x:I.defaultPosition.x,y:I.position?I.position.y:I.defaultPosition.y,prevPropsPosition:{...I.position},slackX:0,slackY:0,isElementSVG:!1},I.position&&!(I.onDrag||I.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var I,N;return(I=(N=this.props)===null||N===void 0||(N=N.nodeRef)===null||N===void 0?void 0:N.current)!==null&&I!==void 0?I:r.default.findDOMNode(this)}render(){const{axis:I,bounds:N,children:$,defaultPosition:R,defaultClassName:F,defaultClassNameDragging:q,defaultClassNameDragged:X,position:Q,positionOffset:ae,scale:fe,...Se}=this.props;let ke={},we=null;const Ce=!!!Q||this.state.dragging,be=Q||R,$e={x:(0,s.canDragX)(this)&&Ce?this.state.x:be.x,y:(0,s.canDragY)(this)&&Ce?this.state.y:be.y};this.state.isElementSVG?we=(0,o.createSVGTransform)($e,ae):ke=(0,o.createCSSTransform)($e,ae);const Ue=(0,i.default)($.props.className||"",F,{[q]:this.state.dragging,[X]:this.state.dragged});return t.createElement(f.default,P({},Se,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only($),{className:Ue,style:{...$.props.style,...ke},transform:we}))}}e.default=A,E(A,"displayName","Draggable"),E(A,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),E(A,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(sH);const{default:gH,DraggableCore:vTe}=sH;RD.exports=gH;RD.exports.default=gH;RD.exports.DraggableCore=vTe;var ND={},bTe=ur;Object.defineProperty(ND,"__esModule",{value:!0});var yH=ND.default=void 0,xTe=bTe(dr()),_Te=L,wTe=(0,xTe.default)((0,_Te.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");yH=ND.default=wTe;var zD={},STe=ur;Object.defineProperty(zD,"__esModule",{value:!0});var vH=zD.default=void 0,kTe=STe(dr()),CTe=L,TTe=(0,kTe.default)((0,CTe.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");vH=zD.default=TTe;var BD={},PTe=ur;Object.defineProperty(BD,"__esModule",{value:!0});var bH=BD.default=void 0,ETe=PTe(dr()),OTe=L,MTe=(0,ETe.default)((0,OTe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");bH=BD.default=MTe;var FD={},ATe=ur;Object.defineProperty(FD,"__esModule",{value:!0});var xH=FD.default=void 0,ITe=ATe(dr()),$Te=L,RTe=(0,ITe.default)((0,$Te.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Pending");xH=FD.default=RTe;const aA=({position:e,property:t,attribute:n})=>{const r=On(x=>x.devices.items[e.deviceId]),i=t||n,o=t?e[t]:e.attributes[n],s="m",a="m",f="km/s",h="ddm",g=!1,y=()=>{switch(i){case"fixTime":case"deviceTime":case"serverTime":return WG(o,"seconds",g);case"latitude":return DB("latitude",o,h);case"longitude":return DB("longitude",o,h);case"speed":return Nke(o,f);case"course":return Dke(o);case"altitude":return jke(o,a);case"batteryLevel":return VG(o);case"alarm":return qG(o);case"gimbal":return o.toString();case"obstacle_info":return o.toString();case"odometer":case"distance":case"totalDistance":return Lke(o,s);case"hours":return zke(o);default:return typeof o=="number"?Rke(o):typeof o=="boolean"?UG(o):o||""}};switch(i){case"image":case"video":case"audio":return L.jsx(ume,{href:`/api/media/${r.uniqueId}/${o}`,target:"_blank",children:o});case"totalDistance":case"hours":case"address":case"network":return"";default:return y()}},DTe=qr(e=>({root:{[e.breakpoints.down("md")]:{bottom:`calc(${e.dimensions.bottomBarHeight}px + ${e.spacing(1)})`}},button:{height:"auto",marginTop:0,marginBottom:0,color:e.palette.colors.negative}})),LTe=({open:e,endpoint:t,itemId:n,onResult:r})=>{const i=DTe(),o=async()=>{(await fetch(`/api/${t}/${n}`,{method:"DELETE"})).ok?(console.log("elemento eliminado"),r(!0)):r(!1)};return L.jsx(aye,{className:i.root,open:e,autoHideDuration:2750,onClose:()=>r(!1),message:"confirmar para eliminar",action:L.jsx(hr,{size:"small",className:i.button,onClick:o,children:"Eliminar"})})},_H=qr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:t})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[e.breakpoints.up("md")]:{left:`calc(50% + ${t} / 2)`,bottom:e.spacing(3)},[e.breakpoints.down("md")]:{left:"50%",bottom:`calc(${e.spacing(3)} + ${e.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),BE=({name:e,content:t})=>{const n=_H();return L.jsxs(vm,{children:[L.jsx(Sa,{className:n.card,children:L.jsx(pn,{variant:"body2",children:e})}),L.jsx(Sa,{className:n.cell,children:L.jsx(pn,{variant:"body2",color:"textSecondary",children:t})})]})},jTe=({deviceId:e,position:t,onClose:n,disableActions:r,desktopPadding:i=0})=>{var A;const o=_H(),s=bg(),a=Ml(),f=On(M=>M.devices.items[e]),h=(A=f==null?void 0:f.attributes)==null?void 0:A.deviceImage,g="speed,course,batteryLevel,gimbal",[y,x]=V.useState(null),[P,E]=V.useState(!1),S=async(M,I,N)=>{console.log("send command uavud: "+M+I);try{const $=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:M,type:I,attributes:N}),headers:{"Content-Type":"application/json"}});if($.ok){let R=await $.json();console.log(R)}else throw console.log("Error1:"+$),Error(await $.text())}catch($){console.log("Error2:"+$)}},O=async M=>{if(M){const I=await fetch("/api/devices");if(I.ok){let N=await I.json();a(yl.refresh(Object.values(N)))}else throw Error(await I.text())}E(!1)};return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:o.root,children:f&&L.jsxs(wu,{elevation:3,className:o.card,children:[h?L.jsx(Jfe,{className:o.media,image:`/api/media/${f.uniqueId}/${h}`,children:L.jsx(Gn,{size:"small",onClick:n,onTouchStart:n,children:L.jsx(fu,{fontSize:"small",className:o.mediaButton})})}):L.jsxs("div",{className:o.header,children:[L.jsx(pn,{variant:"body2",color:"textSecondary",children:f.name}),L.jsx(Gn,{size:"small",onClick:n,onTouchStart:n,children:L.jsx(fu,{fontSize:"small"})})]}),t&&L.jsx(pR,{className:o.content,children:L.jsx(vR,{size:"small",classes:{root:o.table},children:L.jsxs(bR,{children:[t.hasOwnProperty("latitude")&&L.jsx(BE,{name:"Position",content:L.jsx("a",{href:"https://www.google.com/maps?q="+t.latitude+","+t.longitude,target:"_blank",children:"["+t.latitude.toFixed(6)+","+t.longitude.toFixed(6)+"]"})},"latitude"),g.split(",").filter(M=>t.hasOwnProperty(M)||t.attributes.hasOwnProperty(M)).map(M=>L.jsx(BE,{name:M,content:L.jsx(aA,{position:t,property:t.hasOwnProperty(M)?M:null,attribute:t.hasOwnProperty(M)?null:M})},M)),t.attributes.hasOwnProperty("alarm")&&t.attributes.alarm=="threat"&&L.jsx(BE,{name:"Alarm "+t.attributes.alarm,content:L.jsxs("div",{style:{width:"100%"},children:[L.jsx(hr,{variant:"contained",size:"small",color:"primary",style:{margin:"1px",display:"inline-block"},onClick:()=>S(f.id,"threat",{data:!0}),children:"Validate"}),L.jsx(hr,{variant:"contained",size:"small",color:"secondary",style:{margin:"1px",display:"inline-block"},onClick:()=>S(f.id,"threat",{data:!1}),children:"Dismiss"})]})},"alarm1")]})})}),L.jsxs(Z9,{classes:{root:o.actions},disableSpacing:!0,children:[L.jsx(Gn,{color:"secondary",onClick:M=>x(M.currentTarget),disabled:!t,children:L.jsx(xH,{})}),L.jsx(Gn,{onClick:()=>S(f.id,"SincroniseFiles"),children:L.jsx(yH,{})}),L.jsx(Gn,{onClick:()=>S(f.id,"commandMission"),disabled:r,children:L.jsx(vH,{})}),L.jsx(Gn,{onClick:()=>s(`/device/${e}`),children:L.jsx(bH,{})}),L.jsx(Gn,{onClick:()=>E(!0),className:o.negative,children:L.jsx(_h,{})})]})]})}),t&&L.jsxs(l7,{anchorEl:y,open:!!y,onClose:()=>x(null),children:[L.jsx(Ps,{onClick:()=>s(`/device/${e}`),children:L.jsx(pn,{color:"secondary",children:"Detalle Dispositivo"})}),L.jsx(Ps,{component:"a",target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${t.latitude}%2C${t.longitude}`,children:"linkGoogleMaps"}),L.jsx(Ps,{component:"a",target:"_blank",href:`http://maps.apple.com/?ll=${t.latitude},${t.longitude}`,children:"linkAppleMaps"}),L.jsx(Ps,{component:"a",target:"_blank",href:`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${t.latitude}%2C${t.longitude}&heading=${t.course}`,children:"linkStreetView"})]}),L.jsx(LTe,{open:P,endpoint:"devices",itemId:e,onResult:M=>O(M)})]})};function NTe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var zTe=`/* add css styles here (optional) */

.styles_ReactSwipeButton__2WML2 {
  float: left;
  width: 100%;
  height: 50px;
  position: relative;
}
.styles_ReactSwipeButton__2WML2,
.styles_ReactSwipeButton__2WML2 * {
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none;   /* Chrome/Safari/Opera */
  -khtml-user-select: none;    /* Konqueror */
  -moz-user-select: none;      /* Firefox */
  -ms-user-select: none;       /* Internet Explorer/Edge */
  user-select: none;           /* Non-prefixed version, currently
                                  not supported by any browser */
}
.styles_rsbContainer__KXpXK{
  float: left;
  width: 100%;
  height: 100%;
  background: #eee;
  border-radius: 50px;
  position: relative;
  /* box-shadow: inset 1px 1px 4px rgba(0,0,0,0.1); */
  overflow: hidden;
}
.styles_rsbContainerUnlocked__1T0vd{
  width: 50%!important;
  margin-left: 25%;
  transition: 0.5s;
  cursor: default;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSlider__1yYxD{
  left: 100%!important;
  cursor: default;
  pointer-events: none;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderArrow__2D9q4 {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderCircle__3G0Zs {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbcSlider__1yYxD {
  float: left;
  width: 100%;
  position: absolute;
  height: 50px;
  top:0;
  left: 50px;
  margin-left:-100%;
  background: #333;
  border-radius: 25px;
  z-index: 100;
  /* box-shadow: 1px 1px 5px rgba(0,0,0,0.3); */
  cursor: pointer;
}
.styles_rsbcSliderText__3h08j{
  position: absolute;
  top:0;
  left:0;
  right:0;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  color: #fff;
  font-size: 13px;

}
.styles_rsbcSliderArrow__2D9q4{
  float: left;
  position: absolute;
  transform: rotate(45deg);
  border: 2px solid #fff;
  height: 8px;
  width: 8px;
  top:50%;
  right: 22px;
  margin-top: -6px;
  border-left-color: transparent;
  border-bottom-color: transparent;
  transform-origin: center;
  z-index: 10;
}
.styles_rsbcSliderCircle__3G0Zs {
  position: absolute;
  right: 0;
  background: #444;
  top:0;
  height: 50px;
  width: 50px;
  border-radius: 100%;
}
.styles_rsbcText__16wA0 {
  float: left;
  position: absolute;
  top:0;
  left:0;
  right:0;
  height: 50px;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  font-size: 13px;
  color: #aaa;
}`,ed={ReactSwipeButton:"styles_ReactSwipeButton__2WML2",rsbContainer:"styles_rsbContainer__KXpXK",rsbContainerUnlocked:"styles_rsbContainerUnlocked__1T0vd",rsbcSlider:"styles_rsbcSlider__1yYxD",rsbcSliderArrow:"styles_rsbcSliderArrow__2D9q4",rsbcSliderCircle:"styles_rsbcSliderCircle__3G0Zs",rsbcSliderText:"styles_rsbcSliderText__3h08j",rsbcText:"styles_rsbcText__16wA0"};NTe(zTe);var BTe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},FTe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),UTe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},YB=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},KB=Ee.createRef(),k1=Ee.createRef(),FE="ontouchstart"in document.documentElement,VTe=function(e){UTe(t,e);function t(){var n,r,i,o;BTe(this,t);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=YB(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),i),i.isDragging=!1,i.sliderLeft=0,i.state={},i.onDrag=function(h){i.unmounted||i.state.unlocked||i.isDragging&&(FE?i.sliderLeft=Math.min(Math.max(0,h.touches[0].clientX-i.startX),i.containerWidth):i.sliderLeft=Math.min(Math.max(0,h.clientX-i.startX),i.containerWidth),i.updateSliderStyle())},i.updateSliderStyle=function(){i.unmounted||i.state.unlocked||(KB.current.style.left=i.sliderLeft+50+"px")},i.stopDrag=function(){i.unmounted||i.state.unlocked||i.isDragging&&(i.isDragging=!1,i.sliderLeft>i.containerWidth*.9?(i.sliderLeft=i.containerWidth,i.onSuccess(),i.props.onSuccess&&i.props.onSuccess()):(i.sliderLeft=0,i.props.onFailure&&i.props.onFailure()),i.updateSliderStyle())},i.startDrag=function(h){i.unmounted||i.state.unlocked||(i.isDragging=!0,FE?i.startX=h.touches[0].clientX:i.startX=h.clientX)},i.onSuccess=function(){k1.current.style.width=k1.current.clientWidth+"px",i.setState({unlocked:!0})},i.getText=function(){return i.state.unlocked?i.props.text_unlocked||"UNLOCKED":i.props.text||"SLIDE"},i.reset=function(){i.unmounted||i.setState({unlocked:!1},function(){i.sliderLeft=0,i.updateSliderStyle()})},r),YB(i,o)}return FTe(t,[{key:"componentDidMount",value:function(){FE?(document.addEventListener("touchmove",this.onDrag),document.addEventListener("touchend",this.stopDrag)):(document.addEventListener("mousemove",this.onDrag),document.addEventListener("mouseup",this.stopDrag)),this.containerWidth=k1.current.clientWidth-50}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return Ee.createElement("div",{className:ed.ReactSwipeButton},Ee.createElement("div",{className:ed.rsbContainer+" "+(this.state.unlocked?ed.rsbContainerUnlocked:""),ref:k1},Ee.createElement("div",{className:ed.rsbcSlider,ref:KB,onMouseDown:this.startDrag,style:{background:this.props.color},onTouchStart:this.startDrag},Ee.createElement("span",{className:ed.rsbcSliderText},this.getText()),Ee.createElement("span",{className:ed.rsbcSliderArrow}),Ee.createElement("span",{className:ed.rsbcSliderCircle,style:{background:this.props.color}})),Ee.createElement("div",{className:ed.rsbcText},this.getText())))}}]),t}(V.Component);const WTe=qr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:"20px",paddingBottom:"20px"},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:{pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",top:"50%",transform:"translate(-50%,-50%)"}})),qTe=({enable:e,onClose:t,onSucces:n})=>{const r=WTe();return L.jsx(L.Fragment,{children:L.jsx("div",{className:r.root,children:e&&L.jsxs(wu,{elevation:5,className:r.card,children:[L.jsxs("div",{className:r.header,children:[L.jsx(pn,{variant:"body2",color:"textSecondary",children:"Confirm mission"}),L.jsx(Gn,{size:"small",onClick:t,onTouchStart:t,children:L.jsx(fu,{fontSize:"small"})})]}),L.jsxs(pR,{className:r.content,children:[L.jsx(pn,{variant:"body1",color:"textSecondary",children:"Send all devices to command the mission load"}),L.jsx("div",{style:{marginTop:"10px",height:"50px"},children:L.jsx(VTe,{text:"Slide to Command Mission",color:"#7393B3",text_unlocked:"Commanded",onSuccess:n})})]})]})})})};var UD={},GTe=ur;Object.defineProperty(UD,"__esModule",{value:!0});var wH=UD.default=void 0,HTe=GTe(dr()),YTe=L,KTe=(0,HTe.default)((0,YTe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");wH=UD.default=KTe;var VD={},ZTe=ur;Object.defineProperty(VD,"__esModule",{value:!0});var SH=VD.default=void 0,XTe=ZTe(dr()),JTe=L,QTe=(0,XTe.default)((0,JTe.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");SH=VD.default=QTe;var WD={},ePe=ur;Object.defineProperty(WD,"__esModule",{value:!0});var kH=WD.default=void 0,tPe=ePe(dr()),nPe=L,rPe=(0,tPe.default)((0,nPe.jsx)("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");kH=WD.default=rPe;const iPe={display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},CH=({SetAddUAVOpen:e})=>L.jsxs(Cg,{style:iPe,children:[L.jsx(Gn,{edge:"start",children:L.jsx(SH,{})}),L.jsx(gR,{placeholder:"device",endAdornment:L.jsx(Ype,{position:"end",children:L.jsx(Gn,{size:"small",edge:"end",children:L.jsx(sfe,{color:"info",variant:"dot",children:L.jsx(kH,{fontSize:"small"})})})}),size:"small",fullWidth:!0}),L.jsx(Gn,{edge:"end",onClick:()=>{e(!0)},children:L.jsx(Dp,{children:L.jsx(wH,{})})})]}),oPe=qr(e=>({card:{pointerEvents:"auto"},media:{width:e.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)"}})),ZB=({deviceId:e,deviceIp:t,camera_src:n,onClose:r})=>{const i=oPe();On(E=>E.data.camera[e]);const o=On(E=>E.devices.items[e]),s="http://"+t+":8889/"+n,[a,f]=V.useState(!1);let h=i.card,g=a?i.root_max:i.root,y=a?i.media1:i.media;function x(){f(!a)}V.useRef();function P(){r(),f(!1)}return V.useEffect(()=>{e&&console.log("device in camera-"+o.name+"-"+t+"+"+n)},[e]),L.jsx("div",{className:g,children:o&&L.jsxs(wu,{elevation:3,className:h,children:[L.jsxs("div",{className:i.gruopBtn,children:[L.jsx(Gn,{size:"small",onClick:x,onTouchStart:x,children:L.jsx(iD,{fontSize:"small",className:i.mediaButton})}),L.jsx(Gn,{size:"small",onClick:P,children:L.jsx(fu,{fontSize:"small",className:i.mediaButton})})]}),L.jsx("div",{className:i.tittle,children:"Image "+o.name}),L.jsx("iframe",{src:s,className:y})]})})},aPe=()=>{const e="km",t=V.useMemo(()=>new ux.ScaleControl,[]);return V.useEffect(()=>(Ge.addControl(t,"bottom-right"),()=>Ge.removeControl(t)),[t]),V.useEffect(()=>{switch(e){case"mi":t.setUnit("imperial");break;case"nmi":t.setUnit("nautical");break;case"km":default:t.setUnit("metric");break}},[t,e]),null},sPe=qr(e=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),lPe=()=>{const e=sPe(),t=Ml(),n=xu(),r=On(Ce=>Ce.devices.items),i=On(Ce=>Ce.data.positions),o=On(Ce=>Ce.data.camera),s=On(Ce=>Ce.devices.selectedId),a=On(Ce=>Ce.session.markers),[f,h]=V.useState([]),[g,y]=V.useState([]),[x,P]=V.useState([]),[E,S]=V.useState(),[O,A]=V.useState(),[M,I]=V.useState(),[N,$]=V.useState(),R=`${window.location.hostname}`,F=f.find(Ce=>s&&Ce.deviceId===s),q=x.find(Ce=>s&&Ce.deviceId==s);let X=Object.values(r);V.useContext(Vd);const[Q,ae]=V.useState(!1),[fe,Se]=V.useState([]);let ke=null;const we=(Ce,be)=>{switch(Ce){case"success":ke={id:fe.length+1,title:"Success",description:be,backgroundColor:"#5cb85c"};break;case"danger":ke={id:fe.length+1,title:"Danger",description:be,backgroundColor:"#d9534f"};break;case"info":ke={id:fe.length+1,title:"Info",description:be,backgroundColor:"#5bc0de"};break;case"warning":ke={id:fe.length+1,title:"Warning",description:be,backgroundColor:"#f0ad4e"};break;default:ke=[]}Se([...fe,ke])},Oe=V.useCallback((Ce,be)=>{t(yl.selectId(be))},[t]);return V.useEffect(()=>{y(a)},[a]),V.useEffect(()=>{h(Object.values(i))},[i]),V.useEffect(()=>{P(Object.values(o))},[o]),V.useEffect(()=>{s?(S(r[s].ip),r[s].camera.length>0?(A(r[s].camera[0].type),I(r[s].camera[0].source)):A(null),$(r[s].name)):(S(null),A(null))},[s]),L.jsx("div",{className:e.root,children:L.jsxs(Gk,{notification:we,children:[L.jsx(Hk,{SetAddUAVOpen:ae}),L.jsx(Yk,{SetAddUAVOpen:ae}),L.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 88px)"},children:[L.jsxs(Mk,{children:[L.jsx(TD,{markers:g}),L.jsx(HG,{}),L.jsx(CD,{positions:f,onClick:Oe,selectedPosition:F,showStatus:!0}),L.jsx(YG,{})]}),L.jsx(aPe,{})]}),L.jsx("div",{className:e.sidebarStyle,children:L.jsx("div",{className:e.middleStyle,children:L.jsxs(Qa,{square:!0,className:e.contentListStyle,children:[L.jsx(CH,{SetAddUAVOpen:ae}),L.jsx(aH,{devices:X})]})})}),Q&&L.jsx(v1e,{SetAddUAVOpen:ae}),L.jsx(jTe,{deviceId:s,position:F,onClose:()=>t(yl.selectId(null)),desktopPadding:n.dimensions.drawerWidthDesktop}),L.jsx(Vd.Consumer,{children:({confirmMission:Ce,setconfirmMission:be,commandMission:$e})=>L.jsx(qTe,{enable:Ce,onClose:()=>be(!1),onSucces:()=>$e()})}),O==="WebRTC"&&L.jsx(ZB,{deviceId:s,deviceIp:R,camera_src:N+"_"+M,onClose:()=>t(yl.selectId(null))}),O==="WebRTC_env"&&L.jsx(ZB,{deviceId:s,deviceIp:E,camera_src:M,onClose:()=>t(yl.selectId(null))}),O==="Websocket"&&L.jsx(k1e,{deviceId:s,datacamera:q,onClose:()=>t(yl.selectId(null))}),L.jsx(l1e,{toastlist:fe,position:"buttom-right",setList:Se})]})})},qD=Ee.createContext(),TH=({children:e})=>{const[t,n]=V.useState({route_id:-1,wp_id:-1});return L.jsx("div",{style:{width:"100%",height:"100%"},children:L.jsx(qD.Provider,{value:{changeWp:t,setChangeWp:n},children:e})})};class cPe{constructor(){this.routes=[],this.selecwp={id:-1}}initroute(t){this.routes=JSON.parse(JSON.stringify(t))}getroute(){return this.routes}setroute(t){this.routes=t}getSelectwp(){return this.selecwp}setSelecwp(t){this.selecwp=t}}const PH=()=>{const e=V.useId(),t=`${e}-points`,n=`${e}-points-clusters`,r=On(O=>O.mission.route);On(O=>O.mission.selectpoint);const i=!0,o=.6,s=Ml(),[a,f]=V.useState(new cPe),h=V.useContext(qD);let g=Ge.getCanvasContainer();function y(O){let A=O.lngLat;g.style.cursor="grabbing",console.log("on move point"+A.lng+"-"+A.lat);let M=a.getroute(),I=a.getSelectwp();I.id>=0&&(M[I.route_id].wp[I.id].pos[0]=O.lngLat.lat,M[I.route_id].wp[I.id].pos[1]=O.lngLat.lng);let N=S(M);Ge.getSource(t).setData({type:"FeatureCollection",features:N.map($=>({type:"Feature",geometry:{type:"Point",coordinates:[$.longitude,$.latitude]},properties:P(M,$)}))}),Ge.getSource(e).setData({type:"FeatureCollection",features:M.map($=>E($))})}function x(O){var A=O.lngLat;g.style.cursor="";let M=a.getSelectwp();console.log(`Longitude: ${A.lng} Latitude: ${A.lat}`),h.setChangeWp({wp_id:M.id,route_id:M.route_id,lng:O.lngLat.lng,lat:O.lngLat.lat}),a.setSelecwp({id:-1}),Ge.off("mousemove",y),Ge.off("touchmove",y)}const P=(O,A)=>({id:A.id,route_id:A.routeid,name:O[A.routeid].name,uav:O[A.routeid].uav,latitude:O[A.routeid].wp[A.id].pos[0],longitude:O[A.routeid].wp[A.id].pos[1],altitud:O[A.routeid].wp[A.id].pos[2],yaw:O[A.routeid].wp[A.id].yaw,gimbal:O[A.routeid].wp[A.id].gimbal,actions:O[A.routeid].wp[A.id].action,attributes:O[A.routeid].attributes,category:"default",color:O[A.routeid].id});V.useEffect(()=>(console.log("render"),Ge.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),Ge.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Ge.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Ge.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":Qc(Ge),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ge.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":Qc(Ge),"text-size":14},paint:{"text-color":"white"}}),Ge.addLayer({id:n,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":Qc(Ge),"text-size":14}}),Ge.on("mouseenter","mission-points",function(){g.style.cursor="move"}),Ge.on("mouseleave","mission-points",function(){g.style.cursor=""}),Ge.on("mousedown","mission-points",function(O){O.preventDefault(),a.setSelecwp(O.features[0].properties),s(qc.selectpoint(O.features[0].properties)),g.style.cursor="grab",Ge.on("mousemove",y),Ge.once("mouseup",x)}),Ge.on("touchstart","mission-points",function(O){O.points.length===1&&(console.log("touch start"),O.preventDefault(),Ge.on("touchmove",y),Ge.once("touchend",x))}),Ge.on("click",function(O){console.log("A click event has occurred at "+O.lngLat)}),()=>{Ge.getLayer("mission-line")&&Ge.removeLayer("mission-line"),Ge.getLayer("mission-title")&&Ge.removeLayer("mission-title"),Ge.getLayer("mission-points")&&Ge.removeLayer("mission-points"),Ge.getLayer(n)&&Ge.removeLayer(n),Ge.getSource(e)&&Ge.removeSource(e),Ge.getSource(t)&&Ge.removeSource(t)}),[]);function E(O){let A=Object.values(O.wp).map(function(M){return[M.pos[1],M.pos[0]]});return{id:O.id,type:"Feature",geometry:{type:"LineString",coordinates:A},properties:{name:O.uav,color:ph.colors_devices[O.id]}}}function S(O){let A=[];return O.map((M,I)=>{M.wp.map((N,$)=>{A.push({longitude:N.pos[1],latitude:N.pos[0],id:$,routeid:I})})}),A}return V.useEffect(()=>{console.log("Mapmission upload mission"),a.initroute(r);let O=S(r);Ge.getSource(t).setData({type:"FeatureCollection",features:O.map(A=>({type:"Feature",geometry:{type:"Point",coordinates:[A.longitude,A.latitude]},properties:P(r,A)}))}),Ge.getSource(e).setData({type:"FeatureCollection",features:r.map(A=>E(A))})},[r]),null},uPe=qr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),dPe=({mission:e,setmission:t,index:n,index_wp:r,waypoint:i,expand_wp:o,AddnewWp:s})=>{const a=uPe(),[f,h]=V.useState(!1),[g,y]=V.useState(!0),[x,P]=V.useState(0),[E,S]=V.useState(!1);V.useEffect(()=>{console.log("render waypoint"+n+"-"+r)},[]),V.useEffect(()=>{S(o)},[o]);const O=R=>(F,q)=>{S(q?R:!1)};async function A(R,F){let q;const X=await fetch("/api/category/actions/dji_M210_noetic");if(X.ok)q=await X.json();else throw Error(await X.text());let Q=q.find(fe=>fe.id==x),ae=JSON.parse(JSON.stringify(e.route));ae[R].wp[F].hasOwnProperty("action")||(ae[R].wp[F].action={}),Q.param?ae[R].wp[F].action[Q.name]=0:ae[R].wp[F].action[Q.name]=!0,t({...e,route:ae}),y(!0)}const M=(R,F)=>{console.log("remove wp"+R+"-"+F);let q=[...e.route],X=[...e.route[R].wp];X.splice(F,1);let Q={...q[R],wp:X};q[R]=Q,t({...e,route:q})},I=(R,F,q)=>{console.log("remove action"+R+"-"+F+"-"+q);let X=JSON.parse(JSON.stringify(e.route));delete X[R].wp[F].action[q],t({...e,route:X})},N=R=>(F,q)=>{h(q?R:!1)},$=R=>(F,q)=>{y(!1)};return L.jsxs(xl,{expanded:E==="wp "+r,onChange:O("wp "+r),children:[L.jsxs(wl,{expandIcon:L.jsx(Es,{}),children:[L.jsx(pn,{sx:{width:"33%",flexShrink:0},children:"WP "+r}),L.jsx(Gn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>M(n,r),children:L.jsx(_h,{})})]}),L.jsx(_l,{className:a.details,children:E==="wp "+r&&L.jsxs(V.Fragment,{children:[L.jsxs(Xl,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[L.jsx("div",{children:L.jsx(pn,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),L.jsx(Ai,{required:!0,label:"Latitud ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[0]:0,onChange:R=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].pos[0]=+R.target.value:q=F,q})})}),L.jsx(Ai,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[1]:0,onChange:R=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].pos[1]=+R.target.value:q=F,q})})}),L.jsx(Ai,{required:!0,label:"altura ",type:"number",variant:"standard",sx:{width:"7ch"},value:i.pos?i.pos[2]:0,onChange:R=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].pos[2]=+R.target.value:q=F,q})})})]}),L.jsx(Ai,{required:!0,label:"Speed ",type:"number",variant:"standard",value:i.speed?i.speed:e.route[n].attributes.idle_vel,onChange:R=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return e.route[n]?q.wp[r].speed=+R.target.value:q=F,q})})}),L.jsx(Ai,{required:!0,label:"YAW ",type:"number",variant:"standard",value:i.yaw?i.yaw:0,onChange:R=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].yaw=+R.target.value:q=F,q})})}),L.jsx(Ai,{required:!0,label:"Gimbal ",type:"number",variant:"standard",value:i.gimbal?i.gimbal:0,onChange:R=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].gimbal=+R.target.value:q=F,q})})}),L.jsxs(xl,{expanded:f==="wp "+r,onChange:N("wp "+r),children:[L.jsx(wl,{expandIcon:L.jsx(Es,{}),children:L.jsx(pn,{sx:{width:"33%",flexShrink:0},children:"Actions"})}),L.jsxs(_l,{className:a.details,children:[i.action&&Ee.Children.toArray(Object.keys(i.action).map((R,F,q)=>L.jsxs(V.Fragment,{children:[L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:a.attributeName,children:R}),L.jsx("div",{className:a.actionValue,children:L.jsx(Ai,{required:!0,fullWidth:!0,value:i.action[R]?i.action[R]:0,onChange:X=>t({...e,route:e.route.map(Q=>{let ae=JSON.parse(JSON.stringify(Q));return Q==e.route[n]?ae.wp[r].action[R]=X.target.value:ae=Q,ae})})})}),L.jsx(Gn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>I(n,r,R),className:a.negative,children:L.jsx(_h,{})})]}),L.jsx(rx,{})]},"fragment-action-"+F))),L.jsx(Xl,{textAlign:"center",children:g?L.jsx(hr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:$(),children:"Add new action"}):L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",children:"Tipo de acccion a añadir"}),L.jsx(Yl,{emptyValue:null,fullWidth:!0,value:x,onChange:R=>P(R.target.value),endpoint:"/api/category/actions/dji_M210_noetic",keyGetter:R=>R.id,titleGetter:R=>R.description}),L.jsxs("div",{children:[L.jsx(hr,{onClick:()=>y(!0),children:"Cancel"}),L.jsx(hr,{onClick:()=>A(n,r),children:"Add"})]})]})})]})]}),L.jsx(Xl,{textAlign:"center",children:L.jsx(hr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:()=>s(n,r),children:"Add new Waypoint"})})]})})]})},fPe=qr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),hPe=({mission:e,setmission:t,setScrool:n})=>{const r=fPe(),i=On($=>$.mission),o=On($=>$.mission.selectpoint),s=Ml(),[a,f]=V.useState(!1),[h,g]=V.useState(!1),[y,x]=V.useState(!1),[P,E]=V.useState(!0);V.useEffect(()=>{console.log("render Router list")},[]),V.useEffect(()=>{t(i),i.route.length>0?E(!1):E(!0),f(!0)},[i]),V.useEffect(()=>{a&&(console.log("update mission"),s(qc.reloadMission(e.route))),e.route.length>0?E(!1):E(!0)},[e.route]),V.useEffect(()=>{a&&s(qc.reloadName({name:e.name,description:e.description}))},[e.name,e.description]),V.useEffect(()=>{g("Rute "+o.route_id),x("wp "+o.id),n(500+o.route_id*50+o.id*50)},[o]);const S=()=>{t({name:"new Mission",description:"",route:[]}),E(!1),O(),console.log("add new mission")},O=()=>{let $=[...e.route],R=$.length>0?+$.slice(-1)[0].id+1:0,F={max_vel:12,idle_vel:3,mode_yaw:2,mode_gimbal:0,mode_trace:0,mode_landing:2};$.push({name:"",uav:"",id:R,attributes:F,wp:[]}),t({...e,route:$})},A=($,R)=>{console.log("add new wp"+$);let F=JSON.parse(JSON.stringify(e.route)),q=Ge.getCenter();R>0&&(q.lat=(F[$].wp[R].pos[0]+F[$].wp[R-1].pos[0])/2,q.lng=(F[$].wp[R].pos[1]+F[$].wp[R-1].pos[1])/2),R<0?F[$].wp.push({pos:[q.lat,q.lng,5],action:{}}):F[$].wp.splice(R,0,{pos:[q.lat,q.lng,5],action:{}}),t({...e,route:F})},M=$=>{console.log("remove route"+$);let R=JSON.parse(JSON.stringify(e.route));R.splice($,1),t({...e,route:R})},I=$=>(R,F)=>{g(F?$:!1)},N=$=>(R,F)=>{x(F?$:!1)};return L.jsx(V.Fragment,{children:P?L.jsx(Xl,{textAlign:"center",children:L.jsx(hr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:S,children:"Create New Mission"})}):L.jsx(V.Fragment,{children:L.jsxs(Xl,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[L.jsx(Ai,{required:!0,label:"Name Mission",variant:"standard",value:e.name?e.name:" ",onChange:$=>t({...e,name:$.target.value})}),L.jsx(Ai,{required:!0,label:"Description of mission",variant:"standard",value:e.description?e.description:" ",onChange:$=>t({...e,description:$.target.value})}),Ee.Children.toArray(Object.values(e.route).map(($,R,F)=>L.jsxs(V.Fragment,{children:[L.jsxs(xl,{expanded:h==="Rute "+R,onChange:I("Rute "+R),children:[L.jsxs(wl,{expandIcon:L.jsx(Es,{}),children:[L.jsx(pn,{sx:{width:"33%",flexShrink:0,color:ph.colors_devices[$.id]},children:"Rute "+R}),L.jsx(pn,{sx:{color:"text.secondary"},children:$.name+"- "+$.uav}),L.jsx(Gn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>M(R),children:L.jsx(_h,{})})]}),L.jsx(_l,{className:r.details,children:h==="Rute "+R&&L.jsxs(V.Fragment,{children:[L.jsx(Ai,{required:!0,label:"Route Name",variant:"standard",value:$.name?$.name:"",onChange:q=>t({...e,route:e.route.map(X=>X==e.route[R]?{...$,name:q.target.value}:X)})}),L.jsx(Ai,{required:!0,label:"UAV id",variant:"standard",value:$.uav?$.uav:"uav_",onChange:q=>t({...e,route:e.route.map(X=>X==e.route[R]?{...$,uav:q.target.value}:X)})}),L.jsx(Yl,{emptyValue:null,value:$.uav_type?$.uav_type:"",onChange:q=>t({...e,route:e.route.map(X=>X==e.route[R]?{...$,uav_type:q.target.value}:X)}),endpoint:"/api/category",keyGetter:q=>q,titleGetter:q=>q,label:"Type UAV mission",style:{display:"inline",width:"200px"}}),L.jsxs(xl,{expanded:y==="wp -"+R,onChange:N("wp -"+R),children:[L.jsx(wl,{expandIcon:L.jsx(Es,{}),children:L.jsx(pn,{sx:{width:"53%",flexShrink:0},children:"Route Attributes"})}),L.jsx(_l,{className:r.details,children:$.attributes&&L.jsxs(V.Fragment,{children:[L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"Speed Mode"}),L.jsx("div",{className:r.attributeValue,children:L.jsx(Yl,{emptyValue:null,fullWidth:!0,value:$.attributes.mode_speed?$.attributes.mode_speed:0,onChange:q=>t({...e,route:e.route.map(X=>{let Q=JSON.parse(JSON.stringify(X));return X===e.route[R]?Q.attributes.mode_speed=q.target.value:Q=X,Q})}),endpoint:"/api/category/atributesparam/dji_M300/mode_speed",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"Speed idle (m/s):"}),L.jsx(Ai,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:$.attributes.idle_vel?$.attributes.idle_vel:1.85,onChange:q=>t({...e,route:e.route.map(X=>{let Q=JSON.parse(JSON.stringify(X));return X==e.route[R]?Q.attributes.idle_vel=+q.target.value:Q=X,Q})})})]}),L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"Speed MAX (m/s):"}),L.jsx(Ai,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:$.attributes.max_vel?$.attributes.max_vel:12,onChange:q=>t({...e,route:e.route.map(X=>{let Q=JSON.parse(JSON.stringify(X));return X==e.route[R]?Q.attributes.max_vel=+q.target.value:Q=X,Q})})})]}),L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"landing mode"}),L.jsx("div",{className:r.attributeValue,children:L.jsx(Yl,{emptyValue:null,fullWidth:!0,value:$.attributes.mode_landing?$.attributes.mode_landing:0,onChange:q=>t({...e,route:e.route.map(X=>{let Q=JSON.parse(JSON.stringify(X));return X===e.route[R]?Q.attributes.mode_landing=q.target.value:Q=X,Q})}),endpoint:"/api/category/atributesparam/dji_M300/mode_landing",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"Yaw mode"}),L.jsx("div",{className:r.attributeValue,children:L.jsx(Yl,{emptyValue:null,fullWidth:!0,value:$.attributes.mode_yaw?$.attributes.mode_yaw:0,onChange:q=>t({...e,route:e.route.map(X=>{let Q=JSON.parse(JSON.stringify(X));return X===e.route[R]?Q.attributes.mode_yaw=q.target.value:Q=X,Q})}),endpoint:"/api/category/atributesparam/dji_M300/mode_yaw",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),L.jsxs("div",{children:[L.jsxs(pn,{variant:"subtitle1",className:r.attributeName,children:[" ","Gimbal mode"," "]}),L.jsx("div",{className:r.attributeValue,children:L.jsx(Yl,{emptyValue:null,fullWidth:!0,value:$.attributes.mode_gimbal?$.attributes.mode_gimbal:0,onChange:q=>t({...e,route:e.route.map(X=>{let Q=JSON.parse(JSON.stringify(X));return X===e.route[R]?Q.attributes.mode_gimbal=q.target.value:Q=X,Q})}),endpoint:"/api/category/atributesparam/dji_M300/mode_gimbal",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"Trace mode:"}),L.jsx("div",{className:r.attributeValue,children:L.jsx(Yl,{emptyValue:null,fullWidth:!0,value:$.attributes.mode_trace?$.attributes.mode_trace:0,onChange:q=>t({...e,route:e.route.map(X=>{let Q=JSON.parse(JSON.stringify(X));return X===e.route[R]?Q.attributes.mode_trace=q.target.value:Q=X,Q})}),endpoint:"/api/category/atributesparam/dji_M300/mode_trace",keyGetter:q=>q.id,titleGetter:q=>q.name})})]})]},"fragment-route-atri-"+$.id)})]}),L.jsx(pn,{variant:"subtitle1",children:"Waypoints"}),Ee.Children.toArray(Object.values($.wp).map((q,X,Q)=>L.jsx(dPe,{mission:e,setmission:t,index_wp:X,index:R,waypoint:q,AddnewWp:A,expand_wp:y}))),L.jsx(Xl,{textAlign:"center",children:L.jsx(hr,{value:R,variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:q=>A(q.target.value,-1),children:"Add new Waypoint"})})]})})]}),R<F.length-1?L.jsx(rx,{}):null]},"fragment-route-"+R))),L.jsx(Xl,{textAlign:"center",children:L.jsx(hr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:O,children:"Add new Route"})})]})})})};var GD={},pPe=ur;Object.defineProperty(GD,"__esModule",{value:!0});var vx=GD.default=void 0,mPe=pPe(dr()),gPe=L,yPe=(0,mPe.default)((0,gPe.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");vx=GD.default=yPe;var HD={},vPe=ur;Object.defineProperty(HD,"__esModule",{value:!0});var EH=HD.default=void 0,bPe=vPe(dr()),xPe=L,_Pe=(0,bPe.default)((0,xPe.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");EH=HD.default=_Pe;var YD={},wPe=ur;Object.defineProperty(YD,"__esModule",{value:!0});var OH=YD.default=void 0,SPe=wPe(dr()),kPe=L,CPe=(0,SPe.default)((0,kPe.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");OH=YD.default=CPe;const TPe=qr(e=>({toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"}})),PPe=({SetOpenSave:e})=>{const t=TPe(),n=bg(),r=V.useContext(Vd),i=V.useRef(null),[o,s]=Ee.useState(!1),a=V.useContext(qD),f=()=>{s(S=>!S)},[h,g]=V.useState({name:"no mission",description:"",route:[]});V.useEffect(()=>{if(a.changeWp.route_id>=0)if(o){let S=JSON.parse(JSON.stringify(h.route)),O=a.changeWp.lat-S[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[0],A=a.changeWp.lng-S[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[1],M=S[a.changeWp.route_id].wp.map(I=>{let N=I;return N.pos[0]=O+I.pos[0],N.pos[1]=A+I.pos[1],N});S[a.changeWp.route_id].wp=M,g({...h,route:S})}else{let S=JSON.parse(JSON.stringify(h.route));S[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[0]=a.changeWp.lat,S[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[1]=a.changeWp.lng,g({...h,route:S})}},[a.changeWp]);const y=S=>{console.log("scrool"+S),i.current.scroll&&setTimeout(()=>{i.current.scroll(0,S)},1e3)},x=S=>{const O=S.target.files[0];if(!O)return;const A=new FileReader;A.readAsText(O),A.onload=()=>{console.log(A.result),console.log(O.name),r.openMision(O.name,A.result)},A.onerror=()=>{console.log(A.error)}},P=()=>{g({name:"no mission",description:"",route:[]})},E=()=>{console.log("save mission"),e(!0)};return L.jsxs(V.Fragment,{children:[L.jsxs(Cg,{className:t.toolbar,children:[L.jsx(Gn,{edge:"start",sx:{mr:2},onClick:()=>n(-1),children:L.jsx(vx,{})}),L.jsx(pn,{variant:"h6",className:t.title,children:"Mission Task"}),L.jsx(pn,{children:"Group Route"}),L.jsx(Cye,{checked:o,onChange:f,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),L.jsx(Gn,{onClick:E,children:L.jsx(OH,{})}),L.jsx(Gn,{onClick:P,children:L.jsx(_h,{})}),L.jsxs("label",{htmlFor:"upload-gpx",children:[L.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:t.fileInput,onChange:x}),L.jsx(Gn,{edge:"end",component:"span",onClick:()=>{},children:L.jsx(EH,{})})]})]}),L.jsx("div",{ref:i,className:t.list,children:L.jsx(hPe,{mission:h,setmission:g,setScrool:y})})]})};var EPe=Array.isArray,Ra=EPe,OPe=typeof Nv=="object"&&Nv&&Nv.Object===Object&&Nv,MH=OPe,MPe=MH,APe=typeof self=="object"&&self&&self.Object===Object&&self,IPe=MPe||APe||Function("return this")(),yc=IPe,$Pe=yc,RPe=$Pe.Symbol,bx=RPe,XB=bx,AH=Object.prototype,DPe=AH.hasOwnProperty,LPe=AH.toString,Ev=XB?XB.toStringTag:void 0;function jPe(e){var t=DPe.call(e,Ev),n=e[Ev];try{e[Ev]=void 0;var r=!0}catch{}var i=LPe.call(e);return r&&(t?e[Ev]=n:delete e[Ev]),i}var NPe=jPe,zPe=Object.prototype,BPe=zPe.toString;function FPe(e){return BPe.call(e)}var UPe=FPe,JB=bx,VPe=NPe,WPe=UPe,qPe="[object Null]",GPe="[object Undefined]",QB=JB?JB.toStringTag:void 0;function HPe(e){return e==null?e===void 0?GPe:qPe:QB&&QB in Object(e)?VPe(e):WPe(e)}var Cu=HPe;function YPe(e){return e!=null&&typeof e=="object"}var Tu=YPe,KPe=Cu,ZPe=Tu,XPe="[object Symbol]";function JPe(e){return typeof e=="symbol"||ZPe(e)&&KPe(e)==XPe}var Lg=JPe,QPe=Ra,eEe=Lg,tEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nEe=/^\w*$/;function rEe(e,t){if(QPe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||eEe(e)?!0:nEe.test(e)||!tEe.test(e)||t!=null&&e in Object(t)}var KD=rEe;function iEe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zd=iEe;const jg=mr(Zd);var oEe=Cu,aEe=Zd,sEe="[object AsyncFunction]",lEe="[object Function]",cEe="[object GeneratorFunction]",uEe="[object Proxy]";function dEe(e){if(!aEe(e))return!1;var t=oEe(e);return t==lEe||t==cEe||t==sEe||t==uEe}var ZD=dEe;const Nn=mr(ZD);var fEe=yc,hEe=fEe["__core-js_shared__"],pEe=hEe,UE=pEe,e4=function(){var e=/[^.]+$/.exec(UE&&UE.keys&&UE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function mEe(e){return!!e4&&e4 in e}var gEe=mEe,yEe=Function.prototype,vEe=yEe.toString;function bEe(e){if(e!=null){try{return vEe.call(e)}catch{}try{return e+""}catch{}}return""}var IH=bEe,xEe=ZD,_Ee=gEe,wEe=Zd,SEe=IH,kEe=/[\\^$.*+?()[\]{}|]/g,CEe=/^\[object .+?Constructor\]$/,TEe=Function.prototype,PEe=Object.prototype,EEe=TEe.toString,OEe=PEe.hasOwnProperty,MEe=RegExp("^"+EEe.call(OEe).replace(kEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AEe(e){if(!wEe(e)||_Ee(e))return!1;var t=xEe(e)?MEe:CEe;return t.test(SEe(e))}var IEe=AEe;function $Ee(e,t){return e==null?void 0:e[t]}var REe=$Ee,DEe=IEe,LEe=REe;function jEe(e,t){var n=LEe(e,t);return DEe(n)?n:void 0}var Oh=jEe,NEe=Oh,zEe=NEe(Object,"create"),uC=zEe,t4=uC;function BEe(){this.__data__=t4?t4(null):{},this.size=0}var FEe=BEe;function UEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var VEe=UEe,WEe=uC,qEe="__lodash_hash_undefined__",GEe=Object.prototype,HEe=GEe.hasOwnProperty;function YEe(e){var t=this.__data__;if(WEe){var n=t[e];return n===qEe?void 0:n}return HEe.call(t,e)?t[e]:void 0}var KEe=YEe,ZEe=uC,XEe=Object.prototype,JEe=XEe.hasOwnProperty;function QEe(e){var t=this.__data__;return ZEe?t[e]!==void 0:JEe.call(t,e)}var eOe=QEe,tOe=uC,nOe="__lodash_hash_undefined__";function rOe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tOe&&t===void 0?nOe:t,this}var iOe=rOe,oOe=FEe,aOe=VEe,sOe=KEe,lOe=eOe,cOe=iOe;function Ng(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ng.prototype.clear=oOe;Ng.prototype.delete=aOe;Ng.prototype.get=sOe;Ng.prototype.has=lOe;Ng.prototype.set=cOe;var uOe=Ng;function dOe(){this.__data__=[],this.size=0}var fOe=dOe;function hOe(e,t){return e===t||e!==e&&t!==t}var XD=hOe,pOe=XD;function mOe(e,t){for(var n=e.length;n--;)if(pOe(e[n][0],t))return n;return-1}var dC=mOe,gOe=dC,yOe=Array.prototype,vOe=yOe.splice;function bOe(e){var t=this.__data__,n=gOe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():vOe.call(t,n,1),--this.size,!0}var xOe=bOe,_Oe=dC;function wOe(e){var t=this.__data__,n=_Oe(t,e);return n<0?void 0:t[n][1]}var SOe=wOe,kOe=dC;function COe(e){return kOe(this.__data__,e)>-1}var TOe=COe,POe=dC;function EOe(e,t){var n=this.__data__,r=POe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var OOe=EOe,MOe=fOe,AOe=xOe,IOe=SOe,$Oe=TOe,ROe=OOe;function zg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zg.prototype.clear=MOe;zg.prototype.delete=AOe;zg.prototype.get=IOe;zg.prototype.has=$Oe;zg.prototype.set=ROe;var fC=zg,DOe=Oh,LOe=yc,jOe=DOe(LOe,"Map"),JD=jOe,n4=uOe,NOe=fC,zOe=JD;function BOe(){this.size=0,this.__data__={hash:new n4,map:new(zOe||NOe),string:new n4}}var FOe=BOe;function UOe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var VOe=UOe,WOe=VOe;function qOe(e,t){var n=e.__data__;return WOe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var hC=qOe,GOe=hC;function HOe(e){var t=GOe(this,e).delete(e);return this.size-=t?1:0,t}var YOe=HOe,KOe=hC;function ZOe(e){return KOe(this,e).get(e)}var XOe=ZOe,JOe=hC;function QOe(e){return JOe(this,e).has(e)}var eMe=QOe,tMe=hC;function nMe(e,t){var n=tMe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var rMe=nMe,iMe=FOe,oMe=YOe,aMe=XOe,sMe=eMe,lMe=rMe;function Bg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bg.prototype.clear=iMe;Bg.prototype.delete=oMe;Bg.prototype.get=aMe;Bg.prototype.has=sMe;Bg.prototype.set=lMe;var QD=Bg,$H=QD,cMe="Expected a function";function eL(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cMe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(eL.Cache||$H),n}eL.Cache=$H;var uMe=eL,dMe=uMe,fMe=500;function hMe(e){var t=dMe(e,function(r){return n.size===fMe&&n.clear(),r}),n=t.cache;return t}var pMe=hMe,mMe=pMe,gMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yMe=/\\(\\)?/g,vMe=mMe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gMe,function(n,r,i,o){t.push(i?o.replace(yMe,"$1"):r||n)}),t}),bMe=vMe;function xMe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var tL=xMe,r4=bx,_Me=tL,wMe=Ra,SMe=Lg,kMe=1/0,i4=r4?r4.prototype:void 0,o4=i4?i4.toString:void 0;function RH(e){if(typeof e=="string")return e;if(wMe(e))return _Me(e,RH)+"";if(SMe(e))return o4?o4.call(e):"";var t=e+"";return t=="0"&&1/e==-kMe?"-0":t}var CMe=RH,TMe=CMe;function PMe(e){return e==null?"":TMe(e)}var DH=PMe,EMe=Ra,OMe=KD,MMe=bMe,AMe=DH;function IMe(e,t){return EMe(e)?e:OMe(e,t)?[e]:MMe(AMe(e))}var LH=IMe,$Me=Lg,RMe=1/0;function DMe(e){if(typeof e=="string"||$Me(e))return e;var t=e+"";return t=="0"&&1/e==-RMe?"-0":t}var pC=DMe,LMe=LH,jMe=pC;function NMe(e,t){t=LMe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[jMe(t[n++])];return n&&n==r?e:void 0}var nL=NMe,zMe=nL;function BMe(e,t,n){var r=e==null?void 0:zMe(e,t);return r===void 0?n:r}var jH=BMe;const Rs=mr(jH);function FMe(e){return e==null}var UMe=FMe;const Hn=mr(UMe);var VMe=Cu,WMe=Ra,qMe=Tu,GMe="[object String]";function HMe(e){return typeof e=="string"||!WMe(e)&&qMe(e)&&VMe(e)==GMe}var YMe=HMe;const xx=mr(YMe);var NH={exports:{}},vr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=typeof Symbol=="function"&&Symbol.for,rL=ao?Symbol.for("react.element"):60103,iL=ao?Symbol.for("react.portal"):60106,mC=ao?Symbol.for("react.fragment"):60107,gC=ao?Symbol.for("react.strict_mode"):60108,yC=ao?Symbol.for("react.profiler"):60114,vC=ao?Symbol.for("react.provider"):60109,bC=ao?Symbol.for("react.context"):60110,oL=ao?Symbol.for("react.async_mode"):60111,xC=ao?Symbol.for("react.concurrent_mode"):60111,_C=ao?Symbol.for("react.forward_ref"):60112,wC=ao?Symbol.for("react.suspense"):60113,KMe=ao?Symbol.for("react.suspense_list"):60120,SC=ao?Symbol.for("react.memo"):60115,kC=ao?Symbol.for("react.lazy"):60116,ZMe=ao?Symbol.for("react.block"):60121,XMe=ao?Symbol.for("react.fundamental"):60117,JMe=ao?Symbol.for("react.responder"):60118,QMe=ao?Symbol.for("react.scope"):60119;function as(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rL:switch(e=e.type,e){case oL:case xC:case mC:case yC:case gC:case wC:return e;default:switch(e=e&&e.$$typeof,e){case bC:case _C:case kC:case SC:case vC:return e;default:return t}}case iL:return t}}}function zH(e){return as(e)===xC}vr.AsyncMode=oL;vr.ConcurrentMode=xC;vr.ContextConsumer=bC;vr.ContextProvider=vC;vr.Element=rL;vr.ForwardRef=_C;vr.Fragment=mC;vr.Lazy=kC;vr.Memo=SC;vr.Portal=iL;vr.Profiler=yC;vr.StrictMode=gC;vr.Suspense=wC;vr.isAsyncMode=function(e){return zH(e)||as(e)===oL};vr.isConcurrentMode=zH;vr.isContextConsumer=function(e){return as(e)===bC};vr.isContextProvider=function(e){return as(e)===vC};vr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rL};vr.isForwardRef=function(e){return as(e)===_C};vr.isFragment=function(e){return as(e)===mC};vr.isLazy=function(e){return as(e)===kC};vr.isMemo=function(e){return as(e)===SC};vr.isPortal=function(e){return as(e)===iL};vr.isProfiler=function(e){return as(e)===yC};vr.isStrictMode=function(e){return as(e)===gC};vr.isSuspense=function(e){return as(e)===wC};vr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mC||e===xC||e===yC||e===gC||e===wC||e===KMe||typeof e=="object"&&e!==null&&(e.$$typeof===kC||e.$$typeof===SC||e.$$typeof===vC||e.$$typeof===bC||e.$$typeof===_C||e.$$typeof===XMe||e.$$typeof===JMe||e.$$typeof===QMe||e.$$typeof===ZMe)};vr.typeOf=as;NH.exports=vr;var sA=NH.exports,eAe=Cu,tAe=Tu,nAe="[object Number]";function rAe(e){return typeof e=="number"||tAe(e)&&eAe(e)==nAe}var BH=rAe;const iAe=mr(BH);var oAe=BH;function aAe(e){return oAe(e)&&e!=+e}var sAe=aAe;const _x=mr(sAe);var kl=function(t){return t===0?0:t>0?1:-1},Gf=function(t){return xx(t)&&t.indexOf("%")===t.length-1},Et=function(t){return iAe(t)&&!_x(t)},qi=function(t){return Et(t)||xx(t)},lAe=0,wx=function(t){var n=++lAe;return"".concat(t||"").concat(n)},Km=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Et(t)&&!xx(t))return r;var o;if(Gf(t)){var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return _x(o)&&(o=r),i&&o>n&&(o=n),o},rd=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},cAe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},ml=function(t,n){return Et(t)&&Et(n)?function(r){return t+r*(n-t)}:function(){return n}};function gS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Rs(r,t))===n})}function km(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function lA(e){"@babel/helpers - typeof";return lA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lA(e)}var uAe=["viewBox","children"],dAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],a4=["points","pathLength"],VE={svg:uAe,polygon:a4,polyline:a4},aL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(V.isValidElement(t)&&(r=t.props),!jg(r))return null;var i={};return Object.keys(r).forEach(function(o){aL.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},fAe=function(t,n,r){return function(i){return t(n,r,i),null}},vS=function(t,n,r){if(!jg(t)||lA(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var s=t[o];aL.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=fAe(s,n,r))}),i},hAe=["children"],pAe=["children"];function s4(e,t){if(e==null)return{};var n=mAe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function cA(e){"@babel/helpers - typeof";return cA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cA(e)}var l4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},tu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},c4=null,WE=null,sL=function e(t){if(t===c4&&Array.isArray(WE))return WE;var n=[];return V.Children.forEach(t,function(r){Hn(r)||(sA.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),WE=n,c4=t,n};function Ds(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return tu(i)}):r=[tu(t)],sL(e).forEach(function(i){var o=Rs(i,"type.displayName")||Rs(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Kc(e,t){var n=Ds(e,t);return n&&n[0]}var u4=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Et(r)||r<=0||!Et(i)||i<=0)},gAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yAe=function(t){return t&&t.type&&xx(t.type)&&gAe.indexOf(t.type)>=0},vAe=function(t){return t&&cA(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},bAe=function(t,n,r,i){var o,s=(o=VE==null?void 0:VE[i])!==null&&o!==void 0?o:[];return!Nn(t)&&(i&&s.includes(n)||dAe.includes(n))||r&&aL.includes(n)},Vn=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(V.isValidElement(t)&&(i=t.props),!jg(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;bAe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},FH=function e(t,n){if(t===n)return!0;var r=V.Children.count(t);if(r!==V.Children.count(n))return!1;if(r===0)return!0;if(r===1)return d4(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!d4(o,s))return!1}return!0},d4=function(t,n){if(Hn(t)&&Hn(n))return!0;if(!Hn(t)&&!Hn(n)){var r=t.props||{},i=r.children,o=s4(r,hAe),s=n.props||{},a=s.children,f=s4(s,pAe);return i&&a?km(o,f)&&FH(i,a):!i&&!a?km(o,f):!1}return!1},f4=function(t,n){var r=[],i={};return sL(t).forEach(function(o,s){if(yAe(o))r.push(o);else if(o){var a=tu(o.type),f=n[a]||{},h=f.handler,g=f.once;if(h&&(!g||!i[a])){var y=h(o,a,s);r.push(y),i[a]=!0}}}),r},xAe=function(t){var n=t&&t.type;return n&&l4[n]?l4[n]:null},_Ae=function(t,n){return sL(n).indexOf(t)},wAe=["children","width","height","viewBox","className","style","title","desc"];function uA(){return uA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uA.apply(this,arguments)}function SAe(e,t){if(e==null)return{};var n=kAe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function dA(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,s=e.style,a=e.title,f=e.desc,h=SAe(e,wAe),g=i||{width:n,height:r,x:0,y:0},y=rt("recharts-surface",o);return Ee.createElement("svg",uA({},Vn(h,!0,"svg"),{className:y,width:n,height:r,style:s,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),Ee.createElement("title",null,a),Ee.createElement("desc",null,f),t)}var CAe=["children","className"];function fA(){return fA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fA.apply(this,arguments)}function TAe(e,t){if(e==null)return{};var n=PAe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Pi=Ee.forwardRef(function(e,t){var n=e.children,r=e.className,i=TAe(e,CAe),o=rt("recharts-layer",r);return Ee.createElement("g",fA({className:o},Vn(i,!0),{ref:t}),n)}),ih=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function EAe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var OAe=EAe,MAe=OAe;function AAe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:MAe(e,t,n)}var IAe=AAe,$Ae="\\ud800-\\udfff",RAe="\\u0300-\\u036f",DAe="\\ufe20-\\ufe2f",LAe="\\u20d0-\\u20ff",jAe=RAe+DAe+LAe,NAe="\\ufe0e\\ufe0f",zAe="\\u200d",BAe=RegExp("["+zAe+$Ae+jAe+NAe+"]");function FAe(e){return BAe.test(e)}var UH=FAe;function UAe(e){return e.split("")}var VAe=UAe,VH="\\ud800-\\udfff",WAe="\\u0300-\\u036f",qAe="\\ufe20-\\ufe2f",GAe="\\u20d0-\\u20ff",HAe=WAe+qAe+GAe,YAe="\\ufe0e\\ufe0f",KAe="["+VH+"]",hA="["+HAe+"]",pA="\\ud83c[\\udffb-\\udfff]",ZAe="(?:"+hA+"|"+pA+")",WH="[^"+VH+"]",qH="(?:\\ud83c[\\udde6-\\uddff]){2}",GH="[\\ud800-\\udbff][\\udc00-\\udfff]",XAe="\\u200d",HH=ZAe+"?",YH="["+YAe+"]?",JAe="(?:"+XAe+"(?:"+[WH,qH,GH].join("|")+")"+YH+HH+")*",QAe=YH+HH+JAe,eIe="(?:"+[WH+hA+"?",hA,qH,GH,KAe].join("|")+")",tIe=RegExp(pA+"(?="+pA+")|"+eIe+QAe,"g");function nIe(e){return e.match(tIe)||[]}var rIe=nIe,iIe=VAe,oIe=UH,aIe=rIe;function sIe(e){return oIe(e)?aIe(e):iIe(e)}var lIe=sIe,cIe=IAe,uIe=UH,dIe=lIe,fIe=DH;function hIe(e){return function(t){t=fIe(t);var n=uIe(t)?dIe(t):void 0,r=n?n[0]:t.charAt(0),i=n?cIe(n,1).join(""):t.slice(1);return r[e]()+i}}var pIe=hIe,mIe=pIe,gIe=mIe("toUpperCase"),yIe=gIe;const CC=mr(yIe);function Rr(e){return function(){return e}}const KH=Math.cos,bS=Math.sin,$l=Math.sqrt,xS=Math.PI,TC=2*xS,mA=Math.PI,gA=2*mA,$f=1e-6,vIe=gA-$f;function ZH(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bIe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZH;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xIe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZH:bIe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,f=r-t,h=i-n,g=s-t,y=a-n,x=g*g+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>$f)if(!(Math.abs(y*f-h*g)>$f)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let P=r-s,E=i-a,S=f*f+h*h,O=P*P+E*E,A=Math.sqrt(S),M=Math.sqrt(x),I=o*Math.tan((mA-Math.acos((S+x-O)/(2*A*M)))/2),N=I/M,$=I/A;Math.abs(N-1)>$f&&this._append`L${t+N*g},${n+N*y}`,this._append`A${o},${o},0,0,${+(y*P>g*E)},${this._x1=t+$*f},${this._y1=n+$*h}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),f=r*Math.sin(i),h=t+a,g=n+f,y=1^s,x=s?i-o:o-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>$f||Math.abs(this._y1-g)>$f)&&this._append`L${h},${g}`,r&&(x<0&&(x=x%gA+gA),x>vIe?this._append`A${r},${r},0,1,${y},${t-a},${n-f}A${r},${r},0,1,${y},${this._x1=h},${this._y1=g}`:x>$f&&this._append`A${r},${r},0,${+(x>=mA)},${y},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new xIe(t)}function cL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XH(e){this._context=e}XH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function PC(e){return new XH(e)}function JH(e){return e[0]}function QH(e){return e[1]}function eY(e,t){var n=Rr(!0),r=null,i=PC,o=null,s=lL(a);e=typeof e=="function"?e:e===void 0?JH:Rr(e),t=typeof t=="function"?t:t===void 0?QH:Rr(t);function a(f){var h,g=(f=cL(f)).length,y,x=!1,P;for(r==null&&(o=i(P=s())),h=0;h<=g;++h)!(h<g&&n(y=f[h],h,f))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(y,h,f),+t(y,h,f));if(P)return o=null,P+""||null}return a.x=function(f){return arguments.length?(e=typeof f=="function"?f:Rr(+f),a):e},a.y=function(f){return arguments.length?(t=typeof f=="function"?f:Rr(+f),a):t},a.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Rr(!!f),a):n},a.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),a):i},a.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),a):r},a}function C1(e,t,n){var r=null,i=Rr(!0),o=null,s=PC,a=null,f=lL(h);e=typeof e=="function"?e:e===void 0?JH:Rr(+e),t=typeof t=="function"?t:Rr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?QH:Rr(+n);function h(y){var x,P,E,S=(y=cL(y)).length,O,A=!1,M,I=new Array(S),N=new Array(S);for(o==null&&(a=s(M=f())),x=0;x<=S;++x){if(!(x<S&&i(O=y[x],x,y))===A)if(A=!A)P=x,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),E=x-1;E>=P;--E)a.point(I[E],N[E]);a.lineEnd(),a.areaEnd()}A&&(I[x]=+e(O,x,y),N[x]=+t(O,x,y),a.point(r?+r(O,x,y):I[x],n?+n(O,x,y):N[x]))}if(M)return a=null,M+""||null}function g(){return eY().defined(i).curve(s).context(o)}return h.x=function(y){return arguments.length?(e=typeof y=="function"?y:Rr(+y),r=null,h):e},h.x0=function(y){return arguments.length?(e=typeof y=="function"?y:Rr(+y),h):e},h.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Rr(+y),h):r},h.y=function(y){return arguments.length?(t=typeof y=="function"?y:Rr(+y),n=null,h):t},h.y0=function(y){return arguments.length?(t=typeof y=="function"?y:Rr(+y),h):t},h.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Rr(+y),h):n},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(n)},h.lineX1=function(){return g().x(r).y(t)},h.defined=function(y){return arguments.length?(i=typeof y=="function"?y:Rr(!!y),h):i},h.curve=function(y){return arguments.length?(s=y,o!=null&&(a=s(o)),h):s},h.context=function(y){return arguments.length?(y==null?o=a=null:a=s(o=y),h):o},h}class tY{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function _Ie(e){return new tY(e,!0)}function wIe(e){return new tY(e,!1)}const uL={draw(e,t){const n=$l(t/xS);e.moveTo(n,0),e.arc(0,0,n,0,TC)}},SIe={draw(e,t){const n=$l(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},nY=$l(1/3),kIe=nY*2,CIe={draw(e,t){const n=$l(t/kIe),r=n*nY;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},TIe={draw(e,t){const n=$l(t),r=-n/2;e.rect(r,r,n,n)}},PIe=.8908130915292852,rY=bS(xS/10)/bS(7*xS/10),EIe=bS(TC/10)*rY,OIe=-KH(TC/10)*rY,MIe={draw(e,t){const n=$l(t*PIe),r=EIe*n,i=OIe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=TC*o/5,a=KH(s),f=bS(s);e.lineTo(f*n,-a*n),e.lineTo(a*r-f*i,f*r+a*i)}e.closePath()}},qE=$l(3),AIe={draw(e,t){const n=-$l(t/(qE*3));e.moveTo(0,n*2),e.lineTo(-qE*n,-n),e.lineTo(qE*n,-n),e.closePath()}},ys=-.5,vs=$l(3)/2,yA=1/$l(12),IIe=(yA/2+1)*3,$Ie={draw(e,t){const n=$l(t/IIe),r=n/2,i=n*yA,o=r,s=n*yA+n,a=-o,f=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,f),e.lineTo(ys*r-vs*i,vs*r+ys*i),e.lineTo(ys*o-vs*s,vs*o+ys*s),e.lineTo(ys*a-vs*f,vs*a+ys*f),e.lineTo(ys*r+vs*i,ys*i-vs*r),e.lineTo(ys*o+vs*s,ys*s-vs*o),e.lineTo(ys*a+vs*f,ys*f-vs*a),e.closePath()}};function RIe(e,t){let n=null,r=lL(i);e=typeof e=="function"?e:Rr(e||uL),t=typeof t=="function"?t:Rr(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Rr(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Rr(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function _S(){}function wS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function iY(e){this._context=e}iY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DIe(e){return new iY(e)}function oY(e){this._context=e}oY.prototype={areaStart:_S,areaEnd:_S,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LIe(e){return new oY(e)}function aY(e){this._context=e}aY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:wS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jIe(e){return new aY(e)}function sY(e){this._context=e}sY.prototype={areaStart:_S,areaEnd:_S,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function NIe(e){return new sY(e)}function h4(e){return e<0?-1:1}function p4(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(h4(o)+h4(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function m4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function GE(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function SS(e){this._context=e}SS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:GE(this,this._t0,m4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,GE(this,m4(this,n=p4(this,e,t)),n);break;default:GE(this,this._t0,n=p4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function lY(e){this._context=new cY(e)}(lY.prototype=Object.create(SS.prototype)).point=function(e,t){SS.prototype.point.call(this,t,e)};function cY(e){this._context=e}cY.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function zIe(e){return new SS(e)}function BIe(e){return new lY(e)}function uY(e){this._context=e}uY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=g4(e),i=g4(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function g4(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function FIe(e){return new uY(e)}function EC(e,t){this._context=e,this._t=t}EC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function UIe(e){return new EC(e,.5)}function VIe(e){return new EC(e,0)}function WIe(e){return new EC(e,1)}function Zm(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vA(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function qIe(e,t){return e[t]}function GIe(e){const t=[];return t.key=e,t}function HIe(){var e=Rr([]),t=vA,n=Zm,r=qIe;function i(o){var s=Array.from(e.apply(this,arguments),GIe),a,f=s.length,h=-1,g;for(const y of o)for(a=0,++h;a<f;++a)(s[a][h]=[0,+r(y,s[a].key,h,o)]).data=y;for(a=0,g=cL(t(s));a<f;++a)s[g[a]].index=a;return n(s,g),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Rr(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Rr(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?vA:typeof o=="function"?o:Rr(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Zm,i):n},i}function YIe(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Zm(e,t)}}function KIe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Zm(e,t)}}function ZIe(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,f=0,h=0;a<s;++a){for(var g=e[t[a]],y=g[r][1]||0,x=g[r-1][1]||0,P=(y-x)/2,E=0;E<a;++E){var S=e[t[E]],O=S[r][1]||0,A=S[r-1][1]||0;P+=O-A}f+=y,h+=P*y}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Zm(e,t)}}function lb(e){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lb(e)}var XIe=["type","size","sizeType"];function bA(){return bA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bA.apply(this,arguments)}function y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(n),!0).forEach(function(r){JIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JIe(e,t,n){return t=QIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QIe(e){var t=e$e(e,"string");return lb(t)==="symbol"?t:String(t)}function e$e(e,t){if(lb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t$e(e,t){if(e==null)return{};var n=n$e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function n$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var dY={symbolCircle:uL,symbolCross:SIe,symbolDiamond:CIe,symbolSquare:TIe,symbolStar:MIe,symbolTriangle:AIe,symbolWye:$Ie},r$e=Math.PI/180,i$e=function(t){var n="symbol".concat(CC(t));return dY[n]||uL},o$e=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*r$e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},a$e=function(t,n){dY["symbol".concat(CC(t))]=n},dL=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,s=t.sizeType,a=s===void 0?"area":s,f=t$e(t,XIe),h=v4(v4({},f),{},{type:r,size:o,sizeType:a}),g=function(){var O=i$e(r),A=RIe().type(O).size(o$e(o,a,r));return A()},y=h.className,x=h.cx,P=h.cy,E=Vn(h,!0);return x===+x&&P===+P&&o===+o?Ee.createElement("path",bA({},E,{className:rt("recharts-symbols",y),transform:"translate(".concat(x,", ").concat(P,")"),d:g()})):null};dL.registerSymbol=a$e;function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function xA(){return xA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xA.apply(this,arguments)}function b4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s$e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(n),!0).forEach(function(r){cb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fY(r.key),r)}}function c$e(e,t,n){return t&&x4(e.prototype,t),n&&x4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_A(e,t)}function _A(e,t){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_A(e,t)}function d$e(e){var t=p$e();return function(){var r=kS(e),i;if(t){var o=kS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return f$e(this,i)}}function f$e(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h$e(e)}function h$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kS(e){return kS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kS(e)}function cb(e,t,n){return t=fY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fY(e){var t=m$e(e,"string");return Xm(t)==="symbol"?t:String(t)}function m$e(e,t){if(Xm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bs=32,fL=function(e){u$e(n,e);var t=d$e(n);function n(){return l$e(this,n),t.apply(this,arguments)}return c$e(n,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,s=bs/2,a=bs/6,f=bs/3,h=i.inactive?o:i.color;if(i.type==="plainline")return Ee.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:bs,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return Ee.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(s,"h").concat(f,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*f,",").concat(s,`
            H`).concat(bs,"M").concat(2*f,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(f,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return Ee.createElement("path",{stroke:"none",fill:h,d:"M0,".concat(bs/8,"h").concat(bs,"v").concat(bs*3/4,"h").concat(-bs,"z"),className:"recharts-legend-icon"});if(Ee.isValidElement(i.legendIcon)){var g=s$e({},i);return delete g.legendIcon,Ee.cloneElement(i.legendIcon,g)}return Ee.createElement(dL,{fill:h,cx:s,cy:s,size:bs,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,s=o.payload,a=o.iconSize,f=o.layout,h=o.formatter,g=o.inactiveColor,y={x:0,y:0,width:bs,height:bs},x={display:f==="horizontal"?"inline-block":"block",marginRight:10},P={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(E,S){var O,A=E.formatter||h,M=rt((O={"recharts-legend-item":!0},cb(O,"legend-item-".concat(S),!0),cb(O,"inactive",E.inactive),O));if(E.type==="none")return null;var I=Nn(E.value)?null:E.value;ih(!Nn(E.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=E.inactive?g:E.color;return Ee.createElement("li",xA({className:M,style:x,key:"legend-item-".concat(S)},vS(i.props,E,S)),Ee.createElement(dA,{width:a,height:a,viewBox:y,style:P},i.renderIcon(E)),Ee.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},A?A(I,E,S):I))})}},{key:"render",value:function(){var i=this.props,o=i.payload,s=i.layout,a=i.align;if(!o||!o.length)return null;var f={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return Ee.createElement("ul",{className:"recharts-default-legend",style:f},this.renderItems())}}]),n}(V.PureComponent);cb(fL,"displayName","Legend");cb(fL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var g$e=fC;function y$e(){this.__data__=new g$e,this.size=0}var v$e=y$e;function b$e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var x$e=b$e;function _$e(e){return this.__data__.get(e)}var w$e=_$e;function S$e(e){return this.__data__.has(e)}var k$e=S$e,C$e=fC,T$e=JD,P$e=QD,E$e=200;function O$e(e,t){var n=this.__data__;if(n instanceof C$e){var r=n.__data__;if(!T$e||r.length<E$e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new P$e(r)}return n.set(e,t),this.size=n.size,this}var M$e=O$e,A$e=fC,I$e=v$e,$$e=x$e,R$e=w$e,D$e=k$e,L$e=M$e;function Fg(e){var t=this.__data__=new A$e(e);this.size=t.size}Fg.prototype.clear=I$e;Fg.prototype.delete=$$e;Fg.prototype.get=R$e;Fg.prototype.has=D$e;Fg.prototype.set=L$e;var hY=Fg,j$e="__lodash_hash_undefined__";function N$e(e){return this.__data__.set(e,j$e),this}var z$e=N$e;function B$e(e){return this.__data__.has(e)}var F$e=B$e,U$e=QD,V$e=z$e,W$e=F$e;function CS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new U$e;++t<n;)this.add(e[t])}CS.prototype.add=CS.prototype.push=V$e;CS.prototype.has=W$e;var pY=CS;function q$e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var mY=q$e;function G$e(e,t){return e.has(t)}var gY=G$e,H$e=pY,Y$e=mY,K$e=gY,Z$e=1,X$e=2;function J$e(e,t,n,r,i,o){var s=n&Z$e,a=e.length,f=t.length;if(a!=f&&!(s&&f>a))return!1;var h=o.get(e),g=o.get(t);if(h&&g)return h==t&&g==e;var y=-1,x=!0,P=n&X$e?new H$e:void 0;for(o.set(e,t),o.set(t,e);++y<a;){var E=e[y],S=t[y];if(r)var O=s?r(S,E,y,t,e,o):r(E,S,y,e,t,o);if(O!==void 0){if(O)continue;x=!1;break}if(P){if(!Y$e(t,function(A,M){if(!K$e(P,M)&&(E===A||i(E,A,n,r,o)))return P.push(M)})){x=!1;break}}else if(!(E===S||i(E,S,n,r,o))){x=!1;break}}return o.delete(e),o.delete(t),x}var yY=J$e,Q$e=yc,eRe=Q$e.Uint8Array,tRe=eRe;function nRe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var rRe=nRe;function iRe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var hL=iRe,_4=bx,w4=tRe,oRe=XD,aRe=yY,sRe=rRe,lRe=hL,cRe=1,uRe=2,dRe="[object Boolean]",fRe="[object Date]",hRe="[object Error]",pRe="[object Map]",mRe="[object Number]",gRe="[object RegExp]",yRe="[object Set]",vRe="[object String]",bRe="[object Symbol]",xRe="[object ArrayBuffer]",_Re="[object DataView]",S4=_4?_4.prototype:void 0,HE=S4?S4.valueOf:void 0;function wRe(e,t,n,r,i,o,s){switch(n){case _Re:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xRe:return!(e.byteLength!=t.byteLength||!o(new w4(e),new w4(t)));case dRe:case fRe:case mRe:return oRe(+e,+t);case hRe:return e.name==t.name&&e.message==t.message;case gRe:case vRe:return e==t+"";case pRe:var a=sRe;case yRe:var f=r&cRe;if(a||(a=lRe),e.size!=t.size&&!f)return!1;var h=s.get(e);if(h)return h==t;r|=uRe,s.set(e,t);var g=aRe(a(e),a(t),r,i,o,s);return s.delete(e),g;case bRe:if(HE)return HE.call(e)==HE.call(t)}return!1}var SRe=wRe;function kRe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var vY=kRe,CRe=vY,TRe=Ra;function PRe(e,t,n){var r=t(e);return TRe(e)?r:CRe(r,n(e))}var ERe=PRe;function ORe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var MRe=ORe;function ARe(){return[]}var IRe=ARe,$Re=MRe,RRe=IRe,DRe=Object.prototype,LRe=DRe.propertyIsEnumerable,k4=Object.getOwnPropertySymbols,jRe=k4?function(e){return e==null?[]:(e=Object(e),$Re(k4(e),function(t){return LRe.call(e,t)}))}:RRe,NRe=jRe;function zRe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var BRe=zRe,FRe=Cu,URe=Tu,VRe="[object Arguments]";function WRe(e){return URe(e)&&FRe(e)==VRe}var qRe=WRe,C4=qRe,GRe=Tu,bY=Object.prototype,HRe=bY.hasOwnProperty,YRe=bY.propertyIsEnumerable,KRe=C4(function(){return arguments}())?C4:function(e){return GRe(e)&&HRe.call(e,"callee")&&!YRe.call(e,"callee")},pL=KRe,TS={exports:{}};function ZRe(){return!1}var XRe=ZRe;TS.exports;(function(e,t){var n=yc,r=XRe,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,f=a?a.isBuffer:void 0,h=f||r;e.exports=h})(TS,TS.exports);var xY=TS.exports,JRe=9007199254740991,QRe=/^(?:0|[1-9]\d*)$/;function eDe(e,t){var n=typeof e;return t=t??JRe,!!t&&(n=="number"||n!="symbol"&&QRe.test(e))&&e>-1&&e%1==0&&e<t}var mL=eDe,tDe=9007199254740991;function nDe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tDe}var gL=nDe,rDe=Cu,iDe=gL,oDe=Tu,aDe="[object Arguments]",sDe="[object Array]",lDe="[object Boolean]",cDe="[object Date]",uDe="[object Error]",dDe="[object Function]",fDe="[object Map]",hDe="[object Number]",pDe="[object Object]",mDe="[object RegExp]",gDe="[object Set]",yDe="[object String]",vDe="[object WeakMap]",bDe="[object ArrayBuffer]",xDe="[object DataView]",_De="[object Float32Array]",wDe="[object Float64Array]",SDe="[object Int8Array]",kDe="[object Int16Array]",CDe="[object Int32Array]",TDe="[object Uint8Array]",PDe="[object Uint8ClampedArray]",EDe="[object Uint16Array]",ODe="[object Uint32Array]",Fr={};Fr[_De]=Fr[wDe]=Fr[SDe]=Fr[kDe]=Fr[CDe]=Fr[TDe]=Fr[PDe]=Fr[EDe]=Fr[ODe]=!0;Fr[aDe]=Fr[sDe]=Fr[bDe]=Fr[lDe]=Fr[xDe]=Fr[cDe]=Fr[uDe]=Fr[dDe]=Fr[fDe]=Fr[hDe]=Fr[pDe]=Fr[mDe]=Fr[gDe]=Fr[yDe]=Fr[vDe]=!1;function MDe(e){return oDe(e)&&iDe(e.length)&&!!Fr[rDe(e)]}var ADe=MDe;function IDe(e){return function(t){return e(t)}}var _Y=IDe,PS={exports:{}};PS.exports;(function(e,t){var n=MH,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(PS,PS.exports);var $De=PS.exports,RDe=ADe,DDe=_Y,T4=$De,P4=T4&&T4.isTypedArray,LDe=P4?DDe(P4):RDe,wY=LDe,jDe=BRe,NDe=pL,zDe=Ra,BDe=xY,FDe=mL,UDe=wY,VDe=Object.prototype,WDe=VDe.hasOwnProperty;function qDe(e,t){var n=zDe(e),r=!n&&NDe(e),i=!n&&!r&&BDe(e),o=!n&&!r&&!i&&UDe(e),s=n||r||i||o,a=s?jDe(e.length,String):[],f=a.length;for(var h in e)(t||WDe.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||FDe(h,f)))&&a.push(h);return a}var GDe=qDe,HDe=Object.prototype;function YDe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||HDe;return e===n}var KDe=YDe;function ZDe(e,t){return function(n){return e(t(n))}}var SY=ZDe,XDe=SY,JDe=XDe(Object.keys,Object),QDe=JDe,eLe=KDe,tLe=QDe,nLe=Object.prototype,rLe=nLe.hasOwnProperty;function iLe(e){if(!eLe(e))return tLe(e);var t=[];for(var n in Object(e))rLe.call(e,n)&&n!="constructor"&&t.push(n);return t}var oLe=iLe,aLe=ZD,sLe=gL;function lLe(e){return e!=null&&sLe(e.length)&&!aLe(e)}var Sx=lLe,cLe=GDe,uLe=oLe,dLe=Sx;function fLe(e){return dLe(e)?cLe(e):uLe(e)}var OC=fLe,hLe=ERe,pLe=NRe,mLe=OC;function gLe(e){return hLe(e,mLe,pLe)}var yLe=gLe,E4=yLe,vLe=1,bLe=Object.prototype,xLe=bLe.hasOwnProperty;function _Le(e,t,n,r,i,o){var s=n&vLe,a=E4(e),f=a.length,h=E4(t),g=h.length;if(f!=g&&!s)return!1;for(var y=f;y--;){var x=a[y];if(!(s?x in t:xLe.call(t,x)))return!1}var P=o.get(e),E=o.get(t);if(P&&E)return P==t&&E==e;var S=!0;o.set(e,t),o.set(t,e);for(var O=s;++y<f;){x=a[y];var A=e[x],M=t[x];if(r)var I=s?r(M,A,x,t,e,o):r(A,M,x,e,t,o);if(!(I===void 0?A===M||i(A,M,n,r,o):I)){S=!1;break}O||(O=x=="constructor")}if(S&&!O){var N=e.constructor,$=t.constructor;N!=$&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof $=="function"&&$ instanceof $)&&(S=!1)}return o.delete(e),o.delete(t),S}var wLe=_Le,SLe=Oh,kLe=yc,CLe=SLe(kLe,"DataView"),TLe=CLe,PLe=Oh,ELe=yc,OLe=PLe(ELe,"Promise"),MLe=OLe,ALe=Oh,ILe=yc,$Le=ALe(ILe,"Set"),kY=$Le,RLe=Oh,DLe=yc,LLe=RLe(DLe,"WeakMap"),jLe=LLe,wA=TLe,SA=JD,kA=MLe,CA=kY,TA=jLe,CY=Cu,Ug=IH,O4="[object Map]",NLe="[object Object]",M4="[object Promise]",A4="[object Set]",I4="[object WeakMap]",$4="[object DataView]",zLe=Ug(wA),BLe=Ug(SA),FLe=Ug(kA),ULe=Ug(CA),VLe=Ug(TA),Rf=CY;(wA&&Rf(new wA(new ArrayBuffer(1)))!=$4||SA&&Rf(new SA)!=O4||kA&&Rf(kA.resolve())!=M4||CA&&Rf(new CA)!=A4||TA&&Rf(new TA)!=I4)&&(Rf=function(e){var t=CY(e),n=t==NLe?e.constructor:void 0,r=n?Ug(n):"";if(r)switch(r){case zLe:return $4;case BLe:return O4;case FLe:return M4;case ULe:return A4;case VLe:return I4}return t});var WLe=Rf,YE=hY,qLe=yY,GLe=SRe,HLe=wLe,R4=WLe,D4=Ra,L4=xY,YLe=wY,KLe=1,j4="[object Arguments]",N4="[object Array]",T1="[object Object]",ZLe=Object.prototype,z4=ZLe.hasOwnProperty;function XLe(e,t,n,r,i,o){var s=D4(e),a=D4(t),f=s?N4:R4(e),h=a?N4:R4(t);f=f==j4?T1:f,h=h==j4?T1:h;var g=f==T1,y=h==T1,x=f==h;if(x&&L4(e)){if(!L4(t))return!1;s=!0,g=!1}if(x&&!g)return o||(o=new YE),s||YLe(e)?qLe(e,t,n,r,i,o):GLe(e,t,f,n,r,i,o);if(!(n&KLe)){var P=g&&z4.call(e,"__wrapped__"),E=y&&z4.call(t,"__wrapped__");if(P||E){var S=P?e.value():e,O=E?t.value():t;return o||(o=new YE),i(S,O,n,r,o)}}return x?(o||(o=new YE),HLe(e,t,n,r,i,o)):!1}var JLe=XLe,QLe=JLe,B4=Tu;function TY(e,t,n,r,i){return e===t?!0:e==null||t==null||!B4(e)&&!B4(t)?e!==e&&t!==t:QLe(e,t,n,r,TY,i)}var yL=TY,eje=hY,tje=yL,nje=1,rje=2;function ije(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var f=a[0],h=e[f],g=a[1];if(s&&a[2]){if(h===void 0&&!(f in e))return!1}else{var y=new eje;if(r)var x=r(h,g,f,e,t,y);if(!(x===void 0?tje(g,h,nje|rje,r,y):x))return!1}}return!0}var oje=ije,aje=Zd;function sje(e){return e===e&&!aje(e)}var PY=sje,lje=PY,cje=OC;function uje(e){for(var t=cje(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,lje(i)]}return t}var dje=uje;function fje(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var EY=fje,hje=oje,pje=dje,mje=EY;function gje(e){var t=pje(e);return t.length==1&&t[0][2]?mje(t[0][0],t[0][1]):function(n){return n===e||hje(n,e,t)}}var yje=gje;function vje(e,t){return e!=null&&t in Object(e)}var bje=vje,xje=LH,_je=pL,wje=Ra,Sje=mL,kje=gL,Cje=pC;function Tje(e,t,n){t=xje(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=Cje(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&kje(i)&&Sje(s,i)&&(wje(e)||_je(e)))}var Pje=Tje,Eje=bje,Oje=Pje;function Mje(e,t){return e!=null&&Oje(e,t,Eje)}var Aje=Mje,Ije=yL,$je=jH,Rje=Aje,Dje=KD,Lje=PY,jje=EY,Nje=pC,zje=1,Bje=2;function Fje(e,t){return Dje(e)&&Lje(t)?jje(Nje(e),t):function(n){var r=$je(n,e);return r===void 0&&r===t?Rje(n,e):Ije(t,r,zje|Bje)}}var Uje=Fje;function Vje(e){return e}var Vg=Vje;function Wje(e){return function(t){return t==null?void 0:t[e]}}var qje=Wje,Gje=nL;function Hje(e){return function(t){return Gje(t,e)}}var Yje=Hje,Kje=qje,Zje=Yje,Xje=KD,Jje=pC;function Qje(e){return Xje(e)?Kje(Jje(e)):Zje(e)}var eNe=Qje,tNe=yje,nNe=Uje,rNe=Vg,iNe=Ra,oNe=eNe;function aNe(e){return typeof e=="function"?e:e==null?rNe:typeof e=="object"?iNe(e)?nNe(e[0],e[1]):tNe(e):oNe(e)}var Xd=aNe;function sNe(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var OY=sNe;function lNe(e){return e!==e}var cNe=lNe;function uNe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var dNe=uNe,fNe=OY,hNe=cNe,pNe=dNe;function mNe(e,t,n){return t===t?pNe(e,t,n):fNe(e,hNe,n)}var gNe=mNe,yNe=gNe;function vNe(e,t){var n=e==null?0:e.length;return!!n&&yNe(e,t,0)>-1}var bNe=vNe;function xNe(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var _Ne=xNe;function wNe(){}var SNe=wNe,KE=kY,kNe=SNe,CNe=hL,TNe=1/0,PNe=KE&&1/CNe(new KE([,-0]))[1]==TNe?function(e){return new KE(e)}:kNe,ENe=PNe,ONe=pY,MNe=bNe,ANe=_Ne,INe=gY,$Ne=ENe,RNe=hL,DNe=200;function LNe(e,t,n){var r=-1,i=MNe,o=e.length,s=!0,a=[],f=a;if(n)s=!1,i=ANe;else if(o>=DNe){var h=t?null:$Ne(e);if(h)return RNe(h);s=!1,i=INe,f=new ONe}else f=t?[]:a;e:for(;++r<o;){var g=e[r],y=t?t(g):g;if(g=n||g!==0?g:0,s&&y===y){for(var x=f.length;x--;)if(f[x]===y)continue e;t&&f.push(y),a.push(g)}else i(f,y,n)||(f!==a&&f.push(y),a.push(g))}return a}var jNe=LNe,NNe=Xd,zNe=jNe;function BNe(e,t){return e&&e.length?zNe(e,NNe(t)):[]}var FNe=BNe;const F4=mr(FNe);function MY(e,t,n){return t===!0?F4(e,n):Nn(t)?F4(e,t):e}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}var UNe=["ref"];function U4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(n),!0).forEach(function(r){MC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IY(r.key),r)}}function WNe(e,t,n){return t&&V4(e.prototype,t),n&&V4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PA(e,t)}function PA(e,t){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PA(e,t)}function GNe(e){var t=YNe();return function(){var r=ES(e),i;if(t){var o=ES(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return HNe(this,i)}}function HNe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AY(e)}function AY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ES(e){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ES(e)}function MC(e,t,n){return t=IY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IY(e){var t=KNe(e,"string");return Jm(t)==="symbol"?t:String(t)}function KNe(e,t){if(Jm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZNe(e,t){if(e==null)return{};var n=XNe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XNe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function JNe(e){return e.value}function QNe(e,t){if(Ee.isValidElement(e))return Ee.cloneElement(e,t);if(typeof e=="function")return Ee.createElement(e,t);t.ref;var n=ZNe(t,UNe);return Ee.createElement(fL,n)}var W4=1,Qm=function(e){qNe(n,e);var t=GNe(n);function n(){var r;VNe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),MC(AY(r),"lastBoundingBox",{width:-1,height:-1}),r}return WNe(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.lastBoundingBox.width)>W4||Math.abs(o.height-this.lastBoundingBox.height)>W4)&&(this.lastBoundingBox.width=o.width,this.lastBoundingBox.height=o.height,i&&i(o))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Tf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var o=this.props,s=o.layout,a=o.align,f=o.verticalAlign,h=o.margin,g=o.chartWidth,y=o.chartHeight,x,P;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&s==="vertical"){var E=this.getBBoxSnapshot();x={left:((g||0)-E.width)/2}}else x=a==="right"?{right:h&&h.right||0}:{left:h&&h.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(f==="middle"){var S=this.getBBoxSnapshot();P={top:((y||0)-S.height)/2}}else P=f==="bottom"?{bottom:h&&h.bottom||0}:{top:h&&h.top||0};return Tf(Tf({},x),P)}},{key:"render",value:function(){var i=this,o=this.props,s=o.content,a=o.width,f=o.height,h=o.wrapperStyle,g=o.payloadUniqBy,y=o.payload,x=Tf(Tf({position:"absolute",width:a||"auto",height:f||"auto"},this.getDefaultPosition(h)),h);return Ee.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:function(E){i.wrapperNode=E}},QNe(s,Tf(Tf({},this.props),{},{payload:MY(y,g,JNe)})))}}],[{key:"getWithHeight",value:function(i,o){var s=i.props.layout;return s==="vertical"&&Et(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||o}:null}}]),n}(V.PureComponent);MC(Qm,"displayName","Legend");MC(Qm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var q4=bx,eze=pL,tze=Ra,G4=q4?q4.isConcatSpreadable:void 0;function nze(e){return tze(e)||eze(e)||!!(G4&&e&&e[G4])}var rze=nze,ize=vY,oze=rze;function $Y(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=oze),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?$Y(a,t-1,n,r,i):ize(i,a):r||(i[i.length]=a)}return i}var RY=$Y;function aze(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var f=s[e?a:++i];if(n(o[f],f,o)===!1)break}return t}}var sze=aze,lze=sze,cze=lze(),uze=cze,dze=uze,fze=OC;function hze(e,t){return e&&dze(e,t,fze)}var DY=hze,pze=Sx;function mze(e,t){return function(n,r){if(n==null)return n;if(!pze(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var gze=mze,yze=DY,vze=gze,bze=vze(yze),vL=bze,xze=vL,_ze=Sx;function wze(e,t){var n=-1,r=_ze(e)?Array(e.length):[];return xze(e,function(i,o,s){r[++n]=t(i,o,s)}),r}var LY=wze;function Sze(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var kze=Sze,H4=Lg;function Cze(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=H4(e),s=t!==void 0,a=t===null,f=t===t,h=H4(t);if(!a&&!h&&!o&&e>t||o&&s&&f&&!a&&!h||r&&s&&f||!n&&f||!i)return 1;if(!r&&!o&&!h&&e<t||h&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!f)return-1}return 0}var Tze=Cze,Pze=Tze;function Eze(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var f=Pze(i[r],o[r]);if(f){if(r>=a)return f;var h=n[r];return f*(h=="desc"?-1:1)}}return e.index-t.index}var Oze=Eze,ZE=tL,Mze=nL,Aze=Xd,Ize=LY,$ze=kze,Rze=_Y,Dze=Oze,Lze=Vg,jze=Ra;function Nze(e,t,n){t.length?t=ZE(t,function(o){return jze(o)?function(s){return Mze(s,o.length===1?o[0]:o)}:o}):t=[Lze];var r=-1;t=ZE(t,Rze(Aze));var i=Ize(e,function(o,s,a){var f=ZE(t,function(h){return h(o)});return{criteria:f,index:++r,value:o}});return $ze(i,function(o,s){return Dze(o,s,n)})}var zze=Nze;function Bze(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Fze=Bze,Uze=Fze,Y4=Math.max;function Vze(e,t,n){return t=Y4(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Y4(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),Uze(e,this,a)}}var Wze=Vze;function qze(e){return function(){return e}}var Gze=qze,Hze=Oh,Yze=function(){try{var e=Hze(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jY=Yze,Kze=Gze,K4=jY,Zze=Vg,Xze=K4?function(e,t){return K4(e,"toString",{configurable:!0,enumerable:!1,value:Kze(t),writable:!0})}:Zze,Jze=Xze,Qze=800,e5e=16,t5e=Date.now;function n5e(e){var t=0,n=0;return function(){var r=t5e(),i=e5e-(r-n);if(n=r,i>0){if(++t>=Qze)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r5e=n5e,i5e=Jze,o5e=r5e,a5e=o5e(i5e),s5e=a5e,l5e=Vg,c5e=Wze,u5e=s5e;function d5e(e,t){return u5e(c5e(e,t,l5e),e+"")}var f5e=d5e,h5e=XD,p5e=Sx,m5e=mL,g5e=Zd;function y5e(e,t,n){if(!g5e(n))return!1;var r=typeof t;return(r=="number"?p5e(n)&&m5e(t,n.length):r=="string"&&t in n)?h5e(n[t],e):!1}var AC=y5e,v5e=RY,b5e=zze,x5e=f5e,Z4=AC,_5e=x5e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Z4(e,t[0],t[1])?t=[]:n>2&&Z4(t[0],t[1],t[2])&&(t=[t[0]]),b5e(e,v5e(t,1),[])}),w5e=_5e;const bL=mr(w5e);function ub(e){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ub(e)}function S5e(e,t){return P5e(e)||T5e(e,t)||C5e(e,t)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C5e(e,t){if(e){if(typeof e=="string")return X4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T5e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function P5e(e){if(Array.isArray(e))return e}function J4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(n),!0).forEach(function(r){E5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E5e(e,t,n){return t=O5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O5e(e){var t=M5e(e,"string");return ub(t)==="symbol"?t:String(t)}function M5e(e,t){if(ub(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ub(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A5e(e){return Array.isArray(e)&&qi(e[0])&&qi(e[1])?e.join(" ~ "):e}var I5e=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,s=t.itemStyle,a=s===void 0?{}:s,f=t.labelStyle,h=f===void 0?{}:f,g=t.payload,y=t.formatter,x=t.itemSorter,P=t.wrapperClassName,E=t.labelClassName,S=t.label,O=t.labelFormatter,A=function(){if(g&&g.length){var X={padding:0,margin:0},Q=(x?bL(g,x):g).map(function(ae,fe){if(ae.type==="none")return null;var Se=XE({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},a),ke=ae.formatter||y||A5e,we=ae.value,Oe=ae.name,Ce=we,be=Oe;if(ke&&Ce!=null&&be!=null){var $e=ke(we,Oe,ae,fe,g);if(Array.isArray($e)){var Ue=S5e($e,2);Ce=Ue[0],be=Ue[1]}else Ce=$e}return Ee.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(fe),style:Se},qi(be)?Ee.createElement("span",{className:"recharts-tooltip-item-name"},be):null,qi(be)?Ee.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Ee.createElement("span",{className:"recharts-tooltip-item-value"},Ce),Ee.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return Ee.createElement("ul",{className:"recharts-tooltip-item-list",style:X},Q)}return null},M=XE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=XE({margin:0},h),N=!Hn(S),$=N?S:"",R=rt("recharts-default-tooltip",P),F=rt("recharts-tooltip-label",E);return N&&O&&g!==void 0&&g!==null&&($=O(S,g)),Ee.createElement("div",{className:R,style:M},Ee.createElement("p",{className:F,style:I},Ee.isValidElement($)?$:"".concat($)),A())},$5e=Object.getOwnPropertyNames,R5e=Object.getOwnPropertySymbols,D5e=Object.prototype.hasOwnProperty;function Q4(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function P1(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var f=e(n,r,i);return o.delete(n),o.delete(r),f}}function eF(e){return $5e(e).concat(R5e(e))}var NY=Object.hasOwn||function(e,t){return D5e.call(e,t)};function Wg(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var zY="_owner",tF=Object.getOwnPropertyDescriptor,nF=Object.keys;function L5e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function j5e(e,t){return Wg(e.getTime(),t.getTime())}function rF(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var f=t.entries(),h=!1,g=0;(a=f.next())&&!a.done;){var y=s.value,x=y[0],P=y[1],E=a.value,S=E[0],O=E[1];!h&&!r[g]&&(h=n.equals(x,S,o,g,e,t,n)&&n.equals(P,O,x,S,e,t,n))&&(r[g]=!0),g++}if(!h)return!1;o++}return!0}function N5e(e,t,n){var r=nF(e),i=r.length;if(nF(t).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===zY&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!NY(t,o)||!n.equals(e[o],t[o],o,o,e,t,n))return!1;return!0}function Ov(e,t,n){var r=eF(e),i=r.length;if(eF(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],o===zY&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!NY(t,o)||!n.equals(e[o],t[o],o,o,e,t,n)||(s=tF(e,o),a=tF(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function z5e(e,t){return Wg(e.valueOf(),t.valueOf())}function B5e(e,t){return e.source===t.source&&e.flags===t.flags}function iF(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.values(),o,s;(o=i.next())&&!o.done;){for(var a=t.values(),f=!1,h=0;(s=a.next())&&!s.done;)!f&&!r[h]&&(f=n.equals(o.value,s.value,o.value,s.value,e,t,n))&&(r[h]=!0),h++;if(!f)return!1}return!0}function F5e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var U5e="[object Arguments]",V5e="[object Boolean]",W5e="[object Date]",q5e="[object Map]",G5e="[object Number]",H5e="[object Object]",Y5e="[object RegExp]",K5e="[object Set]",Z5e="[object String]",X5e=Array.isArray,oF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,aF=Object.assign,J5e=Object.prototype.toString.call.bind(Object.prototype.toString);function Q5e(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,s=e.areRegExpsEqual,a=e.areSetsEqual,f=e.areTypedArraysEqual;return function(g,y,x){if(g===y)return!0;if(g==null||y==null||typeof g!="object"||typeof y!="object")return g!==g&&y!==y;var P=g.constructor;if(P!==y.constructor)return!1;if(P===Object)return i(g,y,x);if(X5e(g))return t(g,y,x);if(oF!=null&&oF(g))return f(g,y,x);if(P===Date)return n(g,y,x);if(P===RegExp)return s(g,y,x);if(P===Map)return r(g,y,x);if(P===Set)return a(g,y,x);var E=J5e(g);return E===W5e?n(g,y,x):E===Y5e?s(g,y,x):E===q5e?r(g,y,x):E===K5e?a(g,y,x):E===H5e?typeof g.then!="function"&&typeof y.then!="function"&&i(g,y,x):E===U5e?i(g,y,x):E===V5e||E===G5e||E===Z5e?o(g,y,x):!1}}function e3e(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Ov:L5e,areDatesEqual:j5e,areMapsEqual:r?Q4(rF,Ov):rF,areObjectsEqual:r?Ov:N5e,arePrimitiveWrappersEqual:z5e,areRegExpsEqual:B5e,areSetsEqual:r?Q4(iF,Ov):iF,areTypedArraysEqual:r?Ov:F5e};if(n&&(i=aF({},i,n(i))),t){var o=P1(i.areArraysEqual),s=P1(i.areMapsEqual),a=P1(i.areObjectsEqual),f=P1(i.areSetsEqual);i=aF({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:f})}return i}function t3e(e){return function(t,n,r,i,o,s,a){return e(t,n,a)}}function n3e(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(f,h){var g=r(),y=g.cache,x=y===void 0?t?new WeakMap:void 0:y,P=g.meta;return n(f,h,{cache:x,equals:i,meta:P,strict:o})};if(t)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(f,h){return n(f,h,s)}}var r3e=Jd();Jd({strict:!0});Jd({circular:!0});Jd({circular:!0,strict:!0});Jd({createInternalComparator:function(){return Wg}});Jd({strict:!0,createInternalComparator:function(){return Wg}});Jd({circular:!0,createInternalComparator:function(){return Wg}});Jd({circular:!0,createInternalComparator:function(){return Wg},strict:!0});function Jd(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=e3e(e),f=Q5e(a),h=r?r(f):t3e(f);return n3e({circular:n,comparator:f,createState:i,equals:h,strict:s})}function i3e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function sF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):i3e(i)};requestAnimationFrame(r)}function EA(e){"@babel/helpers - typeof";return EA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EA(e)}function o3e(e){return c3e(e)||l3e(e)||s3e(e)||a3e()}function a3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s3e(e,t){if(e){if(typeof e=="string")return lF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lF(e,t)}}function lF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c3e(e){if(Array.isArray(e))return e}function u3e(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=o3e(s),f=a[0],h=a.slice(1);if(typeof f=="number"){sF(i.bind(null,h),f);return}i(f),sF(i.bind(null,h));return}EA(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function db(e){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},db(e)}function cF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(n),!0).forEach(function(r){OS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OS(e,t,n){return t=d3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d3e(e){var t=f3e(e,"string");return db(t)==="symbol"?t:String(t)}function f3e(e,t){if(db(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(db(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h3e=["Webkit","Moz","O","ms"],p3e=["-webkit-","-moz-","-o-","-ms-"],m3e=["transform","transformOrigin","transition"],g3e=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},y3e=function(t){return t},v3e=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},b3e=function(t,n){if(m3e.indexOf(t)===-1)return OS({},t,Number.isNaN(n)?0:n);var r=t==="transition",i=t.replace(/(\w)/,function(s){return s.toUpperCase()}),o=n;return h3e.reduce(function(s,a,f){return r&&(o=n.replace(/(transform|transform-origin)/gim,"".concat(p3e[f],"$1"))),eg(eg({},s),{},OS({},a+i,o))},{})},b0=function(t,n){return Object.keys(n).reduce(function(r,i){return eg(eg({},r),{},OS({},i,t(i,n[i])))},{})},xL=function(t){return Object.keys(t).reduce(function(n,r){return eg(eg({},n),b3e(r,n[r]))},t)},uF=function(t,n,r){return t.map(function(i){return"".concat(v3e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function x3e(e,t){return S3e(e)||w3e(e,t)||BY(e,t)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function S3e(e){if(Array.isArray(e))return e}function k3e(e){return P3e(e)||T3e(e)||BY(e)||C3e()}function C3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BY(e,t){if(e){if(typeof e=="string")return OA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OA(e,t)}}function T3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P3e(e){if(Array.isArray(e))return OA(e)}function OA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var MS=1e-4,FY=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},UY=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},dF=function(t,n){return function(r){var i=FY(t,n);return UY(i,r)}},E3e=function(t,n){return function(r){var i=FY(t,n),o=[].concat(k3e(i.map(function(s,a){return s*a}).slice(1)),[0]);return UY(o,r)}},fF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(O){return parseFloat(O)}),g=x3e(h,4);i=g[0],o=g[1],s=g[2],a=g[3]}}}var y=dF(i,s),x=dF(o,a),P=E3e(i,s),E=function(A){return A>1?1:A<0?0:A},S=function(A){for(var M=A>1?1:A,I=M,N=0;N<8;++N){var $=y(I)-M,R=P(I);if(Math.abs($-M)<MS||R<MS)return x(I);I=E(I-$/R)}return x(I)};return S.isStepper=!1,S},O3e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,s=t.dt,a=s===void 0?17:s,f=function(g,y,x){var P=-(g-y)*r,E=x*o,S=x+(P-E)*a/1e3,O=x*a/1e3+g;return Math.abs(O-y)<MS&&Math.abs(S)<MS?[y,0]:[O,S]};return f.isStepper=!0,f.dt=a,f},M3e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fF(i);case"spring":return O3e();default:if(i.split("(")[0]==="cubic-bezier")return fF(i)}return typeof i=="function"?i:null};function fb(e){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fb(e)}function hF(e){return $3e(e)||I3e(e)||VY(e)||A3e()}function A3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $3e(e){if(Array.isArray(e))return AA(e)}function pF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pF(Object(n),!0).forEach(function(r){MA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MA(e,t,n){return t=R3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R3e(e){var t=D3e(e,"string");return fb(t)==="symbol"?t:String(t)}function D3e(e,t){if(fb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L3e(e,t){return z3e(e)||N3e(e,t)||VY(e,t)||j3e()}function j3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VY(e,t){if(e){if(typeof e=="string")return AA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(e,t)}}function AA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function z3e(e){if(Array.isArray(e))return e}var AS=function(t,n,r){return t+(n-t)*r},IA=function(t){var n=t.from,r=t.to;return n!==r},B3e=function e(t,n,r){var i=b0(function(o,s){if(IA(s)){var a=t(s.from,s.to,s.velocity),f=L3e(a,2),h=f[0],g=f[1];return mo(mo({},s),{},{from:h,velocity:g})}return s},n);return r<1?b0(function(o,s){return IA(s)?mo(mo({},s),{},{velocity:AS(s.velocity,i[o].velocity,r),from:AS(s.from,i[o].from,r)}):s},n):e(t,i,r-1)};const F3e=function(e,t,n,r,i){var o=g3e(e,t),s=o.reduce(function(O,A){return mo(mo({},O),{},MA({},A,[e[A],t[A]]))},{}),a=o.reduce(function(O,A){return mo(mo({},O),{},MA({},A,{from:e[A],velocity:0,to:t[A]}))},{}),f=-1,h,g,y=function(){return null},x=function(){return b0(function(A,M){return M.from},a)},P=function(){return!Object.values(a).filter(IA).length},E=function(A){h||(h=A);var M=A-h,I=M/n.dt;a=B3e(n,a,I),i(mo(mo(mo({},e),t),x())),h=A,P()||(f=requestAnimationFrame(y))},S=function(A){g||(g=A);var M=(A-g)/r,I=b0(function($,R){return AS.apply(void 0,hF(R).concat([n(M)]))},s);if(i(mo(mo(mo({},e),t),I)),M<1)f=requestAnimationFrame(y);else{var N=b0(function($,R){return AS.apply(void 0,hF(R).concat([n(1)]))},s);i(mo(mo(mo({},e),t),N))}};return y=n.isStepper?E:S,function(){return requestAnimationFrame(y),function(){cancelAnimationFrame(f)}}};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}var U3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function V3e(e,t){if(e==null)return{};var n=W3e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W3e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function JE(e){return Y3e(e)||H3e(e)||G3e(e)||q3e()}function q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G3e(e,t){if(e){if(typeof e=="string")return $A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $A(e,t)}}function H3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y3e(e){if(Array.isArray(e))return $A(e)}function $A(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mF(Object(n),!0).forEach(function(r){Zv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zv(e,t,n){return t=WY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WY(r.key),r)}}function Z3e(e,t,n){return t&&gF(e.prototype,t),n&&gF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WY(e){var t=X3e(e,"string");return tg(t)==="symbol"?t:String(t)}function X3e(e,t){if(tg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RA(e,t)}function RA(e,t){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RA(e,t)}function Q3e(e){var t=eBe();return function(){var r=IS(e),i;if(t){var o=IS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return DA(this,i)}}function DA(e,t){if(t&&(tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LA(e)}function LA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function IS(e){return IS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IS(e)}var pu=function(e){J3e(n,e);var t=Q3e(n);function n(r,i){var o;K3e(this,n),o=t.call(this,r,i);var s=o.props,a=s.isActive,f=s.attributeName,h=s.from,g=s.to,y=s.steps,x=s.children,P=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(LA(o)),o.changeStyle=o.changeStyle.bind(LA(o)),!a||P<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:g}),DA(o);if(y&&y.length)o.state={style:y[0].style};else if(h){if(typeof x=="function")return o.state={style:h},DA(o);o.state={style:f?Zv({},f,h):h}}else o.state={style:{}};return o}return Z3e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,f=o.attributeName,h=o.shouldReAnimate,g=o.to,y=o.from,x=this.state.style;if(a){if(!s){var P={style:f?Zv({},f,g):g};this.state&&x&&(f&&x[f]!==g||!f&&x!==g)&&this.setState(P);return}if(!(r3e(i.to,g)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=E||h?y:i.to;if(this.state&&x){var O={style:f?Zv({},f,S):S};(f&&[f]!==S||!f&&x!==S)&&this.setState(O)}this.runAnimation(ol(ol({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,f=i.duration,h=i.easing,g=i.begin,y=i.onAnimationEnd,x=i.onAnimationStart,P=F3e(s,a,M3e(h),f,this.changeStyle),E=function(){o.stopJSAnimation=P()};this.manager.start([x,g,E,f,y])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,f=i.onAnimationStart,h=s[0],g=h.style,y=h.duration,x=y===void 0?0:y,P=function(S,O,A){if(A===0)return S;var M=O.duration,I=O.easing,N=I===void 0?"ease":I,$=O.style,R=O.properties,F=O.onAnimationEnd,q=A>0?s[A-1]:O,X=R||Object.keys($);if(typeof N=="function"||N==="spring")return[].concat(JE(S),[o.runJSAnimation.bind(o,{from:q.style,to:$,duration:M,easing:N}),M]);var Q=uF(X,M,N),ae=ol(ol(ol({},q.style),$),{},{transition:Q});return[].concat(JE(S),[ae,M,F]).filter(y3e)};return this.manager.start([f].concat(JE(s.reduce(P,[g,Math.max(x,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=u3e());var o=i.begin,s=i.duration,a=i.attributeName,f=i.to,h=i.easing,g=i.onAnimationStart,y=i.onAnimationEnd,x=i.steps,P=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof h=="function"||typeof P=="function"||h==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var S=a?Zv({},a,f):f,O=uF(Object.keys(S),s,h);E.start([g,o,ol(ol({},S),{},{transition:O}),s,y])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=V3e(i,U3e),h=V.Children.count(o),g=xL(this.state.style);if(typeof o=="function")return o(g);if(!a||h===0||s<=0)return o;var y=function(P){var E=P.props,S=E.style,O=S===void 0?{}:S,A=E.className,M=V.cloneElement(P,ol(ol({},f),{},{style:ol(ol({},O),g),className:A}));return M};return h===1?y(V.Children.only(o)):Ee.createElement("div",null,V.Children.map(o,function(x){return y(x)}))}}]),n}(V.PureComponent);pu.displayName="Animate";pu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pu.propTypes={from:Pn.oneOfType([Pn.object,Pn.string]),to:Pn.oneOfType([Pn.object,Pn.string]),attributeName:Pn.string,duration:Pn.number,begin:Pn.number,easing:Pn.oneOfType([Pn.string,Pn.func]),steps:Pn.arrayOf(Pn.shape({duration:Pn.number.isRequired,style:Pn.object.isRequired,easing:Pn.oneOfType([Pn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pn.func]),properties:Pn.arrayOf("string"),onAnimationEnd:Pn.func})),children:Pn.oneOfType([Pn.node,Pn.func]),isActive:Pn.bool,canBegin:Pn.bool,onAnimationEnd:Pn.func,shouldReAnimate:Pn.bool,onAnimationStart:Pn.func,onAnimationReStart:Pn.func};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});Pn.object,Pn.object,Pn.object,Pn.element;Pn.object,Pn.object,Pn.object,Pn.oneOfType([Pn.array,Pn.element]),Pn.any;function hb(e){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hb(e)}function E1(e,t,n){return t=tBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tBe(e){var t=nBe(e,"string");return hb(t)==="symbol"?t:String(t)}function nBe(e,t){if(hb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mv="recharts-tooltip-wrapper",rBe={visibility:"hidden"};function iBe(e){var t,n=e.coordinate,r=e.translateX,i=e.translateY;return rt(Mv,(t={},E1(t,"".concat(Mv,"-right"),Et(r)&&n&&Et(n.x)&&r>=n.x),E1(t,"".concat(Mv,"-left"),Et(r)&&n&&Et(n.x)&&r<n.x),E1(t,"".concat(Mv,"-bottom"),Et(i)&&n&&Et(n.y)&&i>=n.y),E1(t,"".concat(Mv,"-top"),Et(i)&&n&&Et(n.y)&&i<n.y),t))}function yF(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,a=e.tooltipDimension,f=e.viewBox,h=e.viewBoxDimension;if(o&&Et(o[r]))return o[r];var g=n[r]-a-i,y=n[r]+i;if(t[r])return s[r]?g:y;if(s[r]){var x=g,P=f[r];return x<P?Math.max(y,f[r]):Math.max(g,f[r])}var E=y+a,S=f[r]+h;return E>S?Math.max(g,f[r]):Math.max(y,f[r])}function oBe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return xL({transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")})}function aBe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipBox,a=e.useTranslate3d,f=e.viewBox,h,g,y;return s.height>0&&s.width>0&&n?(g=yF({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:f,viewBoxDimension:f.width}),y=yF({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:f,viewBoxDimension:f.height}),h=oBe({translateX:g,translateY:y,useTranslate3d:a})):h=rBe,{cssProperties:h,cssClasses:iBe({translateX:g,translateY:y,coordinate:n})}}function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function vF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vF(Object(n),!0).forEach(function(r){cw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qY(r.key),r)}}function lBe(e,t,n){return t&&bF(e.prototype,t),n&&bF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jA(e,t)}function jA(e,t){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jA(e,t)}function uBe(e){var t=fBe();return function(){var r=$S(e),i;if(t){var o=$S(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return dBe(this,i)}}function dBe(e,t){if(t&&(ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lw(e)}function lw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $S(e){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$S(e)}function cw(e,t,n){return t=qY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qY(e){var t=hBe(e,"string");return ng(t)==="symbol"?t:String(t)}function hBe(e,t){if(ng(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ng(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xF=1,pBe=function(e){cBe(n,e);var t=uBe(n);function n(){var r;sBe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),cw(lw(r),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cw(lw(r),"lastBoundingBox",{width:-1,height:-1}),cw(lw(r),"handleKeyDown",function(a){if(a.key==="Escape"){var f,h,g,y;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.x)!==null&&f!==void 0?f:0,y:(g=(y=r.props.coordinate)===null||y===void 0?void 0:y.y)!==null&&g!==void 0?g:0}})}}),r}return lBe(n,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>xF||Math.abs(i.height-this.lastBoundingBox.height)>xF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,o;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,o=this.props,s=o.active,a=o.allowEscapeViewBox,f=o.animationDuration,h=o.animationEasing,g=o.children,y=o.coordinate,x=o.hasPayload,P=o.isAnimationActive,E=o.offset,S=o.position,O=o.reverseDirection,A=o.useTranslate3d,M=o.viewBox,I=o.wrapperStyle,N=aBe({allowEscapeViewBox:a,coordinate:y,offsetTopLeft:E,position:S,reverseDirection:O,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:A,viewBox:M}),$=N.cssClasses,R=N.cssProperties,F=QE(QE(QE({},P&&s&&xL({transition:"transform ".concat(f,"ms ").concat(h)})),R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&x?"visible":"hidden",position:"absolute",top:0,left:0},I);return Ee.createElement("div",{tabIndex:-1,role:"dialog",className:$,style:F,ref:function(X){i.wrapperNode=X}},g)}}]),n}(V.PureComponent),mBe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nu={isSsr:mBe(),get:function(t){return nu[t]},set:function(t,n){if(typeof t=="string")nu[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){nu[i]=t[i]})}}};function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function _F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_F(Object(n),!0).forEach(function(r){_L(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_F(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GY(r.key),r)}}function yBe(e,t,n){return t&&SF(e.prototype,t),n&&SF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NA(e,t)}function NA(e,t){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NA(e,t)}function bBe(e){var t=wBe();return function(){var r=RS(e),i;if(t){var o=RS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xBe(this,i)}}function xBe(e,t){if(t&&(rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Be(e)}function _Be(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RS(e){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RS(e)}function _L(e,t,n){return t=GY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GY(e){var t=SBe(e,"string");return rg(t)==="symbol"?t:String(t)}function SBe(e,t){if(rg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kBe(e){return e.dataKey}function CBe(e,t){return Ee.isValidElement(e)?Ee.cloneElement(e,t):typeof e=="function"?Ee.createElement(e,t):Ee.createElement(I5e,t)}var Hf=function(e){vBe(n,e);var t=bBe(n);function n(){return gBe(this,n),t.apply(this,arguments)}return yBe(n,[{key:"render",value:function(){var i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,f=i.animationEasing,h=i.content,g=i.coordinate,y=i.filterNull,x=i.isAnimationActive,P=i.offset,E=i.payload,S=i.payloadUniqBy,O=i.position,A=i.reverseDirection,M=i.useTranslate3d,I=i.viewBox,N=i.wrapperStyle,$=E??[];y&&$.length&&($=MY(E.filter(function(F){return F.value!=null}),S,kBe));var R=$.length>0;return Ee.createElement(pBe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:f,isAnimationActive:x,active:o,coordinate:g,hasPayload:R,offset:P,position:O,reverseDirection:A,useTranslate3d:M,viewBox:I,wrapperStyle:N},CBe(h,wF(wF({},this.props),{},{payload:$})))}}]),n}(V.PureComponent);_L(Hf,"displayName","Tooltip");_L(Hf,"defaultProps",{allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var TBe=yc,PBe=function(){return TBe.Date.now()},EBe=PBe,OBe=/\s/;function MBe(e){for(var t=e.length;t--&&OBe.test(e.charAt(t)););return t}var ABe=MBe,IBe=ABe,$Be=/^\s+/;function RBe(e){return e&&e.slice(0,IBe(e)+1).replace($Be,"")}var DBe=RBe,LBe=DBe,kF=Zd,jBe=Lg,CF=NaN,NBe=/^[-+]0x[0-9a-f]+$/i,zBe=/^0b[01]+$/i,BBe=/^0o[0-7]+$/i,FBe=parseInt;function UBe(e){if(typeof e=="number")return e;if(jBe(e))return CF;if(kF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=kF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=LBe(e);var n=zBe.test(e);return n||BBe.test(e)?FBe(e.slice(2),n?2:8):NBe.test(e)?CF:+e}var HY=UBe,VBe=Zd,eO=EBe,TF=HY,WBe="Expected a function",qBe=Math.max,GBe=Math.min;function HBe(e,t,n){var r,i,o,s,a,f,h=0,g=!1,y=!1,x=!0;if(typeof e!="function")throw new TypeError(WBe);t=TF(t)||0,VBe(n)&&(g=!!n.leading,y="maxWait"in n,o=y?qBe(TF(n.maxWait)||0,t):o,x="trailing"in n?!!n.trailing:x);function P(R){var F=r,q=i;return r=i=void 0,h=R,s=e.apply(q,F),s}function E(R){return h=R,a=setTimeout(A,t),g?P(R):s}function S(R){var F=R-f,q=R-h,X=t-F;return y?GBe(X,o-q):X}function O(R){var F=R-f,q=R-h;return f===void 0||F>=t||F<0||y&&q>=o}function A(){var R=eO();if(O(R))return M(R);a=setTimeout(A,S(R))}function M(R){return a=void 0,x&&r?P(R):(r=i=void 0,s)}function I(){a!==void 0&&clearTimeout(a),h=0,r=f=i=a=void 0}function N(){return a===void 0?s:M(eO())}function $(){var R=eO(),F=O(R);if(r=arguments,i=this,f=R,F){if(a===void 0)return E(f);if(y)return clearTimeout(a),a=setTimeout(A,t),P(f)}return a===void 0&&(a=setTimeout(A,t)),s}return $.cancel=I,$.flush=N,$}var YBe=HBe,KBe=YBe,ZBe=Zd,XBe="Expected a function";function JBe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(XBe);return ZBe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),KBe(e,t,{leading:r,maxWait:t,trailing:i})}var QBe=JBe;const YY=mr(QBe);function pb(e){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(e)}function PF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PF(Object(n),!0).forEach(function(r){e4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e4e(e,t,n){return t=t4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t4e(e){var t=n4e(e,"string");return pb(t)==="symbol"?t:String(t)}function n4e(e,t){if(pb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r4e(e,t){return s4e(e)||a4e(e,t)||o4e(e,t)||i4e()}function i4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o4e(e,t){if(e){if(typeof e=="string")return EF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EF(e,t)}}function EF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function s4e(e){if(Array.isArray(e))return e}var l4e=V.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,s=o===void 0?"100%":o,a=e.height,f=a===void 0?"100%":a,h=e.minWidth,g=h===void 0?0:h,y=e.minHeight,x=e.maxHeight,P=e.children,E=e.debounce,S=E===void 0?0:E,O=e.id,A=e.className,M=e.onResize,I=e.style,N=I===void 0?{}:I,$=V.useRef(null),R=V.useRef();R.current=M,V.useImperativeHandle(t,function(){return $});var F=V.useState({containerWidth:i.width,containerHeight:i.height}),q=r4e(F,2),X=q[0],Q=q[1],ae=V.useCallback(function(Se,ke){Q(function(we){var Oe=Math.round(Se),Ce=Math.round(ke);return we.containerWidth===Oe&&we.containerHeight===Ce?we:{containerWidth:Oe,containerHeight:Ce}})},[]);V.useEffect(function(){var Se=function($e){var Ue,ft=$e[0].contentRect,Xe=ft.width,tt=ft.height;ae(Xe,tt),(Ue=R.current)===null||Ue===void 0||Ue.call(R,Xe,tt)};S>0&&(Se=YY(Se,S,{trailing:!0,leading:!1}));var ke=new ResizeObserver(Se),we=$.current.getBoundingClientRect(),Oe=we.width,Ce=we.height;return ae(Oe,Ce),ke.observe($.current),function(){ke.disconnect()}},[ae,S]);var fe=V.useMemo(function(){var Se=X.containerWidth,ke=X.containerHeight;if(Se<0||ke<0)return null;ih(Gf(s)||Gf(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,f),ih(!n||n>0,"The aspect(%s) must be greater than zero.",n);var we=Gf(s)?Se:s,Oe=Gf(f)?ke:f;n&&n>0&&(we?Oe=we/n:Oe&&(we=Oe*n),x&&Oe>x&&(Oe=x)),ih(we>0||Oe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,we,Oe,s,f,g,y,n);var Ce=!Array.isArray(P)&&sA.isElement(P)&&tu(P.type).endsWith("Chart");return Ee.Children.map(P,function(be){return sA.isElement(be)?V.cloneElement(be,O1({width:we,height:Oe},Ce?{style:O1({height:"100%",width:"100%",maxHeight:Oe,maxWidth:we},be.props.style)}:{})):be})},[n,P,f,x,y,g,X,s]);return Ee.createElement("div",{id:O?"".concat(O):void 0,className:rt("recharts-responsive-container",A),style:O1(O1({},N),{},{width:s,height:f,minWidth:g,minHeight:y,maxHeight:x}),ref:$},fe)}),KY=function(t){return null};KY.displayName="Cell";function mb(e){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mb(e)}function OF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OF(Object(n),!0).forEach(function(r){c4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c4e(e,t,n){return t=u4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u4e(e){var t=d4e(e,"string");return mb(t)==="symbol"?t:String(t)}function d4e(e,t){if(mb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ap={widthCache:{},cacheCount:0},f4e=2e3,h4e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MF="recharts_measurement_span";function p4e(e){var t=zA({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var x0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nu.isSsr)return{width:0,height:0};var r=p4e(n),i=JSON.stringify({text:t,copyStyle:r});if(Ap.widthCache[i])return Ap.widthCache[i];try{var o=document.getElementById(MF);o||(o=document.createElement("span"),o.setAttribute("id",MF),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=zA(zA({},h4e),r);Object.assign(o.style,s),o.textContent="".concat(t);var a=o.getBoundingClientRect(),f={width:a.width,height:a.height};return Ap.widthCache[i]=f,++Ap.cacheCount>f4e&&(Ap.cacheCount=0,Ap.widthCache={}),f}catch{return{width:0,height:0}}},m4e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gb(e){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gb(e)}function DS(e,t){return b4e(e)||v4e(e,t)||y4e(e,t)||g4e()}function g4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4e(e,t){if(e){if(typeof e=="string")return AF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AF(e,t)}}function AF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function b4e(e){if(Array.isArray(e))return e}function x4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w4e(r.key),r)}}function _4e(e,t,n){return t&&IF(e.prototype,t),n&&IF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w4e(e){var t=S4e(e,"string");return gb(t)==="symbol"?t:String(t)}function S4e(e,t){if(gb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $F=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k4e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,C4e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},T4e=Object.keys(ZY),im="NaN";function P4e(e,t){return e*ZY[t]}var M1=function(){function e(t,n){x4e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!k4e.test(n)&&(this.num=NaN,this.unit=""),T4e.includes(n)&&(this.num=P4e(t,n),this.unit="px")}return _4e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=C4e.exec(n))!==null&&r!==void 0?r:[],o=DS(i,3),s=o[1],a=o[2];return new e(parseFloat(s),a??"")}}]),e}();function XY(e){if(e.includes(im))return im;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=$F.exec(t))!==null&&n!==void 0?n:[],i=DS(r,4),o=i[1],s=i[2],a=i[3],f=M1.parse(o??""),h=M1.parse(a??""),g=s==="*"?f.multiply(h):f.divide(h);if(g.isNaN())return im;t=t.replace($F,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var y,x=(y=RF.exec(t))!==null&&y!==void 0?y:[],P=DS(x,4),E=P[1],S=P[2],O=P[3],A=M1.parse(E??""),M=M1.parse(O??""),I=S==="+"?A.add(M):A.subtract(M);if(I.isNaN())return im;t=t.replace(RF,I.toString())}return t}var DF=/\(([^()]*)\)/;function E4e(e){for(var t=e;t.includes("(");){var n=DF.exec(t),r=DS(n,2),i=r[1];t=t.replace(DF,XY(i))}return t}function O4e(e){var t=e.replace(/\s+/g,"");return t=E4e(t),t=XY(t),t}function M4e(e){try{return O4e(e)}catch{return im}}function tO(e){var t=M4e(e.slice(5,-1));return t===im?"":t}var A4e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],I4e=["dx","dy","angle","className","breakAll"];function BA(){return BA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BA.apply(this,arguments)}function LF(e,t){if(e==null)return{};var n=$4e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $4e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jF(e,t){return j4e(e)||L4e(e,t)||D4e(e,t)||R4e()}function R4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D4e(e,t){if(e){if(typeof e=="string")return NF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NF(e,t)}}function NF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function j4e(e){if(Array.isArray(e))return e}var JY=/[ \f\n\r\t\v\u2028\u2029]+/,QY=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];Hn(n)||(r?o=n.toString().split(""):o=n.toString().split(JY));var s=o.map(function(f){return{word:f,width:x0(f,i).width}}),a=r?0:x0(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},N4e=function(t,n,r,i,o){var s=t.maxLines,a=t.children,f=t.style,h=t.breakAll,g=Et(s),y=a,x=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return we.reduce(function(Oe,Ce){var be=Ce.word,$e=Ce.width,Ue=Oe[Oe.length-1];if(Ue&&(i==null||o||Ue.width+$e+r<Number(i)))Ue.words.push(be),Ue.width+=$e+r;else{var ft={words:[be],width:$e};Oe.push(ft)}return Oe},[])},P=x(n),E=function(we){return we.reduce(function(Oe,Ce){return Oe.width>Ce.width?Oe:Ce})};if(!g)return P;for(var S="…",O=function(we){var Oe=y.slice(0,we),Ce=QY({breakAll:h,style:f,children:Oe+S}).wordsWithComputedWidth,be=x(Ce),$e=be.length>s||E(be).width>Number(i);return[$e,be]},A=0,M=y.length-1,I=0,N;A<=M&&I<=y.length-1;){var $=Math.floor((A+M)/2),R=$-1,F=O(R),q=jF(F,2),X=q[0],Q=q[1],ae=O($),fe=jF(ae,1),Se=fe[0];if(!X&&!Se&&(A=$+1),X&&Se&&(M=$-1),!X&&Se){N=Q;break}I++}return N||P},zF=function(t){var n=Hn(t)?[]:t.toString().split(JY);return[{words:n}]},z4e=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,s=t.breakAll,a=t.maxLines;if((n||r)&&!nu.isSsr){var f,h,g=QY({breakAll:s,children:i,style:o});if(g){var y=g.wordsWithComputedWidth,x=g.spaceWidth;f=y,h=x}else return zF(i);return N4e({breakAll:s,children:i,maxLines:a,style:o},f,h,n,r)}return zF(i)},BF="#808080",LS=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.lineHeight,a=s===void 0?"1em":s,f=t.capHeight,h=f===void 0?"0.71em":f,g=t.scaleToFit,y=g===void 0?!1:g,x=t.textAnchor,P=x===void 0?"start":x,E=t.verticalAnchor,S=E===void 0?"end":E,O=t.fill,A=O===void 0?BF:O,M=LF(t,A4e),I=V.useMemo(function(){return z4e({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:y,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,y,M.style,M.width]),N=M.dx,$=M.dy,R=M.angle,F=M.className,q=M.breakAll,X=LF(M,I4e);if(!qi(r)||!qi(o))return null;var Q=r+(Et(N)?N:0),ae=o+(Et($)?$:0),fe;switch(S){case"start":fe=tO("calc(".concat(h,")"));break;case"middle":fe=tO("calc(".concat((I.length-1)/2," * -").concat(a," + (").concat(h," / 2))"));break;default:fe=tO("calc(".concat(I.length-1," * -").concat(a,")"));break}var Se=[];if(y){var ke=I[0].width,we=M.width;Se.push("scale(".concat((Et(we)?we/ke:1)/ke,")"))}return R&&Se.push("rotate(".concat(R,", ").concat(Q,", ").concat(ae,")")),Se.length&&(X.transform=Se.join(" ")),Ee.createElement("text",BA({},Vn(X,!0),{x:Q,y:ae,className:rt("recharts-text",F),textAnchor:P,fill:A.includes("url")?BF:A}),I.map(function(Oe,Ce){var be=Oe.words.join(q?"":" ");return Ee.createElement("tspan",{x:Q,dy:Ce===0?fe:a,key:be},be)}))};function $d(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B4e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eK(e){let t,n,r;e.length!==2?(t=$d,n=(a,f)=>$d(e(a),f),r=(a,f)=>e(a)-f):(t=e===$d||e===B4e?e:F4e,n=e,r=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<0?h=y+1:g=y}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<=0?h=y+1:g=y}while(h<g)}return h}function s(a,f,h=0,g=a.length){const y=i(a,f,h,g-1);return y>h&&r(a[y-1],f)>-r(a[y],f)?y-1:y}return{left:i,center:s,right:o}}function F4e(){return 0}function tK(e){return e===null?NaN:+e}function*U4e(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const V4e=eK($d),W4e=V4e.right;eK(tK).center;const kx=W4e;class FF extends Map{constructor(t,n=H4e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(UF(this,t))}has(t){return super.has(UF(this,t))}set(t,n){return super.set(q4e(this,t),n)}delete(t){return super.delete(G4e(this,t))}}function UF({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function q4e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function G4e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function H4e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Y4e(e=$d){if(e===$d)return nK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function nK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const K4e=Math.sqrt(50),Z4e=Math.sqrt(10),X4e=Math.sqrt(2);function jS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=K4e?10:o>=Z4e?5:o>=X4e?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=n&&n<2?jS(e,t,n*2):[a,f,h]}function FA(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?jS(t,e,n):jS(e,t,n);if(!(o>=i))return[];const a=o-i+1,f=new Array(a);if(r)if(s<0)for(let h=0;h<a;++h)f[h]=(o-h)/-s;else for(let h=0;h<a;++h)f[h]=(o-h)*s;else if(s<0)for(let h=0;h<a;++h)f[h]=(i+h)/-s;else for(let h=0;h<a;++h)f[h]=(i+h)*s;return f}function UA(e,t,n){return t=+t,e=+e,n=+n,jS(e,t,n)[2]}function J4e(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?UA(t,e,n):UA(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function VF(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function WF(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function rK(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?nK:Y4e(i);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,g=Math.log(f),y=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*y*(f-y)/f)*(h-f/2<0?-1:1),P=Math.max(n,Math.floor(t-h*y/f+x)),E=Math.min(r,Math.floor(t+(f-h)*y/f+x));rK(e,t,P,E,i)}const o=e[t];let s=n,a=r;for(Av(e,n,t),i(e[r],o)>0&&Av(e,n,r);s<a;){for(Av(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?Av(e,n,a):(++a,Av(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Av(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Q4e(e,t,n){if(e=Float64Array.from(U4e(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return WF(e);if(t>=1)return VF(e);var r,i=(r-1)*t,o=Math.floor(i),s=VF(rK(e,o).subarray(0,o+1)),a=WF(e.subarray(o+1));return s+(a-s)*(i-o)}}function eFe(e,t,n=tK){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function tFe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Hs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const VA=Symbol("implicit");function wL(){var e=new FF,t=[],n=[],r=VA;function i(o){let s=e.get(o);if(s===void 0){if(r!==VA)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new FF;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wL(t,n).unknown(r)},Hs.apply(i,arguments),i}function yb(){var e=wL().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,f=0,h=0,g=.5;delete e.unknown;function y(){var x=t().length,P=i<r,E=P?i:r,S=P?r:i;o=(S-E)/Math.max(1,x-f+h*2),a&&(o=Math.floor(o)),E+=(S-E-o*(x-f))*g,s=o*(1-f),a&&(E=Math.round(E),s=Math.round(s));var O=tFe(x).map(function(A){return E+o*A});return n(P?O.reverse():O)}return e.domain=function(x){return arguments.length?(t(x),y()):t()},e.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,y()):[r,i]},e.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,a=!0,y()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(x){return arguments.length?(a=!!x,y()):a},e.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),y()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),y()):f},e.paddingOuter=function(x){return arguments.length?(h=+x,y()):h},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),y()):g},e.copy=function(){return yb(t(),[r,i]).round(a).paddingInner(f).paddingOuter(h).align(g)},Hs.apply(y(),arguments)}function iK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return iK(t())},e}function _0(){return iK(yb.apply(null,arguments).paddingInner(1))}function SL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function oK(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cx(){}var vb=.7,NS=1/vb,Cm="\\s*([+-]?\\d+)\\s*",bb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nFe=/^#([0-9a-f]{3,8})$/,rFe=new RegExp(`^rgb\\(${Cm},${Cm},${Cm}\\)$`),iFe=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),oFe=new RegExp(`^rgba\\(${Cm},${Cm},${Cm},${bb}\\)$`),aFe=new RegExp(`^rgba\\(${ac},${ac},${ac},${bb}\\)$`),sFe=new RegExp(`^hsl\\(${bb},${ac},${ac}\\)$`),lFe=new RegExp(`^hsla\\(${bb},${ac},${ac},${bb}\\)$`),qF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SL(Cx,xb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GF,formatHex:GF,formatHex8:cFe,formatHsl:uFe,formatRgb:HF,toString:HF});function GF(){return this.rgb().formatHex()}function cFe(){return this.rgb().formatHex8()}function uFe(){return aK(this).formatHsl()}function HF(){return this.rgb().formatRgb()}function xb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nFe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?YF(t):n===3?new Ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?A1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?A1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rFe.exec(e))?new Ta(t[1],t[2],t[3],1):(t=iFe.exec(e))?new Ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oFe.exec(e))?A1(t[1],t[2],t[3],t[4]):(t=aFe.exec(e))?A1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sFe.exec(e))?XF(t[1],t[2]/100,t[3]/100,1):(t=lFe.exec(e))?XF(t[1],t[2]/100,t[3]/100,t[4]):qF.hasOwnProperty(e)?YF(qF[e]):e==="transparent"?new Ta(NaN,NaN,NaN,0):null}function YF(e){return new Ta(e>>16&255,e>>8&255,e&255,1)}function A1(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ta(e,t,n,r)}function dFe(e){return e instanceof Cx||(e=xb(e)),e?(e=e.rgb(),new Ta(e.r,e.g,e.b,e.opacity)):new Ta}function WA(e,t,n,r){return arguments.length===1?dFe(e):new Ta(e,t,n,r??1)}function Ta(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}SL(Ta,WA,oK(Cx,{brighter(e){return e=e==null?NS:Math.pow(NS,e),new Ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vb:Math.pow(vb,e),new Ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ta(oh(this.r),oh(this.g),oh(this.b),zS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KF,formatHex:KF,formatHex8:fFe,formatRgb:ZF,toString:ZF}));function KF(){return`#${Yf(this.r)}${Yf(this.g)}${Yf(this.b)}`}function fFe(){return`#${Yf(this.r)}${Yf(this.g)}${Yf(this.b)}${Yf((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZF(){const e=zS(this.opacity);return`${e===1?"rgb(":"rgba("}${oh(this.r)}, ${oh(this.g)}, ${oh(this.b)}${e===1?")":`, ${e})`}`}function zS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yf(e){return e=oh(e),(e<16?"0":"")+e.toString(16)}function XF(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new vl(e,t,n,r)}function aK(e){if(e instanceof vl)return new vl(e.h,e.s,e.l,e.opacity);if(e instanceof Cx||(e=xb(e)),!e)return new vl;if(e instanceof vl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,f=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=f<.5?o+i:2-o-i,s*=60):a=f>0&&f<1?0:s,new vl(s,a,f,e.opacity)}function hFe(e,t,n,r){return arguments.length===1?aK(e):new vl(e,t,n,r??1)}function vl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}SL(vl,hFe,oK(Cx,{brighter(e){return e=e==null?NS:Math.pow(NS,e),new vl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vb:Math.pow(vb,e),new vl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ta(nO(e>=240?e-240:e+120,i,r),nO(e,i,r),nO(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new vl(JF(this.h),I1(this.s),I1(this.l),zS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zS(this.opacity);return`${e===1?"hsl(":"hsla("}${JF(this.h)}, ${I1(this.s)*100}%, ${I1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JF(e){return e=(e||0)%360,e<0?e+360:e}function I1(e){return Math.max(0,Math.min(1,e||0))}function nO(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const kL=e=>()=>e;function pFe(e,t){return function(n){return e+n*t}}function mFe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gFe(e){return(e=+e)==1?sK:function(t,n){return n-t?mFe(t,n,e):kL(isNaN(t)?n:t)}}function sK(e,t){var n=t-e;return n?pFe(e,n):kL(isNaN(e)?t:e)}const QF=function e(t){var n=gFe(t);function r(i,o){var s=n((i=WA(i)).r,(o=WA(o)).r),a=n(i.g,o.g),f=n(i.b,o.b),h=sK(i.opacity,o.opacity);return function(g){return i.r=s(g),i.g=a(g),i.b=f(g),i.opacity=h(g),i+""}}return r.gamma=e,r}(1);function yFe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function vFe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bFe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=qg(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function xFe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function BS(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _Fe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=qg(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var qA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rO=new RegExp(qA.source,"g");function wFe(e){return function(){return e}}function SFe(e){return function(t){return e(t)+""}}function kFe(e,t){var n=qA.lastIndex=rO.lastIndex=0,r,i,o,s=-1,a=[],f=[];for(e=e+"",t=t+"";(r=qA.exec(e))&&(i=rO.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,f.push({i:s,x:BS(r,i)})),n=rO.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?f[0]?SFe(f[0].x):wFe(t):(t=f.length,function(h){for(var g=0,y;g<t;++g)a[(y=f[g]).i]=y.x(h);return a.join("")})}function qg(e,t){var n=typeof t,r;return t==null||n==="boolean"?kL(t):(n==="number"?BS:n==="string"?(r=xb(t))?(t=r,QF):kFe:t instanceof xb?QF:t instanceof Date?xFe:vFe(t)?yFe:Array.isArray(t)?bFe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_Fe:BS)(e,t)}function CL(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function CFe(e,t){t===void 0&&(t=e,e=qg);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function TFe(e){return function(){return e}}function FS(e){return+e}var e6=[0,1];function oa(e){return e}function GA(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:TFe(isNaN(t)?NaN:.5)}function PFe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function EFe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=GA(i,r),o=n(s,o)):(r=GA(r,i),o=n(o,s)),function(a){return o(r(a))}}function OFe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=GA(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var f=kx(e,a,1,r)-1;return o[f](i[f](a))}}function Tx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function IC(){var e=e6,t=e6,n=qg,r,i,o,s=oa,a,f,h;function g(){var x=Math.min(e.length,t.length);return s!==oa&&(s=PFe(e[0],e[x-1])),a=x>2?OFe:EFe,f=h=null,y}function y(x){return x==null||isNaN(x=+x)?o:(f||(f=a(e.map(r),t,n)))(r(s(x)))}return y.invert=function(x){return s(i((h||(h=a(t,e.map(r),BS)))(x)))},y.domain=function(x){return arguments.length?(e=Array.from(x,FS),g()):e.slice()},y.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},y.rangeRound=function(x){return t=Array.from(x),n=CL,g()},y.clamp=function(x){return arguments.length?(s=x?!0:oa,g()):s!==oa},y.interpolate=function(x){return arguments.length?(n=x,g()):n},y.unknown=function(x){return arguments.length?(o=x,y):o},function(x,P){return r=x,i=P,g()}}function TL(){return IC()(oa,oa)}function MFe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function US(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ig(e){return e=US(Math.abs(e)),e?e[1]:NaN}function AFe(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],f=0;i>0&&a>0&&(f+a+1>r&&(a=Math.max(1,r-f)),o.push(n.substring(i-=a,i+a)),!((f+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function IFe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $Fe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _b(e){if(!(t=$Fe.exec(e)))throw new Error("invalid format: "+e);var t;return new PL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_b.prototype=PL.prototype;function PL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}PL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RFe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var lK;function DFe(e,t){var n=US(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(lK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+US(e,Math.max(0,t+o-1))[0]}function t6(e,t){var n=US(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const n6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MFe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>t6(e*100,t),r:t6,s:DFe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function r6(e){return e}var i6=Array.prototype.map,o6=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function LFe(e){var t=e.grouping===void 0||e.thousands===void 0?r6:AFe(i6.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?r6:IFe(i6.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(y){y=_b(y);var x=y.fill,P=y.align,E=y.sign,S=y.symbol,O=y.zero,A=y.width,M=y.comma,I=y.precision,N=y.trim,$=y.type;$==="n"?(M=!0,$="g"):n6[$]||(I===void 0&&(I=12),N=!0,$="g"),(O||x==="0"&&P==="=")&&(O=!0,x="0",P="=");var R=S==="$"?n:S==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",F=S==="$"?r:/[%p]/.test($)?s:"",q=n6[$],X=/[defgprs%]/.test($);I=I===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function Q(ae){var fe=R,Se=F,ke,we,Oe;if($==="c")Se=q(ae)+Se,ae="";else{ae=+ae;var Ce=ae<0||1/ae<0;if(ae=isNaN(ae)?f:q(Math.abs(ae),I),N&&(ae=RFe(ae)),Ce&&+ae==0&&E!=="+"&&(Ce=!1),fe=(Ce?E==="("?E:a:E==="-"||E==="("?"":E)+fe,Se=($==="s"?o6[8+lK/3]:"")+Se+(Ce&&E==="("?")":""),X){for(ke=-1,we=ae.length;++ke<we;)if(Oe=ae.charCodeAt(ke),48>Oe||Oe>57){Se=(Oe===46?i+ae.slice(ke+1):ae.slice(ke))+Se,ae=ae.slice(0,ke);break}}}M&&!O&&(ae=t(ae,1/0));var be=fe.length+ae.length+Se.length,$e=be<A?new Array(A-be+1).join(x):"";switch(M&&O&&(ae=t($e+ae,$e.length?A-Se.length:1/0),$e=""),P){case"<":ae=fe+ae+Se+$e;break;case"=":ae=fe+$e+ae+Se;break;case"^":ae=$e.slice(0,be=$e.length>>1)+fe+ae+Se+$e.slice(be);break;default:ae=$e+fe+ae+Se;break}return o(ae)}return Q.toString=function(){return y+""},Q}function g(y,x){var P=h((y=_b(y),y.type="f",y)),E=Math.max(-8,Math.min(8,Math.floor(ig(x)/3)))*3,S=Math.pow(10,-E),O=o6[8+E/3];return function(A){return P(S*A)+O}}return{format:h,formatPrefix:g}}var $1,EL,cK;jFe({thousands:",",grouping:[3],currency:["$",""]});function jFe(e){return $1=LFe(e),EL=$1.format,cK=$1.formatPrefix,$1}function NFe(e){return Math.max(0,-ig(Math.abs(e)))}function zFe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ig(t)/3)))*3-ig(Math.abs(e)))}function BFe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ig(t)-ig(e))+1}function uK(e,t,n,r){var i=J4e(e,t,n),o;switch(r=_b(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=zFe(i,s))&&(r.precision=o),cK(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=BFe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=NFe(i))&&(r.precision=o-(r.type==="%")*2);break}}return EL(r)}function Qd(e){var t=e.domain;return e.ticks=function(n){var r=t();return FA(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return uK(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],f,h,g=10;for(a<s&&(h=s,s=a,a=h,h=i,i=o,o=h);g-- >0;){if(h=UA(s,a,n),h===f)return r[i]=s,r[o]=a,t(r);if(h>0)s=Math.floor(s/h)*h,a=Math.ceil(a/h)*h;else if(h<0)s=Math.ceil(s*h)/h,a=Math.floor(a*h)/h;else break;f=h}return e},e}function VS(){var e=TL();return e.copy=function(){return Tx(e,VS())},Hs.apply(e,arguments),Qd(e)}function dK(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,FS),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return dK(e).unknown(t)},e=arguments.length?Array.from(e,FS):[0,1],Qd(n)}function fK(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function a6(e){return Math.log(e)}function s6(e){return Math.exp(e)}function FFe(e){return-Math.log(-e)}function UFe(e){return-Math.exp(-e)}function VFe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function WFe(e){return e===10?VFe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qFe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function l6(e){return(t,n)=>-e(-t,n)}function OL(e){const t=e(a6,s6),n=t.domain;let r=10,i,o;function s(){return i=qFe(r),o=WFe(r),n()[0]<0?(i=l6(i),o=l6(o),e(FFe,UFe)):e(a6,s6),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const f=n();let h=f[0],g=f[f.length-1];const y=g<h;y&&([h,g]=[g,h]);let x=i(h),P=i(g),E,S;const O=a==null?10:+a;let A=[];if(!(r%1)&&P-x<O){if(x=Math.floor(x),P=Math.ceil(P),h>0){for(;x<=P;++x)for(E=1;E<r;++E)if(S=x<0?E/o(-x):E*o(x),!(S<h)){if(S>g)break;A.push(S)}}else for(;x<=P;++x)for(E=r-1;E>=1;--E)if(S=x>0?E/o(-x):E*o(x),!(S<h)){if(S>g)break;A.push(S)}A.length*2<O&&(A=FA(h,g,O))}else A=FA(x,P,Math.min(P-x,O)).map(o);return y?A.reverse():A},t.tickFormat=(a,f)=>{if(a==null&&(a=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=_b(f)).precision==null&&(f.trim=!0),f=EL(f)),a===1/0)return f;const h=Math.max(1,r*a/t.ticks().length);return g=>{let y=g/o(Math.round(i(g)));return y*r<r-.5&&(y*=r),y<=h?f(g):""}},t.nice=()=>n(fK(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function hK(){const e=OL(IC()).domain([1,10]);return e.copy=()=>Tx(e,hK()).base(e.base()),Hs.apply(e,arguments),e}function c6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function u6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ML(e){var t=1,n=e(c6(t),u6(t));return n.constant=function(r){return arguments.length?e(c6(t=+r),u6(t)):t},Qd(n)}function pK(){var e=ML(IC());return e.copy=function(){return Tx(e,pK()).constant(e.constant())},Hs.apply(e,arguments)}function d6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function GFe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function HFe(e){return e<0?-e*e:e*e}function AL(e){var t=e(oa,oa),n=1;function r(){return n===1?e(oa,oa):n===.5?e(GFe,HFe):e(d6(n),d6(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Qd(t)}function IL(){var e=AL(IC());return e.copy=function(){return Tx(e,IL()).exponent(e.exponent())},Hs.apply(e,arguments),e}function YFe(){return IL.apply(null,arguments).exponent(.5)}function f6(e){return Math.sign(e)*e*e}function KFe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mK(){var e=TL(),t=[0,1],n=!1,r;function i(o){var s=KFe(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(f6(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,FS)).map(f6)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return mK(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Hs.apply(i,arguments),Qd(i)}function gK(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=eFe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[kx(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort($d),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return gK().domain(e).range(t).unknown(r)},Hs.apply(o,arguments)}function yK(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(f){return f!=null&&f<=f?i[kx(r,f,0,n)]:o}function a(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return s}return s.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,a()):[e,t]},s.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,a()):i.slice()},s.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},s.unknown=function(f){return arguments.length&&(o=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return yK().domain([e,t]).range(i).unknown(o)},Hs.apply(Qd(s),arguments)}function vK(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[kx(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return vK().domain(e).range(t).unknown(n)},Hs.apply(i,arguments)}const iO=new Date,oO=new Date;function Yi(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const f=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return f;let h;do f.push(h=new Date(+o)),t(o,a),e(o);while(h<o&&o<s);return f},i.filter=o=>Yi(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(iO.setTime(+o),oO.setTime(+s),e(iO),e(oO),Math.floor(n(iO,oO))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const WS=Yi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);WS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):WS);WS.range;const Zc=1e3,Os=Zc*60,Xc=Os*60,mu=Xc*24,$L=mu*7,h6=mu*30,aO=mu*365,Kf=Yi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zc)},(e,t)=>(t-e)/Zc,e=>e.getUTCSeconds());Kf.range;const RL=Yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zc)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getMinutes());RL.range;const DL=Yi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCMinutes());DL.range;const LL=Yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zc-e.getMinutes()*Os)},(e,t)=>{e.setTime(+e+t*Xc)},(e,t)=>(t-e)/Xc,e=>e.getHours());LL.range;const jL=Yi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xc)},(e,t)=>(t-e)/Xc,e=>e.getUTCHours());jL.range;const Px=Yi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Os)/mu,e=>e.getDate()-1);Px.range;const $C=Yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mu,e=>e.getUTCDate()-1);$C.range;const bK=Yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mu,e=>Math.floor(e/mu));bK.range;function Mh(e){return Yi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Os)/$L)}const RC=Mh(0),qS=Mh(1),ZFe=Mh(2),XFe=Mh(3),og=Mh(4),JFe=Mh(5),QFe=Mh(6);RC.range;qS.range;ZFe.range;XFe.range;og.range;JFe.range;QFe.range;function Ah(e){return Yi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$L)}const DC=Ah(0),GS=Ah(1),e6e=Ah(2),t6e=Ah(3),ag=Ah(4),n6e=Ah(5),r6e=Ah(6);DC.range;GS.range;e6e.range;t6e.range;ag.range;n6e.range;r6e.range;const NL=Yi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NL.range;const zL=Yi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());zL.range;const gu=Yi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});gu.range;const yu=Yi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});yu.range;function sO(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function o6e(e){let t,n,r;e.length!==2?(t=sO,n=(a,f)=>sO(e(a),f),r=(a,f)=>e(a)-f):(t=e===sO||e===i6e?e:a6e,n=e,r=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<0?h=y+1:g=y}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<=0?h=y+1:g=y}while(h<g)}return h}function s(a,f,h=0,g=a.length){const y=i(a,f,h,g-1);return y>h&&r(a[y-1],f)>-r(a[y],f)?y-1:y}return{left:i,center:s,right:o}}function a6e(){return 0}const s6e=Math.sqrt(50),l6e=Math.sqrt(10),c6e=Math.sqrt(2);function xK(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=s6e?10:o>=l6e?5:o>=c6e?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=n&&n<2?xK(e,t,n*2):[a,f,h]}function p6(e,t,n){return t=+t,e=+e,n=+n,xK(e,t,n)[2]}function m6(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?p6(t,e,n):p6(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function _K(e,t,n,r,i,o){const s=[[Kf,1,Zc],[Kf,5,5*Zc],[Kf,15,15*Zc],[Kf,30,30*Zc],[o,1,Os],[o,5,5*Os],[o,15,15*Os],[o,30,30*Os],[i,1,Xc],[i,3,3*Xc],[i,6,6*Xc],[i,12,12*Xc],[r,1,mu],[r,2,2*mu],[n,1,$L],[t,1,h6],[t,3,3*h6],[e,1,aO]];function a(h,g,y){const x=g<h;x&&([h,g]=[g,h]);const P=y&&typeof y.range=="function"?y:f(h,g,y),E=P?P.range(h,+g+1):[];return x?E.reverse():E}function f(h,g,y){const x=Math.abs(g-h)/y,P=o6e(([,,O])=>O).right(s,x);if(P===s.length)return e.every(m6(h/aO,g/aO,y));if(P===0)return WS.every(Math.max(m6(h,g,y),1));const[E,S]=s[x/s[P-1][2]<s[P][2]/x?P-1:P];return E.every(S)}return[a,f]}const[u6e,d6e]=_K(yu,zL,DC,bK,jL,DL),[f6e,h6e]=_K(gu,NL,RC,Px,LL,RL);function lO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Iv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function p6e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,f=e.shortMonths,h=$v(i),g=Rv(i),y=$v(o),x=Rv(o),P=$v(s),E=Rv(s),S=$v(a),O=Rv(a),A=$v(f),M=Rv(f),I={a:Ce,A:be,b:$e,B:Ue,c:null,d:_6,e:_6,f:j6e,g:H6e,G:K6e,H:R6e,I:D6e,j:L6e,L:wK,m:N6e,M:z6e,p:ft,q:Xe,Q:k6,s:C6,S:B6e,u:F6e,U:U6e,V:V6e,w:W6e,W:q6e,x:null,X:null,y:G6e,Y:Y6e,Z:Z6e,"%":S6},N={a:tt,A:lt,b:Ct,B:st,c:null,d:w6,e:w6,f:e8e,g:u8e,G:f8e,H:X6e,I:J6e,j:Q6e,L:kK,m:t8e,M:n8e,p:Ht,q:Lt,Q:k6,s:C6,S:r8e,u:i8e,U:o8e,V:a8e,w:s8e,W:l8e,x:null,X:null,y:c8e,Y:d8e,Z:h8e,"%":S6},$={a:Q,A:ae,b:fe,B:Se,c:ke,d:b6,e:b6,f:M6e,g:v6,G:y6,H:x6,I:x6,j:T6e,L:O6e,m:C6e,M:P6e,p:X,q:k6e,Q:I6e,s:$6e,S:E6e,u:b6e,U:x6e,V:_6e,w:v6e,W:w6e,x:we,X:Oe,y:v6,Y:y6,Z:S6e,"%":A6e};I.x=R(n,I),I.X=R(r,I),I.c=R(t,I),N.x=R(n,N),N.X=R(r,N),N.c=R(t,N);function R(He,_t){return function(pt){var Ve=[],Pt=-1,Tt=0,Ut=He.length,gn,bn,xn;for(pt instanceof Date||(pt=new Date(+pt));++Pt<Ut;)He.charCodeAt(Pt)===37&&(Ve.push(He.slice(Tt,Pt)),(bn=g6[gn=He.charAt(++Pt)])!=null?gn=He.charAt(++Pt):bn=gn==="e"?" ":"0",(xn=_t[gn])&&(gn=xn(pt,bn)),Ve.push(gn),Tt=Pt+1);return Ve.push(He.slice(Tt,Pt)),Ve.join("")}}function F(He,_t){return function(pt){var Ve=Iv(1900,void 0,1),Pt=q(Ve,He,pt+="",0),Tt,Ut;if(Pt!=pt.length)return null;if("Q"in Ve)return new Date(Ve.Q);if("s"in Ve)return new Date(Ve.s*1e3+("L"in Ve?Ve.L:0));if(_t&&!("Z"in Ve)&&(Ve.Z=0),"p"in Ve&&(Ve.H=Ve.H%12+Ve.p*12),Ve.m===void 0&&(Ve.m="q"in Ve?Ve.q:0),"V"in Ve){if(Ve.V<1||Ve.V>53)return null;"w"in Ve||(Ve.w=1),"Z"in Ve?(Tt=cO(Iv(Ve.y,0,1)),Ut=Tt.getUTCDay(),Tt=Ut>4||Ut===0?GS.ceil(Tt):GS(Tt),Tt=$C.offset(Tt,(Ve.V-1)*7),Ve.y=Tt.getUTCFullYear(),Ve.m=Tt.getUTCMonth(),Ve.d=Tt.getUTCDate()+(Ve.w+6)%7):(Tt=lO(Iv(Ve.y,0,1)),Ut=Tt.getDay(),Tt=Ut>4||Ut===0?qS.ceil(Tt):qS(Tt),Tt=Px.offset(Tt,(Ve.V-1)*7),Ve.y=Tt.getFullYear(),Ve.m=Tt.getMonth(),Ve.d=Tt.getDate()+(Ve.w+6)%7)}else("W"in Ve||"U"in Ve)&&("w"in Ve||(Ve.w="u"in Ve?Ve.u%7:"W"in Ve?1:0),Ut="Z"in Ve?cO(Iv(Ve.y,0,1)).getUTCDay():lO(Iv(Ve.y,0,1)).getDay(),Ve.m=0,Ve.d="W"in Ve?(Ve.w+6)%7+Ve.W*7-(Ut+5)%7:Ve.w+Ve.U*7-(Ut+6)%7);return"Z"in Ve?(Ve.H+=Ve.Z/100|0,Ve.M+=Ve.Z%100,cO(Ve)):lO(Ve)}}function q(He,_t,pt,Ve){for(var Pt=0,Tt=_t.length,Ut=pt.length,gn,bn;Pt<Tt;){if(Ve>=Ut)return-1;if(gn=_t.charCodeAt(Pt++),gn===37){if(gn=_t.charAt(Pt++),bn=$[gn in g6?_t.charAt(Pt++):gn],!bn||(Ve=bn(He,pt,Ve))<0)return-1}else if(gn!=pt.charCodeAt(Ve++))return-1}return Ve}function X(He,_t,pt){var Ve=h.exec(_t.slice(pt));return Ve?(He.p=g.get(Ve[0].toLowerCase()),pt+Ve[0].length):-1}function Q(He,_t,pt){var Ve=P.exec(_t.slice(pt));return Ve?(He.w=E.get(Ve[0].toLowerCase()),pt+Ve[0].length):-1}function ae(He,_t,pt){var Ve=y.exec(_t.slice(pt));return Ve?(He.w=x.get(Ve[0].toLowerCase()),pt+Ve[0].length):-1}function fe(He,_t,pt){var Ve=A.exec(_t.slice(pt));return Ve?(He.m=M.get(Ve[0].toLowerCase()),pt+Ve[0].length):-1}function Se(He,_t,pt){var Ve=S.exec(_t.slice(pt));return Ve?(He.m=O.get(Ve[0].toLowerCase()),pt+Ve[0].length):-1}function ke(He,_t,pt){return q(He,t,_t,pt)}function we(He,_t,pt){return q(He,n,_t,pt)}function Oe(He,_t,pt){return q(He,r,_t,pt)}function Ce(He){return s[He.getDay()]}function be(He){return o[He.getDay()]}function $e(He){return f[He.getMonth()]}function Ue(He){return a[He.getMonth()]}function ft(He){return i[+(He.getHours()>=12)]}function Xe(He){return 1+~~(He.getMonth()/3)}function tt(He){return s[He.getUTCDay()]}function lt(He){return o[He.getUTCDay()]}function Ct(He){return f[He.getUTCMonth()]}function st(He){return a[He.getUTCMonth()]}function Ht(He){return i[+(He.getUTCHours()>=12)]}function Lt(He){return 1+~~(He.getUTCMonth()/3)}return{format:function(He){var _t=R(He+="",I);return _t.toString=function(){return He},_t},parse:function(He){var _t=F(He+="",!1);return _t.toString=function(){return He},_t},utcFormat:function(He){var _t=R(He+="",N);return _t.toString=function(){return He},_t},utcParse:function(He){var _t=F(He+="",!0);return _t.toString=function(){return He},_t}}}var g6={"-":"",_:" ",0:"0"},so=/^\s*\d+/,m6e=/^%/,g6e=/[\\^$*+?|[\]().{}]/g;function tr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function y6e(e){return e.replace(g6e,"\\$&")}function $v(e){return new RegExp("^(?:"+e.map(y6e).join("|")+")","i")}function Rv(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function v6e(e,t,n){var r=so.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function b6e(e,t,n){var r=so.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function x6e(e,t,n){var r=so.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _6e(e,t,n){var r=so.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function w6e(e,t,n){var r=so.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function y6(e,t,n){var r=so.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function v6(e,t,n){var r=so.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function S6e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function k6e(e,t,n){var r=so.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function C6e(e,t,n){var r=so.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function b6(e,t,n){var r=so.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function T6e(e,t,n){var r=so.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function x6(e,t,n){var r=so.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function P6e(e,t,n){var r=so.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function E6e(e,t,n){var r=so.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function O6e(e,t,n){var r=so.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function M6e(e,t,n){var r=so.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function A6e(e,t,n){var r=m6e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function I6e(e,t,n){var r=so.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function $6e(e,t,n){var r=so.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _6(e,t){return tr(e.getDate(),t,2)}function R6e(e,t){return tr(e.getHours(),t,2)}function D6e(e,t){return tr(e.getHours()%12||12,t,2)}function L6e(e,t){return tr(1+Px.count(gu(e),e),t,3)}function wK(e,t){return tr(e.getMilliseconds(),t,3)}function j6e(e,t){return wK(e,t)+"000"}function N6e(e,t){return tr(e.getMonth()+1,t,2)}function z6e(e,t){return tr(e.getMinutes(),t,2)}function B6e(e,t){return tr(e.getSeconds(),t,2)}function F6e(e){var t=e.getDay();return t===0?7:t}function U6e(e,t){return tr(RC.count(gu(e)-1,e),t,2)}function SK(e){var t=e.getDay();return t>=4||t===0?og(e):og.ceil(e)}function V6e(e,t){return e=SK(e),tr(og.count(gu(e),e)+(gu(e).getDay()===4),t,2)}function W6e(e){return e.getDay()}function q6e(e,t){return tr(qS.count(gu(e)-1,e),t,2)}function G6e(e,t){return tr(e.getFullYear()%100,t,2)}function H6e(e,t){return e=SK(e),tr(e.getFullYear()%100,t,2)}function Y6e(e,t){return tr(e.getFullYear()%1e4,t,4)}function K6e(e,t){var n=e.getDay();return e=n>=4||n===0?og(e):og.ceil(e),tr(e.getFullYear()%1e4,t,4)}function Z6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tr(t/60|0,"0",2)+tr(t%60,"0",2)}function w6(e,t){return tr(e.getUTCDate(),t,2)}function X6e(e,t){return tr(e.getUTCHours(),t,2)}function J6e(e,t){return tr(e.getUTCHours()%12||12,t,2)}function Q6e(e,t){return tr(1+$C.count(yu(e),e),t,3)}function kK(e,t){return tr(e.getUTCMilliseconds(),t,3)}function e8e(e,t){return kK(e,t)+"000"}function t8e(e,t){return tr(e.getUTCMonth()+1,t,2)}function n8e(e,t){return tr(e.getUTCMinutes(),t,2)}function r8e(e,t){return tr(e.getUTCSeconds(),t,2)}function i8e(e){var t=e.getUTCDay();return t===0?7:t}function o8e(e,t){return tr(DC.count(yu(e)-1,e),t,2)}function CK(e){var t=e.getUTCDay();return t>=4||t===0?ag(e):ag.ceil(e)}function a8e(e,t){return e=CK(e),tr(ag.count(yu(e),e)+(yu(e).getUTCDay()===4),t,2)}function s8e(e){return e.getUTCDay()}function l8e(e,t){return tr(GS.count(yu(e)-1,e),t,2)}function c8e(e,t){return tr(e.getUTCFullYear()%100,t,2)}function u8e(e,t){return e=CK(e),tr(e.getUTCFullYear()%100,t,2)}function d8e(e,t){return tr(e.getUTCFullYear()%1e4,t,4)}function f8e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ag(e):ag.ceil(e),tr(e.getUTCFullYear()%1e4,t,4)}function h8e(){return"+0000"}function S6(){return"%"}function k6(e){return+e}function C6(e){return Math.floor(+e/1e3)}var Ip,TK,PK;p8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function p8e(e){return Ip=p6e(e),TK=Ip.format,Ip.parse,PK=Ip.utcFormat,Ip.utcParse,Ip}function m8e(e){return new Date(e)}function g8e(e){return e instanceof Date?+e:+new Date(+e)}function BL(e,t,n,r,i,o,s,a,f,h){var g=TL(),y=g.invert,x=g.domain,P=h(".%L"),E=h(":%S"),S=h("%I:%M"),O=h("%I %p"),A=h("%a %d"),M=h("%b %d"),I=h("%B"),N=h("%Y");function $(R){return(f(R)<R?P:a(R)<R?E:s(R)<R?S:o(R)<R?O:r(R)<R?i(R)<R?A:M:n(R)<R?I:N)(R)}return g.invert=function(R){return new Date(y(R))},g.domain=function(R){return arguments.length?x(Array.from(R,g8e)):x().map(m8e)},g.ticks=function(R){var F=x();return e(F[0],F[F.length-1],R??10)},g.tickFormat=function(R,F){return F==null?$:h(F)},g.nice=function(R){var F=x();return(!R||typeof R.range!="function")&&(R=t(F[0],F[F.length-1],R??10)),R?x(fK(F,R)):g},g.copy=function(){return Tx(g,BL(e,t,n,r,i,o,s,a,f,h))},g}function y8e(){return Hs.apply(BL(f6e,h6e,gu,NL,RC,Px,LL,RL,Kf,TK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function v8e(){return Hs.apply(BL(u6e,d6e,yu,zL,DC,$C,jL,DL,Kf,PK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function LC(){var e=0,t=1,n,r,i,o,s=oa,a=!1,f;function h(y){return y==null||isNaN(y=+y)?f:s(i===0?.5:(y=(o(y)-n)*i,a?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t]=y,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(y){return arguments.length?(a=!!y,h):a},h.interpolator=function(y){return arguments.length?(s=y,h):s};function g(y){return function(x){var P,E;return arguments.length?([P,E]=x,s=y(P,E),h):[s(0),s(1)]}}return h.range=g(qg),h.rangeRound=g(CL),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return o=y,n=y(e),r=y(t),i=n===r?0:1/(r-n),h}}function ef(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EK(){var e=Qd(LC()(oa));return e.copy=function(){return ef(e,EK())},Pu.apply(e,arguments)}function OK(){var e=OL(LC()).domain([1,10]);return e.copy=function(){return ef(e,OK()).base(e.base())},Pu.apply(e,arguments)}function MK(){var e=ML(LC());return e.copy=function(){return ef(e,MK()).constant(e.constant())},Pu.apply(e,arguments)}function FL(){var e=AL(LC());return e.copy=function(){return ef(e,FL()).exponent(e.exponent())},Pu.apply(e,arguments)}function b8e(){return FL.apply(null,arguments).exponent(.5)}function AK(){var e=[],t=oa;function n(r){if(r!=null&&!isNaN(r=+r))return t((kx(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort($d),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Q4e(e,o/r))},n.copy=function(){return AK(t).domain(e)},Pu.apply(n,arguments)}function jC(){var e=0,t=.5,n=1,r=1,i,o,s,a,f,h=oa,g,y=!1,x;function P(S){return isNaN(S=+S)?x:(S=.5+((S=+g(S))-o)*(r*S<r*o?a:f),h(y?Math.max(0,Math.min(1,S)):S))}P.domain=function(S){return arguments.length?([e,t,n]=S,i=g(e=+e),o=g(t=+t),s=g(n=+n),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,P):[e,t,n]},P.clamp=function(S){return arguments.length?(y=!!S,P):y},P.interpolator=function(S){return arguments.length?(h=S,P):h};function E(S){return function(O){var A,M,I;return arguments.length?([A,M,I]=O,h=CFe(S,[A,M,I]),P):[h(0),h(.5),h(1)]}}return P.range=E(qg),P.rangeRound=E(CL),P.unknown=function(S){return arguments.length?(x=S,P):x},function(S){return g=S,i=S(e),o=S(t),s=S(n),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,P}}function IK(){var e=Qd(jC()(oa));return e.copy=function(){return ef(e,IK())},Pu.apply(e,arguments)}function $K(){var e=OL(jC()).domain([.1,1,10]);return e.copy=function(){return ef(e,$K()).base(e.base())},Pu.apply(e,arguments)}function RK(){var e=ML(jC());return e.copy=function(){return ef(e,RK()).constant(e.constant())},Pu.apply(e,arguments)}function UL(){var e=AL(jC());return e.copy=function(){return ef(e,UL()).exponent(e.exponent())},Pu.apply(e,arguments)}function x8e(){return UL.apply(null,arguments).exponent(.5)}const T6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yb,scaleDiverging:IK,scaleDivergingLog:$K,scaleDivergingPow:UL,scaleDivergingSqrt:x8e,scaleDivergingSymlog:RK,scaleIdentity:dK,scaleImplicit:VA,scaleLinear:VS,scaleLog:hK,scaleOrdinal:wL,scalePoint:_0,scalePow:IL,scaleQuantile:gK,scaleQuantize:yK,scaleRadial:mK,scaleSequential:EK,scaleSequentialLog:OK,scaleSequentialPow:FL,scaleSequentialQuantile:AK,scaleSequentialSqrt:b8e,scaleSequentialSymlog:MK,scaleSqrt:YFe,scaleSymlog:pK,scaleThreshold:vK,scaleTime:y8e,scaleUtc:v8e,tickFormat:uK},Symbol.toStringTag,{value:"Module"}));var _8e=Lg;function w8e(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(s!=null&&(a===void 0?s===s&&!_8e(s):n(s,a)))var a=s,f=o}return f}var DK=w8e;function S8e(e,t){return e>t}var k8e=S8e,C8e=DK,T8e=k8e,P8e=Vg;function E8e(e){return e&&e.length?C8e(e,P8e,T8e):void 0}var O8e=E8e;const NC=mr(O8e);function M8e(e,t){return e<t}var A8e=M8e,I8e=DK,$8e=A8e,R8e=Vg;function D8e(e){return e&&e.length?I8e(e,R8e,$8e):void 0}var L8e=D8e;const zC=mr(L8e);var j8e=tL,N8e=Xd,z8e=LY,B8e=Ra;function F8e(e,t){var n=B8e(e)?j8e:z8e;return n(e,N8e(t))}var U8e=F8e,V8e=RY,W8e=U8e;function q8e(e,t){return V8e(W8e(e,t),1)}var G8e=q8e;const H8e=mr(G8e);var Y8e=yL;function K8e(e,t){return Y8e(e,t)}var Z8e=K8e;const BC=mr(Z8e);var Gg=1e9,X8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WL,ei=!0,Us="[DecimalError] ",ah=Us+"Invalid argument: ",VL=Us+"Exponent out of range: ",Hg=Math.floor,Df=Math.pow,J8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ga,to=1e7,Ur=7,LK=9007199254740991,HS=Hg(LK/Ur),Wt={};Wt.absoluteValue=Wt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Wt.comparedTo=Wt.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Wt.decimalPlaces=Wt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ur;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Wt.dividedBy=Wt.div=function(e){return ru(this,new this.constructor(e))};Wt.dividedToIntegerBy=Wt.idiv=function(e){var t=this,n=t.constructor;return Or(ru(t,new n(e),0,1),n.precision)};Wt.equals=Wt.eq=function(e){return!this.cmp(e)};Wt.exponent=function(){return Ri(this)};Wt.greaterThan=Wt.gt=function(e){return this.cmp(e)>0};Wt.greaterThanOrEqualTo=Wt.gte=function(e){return this.cmp(e)>=0};Wt.isInteger=Wt.isint=function(){return this.e>this.d.length-2};Wt.isNegative=Wt.isneg=function(){return this.s<0};Wt.isPositive=Wt.ispos=function(){return this.s>0};Wt.isZero=function(){return this.s===0};Wt.lessThan=Wt.lt=function(e){return this.cmp(e)<0};Wt.lessThanOrEqualTo=Wt.lte=function(e){return this.cmp(e)<1};Wt.logarithm=Wt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ga))throw Error(Us+"NaN");if(n.s<1)throw Error(Us+(n.s?"NaN":"-Infinity"));return n.eq(Ga)?new r(0):(ei=!1,t=ru(wb(n,o),wb(e,o),o),ei=!0,Or(t,i))};Wt.minus=Wt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zK(t,e):jK(t,(e.s=-e.s,e))};Wt.modulo=Wt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Us+"NaN");return n.s?(ei=!1,t=ru(n,e,0,1).times(e),ei=!0,n.minus(t)):Or(new r(n),i)};Wt.naturalExponential=Wt.exp=function(){return NK(this)};Wt.naturalLogarithm=Wt.ln=function(){return wb(this)};Wt.negated=Wt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Wt.plus=Wt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jK(t,e):zK(t,(e.s=-e.s,e))};Wt.precision=Wt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ah+e);if(t=Ri(i)+1,r=i.d.length-1,n=r*Ur+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Wt.squareRoot=Wt.sqrt=function(){var e,t,n,r,i,o,s,a=this,f=a.constructor;if(a.s<1){if(!a.s)return new f(0);throw Error(Us+"NaN")}for(e=Ri(a),ei=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Jl(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Hg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=s=n+3;;)if(o=r,r=o.plus(ru(a,o,s+2)).times(.5),Jl(o.d).slice(0,s)===(t=Jl(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Or(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(t!="9999")break;s+=4}return ei=!0,Or(r,n)};Wt.times=Wt.mul=function(e){var t,n,r,i,o,s,a,f,h,g=this,y=g.constructor,x=g.d,P=(e=new y(e)).d;if(!g.s||!e.s)return new y(0);for(e.s*=g.s,n=g.e+e.e,f=x.length,h=P.length,f<h&&(o=x,x=P,P=o,s=f,f=h,h=s),o=[],s=f+h,r=s;r--;)o.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)a=o[i]+P[r]*x[i-r-1]+t,o[i--]=a%to|0,t=a/to|0;o[i]=(o[i]+t)%to|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,ei?Or(e,y.precision):e};Wt.toDecimalPlaces=Wt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(dc(e,0,Gg),t===void 0?t=r.rounding:dc(t,0,8),Or(n,e+Ri(n)+1,t))};Wt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=wh(r,!0):(dc(e,0,Gg),t===void 0?t=i.rounding:dc(t,0,8),r=Or(new i(r),e+1,t),n=wh(r,!0,e+1)),n};Wt.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?wh(i):(dc(e,0,Gg),t===void 0?t=o.rounding:dc(t,0,8),r=Or(new o(i),e+Ri(i)+1,t),n=wh(r.abs(),!1,e+Ri(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Wt.toInteger=Wt.toint=function(){var e=this,t=e.constructor;return Or(new t(e),Ri(e)+1,t.rounding)};Wt.toNumber=function(){return+this};Wt.toPower=Wt.pow=function(e){var t,n,r,i,o,s,a=this,f=a.constructor,h=12,g=+(e=new f(e));if(!e.s)return new f(Ga);if(a=new f(a),!a.s){if(e.s<1)throw Error(Us+"Infinity");return a}if(a.eq(Ga))return a;if(r=f.precision,e.eq(Ga))return Or(a,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=a.s,s){if((n=g<0?-g:g)<=LK){for(i=new f(Ga),t=Math.ceil(r/Ur+4),ei=!1;n%2&&(i=i.times(a),E6(i.d,t)),n=Hg(n/2),n!==0;)a=a.times(a),E6(a.d,t);return ei=!0,e.s<0?new f(Ga).div(i):Or(i,r)}}else if(o<0)throw Error(Us+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,ei=!1,i=e.times(wb(a,r+h)),ei=!0,i=NK(i),i.s=o,i};Wt.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Ri(i),r=wh(i,n<=o.toExpNeg||n>=o.toExpPos)):(dc(e,1,Gg),t===void 0?t=o.rounding:dc(t,0,8),i=Or(new o(i),e,t),n=Ri(i),r=wh(i,e<=n||n<=o.toExpNeg,e)),r};Wt.toSignificantDigits=Wt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(dc(e,1,Gg),t===void 0?t=r.rounding:dc(t,0,8)),Or(new r(n),e,t)};Wt.toString=Wt.valueOf=Wt.val=Wt.toJSON=Wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ri(e),n=e.constructor;return wh(e,t<=n.toExpNeg||t>=n.toExpPos)};function jK(e,t){var n,r,i,o,s,a,f,h,g=e.constructor,y=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),ei?Or(t,y):t;if(f=e.d,h=t.d,s=e.e,i=t.e,f=f.slice(),o=s-i,o){for(o<0?(r=f,o=-o,a=h.length):(r=h,i=s,a=f.length),s=Math.ceil(y/Ur),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=f.length,o=h.length,a-o<0&&(o=a,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/to|0,f[o]%=to;for(n&&(f.unshift(n),++i),a=f.length;f[--a]==0;)f.pop();return t.d=f,t.e=i,ei?Or(t,y):t}function dc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ah+e)}function Jl(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=Ur-r.length,n&&(o+=ld(n)),o+=r;s=e[t],r=s+"",n=Ur-r.length,n&&(o+=ld(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ru=function(){function e(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%to|0,s=o/to|0;return s&&r.unshift(s),r}function t(r,i,o,s){var a,f;if(o!=s)f=o>s?1:-1;else for(a=f=0;a<o;a++)if(r[a]!=i[a]){f=r[a]>i[a]?1:-1;break}return f}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*to+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,f,h,g,y,x,P,E,S,O,A,M,I,N,$,R,F,q,X=r.constructor,Q=r.s==i.s?1:-1,ae=r.d,fe=i.d;if(!r.s)return new X(r);if(!i.s)throw Error(Us+"Division by zero");for(f=r.e-i.e,F=fe.length,$=ae.length,P=new X(Q),E=P.d=[],h=0;fe[h]==(ae[h]||0);)++h;if(fe[h]>(ae[h]||0)&&--f,o==null?M=o=X.precision:s?M=o+(Ri(r)-Ri(i))+1:M=o,M<0)return new X(0);if(M=M/Ur+2|0,h=0,F==1)for(g=0,fe=fe[0],M++;(h<$||g)&&M--;h++)I=g*to+(ae[h]||0),E[h]=I/fe|0,g=I%fe|0;else{for(g=to/(fe[0]+1)|0,g>1&&(fe=e(fe,g),ae=e(ae,g),F=fe.length,$=ae.length),N=F,S=ae.slice(0,F),O=S.length;O<F;)S[O++]=0;q=fe.slice(),q.unshift(0),R=fe[0],fe[1]>=to/2&&++R;do g=0,a=t(fe,S,F,O),a<0?(A=S[0],F!=O&&(A=A*to+(S[1]||0)),g=A/R|0,g>1?(g>=to&&(g=to-1),y=e(fe,g),x=y.length,O=S.length,a=t(y,S,x,O),a==1&&(g--,n(y,F<x?q:fe,x))):(g==0&&(a=g=1),y=fe.slice()),x=y.length,x<O&&y.unshift(0),n(S,y,O),a==-1&&(O=S.length,a=t(fe,S,F,O),a<1&&(g++,n(S,F<O?q:fe,O))),O=S.length):a===0&&(g++,S=[0]),E[h++]=g,a&&S[0]?S[O++]=ae[N]||0:(S=[ae[N]],O=1);while((N++<$||S[0]!==void 0)&&M--)}return E[0]||E.shift(),P.e=f,Or(P,s?o+Ri(P)+1:o)}}();function NK(e,t){var n,r,i,o,s,a,f=0,h=0,g=e.constructor,y=g.precision;if(Ri(e)>16)throw Error(VL+Ri(e));if(!e.s)return new g(Ga);for(t==null?(ei=!1,a=y):a=t,s=new g(.03125);e.abs().gte(.1);)e=e.times(s),h+=5;for(r=Math.log(Df(2,h))/Math.LN10*2+5|0,a+=r,n=i=o=new g(Ga),g.precision=a;;){if(i=Or(i.times(e),a),n=n.times(++f),s=o.plus(ru(i,n,a)),Jl(s.d).slice(0,a)===Jl(o.d).slice(0,a)){for(;h--;)o=Or(o.times(o),a);return g.precision=y,t==null?(ei=!0,Or(o,y)):o}o=s}}function Ri(e){for(var t=e.e*Ur,n=e.d[0];n>=10;n/=10)t++;return t}function uO(e,t,n){if(t>e.LN10.sd())throw ei=!0,n&&(e.precision=n),Error(Us+"LN10 precision limit exceeded");return Or(new e(e.LN10),t)}function ld(e){for(var t="";e--;)t+="0";return t}function wb(e,t){var n,r,i,o,s,a,f,h,g,y=1,x=10,P=e,E=P.d,S=P.constructor,O=S.precision;if(P.s<1)throw Error(Us+(P.s?"NaN":"-Infinity"));if(P.eq(Ga))return new S(0);if(t==null?(ei=!1,h=O):h=t,P.eq(10))return t==null&&(ei=!0),uO(S,h);if(h+=x,S.precision=h,n=Jl(E),r=n.charAt(0),o=Ri(P),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)P=P.times(e),n=Jl(P.d),r=n.charAt(0),y++;o=Ri(P),r>1?(P=new S("0."+n),o++):P=new S(r+"."+n.slice(1))}else return f=uO(S,h+2,O).times(o+""),P=wb(new S(r+"."+n.slice(1)),h-x).plus(f),S.precision=O,t==null?(ei=!0,Or(P,O)):P;for(a=s=P=ru(P.minus(Ga),P.plus(Ga),h),g=Or(P.times(P),h),i=3;;){if(s=Or(s.times(g),h),f=a.plus(ru(s,new S(i),h)),Jl(f.d).slice(0,h)===Jl(a.d).slice(0,h))return a=a.times(2),o!==0&&(a=a.plus(uO(S,h+2,O).times(o+""))),a=ru(a,new S(y),h),S.precision=O,t==null?(ei=!0,Or(a,O)):a;a=f,i+=2}}function P6(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Hg(n/Ur),e.d=[],r=(n+1)%Ur,n<0&&(r+=Ur),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ur;r<i;)e.d.push(+t.slice(r,r+=Ur));t=t.slice(r),r=Ur-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ei&&(e.e>HS||e.e<-HS))throw Error(VL+n)}else e.s=0,e.e=0,e.d=[0];return e}function Or(e,t,n){var r,i,o,s,a,f,h,g,y=e.d;for(s=1,o=y[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=Ur,i=t,h=y[g=0];else{if(g=Math.ceil((r+1)/Ur),o=y.length,g>=o)return e;for(h=o=y[g],s=1;o>=10;o/=10)s++;r%=Ur,i=r-Ur+s}if(n!==void 0&&(o=Df(10,s-i-1),a=h/o%10|0,f=t<0||y[g+1]!==void 0||h%o,f=n<4?(a||f)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||f||n==6&&(r>0?i>0?h/Df(10,s-i):0:y[g-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return f?(o=Ri(e),y.length=1,t=t-o-1,y[0]=Df(10,(Ur-t%Ur)%Ur),e.e=Hg(-t/Ur)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(r==0?(y.length=g,o=1,g--):(y.length=g+1,o=Df(10,Ur-r),y[g]=i>0?(h/Df(10,s-i)%Df(10,i)|0)*o:0),f)for(;;)if(g==0){(y[0]+=o)==to&&(y[0]=1,++e.e);break}else{if(y[g]+=o,y[g]!=to)break;y[g--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(ei&&(e.e>HS||e.e<-HS))throw Error(VL+Ri(e));return e}function zK(e,t){var n,r,i,o,s,a,f,h,g,y,x=e.constructor,P=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),ei?Or(t,P):t;if(f=e.d,y=t.d,r=t.e,h=e.e,f=f.slice(),s=h-r,s){for(g=s<0,g?(n=f,s=-s,a=y.length):(n=y,r=h,a=f.length),i=Math.max(Math.ceil(P/Ur),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=f.length,a=y.length,g=i<a,g&&(a=i),i=0;i<a;i++)if(f[i]!=y[i]){g=f[i]<y[i];break}s=0}for(g&&(n=f,f=y,y=n,t.s=-t.s),a=f.length,i=y.length-a;i>0;--i)f[a++]=0;for(i=y.length;i>s;){if(f[--i]<y[i]){for(o=i;o&&f[--o]===0;)f[o]=to-1;--f[o],f[i]+=to}f[i]-=y[i]}for(;f[--a]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,ei?Or(t,P):t):new x(0)}function wh(e,t,n){var r,i=Ri(e),o=Jl(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ld(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ld(-i-1)+o,n&&(r=n-s)>0&&(o+=ld(r))):i>=s?(o+=ld(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ld(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ld(r))),e.s<0?"-"+o:o}function E6(e,t){if(e.length>t)return e.length=t,!0}function BK(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ah+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return P6(s,o.toString())}else if(typeof o!="string")throw Error(ah+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,J8e.test(o))P6(s,o);else throw Error(ah+o)}if(i.prototype=Wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=BK,i.config=i.set=Q8e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Q8e(e){if(!e||typeof e!="object")throw Error(Us+"Object expected");var t,n,r,i=["precision",1,Gg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Hg(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ah+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ah+n+": "+r);return this}var WL=BK(X8e);Ga=new WL(1);const Sr=WL;function eUe(e){return iUe(e)||rUe(e)||nUe(e)||tUe()}function tUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nUe(e,t){if(e){if(typeof e=="string")return HA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HA(e,t)}}function rUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function iUe(e){if(Array.isArray(e))return HA(e)}function HA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oUe=function(t){return t},FK={"@@functional/placeholder":!0},UK=function(t){return t===FK},O6=function(t){return function n(){return arguments.length===0||arguments.length===1&&UK(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},aUe=function e(t,n){return t===1?n:O6(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==FK}).length;return s>=t?n.apply(void 0,i):e(t-s,O6(function(){for(var a=arguments.length,f=new Array(a),h=0;h<a;h++)f[h]=arguments[h];var g=i.map(function(y){return UK(y)?f.shift():y});return n.apply(void 0,eUe(g).concat(f))}))})},FC=function(t){return aUe(t.length,t)},YA=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},sUe=FC(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),lUe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return oUe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,f){return f(a)},o.apply(void 0,arguments))}},KA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},VK=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,f){return a===n[f]})||(n=o,r=t.apply(void 0,o)),r}};function cUe(e){var t;return e===0?t=1:t=Math.floor(new Sr(e).abs().log(10).toNumber())+1,t}function uUe(e,t,n){for(var r=new Sr(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var dUe=FC(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),fUe=FC(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),hUe=FC(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const UC={rangeStep:uUe,getDigitCount:cUe,interpolateNumber:dUe,uninterpolateNumber:fUe,uninterpolateTruncation:hUe};function ZA(e){return gUe(e)||mUe(e)||WK(e)||pUe()}function pUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gUe(e){if(Array.isArray(e))return XA(e)}function Sb(e,t){return bUe(e)||vUe(e,t)||WK(e,t)||yUe()}function yUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WK(e,t){if(e){if(typeof e=="string")return XA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XA(e,t)}}function XA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vUe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function bUe(e){if(Array.isArray(e))return e}function qK(e){var t=Sb(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function GK(e,t,n){if(e.lte(0))return new Sr(0);var r=UC.getDigitCount(e.toNumber()),i=new Sr(10).pow(r),o=e.div(i),s=r!==1?.05:.1,a=new Sr(Math.ceil(o.div(s).toNumber())).add(n).mul(s),f=a.mul(i);return t?f:new Sr(Math.ceil(f))}function xUe(e,t,n){var r=1,i=new Sr(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Sr(10).pow(UC.getDigitCount(e)-1),i=new Sr(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Sr(Math.floor(e)))}else e===0?i=new Sr(Math.floor((t-1)/2)):n||(i=new Sr(Math.floor(e)));var s=Math.floor((t-1)/2),a=lUe(sUe(function(f){return i.add(new Sr(f-s).mul(r)).toNumber()}),YA);return a(0,t)}function HK(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Sr(0),tickMin:new Sr(0),tickMax:new Sr(0)};var o=GK(new Sr(t).sub(e).div(n-1),r,i),s;e<=0&&t>=0?s=new Sr(0):(s=new Sr(e).add(t).div(2),s=s.sub(new Sr(s).mod(o)));var a=Math.ceil(s.sub(e).div(o).toNumber()),f=Math.ceil(new Sr(t).sub(s).div(o).toNumber()),h=a+f+1;return h>n?HK(e,t,n,r,i+1):(h<n&&(f=t>0?f+(n-h):f,a=t>0?a:a+(n-h)),{step:o,tickMin:s.sub(new Sr(a).mul(o)),tickMax:s.add(new Sr(f).mul(o))})}function _Ue(e){var t=Sb(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=qK([n,r]),f=Sb(a,2),h=f[0],g=f[1];if(h===-1/0||g===1/0){var y=g===1/0?[h].concat(ZA(YA(0,i-1).map(function(){return 1/0}))):[].concat(ZA(YA(0,i-1).map(function(){return-1/0})),[g]);return n>r?KA(y):y}if(h===g)return xUe(h,i,o);var x=HK(h,g,s,o),P=x.step,E=x.tickMin,S=x.tickMax,O=UC.rangeStep(E,S.add(new Sr(.1).mul(P)),P);return n>r?KA(O):O}function wUe(e,t){var n=Sb(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=qK([r,i]),a=Sb(s,2),f=a[0],h=a[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var g=Math.max(t,2),y=GK(new Sr(h).sub(f).div(g-1),o,0),x=[].concat(ZA(UC.rangeStep(new Sr(f),new Sr(h).sub(new Sr(.99).mul(y)),y)),[h]);return r>i?KA(x):x}var SUe=VK(_Ue),kUe=VK(wUe),CUe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YS.apply(this,arguments)}function TUe(e,t){return MUe(e)||OUe(e,t)||EUe(e,t)||PUe()}function PUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EUe(e,t){if(e){if(typeof e=="string")return M6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M6(e,t)}}function M6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function MUe(e){if(Array.isArray(e))return e}function AUe(e,t){if(e==null)return{};var n=IUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ex(e){var t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,a=e.xAxis,f=e.yAxis,h=AUe(e,CUe),g=Vn(h),y=o.map(function(x){var P=s(x,i),E=P.x,S=P.y,O=P.value,A=P.errorVal;if(!A)return null;var M=[],I,N;if(Array.isArray(A)){var $=TUe(A,2);I=$[0],N=$[1]}else I=N=A;if(n==="vertical"){var R=a.scale,F=S+t,q=F+r,X=F-r,Q=R(O-I),ae=R(O+N);M.push({x1:ae,y1:q,x2:ae,y2:X}),M.push({x1:Q,y1:F,x2:ae,y2:F}),M.push({x1:Q,y1:q,x2:Q,y2:X})}else if(n==="horizontal"){var fe=f.scale,Se=E+t,ke=Se-r,we=Se+r,Oe=fe(O-I),Ce=fe(O+N);M.push({x1:ke,y1:Ce,x2:we,y2:Ce}),M.push({x1:Se,y1:Oe,x2:Se,y2:Ce}),M.push({x1:ke,y1:Oe,x2:we,y2:Oe})}return Ee.createElement(Pi,YS({className:"recharts-errorBar",key:"bar-".concat(M.map(function(be){return"".concat(be.x1,"-").concat(be.x2,"-").concat(be.y1,"-").concat(be.y2)}))},g),M.map(function(be){return Ee.createElement("line",YS({},be,{key:"line-".concat(be.x1,"-").concat(be.x2,"-").concat(be.y1,"-").concat(be.y2)}))}))});return Ee.createElement(Pi,{className:"recharts-errorBars"},y)}Ex.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Ex.displayName="ErrorBar";function kb(e){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kb(e)}function A6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A6(Object(n),!0).forEach(function(r){$Ue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Ue(e,t,n){return t=RUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RUe(e){var t=DUe(e,"string");return kb(t)==="symbol"?t:String(t)}function DUe(e,t){if(kb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YK=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=Kc(n,Qm);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(r||[]).reduce(function(f,h){var g=h.item,y=h.props,x=y.sectors||y.data||[];return f.concat(x.map(function(P){return{type:s.props.iconType||g.props.legendType,value:P.name,color:P.fill,payload:P}}))},[]):a=(r||[]).map(function(f){var h=f.item,g=h.props,y=g.dataKey,x=g.name,P=g.legendType,E=g.hide;return{inactive:E,dataKey:y,type:s.props.iconType||P||"square",color:qL(h),value:x||y,payload:h.props}}),dO(dO(dO({},s.props),Qm.getWithHeight(s,i)),{},{payload:a,item:s})};function Cb(e){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cb(e)}function I6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I6(Object(n),!0).forEach(function(r){Tm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tm(e,t,n){return t=LUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LUe(e){var t=jUe(e,"string");return Cb(t)==="symbol"?t:String(t)}function jUe(e,t){if(Cb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $6(e){return FUe(e)||BUe(e)||zUe(e)||NUe()}function NUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zUe(e,t){if(e){if(typeof e=="string")return JA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JA(e,t)}}function BUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FUe(e){if(Array.isArray(e))return JA(e)}function JA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ts(e,t,n){return Hn(e)||Hn(t)?n:qi(t)?Rs(e,t,n):Nn(t)?t(e):n}function w0(e,t,n,r){var i=H8e(e,function(a){return ts(a,t)});if(n==="number"){var o=i.filter(function(a){return Et(a)||parseFloat(a)});return o.length?[zC(o),NC(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Hn(a)}):i;return s.map(function(a){return qi(a)||a instanceof Date?a:""})}var UUe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,h=0;h<a;h++){var g=h>0?i[h-1].coordinate:i[a-1].coordinate,y=i[h].coordinate,x=h>=a-1?i[0].coordinate:i[h+1].coordinate,P=void 0;if(kl(y-g)!==kl(x-y)){var E=[];if(kl(x-y)===kl(f[1]-f[0])){P=x;var S=y+f[1]-f[0];E[0]=Math.min(S,(S+g)/2),E[1]=Math.max(S,(S+g)/2)}else{P=g;var O=x+f[1]-f[0];E[0]=Math.min(y,(O+y)/2),E[1]=Math.max(y,(O+y)/2)}var A=[Math.min(y,(P+y)/2),Math.max(y,(P+y)/2)];if(t>A[0]&&t<=A[1]||t>=E[0]&&t<=E[1]){s=i[h].index;break}}else{var M=Math.min(g,x),I=Math.max(g,x);if(t>(M+y)/2&&t<=(I+y)/2){s=i[h].index;break}}}else for(var N=0;N<a;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},qL=function(t){var n=t,r=n.type.displayName,i=t.props,o=i.stroke,s=i.fill,a;switch(r){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},VUe=function(t){var n=t.barSize,r=t.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},s=Object.keys(i),a=0,f=s.length;a<f;a++)for(var h=i[s[a]].stackGroups,g=Object.keys(h),y=0,x=g.length;y<x;y++){var P=h[g[y]],E=P.items,S=P.cateAxisId,O=E.filter(function(I){return tu(I.type).indexOf("Bar")>=0});if(O&&O.length){var A=O[0].props.barSize,M=O[0].props[S];o[M]||(o[M]=[]),o[M].push({item:O[0],stackList:O.slice(1),barSize:Hn(A)?n:A})}}return o},WUe=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,a=t.maxBarSize,f=s.length;if(f<1)return null;var h=Km(n,i,0,!0),g,y=[];if(s[0].barSize===+s[0].barSize){var x=!1,P=i/f,E=s.reduce(function(N,$){return N+$.barSize||0},0);E+=(f-1)*h,E>=i&&(E-=(f-1)*h,h=0),E>=i&&P>0&&(x=!0,P*=.9,E=f*P);var S=(i-E)/2>>0,O={offset:S-h,size:0};g=s.reduce(function(N,$){var R={item:$.item,position:{offset:O.offset+O.size+h,size:x?P:$.barSize}},F=[].concat($6(N),[R]);return O=F[F.length-1].position,$.stackList&&$.stackList.length&&$.stackList.forEach(function(q){F.push({item:q,position:O})}),F},y)}else{var A=Km(r,i,0,!0);i-2*A-(f-1)*h<=0&&(h=0);var M=(i-2*A-(f-1)*h)/f;M>1&&(M>>=0);var I=a===+a?Math.min(M,a):M;g=s.reduce(function(N,$,R){var F=[].concat($6(N),[{item:$.item,position:{offset:A+(M+h)*R+(M-I)/2,size:I}}]);return $.stackList&&$.stackList.length&&$.stackList.forEach(function(q){F.push({item:q,position:F[F.length-1].position})}),F},y)}return g},qUe=function(t,n,r,i){var o=r.children,s=r.width,a=r.margin,f=s-(a.left||0)-(a.right||0),h=YK({children:o,legendWidth:f});if(h){var g=i||{},y=g.width,x=g.height,P=h.align,E=h.verticalAlign,S=h.layout;if((S==="vertical"||S==="horizontal"&&E==="middle")&&P!=="center"&&Et(t[P]))return Cs(Cs({},t),{},Tm({},P,t[P]+(y||0)));if((S==="horizontal"||S==="vertical"&&P==="center")&&E!=="middle"&&Et(t[E]))return Cs(Cs({},t),{},Tm({},E,t[E]+(x||0)))}return t},GUe=function(t,n,r){return Hn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},KK=function(t,n,r,i,o){var s=n.props.children,a=Ds(s,Ex).filter(function(h){return GUe(i,o,h.props.direction)});if(a&&a.length){var f=a.map(function(h){return h.props.dataKey});return t.reduce(function(h,g){var y=ts(g,r,0),x=Array.isArray(y)?[zC(y),NC(y)]:[y,y],P=f.reduce(function(E,S){var O=ts(g,S,0),A=x[0]-Math.abs(Array.isArray(O)?O[0]:O),M=x[1]+Math.abs(Array.isArray(O)?O[1]:O);return[Math.min(A,E[0]),Math.max(M,E[1])]},[1/0,-1/0]);return[Math.min(P[0],h[0]),Math.max(P[1],h[1])]},[1/0,-1/0])}return null},HUe=function(t,n,r,i,o){var s=n.map(function(a){return KK(t,a,r,o,i)}).filter(function(a){return!Hn(a)});return s&&s.length?s.reduce(function(a,f){return[Math.min(a[0],f[0]),Math.max(a[1],f[1])]},[1/0,-1/0]):null},ZK=function(t,n,r,i,o){var s=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&KK(t,f,h,i)||w0(t,h,r,o)});if(r==="number")return s.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var a={};return s.reduce(function(f,h){for(var g=0,y=h.length;g<y;g++)a[h[g]]||(a[h[g]]=!0,f.push(h[g]));return f},[])},XK=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},R6=function(t,n,r,i){if(i)return t.map(function(f){return f.coordinate});var o,s,a=t.map(function(f){return f.coordinate===n&&(o=!0),f.coordinate===r&&(s=!0),f.coordinate});return o||a.push(n),s||a.push(r),a},id=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,s=t.type,a=t.range,f=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=t.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?kl(a[0]-a[1])*2*h:h,n&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(y){var x=o?o.indexOf(y):y;return{coordinate:i(x)+h,value:y,offset:h}});return g.filter(function(y){return!_x(y.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(y,x){return{coordinate:i(y)+h,value:y,index:x,offset:h}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(y){return{coordinate:i(y)+h,value:y,offset:h}}):i.domain().map(function(y,x){return{coordinate:i(y)+h,value:o?o[y]:y,index:x,offset:h}})},fO=new WeakMap,R1=function(t,n){if(typeof n!="function")return t;fO.has(t)||fO.set(t,new WeakMap);var r=fO.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},YUe=function(t,n,r){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:yb(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:VS(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:_0(),realScaleType:"point"}:o==="category"?{scale:yb(),realScaleType:"band"}:{scale:VS(),realScaleType:"linear"};if(xx(i)){var f="scale".concat(CC(i));return{scale:(T6[f]||_0)(),realScaleType:T6[f]?f:"point"}}return Nn(i)?{scale:i}:{scale:_0(),realScaleType:"point"}},D6=1e-4,KUe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-D6,s=Math.max(i[0],i[1])+D6,a=t(n[0]),f=t(n[r-1]);(a<o||a>s||f<o||f>s)&&t.domain([n[0],n[r-1]])}},ZUe=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},XUe=function(t,n){if(!n||n.length!==2||!Et(n[0])||!Et(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!Et(t[0])||t[0]<r)&&(o[0]=r),(!Et(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},JUe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var f=_x(t[a][r][1])?t[a][r][0]:t[a][r][1];f>=0?(t[a][r][0]=o,t[a][r][1]=o+f,o=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+f,s=t[a][r][1])}},QUe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=_x(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=o,t[s][r][1]=o+a,o=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},eVe={sign:JUe,expand:YIe,none:Zm,silhouette:KIe,wiggle:ZIe,positive:QUe},tVe=function(t,n,r){var i=n.map(function(a){return a.props.dataKey}),o=eVe[r],s=HIe().keys(i).value(function(a,f){return+ts(a,f,0)}).order(vA).offset(o);return s(t)},nVe=function(t,n,r,i,o,s){if(!t)return null;var a=s?n.reverse():n,f={},h=a.reduce(function(y,x){var P=x.props,E=P.stackId,S=P.hide;if(S)return y;var O=x.props[r],A=y[O]||{hasStack:!1,stackGroups:{}};if(qi(E)){var M=A.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};M.items.push(x),A.hasStack=!0,A.stackGroups[E]=M}else A.stackGroups[wx("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[x]};return Cs(Cs({},y),{},Tm({},O,A))},f),g={};return Object.keys(h).reduce(function(y,x){var P=h[x];if(P.hasStack){var E={};P.stackGroups=Object.keys(P.stackGroups).reduce(function(S,O){var A=P.stackGroups[O];return Cs(Cs({},S),{},Tm({},O,{numericAxisId:r,cateAxisId:i,items:A.items,stackedData:tVe(t,A.items,o)}))},E)}return Cs(Cs({},y),{},Tm({},x,P))},g)},rVe=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=t.domain();if(!h.length)return null;var g=SUe(h,o,a);return t.domain([zC(g),NC(g)]),{niceTicks:g}}if(o&&i==="number"){var y=t.domain(),x=kUe(y,o,a);return{niceTicks:x}}return null},L6=function(t){var n=t.axis,r=t.ticks,i=t.bandSize,o=t.entry,s=t.index,a=t.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!Hn(o[n.dataKey])){var f=gS(r,"value",o[n.dataKey]);if(f)return f.coordinate+i/2}return r[s]?r[s].coordinate+i/2:null}var h=ts(o,Hn(a)?n.dataKey:a);return Hn(h)?null:n.scale(h)},j6=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,s=t.entry,a=t.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var f=ts(s,n.dataKey,n.domain[a]);return Hn(f)?null:n.scale(f)-o/2+i},iVe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},oVe=function(t,n){var r=t.props.stackId;if(qi(r)){var i=n[r];if(i){var o=i.items.indexOf(t);return o>=0?i.stackedData[o]:null}}return null},aVe=function(t){return t.reduce(function(n,r){return[zC(r.concat([n[0]]).filter(Et)),NC(r.concat([n[1]]).filter(Et))]},[1/0,-1/0])},JK=function(t,n,r){return Object.keys(t).reduce(function(i,o){var s=t[o],a=s.stackedData,f=a.reduce(function(h,g){var y=aVe(g.slice(n,r+1));return[Math.min(h[0],y[0]),Math.max(h[1],y[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},N6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QA=function(t,n,r){if(Nn(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Et(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(N6.test(t[0])){var o=+N6.exec(t[0])[1];i[0]=n[0]-o}else Nn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Et(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(z6.test(t[1])){var s=+z6.exec(t[1])[1];i[1]=n[1]+s}else Nn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},KS=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=bL(n,function(y){return y.coordinate}),s=1/0,a=1,f=o.length;a<f;a++){var h=o[a],g=o[a-1];s=Math.min((h.coordinate||0)-(g.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},B6=function(t,n,r){return!t||!t.length||BC(t,Rs(r,"type.defaultProps.domain"))?n:t},QK=function(t,n){var r=t.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,f=r.tooltipType,h=r.chartType;return Cs(Cs({},Vn(t)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:qL(t),value:ts(n,i),type:f,payload:n,chartType:h})};function Tb(e){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tb(e)}function F6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(n),!0).forEach(function(r){sVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sVe(e,t,n){return t=lVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lVe(e){var t=cVe(e,"string");return Tb(t)==="symbol"?t:String(t)}function cVe(e,t){if(Tb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZS=Math.PI/180,uVe=function(t){return t*180/Math.PI},bo=function(t,n,r,i){return{x:t+Math.cos(-ZS*i)*r,y:n+Math.sin(-ZS*i)*r}},dVe=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},fVe=function(t,n){var r=t.x,i=t.y,o=n.cx,s=n.cy,a=dVe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var f=(r-o)/a,h=Math.acos(f);return i>s&&(h=2*Math.PI-h),{radius:a,angle:uVe(h),angleInRadian:h}},hVe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},pVe=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return t+a*360},V6=function(t,n){var r=t.x,i=t.y,o=fVe({x:r,y:i},n),s=o.radius,a=o.angle,f=n.innerRadius,h=n.outerRadius;if(s<f||s>h)return!1;if(s===0)return!0;var g=hVe(n),y=g.startAngle,x=g.endAngle,P=a,E;if(y<=x){for(;P>x;)P-=360;for(;P<y;)P+=360;E=P>=y&&P<=x}else{for(;P>y;)P-=360;for(;P<x;)P+=360;E=P>=x&&P<=y}return E?U6(U6({},n),{},{radius:s,angle:pVe(P,n)}):null};function Pb(e){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(e)}var mVe=["offset"];function gVe(e){return xVe(e)||bVe(e)||vVe(e)||yVe()}function yVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vVe(e,t){if(e){if(typeof e=="string")return eI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(e,t)}}function bVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xVe(e){if(Array.isArray(e))return eI(e)}function eI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _Ve(e,t){if(e==null)return{};var n=wVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function W6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W6(Object(n),!0).forEach(function(r){SVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SVe(e,t,n){return t=kVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kVe(e){var t=CVe(e,"string");return Pb(t)==="symbol"?t:String(t)}function CVe(e,t){if(Pb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(this,arguments)}var TVe=function(t){var n=t.value,r=t.formatter,i=Hn(t.children)?n:t.children;return Nn(r)?r(i):i},PVe=function(t,n){var r=kl(n-t),i=Math.min(Math.abs(n-t),360);return r*i},EVe=function(t,n,r){var i=t.position,o=t.viewBox,s=t.offset,a=t.className,f=o,h=f.cx,g=f.cy,y=f.innerRadius,x=f.outerRadius,P=f.startAngle,E=f.endAngle,S=f.clockWise,O=(y+x)/2,A=PVe(P,E),M=A>=0?1:-1,I,N;i==="insideStart"?(I=P+M*s,N=S):i==="insideEnd"?(I=E-M*s,N=!S):i==="end"&&(I=E+M*s,N=S),N=A<=0?N:!N;var $=bo(h,g,O,I),R=bo(h,g,O,I+(N?1:-1)*359),F="M".concat($.x,",").concat($.y,`
    A`).concat(O,",").concat(O,",0,1,").concat(N?0:1,`,
    `).concat(R.x,",").concat(R.y),q=Hn(t.id)?wx("recharts-radial-line-"):t.id;return Ee.createElement("text",Eb({},r,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",a)}),Ee.createElement("defs",null,Ee.createElement("path",{id:q,d:F})),Ee.createElement("textPath",{xlinkHref:"#".concat(q)},n))},OVe=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,s=o.cx,a=o.cy,f=o.innerRadius,h=o.outerRadius,g=o.startAngle,y=o.endAngle,x=(g+y)/2;if(i==="outside"){var P=bo(s,a,h+r,x),E=P.x,S=P.y;return{x:E,y:S,textAnchor:E>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var O=(f+h)/2,A=bo(s,a,O,x),M=A.x,I=A.y;return{x:M,y:I,textAnchor:"middle",verticalAnchor:"middle"}},MVe=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,s=n,a=s.x,f=s.y,h=s.width,g=s.height,y=g>=0?1:-1,x=y*i,P=y>0?"end":"start",E=y>0?"start":"end",S=h>=0?1:-1,O=S*i,A=S>0?"end":"start",M=S>0?"start":"end";if(o==="top"){var I={x:a+h/2,y:f-y*i,textAnchor:"middle",verticalAnchor:P};return Fi(Fi({},I),r?{height:Math.max(f-r.y,0),width:h}:{})}if(o==="bottom"){var N={x:a+h/2,y:f+g+x,textAnchor:"middle",verticalAnchor:E};return Fi(Fi({},N),r?{height:Math.max(r.y+r.height-(f+g),0),width:h}:{})}if(o==="left"){var $={x:a-O,y:f+g/2,textAnchor:A,verticalAnchor:"middle"};return Fi(Fi({},$),r?{width:Math.max($.x-r.x,0),height:g}:{})}if(o==="right"){var R={x:a+h+O,y:f+g/2,textAnchor:M,verticalAnchor:"middle"};return Fi(Fi({},R),r?{width:Math.max(r.x+r.width-R.x,0),height:g}:{})}var F=r?{width:h,height:g}:{};return o==="insideLeft"?Fi({x:a+O,y:f+g/2,textAnchor:M,verticalAnchor:"middle"},F):o==="insideRight"?Fi({x:a+h-O,y:f+g/2,textAnchor:A,verticalAnchor:"middle"},F):o==="insideTop"?Fi({x:a+h/2,y:f+x,textAnchor:"middle",verticalAnchor:E},F):o==="insideBottom"?Fi({x:a+h/2,y:f+g-x,textAnchor:"middle",verticalAnchor:P},F):o==="insideTopLeft"?Fi({x:a+O,y:f+x,textAnchor:M,verticalAnchor:E},F):o==="insideTopRight"?Fi({x:a+h-O,y:f+x,textAnchor:A,verticalAnchor:E},F):o==="insideBottomLeft"?Fi({x:a+O,y:f+g-x,textAnchor:M,verticalAnchor:P},F):o==="insideBottomRight"?Fi({x:a+h-O,y:f+g-x,textAnchor:A,verticalAnchor:P},F):jg(o)&&(Et(o.x)||Gf(o.x))&&(Et(o.y)||Gf(o.y))?Fi({x:a+Km(o.x,h),y:f+Km(o.y,g),textAnchor:"end",verticalAnchor:"end"},F):Fi({x:a+h/2,y:f+g/2,textAnchor:"middle",verticalAnchor:"middle"},F)},AVe=function(t){return"cx"in t&&Et(t.cx)};function No(e){var t=e.offset,n=t===void 0?5:t,r=_Ve(e,mVe),i=Fi({offset:n},r),o=i.viewBox,s=i.position,a=i.value,f=i.children,h=i.content,g=i.className,y=g===void 0?"":g,x=i.textBreakAll;if(!o||Hn(a)&&Hn(f)&&!V.isValidElement(h)&&!Nn(h))return null;if(V.isValidElement(h))return V.cloneElement(h,i);var P;if(Nn(h)){if(P=V.createElement(h,i),V.isValidElement(P))return P}else P=TVe(i);var E=AVe(o),S=Vn(i,!0);if(E&&(s==="insideStart"||s==="insideEnd"||s==="end"))return EVe(i,P,S);var O=E?OVe(i):MVe(i);return Ee.createElement(LS,Eb({className:rt("recharts-label",y)},S,O,{breakAll:x}),P)}No.displayName="Label";var eZ=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,s=t.endAngle,a=t.r,f=t.radius,h=t.innerRadius,g=t.outerRadius,y=t.x,x=t.y,P=t.top,E=t.left,S=t.width,O=t.height,A=t.clockWise,M=t.labelViewBox;if(M)return M;if(Et(S)&&Et(O)){if(Et(y)&&Et(x))return{x:y,y:x,width:S,height:O};if(Et(P)&&Et(E))return{x:P,y:E,width:S,height:O}}return Et(y)&&Et(x)?{x:y,y:x,width:0,height:0}:Et(n)&&Et(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:g||f||a||0,clockWise:A}:t.viewBox?t.viewBox:{}},IVe=function(t,n){return t?t===!0?Ee.createElement(No,{key:"label-implicit",viewBox:n}):qi(t)?Ee.createElement(No,{key:"label-implicit",viewBox:n,value:t}):V.isValidElement(t)?t.type===No?V.cloneElement(t,{key:"label-implicit",viewBox:n}):Ee.createElement(No,{key:"label-implicit",content:t,viewBox:n}):Nn(t)?Ee.createElement(No,{key:"label-implicit",content:t,viewBox:n}):jg(t)?Ee.createElement(No,Eb({viewBox:n},t,{key:"label-implicit"})):null:null},$Ve=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=eZ(t),s=Ds(i,No).map(function(f,h){return V.cloneElement(f,{viewBox:n||o,key:"label-".concat(h)})});if(!r)return s;var a=IVe(t.label,n||o);return[a].concat(gVe(s))};No.parseViewBox=eZ;No.renderCallByParent=$Ve;function RVe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var DVe=RVe;const LVe=mr(DVe);function Ob(e){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ob(e)}var jVe=["valueAccessor"],NVe=["data","dataKey","clockWise","id","textBreakAll"];function zVe(e){return VVe(e)||UVe(e)||FVe(e)||BVe()}function BVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FVe(e,t){if(e){if(typeof e=="string")return tI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tI(e,t)}}function UVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VVe(e){if(Array.isArray(e))return tI(e)}function tI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XS.apply(this,arguments)}function q6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q6(Object(n),!0).forEach(function(r){WVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WVe(e,t,n){return t=qVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qVe(e){var t=GVe(e,"string");return Ob(t)==="symbol"?t:String(t)}function GVe(e,t){if(Ob(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ob(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H6(e,t){if(e==null)return{};var n=HVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var YVe=function(t){return Array.isArray(t.value)?LVe(t.value):t.value};function Rd(e){var t=e.valueAccessor,n=t===void 0?YVe:t,r=H6(e,jVe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,f=r.textBreakAll,h=H6(r,NVe);return!i||!i.length?null:Ee.createElement(Pi,{className:"recharts-label-list"},i.map(function(g,y){var x=Hn(o)?n(g,y):ts(g&&g.payload,o),P=Hn(a)?{}:{id:"".concat(a,"-").concat(y)};return Ee.createElement(No,XS({},Vn(g,!0),h,P,{parentViewBox:g.parentViewBox,value:x,textBreakAll:f,viewBox:No.parseViewBox(Hn(s)?g:G6(G6({},g),{},{clockWise:s})),key:"label-".concat(y),index:y}))}))}Rd.displayName="LabelList";function KVe(e,t){return e?e===!0?Ee.createElement(Rd,{key:"labelList-implicit",data:t}):Ee.isValidElement(e)||Nn(e)?Ee.createElement(Rd,{key:"labelList-implicit",data:t,content:e}):jg(e)?Ee.createElement(Rd,XS({data:t},e,{key:"labelList-implicit"})):null:null}function ZVe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ds(r,Rd).map(function(s,a){return V.cloneElement(s,{data:t,key:"labelList-".concat(a)})});if(!n)return i;var o=KVe(e.label,t);return[o].concat(zVe(i))}Rd.renderCallByParent=ZVe;function Mb(e){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mb(e)}function nI(){return nI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nI.apply(this,arguments)}function Y6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y6(Object(n),!0).forEach(function(r){XVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XVe(e,t,n){return t=JVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JVe(e){var t=QVe(e,"string");return Mb(t)==="symbol"?t:String(t)}function QVe(e,t){if(Mb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eWe=function(t,n){var r=kl(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},D1=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,s=t.sign,a=t.isExternal,f=t.cornerRadius,h=t.cornerIsExternal,g=f*(a?1:-1)+i,y=Math.asin(f/g)/ZS,x=h?o:o+s*y,P=bo(n,r,g,x),E=bo(n,r,i,x),S=h?o-s*y:o,O=bo(n,r,g*Math.cos(y*ZS),S);return{center:P,circleTangency:E,lineTangency:O,theta:y}},tZ=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.startAngle,a=t.endAngle,f=eWe(s,a),h=s+f,g=bo(n,r,o,s),y=bo(n,r,o,h),x="M ".concat(g.x,",").concat(g.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(s>h),`,
    `).concat(y.x,",").concat(y.y,`
  `);if(i>0){var P=bo(n,r,i,s),E=bo(n,r,i,h);x+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(s<=h),`,
            `).concat(P.x,",").concat(P.y," Z")}else x+="L ".concat(n,",").concat(r," Z");return x},tWe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,f=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,y=kl(g-h),x=D1({cx:n,cy:r,radius:o,angle:h,sign:y,cornerRadius:s,cornerIsExternal:f}),P=x.circleTangency,E=x.lineTangency,S=x.theta,O=D1({cx:n,cy:r,radius:o,angle:g,sign:-y,cornerRadius:s,cornerIsExternal:f}),A=O.circleTangency,M=O.lineTangency,I=O.theta,N=f?Math.abs(h-g):Math.abs(h-g)-S-I;if(N<0)return a?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):tZ({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g});var $="M ".concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(y<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(M.x,",").concat(M.y,`
  `);if(i>0){var R=D1({cx:n,cy:r,radius:i,angle:h,sign:y,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),F=R.circleTangency,q=R.lineTangency,X=R.theta,Q=D1({cx:n,cy:r,radius:i,angle:g,sign:-y,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),ae=Q.circleTangency,fe=Q.lineTangency,Se=Q.theta,ke=f?Math.abs(h-g):Math.abs(h-g)-X-Se;if(ke<0&&s===0)return"".concat($,"L").concat(n,",").concat(r,"Z");$+="L".concat(fe.x,",").concat(fe.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(ae.x,",").concat(ae.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ke>180),",").concat(+(y>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(q.x,",").concat(q.y,"Z")}else $+="L".concat(n,",").concat(r,"Z");return $},nWe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nZ=function(t){var n=K6(K6({},nWe),t),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,g=n.startAngle,y=n.endAngle,x=n.className;if(s<o||g===y)return null;var P=rt("recharts-sector",x),E=s-o,S=Km(a,E,0,!0),O;return S>0&&Math.abs(g-y)<360?O=tWe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(S,E/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:g,endAngle:y}):O=tZ({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:g,endAngle:y}),Ee.createElement("path",nI({},Vn(n,!0),{className:P,d:O,role:"img"}))};function Ab(e){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ab(e)}function rI(){return rI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rI.apply(this,arguments)}function Z6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(n),!0).forEach(function(r){rWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rWe(e,t,n){return t=iWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iWe(e){var t=oWe(e,"string");return Ab(t)==="symbol"?t:String(t)}function oWe(e,t){if(Ab(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ab(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J6={curveBasisClosed:LIe,curveBasisOpen:jIe,curveBasis:DIe,curveBumpX:_Ie,curveBumpY:wIe,curveLinearClosed:NIe,curveLinear:PC,curveMonotoneX:zIe,curveMonotoneY:BIe,curveNatural:FIe,curveStep:UIe,curveStepAfter:WIe,curveStepBefore:VIe},L1=function(t){return t.x===+t.x&&t.y===+t.y},Dv=function(t){return t.x},Lv=function(t){return t.y},aWe=function(t,n){if(Nn(t))return t;var r="curve".concat(CC(t));return(r==="curveMonotone"||r==="curveBump")&&n?J6["".concat(r).concat(n==="vertical"?"Y":"X")]:J6[r]||PC},sWe=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,s=t.baseLine,a=t.layout,f=t.connectNulls,h=f===void 0?!1:f,g=aWe(r,a),y=h?o.filter(function(S){return L1(S)}):o,x;if(Array.isArray(s)){var P=h?s.filter(function(S){return L1(S)}):s,E=y.map(function(S,O){return X6(X6({},S),{},{base:P[O]})});return a==="vertical"?x=C1().y(Lv).x1(Dv).x0(function(S){return S.base.x}):x=C1().x(Dv).y1(Lv).y0(function(S){return S.base.y}),x.defined(L1).curve(g),x(E)}return a==="vertical"&&Et(s)?x=C1().y(Lv).x1(Dv).x0(s):Et(s)?x=C1().x(Dv).y1(Lv).y0(s):x=eY().x(Dv).y(Lv),x.defined(L1).curve(g),x(y)},iI=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?sWe(t):i;return Ee.createElement("path",rI({},Vn(t),yS(t),{className:rt("recharts-curve",n),d:s,ref:o}))};function Ib(e){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(e)}function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JS.apply(this,arguments)}function lWe(e,t){return fWe(e)||dWe(e,t)||uWe(e,t)||cWe()}function cWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uWe(e,t){if(e){if(typeof e=="string")return Q6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q6(e,t)}}function Q6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function fWe(e){if(Array.isArray(e))return e}function e8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(n),!0).forEach(function(r){hWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hWe(e,t,n){return t=pWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pWe(e){var t=mWe(e,"string");return Ib(t)==="symbol"?t:String(t)}function mWe(e,t){if(Ib(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ib(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n8=function(t,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,g;if(s>0&&o instanceof Array){for(var y=[0,0,0,0],x=0,P=4;x<P;x++)y[x]=o[x]>s?s:o[x];g="M".concat(t,",").concat(n+a*y[0]),y[0]>0&&(g+="A ".concat(y[0],",").concat(y[0],",0,0,").concat(h,",").concat(t+f*y[0],",").concat(n)),g+="L ".concat(t+r-f*y[1],",").concat(n),y[1]>0&&(g+="A ".concat(y[1],",").concat(y[1],",0,0,").concat(h,`,
        `).concat(t+r,",").concat(n+a*y[1])),g+="L ".concat(t+r,",").concat(n+i-a*y[2]),y[2]>0&&(g+="A ".concat(y[2],",").concat(y[2],",0,0,").concat(h,`,
        `).concat(t+r-f*y[2],",").concat(n+i)),g+="L ".concat(t+f*y[3],",").concat(n+i),y[3]>0&&(g+="A ".concat(y[3],",").concat(y[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(n+i-a*y[3])),g+="Z"}else if(s>0&&o===+o&&o>0){var E=Math.min(s,o);g="M ".concat(t,",").concat(n+a*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(t+f*E,",").concat(n,`
            L `).concat(t+r-f*E,",").concat(n,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(t+r,",").concat(n+a*E,`
            L `).concat(t+r,",").concat(n+i-a*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(t+r-f*E,",").concat(n+i,`
            L `).concat(t+f*E,",").concat(n+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(t,",").concat(n+i-a*E," Z")}else g="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return g},gWe=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,s=n.y,a=n.width,f=n.height;if(Math.abs(a)>0&&Math.abs(f)>0){var h=Math.min(o,o+a),g=Math.max(o,o+a),y=Math.min(s,s+f),x=Math.max(s,s+f);return r>=h&&r<=g&&i>=y&&i<=x}return!1},yWe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GL=function(t){var n=t8(t8({},yWe),t),r=V.useRef(),i=V.useState(-1),o=lWe(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var f=n.x,h=n.y,g=n.width,y=n.height,x=n.radius,P=n.className,E=n.animationEasing,S=n.animationDuration,O=n.animationBegin,A=n.isAnimationActive,M=n.isUpdateAnimationActive;if(f!==+f||h!==+h||g!==+g||y!==+y||g===0||y===0)return null;var I=rt("recharts-rectangle",P);return M?Ee.createElement(pu,{canBegin:s>0,from:{width:g,height:y,x:f,y:h},to:{width:g,height:y,x:f,y:h},duration:S,animationEasing:E,isActive:M},function(N){var $=N.width,R=N.height,F=N.x,q=N.y;return Ee.createElement(pu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:O,duration:S,isActive:A,easing:E},Ee.createElement("path",JS({},Vn(n,!0),{className:I,d:n8(F,q,$,R,x),ref:r})))}):Ee.createElement("path",JS({},Vn(n,!0),{className:I,d:n8(f,h,g,y,x)}))};function oI(){return oI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oI.apply(this,arguments)}var HL=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,s=rt("recharts-dot",o);return n===+n&&r===+r&&i===+i?Ee.createElement("circle",oI({},Vn(t),yS(t),{className:s,cx:n,cy:r,r:i})):null};function $b(e){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$b(e)}var vWe=["x","y","top","left","width","height","className"];function aI(){return aI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aI.apply(this,arguments)}function r8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bWe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(n),!0).forEach(function(r){xWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xWe(e,t,n){return t=_We(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _We(e){var t=wWe(e,"string");return $b(t)==="symbol"?t:String(t)}function wWe(e,t){if($b(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($b(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SWe(e,t){if(e==null)return{};var n=kWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var CWe=function(t,n,r,i,o,s){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},TWe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.top,a=s===void 0?0:s,f=t.left,h=f===void 0?0:f,g=t.width,y=g===void 0?0:g,x=t.height,P=x===void 0?0:x,E=t.className,S=SWe(t,vWe),O=bWe({x:r,y:o,top:a,left:h,width:y,height:P},S);return!Et(r)||!Et(o)||!Et(y)||!Et(P)||!Et(a)||!Et(h)?null:Ee.createElement("path",aI({},Vn(O,!0),{className:rt("recharts-cross",E),d:CWe(r,o,y,P,a,h)}))},PWe=SY,EWe=PWe(Object.getPrototypeOf,Object),OWe=EWe,MWe=Cu,AWe=OWe,IWe=Tu,$We="[object Object]",RWe=Function.prototype,DWe=Object.prototype,rZ=RWe.toString,LWe=DWe.hasOwnProperty,jWe=rZ.call(Object);function NWe(e){if(!IWe(e)||MWe(e)!=$We)return!1;var t=AWe(e);if(t===null)return!0;var n=LWe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&rZ.call(n)==jWe}var zWe=NWe;const BWe=mr(zWe);var FWe=Cu,UWe=Tu,VWe="[object Boolean]";function WWe(e){return e===!0||e===!1||UWe(e)&&FWe(e)==VWe}var qWe=WWe;const GWe=mr(qWe);function Rb(e){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(e)}function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QS.apply(this,arguments)}function HWe(e,t){return XWe(e)||ZWe(e,t)||KWe(e,t)||YWe()}function YWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KWe(e,t){if(e){if(typeof e=="string")return i8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i8(e,t)}}function i8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function XWe(e){if(Array.isArray(e))return e}function o8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(n),!0).forEach(function(r){JWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JWe(e,t,n){return t=QWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QWe(e){var t=e9e(e,"string");return Rb(t)==="symbol"?t:String(t)}function e9e(e,t){if(Rb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s8=function(t,n,r,i,o){var s=r-i,a;return a="M ".concat(t,",").concat(n),a+="L ".concat(t+r,",").concat(n),a+="L ".concat(t+r-s/2,",").concat(n+o),a+="L ".concat(t+r-s/2-i,",").concat(n+o),a+="L ".concat(t,",").concat(n," Z"),a},t9e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},n9e=function(t){var n=a8(a8({},t9e),t),r=V.useRef(),i=V.useState(-1),o=HWe(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&a(I)}catch{}},[]);var f=n.x,h=n.y,g=n.upperWidth,y=n.lowerWidth,x=n.height,P=n.className,E=n.animationEasing,S=n.animationDuration,O=n.animationBegin,A=n.isUpdateAnimationActive;if(f!==+f||h!==+h||g!==+g||y!==+y||x!==+x||g===0&&y===0||x===0)return null;var M=rt("recharts-trapezoid",P);return A?Ee.createElement(pu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:x,x:f,y:h},to:{upperWidth:g,lowerWidth:y,height:x,x:f,y:h},duration:S,animationEasing:E,isActive:A},function(I){var N=I.upperWidth,$=I.lowerWidth,R=I.height,F=I.x,q=I.y;return Ee.createElement(pu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:O,duration:S,easing:E},Ee.createElement("path",QS({},Vn(n,!0),{className:M,d:s8(F,q,N,$,R),ref:r})))}):Ee.createElement("g",null,Ee.createElement("path",QS({},Vn(n,!0),{className:M,d:s8(f,h,g,y,x)})))},r9e=["option","shapeType","propTransformer","activeClassName","isActive"];function Db(e){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Db(e)}function i9e(e,t){if(e==null)return{};var n=o9e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o9e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function l8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function e2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(n),!0).forEach(function(r){a9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a9e(e,t,n){return t=s9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s9e(e){var t=l9e(e,"string");return Db(t)==="symbol"?t:String(t)}function l9e(e,t){if(Db(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Db(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c9e(e,t){return e2(e2({},t),e)}function u9e(e,t){return e==="symbols"}function c8(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Ee.createElement(GL,n);case"trapezoid":return Ee.createElement(n9e,n);case"sector":return Ee.createElement(nZ,n);case"symbols":if(u9e(t))return Ee.createElement(dL,n);break;default:return null}}function d9e(e){return V.isValidElement(e)?e.props:e}function f9e(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?c9e:r,o=e.activeClassName,s=o===void 0?"recharts-active-shape":o,a=e.isActive,f=i9e(e,r9e),h;if(V.isValidElement(t))h=V.cloneElement(t,e2(e2({},f),d9e(t)));else if(Nn(t))h=t(f);else if(BWe(t)&&!GWe(t)){var g=i(t,f);h=Ee.createElement(c8,{shapeType:n,elementProps:g})}else{var y=f;h=Ee.createElement(c8,{shapeType:n,elementProps:y})}return a?Ee.createElement(Pi,{className:s},h):h}function VC(e,t){return t!=null&&"trapezoids"in e.props}function WC(e,t){return t!=null&&"sectors"in e.props}function Lb(e,t){return t!=null&&"points"in e.props}function h9e(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function p9e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function m9e(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function g9e(e,t){var n;return VC(e,t)?n=h9e:WC(e,t)?n=p9e:Lb(e,t)&&(n=m9e),n}function y9e(e,t){var n;return VC(e,t)?n="trapezoids":WC(e,t)?n="sectors":Lb(e,t)&&(n="points"),n}function v9e(e,t){if(VC(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(WC(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Lb(e,t)?t.payload:{}}function b9e(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=y9e(n,t),o=v9e(n,t),s=r.filter(function(f,h){var g=BC(o,f),y=n.props[i].filter(function(E){var S=g9e(n,t);return S(E,t)}),x=n.props[i].indexOf(y[y.length-1]),P=h===x;return g&&P}),a=r.indexOf(s[s.length-1]);return a}var x9e=Math.ceil,_9e=Math.max;function w9e(e,t,n,r){for(var i=-1,o=_9e(x9e((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}var S9e=w9e,k9e=HY,u8=1/0,C9e=17976931348623157e292;function T9e(e){if(!e)return e===0?e:0;if(e=k9e(e),e===u8||e===-u8){var t=e<0?-1:1;return t*C9e}return e===e?e:0}var iZ=T9e,P9e=S9e,E9e=AC,hO=iZ;function O9e(e){return function(t,n,r){return r&&typeof r!="number"&&E9e(t,n,r)&&(n=r=void 0),t=hO(t),n===void 0?(n=t,t=0):n=hO(n),r=r===void 0?t<n?1:-1:hO(r),P9e(t,n,r,e)}}var M9e=O9e,A9e=M9e,I9e=A9e(),$9e=I9e;const t2=mr($9e);function jb(e){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jb(e)}function d8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d8(Object(n),!0).forEach(function(r){oZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oZ(e,t,n){return t=R9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R9e(e){var t=D9e(e,"string");return jb(t)==="symbol"?t:String(t)}function D9e(e,t){if(jb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L9e=["Webkit","Moz","O","ms"],j9e=function(t,n){if(!t)return null;var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=L9e.reduce(function(o,s){return f8(f8({},o),{},oZ({},s+r,n))},{});return i[t]=n,i};function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n2.apply(this,arguments)}function h8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aZ(r.key),r)}}function z9e(e,t,n){return t&&p8(e.prototype,t),n&&p8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sI(e,t)}function sI(e,t){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sI(e,t)}function F9e(e){var t=V9e();return function(){var r=r2(e),i;if(t){var o=r2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return U9e(this,i)}}function U9e(e,t){if(t&&(sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wl(e)}function Wl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r2(e){return r2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r2(e)}function Fa(e,t,n){return t=aZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aZ(e){var t=W9e(e,"string");return sg(t)==="symbol"?t:String(t)}function W9e(e,t){if(sg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q9e=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,s=t.width,a=t.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=_0().domain(t2(0,f)).range([o,o+s-a]),g=h.domain().map(function(y){return h(y)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:g}},m8=function(t){return t.changedTouches&&!!t.changedTouches.length},Nb=function(e){B9e(n,e);var t=F9e(n);function n(r){var i;return N9e(this,n),i=t.call(this,r),Fa(Wl(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),Fa(Wl(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),Fa(Wl(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=i.props,s=o.endIndex,a=o.onDragEnd,f=o.startIndex;a==null||a({endIndex:s,startIndex:f})}),i.detachDragEndListener()}),Fa(Wl(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Fa(Wl(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Fa(Wl(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Fa(Wl(i),"handleSlideDragStart",function(o){var s=m8(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(Wl(i),"startX"),endX:i.handleTravellerDragStart.bind(Wl(i),"endX")},i.state={},i}return z9e(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,s=i.endX,a=this.state.scaleValues,f=this.props,h=f.gap,g=f.data,y=g.length-1,x=Math.min(o,s),P=Math.max(o,s),E=n.getIndexInRange(a,x),S=n.getIndexInRange(a,P);return{startIndex:E-E%h,endIndex:S===y?y:S-S%h}}},{key:"getTextOfTick",value:function(i){var o=this.props,s=o.data,a=o.tickFormatter,f=o.dataKey,h=ts(s[i],f,i);return Nn(a)?a(h,i):h}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,s=o.slideMoveStartX,a=o.startX,f=o.endX,h=this.props,g=h.x,y=h.width,x=h.travellerWidth,P=h.startIndex,E=h.endIndex,S=h.onChange,O=i.pageX-s;O>0?O=Math.min(O,g+y-x-f,g+y-x-a):O<0&&(O=Math.max(O,g-a,g-f));var A=this.getIndex({startX:a+O,endX:f+O});(A.startIndex!==P||A.endIndex!==E)&&S&&S(A),this.setState({startX:a+O,endX:f+O,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var s=m8(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,s=this.state,a=s.brushMoveStartX,f=s.movingTravellerId,h=s.endX,g=s.startX,y=this.state[f],x=this.props,P=x.x,E=x.width,S=x.travellerWidth,O=x.onChange,A=x.gap,M=x.data,I={startX:this.state.startX,endX:this.state.endX},N=i.pageX-a;N>0?N=Math.min(N,P+E-S-y):N<0&&(N=Math.max(N,P-y)),I[f]=y+N;var $=this.getIndex(I),R=$.startIndex,F=$.endIndex,q=function(){var Q=M.length-1;return f==="startX"&&(h>g?R%A===0:F%A===0)||h<g&&F===Q||f==="endX"&&(h>g?F%A===0:R%A===0)||h>g&&F===Q};this.setState((o={},Fa(o,f,y+N),Fa(o,"brushMoveStartX",i.pageX),o),function(){O&&q()&&O($)})}},{key:"handleTravellerMoveKeyboard",value:function(i,o){var s=this,a=this.state,f=a.scaleValues,h=a.startX,g=a.endX,y=this.state[o],x=f.indexOf(y);if(x!==-1){var P=x+i;if(!(P===-1||P>=f.length)){var E=f[P];o==="startX"&&E>=g||o==="endX"&&E<=h||this.setState(Fa({},o,E),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.fill,g=i.stroke;return Ee.createElement("rect",{stroke:g,fill:h,x:o,y:s,width:a,height:f})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.data,g=i.children,y=i.padding,x=V.Children.only(g);return x?Ee.cloneElement(x,{x:o,y:s,width:a,height:f,margin:y,compact:!0,data:h}):null}},{key:"renderTravellerLayer",value:function(i,o){var s=this,a=this.props,f=a.y,h=a.travellerWidth,g=a.height,y=a.traveller,x=a.ariaLabel,P=a.data,E=a.startIndex,S=a.endIndex,O=Math.max(i,this.props.x),A=pO(pO({},Vn(this.props)),{},{x:O,y:f,width:h,height:g}),M=x||"Min value: ".concat(P[E].name,", Max value: ").concat(P[S].name);return Ee.createElement(Pi,{tabIndex:0,role:"slider","aria-label":M,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),s.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,o))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(y,A))}},{key:"renderSlide",value:function(i,o){var s=this.props,a=s.y,f=s.height,h=s.stroke,g=s.travellerWidth,y=Math.min(i,o)+g,x=Math.max(Math.abs(o-i)-g,0);return Ee.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:h,fillOpacity:.2,x:y,y:a,width:x,height:f})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,s=i.endIndex,a=i.y,f=i.height,h=i.travellerWidth,g=i.stroke,y=this.state,x=y.startX,P=y.endX,E=5,S={pointerEvents:"none",fill:g};return Ee.createElement(Pi,{className:"recharts-brush-texts"},Ee.createElement(LS,n2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(x,P)-E,y:a+f/2},S),this.getTextOfTick(o)),Ee.createElement(LS,n2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(x,P)+h+E,y:a+f/2},S),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.className,a=i.children,f=i.x,h=i.y,g=i.width,y=i.height,x=i.alwaysShowText,P=this.state,E=P.startX,S=P.endX,O=P.isTextActive,A=P.isSlideMoving,M=P.isTravellerMoving,I=P.isTravellerFocused;if(!o||!o.length||!Et(f)||!Et(h)||!Et(g)||!Et(y)||g<=0||y<=0)return null;var N=rt("recharts-brush",s),$=Ee.Children.count(a)===1,R=j9e("userSelect","none");return Ee.createElement(Pi,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(E,S),this.renderTravellerLayer(E,"startX"),this.renderTravellerLayer(S,"endX"),(O||A||M||I||x)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,s=i.y,a=i.width,f=i.height,h=i.stroke,g=Math.floor(s+f/2)-1;return Ee.createElement(Ee.Fragment,null,Ee.createElement("rect",{x:o,y:s,width:a,height:f,fill:h,stroke:"none"}),Ee.createElement("line",{x1:o+1,y1:g,x2:o+a-1,y2:g,fill:"none",stroke:"#fff"}),Ee.createElement("line",{x1:o+1,y1:g+2,x2:o+a-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var s;return Ee.isValidElement(i)?s=Ee.cloneElement(i,o):Nn(i)?s=i(o):s=n.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(i,o){var s=i.data,a=i.width,f=i.x,h=i.travellerWidth,g=i.updateId,y=i.startIndex,x=i.endIndex;if(s!==o.prevData||g!==o.prevUpdateId)return pO({prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a},s&&s.length?q9e({data:s,width:a,x:f,travellerWidth:h,startIndex:y,endIndex:x}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||f!==o.prevX||h!==o.prevTravellerWidth)){o.scale.range([f,f+a-h]);var P=o.scale.domain().map(function(E){return o.scale(E)});return{prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:P}}return null}},{key:"getIndexInRange",value:function(i,o){for(var s=i.length,a=0,f=s-1;f-a>1;){var h=Math.floor((a+f)/2);i[h]>o?f=h:a=h}return o>=i[f]?f:a}}]),n}(V.PureComponent);Fa(Nb,"displayName","Brush");Fa(Nb,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var G9e=vL;function H9e(e,t){var n;return G9e(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var Y9e=H9e,K9e=mY,Z9e=Xd,X9e=Y9e,J9e=Ra,Q9e=AC;function e7e(e,t,n){var r=J9e(e)?K9e:X9e;return n&&Q9e(e,t,n)&&(t=void 0),r(e,Z9e(t))}var t7e=e7e;const n7e=mr(t7e);var sc=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},g8=jY;function r7e(e,t,n){t=="__proto__"&&g8?g8(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i7e=r7e,o7e=i7e,a7e=DY,s7e=Xd;function l7e(e,t){var n={};return t=s7e(t),a7e(e,function(r,i,o){o7e(n,i,t(r,i,o))}),n}var c7e=l7e;const u7e=mr(c7e);function d7e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var f7e=d7e,h7e=vL;function p7e(e,t){var n=!0;return h7e(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var m7e=p7e,g7e=f7e,y7e=m7e,v7e=Xd,b7e=Ra,x7e=AC;function _7e(e,t,n){var r=b7e(e)?g7e:y7e;return n&&x7e(e,t,n)&&(t=void 0),r(e,v7e(t))}var w7e=_7e;const sZ=mr(w7e);function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}var S7e=["x","y"];function lI(){return lI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lI.apply(this,arguments)}function y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(n),!0).forEach(function(r){k7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k7e(e,t,n){return t=C7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C7e(e){var t=T7e(e,"string");return zb(t)==="symbol"?t:String(t)}function T7e(e,t){if(zb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P7e(e,t){if(e==null)return{};var n=E7e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E7e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function O7e(e,t){var n=e.x,r=e.y,i=P7e(e,S7e),o="".concat(n),s=parseInt(o,10),a="".concat(r),f=parseInt(a,10),h="".concat(t.height||i.height),g=parseInt(h,10),y="".concat(t.width||i.width),x=parseInt(y,10);return jv(jv(jv(jv(jv({},t),i),s?{x:s}:{}),f?{y:f}:{}),{},{height:g,width:x,name:t.name,radius:t.radius})}function v8(e){return Ee.createElement(f9e,lI({shapeType:"rectangle",propTransformer:O7e,activeClassName:"recharts-active-bar"},e))}var M7e=["value","background"];function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function A7e(e,t){if(e==null)return{};var n=I7e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function I7e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i2.apply(this,arguments)}function b8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(n),!0).forEach(function(r){bd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lZ(r.key),r)}}function R7e(e,t,n){return t&&x8(e.prototype,t),n&&x8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cI(e,t)}function cI(e,t){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cI(e,t)}function L7e(e){var t=N7e();return function(){var r=o2(e),i;if(t){var o=o2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return j7e(this,i)}}function j7e(e,t){if(t&&(lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xv(e)}function Xv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function o2(e){return o2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o2(e)}function bd(e,t,n){return t=lZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lZ(e){var t=z7e(e,"string");return lg(t)==="symbol"?t:String(t)}function z7e(e,t){if(lg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qC=function(e){D7e(n,e);var t=L7e(n);function n(){var r;$7e(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),bd(Xv(r),"state",{isAnimationFinished:!1}),bd(Xv(r),"id",wx("recharts-bar-")),bd(Xv(r),"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),bd(Xv(r),"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return R7e(n,[{key:"renderRectanglesStatically",value:function(i){var o=this,s=this.props,a=s.shape,f=s.dataKey,h=s.activeIndex,g=s.activeBar,y=Vn(this.props);return i&&i.map(function(x,P){var E=P===h,S=E?g:a,O=eo(eo(eo({},y),x),{},{isActive:E,option:S,index:P,dataKey:f,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return Ee.createElement(Pi,i2({className:"recharts-bar-rectangle"},vS(o.props,x,P),{key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value)}),Ee.createElement(v8,O))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,s=o.data,a=o.layout,f=o.isAnimationActive,h=o.animationBegin,g=o.animationDuration,y=o.animationEasing,x=o.animationId,P=this.state.prevData;return Ee.createElement(pu,{begin:h,duration:g,isActive:f,easing:y,from:{t:0},to:{t:1},key:"bar-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t,O=s.map(function(A,M){var I=P&&P[M];if(I){var N=ml(I.x,A.x),$=ml(I.y,A.y),R=ml(I.width,A.width),F=ml(I.height,A.height);return eo(eo({},A),{},{x:N(S),y:$(S),width:R(S),height:F(S)})}if(a==="horizontal"){var q=ml(0,A.height),X=q(S);return eo(eo({},A),{},{y:A.y+A.height-X,height:X})}var Q=ml(0,A.width),ae=Q(S);return eo(eo({},A),{},{width:ae})});return Ee.createElement(Pi,null,i.renderRectanglesStatically(O))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,s=i.isAnimationActive,a=this.state.prevData;return s&&o&&o.length&&(!a||!BC(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props,s=o.data,a=o.dataKey,f=o.activeIndex,h=Vn(this.props.background);return s.map(function(g,y){g.value;var x=g.background,P=A7e(g,M7e);if(!x)return null;var E=eo(eo(eo(eo(eo({},P),{},{fill:"#eee"},x),h),vS(i.props,g,y)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:a,index:y,key:"background-bar-".concat(y),className:"recharts-bar-background-rectangle"});return Ee.createElement(v8,i2({option:i.props.background,isActive:y===f},E))})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,f=s.xAxis,h=s.yAxis,g=s.layout,y=s.children,x=Ds(y,Ex);if(!x)return null;var P=g==="vertical"?a[0].height/2:a[0].width/2,E=function(A,M){var I=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:I,errorVal:ts(A,M)}},S={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Ee.createElement(Pi,S,x.map(function(O){return Ee.cloneElement(O,{key:"error-bar-".concat(o,"-").concat(O.props.dataKey),data:a,xAxis:f,yAxis:h,layout:g,offset:P,dataPointFormatter:E})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,s=i.data,a=i.className,f=i.xAxis,h=i.yAxis,g=i.left,y=i.top,x=i.width,P=i.height,E=i.isAnimationActive,S=i.background,O=i.id;if(o||!s||!s.length)return null;var A=this.state.isAnimationFinished,M=rt("recharts-bar",a),I=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,$=I||N,R=Hn(O)?this.id:O;return Ee.createElement(Pi,{className:M},I||N?Ee.createElement("defs",null,Ee.createElement("clipPath",{id:"clipPath-".concat(R)},Ee.createElement("rect",{x:I?g:g-x/2,y:N?y:y-P/2,width:I?x:x*2,height:N?P:P*2}))):null,Ee.createElement(Pi,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(R,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,R),(!E||A)&&Rd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}}]),n}(V.PureComponent);bd(qC,"displayName","Bar");bd(qC,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!0,isAnimationActive:!nu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bd(qC,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,s=e.yAxis,a=e.xAxisTicks,f=e.yAxisTicks,h=e.stackedData,g=e.dataStartIndex,y=e.displayedData,x=e.offset,P=ZUe(r,n);if(!P)return null;var E=t.layout,S=n.props,O=S.dataKey,A=S.children,M=S.minPointSize,I=E==="horizontal"?s:o,N=h?I.scale.domain():null,$=iVe({numericAxis:I}),R=Ds(A,KY),F=y.map(function(q,X){var Q,ae,fe,Se,ke,we;if(h?Q=XUe(h[g+X],N):(Q=ts(q,O),Array.isArray(Q)||(Q=[$,Q])),E==="horizontal"){var Oe,Ce=[s.scale(Q[0]),s.scale(Q[1])],be=Ce[0],$e=Ce[1];ae=j6({axis:o,ticks:a,bandSize:i,offset:P.offset,entry:q,index:X}),fe=(Oe=$e??be)!==null&&Oe!==void 0?Oe:void 0,Se=P.size;var Ue=be-$e;if(ke=Number.isNaN(Ue)?0:Ue,we={x:ae,y:s.y,width:Se,height:s.height},Math.abs(M)>0&&Math.abs(ke)<Math.abs(M)){var ft=kl(ke||M)*(Math.abs(M)-Math.abs(ke));fe-=ft,ke+=ft}}else{var Xe=[o.scale(Q[0]),o.scale(Q[1])],tt=Xe[0],lt=Xe[1];if(ae=tt,fe=j6({axis:s,ticks:f,bandSize:i,offset:P.offset,entry:q,index:X}),Se=lt-tt,ke=P.size,we={x:o.x,y:fe,width:o.width,height:ke},Math.abs(M)>0&&Math.abs(Se)<Math.abs(M)){var Ct=kl(Se||M)*(Math.abs(M)-Math.abs(Se));Se+=Ct}}return eo(eo(eo({},q),{},{x:ae,y:fe,width:Se,height:ke,value:h?Q:Q[1],payload:q,background:we},R&&R[X]&&R[X].props),{},{tooltipPayload:[QK(n,q)],tooltipPosition:{x:ae+Se/2,y:fe+ke/2}})});return eo({data:F,layout:E},x)});function Bb(e){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(e)}function B7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cZ(r.key),r)}}function F7e(e,t,n){return t&&_8(e.prototype,t),n&&_8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(n),!0).forEach(function(r){GC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GC(e,t,n){return t=cZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cZ(e){var t=U7e(e,"string");return Bb(t)==="symbol"?t:String(t)}function U7e(e,t){if(Bb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V7e=function(t,n,r,i,o){var s=t.width,a=t.height,f=t.layout,h=t.children,g=Object.keys(n),y={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},x=!!Kc(h,qC);return g.reduce(function(P,E){var S=n[E],O=S.orientation,A=S.domain,M=S.padding,I=M===void 0?{}:M,N=S.mirror,$=S.reversed,R="".concat(O).concat(N?"Mirror":""),F,q,X,Q,ae;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var fe=A[1]-A[0],Se=1/0,ke=S.categoricalDomain.sort();ke.forEach(function(lt,Ct){Ct>0&&(Se=Math.min((lt||0)-(ke[Ct-1]||0),Se))});var we=Se/fe,Oe=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(F=we*Oe/2),S.padding==="no-gap"){var Ce=Km(t.barCategoryGap,we*Oe),be=we*Oe/2;F=be-Ce-(be-Ce)/Oe*Ce}}i==="xAxis"?q=[r.left+(I.left||0)+(F||0),r.left+r.width-(I.right||0)-(F||0)]:i==="yAxis"?q=f==="horizontal"?[r.top+r.height-(I.bottom||0),r.top+(I.top||0)]:[r.top+(I.top||0)+(F||0),r.top+r.height-(I.bottom||0)-(F||0)]:q=S.range,$&&(q=[q[1],q[0]]);var $e=YUe(S,o,x),Ue=$e.scale,ft=$e.realScaleType;Ue.domain(A).range(q),KUe(Ue);var Xe=rVe(Ue,dl(dl({},S),{},{realScaleType:ft}));i==="xAxis"?(ae=O==="top"&&!N||O==="bottom"&&N,X=r.left,Q=y[R]-ae*S.height):i==="yAxis"&&(ae=O==="left"&&!N||O==="right"&&N,X=y[R]-ae*S.width,Q=r.top);var tt=dl(dl(dl({},S),Xe),{},{realScaleType:ft,x:X,y:Q,scale:Ue,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return tt.bandSize=KS(tt,Xe),!S.hide&&i==="xAxis"?y[R]+=(ae?-1:1)*tt.height:S.hide||(y[R]+=(ae?-1:1)*tt.width),dl(dl({},P),{},GC({},E,tt))},{})},uZ=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},W7e=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return uZ({x:n,y:r},{x:i,y:o})},dZ=function(){function e(t){B7e(this,e),this.scale=t}return F7e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}]),e}();GC(dZ,"EPS",1e-4);var YL=function(t){var n=Object.keys(t).reduce(function(r,i){return dl(dl({},r),{},GC({},i,dZ.create(t[i])))},{});return dl(dl({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return u7e(i,function(f,h){return n[h].apply(f,{bandAware:s,position:a})})},isInRange:function(i){return sZ(i,function(o,s){return n[s].isInRange(o)})}})};function q7e(e){return(e%180+180)%180}var G7e=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=q7e(i),s=o*Math.PI/180,a=Math.atan(r/n),f=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(f)};function Fb(e){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fb(e)}function S8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(n),!0).forEach(function(r){H7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H7e(e,t,n){return t=Y7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y7e(e){var t=K7e(e,"string");return Fb(t)==="symbol"?t:String(t)}function K7e(e,t){if(Fb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z7e(e,t){return eqe(e)||Q7e(e,t)||J7e(e,t)||X7e()}function X7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J7e(e,t){if(e){if(typeof e=="string")return C8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C8(e,t)}}function C8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function eqe(e){if(Array.isArray(e))return e}function uI(){return uI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uI.apply(this,arguments)}var tqe=function(t,n){var r;return Ee.isValidElement(t)?r=Ee.cloneElement(t,n):Nn(t)?r=t(n):r=Ee.createElement("line",uI({},n,{className:"recharts-reference-line-line"})),r},nqe=function(t,n,r,i,o){var s=o.viewBox,a=s.x,f=s.y,h=s.width,g=s.height,y=o.position;if(r){var x=o.y,P=o.yAxis.orientation,E=t.y.apply(x,{position:y});if(sc(o,"discard")&&!t.y.isInRange(E))return null;var S=[{x:a+h,y:E},{x:a,y:E}];return P==="left"?S.reverse():S}if(n){var O=o.x,A=o.xAxis.orientation,M=t.x.apply(O,{position:y});if(sc(o,"discard")&&!t.x.isInRange(M))return null;var I=[{x:M,y:f+g},{x:M,y:f}];return A==="top"?I.reverse():I}if(i){var N=o.segment,$=N.map(function(R){return t.apply(R,{position:y})});return sc(o,"discard")&&n7e($,function(R){return!t.isInRange(R)})?null:$}return null};function KL(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxis,o=e.yAxis,s=e.shape,a=e.className,f=e.alwaysShow,h=e.clipPathId;ih(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=YL({x:i.scale,y:o.scale}),y=qi(t),x=qi(n),P=r&&r.length===2,E=nqe(g,y,x,P,e);if(!E)return null;var S=Z7e(E,2),O=S[0],A=O.x,M=O.y,I=S[1],N=I.x,$=I.y,R=sc(e,"hidden")?"url(#".concat(h,")"):void 0,F=k8(k8({clipPath:R},Vn(e,!0)),{},{x1:A,y1:M,x2:N,y2:$});return Ee.createElement(Pi,{className:rt("recharts-reference-line",a)},tqe(s,F),No.renderCallByParent(e,W7e({x1:A,y1:M,x2:N,y2:$})))}KL.displayName="ReferenceLine";KL.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Ub(e){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ub(e)}function dI(){return dI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dI.apply(this,arguments)}function T8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(n),!0).forEach(function(r){rqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rqe(e,t,n){return t=iqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iqe(e){var t=oqe(e,"string");return Ub(t)==="symbol"?t:String(t)}function oqe(e,t){if(Ub(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ub(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aqe=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,s=YL({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return sc(t,"discard")&&!s.isInRange(a)?null:a};function Ox(e){var t=e.x,n=e.y,r=e.r,i=e.alwaysShow,o=e.clipPathId,s=qi(t),a=qi(n);if(ih(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var f=aqe(e);if(!f)return null;var h=f.x,g=f.y,y=e.shape,x=e.className,P=sc(e,"hidden")?"url(#".concat(o,")"):void 0,E=P8(P8({clipPath:P},Vn(e,!0)),{},{cx:h,cy:g});return Ee.createElement(Pi,{className:rt("recharts-reference-dot",x)},Ox.renderDot(y,E),No.renderCallByParent(e,{x:h-r,y:g-r,width:2*r,height:2*r}))}Ox.displayName="ReferenceDot";Ox.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Ox.renderDot=function(e,t){var n;return Ee.isValidElement(e)?n=Ee.cloneElement(e,t):Nn(e)?n=e(t):n=Ee.createElement(HL,dI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function Vb(e){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(e)}function fI(){return fI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fI.apply(this,arguments)}function E8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(n),!0).forEach(function(r){sqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sqe(e,t,n){return t=lqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lqe(e){var t=cqe(e,"string");return Vb(t)==="symbol"?t:String(t)}function cqe(e,t){if(Vb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uqe=function(t,n,r,i,o){var s=o.x1,a=o.x2,f=o.y1,h=o.y2,g=o.xAxis,y=o.yAxis;if(!g||!y)return null;var x=YL({x:g.scale,y:y.scale}),P={x:t?x.x.apply(s,{position:"start"}):x.x.rangeMin,y:r?x.y.apply(f,{position:"start"}):x.y.rangeMin},E={x:n?x.x.apply(a,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(h,{position:"end"}):x.y.rangeMax};return sc(o,"discard")&&(!x.isInRange(P)||!x.isInRange(E))?null:uZ(P,E)};function Mx(e){var t=e.x1,n=e.x2,r=e.y1,i=e.y2,o=e.className,s=e.alwaysShow,a=e.clipPathId;ih(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=qi(t),h=qi(n),g=qi(r),y=qi(i),x=e.shape;if(!f&&!h&&!g&&!y&&!x)return null;var P=uqe(f,h,g,y,e);if(!P&&!x)return null;var E=sc(e,"hidden")?"url(#".concat(a,")"):void 0;return Ee.createElement(Pi,{className:rt("recharts-reference-area",o)},Mx.renderRect(x,O8(O8({clipPath:E},Vn(e,!0)),P)),No.renderCallByParent(e,P))}Mx.displayName="ReferenceArea";Mx.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Mx.renderRect=function(e,t){var n;return Ee.isValidElement(e)?n=Ee.cloneElement(e,t):Nn(e)?n=e(t):n=Ee.createElement(GL,fI({},t,{className:"recharts-reference-area-rect"})),n};function fZ(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function dqe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return G7e(r,n)}function fqe(e,t,n){var r=n==="width",i=e.x,o=e.y,s=e.width,a=e.height;return t===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function a2(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function hqe(e,t){return fZ(e,t+1)}function pqe(e,t,n,r,i){for(var o=(r||[]).slice(),s=t.start,a=t.end,f=0,h=1,g=s,y=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:fZ(r,h)};var S=f,O,A=function(){return O===void 0&&(O=n(E,S)),O},M=E.coordinate,I=f===0||a2(e,M,A,g,a);I||(f=0,g=s,h+=1),I&&(g=M+e*(A()/2+i),f+=h)},x;h<=o.length;)if(x=y(),x)return x.v;return[]}function Wb(e){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wb(e)}function M8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(n),!0).forEach(function(r){mqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mqe(e,t,n){return t=gqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gqe(e){var t=yqe(e,"string");return Wb(t)==="symbol"?t:String(t)}function yqe(e,t){if(Wb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vqe(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=t.start,f=t.end,h=function(x){var P=o[x],E,S=function(){return E===void 0&&(E=n(P,x)),E};if(x===s-1){var O=e*(P.coordinate+e*S()/2-f);o[x]=P=Lo(Lo({},P),{},{tickCoord:O>0?P.coordinate-O*e:P.coordinate})}else o[x]=P=Lo(Lo({},P),{},{tickCoord:P.coordinate});var A=a2(e,P.tickCoord,S,a,f);A&&(f=P.tickCoord-e*(S()/2+i),o[x]=Lo(Lo({},P),{},{isShow:!0}))},g=s-1;g>=0;g--)h(g);return o}function bqe(e,t,n,r,i,o){var s=(r||[]).slice(),a=s.length,f=t.start,h=t.end;if(o){var g=r[a-1],y=n(g,a-1),x=e*(g.coordinate+e*y/2-h);s[a-1]=g=Lo(Lo({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate});var P=a2(e,g.tickCoord,function(){return y},f,h);P&&(h=g.tickCoord-e*(y/2+i),s[a-1]=Lo(Lo({},g),{},{isShow:!0}))}for(var E=o?a-1:a,S=function(M){var I=s[M],N,$=function(){return N===void 0&&(N=n(I,M)),N};if(M===0){var R=e*(I.coordinate-e*$()/2-f);s[M]=I=Lo(Lo({},I),{},{tickCoord:R<0?I.coordinate-R*e:I.coordinate})}else s[M]=I=Lo(Lo({},I),{},{tickCoord:I.coordinate});var F=a2(e,I.tickCoord,$,f,h);F&&(f=I.tickCoord+e*($()/2+i),s[M]=Lo(Lo({},I),{},{isShow:!0}))},O=0;O<E;O++)S(O);return s}function hI(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,s=e.minTickGap,a=e.orientation,f=e.interval,h=e.tickFormatter,g=e.unit,y=e.angle;if(!i||!i.length||!r)return[];if(Et(f)||nu.isSsr)return hqe(i,typeof f=="number"&&Et(f)?f:0);var x=[],P=a==="top"||a==="bottom"?"width":"height",E=g&&P==="width"?x0(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=function(I,N){var $=Nn(h)?h(I.value,N):I.value;return P==="width"?dqe(x0($,{fontSize:t,letterSpacing:n}),E,y):x0($,{fontSize:t,letterSpacing:n})[P]},O=i.length>=2?kl(i[1].coordinate-i[0].coordinate):1,A=fqe(o,O,P);return f==="equidistantPreserveStart"?pqe(O,A,S,i,s):(f==="preserveStart"||f==="preserveStartEnd"?x=bqe(O,A,S,i,s,f==="preserveStartEnd"):x=vqe(O,A,S,i,s),x.filter(function(M){return M.isShow}))}var xqe=["viewBox"],_qe=["viewBox"],wqe=["ticks"];function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},om.apply(this,arguments)}function A8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(r){ZL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mO(e,t){if(e==null)return{};var n=Sqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Sqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hZ(r.key),r)}}function Cqe(e,t,n){return t&&I8(e.prototype,t),n&&I8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pI(e,t)}function pI(e,t){return pI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pI(e,t)}function Pqe(e){var t=Mqe();return function(){var r=s2(e),i;if(t){var o=s2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Eqe(this,i)}}function Eqe(e,t){if(t&&(cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oqe(e)}function Oqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s2(e){return s2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s2(e)}function ZL(e,t,n){return t=hZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hZ(e){var t=Aqe(e,"string");return cg(t)==="symbol"?t:String(t)}function Aqe(e,t){if(cg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S0=function(e){Tqe(n,e);var t=Pqe(n);function n(r){var i;return kqe(this,n),i=t.call(this,r),i.state={fontSize:"",letterSpacing:""},i}return Cqe(n,[{key:"shouldComponentUpdate",value:function(i,o){var s=i.viewBox,a=mO(i,xqe),f=this.props,h=f.viewBox,g=mO(f,_qe);return!km(s,h)||!km(a,g)||!km(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,s=o.x,a=o.y,f=o.width,h=o.height,g=o.orientation,y=o.tickSize,x=o.mirror,P=o.tickMargin,E,S,O,A,M,I,N=x?-1:1,$=i.tickSize||y,R=Et(i.tickCoord)?i.tickCoord:i.coordinate;switch(g){case"top":E=S=i.coordinate,A=a+ +!x*h,O=A-N*$,I=O-N*P,M=R;break;case"left":O=A=i.coordinate,S=s+ +!x*f,E=S-N*$,M=E-N*P,I=R;break;case"right":O=A=i.coordinate,S=s+ +x*f,E=S+N*$,M=E+N*P,I=R;break;default:E=S=i.coordinate,A=a+ +x*h,O=A+N*$,I=O+N*P,M=R;break}return{line:{x1:E,y1:O,x2:S,y2:A},tick:{x:M,y:I}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a;switch(o){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.orientation,g=i.mirror,y=i.axisLine,x=ea(ea(ea({},Vn(this.props)),Vn(y)),{},{fill:"none"});if(h==="top"||h==="bottom"){var P=+(h==="top"&&!g||h==="bottom"&&g);x=ea(ea({},x),{},{x1:o,y1:s+P*f,x2:o+a,y2:s+P*f})}else{var E=+(h==="left"&&!g||h==="right"&&g);x=ea(ea({},x),{},{x1:o+E*a,y1:s,x2:o+E*a,y2:s+f})}return Ee.createElement("line",om({},x,{className:rt("recharts-cartesian-axis-line",Rs(y,"className"))}))}},{key:"renderTicks",value:function(i,o,s){var a=this,f=this.props,h=f.tickLine,g=f.stroke,y=f.tick,x=f.tickFormatter,P=f.unit,E=hI(ea(ea({},this.props),{},{ticks:i}),o,s),S=this.getTickTextAnchor(),O=this.getTickVerticalAnchor(),A=Vn(this.props),M=Vn(y),I=ea(ea({},A),{},{fill:"none"},Vn(h)),N=E.map(function($,R){var F=a.getTickLineCoord($),q=F.line,X=F.tick,Q=ea(ea(ea(ea({textAnchor:S,verticalAnchor:O},A),{},{stroke:"none",fill:g},M),X),{},{index:R,payload:$,visibleTicksCount:E.length,tickFormatter:x});return Ee.createElement(Pi,om({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},vS(a.props,$,R)),h&&Ee.createElement("line",om({},I,q,{className:rt("recharts-cartesian-axis-tick-line",Rs(h,"className"))})),y&&n.renderTickItem(y,Q,"".concat(Nn(x)?x($.value,R):$.value).concat(P||"")))});return Ee.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var i=this,o=this.props,s=o.axisLine,a=o.width,f=o.height,h=o.ticksGenerator,g=o.className,y=o.hide;if(y)return null;var x=this.props,P=x.ticks,E=mO(x,wqe),S=P;return Nn(h)&&(S=P&&P.length>0?h(this.props):h(E)),a<=0||f<=0||!S||!S.length?null:Ee.createElement(Pi,{className:rt("recharts-cartesian-axis",g),ref:function(A){i.layerReference=A}},s&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),No.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,s){var a;return Ee.isValidElement(i)?a=Ee.cloneElement(i,o):Nn(i)?a=i(o):a=Ee.createElement(LS,om({},o,{className:"recharts-cartesian-axis-tick-value"}),s),a}}]),n}(V.Component);ZL(S0,"displayName","CartesianAxis");ZL(S0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Iqe=["x1","y1","x2","y2","key"],$qe=["offset"];function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function mI(){return mI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mI.apply(this,arguments)}function $8(e,t){if(e==null)return{};var n=Rqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function R8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(n),!0).forEach(function(r){XL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pZ(r.key),r)}}function Lqe(e,t,n){return t&&D8(e.prototype,t),n&&D8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gI(e,t)}function gI(e,t){return gI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gI(e,t)}function Nqe(e){var t=Fqe();return function(){var r=l2(e),i;if(t){var o=l2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zqe(this,i)}}function zqe(e,t){if(t&&(ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bqe(e)}function Bqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l2(e){return l2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l2(e)}function XL(e,t,n){return t=pZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pZ(e){var t=Uqe(e,"string");return ug(t)==="symbol"?t:String(t)}function Uqe(e,t){if(ug(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ug(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JL=function(e){jqe(n,e);var t=Nqe(n);function n(){return Dqe(this,n),t.apply(this,arguments)}return Lqe(n,[{key:"renderHorizontal",value:function(i){var o=this,s=this.props,a=s.x,f=s.width,h=s.horizontal;if(!i||!i.length)return null;var g=i.map(function(y,x){var P=td(td({},o.props),{},{x1:a,y1:y,x2:a+f,y2:y,key:"line-".concat(x),index:x});return n.renderLineItem(h,P)});return Ee.createElement("g",{className:"recharts-cartesian-grid-horizontal"},g)}},{key:"renderVertical",value:function(i){var o=this,s=this.props,a=s.y,f=s.height,h=s.vertical;if(!i||!i.length)return null;var g=i.map(function(y,x){var P=td(td({},o.props),{},{x1:y,y1:a,x2:y,y2:a+f,key:"line-".concat(x),index:x});return n.renderLineItem(h,P)});return Ee.createElement("g",{className:"recharts-cartesian-grid-vertical"},g)}},{key:"renderVerticalStripes",value:function(i){var o=this.props.verticalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,f=s.x,h=s.y,g=s.width,y=s.height,x=i.map(function(E){return Math.round(E+f-f)}).sort(function(E,S){return E-S});f!==x[0]&&x.unshift(0);var P=x.map(function(E,S){var O=!x[S+1],A=O?f+g-E:x[S+1]-E;if(A<=0)return null;var M=S%o.length;return Ee.createElement("rect",{key:"react-".concat(S),x:E,y:h,width:A,height:y,stroke:"none",fill:o[M],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ee.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},P)}},{key:"renderHorizontalStripes",value:function(i){var o=this.props.horizontalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,f=s.x,h=s.y,g=s.width,y=s.height,x=i.map(function(E){return Math.round(E+h-h)}).sort(function(E,S){return E-S});h!==x[0]&&x.unshift(0);var P=x.map(function(E,S){var O=!x[S+1],A=O?h+y-E:x[S+1]-E;if(A<=0)return null;var M=S%o.length;return Ee.createElement("rect",{key:"react-".concat(S),y:E,x:f,height:A,width:g,stroke:"none",fill:o[M],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ee.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},P)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var o=this.props,s=o.fillOpacity,a=o.x,f=o.y,h=o.width,g=o.height;return Ee.createElement("rect",{x:a,y:f,width:h,height:g,stroke:"none",fill:i,fillOpacity:s,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.horizontal,g=i.vertical,y=i.horizontalCoordinatesGenerator,x=i.verticalCoordinatesGenerator,P=i.xAxis,E=i.yAxis,S=i.offset,O=i.chartWidth,A=i.chartHeight,M=i.syncWithTicks,I=i.horizontalValues,N=i.verticalValues;if(!Et(a)||a<=0||!Et(f)||f<=0||!Et(o)||o!==+o||!Et(s)||s!==+s)return null;var $=this.props,R=$.horizontalPoints,F=$.verticalPoints;if((!R||!R.length)&&Nn(y)){var q=I&&I.length;R=y({yAxis:E?td(td({},E),{},{ticks:q?I:E.ticks}):void 0,width:O,height:A,offset:S},q?!0:M)}if((!F||!F.length)&&Nn(x)){var X=N&&N.length;F=x({xAxis:P?td(td({},P),{},{ticks:X?N:P.ticks}):void 0,width:O,height:A,offset:S},X?!0:M)}return Ee.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),h&&this.renderHorizontal(R),g&&this.renderVertical(F),h&&this.renderHorizontalStripes(R),g&&this.renderVerticalStripes(F))}}],[{key:"renderLineItem",value:function(i,o){var s;if(Ee.isValidElement(i))s=Ee.cloneElement(i,o);else if(Nn(i))s=i(o);else{var a=o.x1,f=o.y1,h=o.x2,g=o.y2,y=o.key,x=$8(o,Iqe),P=Vn(x);P.offset;var E=$8(P,$qe);s=Ee.createElement("line",mI({},E,{x1:a,y1:f,x2:h,y2:g,fill:"none",key:y}))}return s}}]),n}(V.PureComponent);XL(JL,"displayName","CartesianGrid");XL(JL,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var Vqe=["type","layout","connectNulls","ref"];function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function Wqe(e,t){if(e==null)return{};var n=qqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(this,arguments)}function L8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(n),!0).forEach(function(r){fl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $p(e){return Kqe(e)||Yqe(e)||Hqe(e)||Gqe()}function Gqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hqe(e,t){if(e){if(typeof e=="string")return yI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yI(e,t)}}function Yqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kqe(e){if(Array.isArray(e))return yI(e)}function yI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mZ(r.key),r)}}function Xqe(e,t,n){return t&&j8(e.prototype,t),n&&j8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vI(e,t)}function vI(e,t){return vI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vI(e,t)}function Qqe(e){var t=tGe();return function(){var r=c2(e),i;if(t){var o=c2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return eGe(this,i)}}function eGe(e,t){if(t&&(dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return od(e)}function od(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c2(e){return c2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c2(e)}function fl(e,t,n){return t=mZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mZ(e){var t=nGe(e,"string");return dg(t)==="symbol"?t:String(t)}function nGe(e,t){if(dg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fg=function(e){Jqe(n,e);var t=Qqe(n);function n(){var r;Zqe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),fl(od(r),"state",{isAnimationFinished:!0,totalLength:0}),fl(od(r),"generateSimpleStrokeDasharray",function(a,f){return"".concat(f,"px ").concat(a-f,"px")}),fl(od(r),"getStrokeDasharray",function(a,f,h){var g=h.reduce(function(M,I){return M+I});if(!g)return r.generateSimpleStrokeDasharray(f,a);for(var y=Math.floor(a/g),x=a%g,P=f-a,E=[],S=0,O=0;S<h.length;O+=h[S],++S)if(O+h[S]>x){E=[].concat($p(h.slice(0,S)),[x-O]);break}var A=E.length%2===0?[0,P]:[P];return[].concat($p(n.repeat(h,y)),$p(E),A).map(function(M){return"".concat(M,"px")}).join(", ")}),fl(od(r),"id",wx("recharts-line-")),fl(od(r),"pathRef",function(a){r.mainCurve=a}),fl(od(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fl(od(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Xqe(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();i!==this.state.totalLength&&this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,f=s.xAxis,h=s.yAxis,g=s.layout,y=s.children,x=Ds(y,Ex);if(!x)return null;var P=function(O,A){return{x:O.x,y:O.y,value:O.value,errorVal:ts(O.payload,A)}},E={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Ee.createElement(Pi,E,x.map(function(S){return Ee.cloneElement(S,{key:"bar-".concat(S.props.dataKey),data:a,xAxis:f,yAxis:h,layout:g,dataPointFormatter:P})}))}},{key:"renderDots",value:function(i,o,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var f=this.props,h=f.dot,g=f.points,y=f.dataKey,x=Vn(this.props),P=Vn(h,!0),E=g.map(function(O,A){var M=Ba(Ba(Ba({key:"dot-".concat(A),r:3},x),P),{},{value:O.value,dataKey:y,cx:O.x,cy:O.y,index:A,payload:O.payload});return n.renderDotItem(h,M)}),S={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return Ee.createElement(Pi,k0({className:"recharts-line-dots",key:"dots"},S),E)}},{key:"renderCurveStatically",value:function(i,o,s,a){var f=this.props,h=f.type,g=f.layout,y=f.connectNulls;f.ref;var x=Wqe(f,Vqe),P=Ba(Ba(Ba({},Vn(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:i},a),{},{type:h,layout:g,connectNulls:y});return Ee.createElement(iI,k0({},P,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var s=this,a=this.props,f=a.points,h=a.strokeDasharray,g=a.isAnimationActive,y=a.animationBegin,x=a.animationDuration,P=a.animationEasing,E=a.animationId,S=a.animateNewValues,O=a.width,A=a.height,M=this.state,I=M.prevPoints,N=M.totalLength;return Ee.createElement(pu,{begin:y,duration:x,isActive:g,easing:P,from:{t:0},to:{t:1},key:"line-".concat(E),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var R=$.t;if(I){var F=I.length/f.length,q=f.map(function(Se,ke){var we=Math.floor(ke*F);if(I[we]){var Oe=I[we],Ce=ml(Oe.x,Se.x),be=ml(Oe.y,Se.y);return Ba(Ba({},Se),{},{x:Ce(R),y:be(R)})}if(S){var $e=ml(O*2,Se.x),Ue=ml(A/2,Se.y);return Ba(Ba({},Se),{},{x:$e(R),y:Ue(R)})}return Ba(Ba({},Se),{},{x:Se.x,y:Se.y})});return s.renderCurveStatically(q,i,o)}var X=ml(0,N),Q=X(R),ae;if(h){var fe="".concat(h).split(/[,\s]+/gim).map(function(Se){return parseFloat(Se)});ae=s.getStrokeDasharray(Q,N,fe)}else ae=s.generateSimpleStrokeDasharray(N,Q);return s.renderCurveStatically(f,i,o,{strokeDasharray:ae})})}},{key:"renderCurve",value:function(i,o){var s=this.props,a=s.points,f=s.isAnimationActive,h=this.state,g=h.prevPoints,y=h.totalLength;return f&&a&&a.length&&(!g&&y>0||!BC(g,a))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(a,i,o)}},{key:"render",value:function(){var i,o=this.props,s=o.hide,a=o.dot,f=o.points,h=o.className,g=o.xAxis,y=o.yAxis,x=o.top,P=o.left,E=o.width,S=o.height,O=o.isAnimationActive,A=o.id;if(s||!f||!f.length)return null;var M=this.state.isAnimationFinished,I=f.length===1,N=rt("recharts-line",h),$=g&&g.allowDataOverflow,R=y&&y.allowDataOverflow,F=$||R,q=Hn(A)?this.id:A,X=(i=Vn(a))!==null&&i!==void 0?i:{r:3,strokeWidth:2},Q=X.r,ae=Q===void 0?3:Q,fe=X.strokeWidth,Se=fe===void 0?2:fe,ke=vAe(a)?a:{},we=ke.clipDot,Oe=we===void 0?!0:we,Ce=ae*2+Se;return Ee.createElement(Pi,{className:N},$||R?Ee.createElement("defs",null,Ee.createElement("clipPath",{id:"clipPath-".concat(q)},Ee.createElement("rect",{x:$?P:P-E/2,y:R?x:x-S/2,width:$?E:E*2,height:R?S:S*2})),!Oe&&Ee.createElement("clipPath",{id:"clipPath-dots-".concat(q)},Ee.createElement("rect",{x:P-Ce/2,y:x-Ce/2,width:E+Ce,height:S+Ce}))):null,!I&&this.renderCurve(F,q),this.renderErrorBar(F,q),(I||a)&&this.renderDots(F,Oe,q),(!O||M)&&Rd.renderCallByParent(this.props,f))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var s=i.length%2!==0?[].concat($p(i),[0]):i,a=[],f=0;f<o;++f)a=[].concat($p(a),$p(s));return a}},{key:"renderDotItem",value:function(i,o){var s;if(Ee.isValidElement(i))s=Ee.cloneElement(i,o);else if(Nn(i))s=i(o);else{var a=rt("recharts-line-dot",i?i.className:"");s=Ee.createElement(HL,k0({},o,{className:a}))}return s}}]),n}(V.PureComponent);fl(fg,"displayName","Line");fl(fg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!nu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fl(fg,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,a=e.bandSize,f=e.displayedData,h=e.offset,g=t.layout,y=f.map(function(x,P){var E=ts(x,s);return g==="horizontal"?{x:L6({axis:n,ticks:i,bandSize:a,entry:x,index:P}),y:Hn(E)?null:r.scale(E),value:E,payload:x}:{x:Hn(E)?null:n.scale(E),y:L6({axis:r,ticks:o,bandSize:a,entry:x,index:P}),value:E,payload:x}});return Ba({points:y,layout:g},h)});var HC=function(){return null};HC.displayName="XAxis";HC.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var YC=function(){return null};YC.displayName="YAxis";YC.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var rGe=Xd,iGe=Sx,oGe=OC;function aGe(e){return function(t,n,r){var i=Object(t);if(!iGe(t)){var o=rGe(n);t=oGe(t),n=function(a){return o(i[a],a,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}var sGe=aGe,lGe=iZ;function cGe(e){var t=lGe(e),n=t%1;return t===t?n?t-n:t:0}var uGe=cGe,dGe=OY,fGe=Xd,hGe=uGe,pGe=Math.max;function mGe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:hGe(n);return i<0&&(i=pGe(r+i,0)),dGe(e,fGe(t),i)}var gGe=mGe,yGe=sGe,vGe=gGe,bGe=yGe(vGe),xGe=bGe;const _Ge=mr(xGe);var wGe="Invariant failed";function SGe(e,t){if(!e)throw new Error(wGe)}function gZ(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,s=bo(t,n,r,i),a=bo(t,n,r,o);return{points:[s,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function N8(e){return PGe(e)||TGe(e)||CGe(e)||kGe()}function kGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CGe(e,t){if(e){if(typeof e=="string")return bI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bI(e,t)}}function TGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PGe(e){if(Array.isArray(e))return bI(e)}function bI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xI=function(t,n,r,i,o){var s=Ds(t,KL),a=Ds(t,Ox),f=[].concat(N8(s),N8(a)),h=Ds(t,Mx),g="".concat(i,"Id"),y=i[0],x=n;if(f.length&&(x=f.reduce(function(S,O){if(O.props[g]===r&&sc(O.props,"extendDomain")&&Et(O.props[y])){var A=O.props[y];return[Math.min(S[0],A),Math.max(S[1],A)]}return S},x)),h.length){var P="".concat(y,"1"),E="".concat(y,"2");x=h.reduce(function(S,O){if(O.props[g]===r&&sc(O.props,"extendDomain")&&Et(O.props[P])&&Et(O.props[E])){var A=O.props[P],M=O.props[E];return[Math.min(S[0],A,M),Math.max(S[1],A,M)]}return S},x)}return o&&o.length&&(x=o.reduce(function(S,O){return Et(O)?[Math.min(S[0],O),Math.max(S[1],O)]:S},x)),x},yZ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,g){this.fn=f,this.context=h,this.once=g||!1}function o(f,h,g,y,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var P=new i(g,y||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],P]:f._events[E].push(P):(f._events[E]=P,f._eventsCount++),f}function s(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],g,y;if(this._eventsCount===0)return h;for(y in g=this._events)t.call(g,y)&&h.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},a.prototype.listeners=function(h){var g=n?n+h:h,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var x=0,P=y.length,E=new Array(P);x<P;x++)E[x]=y[x].fn;return E},a.prototype.listenerCount=function(h){var g=n?n+h:h,y=this._events[g];return y?y.fn?1:y.length:0},a.prototype.emit=function(h,g,y,x,P,E){var S=n?n+h:h;if(!this._events[S])return!1;var O=this._events[S],A=arguments.length,M,I;if(O.fn){switch(O.once&&this.removeListener(h,O.fn,void 0,!0),A){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,g),!0;case 3:return O.fn.call(O.context,g,y),!0;case 4:return O.fn.call(O.context,g,y,x),!0;case 5:return O.fn.call(O.context,g,y,x,P),!0;case 6:return O.fn.call(O.context,g,y,x,P,E),!0}for(I=1,M=new Array(A-1);I<A;I++)M[I-1]=arguments[I];O.fn.apply(O.context,M)}else{var N=O.length,$;for(I=0;I<N;I++)switch(O[I].once&&this.removeListener(h,O[I].fn,void 0,!0),A){case 1:O[I].fn.call(O[I].context);break;case 2:O[I].fn.call(O[I].context,g);break;case 3:O[I].fn.call(O[I].context,g,y);break;case 4:O[I].fn.call(O[I].context,g,y,x);break;default:if(!M)for($=1,M=new Array(A-1);$<A;$++)M[$-1]=arguments[$];O[I].fn.apply(O[I].context,M)}}return!0},a.prototype.on=function(h,g,y){return o(this,h,g,y,!1)},a.prototype.once=function(h,g,y){return o(this,h,g,y,!0)},a.prototype.removeListener=function(h,g,y,x){var P=n?n+h:h;if(!this._events[P])return this;if(!g)return s(this,P),this;var E=this._events[P];if(E.fn)E.fn===g&&(!x||E.once)&&(!y||E.context===y)&&s(this,P);else{for(var S=0,O=[],A=E.length;S<A;S++)(E[S].fn!==g||x&&!E[S].once||y&&E[S].context!==y)&&O.push(E[S]);O.length?this._events[P]=O.length===1?O[0]:O:s(this,P)}return this},a.prototype.removeAllListeners=function(h){var g;return h?(g=n?n+h:h,this._events[g]&&s(this,g)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(yZ);var EGe=yZ.exports;const OGe=mr(EGe);var gO=new OGe,yO="recharts.syncMouseEvents";function qb(e){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qb(e)}function MGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vZ(r.key),r)}}function AGe(e,t,n){return t&&z8(e.prototype,t),n&&z8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vO(e,t,n){return t=vZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vZ(e){var t=IGe(e,"string");return qb(t)==="symbol"?t:String(t)}function IGe(e,t){if(qb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Ge=function(){function e(){MGe(this,e),vO(this,"activeIndex",0),vO(this,"coordinateList",[]),vO(this,"layout","horizontal")}return AGe(e,[{key:"setDetails",value:function(n){var r=n.coordinateList,i=r===void 0?[]:r,o=n.container,s=o===void 0?null:o,a=n.layout,f=a===void 0?null:a,h=n.offset,g=h===void 0?null:h,y=n.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=i??this.coordinateList,this.container=s??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,g=((r=window)===null||r===void 0?void 0:r.scrollY)||0,y=o+f+h,x=s+this.offset.top+a/2+g;this.mouseHandlerCallback({pageX:y,pageY:x})}}}]),e}();function RGe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&Et(r)&&Et(i))return!0}return!1}function DGe(e,t,n){var r,i,o,s;if(e==="horizontal")r=t.x,o=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var a=t.cx,f=t.cy,h=t.innerRadius,g=t.outerRadius,y=t.angle,x=bo(a,f,h,y),P=bo(a,f,g,y);r=x.x,i=x.y,o=P.x,s=P.y}else return gZ(t);return[{x:r,y:i},{x:o,y:s}]}function LGe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}var jGe=["item"],NGe=["children","className","width","height","style","compact","title","desc"];function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function B8(e,t){return FGe(e)||BGe(e,t)||bZ(e,t)||zGe()}function zGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BGe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function FGe(e){if(Array.isArray(e))return e}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},am.apply(this,arguments)}function F8(e,t){if(e==null)return{};var n=UGe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UGe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function VGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xZ(r.key),r)}}function WGe(e,t,n){return t&&U8(e.prototype,t),n&&U8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_I(e,t)}function _I(e,t){return _I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_I(e,t)}function GGe(e){var t=YGe();return function(){var r=u2(e),i;if(t){var o=u2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return HGe(this,i)}}function HGe(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rn(e)}function Rn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u2(e){return u2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u2(e)}function pg(e){return XGe(e)||ZGe(e)||bZ(e)||KGe()}function KGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bZ(e,t){if(e){if(typeof e=="string")return wI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wI(e,t)}}function ZGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XGe(e){if(Array.isArray(e))return wI(e)}function wI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(n),!0).forEach(function(r){un(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function un(e,t,n){return t=xZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xZ(e){var t=JGe(e,"string");return hg(t)==="symbol"?t:String(t)}function JGe(e,t){if(hg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QGe={xAxis:["bottom","top"],yAxis:["left","right"]},eHe={width:"100%",height:"100%"},_Z={x:0,y:0},tHe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},nHe=function(t,n,r,i){var o=n.find(function(g){return g&&g.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,a=i.radius;return Qe(Qe(Qe({},i),bo(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var f=o.coordinate,h=i.angle;return Qe(Qe(Qe({},i),bo(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return _Z},KC=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,f){var h=f.props.data;return h&&h.length?[].concat(pg(a),pg(h)):a},[]);return s.length>0?s:t&&t.length&&Et(i)&&Et(o)?t.slice(i,o+1):[]};function wZ(e){return e==="number"?[0,"auto"]:void 0}var SZ=function(t,n,r,i){var o=t.graphicalItems,s=t.tooltipAxis,a=KC(n,t);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(f,h){var g,y=h.props.hide;if(y)return f;var x=(g=h.props.data)!==null&&g!==void 0?g:n;x&&t.dataStartIndex+t.dataEndIndex!==0&&(x=x.slice(t.dataStartIndex,t.dataEndIndex+1));var P;if(s.dataKey&&!s.allowDuplicatedCategory){var E=x===void 0?a:x;P=gS(E,s.dataKey,i)}else P=x&&x[r]||a[r];return P?[].concat(pg(f),[QK(h,P)]):f},[])},W8=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},s=tHe(o,r),a=t.orderedTooltipTicks,f=t.tooltipAxis,h=t.tooltipTicks,g=UUe(s,a,h,f);if(g>=0&&h){var y=h[g]&&h[g].value,x=SZ(t,n,g,y),P=nHe(r,a,g,o);return{activeTooltipIndex:g,activeLabel:y,activePayload:x,activeCoordinate:P}}return null},rHe=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.layout,y=t.children,x=t.stackOffset,P=XK(g,o);return r.reduce(function(E,S){var O,A=S.props,M=A.type,I=A.dataKey,N=A.allowDataOverflow,$=A.allowDuplicatedCategory,R=A.scale,F=A.ticks,q=A.includeHidden,X=S.props[s];if(E[X])return E;var Q=KC(t.data,{graphicalItems:i.filter(function(Xe){return Xe.props[s]===X}),dataStartIndex:f,dataEndIndex:h}),ae=Q.length,fe,Se,ke;RGe(S.props.domain,N,M)&&(fe=QA(S.props.domain,null,N),P&&(M==="number"||R!=="auto")&&(ke=w0(Q,I,"category")));var we=wZ(M);if(!fe||fe.length===0){var Oe,Ce=(Oe=S.props.domain)!==null&&Oe!==void 0?Oe:we;if(I){if(fe=w0(Q,I,M),M==="category"&&P){var be=cAe(fe);$&&be?(Se=fe,fe=t2(0,ae)):$||(fe=B6(Ce,fe,S).reduce(function(Xe,tt){return Xe.indexOf(tt)>=0?Xe:[].concat(pg(Xe),[tt])},[]))}else if(M==="category")$?fe=fe.filter(function(Xe){return Xe!==""&&!Hn(Xe)}):fe=B6(Ce,fe,S).reduce(function(Xe,tt){return Xe.indexOf(tt)>=0||tt===""||Hn(tt)?Xe:[].concat(pg(Xe),[tt])},[]);else if(M==="number"){var $e=HUe(Q,i.filter(function(Xe){return Xe.props[s]===X&&(q||!Xe.props.hide)}),I,o,g);$e&&(fe=$e)}P&&(M==="number"||R!=="auto")&&(ke=w0(Q,I,"category"))}else P?fe=t2(0,ae):a&&a[X]&&a[X].hasStack&&M==="number"?fe=x==="expand"?[0,1]:JK(a[X].stackGroups,f,h):fe=ZK(Q,i.filter(function(Xe){return Xe.props[s]===X&&(q||!Xe.props.hide)}),M,g,!0);if(M==="number")fe=xI(y,fe,X,o,F),Ce&&(fe=QA(Ce,fe,N));else if(M==="category"&&Ce){var Ue=Ce,ft=fe.every(function(Xe){return Ue.indexOf(Xe)>=0});ft&&(fe=Ue)}}return Qe(Qe({},E),{},un({},X,Qe(Qe({},S.props),{},{axisType:o,domain:fe,categoricalDomain:ke,duplicateDomain:Se,originalDomain:(O=S.props.domain)!==null&&O!==void 0?O:we,isCategorical:P,layout:g})))},{})},iHe=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.layout,y=t.children,x=KC(t.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),P=x.length,E=XK(g,o),S=-1;return r.reduce(function(O,A){var M=A.props[s],I=wZ("number");if(!O[M]){S++;var N;return E?N=t2(0,P):a&&a[M]&&a[M].hasStack?(N=JK(a[M].stackGroups,f,h),N=xI(y,N,M,o)):(N=QA(I,ZK(x,r.filter(function($){return $.props[s]===M&&!$.props.hide}),"number",g),i.defaultProps.allowDataOverflow),N=xI(y,N,M,o)),Qe(Qe({},O),{},un({},M,Qe(Qe({axisType:o},i.defaultProps),{},{hide:!0,orientation:Rs(QGe,"".concat(o,".").concat(S%2),null),domain:N,originalDomain:I,isCategorical:E,layout:g})))}return O},{})},oHe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.children,y="".concat(i,"Id"),x=Ds(g,o),P={};return x&&x.length?P=rHe(t,{axes:x,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:a,dataStartIndex:f,dataEndIndex:h}):s&&s.length&&(P=iHe(t,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:a,dataStartIndex:f,dataEndIndex:h})),P},aHe=function(t){var n=rd(t),r=id(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:bL(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:KS(n,r)}},q8=function(t){var n=t.children,r=t.defaultShowTooltip,i=Kc(n,Nb),o=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},sHe=function(t){return!t||!t.length?!1:t.some(function(n){var r=tu(n&&n.type);return r&&r.indexOf("Bar")>=0})},G8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lHe=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,a=t.yAxisMap,f=a===void 0?{}:a,h=r.width,g=r.height,y=r.children,x=r.margin||{},P=Kc(y,Nb),E=Kc(y,Qm),S=Object.keys(f).reduce(function($,R){var F=f[R],q=F.orientation;return!F.mirror&&!F.hide?Qe(Qe({},$),{},un({},q,$[q]+F.width)):$},{left:x.left||0,right:x.right||0}),O=Object.keys(s).reduce(function($,R){var F=s[R],q=F.orientation;return!F.mirror&&!F.hide?Qe(Qe({},$),{},un({},q,Rs($,"".concat(q))+F.height)):$},{top:x.top||0,bottom:x.bottom||0}),A=Qe(Qe({},O),S),M=A.bottom;P&&(A.bottom+=P.props.height||Nb.defaultProps.height),E&&n&&(A=qUe(A,i,r,n));var I=h-A.left-A.right,N=g-A.top-A.bottom;return Qe(Qe({brushBottom:M},A),{},{width:Math.max(I,0),height:Math.max(N,0)})},cHe=function(t){var n,r=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,s=o===void 0?"axis":o,a=t.validateTooltipEventTypes,f=a===void 0?["axis"]:a,h=t.axisComponents,g=t.legendContent,y=t.formatAxisMap,x=t.defaultProps,P=function(O,A){var M=A.graphicalItems,I=A.stackGroups,N=A.offset,$=A.updateId,R=A.dataStartIndex,F=A.dataEndIndex,q=O.barSize,X=O.layout,Q=O.barGap,ae=O.barCategoryGap,fe=O.maxBarSize,Se=G8(X),ke=Se.numericAxisName,we=Se.cateAxisName,Oe=sHe(M),Ce=Oe&&VUe({barSize:q,stackGroups:I}),be=[];return M.forEach(function($e,Ue){var ft=KC(O.data,{graphicalItems:[$e],dataStartIndex:R,dataEndIndex:F}),Xe=$e.props,tt=Xe.dataKey,lt=Xe.maxBarSize,Ct=$e.props["".concat(ke,"Id")],st=$e.props["".concat(we,"Id")],Ht={},Lt=h.reduce(function(an,Mn){var on,It=A["".concat(Mn.axisType,"Map")],Wn=$e.props["".concat(Mn.axisType,"Id")];It&&It[Wn]||Mn.axisType==="zAxis"||SGe(!1);var ir=It[Wn];return Qe(Qe({},an),{},(on={},un(on,Mn.axisType,ir),un(on,"".concat(Mn.axisType,"Ticks"),id(ir)),on))},Ht),He=Lt[we],_t=Lt["".concat(we,"Ticks")],pt=I&&I[Ct]&&I[Ct].hasStack&&oVe($e,I[Ct].stackGroups),Ve=tu($e.type).indexOf("Bar")>=0,Pt=KS(He,_t),Tt=[];if(Ve){var Ut,gn,bn=Hn(lt)?fe:lt,xn=(Ut=(gn=KS(He,_t,!0))!==null&&gn!==void 0?gn:bn)!==null&&Ut!==void 0?Ut:0;Tt=WUe({barGap:Q,barCategoryGap:ae,bandSize:xn!==Pt?xn:Pt,sizeList:Ce[st],maxBarSize:bn}),xn!==Pt&&(Tt=Tt.map(function(an){return Qe(Qe({},an),{},{position:Qe(Qe({},an.position),{},{offset:an.position.offset-xn/2})})}))}var rr=$e&&$e.type&&$e.type.getComposedData;if(rr){var Ne;be.push({props:Qe(Qe({},rr(Qe(Qe({},Lt),{},{displayedData:ft,props:O,dataKey:tt,item:$e,bandSize:Pt,barPosition:Tt,offset:N,stackedData:pt,layout:X,dataStartIndex:R,dataEndIndex:F}))),{},(Ne={key:$e.key||"item-".concat(Ue)},un(Ne,ke,Lt[ke]),un(Ne,we,Lt[we]),un(Ne,"animationId",$),Ne)),childIndex:_Ae($e,O.children),item:$e})}}),be},E=function(O,A){var M=O.props,I=O.dataStartIndex,N=O.dataEndIndex,$=O.updateId;if(!u4({props:M}))return null;var R=M.children,F=M.layout,q=M.stackOffset,X=M.data,Q=M.reverseStackOrder,ae=G8(F),fe=ae.numericAxisName,Se=ae.cateAxisName,ke=Ds(R,i),we=nVe(X,ke,"".concat(fe,"Id"),"".concat(Se,"Id"),q,Q),Oe=h.reduce(function(ft,Xe){var tt="".concat(Xe.axisType,"Map");return Qe(Qe({},ft),{},un({},tt,oHe(M,Qe(Qe({},Xe),{},{graphicalItems:ke,stackGroups:Xe.axisType===fe&&we,dataStartIndex:I,dataEndIndex:N}))))},{}),Ce=lHe(Qe(Qe({},Oe),{},{props:M,graphicalItems:ke}),A==null?void 0:A.legendBBox);Object.keys(Oe).forEach(function(ft){Oe[ft]=y(M,Oe[ft],Ce,ft.replace("Map",""),r)});var be=Oe["".concat(Se,"Map")],$e=aHe(be),Ue=P(M,Qe(Qe({},Oe),{},{dataStartIndex:I,dataEndIndex:N,updateId:$,graphicalItems:ke,stackGroups:we,offset:Ce}));return Qe(Qe({formattedGraphicalItems:Ue,graphicalItems:ke,offset:Ce,stackGroups:we},$e),Oe)};return n=function(S){qGe(A,S);var O=GGe(A);function A(M){var I,N,$;return VGe(this,A),$=O.call(this,M),un(Rn($),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),un(Rn($),"accessibilityManager",new $Ge),un(Rn($),"handleLegendBBoxUpdate",function(R){if(R){var F=$.state,q=F.dataStartIndex,X=F.dataEndIndex,Q=F.updateId;$.setState(Qe({legendBBox:R},E({props:$.props,dataStartIndex:q,dataEndIndex:X,updateId:Q},Qe(Qe({},$.state),{},{legendBBox:R}))))}}),un(Rn($),"handleReceiveSyncEvent",function(R,F,q){if($.props.syncId===R){if(q===$.eventEmitterSymbol&&typeof $.props.syncMethod!="function")return;$.applySyncEvent(F)}}),un(Rn($),"handleBrushChange",function(R){var F=R.startIndex,q=R.endIndex;if(F!==$.state.dataStartIndex||q!==$.state.dataEndIndex){var X=$.state.updateId;$.setState(function(){return Qe({dataStartIndex:F,dataEndIndex:q},E({props:$.props,dataStartIndex:F,dataEndIndex:q,updateId:X},$.state))}),$.triggerSyncEvent({dataStartIndex:F,dataEndIndex:q})}}),un(Rn($),"handleMouseEnter",function(R){var F=$.getMouseInfo(R);if(F){var q=Qe(Qe({},F),{},{isTooltipActive:!0});$.setState(q),$.triggerSyncEvent(q);var X=$.props.onMouseEnter;Nn(X)&&X(q,R)}}),un(Rn($),"triggeredAfterMouseMove",function(R){var F=$.getMouseInfo(R),q=F?Qe(Qe({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};$.setState(q),$.triggerSyncEvent(q);var X=$.props.onMouseMove;Nn(X)&&X(q,R)}),un(Rn($),"handleItemMouseEnter",function(R){$.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),un(Rn($),"handleItemMouseLeave",function(){$.setState(function(){return{isTooltipActive:!1}})}),un(Rn($),"handleMouseMove",function(R){R.persist(),$.throttleTriggeredAfterMouseMove(R)}),un(Rn($),"handleMouseLeave",function(R){var F={isTooltipActive:!1};$.setState(F),$.triggerSyncEvent(F);var q=$.props.onMouseLeave;Nn(q)&&q(F,R)}),un(Rn($),"handleOuterEvent",function(R){var F=xAe(R),q=Rs($.props,"".concat(F));if(F&&Nn(q)){var X,Q;/.*touch.*/i.test(F)?Q=$.getMouseInfo(R.changedTouches[0]):Q=$.getMouseInfo(R),q((X=Q)!==null&&X!==void 0?X:{},R)}}),un(Rn($),"handleClick",function(R){var F=$.getMouseInfo(R);if(F){var q=Qe(Qe({},F),{},{isTooltipActive:!0});$.setState(q),$.triggerSyncEvent(q);var X=$.props.onClick;Nn(X)&&X(q,R)}}),un(Rn($),"handleMouseDown",function(R){var F=$.props.onMouseDown;if(Nn(F)){var q=$.getMouseInfo(R);F(q,R)}}),un(Rn($),"handleMouseUp",function(R){var F=$.props.onMouseUp;if(Nn(F)){var q=$.getMouseInfo(R);F(q,R)}}),un(Rn($),"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&$.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),un(Rn($),"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&$.handleMouseDown(R.changedTouches[0])}),un(Rn($),"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&$.handleMouseUp(R.changedTouches[0])}),un(Rn($),"triggerSyncEvent",function(R){$.props.syncId!==void 0&&gO.emit(yO,$.props.syncId,R,$.eventEmitterSymbol)}),un(Rn($),"applySyncEvent",function(R){var F=$.props,q=F.layout,X=F.syncMethod,Q=$.state.updateId,ae=R.dataStartIndex,fe=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)$.setState(Qe({dataStartIndex:ae,dataEndIndex:fe},E({props:$.props,dataStartIndex:ae,dataEndIndex:fe,updateId:Q},$.state)));else if(R.activeTooltipIndex!==void 0){var Se=R.chartX,ke=R.chartY,we=R.activeTooltipIndex,Oe=$.state,Ce=Oe.offset,be=Oe.tooltipTicks;if(!Ce)return;if(typeof X=="function")we=X(be,R);else if(X==="value"){we=-1;for(var $e=0;$e<be.length;$e++)if(be[$e].value===R.activeLabel){we=$e;break}}var Ue=Qe(Qe({},Ce),{},{x:Ce.left,y:Ce.top}),ft=Math.min(Se,Ue.x+Ue.width),Xe=Math.min(ke,Ue.y+Ue.height),tt=be[we]&&be[we].value,lt=SZ($.state,$.props.data,we),Ct=be[we]?{x:q==="horizontal"?be[we].coordinate:ft,y:q==="horizontal"?Xe:be[we].coordinate}:_Z;$.setState(Qe(Qe({},R),{},{activeLabel:tt,activeCoordinate:Ct,activePayload:lt,activeTooltipIndex:we}))}else $.setState(R)}),un(Rn($),"verticalCoordinatesGenerator",function(R,F){var q=R.xAxis,X=R.width,Q=R.height,ae=R.offset;return R6(hI(Qe(Qe(Qe({},S0.defaultProps),q),{},{ticks:id(q,!0),viewBox:{x:0,y:0,width:X,height:Q}})),ae.left,ae.left+ae.width,F)}),un(Rn($),"horizontalCoordinatesGenerator",function(R,F){var q=R.yAxis,X=R.width,Q=R.height,ae=R.offset;return R6(hI(Qe(Qe(Qe({},S0.defaultProps),q),{},{ticks:id(q,!0),viewBox:{x:0,y:0,width:X,height:Q}})),ae.top,ae.top+ae.height,F)}),un(Rn($),"axesTicksGenerator",function(R){return id(R,!0)}),un(Rn($),"renderCursor",function(R){var F,q=$.state,X=q.isTooltipActive,Q=q.activeCoordinate,ae=q.activePayload,fe=q.offset,Se=q.activeTooltipIndex,ke=q.tooltipAxisBandSize,we=$.getTooltipEventType(),Oe=(F=R.props.active)!==null&&F!==void 0?F:X;if(!R||!R.props.cursor||!Oe||!Q||r!=="ScatterChart"&&we!=="axis")return null;var Ce=$.props.layout,be,$e=iI;if(r==="ScatterChart")be=Q,$e=TWe;else if(r==="BarChart")be=LGe(Ce,Q,fe,ke),$e=GL;else if(Ce==="radial"){var Ue=gZ(Q),ft=Ue.cx,Xe=Ue.cy,tt=Ue.radius,lt=Ue.startAngle,Ct=Ue.endAngle;be={cx:ft,cy:Xe,startAngle:lt,endAngle:Ct,innerRadius:tt,outerRadius:tt},$e=nZ}else be={points:DGe(Ce,Q,fe)},$e=iI;var st=R.key||"_recharts-cursor",Ht=Qe(Qe(Qe(Qe({stroke:"#ccc",pointerEvents:"none"},fe),be),Vn(R.props.cursor)),{},{payload:ae,payloadIndex:Se,key:st,className:"recharts-tooltip-cursor"});return V.isValidElement(R.props.cursor)?V.cloneElement(R.props.cursor,Ht):V.createElement($e,Ht)}),un(Rn($),"renderPolarAxis",function(R,F,q){var X=Rs(R,"type.axisType"),Q=Rs($.state,"".concat(X,"Map")),ae=Q&&Q[R.props["".concat(X,"Id")]];return V.cloneElement(R,Qe(Qe({},ae),{},{className:X,key:R.key||"".concat(F,"-").concat(q),ticks:id(ae,!0)}))}),un(Rn($),"renderXAxis",function(R,F,q){var X=$.state.xAxisMap,Q=X[R.props.xAxisId];return $.renderAxis(Q,R,F,q)}),un(Rn($),"renderYAxis",function(R,F,q){var X=$.state.yAxisMap,Q=X[R.props.yAxisId];return $.renderAxis(Q,R,F,q)}),un(Rn($),"renderGrid",function(R){var F=$.state,q=F.xAxisMap,X=F.yAxisMap,Q=F.offset,ae=$.props,fe=ae.width,Se=ae.height,ke=rd(q),we=_Ge(X,function(be){return sZ(be.domain,Number.isFinite)}),Oe=we||rd(X),Ce=R.props||{};return V.cloneElement(R,{key:R.key||"grid",x:Et(Ce.x)?Ce.x:Q.left,y:Et(Ce.y)?Ce.y:Q.top,width:Et(Ce.width)?Ce.width:Q.width,height:Et(Ce.height)?Ce.height:Q.height,xAxis:ke,yAxis:Oe,offset:Q,chartWidth:fe,chartHeight:Se,verticalCoordinatesGenerator:Ce.verticalCoordinatesGenerator||$.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:Ce.horizontalCoordinatesGenerator||$.horizontalCoordinatesGenerator})}),un(Rn($),"renderPolarGrid",function(R){var F=R.props,q=F.radialLines,X=F.polarAngles,Q=F.polarRadius,ae=$.state,fe=ae.radiusAxisMap,Se=ae.angleAxisMap,ke=rd(fe),we=rd(Se),Oe=we.cx,Ce=we.cy,be=we.innerRadius,$e=we.outerRadius;return V.cloneElement(R,{polarAngles:Array.isArray(X)?X:id(we,!0).map(function(Ue){return Ue.coordinate}),polarRadius:Array.isArray(Q)?Q:id(ke,!0).map(function(Ue){return Ue.coordinate}),cx:Oe,cy:Ce,innerRadius:be,outerRadius:$e,key:R.key||"polar-grid",radialLines:q})}),un(Rn($),"renderLegend",function(){var R=$.state.formattedGraphicalItems,F=$.props,q=F.children,X=F.width,Q=F.height,ae=$.props.margin||{},fe=X-(ae.left||0)-(ae.right||0),Se=YK({children:q,formattedGraphicalItems:R,legendWidth:fe,legendContent:g});if(!Se)return null;var ke=Se.item,we=F8(Se,jGe);return V.cloneElement(ke,Qe(Qe({},we),{},{chartWidth:X,chartHeight:Q,margin:ae,onBBoxUpdate:$.handleLegendBBoxUpdate}))}),un(Rn($),"renderTooltip",function(){var R,F=$.props.children,q=Kc(F,Hf);if(!q)return null;var X=$.state,Q=X.isTooltipActive,ae=X.activeCoordinate,fe=X.activePayload,Se=X.activeLabel,ke=X.offset,we=(R=q.props.active)!==null&&R!==void 0?R:Q;return V.cloneElement(q,{viewBox:Qe(Qe({},ke),{},{x:ke.left,y:ke.top}),active:we,label:Se,payload:we?fe:[],coordinate:ae})}),un(Rn($),"renderBrush",function(R){var F=$.props,q=F.margin,X=F.data,Q=$.state,ae=Q.offset,fe=Q.dataStartIndex,Se=Q.dataEndIndex,ke=Q.updateId;return V.cloneElement(R,{key:R.key||"_recharts-brush",onChange:R1($.handleBrushChange,R.props.onChange),data:X,x:Et(R.props.x)?R.props.x:ae.left,y:Et(R.props.y)?R.props.y:ae.top+ae.height+ae.brushBottom-(q.bottom||0),width:Et(R.props.width)?R.props.width:ae.width,startIndex:fe,endIndex:Se,updateId:"brush-".concat(ke)})}),un(Rn($),"renderReferenceElement",function(R,F,q){if(!R)return null;var X=Rn($),Q=X.clipPathId,ae=$.state,fe=ae.xAxisMap,Se=ae.yAxisMap,ke=ae.offset,we=R.props,Oe=we.xAxisId,Ce=we.yAxisId;return V.cloneElement(R,{key:R.key||"".concat(F,"-").concat(q),xAxis:fe[Oe],yAxis:Se[Ce],viewBox:{x:ke.left,y:ke.top,width:ke.width,height:ke.height},clipPathId:Q})}),un(Rn($),"renderActivePoints",function(R){var F=R.item,q=R.activePoint,X=R.basePoint,Q=R.childIndex,ae=R.isRange,fe=[],Se=F.props.key,ke=F.item.props,we=ke.activeDot,Oe=ke.dataKey,Ce=Qe(Qe({index:Q,dataKey:Oe,cx:q.x,cy:q.y,r:4,fill:qL(F.item),strokeWidth:2,stroke:"#fff",payload:q.payload,value:q.value,key:"".concat(Se,"-activePoint-").concat(Q)},Vn(we)),yS(we));return fe.push(A.renderActiveDot(we,Ce)),X?fe.push(A.renderActiveDot(we,Qe(Qe({},Ce),{},{cx:X.x,cy:X.y,key:"".concat(Se,"-basePoint-").concat(Q)}))):ae&&fe.push(null),fe}),un(Rn($),"renderGraphicChild",function(R,F,q){var X=$.filterFormatItem(R,F,q);if(!X)return null;var Q=$.getTooltipEventType(),ae=$.state,fe=ae.isTooltipActive,Se=ae.tooltipAxis,ke=ae.activeTooltipIndex,we=ae.activeLabel,Oe=$.props.children,Ce=Kc(Oe,Hf),be=X.props,$e=be.points,Ue=be.isRange,ft=be.baseLine,Xe=X.item.props,tt=Xe.activeDot,lt=Xe.hide,Ct=Xe.activeBar,st=Xe.activeShape,Ht=!!(!lt&&fe&&Ce&&(tt||Ct||st)),Lt={};Q!=="axis"&&Ce&&Ce.props.trigger==="click"?Lt={onClick:R1($.handleItemMouseEnter,R.props.onClick)}:Q!=="axis"&&(Lt={onMouseLeave:R1($.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:R1($.handleItemMouseEnter,R.props.onMouseEnter)});var He=V.cloneElement(R,Qe(Qe({},X.props),Lt));function _t(Mn){return typeof Se.dataKey=="function"?Se.dataKey(Mn.payload):null}if(Ht)if(ke>=0){var pt,Ve;if(Se.dataKey&&!Se.allowDuplicatedCategory){var Pt=typeof Se.dataKey=="function"?_t:"payload.".concat(Se.dataKey.toString());pt=gS($e,Pt,we),Ve=Ue&&ft&&gS(ft,Pt,we)}else pt=$e==null?void 0:$e[ke],Ve=Ue&&ft&&ft[ke];if(st||Ct){var Tt=R.props.activeIndex!==void 0?R.props.activeIndex:ke;return[V.cloneElement(R,Qe(Qe(Qe({},X.props),Lt),{},{activeIndex:Tt})),null,null]}if(!Hn(pt))return[He].concat(pg($.renderActivePoints({item:X,activePoint:pt,basePoint:Ve,childIndex:ke,isRange:Ue})))}else{var Ut,gn=(Ut=$.getItemByXY($.state.activeCoordinate))!==null&&Ut!==void 0?Ut:{graphicalItem:He},bn=gn.graphicalItem,xn=bn.item,rr=xn===void 0?R:xn,Ne=bn.childIndex,an=Qe(Qe(Qe({},X.props),Lt),{},{activeIndex:Ne});return[V.cloneElement(rr,an),null,null]}return Ue?[He,null,null]:[He,null]}),un(Rn($),"renderCustomized",function(R,F,q){return V.cloneElement(R,Qe(Qe({key:"recharts-customized-".concat(q)},$.props),$.state))}),un(Rn($),"renderMap",{CartesianGrid:{handler:$.renderGrid,once:!0},ReferenceArea:{handler:$.renderReferenceElement},ReferenceLine:{handler:$.renderReferenceElement},ReferenceDot:{handler:$.renderReferenceElement},XAxis:{handler:$.renderXAxis},YAxis:{handler:$.renderYAxis},Brush:{handler:$.renderBrush,once:!0},Bar:{handler:$.renderGraphicChild},Line:{handler:$.renderGraphicChild},Area:{handler:$.renderGraphicChild},Radar:{handler:$.renderGraphicChild},RadialBar:{handler:$.renderGraphicChild},Scatter:{handler:$.renderGraphicChild},Pie:{handler:$.renderGraphicChild},Funnel:{handler:$.renderGraphicChild},Tooltip:{handler:$.renderCursor,once:!0},PolarGrid:{handler:$.renderPolarGrid,once:!0},PolarAngleAxis:{handler:$.renderPolarAxis},PolarRadiusAxis:{handler:$.renderPolarAxis},Customized:{handler:$.renderCustomized}}),$.clipPathId="".concat((I=M.id)!==null&&I!==void 0?I:wx("recharts"),"-clip"),$.throttleTriggeredAfterMouseMove=YY($.triggeredAfterMouseMove,(N=M.throttleDelay)!==null&&N!==void 0?N:1e3/60),$.state={},$}return WGe(A,[{key:"componentDidMount",value:function(){var I,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(I,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var $,R;this.accessibilityManager.setDetails({offset:{left:($=this.props.margin.left)!==null&&$!==void 0?$:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Kc(this.props.children,Hf);if(I&&typeof I.props.shared=="boolean"){var N=I.props.shared?"axis":"item";return f.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var N=this.container,$=N.getBoundingClientRect(),R=m4e($),F={chartX:Math.round(I.pageX-R.left),chartY:Math.round(I.pageY-R.top)},q=$.width/N.offsetWidth||1,X=this.inRange(F.chartX,F.chartY,q);if(!X)return null;var Q=this.state,ae=Q.xAxisMap,fe=Q.yAxisMap,Se=this.getTooltipEventType();if(Se!=="axis"&&ae&&fe){var ke=rd(ae).scale,we=rd(fe).scale,Oe=ke&&ke.invert?ke.invert(F.chartX):null,Ce=we&&we.invert?we.invert(F.chartY):null;return Qe(Qe({},F),{},{xValue:Oe,yValue:Ce})}var be=W8(this.state,this.props.data,this.props.layout,X);return be?Qe(Qe({},F),be):null}},{key:"inRange",value:function(I,N){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,F=I/$,q=N/$;if(R==="horizontal"||R==="vertical"){var X=this.state.offset,Q=F>=X.left&&F<=X.left+X.width&&q>=X.top&&q<=X.top+X.height;return Q?{x:F,y:q}:null}var ae=this.state,fe=ae.angleAxisMap,Se=ae.radiusAxisMap;if(fe&&Se){var ke=rd(fe);return V6({x:F,y:q},ke)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,N=this.getTooltipEventType(),$=Kc(I,Hf),R={};$&&N==="axis"&&($.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var F=yS(this.props,this.handleOuterEvent);return Qe(Qe({},F),R)}},{key:"addListener",value:function(){gO.on(yO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gO.removeListener(yO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,N,$){for(var R=this.state.formattedGraphicalItems,F=0,q=R.length;F<q;F++){var X=R[F];if(X.item===I||X.props.key===I.key||N===tu(X.item.type)&&$===X.childIndex)return X}return null}},{key:"renderAxis",value:function(I,N,$,R){var F=this.props,q=F.width,X=F.height;return Ee.createElement(S0,am({},I,{className:rt("recharts-".concat(I.axisType," ").concat(I.axisType),I.className),key:N.key||"".concat($,"-").concat(R),viewBox:{x:0,y:0,width:q,height:X},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var I=this.clipPathId,N=this.state.offset,$=N.left,R=N.top,F=N.height,q=N.width;return Ee.createElement("defs",null,Ee.createElement("clipPath",{id:I},Ee.createElement("rect",{x:$,y:R,height:F,width:q})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(N,$){var R=B8($,2),F=R[0],q=R[1];return Qe(Qe({},N),{},un({},F,q.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(N,$){var R=B8($,2),F=R[0],q=R[1];return Qe(Qe({},N),{},un({},F,q.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(I){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(I){var N=this.state,$=N.formattedGraphicalItems,R=N.activeItem;if($&&$.length)for(var F=0,q=$.length;F<q;F++){var X=$[F],Q=X.props,ae=X.item,fe=tu(ae.type);if(fe==="Bar"){var Se=(Q.data||[]).find(function(Ce){return gWe(I,Ce)});if(Se)return{graphicalItem:X,payload:Se}}else if(fe==="RadialBar"){var ke=(Q.data||[]).find(function(Ce){return V6(I,Ce)});if(ke)return{graphicalItem:X,payload:ke}}else if(VC(X,R)||WC(X,R)||Lb(X,R)){var we=b9e({graphicalItem:X,activeTooltipItem:R,itemData:ae.props.data}),Oe=ae.props.activeIndex===void 0?we:ae.props.activeIndex;return{graphicalItem:Qe(Qe({},X),{},{childIndex:Oe}),payload:Lb(X,R)?ae.props.data[we]:X.props.data[we]}}}return null}},{key:"render",value:function(){var I=this;if(!u4(this))return null;var N=this.props,$=N.children,R=N.className,F=N.width,q=N.height,X=N.style,Q=N.compact,ae=N.title,fe=N.desc,Se=F8(N,NGe),ke=Vn(Se);if(Q)return Ee.createElement(dA,am({},ke,{width:F,height:q,title:ae,desc:fe}),this.renderClipPath(),f4($,this.renderMap));if(this.props.accessibilityLayer){var we,Oe;ke.tabIndex=(we=this.props.tabIndex)!==null&&we!==void 0?we:0,ke.role=(Oe=this.props.role)!==null&&Oe!==void 0?Oe:"img",ke.onKeyDown=function(be){I.accessibilityManager.keyboardEvent(be)},ke.onFocus=function(){I.accessibilityManager.focus()}}var Ce=this.parseEventsOfWrapper();return Ee.createElement("div",am({className:rt("recharts-wrapper",R),style:Qe({position:"relative",cursor:"default",width:F,height:q},X)},Ce,{ref:function($e){I.container=$e},role:"region"}),Ee.createElement(dA,am({},ke,{width:F,height:q,title:ae,desc:fe,style:eHe}),this.renderClipPath(),f4($,this.renderMap)),this.renderLegend(),this.renderTooltip())}}]),A}(V.Component),un(n,"displayName",r),un(n,"defaultProps",Qe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),un(n,"getDerivedStateFromProps",function(S,O){var A=S.dataKey,M=S.data,I=S.children,N=S.width,$=S.height,R=S.layout,F=S.stackOffset,q=S.margin;if(O.updateId===void 0){var X=q8(S);return Qe(Qe(Qe({},X),{},{updateId:0},E(Qe(Qe({props:S},X),{},{updateId:0}),O)),{},{prevDataKey:A,prevData:M,prevWidth:N,prevHeight:$,prevLayout:R,prevStackOffset:F,prevMargin:q,prevChildren:I})}if(A!==O.prevDataKey||M!==O.prevData||N!==O.prevWidth||$!==O.prevHeight||R!==O.prevLayout||F!==O.prevStackOffset||!km(q,O.prevMargin)){var Q=q8(S),ae={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},fe=Qe(Qe({},W8(O,M,R)),{},{updateId:O.updateId+1}),Se=Qe(Qe(Qe({},Q),ae),fe);return Qe(Qe(Qe({},Se),E(Qe({props:S},Se),O)),{},{prevDataKey:A,prevData:M,prevWidth:N,prevHeight:$,prevLayout:R,prevStackOffset:F,prevMargin:q,prevChildren:I})}if(!FH(I,O.prevChildren)){var ke=!Hn(M),we=ke?O.updateId:O.updateId+1;return Qe(Qe({updateId:we},E(Qe(Qe({props:S},O),{},{updateId:we}),O)),{},{prevChildren:I})}return null}),un(n,"renderActiveDot",function(S,O){var A;return V.isValidElement(S)?A=V.cloneElement(S,O):Nn(S)?A=S(O):A=Ee.createElement(HL,O),Ee.createElement(Pi,{className:"recharts-active-dot",key:O.key},A)}),n},uHe=cHe({chartName:"LineChart",GraphicalChild:fg,axisComponents:[{axisType:"xAxis",AxisComp:HC},{axisType:"yAxis",AxisComp:YC}],formatAxisMap:V7e});const dHe=qr(e=>({chart:{flexGrow:1,overflow:"hidden"},content:{height:"100%",flexGrow:1,alignItems:"stretch",display:"flex",flexDirection:"column",overflowY:"auto"}})),kZ=()=>{const e=dHe(),[t,n]=V.useState([]),[r,i]=V.useState([]),[o,s]=V.useState([]),a=Ee.createRef();a.current=o;const[f,h]=V.useState(-1),g=On(I=>I.mission.route),y=t.map(I=>I.elevation),x=t.map(I=>I.uavheight),P=Math.min(...y),E=Math.max(...x),S=E-P,O=I=>{let N=[];return I.length>0&&I.forEach($=>{let R=[];$.wp.forEach(F=>{R.push([F.pos[0],F.pos[1],F.pos[2]])}),N.push(R)}),N};async function A(){if(console.log("--------------   LLAMANDO A ELEVATION"),g.length>0){let I=JSON.parse(JSON.stringify(g)),N=I.map(F=>F.id),$=O(I);i($);let R;try{const F=await fetch("/api/map/elevation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({routes:$})});if(F.ok)R=await F.json();else throw new Error(F.status)}catch(F){console.log(F)}if(R.status){let F=R.elevation.map((q,X)=>({name:"RT"+X,data:q,color:ph.colors_devices[N[X]]}));h(-1),s(F)}else console.log("no get elevation of point")}}V.useEffect(()=>{console.log("mission Elevation")},[]),V.useEffect(()=>{let I=!1,N=O(g);if(console.log("update elevation"),N.length>r.length)console.log("ruta mayour"),N[+N.length+-1].length>0?I=!0:i(N);else if(N.length<r.length){console.log(" se ha eliminado  una ruta");let $=[],R=[];r.map((F,q)=>{let X=!1;N.map(Q=>{JSON.stringify(F)===JSON.stringify(Q)&&(X=!0)}),X&&($.push(F),R.push(a.current[q]))}),s(R),i($)}else{console.log("ruta de la misma longitud");for(let $=0;$<N.length;$=$+1)if(JSON.stringify(N[$])!=JSON.stringify(r[$])){console.log("latitude longitude no equals");let R=r[$].map(q=>[q[0],q[1]]),F=N[$].map(q=>[q[0],q[1]]);if(JSON.stringify(R)===JSON.stringify(F)){for(let q=0;q<r[$].length;q=q+1)if(r[$][q][2]!==N[$][q][2]){console.log("diferent elevation");let X=JSON.parse(JSON.stringify(a.current));for(let Q=0;Q<X[$].data.length;Q=Q+1)X[$].data[Q].hasOwnProperty("wp")&&X[$].data[Q].wp==q&&(console.log("encontrado elev profile wp"),X[$].data[Q].uavheight=+X[$].data[Q].uavheight-+X[$].data[Q].uav+ +N[$][q][2],X[$].data[Q].uav=+N[$][q][2]);console.log(X),s(X)}i(N);break}else{console.log("nuevas posiciones"),I=!0;break}}}I&&A()},[g]),V.useEffect(()=>{f==-1?n(o):n([o[f]])},[f,o]);const M=({active:I,payload:N,label:$})=>{if(I&&N&&N.length){let R=[N[0].payload];return R[0].color=N[0].color,N.map(F=>{let q=!0;R.map(X=>{F.payload.rt==X.rt&&(q=!1)}),F.payload.color=F.color,q&&R.push(F.payload)}),R[0].uavheight?L.jsxs("div",{style:{background:"#FFFFFF"},children:[L.jsx("div",{children:`distancia ${$} m `}),R.map(F=>L.jsxs(V.Fragment,{children:[L.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt} - wp ${F.wp}`},`tr${F.rt}`),L.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} - UAV: ${F.uavheight}`},`dr${F.rt}`)]},"s-"+F.rt))]}):L.jsxs("div",{style:{background:"#FFFFFF"},children:[L.jsx("div",{children:`distancia ${$} m `}),R.map(F=>L.jsxs(V.Fragment,{children:[L.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt}`},`tr${F.rt}`),L.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} `},`dr${F.rt}`)]},"s-"+F.rt))]})}return null};return L.jsxs("div",{className:e.content,children:[L.jsxs(Xl,{style:{display:"flex",margin:"10px",alignItems:"center"},children:[L.jsx("a",{style:{marginInline:"20px"},children:"Elevation Profile"}),L.jsxs(ix,{children:[L.jsx(ox,{id:"demo-simple-select-label",children:"Route"}),L.jsxs(ax,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,label:"Elevation Profile",onChange:I=>h(I.target.value),children:[L.jsx(Ps,{value:-1,children:"All Routes"}),o.map((I,N,$)=>L.jsx(Ps,{value:N,children:`Route${N}`},`sel${N}`))]})]})]}),t.length>0&&L.jsx("div",{className:e.chart,children:L.jsx(l4e,{width:"100%",height:"100%",children:L.jsxs(uHe,{data:t,margin:{top:10,right:40,left:0,bottom:10},children:[L.jsx(HC,{dataKey:"length",type:"number",domain:["dataMin","dataMax"]}),L.jsx(YC,{type:"number",tickFormatter:I=>I.toFixed(2),domain:[P-S/5,E+S/5]}),L.jsx(JL,{strokeDasharray:"3 3"}),L.jsx(Hf,{content:L.jsx(M,{})}),L.jsx(Qm,{}),t.map((I,N,$)=>L.jsxs(V.Fragment,{children:[L.jsx(fg,{type:"monotone",dataKey:"elevation",data:I.data,name:I.name,stroke:I.color,activeDot:{r:8,onClick:(R,F)=>{console.log(F);let q=`https://www.google.com/maps?q=${F.payload.lat},${F.payload.lng}`;window.open(q,"_blank")}}},I.name),L.jsx(fg,{connectNulls:!0,dataKey:"uavheight",data:I.data,name:I.name+"-v",stroke:I.color,strokeDasharray:"5 5",activeDot:{onClick:(R,F)=>{console.log(F)}}},I.name+"-v")]},"s-"+N))]})})})]})},fHe=qr(e=>({card:{pointerEvents:"auto",width:"500px",height:"180px"},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:"15px",paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"center"},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"40%",transform:"translateX(-50%)"}})),CZ=({SetOpenSave:e,OpenSave:t})=>{const n=fHe(),r=On(g=>g.mission),[i,o]=V.useState("yaml"),[s,a]=V.useState(r.name),f=()=>{let g,y="text/plain";if(i=="yaml"){let S={version:"3"};S.name=r.name,S.route=r.route,g=zq.stringify(S)}if(i=="kml"){y="application/xml";let S=`<?xml version="1.0" encoding="UTF-8"?>
`;S+=`<kml>
`,S+=`<Document>
`,r.route.map((O,A,M)=>{S+=`<Style id="sn_ylw-pushpin1${A}">
`,S+=`<LineStyle>
`,S+=`<color>ff${ph.colors_devices[A].substr(-6)}</color>
`,S+=`<width>3</width>
`,S+=`</LineStyle>
`,S+=`</Style>
`}),r.route.map((O,A)=>{S+=`<Placemark>
`,S+=`<name>${O.uav}-${O.name}</name>
`,S+=`<styleUrl>#sn_ylw-pushpin1${A}</styleUrl>
`,S+=`<open>1</open>
`,S+=`<LineString>
`;let M="";O.wp.map(I=>{M=M+I.pos[1]+","+I.pos[0]+","+I.pos[2]+" "}),S+=`<tessellate>1</tessellate>
`,S+=`<altitudeMode>relativeToGround</altitudeMode>
`,S+=`<coordinates>
`,S+=M+`
`,S+=`</coordinates>
`,S+=`</LineString>
`,S+=`</Placemark>
`}),S+=`</Document>
`,S+="</kml>",g=S}if(i=="plan"){y="application/json";let S={fileType:"Plan"};S.geoFence={circles:[],polygons:[],version:2},S.groundStation="QGroundControl",S.mission={},S.mission.cruiseSpeed=r.route[0].attributes.idle_vel,S.mission.firmwareType=12,S.mission.globalPlanAltitudeMode=0,S.mission.hoverSpeed=5,S.mission.items=[],r.route.map((O,A,M)=>{O.wp.map((I,N,$)=>{let R={AMSLAltAboveTerrain:null,Altitude:I.pos[2],AltitudeMode:1,autoContinue:!0,command:16,doJumpId:1,frame:3,params:[0,0,0,null,I.pos[0],I.pos[1],I.pos[2]],type:"SimpleItem"};N==0&&(R.command=84,S.mission.plannedHomePosition=[I.pos[0],I.pos[1],I.pos[2]]),N+1==$.length&&(R.command=84),S.mission.items.push(R)})}),S.mission.vehicleType=20,S.mission.version=2,S.rallyPoints={points:[],version:2},S.version=1,g=JSON.stringify(S)}if(i=="waypoint"){let S=`QGC WPL 110
`;r.route.map(O=>{O.wp.map((A,M,I)=>{M==0?S+=`${M}	1	0	16	0	0	0	0	${A.pos[0]}	${A.pos[1]}	${A.pos[2]}	1
`:S+=`${M}	0	0	16	0	0	0	0	${A.pos[0]}	${A.pos[1]}	${A.pos[2]}	1
`})}),g=S}const x=new Blob([g],{type:y}),P=URL.createObjectURL(x),E=document.createElement("a");E.download=r.name+"."+i,E.href=P,E.click()},h=()=>{e(!1)};return L.jsx(L.Fragment,{children:L.jsx("div",{className:n.root,children:L.jsxs(wu,{elevation:3,className:n.card,children:[L.jsxs("div",{className:n.header,children:[L.jsx(pn,{variant:"body2",color:"textSecondary",children:"Save Mission"}),L.jsx(Gn,{size:"small",onClick:h,onTouchStart:h,children:L.jsx(fu,{fontSize:"small"})})]}),L.jsxs(pR,{className:n.content,children:[L.jsx(Ai,{required:!0,label:"Name Mission",variant:"standard",value:s||" ",onChange:g=>a(g.target.value),style:{width:"300px",marginRight:"5px"}}),L.jsxs(ix,{children:[L.jsx(ox,{children:"Type file mission"}),L.jsx(ax,{label:"Type file mission",value:i,onChange:g=>o(g.target.value),sx:{width:"120px"},children:["yaml","kml","waypoint","plan"].map(g=>L.jsx(Ps,{value:g,children:g},g))})]})]}),L.jsx(Z9,{classes:{root:n.actions},disableSpacing:!0,children:L.jsx(hr,{onClick:f,children:"Save Mission"})})]})})})},hHe=qr(e=>({root:{height:"100%"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3}})),pHe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"error":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},mHe=()=>{const e=hHe(),[t,n]=V.useState(!1),r=On(s=>s.data.positions),[i,o]=V.useState([]);return V.useEffect(()=>{o(Object.values(r))},[r]),L.jsx("div",{className:e.root,children:L.jsx(TH,{children:L.jsxs(Gk,{notification:pHe,children:[L.jsx(Hk,{}),L.jsx(Yk,{}),L.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 95px)"},children:[L.jsx("div",{style:{display:"inline-block",position:"relative",width:"560px",height:"100%"}}),L.jsx("div",{style:{display:"inline-block",position:"relative",width:"calc(100vw - 575px)",height:"100%"},children:L.jsxs(Mk,{children:[L.jsx(PH,{}),L.jsx(CD,{positions:i,onClick:null,selectedPosition:null,showStatus:!0})]})})]}),L.jsx("div",{className:e.sidebarStyle,children:L.jsx("div",{className:e.middleStyle,children:L.jsx(Qa,{square:!0,children:L.jsx(PPe,{SetOpenSave:n})})})}),L.jsx("div",{className:e.panelElevation,children:L.jsx("div",{className:e.middleStyle,children:L.jsx(Qa,{square:!0,children:L.jsx(kZ,{})})})}),t&&L.jsx(CZ,{SetOpenSave:n})]})})})},gHe=()=>L.jsx("div",{children:"EventPage"}),yHe=()=>L.jsx("div",{children:"ReplayPage"}),vHe=()=>V.useMemo(()=>({custom:[{key:"data",name:"commandData",type:"string"}],positionPeriodic:[{key:"frequency",name:"commandFrequency",type:"number"}],setTimezone:[{key:"timezone",name:"commandTimezone",type:"string"}],sendSms:[{key:"phone",name:"commandPhone",type:"string"},{key:"message",name:"commandMessage",type:"string"}],message:[{key:"message",name:"commandMessage",type:"string"}],sendUssd:[{key:"phone",name:"commandPhone",type:"string"}],sosNumber:[{key:"index",name:"commandIndex",type:"number"},{key:"phone",name:"commandPhone",type:"string"}],silenceTime:[{key:"data",name:"commandData",type:"string"}],setPhonebook:[{key:"data",name:"commandData",type:"string"}],voiceMessage:[{key:"data",name:"commandData",type:"string"}],outputControl:[{key:"index",name:"commandIndex",type:"number"},{key:"data",name:"commandData",type:"string"}],voiceMonitoring:[{key:"enable",name:"commandEnable",type:"boolean"}],setAgps:[{key:"enable",name:"commandEnable",type:"boolean"}],setIndicator:[{key:"data",name:"commandData",type:"string"}],configuration:[{key:"data",name:"commandData",type:"string"}],setConnection:[{key:"server",name:"commandServer",type:"string"},{key:"port",name:"commandPort",type:"number"}],setOdometer:[{key:"data",name:"commandData",type:"string"}],modePowerSaving:[{key:"enable",name:"commandEnable",type:"boolean"}],modeDeepSleep:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmGeofence:[{key:"radius",name:"commandRadius",type:"number"}],alarmBattery:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmSos:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmRemove:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmClock:[{key:"data",name:"commandData",type:"string"}],alarmSpeed:[{key:"data",name:"commandData",type:"string"}],alarmFall:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmVibration:[{key:"data",name:"commandData",type:"string"}],SetupCamera:[{key:"type",name:"Type",type:"number"},{key:"enable",name:"Enable",type:"number"}],Gimbal:[{key:"roll",name:"Roll",type:"number"},{key:"pitch",name:"Pitch",type:"number"},{key:"yaw",name:"Yaw",type:"number"}],GimbalPitch:[{key:"pitch",name:"Pitch",type:"number"}],treat:[{key:"enable",name:"commandEnable",type:"boolean"}],setupcamera:[{key:"cameraType",name:"cameraType",type:"number"},{key:"start",name:"start",type:"number"}]}),[]),bHe=({deviceId:e,item:t,setItem:n})=>{const r=On(a=>a.session.server.textEnabled),i=vHe(),[o,s]=V.useState([]);return V.useEffect(()=>{t&&t.type?s(i[t.type]||[]):s([])},[i,t]),L.jsxs(V.Fragment,{children:[L.jsx(Yl,{value:t.type||"",onChange:a=>n({...t,type:a.target.value,attributes:{}}),endpoint:e?`/api/commands/types?${new URLSearchParams({deviceId:e}).toString()}`:"/api/commands/types",keyGetter:a=>a.type,titleGetter:a=>FG("command_",a.type),label:"Command type"}),o.map(({key:a,name:f,type:h})=>h==="boolean"?L.jsx(b3,{control:L.jsx(y3,{checked:t.attributes[a],onChange:g=>{const y={...t,attributes:{...t.attributes}};y.attributes[a]=g.target.checked,n(y)}}),label:f}):L.jsx(Ai,{type:h==="number"?"number":"text",value:t.attributes[a],onChange:g=>{const y={...t,attributes:{...t.attributes}};y.attributes[a]=h==="number"?Number(g.target.value):g.target.value,n(y)},label:f})),r&&L.jsx(b3,{control:L.jsx(y3,{checked:t.textChannel,onChange:a=>n({...t,textChannel:a.target.checked})}),label:"commandSendSms"})]},"sdf")},xHe=qr(e=>({root:{position:"relative",width:"200px",height:"200px",left:"50px",backgroundColor:"#F7F9F9",overflow:"hidden"},box_down:{width:"100%",height:"50%",backgroundColor:"#5D6D7E",position:"absolute",transition:"bottom 0.3s ease-in-out",bottom:0,left:"50%",transform:"translate(-50%, 100%)",borderTop:"6px solid #1B2631 "},box_right:{width:"50%",height:"100%",backgroundColor:"#5D6D7E",position:"absolute",transition:"right 0.3s ease-in-out",top:"50%",right:0,transform:"translate(100%, -50%)",borderLeft:"6px solid #1B2631 "},box_up:{width:"100%",height:"50%",backgroundColor:"#5D6D7E",position:"absolute",transition:"top 0.3s ease-in-out",top:0,left:"50%",transform:"translate(-50%, -100%)",borderBottom:"6px solid #1B2631 "},box_left:{width:"50%",height:"100%",backgroundColor:"#5D6D7E",position:"absolute",transition:"left 0.3s ease-in-out",top:"50%",left:0,transform:"translate(-100%, -50%)",borderRight:"6px solid #1B2631 "},text_right:{position:"absolute",right:"15%",top:"50%"},text_left:{position:"absolute",left:"15%",top:"50%"},text_down:{position:"absolute",right:"50%",bottom:"15%",transform:"translate(50%, 50%)"},text_up:{position:"absolute",right:"50%",top:"15%",transform:"translate(50%, -50%)"},icon:{position:"absolute",width:"25%",height:"25%",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},centerContent:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})),d2=({device:e,data:t=[10,15,11,0,12,20],sensors:n={down:[0,15],front:[0,15],left:[0,12],back:[0,12],right:[0,12],up:[0,20]},front_view:r=!1,test:i=!1})=>{const o=xHe(),[s,a]=V.useState(0),[f,h]=V.useState(0),[g,y]=V.useState(0),[x,P]=V.useState(0);V.useEffect(()=>{r?(n.hasOwnProperty("down")&&P(40-40*t[0]/n.down[1]),n.hasOwnProperty("left")&&h(40-40*t[2]/n.left[1]),n.hasOwnProperty("right")&&a(40-40*t[4]/n.right[1]),n.hasOwnProperty("up")&&y(40-40*t[5]/n.up[1])):(n.hasOwnProperty("front")&&y(40-40*t[1]/n.front[1]),n.hasOwnProperty("left")&&a(40-40*t[2]/n.left[1]),n.hasOwnProperty("back")&&P(40-40*t[3]/n.down[1]),n.hasOwnProperty("right")&&h(40-50*t[4]/n.right[1]))},[t,e,n]);const E=()=>{a(O=>O-10),h(O=>O-10),y(O=>O-10),P(O=>O-10)},S=()=>{a(O=>O+10),h(O=>O+10),y(O=>O+10),P(O=>O+10)};return L.jsxs("div",{children:[L.jsxs("div",{className:o.root,children:[L.jsx("div",{className:o.box_left,style:{left:`${s}%`}}),L.jsx("div",{className:o.box_right,style:{right:`${f}%`}}),L.jsx("div",{className:o.box_up,style:{top:`${g}%`}}),L.jsx("div",{className:o.box_down,style:{bottom:`${x}%`}}),!r&&L.jsxs(L.Fragment,{children:[s<50&&L.jsxs("div",{className:o.text_left,children:[" ",`${t[2]}m`]}),f<50&&L.jsxs("div",{className:o.text_right,children:[" ",`${t[4]}m`]}),g<50&&L.jsxs("div",{className:o.text_up,children:[" ",`${t[1]}m`]}),x<50&&L.jsxs("div",{className:o.text_down,children:[" ",`${t[3]}m`]}),L.jsx("img",{className:o.icon,src:H0[Vw("dji_M210_melodic")],alt:""})]}),r&&L.jsxs(L.Fragment,{children:[s<50&&L.jsxs("div",{className:o.text_left,children:[" ",`${t[4]}m`]}),f<50&&L.jsxs("div",{className:o.text_right,children:[" ",`${t[2]}m`]}),g<50&&L.jsxs("div",{className:o.text_up,children:[" ",`${t[5]}m`]}),x<50&&L.jsxs("div",{className:o.text_down,children:[" ",`${t[0]}m`]}),L.jsx("img",{className:o.icon,src:bie[Vw("dji_M210_melodic")],alt:""})]})]}),i&&L.jsxs("div",{children:[L.jsx("button",{onClick:E,children:"Move Left"}),L.jsx("button",{onClick:S,children:"Move Right"})]})]})},_He=qr(e=>({card:{pointerEvents:"auto"},media:{height:"20vw",width:"100%",background:"black"},media1:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{float:"right",height:"40px"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),f2=({deviceId:e,deviceIp:t="127.0.0.1",camera_src:n="video0",onClose:r})=>{const i=_He(),o=e?On(g=>g.devices.items[e]):{name:"test"},s="http://"+t+":8889/"+n;V.useState(!1);let a=i.card,f=i.root_max,h=i.media;return V.useRef(),L.jsx("div",{className:f,children:o&&L.jsxs(wu,{className:a,children:[L.jsx("div",{children:L.jsx("div",{className:i.tittle,children:"Id: "+o.name})}),L.jsx("iframe",{src:s,className:h})]})})},wHe=qr(e=>({card:{pointerEvents:"auto"},media:{width:"100%",height:"20vw",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),TZ=({deviceId:e,datacamera:t,onClose:n})=>{const r=wHe(),[i,o]=V.useState(cS),s=On(g=>g.devices.items[e]);V.useState(!1);let a=r.card,f=r.root_max;const h=On(g=>g.data.camera[e]);return V.useEffect(()=>{e!=null&&(h!=null?o("data:image/bgr8;base64,"+h.camera):o(cS))},[h]),L.jsx("div",{className:f,children:s&&L.jsxs(wu,{className:a,children:[L.jsx("div",{children:L.jsxs("div",{className:r.tittle,children:["Image "+s.name," "]})}),L.jsx("img",{src:i,className:r.media})]})})},SHe=qr(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),kHe=({device:e,myhostname:t})=>{const n=e.camera&&e.camera.length>0?e.camera[0]:{type:""};return L.jsxs(L.Fragment,{children:[n.type==="WebRTC"&&L.jsx(f2,{deviceId:e.id,deviceIp:t,devicename:e.name,camera_src:e.name+"_"+n.source,onClose:()=>{console.log("cerrar ")}}),n.type==="WebRTC_env"&&L.jsx(f2,{deviceId:e.id,deviceIp:e.ip,devicename:e.name,camera_src:n.source,onClose:()=>{console.log("cerrar ")}}),n.type==="Websocket"&&L.jsx(TZ,{deviceId:e.id,datacamera:null,onClose:()=>console.log("cerrar ")})]})},CHe=()=>{const e=SHe(),t=bg(),{id:n}=Cte(),[r,i]=V.useState(),[o,s]=V.useState({}),[a,f]=V.useState({}),h=On($=>$.data.positions),g=On($=>$.devices.items),[y,x]=V.useState(0),[P,E]=V.useState([]),[S,O]=V.useState([]),A=`${window.location.hostname}`,M=()=>{};V.useEffect(()=>{n&&i(h[n])},[n,h]),V.useEffect(()=>{n&&(f(g[n]),console.log(g[n]))},[n]);const I=mve(async()=>{let $;if(y){const F=await fetch(`/api/commands/${y}`);if(F.ok)$=await F.json();else throw Error(await F.text())}else $=o;$.deviceId=parseInt(n,10);const R=await fetch("/api/commands/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(R.ok)t(-1);else throw Error(await R.text())}),N=()=>y||o&&o.type;return L.jsxs("div",{className:e.root,children:[L.jsx(oR,{position:"sticky",color:"inherit",children:L.jsxs(Cg,{children:[L.jsx(Gn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:L.jsx(vx,{})}),L.jsx(pn,{variant:"h6",children:a.name})]})}),L.jsxs("div",{children:[L.jsx("div",{style:{position:"relative",display:"inline-block",width:"49vw",height:"50vh"},children:L.jsxs(Mk,{children:[L.jsx(TD,{markers:P}),L.jsx(HG,{}),L.jsx(CD,{positions:S,onClick:M,selectedPosition:r,showStatus:!0}),L.jsx(YG,{})]})}),L.jsx("div",{className:e.content,style:{display:"inline-block",position:"relative",width:"45vw",height:"50vh",top:0,right:0},children:L.jsx(eS,{maxWidth:"sm",children:L.jsx(Qa,{children:L.jsxs(vR,{children:[L.jsx(p7,{children:L.jsxs(vm,{children:[L.jsx(Sa,{children:"stateName"}),L.jsx(Sa,{children:"stateValue"})]})}),L.jsxs(bR,{children:[r&&Object.getOwnPropertyNames(r).filter($=>$!=="attributes").map($=>L.jsxs(vm,{children:[L.jsx(Sa,{children:$}),L.jsx(Sa,{children:L.jsx(aA,{position:r,property:$})})]},$)),r&&Object.getOwnPropertyNames(r.attributes).map($=>L.jsxs(vm,{children:[L.jsx(Sa,{children:$}),L.jsx(Sa,{children:L.jsx(aA,{position:r,attribute:$})})]},$))]})]})})})}),L.jsx("div",{style:{display:"inline-block",position:"relative",width:"47vw",height:"40vh"},children:Object.keys(a).length>0&&L.jsx(kHe,{device:a,myhostname:A})}),L.jsxs("div",{style:{display:"inline-block",position:"relative",width:"50vw",height:"40vh"},children:[r&&r.attributes&&L.jsxs("div",{style:{display:"flex"},children:[L.jsx(d2,{front_view:!0,data:r.attributes.obstacle_info}),L.jsx("div",{style:{width:"10px"}}),L.jsx(d2,{front_view:!1,data:r.attributes.obstacle_info})]}),L.jsx("div",{children:L.jsxs(eS,{maxWidth:"xs",className:e.container,children:[L.jsxs(xl,{defaultExpanded:!0,children:[L.jsx(wl,{expandIcon:L.jsx(Es,{}),children:L.jsx(pn,{variant:"subtitle1",children:"Command"})}),L.jsx(_l,{className:e.details,children:!y&&L.jsx(bHe,{deviceId:n,item:o,setItem:s})})]}),L.jsxs("div",{className:e.buttons,children:[L.jsx(hr,{type:"button",color:"primary",variant:"outlined",onClick:()=>t(-1),children:"Cancel"}),L.jsx(hr,{type:"button",color:"primary",variant:"contained",onClick:I,disabled:!N(),children:"Send"})]})]})})]})]})]})},THe=qr(()=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),PHe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},EHe=()=>{const[e,t]=V.useState(!1),n=On(s=>s.devices.items);let r=Object.values(n);const i=`${window.location.hostname}`,o=THe();return L.jsx("div",{className:o.root,children:L.jsxs(Gk,{notification:PHe,children:[L.jsx(Hk,{}),L.jsx(Yk,{}),L.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 90px)"},children:L.jsx(Xl,{component:"div",sx:{overflow:"auto"},style:{backgroundColor:"#000000",width:"calc(100vw - 360px)",height:"calc(100vh - 90px",padding:"20px",float:"right"},children:L.jsx(S3,{container:!0,spacing:2,justifyContent:"space-around",children:Ee.Children.toArray(Object.values(n).map(s=>L.jsx(V.Fragment,{children:s.camera.map((a,f)=>L.jsxs(S3,{item:!0,xs:12,sm:6,children:[a.type==="WebRTC"&&L.jsx(f2,{deviceId:s.id,deviceIp:i,devicename:s.name,camera_src:s.name+"_"+a.source,onClose:()=>{console.log("cerrar ")}}),a.type==="WebRTC_env"&&L.jsx(f2,{deviceId:s.id,deviceIp:s.ip,devicename:s.name,camera_src:a.source,onClose:()=>{console.log("cerrar ")}}),a.type==="Websocket"&&L.jsx(TZ,{deviceId:s.id,datacamera:null,onClose:()=>console.log("cerrar ")})]},"card-"+s.id+"-"+f))},"dev"+s.id)))})})}),L.jsx("div",{className:o.sidebarStyle,children:L.jsx("div",{className:o.middleStyle,children:L.jsxs(Qa,{square:!0,className:o.contentListStyle,children:[L.jsx(CH,{SetAddUAVOpen:t}),L.jsx(aH,{devices:r})]})})})]})})},OHe=qr(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),MHe=()=>{const e=OHe(),t=bg(),[n,r]=V.useState([]),[i,o]=V.useState(),s=On(f=>f.events.items),a=On(f=>f.devices.items);return V.useEffect(()=>{r(s)},[s]),V.useEffect(()=>{o({...a,"-1":{name:"GCS"}})},[a]),On(f=>{if(n){const h=f.devices.items[n.deviceId];if(h)return h.name}return null}),L.jsxs("div",{className:e.root,children:[L.jsx(oR,{position:"sticky",color:"inherit",children:L.jsxs(Cg,{children:[L.jsx(Gn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:L.jsx(vx,{})}),L.jsx(pn,{variant:"h6",children:"Events"})]})}),L.jsx("div",{className:e.content,children:L.jsx(eS,{maxWidth:"sm",children:L.jsx(Qa,{children:L.jsxs(vR,{children:[L.jsx(p7,{children:L.jsxs(vm,{children:[L.jsx(Sa,{children:"UAV"}),L.jsx(Sa,{children:"Fecha"}),L.jsx(Sa,{children:"Valor"})]})}),L.jsx(bR,{children:n&&n.map(f=>L.jsxs(vm,{children:[L.jsx(Sa,{children:i[f.deviceId].name}),L.jsx(Sa,{children:f.eventTime}),L.jsx(Sa,{children:f.attributes.message})]},f.id))})]})})})})]})},AHe=()=>L.jsxs("div",{children:[L.jsx("h3",{children:"Move the Square"}),L.jsx(d2,{}),L.jsx(rx,{}),L.jsx(d2,{front_view:!0})]}),IHe=qr(e=>({root:{height:"100%"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3},toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),$He=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"error":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},RHe=()=>{const e=IHe(),[t,n]=V.useState(!1),r=On(y=>y.data.positions),i=On(y=>y.session.markers),[o,s]=V.useState([]),[a,f]=V.useState([]),[h,g]=V.useState({id:1234,name:"no mission",objetivo:0,loc:[],meteo:[]});return V.useEffect(()=>{f(i)},[i]),V.useEffect(()=>{s(Object.values(r))},[r]),L.jsx("div",{className:e.root,children:L.jsx(TH,{children:L.jsxs(Gk,{notification:$He,children:[L.jsx(Hk,{}),L.jsx(Yk,{}),L.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 95px)"},children:[L.jsx("div",{style:{display:"inline-block",position:"relative",width:"560px",height:"100%"}}),L.jsx("div",{style:{display:"inline-block",position:"relative",width:"calc(100vw - 575px)",height:"100%"},children:L.jsxs(Mk,{children:[L.jsx(PH,{}),L.jsx(TD,{markers:a})]})})]}),L.jsx("div",{className:e.sidebarStyle,children:L.jsx("div",{className:e.middleStyle,children:L.jsxs(Qa,{square:!0,children:[L.jsxs(Cg,{className:e.toolbar,children:[L.jsx(Gn,{edge:"start",sx:{mr:2},onClick:()=>navigate(-1),children:L.jsx(vx,{})}),L.jsx(pn,{variant:"h6",className:e.title,children:"Mission Elements"})]}),L.jsx("div",{className:e.list,children:L.jsxs(Xl,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[L.jsx(Ai,{required:!0,label:"id",type:"number",variant:"standard",value:h.id?h.id:123,onChange:y=>g({...h,id:y.target.value})}),L.jsx(Ai,{required:!0,label:"Name Mission",variant:"standard",value:h.name?h.name:" ",onChange:y=>g({...h,name:y.target.value})}),L.jsx(Yl,{emptyValue:null,value:h.objetivo,onChange:y=>g({...h,objetivo:y.target.value}),data:[{id:0,name:"Localizacion de inidencia"},{id:1,name:"zona de aves"},{id:2,name:"Vejetacion"}],label:"objetivo",style:{display:"inline",width:"200px"}}),L.jsxs(xl,{children:[L.jsx(wl,{expandIcon:L.jsx(Es,{}),children:L.jsx(pn,{children:"localizacion incidentia"})}),L.jsx(_l,{className:e.details})]}),L.jsxs(xl,{children:[L.jsx(wl,{expandIcon:L.jsx(Es,{}),children:L.jsx(pn,{children:"Meteo"})}),L.jsx(_l,{className:e.details})]}),L.jsx(rx,{}),L.jsxs(xl,{children:[L.jsx(wl,{expandIcon:L.jsx(Es,{}),children:L.jsx(pn,{children:"Bases"})}),L.jsx(_l,{className:e.details})]}),L.jsxs(xl,{children:[L.jsx(wl,{expandIcon:L.jsx(Es,{}),children:L.jsx(pn,{children:"Elementos Interes"})}),L.jsx(_l,{className:e.details})]})]})})]})})}),L.jsx("div",{className:e.panelElevation,children:L.jsx("div",{className:e.middleStyle,children:L.jsx(Qa,{square:!0,children:L.jsx(kZ,{})})})}),t&&L.jsx(CZ,{SetOpenSave:n})]})})})},DHe=()=>{const e=bg();I2();const t=nxe();return xR(async()=>{e("/")},[t]),L.jsx(Fte,{children:L.jsxs(al,{path:"/",element:L.jsx(txe,{}),children:[L.jsx(al,{index:!0,element:L.jsx(lPe,{})}),L.jsx(al,{path:"mission",element:L.jsx(mHe,{})}),L.jsx(al,{path:"planning",element:L.jsx(RHe,{})}),L.jsx(al,{path:"camera",element:L.jsx(EHe,{})}),L.jsx(al,{path:"device/:id",element:L.jsx(CHe,{})}),L.jsx(al,{path:"event/:id",element:L.jsx(gHe,{})}),L.jsx(al,{path:"events",element:L.jsx(MHe,{})}),L.jsx(al,{path:"replay",element:L.jsx(yHe,{})}),L.jsx(al,{path:"topics",element:L.jsx(AHe,{})})]})})},LHe=()=>{const e={white:hh.white,background:nc[50],primary:KW[900],secondary:pl[800],positive:pl[500],medium:D$[700],negative:Fc[500],neutral:nc[500],geometry:"#3bb2d0"};return{background:{default:e.background},primary:{main:e.primary},secondary:{main:e.secondary,contrastText:e.white},colors:e}},jHe={sidebarWidth:"28%",sidebarWidthTablet:"52px",drawerWidthDesktop:"360px",drawerWidthTablet:"320px",drawerHeightPhone:"250px",filterFormWidth:"160px",eventsDrawerWidth:"320px",bottomBarHeight:56,popupMapOffset:300,popupMaxWidth:288,popupImageHeight:144},NHe={MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:nc[50]}}},MuiButton:{styleOverrides:{sizeMedium:{height:"40px"}}},MuiFormControl:{defaultProps:{size:"small"}},MuiSnackbar:{defaultProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"}}}},zHe=()=>V.useMemo(()=>tR({palette:LHe(),dimensions:jHe,components:NHe}),[]),BHe=({children:e})=>{const t=zHe();return L.jsx(Kse,{theme:t,children:e})};xie();const FHe=sW(document.getElementById("root"));FHe.render(L.jsx(Xne,{store:Jre,children:L.jsx(Roe,{injectFirst:!0,children:L.jsxs(BHe,{children:[L.jsx(_he,{}),L.jsx(Vte,{children:L.jsx(DHe,{})})]})})}))});export default UHe();
