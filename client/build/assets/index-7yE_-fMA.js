var khe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Vxt=khe((Kxt,KA)=>{function Rhe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Rh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _J={exports:{}},ak={},bJ={exports:{}},Jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2=Symbol.for("react.element"),Ohe=Symbol.for("react.portal"),Lhe=Symbol.for("react.fragment"),Dhe=Symbol.for("react.strict_mode"),Nhe=Symbol.for("react.profiler"),zhe=Symbol.for("react.provider"),Bhe=Symbol.for("react.context"),Fhe=Symbol.for("react.forward_ref"),$he=Symbol.for("react.suspense"),jhe=Symbol.for("react.memo"),Uhe=Symbol.for("react.lazy"),UV=Symbol.iterator;function Vhe(t){return t===null||typeof t!="object"?null:(t=UV&&t[UV]||t["@@iterator"],typeof t=="function"?t:null)}var wJ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SJ=Object.assign,MJ={};function o1(t,e,n){this.props=t,this.context=e,this.refs=MJ,this.updater=n||wJ}o1.prototype.isReactComponent={};o1.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};o1.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EJ(){}EJ.prototype=o1.prototype;function r5(t,e,n){this.props=t,this.context=e,this.refs=MJ,this.updater=n||wJ}var i5=r5.prototype=new EJ;i5.constructor=r5;SJ(i5,o1.prototype);i5.isPureReactComponent=!0;var VV=Array.isArray,TJ=Object.prototype.hasOwnProperty,o5={current:null},CJ={key:!0,ref:!0,__self:!0,__source:!0};function AJ(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)TJ.call(e,r)&&!CJ.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Y2,type:t,key:o,ref:a,props:i,_owner:o5.current}}function Whe(t,e){return{$$typeof:Y2,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s5(t){return typeof t=="object"&&t!==null&&t.$$typeof===Y2}function Hhe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var WV=/\/+/g;function VL(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hhe(""+t.key):e.toString(36)}function fA(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Y2:case Ohe:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+VL(a,0):r,VV(i)?(n="",t!=null&&(n=t.replace(WV,"$&/")+"/"),fA(i,e,n,"",function(c){return c})):i!=null&&(s5(i)&&(i=Whe(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(WV,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",VV(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+VL(o,s);a+=fA(o,e,n,l,i)}else if(l=Vhe(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+VL(o,s++),a+=fA(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function pT(t,e,n){if(t==null)return t;var r=[],i=0;return fA(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Ghe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xl={current:null},hA={transition:null},qhe={ReactCurrentDispatcher:Xl,ReactCurrentBatchConfig:hA,ReactCurrentOwner:o5};Jr.Children={map:pT,forEach:function(t,e,n){pT(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pT(t,function(){e++}),e},toArray:function(t){return pT(t,function(e){return e})||[]},only:function(t){if(!s5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Jr.Component=o1;Jr.Fragment=Lhe;Jr.Profiler=Nhe;Jr.PureComponent=r5;Jr.StrictMode=Dhe;Jr.Suspense=$he;Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qhe;Jr.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SJ({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=o5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)TJ.call(e,l)&&!CJ.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Y2,type:t.type,key:i,ref:o,props:r,_owner:a}};Jr.createContext=function(t){return t={$$typeof:Bhe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zhe,_context:t},t.Consumer=t};Jr.createElement=AJ;Jr.createFactory=function(t){var e=AJ.bind(null,t);return e.type=t,e};Jr.createRef=function(){return{current:null}};Jr.forwardRef=function(t){return{$$typeof:Fhe,render:t}};Jr.isValidElement=s5;Jr.lazy=function(t){return{$$typeof:Uhe,_payload:{_status:-1,_result:t},_init:Ghe}};Jr.memo=function(t,e){return{$$typeof:jhe,type:t,compare:e===void 0?null:e}};Jr.startTransition=function(t){var e=hA.transition;hA.transition={};try{t()}finally{hA.transition=e}};Jr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Jr.useCallback=function(t,e){return Xl.current.useCallback(t,e)};Jr.useContext=function(t){return Xl.current.useContext(t)};Jr.useDebugValue=function(){};Jr.useDeferredValue=function(t){return Xl.current.useDeferredValue(t)};Jr.useEffect=function(t,e){return Xl.current.useEffect(t,e)};Jr.useId=function(){return Xl.current.useId()};Jr.useImperativeHandle=function(t,e,n){return Xl.current.useImperativeHandle(t,e,n)};Jr.useInsertionEffect=function(t,e){return Xl.current.useInsertionEffect(t,e)};Jr.useLayoutEffect=function(t,e){return Xl.current.useLayoutEffect(t,e)};Jr.useMemo=function(t,e){return Xl.current.useMemo(t,e)};Jr.useReducer=function(t,e,n){return Xl.current.useReducer(t,e,n)};Jr.useRef=function(t){return Xl.current.useRef(t)};Jr.useState=function(t){return Xl.current.useState(t)};Jr.useSyncExternalStore=function(t,e,n){return Xl.current.useSyncExternalStore(t,e,n)};Jr.useTransition=function(){return Xl.current.useTransition()};Jr.version="18.2.0";bJ.exports=Jr;var V=bJ.exports;const Ze=bi(V),ZA=Rhe({__proto__:null,default:Ze},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yhe=V,Xhe=Symbol.for("react.element"),Khe=Symbol.for("react.fragment"),Zhe=Object.prototype.hasOwnProperty,Jhe=Yhe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qhe={key:!0,ref:!0,__self:!0,__source:!0};function PJ(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Zhe.call(e,r)&&!Qhe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Xhe,type:t,key:o,ref:a,props:i,_owner:Jhe.current}}ak.Fragment=Khe;ak.jsx=PJ;ak.jsxs=PJ;_J.exports=ak;var z=_J.exports,IJ={exports:{}},_u={},kJ={exports:{}},RJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,he){var ve=te.length;te.push(he);e:for(;0<ve;){var ze=ve-1>>>1,Ue=te[ze];if(0<i(Ue,he))te[ze]=he,te[ve]=Ue,ve=ze;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var he=te[0],ve=te.pop();if(ve!==he){te[0]=ve;e:for(var ze=0,Ue=te.length,rt=Ue>>>1;ze<rt;){var Fe=2*(ze+1)-1,st=te[Fe],ct=Fe+1,Dt=te[ct];if(0>i(st,ve))ct<Ue&&0>i(Dt,st)?(te[ze]=Dt,te[ct]=ve,ze=ct):(te[ze]=st,te[Fe]=ve,ze=Fe);else if(ct<Ue&&0>i(Dt,ve))te[ze]=Dt,te[ct]=ve,ze=ct;else break e}}return he}function i(te,he){var ve=te.sortIndex-he.sortIndex;return ve!==0?ve:te.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],h=1,p=null,g=3,v=!1,x=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(te){for(var he=n(c);he!==null;){if(he.callback===null)r(c);else if(he.startTime<=te)r(c),he.sortIndex=he.expirationTime,e(l,he);else break;he=n(c)}}function k(te){if(_=!1,T(te),!x)if(n(l)!==null)x=!0,fe(R);else{var he=n(c);he!==null&&xe(k,he.startTime-te)}}function R(te,he){x=!1,_&&(_=!1,w(H),H=-1),v=!0;var ve=g;try{for(T(he),p=n(l);p!==null&&(!(p.expirationTime>he)||te&&!X());){var ze=p.callback;if(typeof ze=="function"){p.callback=null,g=p.priorityLevel;var Ue=ze(p.expirationTime<=he);he=t.unstable_now(),typeof Ue=="function"?p.callback=Ue:p===n(l)&&r(l),T(he)}else r(l);p=n(l)}if(p!==null)var rt=!0;else{var Fe=n(c);Fe!==null&&xe(k,Fe.startTime-he),rt=!1}return rt}finally{p=null,g=ve,v=!1}}var L=!1,F=null,H=-1,Z=5,j=-1;function X(){return!(t.unstable_now()-j<Z)}function le(){if(F!==null){var te=t.unstable_now();j=te;var he=!0;try{he=F(!0,te)}finally{he?me():(L=!1,F=null)}}else L=!1}var me;if(typeof C=="function")me=function(){C(le)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ce=ie.port2;ie.port1.onmessage=le,me=function(){ce.postMessage(null)}}else me=function(){S(le,0)};function fe(te){F=te,L||(L=!0,me())}function xe(te,he){H=S(function(){te(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,fe(R))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(te){switch(g){case 1:case 2:case 3:var he=3;break;default:he=g}var ve=g;g=he;try{return te()}finally{g=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ve=g;g=te;try{return he()}finally{g=ve}},t.unstable_scheduleCallback=function(te,he,ve){var ze=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ze+ve:ze):ve=ze,te){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ve+Ue,te={id:h++,callback:he,priorityLevel:te,startTime:ve,expirationTime:Ue,sortIndex:-1},ve>ze?(te.sortIndex=ve,e(c,te),n(l)===null&&te===n(c)&&(_?(w(H),H=-1):_=!0,xe(k,ve-ze))):(te.sortIndex=Ue,e(l,te),x||v||(x=!0,fe(R))),te},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(te){var he=g;return function(){var ve=g;g=he;try{return te.apply(this,arguments)}finally{g=ve}}}})(RJ);kJ.exports=RJ;var epe=kJ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OJ=V,hu=epe;function hn(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LJ=new Set,iM={};function U0(t,e){ub(t,e),ub(t+"Capture",e)}function ub(t,e){for(iM[t]=e,t=0;t<e.length;t++)LJ.add(e[t])}var jp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oz=Object.prototype.hasOwnProperty,tpe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HV={},GV={};function npe(t){return oz.call(GV,t)?!0:oz.call(HV,t)?!1:tpe.test(t)?GV[t]=!0:(HV[t]=!0,!1)}function rpe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ipe(t,e,n,r){if(e===null||typeof e>"u"||rpe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kl(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Fa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fa[t]=new Kl(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fa[e]=new Kl(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fa[t]=new Kl(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fa[t]=new Kl(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fa[t]=new Kl(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fa[t]=new Kl(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fa[t]=new Kl(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fa[t]=new Kl(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fa[t]=new Kl(t,5,!1,t.toLowerCase(),null,!1,!1)});var a5=/[\-:]([a-z])/g;function l5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(a5,l5);Fa[e]=new Kl(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(a5,l5);Fa[e]=new Kl(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(a5,l5);Fa[e]=new Kl(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fa[t]=new Kl(t,1,!1,t.toLowerCase(),null,!1,!1)});Fa.xlinkHref=new Kl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fa[t]=new Kl(t,1,!1,t.toLowerCase(),null,!0,!0)});function c5(t,e,n,r){var i=Fa.hasOwnProperty(e)?Fa[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ipe(e,n,i,r)&&(n=null),r||i===null?npe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rm=OJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mT=Symbol.for("react.element"),h_=Symbol.for("react.portal"),p_=Symbol.for("react.fragment"),u5=Symbol.for("react.strict_mode"),sz=Symbol.for("react.profiler"),DJ=Symbol.for("react.provider"),NJ=Symbol.for("react.context"),d5=Symbol.for("react.forward_ref"),az=Symbol.for("react.suspense"),lz=Symbol.for("react.suspense_list"),f5=Symbol.for("react.memo"),xg=Symbol.for("react.lazy"),zJ=Symbol.for("react.offscreen"),qV=Symbol.iterator;function yw(t){return t===null||typeof t!="object"?null:(t=qV&&t[qV]||t["@@iterator"],typeof t=="function"?t:null)}var Yo=Object.assign,WL;function hS(t){if(WL===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);WL=e&&e[1]||""}return`
`+WL+t}var HL=!1;function GL(t,e){if(!t||HL)return"";HL=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{HL=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hS(t):""}function ope(t){switch(t.tag){case 5:return hS(t.type);case 16:return hS("Lazy");case 13:return hS("Suspense");case 19:return hS("SuspenseList");case 0:case 2:case 15:return t=GL(t.type,!1),t;case 11:return t=GL(t.type.render,!1),t;case 1:return t=GL(t.type,!0),t;default:return""}}function cz(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p_:return"Fragment";case h_:return"Portal";case sz:return"Profiler";case u5:return"StrictMode";case az:return"Suspense";case lz:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NJ:return(t.displayName||"Context")+".Consumer";case DJ:return(t._context.displayName||"Context")+".Provider";case d5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case f5:return e=t.displayName||null,e!==null?e:cz(t.type)||"Memo";case xg:e=t._payload,t=t._init;try{return cz(t(e))}catch{}}return null}function spe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cz(e);case 8:return e===u5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ry(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BJ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ape(t){var e=BJ(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gT(t){t._valueTracker||(t._valueTracker=ape(t))}function FJ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BJ(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function JA(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uz(t,e){var n=e.checked;return Yo({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function YV(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ry(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $J(t,e){e=e.checked,e!=null&&c5(t,"checked",e,!1)}function dz(t,e){$J(t,e);var n=ry(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fz(t,e.type,n):e.hasOwnProperty("defaultValue")&&fz(t,e.type,ry(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function XV(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fz(t,e,n){(e!=="number"||JA(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pS=Array.isArray;function W_(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ry(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hz(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(hn(91));return Yo({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KV(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(hn(92));if(pS(n)){if(1<n.length)throw Error(hn(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ry(n)}}function jJ(t,e){var n=ry(e.value),r=ry(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ZV(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UJ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pz(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UJ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yT,VJ=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yT=yT||document.createElement("div"),yT.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yT.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oM(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var TS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lpe=["Webkit","ms","Moz","O"];Object.keys(TS).forEach(function(t){lpe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),TS[e]=TS[t]})});function WJ(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||TS.hasOwnProperty(t)&&TS[t]?(""+e).trim():e+"px"}function HJ(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=WJ(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cpe=Yo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mz(t,e){if(e){if(cpe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(hn(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(hn(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(hn(61))}if(e.style!=null&&typeof e.style!="object")throw Error(hn(62))}}function gz(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yz=null;function h5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vz=null,H_=null,G_=null;function JV(t){if(t=Z2(t)){if(typeof vz!="function")throw Error(hn(280));var e=t.stateNode;e&&(e=fk(e),vz(t.stateNode,t.type,e))}}function GJ(t){H_?G_?G_.push(t):G_=[t]:H_=t}function qJ(){if(H_){var t=H_,e=G_;if(G_=H_=null,JV(t),e)for(t=0;t<e.length;t++)JV(e[t])}}function YJ(t,e){return t(e)}function XJ(){}var qL=!1;function KJ(t,e,n){if(qL)return t(e,n);qL=!0;try{return YJ(t,e,n)}finally{qL=!1,(H_!==null||G_!==null)&&(XJ(),qJ())}}function sM(t,e){var n=t.stateNode;if(n===null)return null;var r=fk(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(hn(231,e,typeof n));return n}var xz=!1;if(jp)try{var vw={};Object.defineProperty(vw,"passive",{get:function(){xz=!0}}),window.addEventListener("test",vw,vw),window.removeEventListener("test",vw,vw)}catch{xz=!1}function upe(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var CS=!1,QA=null,eP=!1,_z=null,dpe={onError:function(t){CS=!0,QA=t}};function fpe(t,e,n,r,i,o,a,s,l){CS=!1,QA=null,upe.apply(dpe,arguments)}function hpe(t,e,n,r,i,o,a,s,l){if(fpe.apply(this,arguments),CS){if(CS){var c=QA;CS=!1,QA=null}else throw Error(hn(198));eP||(eP=!0,_z=c)}}function V0(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZJ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QV(t){if(V0(t)!==t)throw Error(hn(188))}function ppe(t){var e=t.alternate;if(!e){if(e=V0(t),e===null)throw Error(hn(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return QV(i),t;if(o===r)return QV(i),e;o=o.sibling}throw Error(hn(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(hn(189))}}if(n.alternate!==r)throw Error(hn(190))}if(n.tag!==3)throw Error(hn(188));return n.stateNode.current===n?t:e}function JJ(t){return t=ppe(t),t!==null?QJ(t):null}function QJ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QJ(t);if(e!==null)return e;t=t.sibling}return null}var eQ=hu.unstable_scheduleCallback,eW=hu.unstable_cancelCallback,mpe=hu.unstable_shouldYield,gpe=hu.unstable_requestPaint,_s=hu.unstable_now,ype=hu.unstable_getCurrentPriorityLevel,p5=hu.unstable_ImmediatePriority,tQ=hu.unstable_UserBlockingPriority,tP=hu.unstable_NormalPriority,vpe=hu.unstable_LowPriority,nQ=hu.unstable_IdlePriority,lk=null,gh=null;function xpe(t){if(gh&&typeof gh.onCommitFiberRoot=="function")try{gh.onCommitFiberRoot(lk,t,void 0,(t.current.flags&128)===128)}catch{}}var uf=Math.clz32?Math.clz32:wpe,_pe=Math.log,bpe=Math.LN2;function wpe(t){return t>>>=0,t===0?32:31-(_pe(t)/bpe|0)|0}var vT=64,xT=4194304;function mS(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nP(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=mS(s):(o&=a,o!==0&&(r=mS(o)))}else a=n&~i,a!==0?r=mS(a):o!==0&&(r=mS(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-uf(e),i=1<<n,r|=t[n],e&=~i;return r}function Spe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mpe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-uf(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Spe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function bz(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rQ(){var t=vT;return vT<<=1,!(vT&4194240)&&(vT=64),t}function YL(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function X2(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-uf(e),t[e]=n}function Epe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-uf(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function m5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-uf(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Bi=0;function iQ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oQ,g5,sQ,aQ,lQ,wz=!1,_T=[],Bg=null,Fg=null,$g=null,aM=new Map,lM=new Map,Sg=[],Tpe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tW(t,e){switch(t){case"focusin":case"focusout":Bg=null;break;case"dragenter":case"dragleave":Fg=null;break;case"mouseover":case"mouseout":$g=null;break;case"pointerover":case"pointerout":aM.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lM.delete(e.pointerId)}}function xw(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Z2(e),e!==null&&g5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Cpe(t,e,n,r,i){switch(e){case"focusin":return Bg=xw(Bg,t,e,n,r,i),!0;case"dragenter":return Fg=xw(Fg,t,e,n,r,i),!0;case"mouseover":return $g=xw($g,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return aM.set(o,xw(aM.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lM.set(o,xw(lM.get(o)||null,t,e,n,r,i)),!0}return!1}function cQ(t){var e=qv(t.target);if(e!==null){var n=V0(e);if(n!==null){if(e=n.tag,e===13){if(e=ZJ(n),e!==null){t.blockedOn=e,lQ(t.priority,function(){sQ(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pA(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sz(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yz=r,n.target.dispatchEvent(r),yz=null}else return e=Z2(n),e!==null&&g5(e),t.blockedOn=n,!1;e.shift()}return!0}function nW(t,e,n){pA(t)&&n.delete(e)}function Ape(){wz=!1,Bg!==null&&pA(Bg)&&(Bg=null),Fg!==null&&pA(Fg)&&(Fg=null),$g!==null&&pA($g)&&($g=null),aM.forEach(nW),lM.forEach(nW)}function _w(t,e){t.blockedOn===e&&(t.blockedOn=null,wz||(wz=!0,hu.unstable_scheduleCallback(hu.unstable_NormalPriority,Ape)))}function cM(t){function e(i){return _w(i,t)}if(0<_T.length){_w(_T[0],t);for(var n=1;n<_T.length;n++){var r=_T[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bg!==null&&_w(Bg,t),Fg!==null&&_w(Fg,t),$g!==null&&_w($g,t),aM.forEach(e),lM.forEach(e),n=0;n<Sg.length;n++)r=Sg[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sg.length&&(n=Sg[0],n.blockedOn===null);)cQ(n),n.blockedOn===null&&Sg.shift()}var q_=rm.ReactCurrentBatchConfig,rP=!0;function Ppe(t,e,n,r){var i=Bi,o=q_.transition;q_.transition=null;try{Bi=1,y5(t,e,n,r)}finally{Bi=i,q_.transition=o}}function Ipe(t,e,n,r){var i=Bi,o=q_.transition;q_.transition=null;try{Bi=4,y5(t,e,n,r)}finally{Bi=i,q_.transition=o}}function y5(t,e,n,r){if(rP){var i=Sz(t,e,n,r);if(i===null)iD(t,e,r,iP,n),tW(t,r);else if(Cpe(i,t,e,n,r))r.stopPropagation();else if(tW(t,r),e&4&&-1<Tpe.indexOf(t)){for(;i!==null;){var o=Z2(i);if(o!==null&&oQ(o),o=Sz(t,e,n,r),o===null&&iD(t,e,r,iP,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else iD(t,e,r,null,n)}}var iP=null;function Sz(t,e,n,r){if(iP=null,t=h5(r),t=qv(t),t!==null)if(e=V0(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZJ(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iP=t,null}function uQ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ype()){case p5:return 1;case tQ:return 4;case tP:case vpe:return 16;case nQ:return 536870912;default:return 16}default:return 16}}var Ag=null,v5=null,mA=null;function dQ(){if(mA)return mA;var t,e=v5,n=e.length,r,i="value"in Ag?Ag.value:Ag.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return mA=i.slice(t,1<r?1-r:void 0)}function gA(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bT(){return!0}function rW(){return!1}function bu(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bT:rW,this.isPropagationStopped=rW,this}return Yo(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bT)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bT)},persist:function(){},isPersistent:bT}),e}var s1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x5=bu(s1),K2=Yo({},s1,{view:0,detail:0}),kpe=bu(K2),XL,KL,bw,ck=Yo({},K2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bw&&(bw&&t.type==="mousemove"?(XL=t.screenX-bw.screenX,KL=t.screenY-bw.screenY):KL=XL=0,bw=t),XL)},movementY:function(t){return"movementY"in t?t.movementY:KL}}),iW=bu(ck),Rpe=Yo({},ck,{dataTransfer:0}),Ope=bu(Rpe),Lpe=Yo({},K2,{relatedTarget:0}),ZL=bu(Lpe),Dpe=Yo({},s1,{animationName:0,elapsedTime:0,pseudoElement:0}),Npe=bu(Dpe),zpe=Yo({},s1,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bpe=bu(zpe),Fpe=Yo({},s1,{data:0}),oW=bu(Fpe),$pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jpe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Upe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vpe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Upe[t])?!!e[t]:!1}function _5(){return Vpe}var Wpe=Yo({},K2,{key:function(t){if(t.key){var e=$pe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gA(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jpe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_5,charCode:function(t){return t.type==="keypress"?gA(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gA(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hpe=bu(Wpe),Gpe=Yo({},ck,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sW=bu(Gpe),qpe=Yo({},K2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_5}),Ype=bu(qpe),Xpe=Yo({},s1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kpe=bu(Xpe),Zpe=Yo({},ck,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jpe=bu(Zpe),Qpe=[9,13,27,32],b5=jp&&"CompositionEvent"in window,AS=null;jp&&"documentMode"in document&&(AS=document.documentMode);var eme=jp&&"TextEvent"in window&&!AS,fQ=jp&&(!b5||AS&&8<AS&&11>=AS),aW=" ",lW=!1;function hQ(t,e){switch(t){case"keyup":return Qpe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pQ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var m_=!1;function tme(t,e){switch(t){case"compositionend":return pQ(e);case"keypress":return e.which!==32?null:(lW=!0,aW);case"textInput":return t=e.data,t===aW&&lW?null:t;default:return null}}function nme(t,e){if(m_)return t==="compositionend"||!b5&&hQ(t,e)?(t=dQ(),mA=v5=Ag=null,m_=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fQ&&e.locale!=="ko"?null:e.data;default:return null}}var rme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cW(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rme[t.type]:e==="textarea"}function mQ(t,e,n,r){GJ(r),e=oP(e,"onChange"),0<e.length&&(n=new x5("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var PS=null,uM=null;function ime(t){TQ(t,0)}function uk(t){var e=v_(t);if(FJ(e))return t}function ome(t,e){if(t==="change")return e}var gQ=!1;if(jp){var JL;if(jp){var QL="oninput"in document;if(!QL){var uW=document.createElement("div");uW.setAttribute("oninput","return;"),QL=typeof uW.oninput=="function"}JL=QL}else JL=!1;gQ=JL&&(!document.documentMode||9<document.documentMode)}function dW(){PS&&(PS.detachEvent("onpropertychange",yQ),uM=PS=null)}function yQ(t){if(t.propertyName==="value"&&uk(uM)){var e=[];mQ(e,uM,t,h5(t)),KJ(ime,e)}}function sme(t,e,n){t==="focusin"?(dW(),PS=e,uM=n,PS.attachEvent("onpropertychange",yQ)):t==="focusout"&&dW()}function ame(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uk(uM)}function lme(t,e){if(t==="click")return uk(e)}function cme(t,e){if(t==="input"||t==="change")return uk(e)}function ume(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hf=typeof Object.is=="function"?Object.is:ume;function dM(t,e){if(hf(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oz.call(e,i)||!hf(t[i],e[i]))return!1}return!0}function fW(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hW(t,e){var n=fW(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fW(n)}}function vQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xQ(){for(var t=window,e=JA();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=JA(t.document)}return e}function w5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dme(t){var e=xQ(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vQ(n.ownerDocument.documentElement,n)){if(r!==null&&w5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=hW(n,o);var a=hW(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fme=jp&&"documentMode"in document&&11>=document.documentMode,g_=null,Mz=null,IS=null,Ez=!1;function pW(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ez||g_==null||g_!==JA(r)||(r=g_,"selectionStart"in r&&w5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),IS&&dM(IS,r)||(IS=r,r=oP(Mz,"onSelect"),0<r.length&&(e=new x5("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=g_)))}function wT(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var y_={animationend:wT("Animation","AnimationEnd"),animationiteration:wT("Animation","AnimationIteration"),animationstart:wT("Animation","AnimationStart"),transitionend:wT("Transition","TransitionEnd")},eD={},_Q={};jp&&(_Q=document.createElement("div").style,"AnimationEvent"in window||(delete y_.animationend.animation,delete y_.animationiteration.animation,delete y_.animationstart.animation),"TransitionEvent"in window||delete y_.transitionend.transition);function dk(t){if(eD[t])return eD[t];if(!y_[t])return t;var e=y_[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _Q)return eD[t]=e[n];return t}var bQ=dk("animationend"),wQ=dk("animationiteration"),SQ=dk("animationstart"),MQ=dk("transitionend"),EQ=new Map,mW="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hy(t,e){EQ.set(t,e),U0(e,[t])}for(var tD=0;tD<mW.length;tD++){var nD=mW[tD],hme=nD.toLowerCase(),pme=nD[0].toUpperCase()+nD.slice(1);hy(hme,"on"+pme)}hy(bQ,"onAnimationEnd");hy(wQ,"onAnimationIteration");hy(SQ,"onAnimationStart");hy("dblclick","onDoubleClick");hy("focusin","onFocus");hy("focusout","onBlur");hy(MQ,"onTransitionEnd");ub("onMouseEnter",["mouseout","mouseover"]);ub("onMouseLeave",["mouseout","mouseover"]);ub("onPointerEnter",["pointerout","pointerover"]);ub("onPointerLeave",["pointerout","pointerover"]);U0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));U0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));U0("onBeforeInput",["compositionend","keypress","textInput","paste"]);U0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));U0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));U0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gS="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mme=new Set("cancel close invalid load scroll toggle".split(" ").concat(gS));function gW(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hpe(r,e,void 0,t),t.currentTarget=null}function TQ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;gW(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;gW(i,s,c),o=l}}}if(eP)throw t=_z,eP=!1,_z=null,t}function _o(t,e){var n=e[Iz];n===void 0&&(n=e[Iz]=new Set);var r=t+"__bubble";n.has(r)||(CQ(e,t,2,!1),n.add(r))}function rD(t,e,n){var r=0;e&&(r|=4),CQ(n,t,r,e)}var ST="_reactListening"+Math.random().toString(36).slice(2);function fM(t){if(!t[ST]){t[ST]=!0,LJ.forEach(function(n){n!=="selectionchange"&&(mme.has(n)||rD(n,!1,t),rD(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ST]||(e[ST]=!0,rD("selectionchange",!1,e))}}function CQ(t,e,n,r){switch(uQ(e)){case 1:var i=Ppe;break;case 4:i=Ipe;break;default:i=y5}n=i.bind(null,e,n,t),i=void 0,!xz||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function iD(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=qv(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}KJ(function(){var c=o,h=h5(n),p=[];e:{var g=EQ.get(t);if(g!==void 0){var v=x5,x=t;switch(t){case"keypress":if(gA(n)===0)break e;case"keydown":case"keyup":v=Hpe;break;case"focusin":x="focus",v=ZL;break;case"focusout":x="blur",v=ZL;break;case"beforeblur":case"afterblur":v=ZL;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=iW;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ope;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ype;break;case bQ:case wQ:case SQ:v=Npe;break;case MQ:v=Kpe;break;case"scroll":v=kpe;break;case"wheel":v=Jpe;break;case"copy":case"cut":case"paste":v=Bpe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=sW}var _=(e&4)!==0,S=!_&&t==="scroll",w=_?g!==null?g+"Capture":null:g;_=[];for(var C=c,T;C!==null;){T=C;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,w!==null&&(k=sM(C,w),k!=null&&_.push(hM(C,k,T)))),S)break;C=C.return}0<_.length&&(g=new v(g,x,null,n,h),p.push({event:g,listeners:_}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==yz&&(x=n.relatedTarget||n.fromElement)&&(qv(x)||x[Up]))break e;if((v||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=c,x=x?qv(x):null,x!==null&&(S=V0(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(_=iW,k="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(_=sW,k="onPointerLeave",w="onPointerEnter",C="pointer"),S=v==null?g:v_(v),T=x==null?g:v_(x),g=new _(k,C+"leave",v,n,h),g.target=S,g.relatedTarget=T,k=null,qv(h)===c&&(_=new _(w,C+"enter",x,n,h),_.target=T,_.relatedTarget=S,k=_),S=k,v&&x)t:{for(_=v,w=x,C=0,T=_;T;T=bx(T))C++;for(T=0,k=w;k;k=bx(k))T++;for(;0<C-T;)_=bx(_),C--;for(;0<T-C;)w=bx(w),T--;for(;C--;){if(_===w||w!==null&&_===w.alternate)break t;_=bx(_),w=bx(w)}_=null}else _=null;v!==null&&yW(p,g,v,_,!1),x!==null&&S!==null&&yW(p,S,x,_,!0)}}e:{if(g=c?v_(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var R=ome;else if(cW(g))if(gQ)R=cme;else{R=ame;var L=sme}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(R=lme);if(R&&(R=R(t,c))){mQ(p,R,n,h);break e}L&&L(t,g,c),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&fz(g,"number",g.value)}switch(L=c?v_(c):window,t){case"focusin":(cW(L)||L.contentEditable==="true")&&(g_=L,Mz=c,IS=null);break;case"focusout":IS=Mz=g_=null;break;case"mousedown":Ez=!0;break;case"contextmenu":case"mouseup":case"dragend":Ez=!1,pW(p,n,h);break;case"selectionchange":if(fme)break;case"keydown":case"keyup":pW(p,n,h)}var F;if(b5)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else m_?hQ(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(fQ&&n.locale!=="ko"&&(m_||H!=="onCompositionStart"?H==="onCompositionEnd"&&m_&&(F=dQ()):(Ag=h,v5="value"in Ag?Ag.value:Ag.textContent,m_=!0)),L=oP(c,H),0<L.length&&(H=new oW(H,t,null,n,h),p.push({event:H,listeners:L}),F?H.data=F:(F=pQ(n),F!==null&&(H.data=F)))),(F=eme?tme(t,n):nme(t,n))&&(c=oP(c,"onBeforeInput"),0<c.length&&(h=new oW("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=F))}TQ(p,e)})}function hM(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oP(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=sM(t,n),o!=null&&r.unshift(hM(t,o,i)),o=sM(t,e),o!=null&&r.push(hM(t,o,i))),t=t.return}return r}function bx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yW(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=sM(n,o),l!=null&&a.unshift(hM(n,l,s))):i||(l=sM(n,o),l!=null&&a.push(hM(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var gme=/\r\n?/g,yme=/\u0000|\uFFFD/g;function vW(t){return(typeof t=="string"?t:""+t).replace(gme,`
`).replace(yme,"")}function MT(t,e,n){if(e=vW(e),vW(t)!==e&&n)throw Error(hn(425))}function sP(){}var Tz=null,Cz=null;function Az(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pz=typeof setTimeout=="function"?setTimeout:void 0,vme=typeof clearTimeout=="function"?clearTimeout:void 0,xW=typeof Promise=="function"?Promise:void 0,xme=typeof queueMicrotask=="function"?queueMicrotask:typeof xW<"u"?function(t){return xW.resolve(null).then(t).catch(_me)}:Pz;function _me(t){setTimeout(function(){throw t})}function oD(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cM(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cM(e)}function jg(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _W(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var a1=Math.random().toString(36).slice(2),uh="__reactFiber$"+a1,pM="__reactProps$"+a1,Up="__reactContainer$"+a1,Iz="__reactEvents$"+a1,bme="__reactListeners$"+a1,wme="__reactHandles$"+a1;function qv(t){var e=t[uh];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Up]||n[uh]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_W(t);t!==null;){if(n=t[uh])return n;t=_W(t)}return e}t=n,n=t.parentNode}return null}function Z2(t){return t=t[uh]||t[Up],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function v_(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(hn(33))}function fk(t){return t[pM]||null}var kz=[],x_=-1;function py(t){return{current:t}}function So(t){0>x_||(t.current=kz[x_],kz[x_]=null,x_--)}function po(t,e){x_++,kz[x_]=t.current,t.current=e}var iy={},_l=py(iy),wc=py(!1),M0=iy;function db(t,e){var n=t.type.contextTypes;if(!n)return iy;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sc(t){return t=t.childContextTypes,t!=null}function aP(){So(wc),So(_l)}function bW(t,e,n){if(_l.current!==iy)throw Error(hn(168));po(_l,e),po(wc,n)}function AQ(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(hn(108,spe(t)||"Unknown",i));return Yo({},n,r)}function lP(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||iy,M0=_l.current,po(_l,t),po(wc,wc.current),!0}function wW(t,e,n){var r=t.stateNode;if(!r)throw Error(hn(169));n?(t=AQ(t,e,M0),r.__reactInternalMemoizedMergedChildContext=t,So(wc),So(_l),po(_l,t)):So(wc),po(wc,n)}var xp=null,hk=!1,sD=!1;function PQ(t){xp===null?xp=[t]:xp.push(t)}function Sme(t){hk=!0,PQ(t)}function my(){if(!sD&&xp!==null){sD=!0;var t=0,e=Bi;try{var n=xp;for(Bi=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xp=null,hk=!1}catch(i){throw xp!==null&&(xp=xp.slice(t+1)),eQ(p5,my),i}finally{Bi=e,sD=!1}}return null}var __=[],b_=0,cP=null,uP=0,Xu=[],Ku=0,E0=null,Mp=1,Ep="";function kv(t,e){__[b_++]=uP,__[b_++]=cP,cP=t,uP=e}function IQ(t,e,n){Xu[Ku++]=Mp,Xu[Ku++]=Ep,Xu[Ku++]=E0,E0=t;var r=Mp;t=Ep;var i=32-uf(r)-1;r&=~(1<<i),n+=1;var o=32-uf(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Mp=1<<32-uf(e)+i|n<<i|r,Ep=o+t}else Mp=1<<o|n<<i|r,Ep=t}function S5(t){t.return!==null&&(kv(t,1),IQ(t,1,0))}function M5(t){for(;t===cP;)cP=__[--b_],__[b_]=null,uP=__[--b_],__[b_]=null;for(;t===E0;)E0=Xu[--Ku],Xu[Ku]=null,Ep=Xu[--Ku],Xu[Ku]=null,Mp=Xu[--Ku],Xu[Ku]=null}var cu=null,au=null,Ro=!1,Qd=null;function kQ(t,e){var n=td(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function SW(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cu=t,au=jg(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cu=t,au=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=E0!==null?{id:Mp,overflow:Ep}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=td(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cu=t,au=null,!0):!1;default:return!1}}function Rz(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oz(t){if(Ro){var e=au;if(e){var n=e;if(!SW(t,e)){if(Rz(t))throw Error(hn(418));e=jg(n.nextSibling);var r=cu;e&&SW(t,e)?kQ(r,n):(t.flags=t.flags&-4097|2,Ro=!1,cu=t)}}else{if(Rz(t))throw Error(hn(418));t.flags=t.flags&-4097|2,Ro=!1,cu=t}}}function MW(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cu=t}function ET(t){if(t!==cu)return!1;if(!Ro)return MW(t),Ro=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Az(t.type,t.memoizedProps)),e&&(e=au)){if(Rz(t))throw RQ(),Error(hn(418));for(;e;)kQ(t,e),e=jg(e.nextSibling)}if(MW(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(hn(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){au=jg(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}au=null}}else au=cu?jg(t.stateNode.nextSibling):null;return!0}function RQ(){for(var t=au;t;)t=jg(t.nextSibling)}function fb(){au=cu=null,Ro=!1}function E5(t){Qd===null?Qd=[t]:Qd.push(t)}var Mme=rm.ReactCurrentBatchConfig;function Yd(t,e){if(t&&t.defaultProps){e=Yo({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var dP=py(null),fP=null,w_=null,T5=null;function C5(){T5=w_=fP=null}function A5(t){var e=dP.current;So(dP),t._currentValue=e}function Lz(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Y_(t,e){fP=t,T5=w_=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_c=!0),t.firstContext=null)}function ud(t){var e=t._currentValue;if(T5!==t)if(t={context:t,memoizedValue:e,next:null},w_===null){if(fP===null)throw Error(hn(308));w_=t,fP.dependencies={lanes:0,firstContext:t}}else w_=w_.next=t;return e}var Yv=null;function P5(t){Yv===null?Yv=[t]:Yv.push(t)}function OQ(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,P5(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vp(t,r)}function Vp(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _g=!1;function I5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dp(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ug(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,di&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vp(t,n)}return i=r.interleaved,i===null?(e.next=e,P5(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vp(t,n)}function yA(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m5(t,n)}}function EW(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hP(t,e,n,r){var i=t.updateQueue;_g=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==a&&(s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=l))}if(o!==null){var p=i.baseState;a=0,h=c=l=null,s=o;do{var g=s.lane,v=s.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var x=t,_=s;switch(g=e,v=n,_.tag){case 1:if(x=_.payload,typeof x=="function"){p=x.call(v,p,g);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,g=typeof x=="function"?x.call(v,p,g):x,g==null)break e;p=Yo({},p,g);break e;case 2:_g=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[s]:g.push(s))}else v={eventTime:v,lane:g,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=v,l=p):h=h.next=v,a|=g;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;g=s,s=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);C0|=a,t.lanes=a,t.memoizedState=p}}function TW(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(hn(191,i));i.call(r)}}}var DQ=new OJ.Component().refs;function Dz(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yo({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pk={isMounted:function(t){return(t=t._reactInternals)?V0(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gl(),i=Wg(t),o=Dp(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ug(t,o,i),e!==null&&(df(e,t,i,r),yA(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gl(),i=Wg(t),o=Dp(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ug(t,o,i),e!==null&&(df(e,t,i,r),yA(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gl(),r=Wg(t),i=Dp(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ug(t,i,r),e!==null&&(df(e,t,r,n),yA(e,t,r))}};function CW(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!dM(n,r)||!dM(i,o):!0}function NQ(t,e,n){var r=!1,i=iy,o=e.contextType;return typeof o=="object"&&o!==null?o=ud(o):(i=Sc(e)?M0:_l.current,r=e.contextTypes,o=(r=r!=null)?db(t,i):iy),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pk,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function AW(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pk.enqueueReplaceState(e,e.state,null)}function Nz(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=DQ,I5(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ud(o):(o=Sc(e)?M0:_l.current,i.context=db(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Dz(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&pk.enqueueReplaceState(i,i.state,null),hP(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ww(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(hn(309));var r=n.stateNode}if(!r)throw Error(hn(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===DQ&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(hn(284));if(!n._owner)throw Error(hn(290,t))}return t}function TT(t,e){throw t=Object.prototype.toString.call(e),Error(hn(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function PW(t){var e=t._init;return e(t._payload)}function zQ(t){function e(w,C){if(t){var T=w.deletions;T===null?(w.deletions=[C],w.flags|=16):T.push(C)}}function n(w,C){if(!t)return null;for(;C!==null;)e(w,C),C=C.sibling;return null}function r(w,C){for(w=new Map;C!==null;)C.key!==null?w.set(C.key,C):w.set(C.index,C),C=C.sibling;return w}function i(w,C){return w=Hg(w,C),w.index=0,w.sibling=null,w}function o(w,C,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<C?(w.flags|=2,C):T):(w.flags|=2,C)):(w.flags|=1048576,C)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,C,T,k){return C===null||C.tag!==6?(C=hD(T,w.mode,k),C.return=w,C):(C=i(C,T),C.return=w,C)}function l(w,C,T,k){var R=T.type;return R===p_?h(w,C,T.props.children,k,T.key):C!==null&&(C.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===xg&&PW(R)===C.type)?(k=i(C,T.props),k.ref=ww(w,C,T),k.return=w,k):(k=SA(T.type,T.key,T.props,null,w.mode,k),k.ref=ww(w,C,T),k.return=w,k)}function c(w,C,T,k){return C===null||C.tag!==4||C.stateNode.containerInfo!==T.containerInfo||C.stateNode.implementation!==T.implementation?(C=pD(T,w.mode,k),C.return=w,C):(C=i(C,T.children||[]),C.return=w,C)}function h(w,C,T,k,R){return C===null||C.tag!==7?(C=u0(T,w.mode,k,R),C.return=w,C):(C=i(C,T),C.return=w,C)}function p(w,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return C=hD(""+C,w.mode,T),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case mT:return T=SA(C.type,C.key,C.props,null,w.mode,T),T.ref=ww(w,null,C),T.return=w,T;case h_:return C=pD(C,w.mode,T),C.return=w,C;case xg:var k=C._init;return p(w,k(C._payload),T)}if(pS(C)||yw(C))return C=u0(C,w.mode,T,null),C.return=w,C;TT(w,C)}return null}function g(w,C,T,k){var R=C!==null?C.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return R!==null?null:s(w,C,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case mT:return T.key===R?l(w,C,T,k):null;case h_:return T.key===R?c(w,C,T,k):null;case xg:return R=T._init,g(w,C,R(T._payload),k)}if(pS(T)||yw(T))return R!==null?null:h(w,C,T,k,null);TT(w,T)}return null}function v(w,C,T,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(T)||null,s(C,w,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case mT:return w=w.get(k.key===null?T:k.key)||null,l(C,w,k,R);case h_:return w=w.get(k.key===null?T:k.key)||null,c(C,w,k,R);case xg:var L=k._init;return v(w,C,T,L(k._payload),R)}if(pS(k)||yw(k))return w=w.get(T)||null,h(C,w,k,R,null);TT(C,k)}return null}function x(w,C,T,k){for(var R=null,L=null,F=C,H=C=0,Z=null;F!==null&&H<T.length;H++){F.index>H?(Z=F,F=null):Z=F.sibling;var j=g(w,F,T[H],k);if(j===null){F===null&&(F=Z);break}t&&F&&j.alternate===null&&e(w,F),C=o(j,C,H),L===null?R=j:L.sibling=j,L=j,F=Z}if(H===T.length)return n(w,F),Ro&&kv(w,H),R;if(F===null){for(;H<T.length;H++)F=p(w,T[H],k),F!==null&&(C=o(F,C,H),L===null?R=F:L.sibling=F,L=F);return Ro&&kv(w,H),R}for(F=r(w,F);H<T.length;H++)Z=v(F,w,H,T[H],k),Z!==null&&(t&&Z.alternate!==null&&F.delete(Z.key===null?H:Z.key),C=o(Z,C,H),L===null?R=Z:L.sibling=Z,L=Z);return t&&F.forEach(function(X){return e(w,X)}),Ro&&kv(w,H),R}function _(w,C,T,k){var R=yw(T);if(typeof R!="function")throw Error(hn(150));if(T=R.call(T),T==null)throw Error(hn(151));for(var L=R=null,F=C,H=C=0,Z=null,j=T.next();F!==null&&!j.done;H++,j=T.next()){F.index>H?(Z=F,F=null):Z=F.sibling;var X=g(w,F,j.value,k);if(X===null){F===null&&(F=Z);break}t&&F&&X.alternate===null&&e(w,F),C=o(X,C,H),L===null?R=X:L.sibling=X,L=X,F=Z}if(j.done)return n(w,F),Ro&&kv(w,H),R;if(F===null){for(;!j.done;H++,j=T.next())j=p(w,j.value,k),j!==null&&(C=o(j,C,H),L===null?R=j:L.sibling=j,L=j);return Ro&&kv(w,H),R}for(F=r(w,F);!j.done;H++,j=T.next())j=v(F,w,H,j.value,k),j!==null&&(t&&j.alternate!==null&&F.delete(j.key===null?H:j.key),C=o(j,C,H),L===null?R=j:L.sibling=j,L=j);return t&&F.forEach(function(le){return e(w,le)}),Ro&&kv(w,H),R}function S(w,C,T,k){if(typeof T=="object"&&T!==null&&T.type===p_&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case mT:e:{for(var R=T.key,L=C;L!==null;){if(L.key===R){if(R=T.type,R===p_){if(L.tag===7){n(w,L.sibling),C=i(L,T.props.children),C.return=w,w=C;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===xg&&PW(R)===L.type){n(w,L.sibling),C=i(L,T.props),C.ref=ww(w,L,T),C.return=w,w=C;break e}n(w,L);break}else e(w,L);L=L.sibling}T.type===p_?(C=u0(T.props.children,w.mode,k,T.key),C.return=w,w=C):(k=SA(T.type,T.key,T.props,null,w.mode,k),k.ref=ww(w,C,T),k.return=w,w=k)}return a(w);case h_:e:{for(L=T.key;C!==null;){if(C.key===L)if(C.tag===4&&C.stateNode.containerInfo===T.containerInfo&&C.stateNode.implementation===T.implementation){n(w,C.sibling),C=i(C,T.children||[]),C.return=w,w=C;break e}else{n(w,C);break}else e(w,C);C=C.sibling}C=pD(T,w.mode,k),C.return=w,w=C}return a(w);case xg:return L=T._init,S(w,C,L(T._payload),k)}if(pS(T))return x(w,C,T,k);if(yw(T))return _(w,C,T,k);TT(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,C!==null&&C.tag===6?(n(w,C.sibling),C=i(C,T),C.return=w,w=C):(n(w,C),C=hD(T,w.mode,k),C.return=w,w=C),a(w)):n(w,C)}return S}var hb=zQ(!0),BQ=zQ(!1),J2={},yh=py(J2),mM=py(J2),gM=py(J2);function Xv(t){if(t===J2)throw Error(hn(174));return t}function k5(t,e){switch(po(gM,e),po(mM,t),po(yh,J2),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pz(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pz(e,t)}So(yh),po(yh,e)}function pb(){So(yh),So(mM),So(gM)}function FQ(t){Xv(gM.current);var e=Xv(yh.current),n=pz(e,t.type);e!==n&&(po(mM,t),po(yh,n))}function R5(t){mM.current===t&&(So(yh),So(mM))}var Uo=py(0);function pP(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var aD=[];function O5(){for(var t=0;t<aD.length;t++)aD[t]._workInProgressVersionPrimary=null;aD.length=0}var vA=rm.ReactCurrentDispatcher,lD=rm.ReactCurrentBatchConfig,T0=0,Go=null,Js=null,fa=null,mP=!1,kS=!1,yM=0,Eme=0;function tl(){throw Error(hn(321))}function L5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hf(t[n],e[n]))return!1;return!0}function D5(t,e,n,r,i,o){if(T0=o,Go=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vA.current=t===null||t.memoizedState===null?Pme:Ime,t=n(r,i),kS){o=0;do{if(kS=!1,yM=0,25<=o)throw Error(hn(301));o+=1,fa=Js=null,e.updateQueue=null,vA.current=kme,t=n(r,i)}while(kS)}if(vA.current=gP,e=Js!==null&&Js.next!==null,T0=0,fa=Js=Go=null,mP=!1,e)throw Error(hn(300));return t}function N5(){var t=yM!==0;return yM=0,t}function sh(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fa===null?Go.memoizedState=fa=t:fa=fa.next=t,fa}function dd(){if(Js===null){var t=Go.alternate;t=t!==null?t.memoizedState:null}else t=Js.next;var e=fa===null?Go.memoizedState:fa.next;if(e!==null)fa=e,Js=t;else{if(t===null)throw Error(hn(310));Js=t,t={memoizedState:Js.memoizedState,baseState:Js.baseState,baseQueue:Js.baseQueue,queue:Js.queue,next:null},fa===null?Go.memoizedState=fa=t:fa=fa.next=t}return fa}function vM(t,e){return typeof e=="function"?e(t):e}function cD(t){var e=dd(),n=e.queue;if(n===null)throw Error(hn(311));n.lastRenderedReducer=t;var r=Js,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var h=c.lane;if((T0&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=p,a=r):l=l.next=p,Go.lanes|=h,C0|=h}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,hf(r,e.memoizedState)||(_c=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Go.lanes|=o,C0|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uD(t){var e=dd(),n=e.queue;if(n===null)throw Error(hn(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);hf(o,e.memoizedState)||(_c=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function $Q(){}function jQ(t,e){var n=Go,r=dd(),i=e(),o=!hf(r.memoizedState,i);if(o&&(r.memoizedState=i,_c=!0),r=r.queue,z5(WQ.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||fa!==null&&fa.memoizedState.tag&1){if(n.flags|=2048,xM(9,VQ.bind(null,n,r,i,e),void 0,null),ha===null)throw Error(hn(349));T0&30||UQ(n,e,i)}return i}function UQ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Go.updateQueue,e===null?(e={lastEffect:null,stores:null},Go.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VQ(t,e,n,r){e.value=n,e.getSnapshot=r,HQ(e)&&GQ(t)}function WQ(t,e,n){return n(function(){HQ(e)&&GQ(t)})}function HQ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hf(t,n)}catch{return!0}}function GQ(t){var e=Vp(t,1);e!==null&&df(e,t,1,-1)}function IW(t){var e=sh();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vM,lastRenderedState:t},e.queue=t,t=t.dispatch=Ame.bind(null,Go,t),[e.memoizedState,t]}function xM(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Go.updateQueue,e===null?(e={lastEffect:null,stores:null},Go.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qQ(){return dd().memoizedState}function xA(t,e,n,r){var i=sh();Go.flags|=t,i.memoizedState=xM(1|e,n,void 0,r===void 0?null:r)}function mk(t,e,n,r){var i=dd();r=r===void 0?null:r;var o=void 0;if(Js!==null){var a=Js.memoizedState;if(o=a.destroy,r!==null&&L5(r,a.deps)){i.memoizedState=xM(e,n,o,r);return}}Go.flags|=t,i.memoizedState=xM(1|e,n,o,r)}function kW(t,e){return xA(8390656,8,t,e)}function z5(t,e){return mk(2048,8,t,e)}function YQ(t,e){return mk(4,2,t,e)}function XQ(t,e){return mk(4,4,t,e)}function KQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZQ(t,e,n){return n=n!=null?n.concat([t]):null,mk(4,4,KQ.bind(null,e,t),n)}function B5(){}function JQ(t,e){var n=dd();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&L5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QQ(t,e){var n=dd();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&L5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eee(t,e,n){return T0&21?(hf(n,e)||(n=rQ(),Go.lanes|=n,C0|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_c=!0),t.memoizedState=n)}function Tme(t,e){var n=Bi;Bi=n!==0&&4>n?n:4,t(!0);var r=lD.transition;lD.transition={};try{t(!1),e()}finally{Bi=n,lD.transition=r}}function tee(){return dd().memoizedState}function Cme(t,e,n){var r=Wg(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nee(t))ree(e,n);else if(n=OQ(t,e,n,r),n!==null){var i=Gl();df(n,t,r,i),iee(n,e,r)}}function Ame(t,e,n){var r=Wg(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nee(t))ree(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,hf(s,a)){var l=e.interleaved;l===null?(i.next=i,P5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=OQ(t,e,i,r),n!==null&&(i=Gl(),df(n,t,r,i),iee(n,e,r))}}function nee(t){var e=t.alternate;return t===Go||e!==null&&e===Go}function ree(t,e){kS=mP=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iee(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m5(t,n)}}var gP={readContext:ud,useCallback:tl,useContext:tl,useEffect:tl,useImperativeHandle:tl,useInsertionEffect:tl,useLayoutEffect:tl,useMemo:tl,useReducer:tl,useRef:tl,useState:tl,useDebugValue:tl,useDeferredValue:tl,useTransition:tl,useMutableSource:tl,useSyncExternalStore:tl,useId:tl,unstable_isNewReconciler:!1},Pme={readContext:ud,useCallback:function(t,e){return sh().memoizedState=[t,e===void 0?null:e],t},useContext:ud,useEffect:kW,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xA(4194308,4,KQ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xA(4194308,4,t,e)},useInsertionEffect:function(t,e){return xA(4,2,t,e)},useMemo:function(t,e){var n=sh();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sh();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Cme.bind(null,Go,t),[r.memoizedState,t]},useRef:function(t){var e=sh();return t={current:t},e.memoizedState=t},useState:IW,useDebugValue:B5,useDeferredValue:function(t){return sh().memoizedState=t},useTransition:function(){var t=IW(!1),e=t[0];return t=Tme.bind(null,t[1]),sh().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Go,i=sh();if(Ro){if(n===void 0)throw Error(hn(407));n=n()}else{if(n=e(),ha===null)throw Error(hn(349));T0&30||UQ(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,kW(WQ.bind(null,r,o,t),[t]),r.flags|=2048,xM(9,VQ.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=sh(),e=ha.identifierPrefix;if(Ro){var n=Ep,r=Mp;n=(r&~(1<<32-uf(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yM++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Eme++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ime={readContext:ud,useCallback:JQ,useContext:ud,useEffect:z5,useImperativeHandle:ZQ,useInsertionEffect:YQ,useLayoutEffect:XQ,useMemo:QQ,useReducer:cD,useRef:qQ,useState:function(){return cD(vM)},useDebugValue:B5,useDeferredValue:function(t){var e=dd();return eee(e,Js.memoizedState,t)},useTransition:function(){var t=cD(vM)[0],e=dd().memoizedState;return[t,e]},useMutableSource:$Q,useSyncExternalStore:jQ,useId:tee,unstable_isNewReconciler:!1},kme={readContext:ud,useCallback:JQ,useContext:ud,useEffect:z5,useImperativeHandle:ZQ,useInsertionEffect:YQ,useLayoutEffect:XQ,useMemo:QQ,useReducer:uD,useRef:qQ,useState:function(){return uD(vM)},useDebugValue:B5,useDeferredValue:function(t){var e=dd();return Js===null?e.memoizedState=t:eee(e,Js.memoizedState,t)},useTransition:function(){var t=uD(vM)[0],e=dd().memoizedState;return[t,e]},useMutableSource:$Q,useSyncExternalStore:jQ,useId:tee,unstable_isNewReconciler:!1};function mb(t,e){try{var n="",r=e;do n+=ope(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function dD(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zz(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rme=typeof WeakMap=="function"?WeakMap:Map;function oee(t,e,n){n=Dp(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vP||(vP=!0,qz=r),zz(t,e)},n}function see(t,e,n){n=Dp(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zz(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zz(t,e),typeof r!="function"&&(Vg===null?Vg=new Set([this]):Vg.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function RW(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Rme;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Gme.bind(null,t,e,n),e.then(t,t))}function OW(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LW(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dp(-1,1),e.tag=2,Ug(n,e,1))),n.lanes|=1),t)}var Ome=rm.ReactCurrentOwner,_c=!1;function $l(t,e,n,r){e.child=t===null?BQ(e,null,n,r):hb(e,t.child,n,r)}function DW(t,e,n,r,i){n=n.render;var o=e.ref;return Y_(e,i),r=D5(t,e,n,r,o,i),n=N5(),t!==null&&!_c?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wp(t,e,i)):(Ro&&n&&S5(e),e.flags|=1,$l(t,e,r,i),e.child)}function NW(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!G5(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,aee(t,e,o,r,i)):(t=SA(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:dM,n(a,r)&&t.ref===e.ref)return Wp(t,e,i)}return e.flags|=1,t=Hg(o,r),t.ref=e.ref,t.return=e,e.child=t}function aee(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(dM(o,r)&&t.ref===e.ref)if(_c=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_c=!0);else return e.lanes=t.lanes,Wp(t,e,i)}return Bz(t,e,n,r,i)}function lee(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},po(M_,Zc),Zc|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,po(M_,Zc),Zc|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,po(M_,Zc),Zc|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,po(M_,Zc),Zc|=r;return $l(t,e,i,n),e.child}function cee(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bz(t,e,n,r,i){var o=Sc(n)?M0:_l.current;return o=db(e,o),Y_(e,i),n=D5(t,e,n,r,o,i),r=N5(),t!==null&&!_c?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wp(t,e,i)):(Ro&&r&&S5(e),e.flags|=1,$l(t,e,n,i),e.child)}function zW(t,e,n,r,i){if(Sc(n)){var o=!0;lP(e)}else o=!1;if(Y_(e,i),e.stateNode===null)_A(t,e),NQ(e,n,r),Nz(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=ud(c):(c=Sc(n)?M0:_l.current,c=db(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&AW(e,a,r,c),_g=!1;var g=e.memoizedState;a.state=g,hP(e,r,a,i),l=e.memoizedState,s!==r||g!==l||wc.current||_g?(typeof h=="function"&&(Dz(e,n,h,r),l=e.memoizedState),(s=_g||CW(e,n,s,r,g,l,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,LQ(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Yd(e.type,s),a.props=c,p=e.pendingProps,g=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ud(l):(l=Sc(n)?M0:_l.current,l=db(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==p||g!==l)&&AW(e,a,r,l),_g=!1,g=e.memoizedState,a.state=g,hP(e,r,a,i);var x=e.memoizedState;s!==p||g!==x||wc.current||_g?(typeof v=="function"&&(Dz(e,n,v,r),x=e.memoizedState),(c=_g||CW(e,n,c,r,g,x,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Fz(t,e,n,r,o,i)}function Fz(t,e,n,r,i,o){cee(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&wW(e,n,!1),Wp(t,e,o);r=e.stateNode,Ome.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=hb(e,t.child,null,o),e.child=hb(e,null,s,o)):$l(t,e,s,o),e.memoizedState=r.state,i&&wW(e,n,!0),e.child}function uee(t){var e=t.stateNode;e.pendingContext?bW(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bW(t,e.context,!1),k5(t,e.containerInfo)}function BW(t,e,n,r,i){return fb(),E5(i),e.flags|=256,$l(t,e,n,r),e.child}var $z={dehydrated:null,treeContext:null,retryLane:0};function jz(t){return{baseLanes:t,cachePool:null,transitions:null}}function dee(t,e,n){var r=e.pendingProps,i=Uo.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),po(Uo,i&1),t===null)return Oz(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=vk(a,r,0,null),t=u0(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=jz(n),e.memoizedState=$z,t):F5(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Lme(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hg(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Hg(s,o):(o=u0(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?jz(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=$z,r}return o=t.child,t=o.sibling,r=Hg(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function F5(t,e){return e=vk({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function CT(t,e,n,r){return r!==null&&E5(r),hb(e,t.child,null,n),t=F5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lme(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=dD(Error(hn(422))),CT(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=vk({mode:"visible",children:r.children},i,0,null),o=u0(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&hb(e,t.child,null,a),e.child.memoizedState=jz(a),e.memoizedState=$z,o);if(!(e.mode&1))return CT(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(hn(419)),r=dD(o,r,void 0),CT(t,e,a,r)}if(s=(a&t.childLanes)!==0,_c||s){if(r=ha,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vp(t,i),df(r,t,i,-1))}return H5(),r=dD(Error(hn(421))),CT(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qme.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,au=jg(i.nextSibling),cu=e,Ro=!0,Qd=null,t!==null&&(Xu[Ku++]=Mp,Xu[Ku++]=Ep,Xu[Ku++]=E0,Mp=t.id,Ep=t.overflow,E0=e),e=F5(e,r.children),e.flags|=4096,e)}function FW(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lz(t.return,e,n)}function fD(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function fee(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if($l(t,e,r.children,n),r=Uo.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FW(t,n,e);else if(t.tag===19)FW(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(po(Uo,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pP(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fD(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pP(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fD(e,!0,n,null,o);break;case"together":fD(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _A(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wp(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),C0|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(hn(153));if(e.child!==null){for(t=e.child,n=Hg(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hg(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dme(t,e,n){switch(e.tag){case 3:uee(e),fb();break;case 5:FQ(e);break;case 1:Sc(e.type)&&lP(e);break;case 4:k5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;po(dP,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(po(Uo,Uo.current&1),e.flags|=128,null):n&e.child.childLanes?dee(t,e,n):(po(Uo,Uo.current&1),t=Wp(t,e,n),t!==null?t.sibling:null);po(Uo,Uo.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fee(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),po(Uo,Uo.current),r)break;return null;case 22:case 23:return e.lanes=0,lee(t,e,n)}return Wp(t,e,n)}var hee,Uz,pee,mee;hee=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uz=function(){};pee=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xv(yh.current);var o=null;switch(n){case"input":i=uz(t,i),r=uz(t,r),o=[];break;case"select":i=Yo({},i,{value:void 0}),r=Yo({},r,{value:void 0}),o=[];break;case"textarea":i=hz(t,i),r=hz(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sP)}mz(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(iM.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(iM.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_o("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};mee=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sw(t,e){if(!Ro)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nl(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Nme(t,e,n){var r=e.pendingProps;switch(M5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nl(e),null;case 1:return Sc(e.type)&&aP(),nl(e),null;case 3:return r=e.stateNode,pb(),So(wc),So(_l),O5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ET(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qd!==null&&(Kz(Qd),Qd=null))),Uz(t,e),nl(e),null;case 5:R5(e);var i=Xv(gM.current);if(n=e.type,t!==null&&e.stateNode!=null)pee(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(hn(166));return nl(e),null}if(t=Xv(yh.current),ET(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[uh]=e,r[pM]=o,t=(e.mode&1)!==0,n){case"dialog":_o("cancel",r),_o("close",r);break;case"iframe":case"object":case"embed":_o("load",r);break;case"video":case"audio":for(i=0;i<gS.length;i++)_o(gS[i],r);break;case"source":_o("error",r);break;case"img":case"image":case"link":_o("error",r),_o("load",r);break;case"details":_o("toggle",r);break;case"input":YV(r,o),_o("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},_o("invalid",r);break;case"textarea":KV(r,o),_o("invalid",r)}mz(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&MT(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&MT(r.textContent,s,t),i=["children",""+s]):iM.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&_o("scroll",r)}switch(n){case"input":gT(r),XV(r,o,!0);break;case"textarea":gT(r),ZV(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sP)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UJ(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[uh]=e,t[pM]=r,hee(t,e,!1,!1),e.stateNode=t;e:{switch(a=gz(n,r),n){case"dialog":_o("cancel",t),_o("close",t),i=r;break;case"iframe":case"object":case"embed":_o("load",t),i=r;break;case"video":case"audio":for(i=0;i<gS.length;i++)_o(gS[i],t);i=r;break;case"source":_o("error",t),i=r;break;case"img":case"image":case"link":_o("error",t),_o("load",t),i=r;break;case"details":_o("toggle",t),i=r;break;case"input":YV(t,r),i=uz(t,r),_o("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Yo({},r,{value:void 0}),_o("invalid",t);break;case"textarea":KV(t,r),i=hz(t,r),_o("invalid",t);break;default:i=r}mz(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?HJ(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VJ(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oM(t,l):typeof l=="number"&&oM(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(iM.hasOwnProperty(o)?l!=null&&o==="onScroll"&&_o("scroll",t):l!=null&&c5(t,o,l,a))}switch(n){case"input":gT(t),XV(t,r,!1);break;case"textarea":gT(t),ZV(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ry(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?W_(t,!!r.multiple,o,!1):r.defaultValue!=null&&W_(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sP)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nl(e),null;case 6:if(t&&e.stateNode!=null)mee(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(hn(166));if(n=Xv(gM.current),Xv(yh.current),ET(e)){if(r=e.stateNode,n=e.memoizedProps,r[uh]=e,(o=r.nodeValue!==n)&&(t=cu,t!==null))switch(t.tag){case 3:MT(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&MT(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[uh]=e,e.stateNode=r}return nl(e),null;case 13:if(So(Uo),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ro&&au!==null&&e.mode&1&&!(e.flags&128))RQ(),fb(),e.flags|=98560,o=!1;else if(o=ET(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(hn(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(hn(317));o[uh]=e}else fb(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nl(e),o=!1}else Qd!==null&&(Kz(Qd),Qd=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Uo.current&1?Qs===0&&(Qs=3):H5())),e.updateQueue!==null&&(e.flags|=4),nl(e),null);case 4:return pb(),Uz(t,e),t===null&&fM(e.stateNode.containerInfo),nl(e),null;case 10:return A5(e.type._context),nl(e),null;case 17:return Sc(e.type)&&aP(),nl(e),null;case 19:if(So(Uo),o=e.memoizedState,o===null)return nl(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Sw(o,!1);else{if(Qs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=pP(t),a!==null){for(e.flags|=128,Sw(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return po(Uo,Uo.current&1|2),e.child}t=t.sibling}o.tail!==null&&_s()>gb&&(e.flags|=128,r=!0,Sw(o,!1),e.lanes=4194304)}else{if(!r)if(t=pP(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sw(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ro)return nl(e),null}else 2*_s()-o.renderingStartTime>gb&&n!==1073741824&&(e.flags|=128,r=!0,Sw(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_s(),e.sibling=null,n=Uo.current,po(Uo,r?n&1|2:n&1),e):(nl(e),null);case 22:case 23:return W5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zc&1073741824&&(nl(e),e.subtreeFlags&6&&(e.flags|=8192)):nl(e),null;case 24:return null;case 25:return null}throw Error(hn(156,e.tag))}function zme(t,e){switch(M5(e),e.tag){case 1:return Sc(e.type)&&aP(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pb(),So(wc),So(_l),O5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return R5(e),null;case 13:if(So(Uo),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(hn(340));fb()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return So(Uo),null;case 4:return pb(),null;case 10:return A5(e.type._context),null;case 22:case 23:return W5(),null;case 24:return null;default:return null}}var AT=!1,dl=!1,Bme=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function S_(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rs(t,e,r)}else n.current=null}function Vz(t,e,n){try{n()}catch(r){rs(t,e,r)}}var $W=!1;function Fme(t,e){if(Tz=rP,t=xQ(),w5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,h=0,p=t,g=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(s=a+i),p!==o||r!==0&&p.nodeType!==3||(l=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===t)break t;if(g===n&&++c===i&&(s=a),g===o&&++h===r&&(l=a),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cz={focusedElem:t,selectionRange:n},rP=!1,Yn=e;Yn!==null;)if(e=Yn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Yn=t;else for(;Yn!==null;){e=Yn;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,S=x.memoizedState,w=e.stateNode,C=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:Yd(e.type,_),S);w.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(hn(163))}}catch(k){rs(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Yn=t;break}Yn=e.return}return x=$W,$W=!1,x}function RS(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Vz(e,n,o)}i=i.next}while(i!==r)}}function gk(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wz(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gee(t){var e=t.alternate;e!==null&&(t.alternate=null,gee(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[uh],delete e[pM],delete e[Iz],delete e[bme],delete e[wme])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yee(t){return t.tag===5||t.tag===3||t.tag===4}function jW(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yee(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hz(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sP));else if(r!==4&&(t=t.child,t!==null))for(Hz(t,e,n),t=t.sibling;t!==null;)Hz(t,e,n),t=t.sibling}function Gz(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gz(t,e,n),t=t.sibling;t!==null;)Gz(t,e,n),t=t.sibling}var Ra=null,Kd=!1;function Jm(t,e,n){for(n=n.child;n!==null;)vee(t,e,n),n=n.sibling}function vee(t,e,n){if(gh&&typeof gh.onCommitFiberUnmount=="function")try{gh.onCommitFiberUnmount(lk,n)}catch{}switch(n.tag){case 5:dl||S_(n,e);case 6:var r=Ra,i=Kd;Ra=null,Jm(t,e,n),Ra=r,Kd=i,Ra!==null&&(Kd?(t=Ra,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ra.removeChild(n.stateNode));break;case 18:Ra!==null&&(Kd?(t=Ra,n=n.stateNode,t.nodeType===8?oD(t.parentNode,n):t.nodeType===1&&oD(t,n),cM(t)):oD(Ra,n.stateNode));break;case 4:r=Ra,i=Kd,Ra=n.stateNode.containerInfo,Kd=!0,Jm(t,e,n),Ra=r,Kd=i;break;case 0:case 11:case 14:case 15:if(!dl&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Vz(n,e,a),i=i.next}while(i!==r)}Jm(t,e,n);break;case 1:if(!dl&&(S_(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){rs(n,e,s)}Jm(t,e,n);break;case 21:Jm(t,e,n);break;case 22:n.mode&1?(dl=(r=dl)||n.memoizedState!==null,Jm(t,e,n),dl=r):Jm(t,e,n);break;default:Jm(t,e,n)}}function UW(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Bme),e.forEach(function(r){var i=Yme.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jd(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ra=s.stateNode,Kd=!1;break e;case 3:Ra=s.stateNode.containerInfo,Kd=!0;break e;case 4:Ra=s.stateNode.containerInfo,Kd=!0;break e}s=s.return}if(Ra===null)throw Error(hn(160));vee(o,a,i),Ra=null,Kd=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rs(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xee(e,t),e=e.sibling}function xee(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jd(e,t),ih(t),r&4){try{RS(3,t,t.return),gk(3,t)}catch(_){rs(t,t.return,_)}try{RS(5,t,t.return)}catch(_){rs(t,t.return,_)}}break;case 1:jd(e,t),ih(t),r&512&&n!==null&&S_(n,n.return);break;case 5:if(jd(e,t),ih(t),r&512&&n!==null&&S_(n,n.return),t.flags&32){var i=t.stateNode;try{oM(i,"")}catch(_){rs(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&$J(i,o),gz(s,a);var c=gz(s,o);for(a=0;a<l.length;a+=2){var h=l[a],p=l[a+1];h==="style"?HJ(i,p):h==="dangerouslySetInnerHTML"?VJ(i,p):h==="children"?oM(i,p):c5(i,h,p,c)}switch(s){case"input":dz(i,o);break;case"textarea":jJ(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?W_(i,!!o.multiple,v,!1):g!==!!o.multiple&&(o.defaultValue!=null?W_(i,!!o.multiple,o.defaultValue,!0):W_(i,!!o.multiple,o.multiple?[]:"",!1))}i[pM]=o}catch(_){rs(t,t.return,_)}}break;case 6:if(jd(e,t),ih(t),r&4){if(t.stateNode===null)throw Error(hn(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){rs(t,t.return,_)}}break;case 3:if(jd(e,t),ih(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cM(e.containerInfo)}catch(_){rs(t,t.return,_)}break;case 4:jd(e,t),ih(t);break;case 13:jd(e,t),ih(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(U5=_s())),r&4&&UW(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(dl=(c=dl)||h,jd(e,t),dl=c):jd(e,t),ih(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Yn=t,h=t.child;h!==null;){for(p=Yn=h;Yn!==null;){switch(g=Yn,v=g.child,g.tag){case 0:case 11:case 14:case 15:RS(4,g,g.return);break;case 1:S_(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(_){rs(r,n,_)}}break;case 5:S_(g,g.return);break;case 22:if(g.memoizedState!==null){WW(p);continue}}v!==null?(v.return=g,Yn=v):WW(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=WJ("display",a))}catch(_){rs(t,t.return,_)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(_){rs(t,t.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:jd(e,t),ih(t),r&4&&UW(t);break;case 21:break;default:jd(e,t),ih(t)}}function ih(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yee(n)){var r=n;break e}n=n.return}throw Error(hn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oM(i,""),r.flags&=-33);var o=jW(t);Gz(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=jW(t);Hz(t,s,a);break;default:throw Error(hn(161))}}catch(l){rs(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $me(t,e,n){Yn=t,_ee(t)}function _ee(t,e,n){for(var r=(t.mode&1)!==0;Yn!==null;){var i=Yn,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||AT;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||dl;s=AT;var c=dl;if(AT=a,(dl=l)&&!c)for(Yn=i;Yn!==null;)a=Yn,l=a.child,a.tag===22&&a.memoizedState!==null?HW(i):l!==null?(l.return=a,Yn=l):HW(i);for(;o!==null;)Yn=o,_ee(o),o=o.sibling;Yn=i,AT=s,dl=c}VW(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Yn=o):VW(t)}}function VW(t){for(;Yn!==null;){var e=Yn;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dl||gk(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dl)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yd(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&TW(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}TW(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&cM(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(hn(163))}dl||e.flags&512&&Wz(e)}catch(g){rs(e,e.return,g)}}if(e===t){Yn=null;break}if(n=e.sibling,n!==null){n.return=e.return,Yn=n;break}Yn=e.return}}function WW(t){for(;Yn!==null;){var e=Yn;if(e===t){Yn=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Yn=n;break}Yn=e.return}}function HW(t){for(;Yn!==null;){var e=Yn;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gk(4,e)}catch(l){rs(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rs(e,i,l)}}var o=e.return;try{Wz(e)}catch(l){rs(e,o,l)}break;case 5:var a=e.return;try{Wz(e)}catch(l){rs(e,a,l)}}}catch(l){rs(e,e.return,l)}if(e===t){Yn=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Yn=s;break}Yn=e.return}}var jme=Math.ceil,yP=rm.ReactCurrentDispatcher,$5=rm.ReactCurrentOwner,rd=rm.ReactCurrentBatchConfig,di=0,ha=null,Rs=null,za=0,Zc=0,M_=py(0),Qs=0,_M=null,C0=0,yk=0,j5=0,OS=null,vc=null,U5=0,gb=1/0,yp=null,vP=!1,qz=null,Vg=null,PT=!1,Pg=null,xP=0,LS=0,Yz=null,bA=-1,wA=0;function Gl(){return di&6?_s():bA!==-1?bA:bA=_s()}function Wg(t){return t.mode&1?di&2&&za!==0?za&-za:Mme.transition!==null?(wA===0&&(wA=rQ()),wA):(t=Bi,t!==0||(t=window.event,t=t===void 0?16:uQ(t.type)),t):1}function df(t,e,n,r){if(50<LS)throw LS=0,Yz=null,Error(hn(185));X2(t,n,r),(!(di&2)||t!==ha)&&(t===ha&&(!(di&2)&&(yk|=n),Qs===4&&Mg(t,za)),Mc(t,r),n===1&&di===0&&!(e.mode&1)&&(gb=_s()+500,hk&&my()))}function Mc(t,e){var n=t.callbackNode;Mpe(t,e);var r=nP(t,t===ha?za:0);if(r===0)n!==null&&eW(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&eW(n),e===1)t.tag===0?Sme(GW.bind(null,t)):PQ(GW.bind(null,t)),xme(function(){!(di&6)&&my()}),n=null;else{switch(iQ(r)){case 1:n=p5;break;case 4:n=tQ;break;case 16:n=tP;break;case 536870912:n=nQ;break;default:n=tP}n=Aee(n,bee.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bee(t,e){if(bA=-1,wA=0,di&6)throw Error(hn(327));var n=t.callbackNode;if(X_()&&t.callbackNode!==n)return null;var r=nP(t,t===ha?za:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_P(t,r);else{e=r;var i=di;di|=2;var o=See();(ha!==t||za!==e)&&(yp=null,gb=_s()+500,c0(t,e));do try{Wme();break}catch(s){wee(t,s)}while(!0);C5(),yP.current=o,di=i,Rs!==null?e=0:(ha=null,za=0,e=Qs)}if(e!==0){if(e===2&&(i=bz(t),i!==0&&(r=i,e=Xz(t,i))),e===1)throw n=_M,c0(t,0),Mg(t,r),Mc(t,_s()),n;if(e===6)Mg(t,r);else{if(i=t.current.alternate,!(r&30)&&!Ume(i)&&(e=_P(t,r),e===2&&(o=bz(t),o!==0&&(r=o,e=Xz(t,o))),e===1))throw n=_M,c0(t,0),Mg(t,r),Mc(t,_s()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(hn(345));case 2:Rv(t,vc,yp);break;case 3:if(Mg(t,r),(r&130023424)===r&&(e=U5+500-_s(),10<e)){if(nP(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pz(Rv.bind(null,t,vc,yp),e);break}Rv(t,vc,yp);break;case 4:if(Mg(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-uf(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=_s()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jme(r/1960))-r,10<r){t.timeoutHandle=Pz(Rv.bind(null,t,vc,yp),r);break}Rv(t,vc,yp);break;case 5:Rv(t,vc,yp);break;default:throw Error(hn(329))}}}return Mc(t,_s()),t.callbackNode===n?bee.bind(null,t):null}function Xz(t,e){var n=OS;return t.current.memoizedState.isDehydrated&&(c0(t,e).flags|=256),t=_P(t,e),t!==2&&(e=vc,vc=n,e!==null&&Kz(e)),t}function Kz(t){vc===null?vc=t:vc.push.apply(vc,t)}function Ume(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hf(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mg(t,e){for(e&=~j5,e&=~yk,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-uf(e),r=1<<n;t[n]=-1,e&=~r}}function GW(t){if(di&6)throw Error(hn(327));X_();var e=nP(t,0);if(!(e&1))return Mc(t,_s()),null;var n=_P(t,e);if(t.tag!==0&&n===2){var r=bz(t);r!==0&&(e=r,n=Xz(t,r))}if(n===1)throw n=_M,c0(t,0),Mg(t,e),Mc(t,_s()),n;if(n===6)throw Error(hn(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rv(t,vc,yp),Mc(t,_s()),null}function V5(t,e){var n=di;di|=1;try{return t(e)}finally{di=n,di===0&&(gb=_s()+500,hk&&my())}}function A0(t){Pg!==null&&Pg.tag===0&&!(di&6)&&X_();var e=di;di|=1;var n=rd.transition,r=Bi;try{if(rd.transition=null,Bi=1,t)return t()}finally{Bi=r,rd.transition=n,di=e,!(di&6)&&my()}}function W5(){Zc=M_.current,So(M_)}function c0(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vme(n)),Rs!==null)for(n=Rs.return;n!==null;){var r=n;switch(M5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&aP();break;case 3:pb(),So(wc),So(_l),O5();break;case 5:R5(r);break;case 4:pb();break;case 13:So(Uo);break;case 19:So(Uo);break;case 10:A5(r.type._context);break;case 22:case 23:W5()}n=n.return}if(ha=t,Rs=t=Hg(t.current,null),za=Zc=e,Qs=0,_M=null,j5=yk=C0=0,vc=OS=null,Yv!==null){for(e=0;e<Yv.length;e++)if(n=Yv[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Yv=null}return t}function wee(t,e){do{var n=Rs;try{if(C5(),vA.current=gP,mP){for(var r=Go.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mP=!1}if(T0=0,fa=Js=Go=null,kS=!1,yM=0,$5.current=null,n===null||n.return===null){Qs=1,_M=e,Rs=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=za,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=s,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=OW(a);if(v!==null){v.flags&=-257,LW(v,a,s,o,e),v.mode&1&&RW(o,c,e),e=v,l=c;var x=e.updateQueue;if(x===null){var _=new Set;_.add(l),e.updateQueue=_}else x.add(l);break e}else{if(!(e&1)){RW(o,c,e),H5();break e}l=Error(hn(426))}}else if(Ro&&s.mode&1){var S=OW(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),LW(S,a,s,o,e),E5(mb(l,s));break e}}o=l=mb(l,s),Qs!==4&&(Qs=2),OS===null?OS=[o]:OS.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=oee(o,l,e);EW(o,w);break e;case 1:s=l;var C=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof C.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Vg===null||!Vg.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=see(o,s,e);EW(o,k);break e}}o=o.return}while(o!==null)}Eee(n)}catch(R){e=R,Rs===n&&n!==null&&(Rs=n=n.return);continue}break}while(!0)}function See(){var t=yP.current;return yP.current=gP,t===null?gP:t}function H5(){(Qs===0||Qs===3||Qs===2)&&(Qs=4),ha===null||!(C0&268435455)&&!(yk&268435455)||Mg(ha,za)}function _P(t,e){var n=di;di|=2;var r=See();(ha!==t||za!==e)&&(yp=null,c0(t,e));do try{Vme();break}catch(i){wee(t,i)}while(!0);if(C5(),di=n,yP.current=r,Rs!==null)throw Error(hn(261));return ha=null,za=0,Qs}function Vme(){for(;Rs!==null;)Mee(Rs)}function Wme(){for(;Rs!==null&&!mpe();)Mee(Rs)}function Mee(t){var e=Cee(t.alternate,t,Zc);t.memoizedProps=t.pendingProps,e===null?Eee(t):Rs=e,$5.current=null}function Eee(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zme(n,e),n!==null){n.flags&=32767,Rs=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qs=6,Rs=null;return}}else if(n=Nme(n,e,Zc),n!==null){Rs=n;return}if(e=e.sibling,e!==null){Rs=e;return}Rs=e=t}while(e!==null);Qs===0&&(Qs=5)}function Rv(t,e,n){var r=Bi,i=rd.transition;try{rd.transition=null,Bi=1,Hme(t,e,n,r)}finally{rd.transition=i,Bi=r}return null}function Hme(t,e,n,r){do X_();while(Pg!==null);if(di&6)throw Error(hn(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(hn(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Epe(t,o),t===ha&&(Rs=ha=null,za=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||PT||(PT=!0,Aee(tP,function(){return X_(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=rd.transition,rd.transition=null;var a=Bi;Bi=1;var s=di;di|=4,$5.current=null,Fme(t,n),xee(n,t),dme(Cz),rP=!!Tz,Cz=Tz=null,t.current=n,$me(n),gpe(),di=s,Bi=a,rd.transition=o}else t.current=n;if(PT&&(PT=!1,Pg=t,xP=i),o=t.pendingLanes,o===0&&(Vg=null),xpe(n.stateNode),Mc(t,_s()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vP)throw vP=!1,t=qz,qz=null,t;return xP&1&&t.tag!==0&&X_(),o=t.pendingLanes,o&1?t===Yz?LS++:(LS=0,Yz=t):LS=0,my(),null}function X_(){if(Pg!==null){var t=iQ(xP),e=rd.transition,n=Bi;try{if(rd.transition=null,Bi=16>t?16:t,Pg===null)var r=!1;else{if(t=Pg,Pg=null,xP=0,di&6)throw Error(hn(331));var i=di;for(di|=4,Yn=t.current;Yn!==null;){var o=Yn,a=o.child;if(Yn.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Yn=c;Yn!==null;){var h=Yn;switch(h.tag){case 0:case 11:case 15:RS(8,h,o)}var p=h.child;if(p!==null)p.return=h,Yn=p;else for(;Yn!==null;){h=Yn;var g=h.sibling,v=h.return;if(gee(h),h===c){Yn=null;break}if(g!==null){g.return=v,Yn=g;break}Yn=v}}}var x=o.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}Yn=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Yn=a;else e:for(;Yn!==null;){if(o=Yn,o.flags&2048)switch(o.tag){case 0:case 11:case 15:RS(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Yn=w;break e}Yn=o.return}}var C=t.current;for(Yn=C;Yn!==null;){a=Yn;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,Yn=T;else e:for(a=C;Yn!==null;){if(s=Yn,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:gk(9,s)}}catch(R){rs(s,s.return,R)}if(s===a){Yn=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,Yn=k;break e}Yn=s.return}}if(di=i,my(),gh&&typeof gh.onPostCommitFiberRoot=="function")try{gh.onPostCommitFiberRoot(lk,t)}catch{}r=!0}return r}finally{Bi=n,rd.transition=e}}return!1}function qW(t,e,n){e=mb(n,e),e=oee(t,e,1),t=Ug(t,e,1),e=Gl(),t!==null&&(X2(t,1,e),Mc(t,e))}function rs(t,e,n){if(t.tag===3)qW(t,t,n);else for(;e!==null;){if(e.tag===3){qW(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vg===null||!Vg.has(r))){t=mb(n,t),t=see(e,t,1),e=Ug(e,t,1),t=Gl(),e!==null&&(X2(e,1,t),Mc(e,t));break}}e=e.return}}function Gme(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gl(),t.pingedLanes|=t.suspendedLanes&n,ha===t&&(za&n)===n&&(Qs===4||Qs===3&&(za&130023424)===za&&500>_s()-U5?c0(t,0):j5|=n),Mc(t,e)}function Tee(t,e){e===0&&(t.mode&1?(e=xT,xT<<=1,!(xT&130023424)&&(xT=4194304)):e=1);var n=Gl();t=Vp(t,e),t!==null&&(X2(t,e,n),Mc(t,n))}function qme(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Tee(t,n)}function Yme(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(hn(314))}r!==null&&r.delete(e),Tee(t,n)}var Cee;Cee=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wc.current)_c=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _c=!1,Dme(t,e,n);_c=!!(t.flags&131072)}else _c=!1,Ro&&e.flags&1048576&&IQ(e,uP,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_A(t,e),t=e.pendingProps;var i=db(e,_l.current);Y_(e,n),i=D5(null,e,r,t,i,n);var o=N5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sc(r)?(o=!0,lP(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,I5(e),i.updater=pk,e.stateNode=i,i._reactInternals=e,Nz(e,r,t,n),e=Fz(null,e,r,!0,o,n)):(e.tag=0,Ro&&o&&S5(e),$l(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_A(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Kme(r),t=Yd(r,t),i){case 0:e=Bz(null,e,r,t,n);break e;case 1:e=zW(null,e,r,t,n);break e;case 11:e=DW(null,e,r,t,n);break e;case 14:e=NW(null,e,r,Yd(r.type,t),n);break e}throw Error(hn(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yd(r,i),Bz(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yd(r,i),zW(t,e,r,i,n);case 3:e:{if(uee(e),t===null)throw Error(hn(387));r=e.pendingProps,o=e.memoizedState,i=o.element,LQ(t,e),hP(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=mb(Error(hn(423)),e),e=BW(t,e,r,n,i);break e}else if(r!==i){i=mb(Error(hn(424)),e),e=BW(t,e,r,n,i);break e}else for(au=jg(e.stateNode.containerInfo.firstChild),cu=e,Ro=!0,Qd=null,n=BQ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fb(),r===i){e=Wp(t,e,n);break e}$l(t,e,r,n)}e=e.child}return e;case 5:return FQ(e),t===null&&Oz(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Az(r,i)?a=null:o!==null&&Az(r,o)&&(e.flags|=32),cee(t,e),$l(t,e,a,n),e.child;case 6:return t===null&&Oz(e),null;case 13:return dee(t,e,n);case 4:return k5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hb(e,null,r,n):$l(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yd(r,i),DW(t,e,r,i,n);case 7:return $l(t,e,e.pendingProps,n),e.child;case 8:return $l(t,e,e.pendingProps.children,n),e.child;case 12:return $l(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,po(dP,r._currentValue),r._currentValue=a,o!==null)if(hf(o.value,a)){if(o.children===i.children&&!wc.current){e=Wp(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Dp(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lz(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(hn(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Lz(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}$l(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Y_(e,n),i=ud(i),r=r(i),e.flags|=1,$l(t,e,r,n),e.child;case 14:return r=e.type,i=Yd(r,e.pendingProps),i=Yd(r.type,i),NW(t,e,r,i,n);case 15:return aee(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yd(r,i),_A(t,e),e.tag=1,Sc(r)?(t=!0,lP(e)):t=!1,Y_(e,n),NQ(e,r,i),Nz(e,r,i,n),Fz(null,e,r,!0,t,n);case 19:return fee(t,e,n);case 22:return lee(t,e,n)}throw Error(hn(156,e.tag))};function Aee(t,e){return eQ(t,e)}function Xme(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function td(t,e,n,r){return new Xme(t,e,n,r)}function G5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kme(t){if(typeof t=="function")return G5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===d5)return 11;if(t===f5)return 14}return 2}function Hg(t,e){var n=t.alternate;return n===null?(n=td(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function SA(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")G5(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case p_:return u0(n.children,i,o,e);case u5:a=8,i|=8;break;case sz:return t=td(12,n,e,i|2),t.elementType=sz,t.lanes=o,t;case az:return t=td(13,n,e,i),t.elementType=az,t.lanes=o,t;case lz:return t=td(19,n,e,i),t.elementType=lz,t.lanes=o,t;case zJ:return vk(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DJ:a=10;break e;case NJ:a=9;break e;case d5:a=11;break e;case f5:a=14;break e;case xg:a=16,r=null;break e}throw Error(hn(130,t==null?t:typeof t,""))}return e=td(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function u0(t,e,n,r){return t=td(7,t,r,e),t.lanes=n,t}function vk(t,e,n,r){return t=td(22,t,r,e),t.elementType=zJ,t.lanes=n,t.stateNode={isHidden:!1},t}function hD(t,e,n){return t=td(6,t,null,e),t.lanes=n,t}function pD(t,e,n){return e=td(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zme(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=YL(0),this.expirationTimes=YL(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=YL(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function q5(t,e,n,r,i,o,a,s,l){return t=new Zme(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=td(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},I5(o),t}function Jme(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h_,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Pee(t){if(!t)return iy;t=t._reactInternals;e:{if(V0(t)!==t||t.tag!==1)throw Error(hn(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sc(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(hn(171))}if(t.tag===1){var n=t.type;if(Sc(n))return AQ(t,n,e)}return e}function Iee(t,e,n,r,i,o,a,s,l){return t=q5(n,r,!0,t,i,o,a,s,l),t.context=Pee(null),n=t.current,r=Gl(),i=Wg(n),o=Dp(r,i),o.callback=e??null,Ug(n,o,i),t.current.lanes=i,X2(t,i,r),Mc(t,r),t}function xk(t,e,n,r){var i=e.current,o=Gl(),a=Wg(i);return n=Pee(n),e.context===null?e.context=n:e.pendingContext=n,e=Dp(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ug(i,e,a),t!==null&&(df(t,i,a,o),yA(t,i,a)),a}function bP(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YW(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Y5(t,e){YW(t,e),(t=t.alternate)&&YW(t,e)}function Qme(){return null}var kee=typeof reportError=="function"?reportError:function(t){console.error(t)};function X5(t){this._internalRoot=t}_k.prototype.render=X5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(hn(409));xk(t,e,null,null)};_k.prototype.unmount=X5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;A0(function(){xk(null,t,null,null)}),e[Up]=null}};function _k(t){this._internalRoot=t}_k.prototype.unstable_scheduleHydration=function(t){if(t){var e=aQ();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sg.length&&e!==0&&e<Sg[n].priority;n++);Sg.splice(n,0,t),n===0&&cQ(t)}};function K5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function XW(){}function ege(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=bP(a);o.call(c)}}var a=Iee(e,r,t,0,null,!1,!1,"",XW);return t._reactRootContainer=a,t[Up]=a.current,fM(t.nodeType===8?t.parentNode:t),A0(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=bP(l);s.call(c)}}var l=q5(t,0,!1,null,null,!1,!1,"",XW);return t._reactRootContainer=l,t[Up]=l.current,fM(t.nodeType===8?t.parentNode:t),A0(function(){xk(e,l,n,r)}),l}function wk(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=bP(a);s.call(l)}}xk(e,a,t,i)}else a=ege(n,e,t,i,r);return bP(a)}oQ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mS(e.pendingLanes);n!==0&&(m5(e,n|1),Mc(e,_s()),!(di&6)&&(gb=_s()+500,my()))}break;case 13:A0(function(){var r=Vp(t,1);if(r!==null){var i=Gl();df(r,t,1,i)}}),Y5(t,1)}};g5=function(t){if(t.tag===13){var e=Vp(t,134217728);if(e!==null){var n=Gl();df(e,t,134217728,n)}Y5(t,134217728)}};sQ=function(t){if(t.tag===13){var e=Wg(t),n=Vp(t,e);if(n!==null){var r=Gl();df(n,t,e,r)}Y5(t,e)}};aQ=function(){return Bi};lQ=function(t,e){var n=Bi;try{return Bi=t,e()}finally{Bi=n}};vz=function(t,e,n){switch(e){case"input":if(dz(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fk(r);if(!i)throw Error(hn(90));FJ(r),dz(r,i)}}}break;case"textarea":jJ(t,n);break;case"select":e=n.value,e!=null&&W_(t,!!n.multiple,e,!1)}};YJ=V5;XJ=A0;var tge={usingClientEntryPoint:!1,Events:[Z2,v_,fk,GJ,qJ,V5]},Mw={findFiberByHostInstance:qv,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nge={bundleType:Mw.bundleType,version:Mw.version,rendererPackageName:Mw.rendererPackageName,rendererConfig:Mw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rm.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JJ(t),t===null?null:t.stateNode},findFiberByHostInstance:Mw.findFiberByHostInstance||Qme,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var IT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!IT.isDisabled&&IT.supportsFiber)try{lk=IT.inject(nge),gh=IT}catch{}}_u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tge;_u.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K5(e))throw Error(hn(200));return Jme(t,e,null,n)};_u.createRoot=function(t,e){if(!K5(t))throw Error(hn(299));var n=!1,r="",i=kee;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=q5(t,1,!1,null,null,n,!1,r,i),t[Up]=e.current,fM(t.nodeType===8?t.parentNode:t),new X5(e)};_u.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(hn(188)):(t=Object.keys(t).join(","),Error(hn(268,t)));return t=JJ(e),t=t===null?null:t.stateNode,t};_u.flushSync=function(t){return A0(t)};_u.hydrate=function(t,e,n){if(!bk(e))throw Error(hn(200));return wk(null,t,e,!0,n)};_u.hydrateRoot=function(t,e,n){if(!K5(t))throw Error(hn(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=kee;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Iee(e,null,t,1,n??null,i,!1,o,a),t[Up]=e.current,fM(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _k(e)};_u.render=function(t,e,n){if(!bk(e))throw Error(hn(200));return wk(null,t,e,!1,n)};_u.unmountComponentAtNode=function(t){if(!bk(t))throw Error(hn(40));return t._reactRootContainer?(A0(function(){wk(null,null,t,!1,function(){t._reactRootContainer=null,t[Up]=null})}),!0):!1};_u.unstable_batchedUpdates=V5;_u.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bk(n))throw Error(hn(200));if(t==null||t._reactInternals===void 0)throw Error(hn(38));return wk(t,e,n,!1,r)};_u.version="18.2.0-next-9e3b772b8-20220608";function Ree(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ree)}catch(t){console.error(t)}}Ree(),IJ.exports=_u;var gy=IJ.exports;const kT=bi(gy);var Oee,KW=gy;Oee=KW.createRoot,KW.hydrateRoot;/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bM(){return bM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bM.apply(this,arguments)}var Ig;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ig||(Ig={}));const ZW="popstate";function rge(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return Zz("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Lee(i)}return oge(e,n,null,t)}function na(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Z5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ige(){return Math.random().toString(36).substr(2,8)}function JW(t,e){return{usr:t.state,key:t.key,idx:e}}function Zz(t,e,n,r){return n===void 0&&(n=null),bM({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?l1(e):e,{state:n,key:e&&e.key||r||ige()})}function Lee(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function l1(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oge(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Ig.Pop,l=null,c=h();c==null&&(c=0,a.replaceState(bM({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function p(){s=Ig.Pop;let S=h(),w=S==null?null:S-c;c=S,l&&l({action:s,location:_.location,delta:w})}function g(S,w){s=Ig.Push;let C=Zz(_.location,S,w);n&&n(C,S),c=h()+1;let T=JW(C,c),k=_.createHref(C);try{a.pushState(T,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(k)}o&&l&&l({action:s,location:_.location,delta:1})}function v(S,w){s=Ig.Replace;let C=Zz(_.location,S,w);n&&n(C,S),c=h();let T=JW(C,c),k=_.createHref(C);a.replaceState(T,"",k),o&&l&&l({action:s,location:_.location,delta:0})}function x(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof S=="string"?S:Lee(S);return na(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let _={get action(){return s},get location(){return t(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ZW,p),l=S,()=>{i.removeEventListener(ZW,p),l=null}},createHref(S){return e(i,S)},createURL:x,encodeLocation(S){let w=x(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:v,go(S){return a.go(S)}};return _}var QW;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(QW||(QW={}));function sge(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?l1(e):e,i=zee(r.pathname||"/",n);if(i==null)return null;let o=Dee(t);age(o);let a=null;for(let s=0;a==null&&s<o.length;++s)a=gge(o[s],xge(i));return a}function Dee(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(na(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=d0([r,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(na(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Dee(o.children,e,h,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:pge(c,o.index),routesMeta:h})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of Nee(o.path))i(o,a,l)}),e}function Nee(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Nee(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function age(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mge(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lge=/^:\w+$/,cge=3,uge=2,dge=1,fge=10,hge=-2,eH=t=>t==="*";function pge(t,e){let n=t.split("/"),r=n.length;return n.some(eH)&&(r+=hge),e&&(r+=uge),n.filter(i=>!eH(i)).reduce((i,o)=>i+(lge.test(o)?cge:o===""?dge:fge),r)}function mge(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gge(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let a=0;a<n.length;++a){let s=n[a],l=a===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=yge({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!h)return null;Object.assign(r,h.params);let p=s.route;o.push({params:r,pathname:d0([i,h.pathname]),pathnameBase:Tge(d0([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=d0([i,h.pathnameBase]))}return o}function yge(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vge(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,h,p)=>{let{paramName:g,isOptional:v}=h;if(g==="*"){let _=s[p]||"";a=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const x=s[p];return v&&!x?c[g]=void 0:c[g]=_ge(x||"",g),c},{}),pathname:o,pathnameBase:a,pattern:t}}function vge(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Z5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xge(t){try{return decodeURI(t)}catch(e){return Z5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _ge(t,e){try{return decodeURIComponent(t)}catch(n){return Z5(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function zee(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bge(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?l1(t):t;return{pathname:n?n.startsWith("/")?n:wge(n,e):e,search:Cge(r),hash:Age(i)}}function wge(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mD(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sge(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mge(t,e){let n=Sge(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ege(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=l1(t):(i=bM({},t),na(!i.pathname||!i.pathname.includes("?"),mD("?","pathname","search",i)),na(!i.pathname||!i.pathname.includes("#"),mD("#","pathname","hash",i)),na(!i.search||!i.search.includes("#"),mD("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else if(r){let p=e.length===0?[]:e[e.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p.pop();i.pathname=g.join("/")}s="/"+p.join("/")}else{let p=e.length-1;if(a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}s=p>=0?e[p]:"/"}let l=bge(i,s),c=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const d0=t=>t.join("/").replace(/\/\/+/g,"/"),Tge=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Cge=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Age=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Pge(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bee=["post","put","patch","delete"];new Set(Bee);const Ige=["get",...Bee];new Set(Ige);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wM(){return wM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wM.apply(this,arguments)}const J5=V.createContext(null),kge=V.createContext(null),Sk=V.createContext(null),Mk=V.createContext(null),yy=V.createContext({outlet:null,matches:[],isDataRoute:!1}),Fee=V.createContext(null);function Ek(){return V.useContext(Mk)!=null}function Tk(){return Ek()||na(!1),V.useContext(Mk).location}function $ee(t){V.useContext(Sk).static||V.useLayoutEffect(t)}function Oh(){let{isDataRoute:t}=V.useContext(yy);return t?Gge():Rge()}function Rge(){Ek()||na(!1);let t=V.useContext(J5),{basename:e,future:n,navigator:r}=V.useContext(Sk),{matches:i}=V.useContext(yy),{pathname:o}=Tk(),a=JSON.stringify(Mge(i,n.v7_relativeSplatPath)),s=V.useRef(!1);return $ee(()=>{s.current=!0}),V.useCallback(function(c,h){if(h===void 0&&(h={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let p=Ege(c,JSON.parse(a),o,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:d0([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,o,t])}const Oge=V.createContext(null);function Lge(t){let e=V.useContext(yy).outlet;return e&&V.createElement(Oge.Provider,{value:t},e)}function jee(){let{matches:t}=V.useContext(yy),e=t[t.length-1];return e?e.params:{}}function Dge(t,e){return Nge(t,e)}function Nge(t,e,n,r){Ek()||na(!1);let{navigator:i}=V.useContext(Sk),{matches:o}=V.useContext(yy),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Tk(),h;if(e){var p;let S=typeof e=="string"?l1(e):e;l==="/"||(p=S.pathname)!=null&&p.startsWith(l)||na(!1),h=S}else h=c;let g=h.pathname||"/",v=l==="/"?g:g.slice(l.length)||"/",x=sge(t,{pathname:v}),_=jge(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},s,S.params),pathname:d0([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:d0([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return e&&_?V.createElement(Mk.Provider,{value:{location:wM({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ig.Pop}},_):_}function zge(){let t=Hge(),e=Pge(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,o)}const Bge=V.createElement(zge,null);class Fge extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(yy.Provider,{value:this.props.routeContext},V.createElement(Fee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $ge(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(J5);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(yy.Provider,{value:e},r)}function jge(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let h=a.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id]));h>=0||na(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.loader&&p.route.id&&n.loaderData[p.route.id]===void 0&&(!n.errors||n.errors[p.route.id]===void 0)){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}return a.reduceRight((h,p,g)=>{let v,x=!1,_=null,S=null;n&&(v=s&&p.route.id?s[p.route.id]:void 0,_=p.route.errorElement||Bge,l&&(c<0&&g===0?(qge("route-fallback",!1),x=!0,S=null):c===g&&(x=!0,S=p.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,g+1)),C=()=>{let T;return v?T=_:x?T=S:p.route.Component?T=V.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=h,V.createElement($ge,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?V.createElement(Fge,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var Uee=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Uee||{}),wP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wP||{});function Uge(t){let e=V.useContext(J5);return e||na(!1),e}function Vge(t){let e=V.useContext(kge);return e||na(!1),e}function Wge(t){let e=V.useContext(yy);return e||na(!1),e}function Vee(t){let e=Wge(),n=e.matches[e.matches.length-1];return n.route.id||na(!1),n.route.id}function Hge(){var t;let e=V.useContext(Fee),n=Vge(wP.UseRouteError),r=Vee(wP.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Gge(){let{router:t}=Uge(Uee.UseNavigateStable),e=Vee(wP.UseNavigateStable),n=V.useRef(!1);return $ee(()=>{n.current=!0}),V.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,wM({fromRouteId:e},o)))},[t,e])}const tH={};function qge(t,e,n){!e&&!tH[t]&&(tH[t]=!0)}function Yge(t){return Lge(t.context)}function Nl(t){na(!1)}function Xge(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ig.Pop,navigator:o,static:a=!1,future:s}=t;Ek()&&na(!1);let l=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:o,static:a,future:wM({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=l1(r));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:x="default"}=r,_=V.useMemo(()=>{let S=zee(h,l);return S==null?null:{location:{pathname:S,search:p,hash:g,state:v,key:x},navigationType:i}},[l,h,p,g,v,x,i]);return _==null?null:V.createElement(Sk.Provider,{value:c},V.createElement(Mk.Provider,{children:n,value:_}))}function Kge(t){let{children:e,location:n}=t;return Dge(Jz(e),n)}new Promise(()=>{});function Jz(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let o=[...e,i];if(r.type===V.Fragment){n.push.apply(n,Jz(r.props.children,o));return}r.type!==Nl&&na(!1),!r.props.index||!r.props.children||na(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Jz(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Zge="startTransition",nH=ZA[Zge];function Jge(t){let{basename:e,children:n,future:r,window:i}=t,o=V.useRef();o.current==null&&(o.current=rge({window:i,v5Compat:!0}));let a=o.current,[s,l]=V.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},h=V.useCallback(p=>{c&&nH?nH(()=>l(p)):l(p)},[l,c]);return V.useLayoutEffect(()=>a.listen(h),[a,h]),V.createElement(Xge,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var rH;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rH||(rH={}));var iH;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iH||(iH={}));var Wee={exports:{}},Hee={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=V;function Qge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eye=typeof Object.is=="function"?Object.is:Qge,tye=yb.useState,nye=yb.useEffect,rye=yb.useLayoutEffect,iye=yb.useDebugValue;function oye(t,e){var n=e(),r=tye({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return rye(function(){i.value=n,i.getSnapshot=e,gD(i)&&o({inst:i})},[t,n,e]),nye(function(){return gD(i)&&o({inst:i}),t(function(){gD(i)&&o({inst:i})})},[t]),iye(n),n}function gD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!eye(t,n)}catch{return!0}}function sye(t,e){return e()}var aye=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sye:oye;Hee.useSyncExternalStore=yb.useSyncExternalStore!==void 0?yb.useSyncExternalStore:aye;Wee.exports=Hee;var Gee=Wee.exports,qee={exports:{}},Yee={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ck=V,lye=Gee;function cye(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uye=typeof Object.is=="function"?Object.is:cye,dye=lye.useSyncExternalStore,fye=Ck.useRef,hye=Ck.useEffect,pye=Ck.useMemo,mye=Ck.useDebugValue;Yee.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=fye(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=pye(function(){function l(v){if(!c){if(c=!0,h=v,v=r(v),i!==void 0&&a.hasValue){var x=a.value;if(i(x,v))return p=x}return p=v}if(x=p,uye(h,v))return x;var _=r(v);return i!==void 0&&i(x,_)?x:(h=v,p=_)}var c=!1,h,p,g=n===void 0?null:n;return[function(){return l(e())},g===null?void 0:function(){return l(g())}]},[e,n,r,i]);var s=dye(t,o[0],o[1]);return hye(function(){a.hasValue=!0,a.value=s},[s]),mye(s),s};qee.exports=Yee;var gye=qee.exports;function yye(t){t()}let Xee=yye;const vye=t=>Xee=t,xye=()=>Xee,oH=Symbol.for("react-redux-context"),sH=typeof globalThis<"u"?globalThis:{};function _ye(){var t;if(!V.createContext)return{};const e=(t=sH[oH])!=null?t:sH[oH]=new Map;let n=e.get(V.createContext);return n||(n=V.createContext(null),e.set(V.createContext,n)),n}const Hp=_ye();function Q5(t=Hp){return function(){return V.useContext(t)}}const Kee=Q5(),Zee=()=>{throw new Error("uSES not initialized!")};let Jee=Zee;const bye=t=>{Jee=t},wye=(t,e)=>t===e;function Sye(t=Hp){const e=t===Hp?Kee:Q5(t);return function(r,i={}){const{equalityFn:o=wye,stabilityCheck:a=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:c,getServerState:h,stabilityCheck:p,noopCheck:g}=e();V.useRef(!0);const v=V.useCallback({[r.name](_){return r(_)}}[r.name],[r,p,a]),x=Jee(c.addNestedSub,l.getState,h||l.getState,v,o);return V.useDebugValue(x),x}}const xr=Sye();function de(){return de=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},de.apply(this,arguments)}function rn(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Qee={exports:{}},Fi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=typeof Symbol=="function"&&Symbol.for,e$=ma?Symbol.for("react.element"):60103,t$=ma?Symbol.for("react.portal"):60106,Ak=ma?Symbol.for("react.fragment"):60107,Pk=ma?Symbol.for("react.strict_mode"):60108,Ik=ma?Symbol.for("react.profiler"):60114,kk=ma?Symbol.for("react.provider"):60109,Rk=ma?Symbol.for("react.context"):60110,n$=ma?Symbol.for("react.async_mode"):60111,Ok=ma?Symbol.for("react.concurrent_mode"):60111,Lk=ma?Symbol.for("react.forward_ref"):60112,Dk=ma?Symbol.for("react.suspense"):60113,Mye=ma?Symbol.for("react.suspense_list"):60120,Nk=ma?Symbol.for("react.memo"):60115,zk=ma?Symbol.for("react.lazy"):60116,Eye=ma?Symbol.for("react.block"):60121,Tye=ma?Symbol.for("react.fundamental"):60117,Cye=ma?Symbol.for("react.responder"):60118,Aye=ma?Symbol.for("react.scope"):60119;function wu(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case e$:switch(t=t.type,t){case n$:case Ok:case Ak:case Ik:case Pk:case Dk:return t;default:switch(t=t&&t.$$typeof,t){case Rk:case Lk:case zk:case Nk:case kk:return t;default:return e}}case t$:return e}}}function ete(t){return wu(t)===Ok}Fi.AsyncMode=n$;Fi.ConcurrentMode=Ok;Fi.ContextConsumer=Rk;Fi.ContextProvider=kk;Fi.Element=e$;Fi.ForwardRef=Lk;Fi.Fragment=Ak;Fi.Lazy=zk;Fi.Memo=Nk;Fi.Portal=t$;Fi.Profiler=Ik;Fi.StrictMode=Pk;Fi.Suspense=Dk;Fi.isAsyncMode=function(t){return ete(t)||wu(t)===n$};Fi.isConcurrentMode=ete;Fi.isContextConsumer=function(t){return wu(t)===Rk};Fi.isContextProvider=function(t){return wu(t)===kk};Fi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===e$};Fi.isForwardRef=function(t){return wu(t)===Lk};Fi.isFragment=function(t){return wu(t)===Ak};Fi.isLazy=function(t){return wu(t)===zk};Fi.isMemo=function(t){return wu(t)===Nk};Fi.isPortal=function(t){return wu(t)===t$};Fi.isProfiler=function(t){return wu(t)===Ik};Fi.isStrictMode=function(t){return wu(t)===Pk};Fi.isSuspense=function(t){return wu(t)===Dk};Fi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ak||t===Ok||t===Ik||t===Pk||t===Dk||t===Mye||typeof t=="object"&&t!==null&&(t.$$typeof===zk||t.$$typeof===Nk||t.$$typeof===kk||t.$$typeof===Rk||t.$$typeof===Lk||t.$$typeof===Tye||t.$$typeof===Cye||t.$$typeof===Aye||t.$$typeof===Eye)};Fi.typeOf=wu;Qee.exports=Fi;var Pye=Qee.exports,r$=Pye,Iye={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kye={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Rye={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tte={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i$={};i$[r$.ForwardRef]=Rye;i$[r$.Memo]=tte;function aH(t){return r$.isMemo(t)?tte:i$[t.$$typeof]||Iye}var Oye=Object.defineProperty,Lye=Object.getOwnPropertyNames,lH=Object.getOwnPropertySymbols,Dye=Object.getOwnPropertyDescriptor,Nye=Object.getPrototypeOf,cH=Object.prototype;function nte(t,e,n){if(typeof e!="string"){if(cH){var r=Nye(e);r&&r!==cH&&nte(t,r,n)}var i=Lye(e);lH&&(i=i.concat(lH(e)));for(var o=aH(t),a=aH(e),s=0;s<i.length;++s){var l=i[s];if(!kye[l]&&!(n&&n[l])&&!(a&&a[l])&&!(o&&o[l])){var c=Dye(e,l);try{Oye(t,l,c)}catch{}}}}return t}var zye=nte;const uH=bi(zye);var rte={exports:{}},$i={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o$=Symbol.for("react.element"),s$=Symbol.for("react.portal"),Bk=Symbol.for("react.fragment"),Fk=Symbol.for("react.strict_mode"),$k=Symbol.for("react.profiler"),jk=Symbol.for("react.provider"),Uk=Symbol.for("react.context"),Bye=Symbol.for("react.server_context"),Vk=Symbol.for("react.forward_ref"),Wk=Symbol.for("react.suspense"),Hk=Symbol.for("react.suspense_list"),Gk=Symbol.for("react.memo"),qk=Symbol.for("react.lazy"),Fye=Symbol.for("react.offscreen"),ite;ite=Symbol.for("react.module.reference");function yd(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o$:switch(t=t.type,t){case Bk:case $k:case Fk:case Wk:case Hk:return t;default:switch(t=t&&t.$$typeof,t){case Bye:case Uk:case Vk:case qk:case Gk:case jk:return t;default:return e}}case s$:return e}}}$i.ContextConsumer=Uk;$i.ContextProvider=jk;$i.Element=o$;$i.ForwardRef=Vk;$i.Fragment=Bk;$i.Lazy=qk;$i.Memo=Gk;$i.Portal=s$;$i.Profiler=$k;$i.StrictMode=Fk;$i.Suspense=Wk;$i.SuspenseList=Hk;$i.isAsyncMode=function(){return!1};$i.isConcurrentMode=function(){return!1};$i.isContextConsumer=function(t){return yd(t)===Uk};$i.isContextProvider=function(t){return yd(t)===jk};$i.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o$};$i.isForwardRef=function(t){return yd(t)===Vk};$i.isFragment=function(t){return yd(t)===Bk};$i.isLazy=function(t){return yd(t)===qk};$i.isMemo=function(t){return yd(t)===Gk};$i.isPortal=function(t){return yd(t)===s$};$i.isProfiler=function(t){return yd(t)===$k};$i.isStrictMode=function(t){return yd(t)===Fk};$i.isSuspense=function(t){return yd(t)===Wk};$i.isSuspenseList=function(t){return yd(t)===Hk};$i.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bk||t===$k||t===Fk||t===Wk||t===Hk||t===Fye||typeof t=="object"&&t!==null&&(t.$$typeof===qk||t.$$typeof===Gk||t.$$typeof===jk||t.$$typeof===Uk||t.$$typeof===Vk||t.$$typeof===ite||t.getModuleId!==void 0)};$i.typeOf=yd;rte.exports=$i;var Qz=rte.exports;const $ye=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function jye(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:a}){let s=!1,l,c,h,p,g;function v(C,T){return l=C,c=T,h=t(l,c),p=e(r,c),g=n(h,p,c),s=!0,g}function x(){return h=t(l,c),e.dependsOnOwnProps&&(p=e(r,c)),g=n(h,p,c),g}function _(){return t.dependsOnOwnProps&&(h=t(l,c)),e.dependsOnOwnProps&&(p=e(r,c)),g=n(h,p,c),g}function S(){const C=t(l,c),T=!a(C,h);return h=C,T&&(g=n(h,p,c)),g}function w(C,T){const k=!o(T,c),R=!i(C,l,T,c);return l=C,c=T,k&&R?x():k?_():R?S():g}return function(T,k){return s?w(T,k):v(T,k)}}function Uye(t,e){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=e,o=rn(e,$ye);const a=n(t,o),s=r(t,o),l=i(t,o);return jye(a,s,l,t,o)}function Vye(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function eB(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function dH(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function ote(t,e){return function(r,{displayName:i}){const o=function(s,l){return o.dependsOnOwnProps?o.mapToProps(s,l):o.mapToProps(s,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(s,l){o.mapToProps=t,o.dependsOnOwnProps=dH(t);let c=o(s,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=dH(c),c=o(s,l)),c},o}}function a$(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function Wye(t){return t&&typeof t=="object"?eB(e=>Vye(t,e)):t?typeof t=="function"?ote(t):a$(t,"mapDispatchToProps"):eB(e=>({dispatch:e}))}function Hye(t){return t?typeof t=="function"?ote(t):a$(t,"mapStateToProps"):eB(()=>({}))}function Gye(t,e,n){return de({},n,t,e)}function qye(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,a;return function(l,c,h){const p=t(l,c,h);return o?i(p,a)||(a=p):(o=!0,a=p),a}}}function Yye(t){return t?typeof t=="function"?qye(t):a$(t,"mergeProps"):()=>Gye}function Xye(){const t=xye();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const fH={notify(){},get:()=>[]};function ste(t,e){let n,r=fH,i=0,o=!1;function a(_){h();const S=r.subscribe(_);let w=!1;return()=>{w||(w=!0,S(),p())}}function s(){r.notify()}function l(){x.onStateChange&&x.onStateChange()}function c(){return o}function h(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=Xye())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fH)}function g(){o||(o=!0,h())}function v(){o&&(o=!1,p())}const x={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return x}const Kye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SP=Kye?V.useLayoutEffect:V.useEffect;function hH(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function yD(t,e){if(hH(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!hH(t[n[i]],e[n[i]]))return!1;return!0}const Zye=["reactReduxForwardedRef"];let ate=Zee;const Jye=t=>{ate=t},Qye=[null,null];function eve(t,e,n){SP(()=>t(...e),n)}function tve(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function nve(t,e,n,r,i,o,a,s,l,c,h){if(!t)return()=>{};let p=!1,g=null;const v=()=>{if(p||!s.current)return;const _=e.getState();let S,w;try{S=r(_,i.current)}catch(C){w=C,g=C}w||(g=null),S===o.current?a.current||c():(o.current=S,l.current=S,a.current=!0,h())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function rve(t,e){return t===e}function ive(t,e,n,{pure:r,areStatesEqual:i=rve,areOwnPropsEqual:o=yD,areStatePropsEqual:a=yD,areMergedPropsEqual:s=yD,forwardRef:l=!1,context:c=Hp}={}){const h=c,p=Hye(t),g=Wye(e),v=Yye(n),x=!!t;return S=>{const w=S.displayName||S.name||"Component",C=`Connect(${w})`,T={shouldHandleStateChanges:x,displayName:C,wrappedComponentName:w,WrappedComponent:S,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:o,areMergedPropsEqual:s};function k(F){const[H,Z,j]=V.useMemo(()=>{const{reactReduxForwardedRef:ge}=F,et=rn(F,Zye);return[F.context,ge,et]},[F]),X=V.useMemo(()=>H&&H.Consumer&&Qz.isContextConsumer(V.createElement(H.Consumer,null))?H:h,[H,h]),le=V.useContext(X),me=!!F.store&&!!F.store.getState&&!!F.store.dispatch,ie=!!le&&!!le.store,ce=me?F.store:le.store,fe=ie?le.getServerState:ce.getState,xe=V.useMemo(()=>Uye(ce.dispatch,T),[ce]),[te,he]=V.useMemo(()=>{if(!x)return Qye;const ge=ste(ce,me?void 0:le.subscription),et=ge.notifyNestedSubs.bind(ge);return[ge,et]},[ce,me,le]),ve=V.useMemo(()=>me?le:de({},le,{subscription:te}),[me,le,te]),ze=V.useRef(),Ue=V.useRef(j),rt=V.useRef(),Fe=V.useRef(!1);V.useRef(!1);const st=V.useRef(!1),ct=V.useRef();SP(()=>(st.current=!0,()=>{st.current=!1}),[]);const Dt=V.useMemo(()=>()=>rt.current&&j===Ue.current?rt.current:xe(ce.getState(),j),[ce,j]),zt=V.useMemo(()=>et=>te?nve(x,ce,te,xe,Ue,ze,Fe,st,rt,he,et):()=>{},[te]);eve(tve,[Ue,ze,Fe,j,rt,he]);let Be;try{Be=ate(zt,Dt,fe?()=>xe(fe(),j):Dt)}catch(ge){throw ct.current&&(ge.message+=`
The error may be correlated with this previous error:
${ct.current.stack}

`),ge}SP(()=>{ct.current=void 0,rt.current=void 0,ze.current=Be});const lt=V.useMemo(()=>V.createElement(S,de({},Be,{ref:Z})),[Z,S,Be]);return V.useMemo(()=>x?V.createElement(X.Provider,{value:ve},lt):lt,[X,lt,ve])}const L=V.memo(k);if(L.WrappedComponent=S,L.displayName=k.displayName=C,l){const H=V.forwardRef(function(j,X){return V.createElement(L,de({},j,{reactReduxForwardedRef:X}))});return H.displayName=C,H.WrappedComponent=S,uH(H,S)}return uH(L,S)}}function ove({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const a=V.useMemo(()=>{const c=ste(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[t,r,i,o]),s=V.useMemo(()=>t.getState(),[t]);SP(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=e||Hp;return V.createElement(l.Provider,{value:a},n)}function lte(t=Hp){const e=t===Hp?Kee:Q5(t);return function(){const{store:r}=e();return r}}const sve=lte();function ave(t=Hp){const e=t===Hp?sve:lte(t);return function(){return e().dispatch}}const Zl=ave();bye(gye.useSyncExternalStoreWithSelector);Jye(Gee.useSyncExternalStore);vye(gy.unstable_batchedUpdates);function of(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function oy(t){return!!t&&!!t[Io]}function Gp(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===gve}(t)||Array.isArray(t)||!!t[_H]||!!(!((e=t.constructor)===null||e===void 0)&&e[_H])||l$(t)||c$(t))}function P0(t,e,n){n===void 0&&(n=!1),c1(t)===0?(n?Object.keys:Z_)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function c1(t){var e=t[Io];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:l$(t)?2:c$(t)?3:0}function K_(t,e){return c1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function lve(t,e){return c1(t)===2?t.get(e):t[e]}function cte(t,e,n){var r=c1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function ute(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function l$(t){return pve&&t instanceof Map}function c$(t){return mve&&t instanceof Set}function Ov(t){return t.o||t.t}function u$(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=fte(t);delete e[Io];for(var n=Z_(e),r=0;r<n.length;r++){var i=n[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function d$(t,e){return e===void 0&&(e=!1),f$(t)||oy(t)||!Gp(t)||(c1(t)>1&&(t.set=t.add=t.clear=t.delete=cve),Object.freeze(t),e&&P0(t,function(n,r){return d$(r,!0)},!0)),t}function cve(){of(2)}function f$(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function vh(t){var e=iB[t];return e||of(18,t),e}function uve(t,e){iB[t]||(iB[t]=e)}function tB(){return SM}function vD(t,e){e&&(vh("Patches"),t.u=[],t.s=[],t.v=e)}function MP(t){nB(t),t.p.forEach(dve),t.p=null}function nB(t){t===SM&&(SM=t.l)}function pH(t){return SM={p:[],l:SM,h:t,m:!0,_:0}}function dve(t){var e=t[Io];e.i===0||e.i===1?e.j():e.g=!0}function xD(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||vh("ES5").S(e,t,r),r?(n[Io].P&&(MP(e),of(4)),Gp(t)&&(t=EP(e,t),e.l||TP(e,t)),e.u&&vh("Patches").M(n[Io].t,t,e.u,e.s)):t=EP(e,n,[]),MP(e),e.u&&e.v(e.u,e.s),t!==dte?t:void 0}function EP(t,e,n){if(f$(e))return e;var r=e[Io];if(!r)return P0(e,function(s,l){return mH(t,r,e,s,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return TP(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=u$(r.k):r.o,o=i,a=!1;r.i===3&&(o=new Set(i),i.clear(),a=!0),P0(o,function(s,l){return mH(t,r,i,s,l,n,a)}),TP(t,i,!1),n&&t.u&&vh("Patches").N(r,n,t.u,t.s)}return r.o}function mH(t,e,n,r,i,o,a){if(oy(i)){var s=EP(t,i,o&&e&&e.i!==3&&!K_(e.R,r)?o.concat(r):void 0);if(cte(n,r,s),!oy(s))return;t.m=!1}else a&&n.add(i);if(Gp(i)&&!f$(i)){if(!t.h.D&&t._<1)return;EP(t,i),e&&e.A.l||TP(t,i)}}function TP(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&d$(e,n)}function _D(t,e){var n=t[Io];return(n?Ov(n):t)[e]}function gH(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Eg(t){t.P||(t.P=!0,t.l&&Eg(t.l))}function bD(t){t.o||(t.o=u$(t.t))}function rB(t,e,n){var r=l$(e)?vh("MapSet").F(e,n):c$(e)?vh("MapSet").T(e,n):t.O?function(i,o){var a=Array.isArray(i),s={i:a?1:0,A:o?o.A:tB(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=s,c=MM;a&&(l=[s],c=yS);var h=Proxy.revocable(l,c),p=h.revoke,g=h.proxy;return s.k=g,s.j=p,g}(e,n):vh("ES5").J(e,n);return(n?n.A:tB()).p.push(r),r}function fve(t){return oy(t)||of(22,t),function e(n){if(!Gp(n))return n;var r,i=n[Io],o=c1(n);if(i){if(!i.P&&(i.i<4||!vh("ES5").K(i)))return i.t;i.I=!0,r=yH(n,o),i.I=!1}else r=yH(n,o);return P0(r,function(a,s){i&&lve(i.t,a)===s||cte(r,a,e(s))}),o===3?new Set(r):r}(t)}function yH(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return u$(t)}function hve(){function t(o,a){var s=i[o];return s?s.enumerable=a:i[o]=s={configurable:!0,enumerable:a,get:function(){var l=this[Io];return MM.get(l,o)},set:function(l){var c=this[Io];MM.set(c,o,l)}},s}function e(o){for(var a=o.length-1;a>=0;a--){var s=o[a][Io];if(!s.P)switch(s.i){case 5:r(s)&&Eg(s);break;case 4:n(s)&&Eg(s)}}}function n(o){for(var a=o.t,s=o.k,l=Z_(s),c=l.length-1;c>=0;c--){var h=l[c];if(h!==Io){var p=a[h];if(p===void 0&&!K_(a,h))return!0;var g=s[h],v=g&&g[Io];if(v?v.t!==p:!ute(g,p))return!0}}var x=!!a[Io];return l.length!==Z_(a).length+(x?0:1)}function r(o){var a=o.k;if(a.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var i={};uve("ES5",{J:function(o,a){var s=Array.isArray(o),l=function(h,p){if(h){for(var g=Array(p.length),v=0;v<p.length;v++)Object.defineProperty(g,""+v,t(v,!0));return g}var x=fte(p);delete x[Io];for(var _=Z_(x),S=0;S<_.length;S++){var w=_[S];x[w]=t(w,h||!!x[w].enumerable)}return Object.create(Object.getPrototypeOf(p),x)}(s,o),c={i:s?5:4,A:a?a.A:tB(),P:!1,I:!1,R:{},l:a,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Io,{value:c,writable:!0}),l},S:function(o,a,s){s?oy(a)&&a[Io].A===o&&e(o.p):(o.u&&function l(c){if(c&&typeof c=="object"){var h=c[Io];if(h){var p=h.t,g=h.k,v=h.R,x=h.i;if(x===4)P0(g,function(T){T!==Io&&(p[T]!==void 0||K_(p,T)?v[T]||l(g[T]):(v[T]=!0,Eg(h)))}),P0(p,function(T){g[T]!==void 0||K_(g,T)||(v[T]=!1,Eg(h))});else if(x===5){if(r(h)&&(Eg(h),v.length=!0),g.length<p.length)for(var _=g.length;_<p.length;_++)v[_]=!1;else for(var S=p.length;S<g.length;S++)v[S]=!0;for(var w=Math.min(g.length,p.length),C=0;C<w;C++)g.hasOwnProperty(C)||(v[C]=!0),v[C]===void 0&&l(g[C])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var vH,SM,h$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",pve=typeof Map<"u",mve=typeof Set<"u",xH=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",dte=h$?Symbol.for("immer-nothing"):((vH={})["immer-nothing"]=!0,vH),_H=h$?Symbol.for("immer-draftable"):"__$immer_draftable",Io=h$?Symbol.for("immer-state"):"__$immer_state",gve=""+Object.prototype.constructor,Z_=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,fte=Object.getOwnPropertyDescriptors||function(t){var e={};return Z_(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},iB={},MM={get:function(t,e){if(e===Io)return t;var n=Ov(t);if(!K_(n,e))return function(i,o,a){var s,l=gH(o,a);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Gp(r)?r:r===_D(t.t,e)?(bD(t),t.o[e]=rB(t.A.h,r,t)):r},has:function(t,e){return e in Ov(t)},ownKeys:function(t){return Reflect.ownKeys(Ov(t))},set:function(t,e,n){var r=gH(Ov(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=_D(Ov(t),e),o=i==null?void 0:i[Io];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(ute(n,i)&&(n!==void 0||K_(t.t,e)))return!0;bD(t),Eg(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return _D(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,bD(t),Eg(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ov(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){of(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){of(12)}},yS={};P0(MM,function(t,e){yS[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),yS.deleteProperty=function(t,e){return yS.set.call(this,t,e,void 0)},yS.set=function(t,e,n){return MM.set.call(this,t[0],e,n,t[0])};var yve=function(){function t(n){var r=this;this.O=xH,this.D=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var l=r;return function(_){var S=this;_===void 0&&(_=s);for(var w=arguments.length,C=Array(w>1?w-1:0),T=1;T<w;T++)C[T-1]=arguments[T];return l.produce(_,function(k){var R;return(R=o).call.apply(R,[S,k].concat(C))})}}var c;if(typeof o!="function"&&of(6),a!==void 0&&typeof a!="function"&&of(7),Gp(i)){var h=pH(r),p=rB(r,i,void 0),g=!0;try{c=o(p),g=!1}finally{g?MP(h):nB(h)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(_){return vD(h,a),xD(_,h)},function(_){throw MP(h),_}):(vD(h,a),xD(c,h))}if(!i||typeof i!="object"){if((c=o(i))===void 0&&(c=i),c===dte&&(c=void 0),r.D&&d$(c,!0),a){var v=[],x=[];vh("Patches").M(i,c,v,x),a(v,x)}return c}of(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(c){for(var h=arguments.length,p=Array(h>1?h-1:0),g=1;g<h;g++)p[g-1]=arguments[g];return r.produceWithPatches(c,function(v){return i.apply(void 0,[v].concat(p))})};var a,s,l=r.produce(i,o,function(c,h){a=c,s=h});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,a,s]}):[l,a,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Gp(n)||of(8),oy(n)&&(n=fve(n));var r=pH(this),i=rB(this,n,void 0);return i[Io].C=!0,nB(r),i},e.finishDraft=function(n,r){var i=n&&n[Io],o=i.A;return vD(o,r),xD(void 0,o)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!xH&&of(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var a=vh("Patches").$;return oy(n)?a(n,r):this.produce(n,function(s){return a(s,r)})},t}(),pu=new yve,hte=pu.produce;pu.produceWithPatches.bind(pu);pu.setAutoFreeze.bind(pu);pu.setUseProxies.bind(pu);pu.applyPatches.bind(pu);pu.createDraft.bind(pu);pu.finishDraft.bind(pu);function EM(t){"@babel/helpers - typeof";return EM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EM(t)}function vve(t,e){if(EM(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(EM(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pte(t){var e=vve(t,"string");return EM(e)=="symbol"?e:String(e)}function xve(t,e,n){return e=pte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bH(Object(n),!0).forEach(function(r){xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cl(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var SH=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wD=function(){return Math.random().toString(36).substring(7).split("").join(".")},CP={INIT:"@@redux/INIT"+wD(),REPLACE:"@@redux/REPLACE"+wD(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wD()}};function _ve(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function mte(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cl(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cl(1));return n(mte)(t,e)}if(typeof t!="function")throw new Error(cl(2));var i=t,o=e,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function h(){if(l)throw new Error(cl(3));return o}function p(_){if(typeof _!="function")throw new Error(cl(4));if(l)throw new Error(cl(5));var S=!0;return c(),s.push(_),function(){if(S){if(l)throw new Error(cl(6));S=!1,c();var C=s.indexOf(_);s.splice(C,1),a=null}}}function g(_){if(!_ve(_))throw new Error(cl(7));if(typeof _.type>"u")throw new Error(cl(8));if(l)throw new Error(cl(9));try{l=!0,o=i(o,_)}finally{l=!1}for(var S=a=s,w=0;w<S.length;w++){var C=S[w];C()}return _}function v(_){if(typeof _!="function")throw new Error(cl(10));i=_,g({type:CP.REPLACE})}function x(){var _,S=p;return _={subscribe:function(C){if(typeof C!="object"||C===null)throw new Error(cl(11));function T(){C.next&&C.next(h())}T();var k=S(T);return{unsubscribe:k}}},_[SH]=function(){return this},_}return g({type:CP.INIT}),r={dispatch:g,subscribe:p,getState:h,replaceReducer:v},r[SH]=x,r}function bve(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:CP.INIT});if(typeof r>"u")throw new Error(cl(12));if(typeof n(void 0,{type:CP.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cl(13))})}function gte(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),a;try{bve(n)}catch(s){a=s}return function(l,c){if(l===void 0&&(l={}),a)throw a;for(var h=!1,p={},g=0;g<o.length;g++){var v=o[g],x=n[v],_=l[v],S=x(_,c);if(typeof S>"u")throw c&&c.type,new Error(cl(14));p[v]=S,h=h||S!==_}return h=h||o.length!==Object.keys(l).length,h?p:l}}function AP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function wve(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(cl(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=e.map(function(l){return l(a)});return o=AP.apply(void 0,s)(i.dispatch),wH(wH({},i),{},{dispatch:o})}}}function yte(t){var e=function(r){var i=r.dispatch,o=r.getState;return function(a){return function(s){return typeof s=="function"?s(i,o,t):a(s)}}};return e}var vte=yte();vte.withExtraArgument=yte;const MH=vte;var xte=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sve=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},vb=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Mve=Object.defineProperty,Eve=Object.defineProperties,Tve=Object.getOwnPropertyDescriptors,EH=Object.getOwnPropertySymbols,Cve=Object.prototype.hasOwnProperty,Ave=Object.prototype.propertyIsEnumerable,TH=function(t,e,n){return e in t?Mve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Gg=function(t,e){for(var n in e||(e={}))Cve.call(e,n)&&TH(t,n,e[n]);if(EH)for(var r=0,i=EH(e);r<i.length;r++){var n=i[r];Ave.call(e,n)&&TH(t,n,e[n])}return t},SD=function(t,e){return Eve(t,Tve(e))},Pve=function(t,e,n){return new Promise(function(r,i){var o=function(l){try{s(n.next(l))}catch(c){i(c)}},a=function(l){try{s(n.throw(l))}catch(c){i(c)}},s=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,a)};s((n=n.apply(t,e)).next())})},Ive=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?AP:AP.apply(null,arguments)};function kve(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function qg(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var o=e.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Gg(Gg({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var Rve=function(t){xte(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,vb([void 0],n[0].concat(this)))):new(e.bind.apply(e,vb([void 0],n.concat(this))))},e}(Array),Ove=function(t){xte(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,vb([void 0],n[0].concat(this)))):new(e.bind.apply(e,vb([void 0],n.concat(this))))},e}(Array);function oB(t){return Gp(t)?hte(t,function(){}):t}function Lve(t){return typeof t=="boolean"}function Dve(){return function(e){return Nve(e)}}function Nve(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new Rve;return n&&(Lve(n)?r.push(MH):r.push(MH.withExtraArgument(n.extraArgument))),r}var zve=!0;function Bve(t){var e=Dve(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,a=o===void 0?e():o,s=n.devTools,l=s===void 0?!0:s,c=n.preloadedState,h=c===void 0?void 0:c,p=n.enhancers,g=p===void 0?void 0:p,v;if(typeof i=="function")v=i;else if(kve(i))v=gte(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var x=a;typeof x=="function"&&(x=x(e));var _=wve.apply(void 0,x),S=AP;l&&(S=Ive(Gg({trace:!zve},typeof l=="object"&&l)));var w=new Ove(_),C=w;Array.isArray(g)?C=vb([_],g):typeof g=="function"&&(C=g(w));var T=S.apply(void 0,C);return mte(v,h,T)}function _te(t){var e={},n=[],r,i={addCase:function(o,a){var s=typeof o=="string"?o:o.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=a,i},addMatcher:function(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase:function(o){return r=o,i}};return t(i),[e,n,r]}function Fve(t){return typeof t=="function"}function $ve(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?_te(e):[e,n,r],o=i[0],a=i[1],s=i[2],l;if(Fve(t))l=function(){return oB(t())};else{var c=oB(t);l=function(){return c}}function h(p,g){p===void 0&&(p=l());var v=vb([o[g.type]],a.filter(function(x){var _=x.matcher;return _(g)}).map(function(x){var _=x.reducer;return _}));return v.filter(function(x){return!!x}).length===0&&(v=[s]),v.reduce(function(x,_){if(_)if(oy(x)){var S=x,w=_(S,g);return w===void 0?x:w}else{if(Gp(x))return hte(x,function(C){return _(C,g)});var w=_(x,g);if(w===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}return x},p)}return h.getInitialState=l,h}function jve(t,e){return t+"/"+e}function u1(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:oB(t.initialState),r=t.reducers||{},i=Object.keys(r),o={},a={},s={};i.forEach(function(h){var p=r[h],g=jve(e,h),v,x;"reducer"in p?(v=p.reducer,x=p.prepare):v=p,o[h]=v,a[g]=v,s[h]=x?qg(g,x):qg(g)});function l(){var h=typeof t.extraReducers=="function"?_te(t.extraReducers):[t.extraReducers],p=h[0],g=p===void 0?{}:p,v=h[1],x=v===void 0?[]:v,_=h[2],S=_===void 0?void 0:_,w=Gg(Gg({},g),a);return $ve(n,function(C){for(var T in w)C.addCase(T,w[T]);for(var k=0,R=x;k<R.length;k++){var L=R[k];C.addMatcher(L.matcher,L.reducer)}S&&C.addDefaultCase(S)})}var c;return{name:e,reducer:function(h,p){return c||(c=l()),c(h,p)},actions:s,caseReducers:o,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var Uve="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vve=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=Uve[Math.random()*64|0];return e},Wve=["name","message","stack","code"],MD=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),CH=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Hve=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=Wve;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=qg(e+"/fulfilled",function(c,h,p,g){return{payload:c,meta:SD(Gg({},g||{}),{arg:p,requestId:h,requestStatus:"fulfilled"})}}),o=qg(e+"/pending",function(c,h,p){return{payload:void 0,meta:SD(Gg({},p||{}),{arg:h,requestId:c,requestStatus:"pending"})}}),a=qg(e+"/rejected",function(c,h,p,g,v){return{payload:g,error:(r&&r.serializeError||Hve)(c||"Rejected"),meta:SD(Gg({},v||{}),{arg:p,requestId:h,rejectedWithValue:!!g,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(h,p,g){var v=r!=null&&r.idGenerator?r.idGenerator(c):Vve(),x=new s,_;function S(C){_=C,x.abort()}var w=function(){return Pve(this,null,function(){var C,T,k,R,L,F,H;return Sve(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,4,,5]),R=(C=r==null?void 0:r.condition)==null?void 0:C.call(r,c,{getState:p,extra:g}),qve(R)?[4,R]:[3,2];case 1:R=Z.sent(),Z.label=2;case 2:if(R===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return L=new Promise(function(j,X){return x.signal.addEventListener("abort",function(){return X({name:"AbortError",message:_||"Aborted"})})}),h(o(v,c,(T=r==null?void 0:r.getPendingMeta)==null?void 0:T.call(r,{requestId:v,arg:c},{getState:p,extra:g}))),[4,Promise.race([L,Promise.resolve(n(c,{dispatch:h,getState:p,extra:g,requestId:v,signal:x.signal,abort:S,rejectWithValue:function(j,X){return new MD(j,X)},fulfillWithValue:function(j,X){return new CH(j,X)}})).then(function(j){if(j instanceof MD)throw j;return j instanceof CH?i(j.payload,v,c,j.meta):i(j,v,c)})])];case 3:return k=Z.sent(),[3,5];case 4:return F=Z.sent(),k=F instanceof MD?a(null,v,c,F.payload,F.meta):a(F,v,c),[3,5];case 5:return H=r&&!r.dispatchConditionRejection&&a.match(k)&&k.meta.condition,H||h(k),[2,k]}})})}();return Object.assign(w,{abort:S,requestId:v,arg:c,unwrap:function(){return w.then(Gve)}})}}return Object.assign(l,{pending:o,rejected:a,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function Gve(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function qve(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var p$="listenerMiddleware";qg(p$+"/add");qg(p$+"/removeAll");qg(p$+"/remove");var AH;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);hve();const{reducer:Yve,actions:bte}=u1({name:"errors",initialState:{errors:[]},reducers:{push(t,e){t.errors.push(e.payload)},pop(t){t.errors.length&&t.errors.shift()}}}),{reducer:Xve,actions:tu}=u1({name:"devices",initialState:{items:{},selectedId:null,selectedIds:[]},reducers:{refresh(t,e){t.items={},e.payload.forEach(n=>t.items[n.id]=n)},update1(t,e){t.items[e.payload.id]=e.payload},update(t,e){e.payload.forEach(n=>t.items[n.id]=n)},select(t,e){t.selectedId=e.payload},selectId(t,e){t.selectedId=e.payload,t.selectedIds=[t.selectedId]},selectIds(t,e){t.selectedIds=e.payload,[t.selectedId]=t.selectedIds},remove(t,e){delete t.items[e.payload]},clear(t,e){t.items={}}}}),{reducer:Kve,actions:ED}=u1({name:"data",initialState:{server:null,user:null,socket:null,camera:{},positions:{},history:{}},reducers:{updateServer(t,e){t.server=e.payload},updateUser(t,e){t.user=e.payload},updateSocket(t,e){t.socket=e.payload},updatePositions(t,e){Object.keys(e.payload).length>0&&e.payload.forEach(n=>{t.positions[n.deviceId]=n,t.history={}})},updatePosition(t,e){t.positions[e.payload.deviceId]===void 0&&(t.positions[e.payload.deviceId]={attributes:{}}),e.payload.hasOwnProperty("latitude")&&(t.positions[e.payload.deviceId].id=e.payload.id,t.positions[e.payload.deviceId].deviceId=e.payload.deviceId,t.positions[e.payload.deviceId].latitude=e.payload.latitude,t.positions[e.payload.deviceId].longitude=e.payload.longitude,t.positions[e.payload.deviceId].altitude=e.payload.altitude,t.positions[e.payload.deviceId].deviceTime=e.payload.deviceTime),e.payload.hasOwnProperty("course")&&(t.positions[e.payload.deviceId].course=e.payload.course),e.payload.hasOwnProperty("speed")&&(t.positions[e.payload.deviceId].speed=e.payload.speed),e.payload.hasOwnProperty("batteryLevel")&&(t.positions[e.payload.deviceId].attributes.batteryLevel=e.payload.batteryLevel)},updateCamera(t,e){Object.keys(e.payload).length>0&&e.payload.forEach(n=>{t.camera[n.deviceId]=n})}}}),Zve=t=>{let e=[];for(let n=0;n<t.length;n++){if(e[n]={},t[n].hasOwnProperty("uav")&&(e[n].uav=t[n].uav),e[n].id=n,e[n].name=t[n].name,e[n].wp=[],e[n].attributes={},Array.isArray(t[n].wp))for(let r=0;r<t[n].wp.length;r++)e[n].wp[r]={},e[n].wp[r].pos=t[n].wp[r].pos,e[n].wp[r].yaw=t[n].wp[r].yaw,e[n].wp[r].gimbal=t[n].wp[r].gimbal,t[n].wp[r].hasOwnProperty("speed")&&(e[n].wp[r].speed=t[n].wp[r].speed),t[n].wp[r].hasOwnProperty("action")&&(e[n].wp[r].action=t[n].wp[r].action);t[n].hasOwnProperty("attributes")?(t[n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),e[n].attributes.mode_landing=t[n].attributes.mode_landing),t[n].attributes.hasOwnProperty("mode_yaw")&&(e[n].attributes.mode_yaw=t[n].attributes.mode_yaw),t[n].attributes.hasOwnProperty("mode_gimbal")&&(e[n].attributes.mode_gimbal=t[n].attributes.mode_gimbal),t[n].attributes.hasOwnProperty("mode_trace")&&(e[n].attributes.mode_trace=t[n].attributes.mode_trace),t[n].attributes.hasOwnProperty("idle_vel")&&(e[n].attributes.idle_vel=t[n].attributes.idle_vel),t[n].attributes.hasOwnProperty("max_vel")&&(e[n].attributes.max_vel=t[n].attributes.max_vel)):(t[n].hasOwnProperty("mode_landing")&&(e[n].attributes.mode_landing=t[n].mode_landing),t[n].hasOwnProperty("mode_yaw")&&(e[n].attributes.mode_yaw=t[n].mode_yaw),t[n].hasOwnProperty("mode_gimbal")&&(e[n].attributes.mode_gimbal=t[n].mode_gimbal),t[n].hasOwnProperty("mode_trace")&&(e[n].attributes.mode_trace=t[n].mode_trace),t[n].hasOwnProperty("idle_vel")&&(e[n].attributes.idle_vel=t[n].idle_vel),t[n].hasOwnProperty("max_vel")&&(e[n].attributes.max_vel=t[n].max_vel))}return e},Jve=t=>{let e=[];console.log("mission < 3");for(let n=1;n<=t.uav_n;n++)if(t.hasOwnProperty("uav_"+n)){let r=n-1;console.log("uav - "+r),e[r]={},e[r].id=r,e[r].uav="uav_"+n,e[r].name="uav_"+n,e[r].wp=[],e[r].attributes={};for(let i=0;i<t["uav_"+n].wp_n;i++)e[r].wp[i]={},t["uav_"+n]["wp_"+i].length==3?(e[r].wp[i].yaw=0,e[r].wp[i].pos=t["uav_"+n]["wp_"+i]):(e[r].wp[i].yaw=t["uav_"+n]["wp_"+i][3],e[r].wp[i].pos=t["uav_"+n]["wp_"+i].slice(0,-1));t.hasOwnProperty("mode_landing")&&(e[r].attributes.mode_landing=t.mode_landing),t.hasOwnProperty("mode_yaw")&&(e[r].attributes.mode_yaw=t.mode_yaw),t.hasOwnProperty("idle_vel")&&(e[r].attributes.idle_vel=t.idle_vel),t["uav_"+n].hasOwnProperty("attributes")?(t["uav_"+n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),e[r].attributes.mode_landing=t["uav_"+n].attributes.mode_landing),t["uav_"+n].attributes.hasOwnProperty("mode_yaw")&&(e[r].attributes.mode_yaw=t["uav_"+n].attributes.mode_yaw),t["uav_"+n].attributes.hasOwnProperty("idle_vel")&&(e[r].attributes.idle_vel=t["uav_"+n].attributes.idle_vel),t["uav_"+n].attributes.hasOwnProperty("max_vel")&&(e[n].attributes.max_vel=t["uav_"+n].attributes.max_vel)):(t["uav_"+n].hasOwnProperty("mode_landing")&&(e[r].attributes.mode_landing=t["uav_"+n].mode_landing),t["uav_"+n].hasOwnProperty("mode_yaw")&&(e[r].attributes.mode_yaw=t["uav_"+n].mode_yaw),t["uav_"+n].hasOwnProperty("idle_vel")&&(e[r].attributes.idle_vel=t["uav_"+n].idle_vel))}return console.log("-----------   legacy   --------"),console.log(e),e},{reducer:Qve,actions:fh}=u1({name:"mission",initialState:{name:"Mission no loaded",description:"",home:[0,0],route:[],attributes:{},selectpoint:{id:-1}},reducers:{updateWpPos(t,e){e.payload.route_id>=0&&(t.route[e.payload.route_id].wp[e.payload.wp_id].pos[0]=e.payload.lat,t.route[e.payload.route_id].wp[e.payload.wp_id].pos[1]=e.payload.lng)},selectpoint(t,e){console.log("selec point"),t.selectpoint=e.payload},reloadMission(t,e){t.route=e.payload},reloadName(t,e){t.name=e.payload.name,t.description=e.payload.description},updateMission(t,e){if(t.name=e.payload.name,e.payload.version=="3"){let n=0;t.home=e.payload.route[n].wp[0].pos,t.route=Zve(e.payload.route)}else{let n=1;t.home=e.payload["uav_"+n].wp_0,t.route=Jve(e.payload)}},clearMission(t,e){console.log("clear mission"),t.name="Mission no loaded",t.route=[],t.attributes={}}}}),{reducer:e0e,actions:ef}=u1({name:"session",initialState:{server:null,user:{latitude:37.19384768456065,longitude:-6.7029656624597465,zoom:10,attributes:{}},socket:null,positions:{},history:{},markers:{bases:[],elements:[]},planning:{id:1234,name:"no mission",objetivo:{id:0},loc:[],meteo:[],bases:[],settings:{}}},reducers:{updateServer(t,e){t.server=e.payload},updateServerROS(t,e){t.server.rosState=e.payload},updateUser(t,e){t.user=e.payload},updateSocket(t,e){t.socket=e.payload},updatePositions(t,e){const n=t.user.attributes.mapLiveRoutes||t.server.attributes.mapLiveRoutes||"none",r=t.user.attributes["web.liveRouteLength"]||t.user.attributes["web.liveRouteLength"]||10;e.payload.forEach(i=>{if(t.positions[i.deviceId]=i,n!=="none"){const o=t.history[i.deviceId]||[],a=o.at(-1);(!a||a[0]!==i.longitude&&a[1]!==i.latitude)&&(t.history[i.deviceId]=[...o.slice(1-r),[i.longitude,i.latitude]])}else t.history={}})},updateMarker(t,e){t.markers=e.payload},addMarkerElement(t,e){t.markers.elements.push(...e.payload)},addMarkerBase(t,e){t.markers.bases.push(...e.payload)},updatePlanning(t,e){t.planning=e.payload}}}),{reducer:t0e,actions:n0e}=u1({name:"events",initialState:{items:[]},reducers:{add(t,e){t.items.unshift(...e.payload),t.items.splice(50)},delete(t,e){t.items=t.items.filter(n=>n.id!==e.payload.id)},deleteAll(t){t.items=[]}}}),PH=3,r0e=1500,i0e=()=>t=>{const e=[];let n=!1,r=0;return setInterval(()=>{n?(e.length<PH&&(n=!1),gy.unstable_batchedUpdates(()=>e.splice(0,e.length).forEach(i=>t(i)))):(r>PH&&(n=!0),r=0)},r0e),i=>i.type==="devices/update"||i.type==="positions/update"?n?(e.push(i),null):(r+=1,t(i)):t(i)},o0e=gte({errors:Yve,devices:Xve,data:Kve,events:t0e,mission:Qve,session:e0e}),s0e=Bve({reducer:o0e,middleware:t=>t().concat(i0e)}),a0e={black:"#000",white:"#fff"},I0=a0e,l0e={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},_p=l0e,c0e={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},wx=c0e,u0e={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},wte=u0e,d0e={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Sx=d0e,f0e={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Mx=f0e,h0e={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},tf=h0e,p0e={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},m$=p0e,m0e={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ew=m0e,g0e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},xh=g0e,Tw={white:I0.white,background:xh[50],primary:wte[900],secondary:tf[800],positive:tf[500],medium:m$[700],negative:_p[500],neutral:xh[500],geometry:"#3bb2d0"},y0e={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},sy={background:{default:Tw.background},primary:{main:Tw.primary},secondary:{main:Tw.secondary,contrastText:Tw.white},colors:Tw,colors_devices:y0e};var g$={exports:{}};g$.exports=Ste;g$.exports.parse=Ste;g$.exports.stringify=Mte;var IH=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,kH=new RegExp("^"+IH.source+"(\\s"+IH.source+"){1,}");function Ste(t){var e=t.split(";"),n=e.pop(),r=(e.shift()||"").split("=").pop(),i=0;function o(C){var T=n.substring(i).match(C);return T?(i+=T[0].length,T[0]):null}function a(C){return C&&r.match(/\d+/)&&(C.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+r}}),C}function s(){o(/^\s*/)}function l(){s();for(var C=0,T=[],k=[T],R=T,L;L=o(/^(\()/)||o(/^(\))/)||o(/^(,)/)||o(kH);){if(L==="(")k.push(R),R=[],k[k.length-1].push(R),C++;else if(L===")"){if(R.length===0||(R=k.pop(),!R))return null;if(C--,C===0)break}else if(L===",")R=[],k[k.length-1].push(R);else if(!L.split(/\s/g).some(isNaN))Array.prototype.push.apply(R,L.split(/\s/g).map(parseFloat));else return null;s()}return C!==0?null:T}function c(){for(var C=[],T,k;k=o(kH)||o(/^(,)/);)k===","?(C.push(T),T=[]):k.split(/\s/g).some(isNaN)||(T||(T=[]),Array.prototype.push.apply(T,k.split(/\s/g).map(parseFloat))),s();if(T)C.push(T);else return null;return C.length?C:null}function h(){if(!o(/^(point(\sz)?)/i)||(s(),!o(/^(\()/)))return null;var C=c();return!C||(s(),!o(/^(\))/))?null:{type:"Point",coordinates:C[0]}}function p(){if(!o(/^(multipoint)/i))return null;s();var C=n.substring(n.indexOf("(")+1,n.length-1).replace(/\(/g,"").replace(/\)/g,"");n="MULTIPOINT ("+C+")";var T=l();return T?(s(),{type:"MultiPoint",coordinates:T}):null}function g(){if(!o(/^(multilinestring)/i))return null;s();var C=l();return C?(s(),{type:"MultiLineString",coordinates:C}):null}function v(){if(!o(/^(linestring(\sz)?)/i)||(s(),!o(/^(\()/)))return null;var C=c();return!C||!o(/^(\))/)?null:{type:"LineString",coordinates:C}}function x(){if(!o(/^(polygon(\sz)?)/i))return null;s();var C=l();return C?{type:"Polygon",coordinates:C}:null}function _(){if(!o(/^(multipolygon)/i))return null;s();var C=l();return C?{type:"MultiPolygon",coordinates:C}:null}function S(){var C=[],T;if(!o(/^(geometrycollection)/i)||(s(),!o(/^(\()/)))return null;for(;T=w();)C.push(T),s(),o(/^(,)/),s();return o(/^(\))/)?{type:"GeometryCollection",geometries:C}:null}function w(){return h()||v()||x()||p()||g()||_()||S()}return a(w())}function Mte(t){t.type==="Feature"&&(t=t.geometry);function e(a){return a.join(" ")}function n(a){return a.map(e).join(", ")}function r(a){return a.map(n).map(o).join(", ")}function i(a){return a.map(r).map(o).join(", ")}function o(a){return"("+a+")"}switch(t.type){case"Point":return"POINT ("+e(t.coordinates)+")";case"LineString":return"LINESTRING ("+n(t.coordinates)+")";case"Polygon":return"POLYGON ("+r(t.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+n(t.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+i(t.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+r(t.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+t.geometries.map(Mte).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}const pv=t=>new Promise(e=>{const n=new Image;n.onload=()=>e(n),n.src=t}),TD=(t,e)=>{const n=document.createElement("canvas");n.width=t.width*devicePixelRatio,n.height=t.height*devicePixelRatio,n.style.width=`${t.width}px`,n.style.height=`${t.height}px`;const r=n.getContext("2d");return r.save(),r.fillStyle=e,r.globalAlpha=1,r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.globalAlpha=1,r.drawImage(t,0,0,n.width,n.height),r.restore(),n},Qm=(t,e,n,r,i)=>{const o=document.createElement("canvas");o.width=t.width*devicePixelRatio,o.height=t.height*devicePixelRatio,o.style.width=`${t.width}px`,o.style.height=`${t.height}px`;const a=o.getContext("2d");if(a.drawImage(t,0,0,o.width,o.height),e){r&&a.drawImage(TD(r,i),0,0,o.width,o.height);const s=.5,l=o.width*s,c=o.height*s;a.drawImage(TD(e,n),(o.width-l)/2,(o.height-c)/2,l,c)}else n&&a.drawImage(TD(t,n),0,0,o.width,o.height);return a.getImageData(0,0,o.width,o.height)},ff=t=>{var a;const e=new Set,{layers:n}=t.getStyle();(a=n==null?void 0:n.forEach)==null||a.call(n,s=>{var l,c,h;(h=(c=(l=s.layout)==null?void 0:l["text-font"])==null?void 0:c.forEach)==null||h.call(c,e.add,e)});const r=[...e],i=r.find(s=>s.includes("Regular"));if(i)return[i];const o=r.find(Boolean);return o?[o]:["Roboto Regular"]},v0e="data:image/svg+xml,%3csvg%20width='48px'%20height='48px'%20viewBox='0%200%2010%2010'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cfilter%20id='shadow'%3e%3cfeDropShadow%20dx='0'%20dy='0.1'%20stdDeviation='0.3'%20flood-color='grey'/%3e%3c/filter%3e%3c/defs%3e%3ccircle%20cx='5'%20cy='50%25'%20r='4'%20style='fill:white;%20filter:url(%23shadow);'/%3e%3c/svg%3e",x0e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='56'%20height='56'%20version='1.1'%20viewBox='0%200%2011.667%2011.667'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m%205.833%200.1%20L%204.2%201.79%20A%205.83%205.83%200,0,1%207.4,1.79%20Z%20'%20fill='%23283593'%20/%3e%3c/svg%3e",_0e="data:image/svg+xml,%3csvg%20width='48px'%20height='48px'%20viewBox='0%200%2010%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='5'%20cy='50%25'%20r='4'%20stroke='black'%20stroke-width='0.5'/%3e%3c/svg%3e",RT="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24'%20height='24'%20fill='%23000000'%3e%3cpath%20d='M8,22h2l4.997-8H20c1.105,0,2-0.895,2-2s-0.895-2-2-2h-5.003L10,2H8l2.493,8H4.996L3.5,8H2l1,4l-1,4h1.5l1.496-2h5.497%20L8,22z'%20fill='%23000000'/%3e%3c/svg%3e",b0e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24'%20height='24'%20fill='%23000000'%3e%3cpath%20d='M%202%203%20L%202%205%20L%209%205%20L%209%203%20L%202%203%20z%20M%2011%203%20L%2011%206.2050781%20C%208.584%206.6840781%207.012375%207.956%206.359375%209%20L%204%209%20L%204%207%20L%202%207%20L%202%2013%20L%204%2013%20L%204%2011%20L%206%2011%20L%206%2013.300781%20C%206%2015.370781%207.8795313%2017%2010.269531%2017%20L%2013.810547%2017%20C%2016.170547%2017%2021.570703%2017%2021.970703%2013%20L%2017%2013%20C%2014.79%2013%2013%2011.21%2013%209%20L%2013%203%20L%2011%203%20z%20M%2015%203%20L%2015%205%20L%2022%205%20L%2022%203%20L%2015%203%20z%20M%2015%206.1699219%20L%2015%209%20C%2015%2010.1%2015.9%2011%2017%2011%20L%2021.740234%2011%20C%2020.940234%208.64%2018.28%206.7299219%2015%206.1699219%20z%20M%2021%2018%20C%2021%2018.552%2020.552%2019%2020%2019%20L%206%2019%20L%206%2021%20L%2020%2021%20C%2021.654%2021%2023%2019.654%2023%2018%20L%2021%2018%20z'%20fill='%23000000'/%3e%3c/svg%3e",w0e="/assets/drone1-vQs42P1F.svg",Lv="/assets/drone2-x2UfxKES.svg",S0e="/assets/drone3-EPwZhuDh.svg",M0e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='47'%20height='37'%20viewBox='0%200%2047%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.5%200L46.4497%2036.75H0.550327L23.5%200Z'%20fill='%2300FF0A'/%3e%3c/svg%3e",E0e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='10.550469mm'%20height='11.099902mm'%20viewBox='0%200%2010.550469%2011.099902'%20version='1.1'%20id='svg5'%20sodipodi:docname='PowerTower.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview29'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20inkscape:document-units='mm'%20showgrid='false'%20/%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%20transform='matrix(1.2914054,0,0,1.2914054,-44.349104,-250.92541)'%20inkscape:export-filename='../8bf6bfef/g329812.svg'%20inkscape:export-xdpi='96'%20inkscape:export-ydpi='96'%3e%3cg%20id='g1611'%20transform='matrix(0.1732213,0,0,0.1732213,28.393016,160.64652)'%3e%3cpath%20style='fill:%23000000;stroke:%23999999;stroke-width:0.264583'%20d='m%2044.755491,243.21009%20c%200.0638,-0.70167%200.12758,-1.40335%200.19137,-2.10502'%20id='path245-8-0'%20/%3e%3cpath%20style='fill:%23000000;stroke-width:0.264583'%20d='m%2042.705671,243.89909%2015.24211,-49.59496%2014.9889,49.61983%20-14.94047,-4.79905%20z'%20id='path366-6-1'%20/%3e%3cpath%20style='fill:none;stroke:%23999999;stroke-width:1.5;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2065.090551,218.22825%20-14.21776,4.65545%2015.77463,5.18213%20-21.10264,6.73158'%20id='path1500-5-8'%20/%3e%3cpath%20style='fill:none;stroke:%23999999;stroke-width:1.5;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2050.587581,218.15902%2014.21776,4.65545%20-15.77463,5.18213%2021.10264,6.73158'%20id='path1500-5-6-0'%20/%3e%3cpath%20style='fill:%23000000;stroke:%23b3b3b3;stroke-width:2;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2037.095893,210.4801%2041.910248,0.11388'%20id='path368-6-4'%20/%3e%3ccircle%20style='fill:%2387decd;stroke:%23000000;stroke-width:0.495712;stroke-dasharray:none;stroke-dashoffset:0'%20id='path3174'%20cx='36.455219'%20cy='210.51549'%20r='1.8656268'%20/%3e%3ccircle%20style='fill:%235fd3bc;stroke:%23000000;stroke-width:0.495712;stroke-dasharray:none;stroke-dashoffset:0'%20id='path3174-8'%20cx='79.391953'%20cy='210.65347'%20r='1.8656268'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",T0e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='4'%20y='4'%20width='32'%20height='32'%20fill='%235144E6'%20stroke='%23FF0A0A'%20stroke-width='8'/%3e%3c/svg%3e",mc="/assets/drone-svgrepo-R6kWQAqP.svg",RH={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},TM={helicopter:b0e,plane:RT,drone:w0e,dji_M210_noetic:Lv,dji_M210_melodic:Lv,dji_M210_noetic_rtk:Lv,dji_M210_melodic_rtk:Lv,dji_M300:Lv,dji_M300_rtk:Lv,dji_M600:mc,px4:RT,catec:S0e,fuvex:RT,default:RT},C0e={helicopter:mc,plane:mc,drone:mc,dji_M210_noetic:mc,dji_M210_melodic:mc,dji_M210_noetic_rtk:mc,dji_M210_melodic_rtk:mc,dji_M300:mc,dji_M300_rtk:Lv,dji_M600:mc,px4:mc,catec:mc,fuvex:mc,default:mc},PP=t=>TM.hasOwnProperty(t)?t:"default",gp={},A0e=async()=>{const t=await pv(v0e),e=await pv(_0e);gp.background=await Qm(t),gp.item=await Qm(await pv(M0e)),gp.powerTower=await Qm(await pv(E0e)),gp.base=await Qm(await pv(T0e)),gp.direction=await Qm(await pv(x0e)),Object.keys(sy.colors_devices).forEach(async n=>{gp[`background-${n}`]=await Qm(t,null,RH[n]),gp[`mission-${n}`]=await Qm(e,null,RH[n])}),await Promise.all(Object.keys(TM).map(async n=>{const r=[];["primary","positive","negative","neutral"].forEach(i=>{r.push(pv(TM[n]).then(o=>{gp[`${n}-${i}`]=Qm(t,o,sy.colors[i])}))}),await Promise.all(r)}))};function k0(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const P0e=Object.freeze(Object.defineProperty({__proto__:null,default:k0},Symbol.toStringTag,{value:"Module"})),R0="$$material";function Ete(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var I0e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,k0e=Ete(function(t){return I0e.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function R0e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function O0e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var L0e=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(O0e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=R0e(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ll="-ms-",IP="-moz-",ki="-webkit-",Tte="comm",y$="rule",v$="decl",D0e="@import",Cte="@keyframes",N0e="@layer",z0e=Math.abs,Yk=String.fromCharCode,B0e=Object.assign;function F0e(t,e){return La(t,0)^45?(((e<<2^La(t,0))<<2^La(t,1))<<2^La(t,2))<<2^La(t,3):0}function Ate(t){return t.trim()}function $0e(t,e){return(t=e.exec(t))?t[0]:t}function Ri(t,e,n){return t.replace(e,n)}function sB(t,e){return t.indexOf(e)}function La(t,e){return t.charCodeAt(e)|0}function CM(t,e,n){return t.slice(e,n)}function ah(t){return t.length}function x$(t){return t.length}function OT(t,e){return e.push(t),t}function j0e(t,e){return t.map(e).join("")}var Xk=1,xb=1,Pte=0,Cc=0,ks=0,d1="";function Kk(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Xk,column:xb,length:a,return:""}}function Cw(t,e){return B0e(Kk("",null,null,"",null,null,0),t,{length:-t.length},e)}function U0e(){return ks}function V0e(){return ks=Cc>0?La(d1,--Cc):0,xb--,ks===10&&(xb=1,Xk--),ks}function uu(){return ks=Cc<Pte?La(d1,Cc++):0,xb++,ks===10&&(xb=1,Xk++),ks}function _h(){return La(d1,Cc)}function MA(){return Cc}function Q2(t,e){return CM(d1,t,e)}function AM(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ite(t){return Xk=xb=1,Pte=ah(d1=t),Cc=0,[]}function kte(t){return d1="",t}function EA(t){return Ate(Q2(Cc-1,aB(t===91?t+2:t===40?t+1:t)))}function W0e(t){for(;(ks=_h())&&ks<33;)uu();return AM(t)>2||AM(ks)>3?"":" "}function H0e(t,e){for(;--e&&uu()&&!(ks<48||ks>102||ks>57&&ks<65||ks>70&&ks<97););return Q2(t,MA()+(e<6&&_h()==32&&uu()==32))}function aB(t){for(;uu();)switch(ks){case t:return Cc;case 34:case 39:t!==34&&t!==39&&aB(ks);break;case 40:t===41&&aB(t);break;case 92:uu();break}return Cc}function G0e(t,e){for(;uu()&&t+ks!==57;)if(t+ks===84&&_h()===47)break;return"/*"+Q2(e,Cc-1)+"*"+Yk(t===47?t:uu())}function q0e(t){for(;!AM(_h());)uu();return Q2(t,Cc)}function Y0e(t){return kte(TA("",null,null,null,[""],t=Ite(t),0,[0],t))}function TA(t,e,n,r,i,o,a,s,l){for(var c=0,h=0,p=a,g=0,v=0,x=0,_=1,S=1,w=1,C=0,T="",k=i,R=o,L=r,F=T;S;)switch(x=C,C=uu()){case 40:if(x!=108&&La(F,p-1)==58){sB(F+=Ri(EA(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:F+=EA(C);break;case 9:case 10:case 13:case 32:F+=W0e(x);break;case 92:F+=H0e(MA()-1,7);continue;case 47:switch(_h()){case 42:case 47:OT(X0e(G0e(uu(),MA()),e,n),l);break;default:F+="/"}break;case 123*_:s[c++]=ah(F)*w;case 125*_:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+h:w==-1&&(F=Ri(F,/\f/g,"")),v>0&&ah(F)-p&&OT(v>32?LH(F+";",r,n,p-1):LH(Ri(F," ","")+";",r,n,p-2),l);break;case 59:F+=";";default:if(OT(L=OH(F,e,n,c,h,i,s,T,k=[],R=[],p),o),C===123)if(h===0)TA(F,e,L,L,k,o,p,s,R);else switch(g===99&&La(F,3)===110?100:g){case 100:case 108:case 109:case 115:TA(t,L,L,r&&OT(OH(t,L,L,0,0,i,s,T,i,k=[],p),R),i,R,p,s,r?k:R);break;default:TA(F,L,L,L,[""],R,0,s,R)}}c=h=v=0,_=w=1,T=F="",p=a;break;case 58:p=1+ah(F),v=x;default:if(_<1){if(C==123)--_;else if(C==125&&_++==0&&V0e()==125)continue}switch(F+=Yk(C),C*_){case 38:w=h>0?1:(F+="\f",-1);break;case 44:s[c++]=(ah(F)-1)*w,w=1;break;case 64:_h()===45&&(F+=EA(uu())),g=_h(),h=p=ah(T=F+=q0e(MA())),C++;break;case 45:x===45&&ah(F)==2&&(_=0)}}return o}function OH(t,e,n,r,i,o,a,s,l,c,h){for(var p=i-1,g=i===0?o:[""],v=x$(g),x=0,_=0,S=0;x<r;++x)for(var w=0,C=CM(t,p+1,p=z0e(_=a[x])),T=t;w<v;++w)(T=Ate(_>0?g[w]+" "+C:Ri(C,/&\f/g,g[w])))&&(l[S++]=T);return Kk(t,e,n,i===0?y$:s,l,c,h)}function X0e(t,e,n){return Kk(t,e,n,Tte,Yk(U0e()),CM(t,2,-2),0)}function LH(t,e,n,r){return Kk(t,e,n,v$,CM(t,0,r),CM(t,r+1,-1),r)}function J_(t,e){for(var n="",r=x$(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function K0e(t,e,n,r){switch(t.type){case N0e:if(t.children.length)break;case D0e:case v$:return t.return=t.return||t.value;case Tte:return"";case Cte:return t.return=t.value+"{"+J_(t.children,r)+"}";case y$:t.value=t.props.join(",")}return ah(n=J_(t.children,r))?t.return=t.value+"{"+n+"}":""}function Z0e(t){var e=x$(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}function J0e(t){return function(e){e.root||(e=e.return)&&t(e)}}var Q0e=function(e,n,r){for(var i=0,o=0;i=o,o=_h(),i===38&&o===12&&(n[r]=1),!AM(o);)uu();return Q2(e,Cc)},exe=function(e,n){var r=-1,i=44;do switch(AM(i)){case 0:i===38&&_h()===12&&(n[r]=1),e[r]+=Q0e(Cc-1,n,r);break;case 2:e[r]+=EA(i);break;case 4:if(i===44){e[++r]=_h()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Yk(i)}while(i=uu());return e},txe=function(e,n){return kte(exe(Ite(e),n))},DH=new WeakMap,nxe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!DH.get(r))&&!i){DH.set(e,!0);for(var o=[],a=txe(n,o),s=r.props,l=0,c=0;l<a.length;l++)for(var h=0;h<s.length;h++,c++)e.props[c]=o[l]?a[l].replace(/&\f/g,s[h]):s[h]+" "+a[l]}}},rxe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Rte(t,e){switch(F0e(t,e)){case 5103:return ki+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ki+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ki+t+IP+t+ll+t+t;case 6828:case 4268:return ki+t+ll+t+t;case 6165:return ki+t+ll+"flex-"+t+t;case 5187:return ki+t+Ri(t,/(\w+).+(:[^]+)/,ki+"box-$1$2"+ll+"flex-$1$2")+t;case 5443:return ki+t+ll+"flex-item-"+Ri(t,/flex-|-self/,"")+t;case 4675:return ki+t+ll+"flex-line-pack"+Ri(t,/align-content|flex-|-self/,"")+t;case 5548:return ki+t+ll+Ri(t,"shrink","negative")+t;case 5292:return ki+t+ll+Ri(t,"basis","preferred-size")+t;case 6060:return ki+"box-"+Ri(t,"-grow","")+ki+t+ll+Ri(t,"grow","positive")+t;case 4554:return ki+Ri(t,/([^-])(transform)/g,"$1"+ki+"$2")+t;case 6187:return Ri(Ri(Ri(t,/(zoom-|grab)/,ki+"$1"),/(image-set)/,ki+"$1"),t,"")+t;case 5495:case 3959:return Ri(t,/(image-set\([^]*)/,ki+"$1$`$1");case 4968:return Ri(Ri(t,/(.+:)(flex-)?(.*)/,ki+"box-pack:$3"+ll+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ki+t+t;case 4095:case 3583:case 4068:case 2532:return Ri(t,/(.+)-inline(.+)/,ki+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ah(t)-1-e>6)switch(La(t,e+1)){case 109:if(La(t,e+4)!==45)break;case 102:return Ri(t,/(.+:)(.+)-([^]+)/,"$1"+ki+"$2-$3$1"+IP+(La(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~sB(t,"stretch")?Rte(Ri(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(La(t,e+1)!==115)break;case 6444:switch(La(t,ah(t)-3-(~sB(t,"!important")&&10))){case 107:return Ri(t,":",":"+ki)+t;case 101:return Ri(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ki+(La(t,14)===45?"inline-":"")+"box$3$1"+ki+"$2$3$1"+ll+"$2box$3")+t}break;case 5936:switch(La(t,e+11)){case 114:return ki+t+ll+Ri(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ki+t+ll+Ri(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ki+t+ll+Ri(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ki+t+ll+t+t}return t}var ixe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case v$:e.return=Rte(e.value,e.length);break;case Cte:return J_([Cw(e,{value:Ri(e.value,"@","@"+ki)})],i);case y$:if(e.length)return j0e(e.props,function(o){switch($0e(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return J_([Cw(e,{props:[Ri(o,/:(read-\w+)/,":"+IP+"$1")]})],i);case"::placeholder":return J_([Cw(e,{props:[Ri(o,/:(plac\w+)/,":"+ki+"input-$1")]}),Cw(e,{props:[Ri(o,/:(plac\w+)/,":"+IP+"$1")]}),Cw(e,{props:[Ri(o,/:(plac\w+)/,ll+"input-$1")]})],i)}return""})}},oxe=[ixe],Ote=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var S=_.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||oxe,o={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var S=_.getAttribute("data-emotion").split(" "),w=1;w<S.length;w++)o[S[w]]=!0;s.push(_)});var l,c=[nxe,rxe];{var h,p=[K0e,J0e(function(_){h.insert(_)})],g=Z0e(c.concat(i,p)),v=function(S){return J_(Y0e(S),g)};l=function(S,w,C,T){h=C,v(S?S+"{"+w.styles+"}":w.styles),T&&(x.inserted[w.name]=!0)}}var x={key:n,sheet:new L0e({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return x.sheet.hydrate(s),x},sxe=!0;function axe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Lte=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||sxe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Dte=function(e,n,r){Lte(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function lxe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var cxe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uxe=/[A-Z]|^ms/g,dxe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Nte=function(e){return e.charCodeAt(1)===45},NH=function(e){return e!=null&&typeof e!="boolean"},CD=Ete(function(t){return Nte(t)?t:t.replace(uxe,"-$&").toLowerCase()}),zH=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(dxe,function(r,i,o){return lh={name:i,styles:o,next:lh},i})}return cxe[e]!==1&&!Nte(e)&&typeof n=="number"&&n!==0?n+"px":n};function PM(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return lh={name:n.name,styles:n.styles,next:lh},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)lh={name:r.name,styles:r.styles,next:lh},r=r.next;var i=n.styles+";";return i}return fxe(t,e,n)}case"function":{if(t!==void 0){var o=lh,a=n(t);return lh=o,PM(t,e,a)}break}}if(e==null)return n;var s=e[n];return s!==void 0?s:n}function fxe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=PM(t,e,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object")e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":NH(a)&&(r+=CD(o)+":"+zH(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var s=0;s<a.length;s++)NH(a[s])&&(r+=CD(o)+":"+zH(o,a[s])+";");else{var l=PM(t,e,a);switch(o){case"animation":case"animationName":{r+=CD(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var BH=/label:\s*([^\s;\n{]+)\s*(;|$)/g,lh,_$=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";lh=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,o+=PM(r,n,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=PM(r,n,e[s]),i&&(o+=a[s]);BH.lastIndex=0;for(var l="",c;(c=BH.exec(o))!==null;)l+="-"+c[1];var h=lxe(o)+l;return{name:h,styles:o,next:lh}},hxe=function(e){return e()},zte=ZA.useInsertionEffect?ZA.useInsertionEffect:!1,pxe=zte||hxe,FH=zte||V.useLayoutEffect,Bte=V.createContext(typeof HTMLElement<"u"?Ote({key:"css"}):null),mxe=Bte.Provider,Fte=function(e){return V.forwardRef(function(n,r){var i=V.useContext(Bte);return e(n,i,r)})},eE=V.createContext({}),AD={exports:{}},$H;function $te(){return $H||($H=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(AD)),AD.exports}$te();var gxe=Fte(function(t,e){var n=t.styles,r=_$([n],void 0,V.useContext(eE)),i=V.useRef();return FH(function(){var o=e.key+"-global",a=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),i.current=[a,s],function(){a.flush()}},[e]),FH(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(r.next!==void 0&&Dte(e,r.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function tE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _$(e)}var W0=function(){var e=tE.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},yxe=k0e,vxe=function(e){return e!=="theme"},jH=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?yxe:vxe},UH=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(a){return e.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},xxe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Lte(n,r,i),pxe(function(){return Dte(n,r,i)}),null},_xe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,a;n!==void 0&&(o=n.label,a=n.target);var s=UH(e,n,r),l=s||jH(i),c=!l("as");return function(){var h=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&p.push("label:"+o+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{p.push(h[0][0]);for(var g=h.length,v=1;v<g;v++)p.push(h[v],h[0][v])}var x=Fte(function(_,S,w){var C=c&&_.as||i,T="",k=[],R=_;if(_.theme==null){R={};for(var L in _)R[L]=_[L];R.theme=V.useContext(eE)}typeof _.className=="string"?T=axe(S.registered,k,_.className):_.className!=null&&(T=_.className+" ");var F=_$(p.concat(k),S.registered,R);T+=S.key+"-"+F.name,a!==void 0&&(T+=" "+a);var H=c&&s===void 0?jH(C):l,Z={};for(var j in _)c&&j==="as"||H(j)&&(Z[j]=_[j]);return Z.className=T,Z.ref=w,V.createElement(V.Fragment,null,V.createElement(xxe,{cache:S,serialized:F,isStringTag:typeof C=="string"}),V.createElement(C,Z))});return x.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=p,x.__emotion_forwardProp=s,Object.defineProperty(x,"toString",{value:function(){return"."+a}}),x.withComponent=function(_,S){return t(_,de({},n,S,{shouldForwardProp:UH(x,S,!0)})).apply(void 0,p)},x}},bxe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],lB=_xe.bind();bxe.forEach(function(t){lB[t]=lB(t)});var jte={exports:{}},wxe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sxe=wxe,Mxe=Sxe;function Ute(){}function Vte(){}Vte.resetWarningCache=Ute;var Exe=function(){function t(r,i,o,a,s,l){if(l!==Mxe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Vte,resetWarningCache:Ute};return n.PropTypes=n,n};jte.exports=Exe();var b$=jte.exports;const Br=bi(b$);let cB;typeof document=="object"&&(cB=Ote({key:"css",prepend:!0}));function Wte(t){const{injectFirst:e,children:n}=t;return e&&cB?z.jsx(mxe,{value:cB,children:n}):n}function Txe(t){return t==null||Object.keys(t).length===0}function Hte(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Txe(i)?n:i):e;return z.jsx(gxe,{styles:r})}function w$(t,e){return lB(t,e)}const Gte=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Cxe=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Hte,StyledEngineProvider:Wte,ThemeContext:eE,css:tE,default:w$,internal_processStyles:Gte,keyframes:W0},Symbol.toStringTag,{value:"Module"}));function bp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function qte(t){if(!bp(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=qte(t[n])}),e}function Ba(t,e,n={clone:!0}){const r=n.clone?de({},t):t;return bp(t)&&bp(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(bp(e[i])&&i in t&&bp(t[i])?r[i]=Ba(t[i],e[i],n):n.clone?r[i]=bp(e[i])?qte(e[i]):e[i]:r[i]=e[i])}),r}const Axe=Object.freeze(Object.defineProperty({__proto__:null,default:Ba,isPlainObject:bp},Symbol.toStringTag,{value:"Module"})),Pxe=["values","unit","step"],Ixe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>de({},n,{[r.key]:r.val}),{})};function Yte(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=rn(t,Pxe),o=Ixe(e),a=Object.keys(o);function s(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n})`}function l(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-r/100}${n})`}function c(g,v){const x=a.indexOf(v);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n}) and (max-width:${(x!==-1&&typeof e[a[x]]=="number"?e[a[x]]:v)-r/100}${n})`}function h(g){return a.indexOf(g)+1<a.length?c(g,a[a.indexOf(g)+1]):s(g)}function p(g){const v=a.indexOf(g);return v===0?s(a[1]):v===a.length-1?l(a[v]):c(g,a[a.indexOf(g)+1]).replace("@media","@media not all and")}return de({keys:a,values:o,up:s,down:l,between:c,only:h,not:p,unit:n},i)}const kxe={borderRadius:4},Rxe=kxe;function DS(t,e){return e?Ba(t,e,{clone:!1}):t}const S$={xs:0,sm:600,md:900,lg:1200,xl:1536},VH={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${S$[t]}px)`};function Ac(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||VH;return e.reduce((a,s,l)=>(a[o.up(o.keys[l])]=n(e[l]),a),{})}if(typeof e=="object"){const o=r.breakpoints||VH;return Object.keys(e).reduce((a,s)=>{if(Object.keys(o.values||S$).indexOf(s)!==-1){const l=o.up(s);a[l]=n(e[s],s)}else{const l=s;a[l]=e[l]}return a},{})}return n(e)}function Xte(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function Kte(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Oxe(t,...e){const n=Xte(t),r=[n,...e].reduce((i,o)=>Ba(i,o),{});return Kte(Object.keys(n),r)}function Lxe(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function f0({values:t,breakpoints:e,base:n}){const r=n||Lxe(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((a,s,l)=>(Array.isArray(t)?(a[s]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(a[s]=t[s]!=null?t[s]:t[o],o=s):a[s]=t,a),{})}function tn(t){if(typeof t!="string")throw new Error(k0(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Dxe=Object.freeze(Object.defineProperty({__proto__:null,default:tn},Symbol.toStringTag,{value:"Module"}));function _b(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function kP(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=_b(t,n)||r,e&&(i=e(i,r,t)),i}function Es(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=a=>{if(a[e]==null)return null;const s=a[e],l=a.theme,c=_b(l,r)||{};return Ac(a,s,p=>{let g=kP(c,i,p);return p===g&&typeof p=="string"&&(g=kP(c,i,`${e}${p==="default"?"":tn(p)}`,p)),n===!1?g:{[n]:g}})};return o.propTypes={},o.filterProps=[e],o}function Nxe(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const zxe={m:"margin",p:"padding"},Bxe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},WH={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Fxe=Nxe(t=>{if(t.length>2)if(WH[t])t=WH[t];else return[t];const[e,n]=t.split(""),r=zxe[e],i=Bxe[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),M$=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],E$=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...M$,...E$];function nE(t,e,n,r){var i;const o=(i=_b(t,e,!1))!=null?i:n;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function T$(t){return nE(t,"spacing",8)}function O0(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function $xe(t,e){return n=>t.reduce((r,i)=>(r[i]=O0(e,n),r),{})}function jxe(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Fxe(n),o=$xe(i,r),a=t[n];return Ac(t,a,o)}function Zte(t,e){const n=T$(t.theme);return Object.keys(t).map(r=>jxe(t,e,r,n)).reduce(DS,{})}function ts(t){return Zte(t,M$)}ts.propTypes={};ts.filterProps=M$;function ns(t){return Zte(t,E$)}ns.propTypes={};ns.filterProps=E$;function Uxe(t=8){if(t.mui)return t;const e=T$({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const a=e(o);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function Zk(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?DS(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Zu(t){return typeof t!="number"?t:`${t}px solid`}function vd(t,e){return Es({prop:t,themeKey:"borders",transform:e})}const Vxe=vd("border",Zu),Wxe=vd("borderTop",Zu),Hxe=vd("borderRight",Zu),Gxe=vd("borderBottom",Zu),qxe=vd("borderLeft",Zu),Yxe=vd("borderColor"),Xxe=vd("borderTopColor"),Kxe=vd("borderRightColor"),Zxe=vd("borderBottomColor"),Jxe=vd("borderLeftColor"),Qxe=vd("outline",Zu),e_e=vd("outlineColor"),Jk=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=nE(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:O0(e,r)});return Ac(t,t.borderRadius,n)}return null};Jk.propTypes={};Jk.filterProps=["borderRadius"];Zk(Vxe,Wxe,Hxe,Gxe,qxe,Yxe,Xxe,Kxe,Zxe,Jxe,Jk,Qxe,e_e);const Qk=t=>{if(t.gap!==void 0&&t.gap!==null){const e=nE(t.theme,"spacing",8),n=r=>({gap:O0(e,r)});return Ac(t,t.gap,n)}return null};Qk.propTypes={};Qk.filterProps=["gap"];const eR=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=nE(t.theme,"spacing",8),n=r=>({columnGap:O0(e,r)});return Ac(t,t.columnGap,n)}return null};eR.propTypes={};eR.filterProps=["columnGap"];const tR=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=nE(t.theme,"spacing",8),n=r=>({rowGap:O0(e,r)});return Ac(t,t.rowGap,n)}return null};tR.propTypes={};tR.filterProps=["rowGap"];const t_e=Es({prop:"gridColumn"}),n_e=Es({prop:"gridRow"}),r_e=Es({prop:"gridAutoFlow"}),i_e=Es({prop:"gridAutoColumns"}),o_e=Es({prop:"gridAutoRows"}),s_e=Es({prop:"gridTemplateColumns"}),a_e=Es({prop:"gridTemplateRows"}),l_e=Es({prop:"gridTemplateAreas"}),c_e=Es({prop:"gridArea"});Zk(Qk,eR,tR,t_e,n_e,r_e,i_e,o_e,s_e,a_e,l_e,c_e);function Q_(t,e){return e==="grey"?e:t}const u_e=Es({prop:"color",themeKey:"palette",transform:Q_}),d_e=Es({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Q_}),f_e=Es({prop:"backgroundColor",themeKey:"palette",transform:Q_});Zk(u_e,d_e,f_e);function nu(t){return t<=1&&t!==0?`${t*100}%`:t}const h_e=Es({prop:"width",transform:nu}),C$=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||S$[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:nu(n)}};return Ac(t,t.maxWidth,e)}return null};C$.filterProps=["maxWidth"];const p_e=Es({prop:"minWidth",transform:nu}),m_e=Es({prop:"height",transform:nu}),g_e=Es({prop:"maxHeight",transform:nu}),y_e=Es({prop:"minHeight",transform:nu});Es({prop:"size",cssProperty:"width",transform:nu});Es({prop:"size",cssProperty:"height",transform:nu});const v_e=Es({prop:"boxSizing"});Zk(h_e,C$,p_e,m_e,g_e,y_e,v_e);const x_e={border:{themeKey:"borders",transform:Zu},borderTop:{themeKey:"borders",transform:Zu},borderRight:{themeKey:"borders",transform:Zu},borderBottom:{themeKey:"borders",transform:Zu},borderLeft:{themeKey:"borders",transform:Zu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Zu},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Jk},color:{themeKey:"palette",transform:Q_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Q_},backgroundColor:{themeKey:"palette",transform:Q_},p:{style:ns},pt:{style:ns},pr:{style:ns},pb:{style:ns},pl:{style:ns},px:{style:ns},py:{style:ns},padding:{style:ns},paddingTop:{style:ns},paddingRight:{style:ns},paddingBottom:{style:ns},paddingLeft:{style:ns},paddingX:{style:ns},paddingY:{style:ns},paddingInline:{style:ns},paddingInlineStart:{style:ns},paddingInlineEnd:{style:ns},paddingBlock:{style:ns},paddingBlockStart:{style:ns},paddingBlockEnd:{style:ns},m:{style:ts},mt:{style:ts},mr:{style:ts},mb:{style:ts},ml:{style:ts},mx:{style:ts},my:{style:ts},margin:{style:ts},marginTop:{style:ts},marginRight:{style:ts},marginBottom:{style:ts},marginLeft:{style:ts},marginX:{style:ts},marginY:{style:ts},marginInline:{style:ts},marginInlineStart:{style:ts},marginInlineEnd:{style:ts},marginBlock:{style:ts},marginBlockStart:{style:ts},marginBlockEnd:{style:ts},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Qk},rowGap:{style:tR},columnGap:{style:eR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:nu},maxWidth:{style:C$},minWidth:{transform:nu},height:{transform:nu},maxHeight:{transform:nu},minHeight:{transform:nu},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},rE=x_e;function __e(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function b_e(t,e){return typeof t=="function"?t(e):t}function Jte(){function t(n,r,i,o){const a={[n]:r,theme:i},s=o[n];if(!s)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:h,style:p}=s;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const g=_b(i,c)||{};return p?p(a):Ac(a,r,x=>{let _=kP(g,h,x);return x===_&&typeof x=="string"&&(_=kP(g,h,`${n}${x==="default"?"":tn(x)}`,x)),l===!1?_:{[l]:_}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const a=(r=o.unstable_sxConfig)!=null?r:rE;function s(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const h=Xte(o.breakpoints),p=Object.keys(h);let g=h;return Object.keys(c).forEach(v=>{const x=b_e(c[v],o);if(x!=null)if(typeof x=="object")if(a[v])g=DS(g,t(v,x,o,a));else{const _=Ac({theme:o},x,S=>({[v]:S}));__e(_,x)?g[v]=e({sx:x,theme:o}):g=DS(g,_)}else g=DS(g,t(v,x,o,a))}),Kte(p,g)}return Array.isArray(i)?i.map(s):s(i)}return e}const Qte=Jte();Qte.filterProps=["sx"];const iE=Qte;function ene(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const w_e=["breakpoints","palette","spacing","shape"];function f1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,a=rn(t,w_e),s=Yte(n),l=Uxe(i);let c=Ba({breakpoints:s,direction:"ltr",components:{},palette:de({mode:"light"},r),spacing:l,shape:de({},Rxe,o)},a);return c.applyStyles=ene,c=e.reduce((h,p)=>Ba(h,p),c),c.unstable_sxConfig=de({},rE,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(p){return iE({sx:p,theme:this})},c}const S_e=Object.freeze(Object.defineProperty({__proto__:null,default:f1,private_createBreakpoints:Yte,unstable_applyStyles:ene},Symbol.toStringTag,{value:"Module"}));function M_e(t){return Object.keys(t).length===0}function tne(t=null){const e=V.useContext(eE);return!e||M_e(e)?t:e}const E_e=f1();function nR(t=E_e){return tne(t)}function T_e({styles:t,themeId:e,defaultTheme:n={}}){const r=nR(n),i=typeof t=="function"?t(e&&r[e]||r):t;return z.jsx(Hte,{styles:i})}const C_e=["sx"],A_e=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:rE;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function oE(t){const{sx:e}=t,n=rn(t,C_e),{systemProps:r,otherProps:i}=A_e(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...a)=>{const s=e(...a);return bp(s)?de({},r,s):r}:o=de({},r,e),de({},i,{sx:o})}const P_e=Object.freeze(Object.defineProperty({__proto__:null,default:iE,extendSxProp:oE,unstable_createStyleFunctionSx:Jte,unstable_defaultSxConfig:rE},Symbol.toStringTag,{value:"Module"})),HH=t=>t,I_e=()=>{let t=HH;return{configure(e){t=e},generate(e){return t(e)},reset(){t=HH}}},k_e=I_e(),A$=k_e;function nne(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nne(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nne(t))&&(r&&(r+=" "),r+=e);return r}const R_e=["className","component"];function O_e(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=w$("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(iE);return V.forwardRef(function(l,c){const h=nR(n),p=oE(l),{className:g,component:v="div"}=p,x=rn(p,R_e);return z.jsx(o,de({as:v,ref:c,className:Xt(g,i?i(r):r),theme:e&&h[e]||h},x))})}const rne={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $n(t,e,n="Mui"){const r=rne[e];return r?`${n}-${r}`:`${A$.generate(t)}-${e}`}function jn(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=$n(t,i,n)}),r}const L_e=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function ine(t){const e=`${t}`.match(L_e);return e&&e[1]||""}function one(t,e=""){return t.displayName||t.name||ine(t)||e}function GH(t,e,n){const r=one(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function D_e(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return one(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Qz.ForwardRef:return GH(t,t.render,"ForwardRef");case Qz.Memo:return GH(t,t.type,"memo");default:return}}}const N_e=Object.freeze(Object.defineProperty({__proto__:null,default:D_e,getFunctionName:ine},Symbol.toStringTag,{value:"Module"})),z_e=["ownerState"],B_e=["variants"],F_e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function $_e(t){return Object.keys(t).length===0}function j_e(t){return typeof t=="string"&&t.charCodeAt(0)>96}function PD(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const U_e=f1(),V_e=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function LT({defaultTheme:t,theme:e,themeId:n}){return $_e(e)?t:e[n]||e}function W_e(t){return t?(e,n)=>n[t]:null}function CA(t,e){let{ownerState:n}=e,r=rn(e,z_e);const i=typeof t=="function"?t(de({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>CA(o,de({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let s=rn(i,B_e);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(de({ownerState:n},r,n)):Object.keys(l.props).forEach(h=>{(n==null?void 0:n[h])!==l.props[h]&&r[h]!==l.props[h]&&(c=!1)}),c&&(Array.isArray(s)||(s=[s]),s.push(typeof l.style=="function"?l.style(de({ownerState:n},r,n)):l.style))}),s}return i}function H_e(t={}){const{themeId:e,defaultTheme:n=U_e,rootShouldForwardProp:r=PD,slotShouldForwardProp:i=PD}=t,o=a=>iE(de({},a,{theme:LT(de({},a,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(a,s={})=>{Gte(a,R=>R.filter(L=>!(L!=null&&L.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:h,skipSx:p,overridesResolver:g=W_e(V_e(c))}=s,v=rn(s,F_e),x=h!==void 0?h:c&&c!=="Root"&&c!=="root"||!1,_=p||!1;let S,w=PD;c==="Root"||c==="root"?w=r:c?w=i:j_e(a)&&(w=void 0);const C=w$(a,de({shouldForwardProp:w,label:S},v)),T=R=>typeof R=="function"&&R.__emotion_real!==R||bp(R)?L=>CA(R,de({},L,{theme:LT({theme:L.theme,defaultTheme:n,themeId:e})})):R,k=(R,...L)=>{let F=T(R);const H=L?L.map(T):[];l&&g&&H.push(X=>{const le=LT(de({},X,{defaultTheme:n,themeId:e}));if(!le.components||!le.components[l]||!le.components[l].styleOverrides)return null;const me=le.components[l].styleOverrides,ie={};return Object.entries(me).forEach(([ce,fe])=>{ie[ce]=CA(fe,de({},X,{theme:le}))}),g(X,ie)}),l&&!x&&H.push(X=>{var le;const me=LT(de({},X,{defaultTheme:n,themeId:e})),ie=me==null||(le=me.components)==null||(le=le[l])==null?void 0:le.variants;return CA({variants:ie},de({},X,{theme:me}))}),_||H.push(o);const Z=H.length-L.length;if(Array.isArray(R)&&Z>0){const X=new Array(Z).fill("");F=[...R,...X],F.raw=[...R.raw,...X]}const j=C(F,...H);return a.muiName&&(j.muiName=a.muiName),j};return C.withConfig&&(k.withConfig=C.withConfig),k}}const G_e=H_e(),sne=G_e;function P$(t,e){const n=de({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=de({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=de({},o),Object.keys(i).forEach(a=>{n[r][a]=P$(i[a],o[a])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function q_e(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:P$(e.components[n].defaultProps,r)}function I$({props:t,name:e,defaultTheme:n,themeId:r}){let i=nR(n);return r&&(i=i[r]||i),q_e({theme:i,name:e,props:t})}const Y_e=typeof window<"u"?V.useLayoutEffect:V.useEffect,mu=Y_e;function X_e(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const K_e=Object.freeze(Object.defineProperty({__proto__:null,default:X_e},Symbol.toStringTag,{value:"Module"}));function uB(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function sE(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function Z_e(t,e){return()=>null}function NS(t,e){var n,r;return V.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Ls(t){return t&&t.ownerDocument||document}function Ah(t){return Ls(t).defaultView||window}function J_e(t,e){return()=>null}function RP(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let qH=0;function Q_e(t){const[e,n]=V.useState(t),r=t||e;return V.useEffect(()=>{e==null&&(qH+=1,n(`mui-${qH}`))},[e]),r}const YH=ZA.useId;function rR(t){if(YH!==void 0){const e=YH();return t??e}return Q_e(t)}function ebe(t,e,n,r,i){return null}function bb({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=V.useRef(t!==void 0),[o,a]=V.useState(e),s=i?t:o,l=V.useCallback(c=>{i||a(c)},[]);return[s,l]}function Wl(t){const e=V.useRef(t);return mu(()=>{e.current=t}),V.useRef((...n)=>(0,e.current)(...n)).current}function Lo(...t){return V.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{RP(n,e)})},t)}const XH={};function tbe(t,e){const n=V.useRef(XH);return n.current===XH&&(n.current=t(e)),n}const nbe=[];function rbe(t){V.useEffect(t,nbe)}class aE{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new aE}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function kg(){const t=tbe(aE.create).current;return rbe(t.disposeEffect),t}let iR=!0,dB=!1;const ibe=new aE,obe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function sbe(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&obe[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function abe(t){t.metaKey||t.altKey||t.ctrlKey||(iR=!0)}function ID(){iR=!1}function lbe(){this.visibilityState==="hidden"&&dB&&(iR=!0)}function cbe(t){t.addEventListener("keydown",abe,!0),t.addEventListener("mousedown",ID,!0),t.addEventListener("pointerdown",ID,!0),t.addEventListener("touchstart",ID,!0),t.addEventListener("visibilitychange",lbe,!0)}function ube(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return iR||sbe(e)}function oR(){const t=V.useCallback(i=>{i!=null&&cbe(i.ownerDocument)},[]),e=V.useRef(!1);function n(){return e.current?(dB=!0,ibe.start(100,()=>{dB=!1}),e.current=!1,!0):!1}function r(i){return ube(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function ane(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let Ex;function lne(){if(Ex)return Ex;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),Ex="reverse",t.scrollLeft>0?Ex="default":(t.scrollLeft=1,t.scrollLeft===0&&(Ex="negative")),document.body.removeChild(t),Ex}function dbe(t,e){const n=t.scrollLeft;if(e!=="rtl")return n;switch(lne()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}const fbe=t=>{const e=V.useRef({});return V.useEffect(()=>{e.current=t}),e.current},cne=fbe;function hbe(t){return V.Children.toArray(t).filter(e=>V.isValidElement(e))}function Un(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,a)=>{if(a){const s=e(a);s!==""&&o.push(s),n&&n[a]&&o.push(n[a])}return o},[]).join(" ")}),r}const pbe=V.createContext(null),une=pbe;function k$(){return V.useContext(une)}const mbe=typeof Symbol=="function"&&Symbol.for,dne=mbe?Symbol.for("mui.nested"):"__THEME_NESTED__";function gbe(t,e){return typeof e=="function"?e(t):de({},t,e)}function ybe(t){const{children:e,theme:n}=t,r=k$(),i=V.useMemo(()=>{const o=r===null?n:gbe(r,n);return o!=null&&(o[dne]=r!==null),o},[n,r]);return z.jsx(une.Provider,{value:i,children:e})}const KH={};function ZH(t,e,n,r=!1){return V.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),a=t?de({},e,{[t]:o}):o;return r?()=>a:a}return t?de({},e,{[t]:n}):de({},e,n)},[t,e,n,r])}function vbe(t){const{children:e,theme:n,themeId:r}=t,i=tne(KH),o=k$()||KH,a=ZH(r,i,n),s=ZH(r,o,n,!0);return z.jsx(ybe,{theme:s,children:z.jsx(eE.Provider,{value:a,children:e})})}const xbe=["className","component","disableGutters","fixed","maxWidth","classes"],_be=f1(),bbe=sne("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${tn(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),wbe=t=>I$({props:t,name:"MuiContainer",defaultTheme:_be}),Sbe=(t,e)=>{const n=l=>$n(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:a}=t,s={root:["root",a&&`maxWidth${tn(String(a))}`,i&&"fixed",o&&"disableGutters"]};return Un(s,n,r)};function Mbe(t={}){const{createStyledComponent:e=bbe,useThemeProps:n=wbe,componentName:r="MuiContainer"}=t,i=e(({theme:a,ownerState:s})=>de({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!s.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}),({theme:a,ownerState:s})=>s.fixed&&Object.keys(a.breakpoints.values).reduce((l,c)=>{const h=c,p=a.breakpoints.values[h];return p!==0&&(l[a.breakpoints.up(h)]={maxWidth:`${p}${a.breakpoints.unit}`}),l},{}),({theme:a,ownerState:s})=>de({},s.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},s.maxWidth&&s.maxWidth!=="xs"&&{[a.breakpoints.up(s.maxWidth)]:{maxWidth:`${a.breakpoints.values[s.maxWidth]}${a.breakpoints.unit}`}}));return V.forwardRef(function(s,l){const c=n(s),{className:h,component:p="div",disableGutters:g=!1,fixed:v=!1,maxWidth:x="lg"}=c,_=rn(c,xbe),S=de({},c,{component:p,disableGutters:g,fixed:v,maxWidth:x}),w=Sbe(S,r);return z.jsx(i,de({as:p,ownerState:S,className:Xt(w.root,h),ref:l},_))})}const Ebe=["component","direction","spacing","divider","children","className","useFlexGap"],Tbe=f1(),Cbe=sne("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Abe(t){return I$({props:t,name:"MuiStack",defaultTheme:Tbe})}function Pbe(t,e){const n=V.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(V.cloneElement(e,{key:`separator-${o}`})),r),[])}const Ibe=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],kbe=({ownerState:t,theme:e})=>{let n=de({display:"flex",flexDirection:"column"},Ac({theme:e},f0({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=T$(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=f0({values:t.direction,base:i}),a=f0({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,h)=>{if(!o[l]){const g=c>0?o[h[c-1]]:"column";o[l]=g}}),n=Ba(n,Ac({theme:e},a,(l,c)=>t.useFlexGap?{gap:O0(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Ibe(c?o[c]:t.direction)}`]:O0(r,l)}}))}return n=Oxe(e.breakpoints,n),n};function Rbe(t={}){const{createStyledComponent:e=Cbe,useThemeProps:n=Abe,componentName:r="MuiStack"}=t,i=()=>Un({root:["root"]},l=>$n(r,l),{}),o=e(kbe);return V.forwardRef(function(l,c){const h=n(l),p=oE(h),{component:g="div",direction:v="column",spacing:x=0,divider:_,children:S,className:w,useFlexGap:C=!1}=p,T=rn(p,Ebe),k={direction:v,spacing:x,useFlexGap:C},R=i();return z.jsx(o,de({as:g,ownerState:k,ref:c,className:Xt(R.root,w)},T,{children:_?Pbe(S,_):S}))})}function Obe(t,e){return de({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Ts={},fne={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(fne);var ii=fne.exports;const Lbe=Rh(P0e),Dbe=Rh(K_e);var hne=ii;Object.defineProperty(Ts,"__esModule",{value:!0});var Ji=Ts.alpha=yne;Ts.blend=qbe;Ts.colorChannel=void 0;var wb=Ts.darken=O$;Ts.decomposeColor=fd;var Nbe=Ts.emphasize=Gbe,zbe=Ts.getContrastRatio=Ube;Ts.getLuminance=OP;Ts.hexToRgb=pne;Ts.hslToRgb=gne;var Sb=Ts.lighten=L$;Ts.private_safeAlpha=Vbe;Ts.private_safeColorChannel=void 0;Ts.private_safeDarken=Wbe;Ts.private_safeEmphasize=vne;Ts.private_safeLighten=Hbe;Ts.recomposeColor=h1;Ts.rgbToHex=jbe;var JH=hne(Lbe),Bbe=hne(Dbe);function R$(t,e=0,n=1){return(0,Bbe.default)(t,e,n)}function pne(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Fbe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function fd(t){if(t.type)return t;if(t.charAt(0)==="#")return fd(pne(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,JH.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,JH.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const mne=t=>{const e=fd(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Ts.colorChannel=mne;const $be=(t,e)=>{try{return mne(t)}catch{return t}};Ts.private_safeColorChannel=$be;function h1(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function jbe(t){if(t.indexOf("#")===0)return t;const{values:e}=fd(t);return`#${e.map((n,r)=>Fbe(r===3?Math.round(255*n):n)).join("")}`}function gne(t){t=fd(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),a=(c,h=(c+n/30)%12)=>i-o*Math.max(Math.min(h-3,9-h,1),-1);let s="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(s+="a",l.push(e[3])),h1({type:s,values:l})}function OP(t){t=fd(t);let e=t.type==="hsl"||t.type==="hsla"?fd(gne(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Ube(t,e){const n=OP(t),r=OP(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function yne(t,e){return t=fd(t),e=R$(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,h1(t)}function Vbe(t,e,n){try{return yne(t,e)}catch{return t}}function O$(t,e){if(t=fd(t),e=R$(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return h1(t)}function Wbe(t,e,n){try{return O$(t,e)}catch{return t}}function L$(t,e){if(t=fd(t),e=R$(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return h1(t)}function Hbe(t,e,n){try{return L$(t,e)}catch{return t}}function Gbe(t,e=.15){return OP(t)>.5?O$(t,e):L$(t,e)}function vne(t,e,n){try{return vne(t,e)}catch{return t}}function qbe(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),o=fd(t),a=fd(e),s=[i(o.values[0],a.values[0]),i(o.values[1],a.values[1]),i(o.values[2],a.values[2])];return h1({type:"rgb",values:s})}const Ybe=["mode","contrastThreshold","tonalOffset"],QH={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:I0.white,default:I0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},kD={text:{primary:I0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:I0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function e9(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Sb(t.main,i):e==="dark"&&(t.dark=wb(t.main,o)))}function Xbe(t="light"){return t==="dark"?{main:Sx[200],light:Sx[50],dark:Sx[400]}:{main:Sx[700],light:Sx[400],dark:Sx[800]}}function Kbe(t="light"){return t==="dark"?{main:wx[200],light:wx[50],dark:wx[400]}:{main:wx[500],light:wx[300],dark:wx[700]}}function Zbe(t="light"){return t==="dark"?{main:_p[500],light:_p[300],dark:_p[700]}:{main:_p[700],light:_p[400],dark:_p[800]}}function Jbe(t="light"){return t==="dark"?{main:Mx[400],light:Mx[300],dark:Mx[700]}:{main:Mx[700],light:Mx[500],dark:Mx[900]}}function Qbe(t="light"){return t==="dark"?{main:tf[400],light:tf[300],dark:tf[700]}:{main:tf[800],light:tf[500],dark:tf[900]}}function e1e(t="light"){return t==="dark"?{main:Ew[400],light:Ew[300],dark:Ew[700]}:{main:"#ed6c02",light:Ew[500],dark:Ew[900]}}function t1e(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=rn(t,Ybe),o=t.primary||Xbe(e),a=t.secondary||Kbe(e),s=t.error||Zbe(e),l=t.info||Jbe(e),c=t.success||Qbe(e),h=t.warning||e1e(e);function p(_){return zbe(_,kD.text.primary)>=n?kD.text.primary:QH.text.primary}const g=({color:_,name:S,mainShade:w=500,lightShade:C=300,darkShade:T=700})=>{if(_=de({},_),!_.main&&_[w]&&(_.main=_[w]),!_.hasOwnProperty("main"))throw new Error(k0(11,S?` (${S})`:"",w));if(typeof _.main!="string")throw new Error(k0(12,S?` (${S})`:"",JSON.stringify(_.main)));return e9(_,"light",C,r),e9(_,"dark",T,r),_.contrastText||(_.contrastText=p(_.main)),_},v={dark:kD,light:QH};return Ba(de({common:de({},I0),mode:e,primary:g({color:o,name:"primary"}),secondary:g({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:s,name:"error"}),warning:g({color:h,name:"warning"}),info:g({color:l,name:"info"}),success:g({color:c,name:"success"}),grey:xh,contrastThreshold:n,getContrastText:p,augmentColor:g,tonalOffset:r},v[e]),i)}const n1e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function r1e(t){return Math.round(t*1e5)/1e5}const t9={textTransform:"uppercase"},n9='"Roboto", "Helvetica", "Arial", sans-serif';function i1e(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=n9,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:h,pxToRem:p}=n,g=rn(n,n1e),v=i/14,x=p||(w=>`${w/c*v}rem`),_=(w,C,T,k,R)=>de({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:T},r===n9?{letterSpacing:`${r1e(k/C)}em`}:{},R,h),S={h1:_(o,96,1.167,-1.5),h2:_(o,60,1.2,-.5),h3:_(a,48,1.167,0),h4:_(a,34,1.235,.25),h5:_(a,24,1.334,0),h6:_(s,20,1.6,.15),subtitle1:_(a,16,1.75,.15),subtitle2:_(s,14,1.57,.1),body1:_(a,16,1.5,.15),body2:_(a,14,1.43,.15),button:_(s,14,1.75,.4,t9),caption:_(a,12,1.66,.4),overline:_(a,12,2.66,1,t9),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ba(de({htmlFontSize:c,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:l},S),g,{clone:!1})}const o1e=.2,s1e=.14,a1e=.12;function Ao(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${o1e})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${s1e})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${a1e})`].join(",")}const l1e=["none",Ao(0,2,1,-1,0,1,1,0,0,1,3,0),Ao(0,3,1,-2,0,2,2,0,0,1,5,0),Ao(0,3,3,-2,0,3,4,0,0,1,8,0),Ao(0,2,4,-1,0,4,5,0,0,1,10,0),Ao(0,3,5,-1,0,5,8,0,0,1,14,0),Ao(0,3,5,-1,0,6,10,0,0,1,18,0),Ao(0,4,5,-2,0,7,10,1,0,2,16,1),Ao(0,5,5,-3,0,8,10,1,0,3,14,2),Ao(0,5,6,-3,0,9,12,1,0,3,16,2),Ao(0,6,6,-3,0,10,14,1,0,4,18,3),Ao(0,6,7,-4,0,11,15,1,0,4,20,3),Ao(0,7,8,-4,0,12,17,2,0,5,22,4),Ao(0,7,8,-4,0,13,19,2,0,5,24,4),Ao(0,7,9,-4,0,14,21,2,0,5,26,4),Ao(0,8,9,-5,0,15,22,2,0,6,28,5),Ao(0,8,10,-5,0,16,24,2,0,6,30,5),Ao(0,8,11,-5,0,17,26,2,0,6,32,5),Ao(0,9,11,-5,0,18,28,2,0,7,34,6),Ao(0,9,12,-6,0,19,29,2,0,7,36,6),Ao(0,10,13,-6,0,20,31,3,0,8,38,7),Ao(0,10,13,-6,0,21,33,3,0,8,40,7),Ao(0,10,14,-6,0,22,35,3,0,8,42,7),Ao(0,11,14,-7,0,23,36,3,0,9,44,8),Ao(0,11,15,-7,0,24,38,3,0,9,46,8)],c1e=l1e,u1e=["duration","easing","delay"],d1e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function r9(t){return`${Math.round(t)}ms`}function f1e(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function h1e(t){const e=de({},d1e,t.easing),n=de({},xne,t.duration);return de({getAutoHeightDuration:f1e,create:(i=["all"],o={})=>{const{duration:a=n.standard,easing:s=e.easeInOut,delay:l=0}=o;return rn(o,u1e),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof a=="string"?a:r9(a)} ${s} ${typeof l=="string"?l:r9(l)}`).join(",")}},t,{easing:e,duration:n})}const p1e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},m1e=p1e,g1e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function D$(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,a=rn(t,g1e);if(t.vars)throw new Error(k0(18));const s=t1e(r),l=f1(t);let c=Ba(l,{mixins:Obe(l.breakpoints,n),palette:s,shadows:c1e.slice(),typography:i1e(s,o),transitions:h1e(i),zIndex:de({},m1e)});return c=Ba(c,a),c=e.reduce((h,p)=>Ba(h,p),c),c.unstable_sxConfig=de({},rE,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(p){return iE({sx:p,theme:this})},c}const y1e=D$(),sR=y1e;function xd(){const t=nR(sR);return t[R0]||t}function Gn({props:t,name:e}){return I$({props:t,name:e,defaultTheme:sR,themeId:R0})}var lE={},RD={exports:{}},i9;function v1e(){return i9||(i9=1,function(t){function e(n,r){if(n==null)return{};var i={},o=Object.keys(n),a,s;for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&(i[a]=n[a]);return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(RD)),RD.exports}const _ne=Rh(Cxe),x1e=Rh(Axe),_1e=Rh(Dxe),b1e=Rh(N_e),w1e=Rh(S_e),S1e=Rh(P_e);var p1=ii;Object.defineProperty(lE,"__esModule",{value:!0});var M1e=lE.default=z1e,bne=lE.shouldForwardProp=AA;lE.systemDefaultTheme=void 0;var Gu=p1($te()),fB=p1(v1e()),o9=k1e(_ne),E1e=x1e;p1(_1e);p1(b1e);var T1e=p1(w1e),C1e=p1(S1e);const A1e=["ownerState"],P1e=["variants"],I1e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function wne(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(wne=function(r){return r?n:e})(t)}function k1e(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=wne(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function R1e(t){return Object.keys(t).length===0}function O1e(t){return typeof t=="string"&&t.charCodeAt(0)>96}function AA(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const L1e=lE.systemDefaultTheme=(0,T1e.default)(),D1e=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function DT({defaultTheme:t,theme:e,themeId:n}){return R1e(e)?t:e[n]||e}function N1e(t){return t?(e,n)=>n[t]:null}function PA(t,e){let{ownerState:n}=e,r=(0,fB.default)(e,A1e);const i=typeof t=="function"?t((0,Gu.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>PA(o,(0,Gu.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let s=(0,fB.default)(i,P1e);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Gu.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(h=>{(n==null?void 0:n[h])!==l.props[h]&&r[h]!==l.props[h]&&(c=!1)}),c&&(Array.isArray(s)||(s=[s]),s.push(typeof l.style=="function"?l.style((0,Gu.default)({ownerState:n},r,n)):l.style))}),s}return i}function z1e(t={}){const{themeId:e,defaultTheme:n=L1e,rootShouldForwardProp:r=AA,slotShouldForwardProp:i=AA}=t,o=a=>(0,C1e.default)((0,Gu.default)({},a,{theme:DT((0,Gu.default)({},a,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(a,s={})=>{(0,o9.internal_processStyles)(a,R=>R.filter(L=>!(L!=null&&L.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:h,skipSx:p,overridesResolver:g=N1e(D1e(c))}=s,v=(0,fB.default)(s,I1e),x=h!==void 0?h:c&&c!=="Root"&&c!=="root"||!1,_=p||!1;let S,w=AA;c==="Root"||c==="root"?w=r:c?w=i:O1e(a)&&(w=void 0);const C=(0,o9.default)(a,(0,Gu.default)({shouldForwardProp:w,label:S},v)),T=R=>typeof R=="function"&&R.__emotion_real!==R||(0,E1e.isPlainObject)(R)?L=>PA(R,(0,Gu.default)({},L,{theme:DT({theme:L.theme,defaultTheme:n,themeId:e})})):R,k=(R,...L)=>{let F=T(R);const H=L?L.map(T):[];l&&g&&H.push(X=>{const le=DT((0,Gu.default)({},X,{defaultTheme:n,themeId:e}));if(!le.components||!le.components[l]||!le.components[l].styleOverrides)return null;const me=le.components[l].styleOverrides,ie={};return Object.entries(me).forEach(([ce,fe])=>{ie[ce]=PA(fe,(0,Gu.default)({},X,{theme:le}))}),g(X,ie)}),l&&!x&&H.push(X=>{var le;const me=DT((0,Gu.default)({},X,{defaultTheme:n,themeId:e})),ie=me==null||(le=me.components)==null||(le=le[l])==null?void 0:le.variants;return PA({variants:ie},(0,Gu.default)({},X,{theme:me}))}),_||H.push(o);const Z=H.length-L.length;if(Array.isArray(R)&&Z>0){const X=new Array(Z).fill("");F=[...R,...X],F.raw=[...R.raw,...X]}const j=C(F,...H);return a.muiName&&(j.muiName=a.muiName),j};return C.withConfig&&(k.withConfig=C.withConfig),k}}const Jl=t=>bne(t)&&t!=="classes",B1e=bne,F1e=M1e({themeId:R0,defaultTheme:sR,rootShouldForwardProp:Jl}),Zt=F1e,$1e=["theme"];function j1e(t){let{theme:e}=t,n=rn(t,$1e);const r=e[R0];return z.jsx(vbe,de({},n,{themeId:r?R0:void 0,theme:r||e}))}const U1e=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},s9=U1e;function V1e(t){return $n("MuiSvgIcon",t)}jn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const W1e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],H1e=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${tn(e)}`,`fontSize${tn(n)}`]};return Un(i,V1e,r)},G1e=Zt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${tn(n.color)}`],e[`fontSize${tn(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,a,s,l,c,h,p,g,v,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((s=t.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem",large:((c=t.typography)==null||(h=c.pxToRem)==null?void 0:h.call(c,35))||"2.1875rem"}[e.fontSize],color:(p=(g=(t.vars||t).palette)==null||(g=g[e.color])==null?void 0:g.main)!=null?p:{action:(v=(t.vars||t).palette)==null||(v=v.action)==null?void 0:v.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[e.color]}}),Sne=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:h=!1,titleAccess:p,viewBox:g="0 0 24 24"}=r,v=rn(r,W1e),x=V.isValidElement(i)&&i.type==="svg",_=de({},r,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:x}),S={};h||(S.viewBox=g);const w=H1e(_);return z.jsxs(G1e,de({as:s,className:Xt(w.root,o),focusable:"false",color:c,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n},S,v,x&&i.props,{ownerState:_,children:[x?i.props.children:i,p?z.jsx("title",{children:p}):null]}))});Sne.muiName="SvgIcon";const a9=Sne;function $a(t,e){function n(r,i){return z.jsx(a9,de({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=a9.muiName,V.memo(V.forwardRef(n))}const q1e={configure:t=>{A$.configure(t)}},Y1e=Object.freeze(Object.defineProperty({__proto__:null,capitalize:tn,createChainedFunction:uB,createSvgIcon:$a,debounce:sE,deprecatedPropType:Z_e,isMuiElement:NS,ownerDocument:Ls,ownerWindow:Ah,requirePropFactory:J_e,setRef:RP,unstable_ClassNameGenerator:q1e,unstable_useEnhancedEffect:mu,unstable_useId:rR,unsupportedProp:ebe,useControlled:bb,useEventCallback:Wl,useForkRef:Lo,useIsFocusVisible:oR},Symbol.toStringTag,{value:"Module"}));function hB(t,e){return hB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hB(t,e)}function cE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hB(t,e)}const l9={disabled:!1},LP=Ze.createContext(null);var X1e=function(e){return e.scrollTop},vS="unmounted",Dv="exited",Nv="entering",l_="entered",pB="exiting",im=function(t){cE(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?s?(l=Dv,o.appearStatus=Nv):l=l_:r.unmountOnExit||r.mountOnEnter?l=vS:l=Dv,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===vS?{status:Dv}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Nv&&a!==l_&&(o=Nv):(a===Nv||a===l_)&&(o=pB)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Nv){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:kT.findDOMNode(this);a&&X1e(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Dv&&this.setState({status:vS})},n.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[kT.findDOMNode(this),s],c=l[0],h=l[1],p=this.getTimeouts(),g=s?p.appear:p.enter;if(!i&&!a||l9.disabled){this.safeSetState({status:l_},function(){o.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:Nv},function(){o.props.onEntering(c,h),o.onTransitionEnd(g,function(){o.safeSetState({status:l_},function(){o.props.onEntered(c,h)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:kT.findDOMNode(this);if(!o||l9.disabled){this.safeSetState({status:Dv},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:pB},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Dv},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:kT.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=l[0],h=l[1];this.props.addEndListener(c,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===vS)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=rn(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ze.createElement(LP.Provider,{value:null},typeof a=="function"?a(i,s):Ze.cloneElement(Ze.Children.only(a),s))},e}(Ze.Component);im.contextType=LP;im.propTypes={};function Tx(){}im.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Tx,onEntering:Tx,onEntered:Tx,onExit:Tx,onExiting:Tx,onExited:Tx};im.UNMOUNTED=vS;im.EXITED=Dv;im.ENTERING=Nv;im.ENTERED=l_;im.EXITING=pB;const N$=im;function IM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z$(t,e){var n=function(o){return e&&V.isValidElement(o)?e(o):o},r=Object.create(null);return t&&V.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function K1e(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var l in e){if(r[l])for(a=0;a<r[l].length;a++){var c=r[l][a];s[r[l][a]]=n(c)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}function Kv(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Z1e(t,e){return z$(t.children,function(n){return V.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Kv(n,"appear",t),enter:Kv(n,"enter",t),exit:Kv(n,"exit",t)})})}function J1e(t,e,n){var r=z$(t.children),i=K1e(e,r);return Object.keys(i).forEach(function(o){var a=i[o];if(V.isValidElement(a)){var s=o in e,l=o in r,c=e[o],h=V.isValidElement(c)&&!c.props.in;l&&(!s||h)?i[o]=V.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Kv(a,"exit",t),enter:Kv(a,"enter",t)}):!l&&s&&!h?i[o]=V.cloneElement(a,{in:!1}):l&&s&&V.isValidElement(c)&&(i[o]=V.cloneElement(a,{onExited:n.bind(null,a),in:c.props.in,exit:Kv(a,"exit",t),enter:Kv(a,"enter",t)}))}}),i}var Q1e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},ewe={component:"div",childFactory:function(e){return e}},B$=function(t){cE(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var a=o.handleExited.bind(IM(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,l=o.firstRender;return{children:l?Z1e(i,s):J1e(i,a,s),firstRender:!1}},n.handleExited=function(i,o){var a=z$(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var l=de({},s.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=rn(i,["component","childFactory"]),l=this.state.contextValue,c=Q1e(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?Ze.createElement(LP.Provider,{value:l},c):Ze.createElement(LP.Provider,{value:l},Ze.createElement(o,s,c))},e}(Ze.Component);B$.propTypes={};B$.defaultProps=ewe;const twe=B$,Mne=t=>t.scrollTop;function Mb(t,e){var n,r;const{timeout:i,easing:o,style:a={}}=t;return{duration:(n=a.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:a.transitionDelay}}function nwe(t){return $n("MuiCollapse",t)}jn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const rwe=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],iwe=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Un(r,nwe,n)},owe=Zt("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>de({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&de({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),swe=Zt("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>de({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),awe=Zt("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>de({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),Ene=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:a,collapsedSize:s="0px",component:l,easing:c,in:h,onEnter:p,onEntered:g,onEntering:v,onExit:x,onExited:_,onExiting:S,orientation:w="vertical",style:C,timeout:T=xne.standard,TransitionComponent:k=N$}=r,R=rn(r,rwe),L=de({},r,{orientation:w,collapsedSize:s}),F=iwe(L),H=xd(),Z=kg(),j=V.useRef(null),X=V.useRef(),le=typeof s=="number"?`${s}px`:s,me=w==="horizontal",ie=me?"width":"height",ce=V.useRef(null),fe=Lo(n,ce),xe=ct=>Dt=>{if(ct){const zt=ce.current;Dt===void 0?ct(zt):ct(zt,Dt)}},te=()=>j.current?j.current[me?"clientWidth":"clientHeight"]:0,he=xe((ct,Dt)=>{j.current&&me&&(j.current.style.position="absolute"),ct.style[ie]=le,p&&p(ct,Dt)}),ve=xe((ct,Dt)=>{const zt=te();j.current&&me&&(j.current.style.position="");const{duration:Be,easing:lt}=Mb({style:C,timeout:T,easing:c},{mode:"enter"});if(T==="auto"){const Qe=H.transitions.getAutoHeightDuration(zt);ct.style.transitionDuration=`${Qe}ms`,X.current=Qe}else ct.style.transitionDuration=typeof Be=="string"?Be:`${Be}ms`;ct.style[ie]=`${zt}px`,ct.style.transitionTimingFunction=lt,v&&v(ct,Dt)}),ze=xe((ct,Dt)=>{ct.style[ie]="auto",g&&g(ct,Dt)}),Ue=xe(ct=>{ct.style[ie]=`${te()}px`,x&&x(ct)}),rt=xe(_),Fe=xe(ct=>{const Dt=te(),{duration:zt,easing:Be}=Mb({style:C,timeout:T,easing:c},{mode:"exit"});if(T==="auto"){const lt=H.transitions.getAutoHeightDuration(Dt);ct.style.transitionDuration=`${lt}ms`,X.current=lt}else ct.style.transitionDuration=typeof zt=="string"?zt:`${zt}ms`;ct.style[ie]=le,ct.style.transitionTimingFunction=Be,S&&S(ct)}),st=ct=>{T==="auto"&&Z.start(X.current||0,ct),i&&i(ce.current,ct)};return z.jsx(k,de({in:h,onEnter:he,onEntered:ze,onEntering:ve,onExit:Ue,onExited:rt,onExiting:Fe,addEndListener:st,nodeRef:ce,timeout:T==="auto"?null:T},R,{children:(ct,Dt)=>z.jsx(owe,de({as:l,className:Xt(F.root,a,{entered:F.entered,exited:!h&&le==="0px"&&F.hidden}[ct]),style:de({[me?"minWidth":"minHeight"]:le},C),ref:fe},Dt,{ownerState:de({},L,{state:ct}),children:z.jsx(swe,{ownerState:de({},L,{state:ct}),className:F.wrapper,ref:j,children:z.jsx(awe,{ownerState:de({},L,{state:ct}),className:F.wrapperInner,children:o})})}))}))});Ene.muiSupportAuto=!0;const lwe=Ene;function cwe(t){return $n("MuiPaper",t)}jn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const uwe=["className","component","elevation","square","variant"],dwe=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Un(o,cwe,i)},fwe=Zt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return de({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&de({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ji("#fff",s9(e.elevation))}, ${Ji("#fff",s9(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),hwe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:a=1,square:s=!1,variant:l="elevation"}=r,c=rn(r,uwe),h=de({},r,{component:o,elevation:a,square:s,variant:l}),p=dwe(h);return z.jsx(fwe,de({as:o,ownerState:h,className:Xt(p.root,i),ref:n},c))}),Ss=hwe,pwe=V.createContext({}),Tne=pwe;function DP(t){return typeof t=="string"}function E_(t,e,n){return t===void 0||DP(t)?e:de({},e,{ownerState:de({},e.ownerState,n)})}const mwe={disableDefaultClasses:!1},gwe=V.createContext(mwe);function ywe(t){const{disableDefaultClasses:e}=V.useContext(gwe);return n=>e?"":t(n)}function NP(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Cne(t,e,n){return typeof t=="function"?t(e,n):t}function c9(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Ane(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const v=Xt(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),x=de({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),_=de({},n,i,r);return v.length>0&&(_.className=v),Object.keys(x).length>0&&(_.style=x),{props:_,internalRef:void 0}}const a=NP(de({},i,r)),s=c9(r),l=c9(i),c=e(a),h=Xt(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),p=de({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=de({},c,n,l,s);return h.length>0&&(g.className=h),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:c.ref}}const vwe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Pc(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,a=rn(t,vwe),s=o?{}:Cne(r,i),{props:l,internalRef:c}=Ane(de({},a,{externalSlotProps:s})),h=Lo(c,s==null?void 0:s.ref,(e=t.additionalProps)==null?void 0:e.ref);return E_(n,de({},l,{ref:h}),i)}const xwe=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],_we=["component","slots","slotProps"],bwe=["component"];function zP(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:a,internalForwardedProps:s}=e,l=rn(e,xwe),{component:c,slots:h={[t]:void 0},slotProps:p={[t]:void 0}}=o,g=rn(o,_we),v=h[t]||r,x=Cne(p[t],i),_=Ane(de({className:n},l,{externalForwardedProps:t==="root"?g:void 0,externalSlotProps:x})),{props:{component:S},internalRef:w}=_,C=rn(_.props,bwe),T=Lo(w,x==null?void 0:x.ref,e.ref),k=a?a(C):{},R=de({},i,k),L=t==="root"?S||c:S,F=E_(v,de({},t==="root"&&!c&&!h[t]&&s,t!=="root"&&!h[t]&&s,C,L&&{as:L},{ref:T}),R);return Object.keys(k).forEach(H=>{delete F[H]}),[v,F]}function wwe(t){return $n("MuiAccordion",t)}const Swe=jn("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),NT=Swe,Mwe=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],Ewe=t=>{const{classes:e,square:n,expanded:r,disabled:i,disableGutters:o}=t;return Un({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},wwe,e)},Twe=Zt(Ss,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${NT.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${NT.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${NT.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t,ownerState:e})=>de({},!e.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!e.disableGutters&&{[`&.${NT.expanded}`]:{margin:"16px 0"}})),Cwe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:a=!1,disabled:s=!1,disableGutters:l=!1,expanded:c,onChange:h,square:p=!1,slots:g={},slotProps:v={},TransitionComponent:x,TransitionProps:_}=r,S=rn(r,Mwe),[w,C]=bb({controlled:c,default:a,name:"Accordion",state:"expanded"}),T=V.useCallback(me=>{C(!w),h&&h(me,!w)},[w,h,C]),[k,...R]=V.Children.toArray(i),L=V.useMemo(()=>({expanded:w,disabled:s,disableGutters:l,toggle:T}),[w,s,l,T]),F=de({},r,{square:p,disabled:s,disableGutters:l,expanded:w}),H=Ewe(F),Z=de({transition:x},g),j=de({transition:_},v),[X,le]=zP("transition",{elementType:lwe,externalForwardedProps:{slots:Z,slotProps:j},ownerState:F});return z.jsxs(Twe,de({className:Xt(H.root,o),ref:n,ownerState:F,square:p},S,{children:[z.jsx(Tne.Provider,{value:L,children:k}),z.jsx(X,de({in:w,timeout:"auto"},le,{children:z.jsx("div",{"aria-labelledby":k.props.id,id:k.props["aria-controls"],role:"region",className:H.region,children:R})}))]}))}),pl=Cwe;function Awe(t){return $n("MuiAccordionDetails",t)}jn("MuiAccordionDetails",["root"]);const Pwe=["className"],Iwe=t=>{const{classes:e}=t;return Un({root:["root"]},Awe,e)},kwe=Zt("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),Rwe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiAccordionDetails"}),{className:i}=r,o=rn(r,Pwe),a=r,s=Iwe(a);return z.jsx(kwe,de({className:Xt(s.root,i),ref:n,ownerState:a},o))}),ml=Rwe;function Owe(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:l,timeout:c}=t,[h,p]=V.useState(!1),g=Xt(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},x=Xt(n.child,h&&n.childLeaving,r&&n.childPulsate);return!s&&!h&&p(!0),V.useEffect(()=>{if(!s&&l!=null){const _=setTimeout(l,c);return()=>{clearTimeout(_)}}},[l,s,c]),z.jsx("span",{className:g,style:v,children:z.jsx("span",{className:x})})}const Lwe=jn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),qu=Lwe,Dwe=["center","classes","className"];let aR=t=>t,u9,d9,f9,h9;const mB=550,Nwe=80,zwe=W0(u9||(u9=aR`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Bwe=W0(d9||(d9=aR`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Fwe=W0(f9||(f9=aR`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),$we=Zt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),jwe=Zt(Owe,{name:"MuiTouchRipple",slot:"Ripple"})(h9||(h9=aR`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),qu.rippleVisible,zwe,mB,({theme:t})=>t.transitions.easing.easeInOut,qu.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,qu.child,qu.childLeaving,Bwe,mB,({theme:t})=>t.transitions.easing.easeInOut,qu.childPulsate,Fwe,({theme:t})=>t.transitions.easing.easeInOut),Uwe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a}=r,s=rn(r,Dwe),[l,c]=V.useState([]),h=V.useRef(0),p=V.useRef(null);V.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const g=V.useRef(!1),v=kg(),x=V.useRef(null),_=V.useRef(null),S=V.useCallback(k=>{const{pulsate:R,rippleX:L,rippleY:F,rippleSize:H,cb:Z}=k;c(j=>[...j,z.jsx(jwe,{classes:{ripple:Xt(o.ripple,qu.ripple),rippleVisible:Xt(o.rippleVisible,qu.rippleVisible),ripplePulsate:Xt(o.ripplePulsate,qu.ripplePulsate),child:Xt(o.child,qu.child),childLeaving:Xt(o.childLeaving,qu.childLeaving),childPulsate:Xt(o.childPulsate,qu.childPulsate)},timeout:mB,pulsate:R,rippleX:L,rippleY:F,rippleSize:H},h.current)]),h.current+=1,p.current=Z},[o]),w=V.useCallback((k={},R={},L=()=>{})=>{const{pulsate:F=!1,center:H=i||R.pulsate,fakeElement:Z=!1}=R;if((k==null?void 0:k.type)==="mousedown"&&g.current){g.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(g.current=!0);const j=Z?null:_.current,X=j?j.getBoundingClientRect():{width:0,height:0,left:0,top:0};let le,me,ie;if(H||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)le=Math.round(X.width/2),me=Math.round(X.height/2);else{const{clientX:ce,clientY:fe}=k.touches&&k.touches.length>0?k.touches[0]:k;le=Math.round(ce-X.left),me=Math.round(fe-X.top)}if(H)ie=Math.sqrt((2*X.width**2+X.height**2)/3),ie%2===0&&(ie+=1);else{const ce=Math.max(Math.abs((j?j.clientWidth:0)-le),le)*2+2,fe=Math.max(Math.abs((j?j.clientHeight:0)-me),me)*2+2;ie=Math.sqrt(ce**2+fe**2)}k!=null&&k.touches?x.current===null&&(x.current=()=>{S({pulsate:F,rippleX:le,rippleY:me,rippleSize:ie,cb:L})},v.start(Nwe,()=>{x.current&&(x.current(),x.current=null)})):S({pulsate:F,rippleX:le,rippleY:me,rippleSize:ie,cb:L})},[i,S,v]),C=V.useCallback(()=>{w({},{pulsate:!0})},[w]),T=V.useCallback((k,R)=>{if(v.clear(),(k==null?void 0:k.type)==="touchend"&&x.current){x.current(),x.current=null,v.start(0,()=>{T(k,R)});return}x.current=null,c(L=>L.length>0?L.slice(1):L),p.current=R},[v]);return V.useImperativeHandle(n,()=>({pulsate:C,start:w,stop:T}),[C,w,T]),z.jsx($we,de({className:Xt(qu.root,o.root,a),ref:_},s,{children:z.jsx(twe,{component:null,exit:!0,children:l})}))}),Vwe=Uwe;function Wwe(t){return $n("MuiButtonBase",t)}const Hwe=jn("MuiButtonBase",["root","disabled","focusVisible"]),Gwe=Hwe,qwe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Ywe=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,a=Un({root:["root",e&&"disabled",n&&"focusVisible"]},Wwe,i);return n&&r&&(a.root+=` ${r}`),a},Xwe=Zt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Gwe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Kwe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:c=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:g=!1,LinkComponent:v="a",onBlur:x,onClick:_,onContextMenu:S,onDragLeave:w,onFocus:C,onFocusVisible:T,onKeyDown:k,onKeyUp:R,onMouseDown:L,onMouseLeave:F,onMouseUp:H,onTouchEnd:Z,onTouchMove:j,onTouchStart:X,tabIndex:le=0,TouchRippleProps:me,touchRippleRef:ie,type:ce}=r,fe=rn(r,qwe),xe=V.useRef(null),te=V.useRef(null),he=Lo(te,ie),{isFocusVisibleRef:ve,onFocus:ze,onBlur:Ue,ref:rt}=oR(),[Fe,st]=V.useState(!1);c&&Fe&&st(!1),V.useImperativeHandle(i,()=>({focusVisible:()=>{st(!0),xe.current.focus()}}),[]);const[ct,Dt]=V.useState(!1);V.useEffect(()=>{Dt(!0)},[]);const zt=ct&&!h&&!c;V.useEffect(()=>{Fe&&g&&!h&&ct&&te.current.pulsate()},[h,g,Fe,ct]);function Be(Rt,nn,Pn=p){return Wl(mt=>(nn&&nn(mt),!Pn&&te.current&&te.current[Rt](mt),!0))}const lt=Be("start",L),Qe=Be("stop",S),ge=Be("stop",w),et=Be("stop",H),ot=Be("stop",Rt=>{Fe&&Rt.preventDefault(),F&&F(Rt)}),Tt=Be("start",X),Ct=Be("stop",Z),Ft=Be("stop",j),Gt=Be("stop",Rt=>{Ue(Rt),ve.current===!1&&st(!1),x&&x(Rt)},!1),sn=Wl(Rt=>{xe.current||(xe.current=Rt.currentTarget),ze(Rt),ve.current===!0&&(st(!0),T&&T(Rt)),C&&C(Rt)}),Je=()=>{const Rt=xe.current;return l&&l!=="button"&&!(Rt.tagName==="A"&&Rt.href)},Ce=V.useRef(!1),_e=Wl(Rt=>{g&&!Ce.current&&Fe&&te.current&&Rt.key===" "&&(Ce.current=!0,te.current.stop(Rt,()=>{te.current.start(Rt)})),Rt.target===Rt.currentTarget&&Je()&&Rt.key===" "&&Rt.preventDefault(),k&&k(Rt),Rt.target===Rt.currentTarget&&Je()&&Rt.key==="Enter"&&!c&&(Rt.preventDefault(),_&&_(Rt))}),ht=Wl(Rt=>{g&&Rt.key===" "&&te.current&&Fe&&!Rt.defaultPrevented&&(Ce.current=!1,te.current.stop(Rt,()=>{te.current.pulsate(Rt)})),R&&R(Rt),_&&Rt.target===Rt.currentTarget&&Je()&&Rt.key===" "&&!Rt.defaultPrevented&&_(Rt)});let dt=l;dt==="button"&&(fe.href||fe.to)&&(dt=v);const Wt={};dt==="button"?(Wt.type=ce===void 0?"button":ce,Wt.disabled=c):(!fe.href&&!fe.to&&(Wt.role="button"),c&&(Wt["aria-disabled"]=c));const jt=Lo(n,rt,xe),Mn=de({},r,{centerRipple:o,component:l,disabled:c,disableRipple:h,disableTouchRipple:p,focusRipple:g,tabIndex:le,focusVisible:Fe}),cn=Ywe(Mn);return z.jsxs(Xwe,de({as:dt,className:Xt(cn.root,s),ownerState:Mn,onBlur:Gt,onClick:_,onContextMenu:Qe,onFocus:sn,onKeyDown:_e,onKeyUp:ht,onMouseDown:lt,onMouseLeave:ot,onMouseUp:et,onDragLeave:ge,onTouchEnd:Ct,onTouchMove:Ft,onTouchStart:Tt,ref:jt,tabIndex:c?-1:le,type:ce},Wt,fe,{children:[a,zt?z.jsx(Vwe,de({ref:he,center:o},me)):null]}))}),om=Kwe;function Zwe(t){return $n("MuiAccordionSummary",t)}const Jwe=jn("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),T_=Jwe,Qwe=["children","className","expandIcon","focusVisibleClassName","onClick"],eSe=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:i}=t;return Un({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Zwe,e)},tSe=Zt(om,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{const n={duration:t.transitions.duration.shortest};return de({display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${T_.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${T_.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${T_.disabled})`]:{cursor:"pointer"}},!e.disableGutters&&{[`&.${T_.expanded}`]:{minHeight:64}})}),nSe=Zt("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t,ownerState:e})=>de({display:"flex",flexGrow:1,margin:"12px 0"},!e.disableGutters&&{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${T_.expanded}`]:{margin:"20px 0"}})),rSe=Zt("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${T_.expanded}`]:{transform:"rotate(180deg)"}})),iSe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:a,focusVisibleClassName:s,onClick:l}=r,c=rn(r,Qwe),{disabled:h=!1,disableGutters:p,expanded:g,toggle:v}=V.useContext(Tne),x=w=>{v&&v(w),l&&l(w)},_=de({},r,{expanded:g,disabled:h,disableGutters:p}),S=eSe(_);return z.jsxs(tSe,de({focusRipple:!1,disableRipple:!0,disabled:h,component:"div","aria-expanded":g,className:Xt(S.root,o),focusVisibleClassName:Xt(S.focusVisible,s),onClick:x,ref:n,ownerState:_},c,{children:[z.jsx(nSe,{className:S.content,ownerState:_,children:i}),a&&z.jsx(rSe,{className:S.expandIconWrapper,ownerState:_,children:a})]}))}),gl=iSe;function F$(t){return Gn}function oSe(t){return $n("MuiAlert",t)}const sSe=jn("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),p9=sSe;function aSe(t){return $n("MuiIconButton",t)}const lSe=jn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),cSe=lSe,uSe=["edge","children","className","color","disabled","disableFocusRipple","size"],dSe=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,a={root:["root",n&&"disabled",r!=="default"&&`color${tn(r)}`,i&&`edge${tn(i)}`,`size${tn(o)}`]};return Un(a,aSe,e)},fSe=Zt(om,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${tn(n.color)}`],n.edge&&e[`edge${tn(n.edge)}`],e[`size${tn(n.size)}`]]}})(({theme:t,ownerState:e})=>de({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Ji(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return de({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&de({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":de({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ji(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${cSe.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),hSe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:s="default",disabled:l=!1,disableFocusRipple:c=!1,size:h="medium"}=r,p=rn(r,uSe),g=de({},r,{edge:i,color:s,disabled:l,disableFocusRipple:c,size:h}),v=dSe(g);return z.jsx(fSe,de({className:Xt(v.root,a),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},p,{ownerState:g,children:o}))}),gr=hSe,pSe=$a(z.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),mSe=$a(z.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),gSe=$a(z.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ySe=$a(z.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),vSe=$a(z.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),xSe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],_Se=F$(),bSe=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`color${tn(n||r)}`,`${e}${tn(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Un(o,oSe,i)},wSe=Zt(Ss,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${tn(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?wb:Sb,n=t.palette.mode==="light"?Sb:wb;return de({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${p9.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${p9.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:de({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),SSe=Zt("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),MSe=Zt("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),m9=Zt("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),g9={success:z.jsx(pSe,{fontSize:"inherit"}),warning:z.jsx(mSe,{fontSize:"inherit"}),error:z.jsx(gSe,{fontSize:"inherit"}),info:z.jsx(ySe,{fontSize:"inherit"})},ESe=V.forwardRef(function(e,n){const r=_Se({props:e,name:"MuiAlert"}),{action:i,children:o,className:a,closeText:s="Close",color:l,components:c={},componentsProps:h={},icon:p,iconMapping:g=g9,onClose:v,role:x="alert",severity:_="success",slotProps:S={},slots:w={},variant:C="standard"}=r,T=rn(r,xSe),k=de({},r,{color:l,severity:_,variant:C,colorSeverity:l||_}),R=bSe(k),L={slots:de({closeButton:c.CloseButton,closeIcon:c.CloseIcon},w),slotProps:de({},h,S)},[F,H]=zP("closeButton",{elementType:gr,externalForwardedProps:L,ownerState:k}),[Z,j]=zP("closeIcon",{elementType:vSe,externalForwardedProps:L,ownerState:k});return z.jsxs(wSe,de({role:x,elevation:0,ownerState:k,className:Xt(R.root,a),ref:n},T,{children:[p!==!1?z.jsx(SSe,{ownerState:k,className:R.icon,children:p||g[_]||g9[_]}):null,z.jsx(MSe,{ownerState:k,className:R.message,children:o}),i!=null?z.jsx(m9,{ownerState:k,className:R.action,children:i}):null,i==null&&v?z.jsx(m9,{ownerState:k,className:R.action,children:z.jsx(F,de({size:"small","aria-label":s,title:s,color:"inherit",onClick:v},H,{children:z.jsx(Z,de({fontSize:"small"},j))}))}):null]}))}),TSe=ESe;function CSe(t){return $n("MuiTypography",t)}jn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ASe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],PSe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=t,s={root:["root",o,t.align!=="inherit"&&`align${tn(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Un(s,CSe,a)},ISe=Zt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${tn(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>de({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),y9={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},kSe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},RSe=t=>kSe[t]||t,OSe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTypography"}),i=RSe(r.color),o=oE(de({},r,{color:i})),{align:a="inherit",className:s,component:l,gutterBottom:c=!1,noWrap:h=!1,paragraph:p=!1,variant:g="body1",variantMapping:v=y9}=o,x=rn(o,ASe),_=de({},o,{align:a,color:i,className:s,component:l,gutterBottom:c,noWrap:h,paragraph:p,variant:g,variantMapping:v}),S=l||(p?"p":v[g]||y9[g])||"span",w=PSe(_);return z.jsx(ISe,de({as:S,ref:n,ownerState:_,className:Xt(w.root,s)},x))}),_n=OSe;function LSe(t){return $n("MuiAppBar",t)}jn("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const DSe=["className","color","enableColorOnDark","position"],NSe=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${tn(e)}`,`position${tn(n)}`]};return Un(i,LSe,r)},zT=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,zSe=Zt(Ss,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${tn(n.position)}`],e[`color${tn(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return de({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&de({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&de({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&de({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:zT(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:zT(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:zT(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:zT(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),BSe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:a=!1,position:s="fixed"}=r,l=rn(r,DSe),c=de({},r,{color:o,position:s,enableColorOnDark:a}),h=NSe(c);return z.jsx(zSe,de({square:!0,component:"header",ownerState:c,elevation:4,className:Xt(h.root,i,s==="fixed"&&"mui-fixed"),ref:n},l))}),m1=BSe;function FSe(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,o=cne({badgeContent:e,max:r});let a=n;n===!1&&e===0&&!i&&(a=!0);const{badgeContent:s,max:l=r}=a?o:t,c=s&&Number(s)>l?`${l}+`:s;return{badgeContent:s,invisible:a,max:l,displayValue:c}}const Pne="base";function $Se(t){return`${Pne}--${t}`}function jSe(t,e){return`${Pne}-${t}-${e}`}function Ine(t,e){const n=rne[e];return n?$Se(n):jSe(t,e)}function USe(t,e){const n={};return e.forEach(r=>{n[r]=Ine(t,r)}),n}function v9(t){return t.substring(2).toLowerCase()}function VSe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function WSe(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=t,a=V.useRef(!1),s=V.useRef(null),l=V.useRef(!1),c=V.useRef(!1);V.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const h=Lo(e.ref,s),p=Wl(x=>{const _=c.current;c.current=!1;const S=Ls(s.current);if(!l.current||!s.current||"clientX"in x&&VSe(x,S))return;if(a.current){a.current=!1;return}let w;x.composedPath?w=x.composedPath().indexOf(s.current)>-1:w=!S.documentElement.contains(x.target)||s.current.contains(x.target),!w&&(n||!_)&&i(x)}),g=x=>_=>{c.current=!0;const S=e.props[x];S&&S(_)},v={ref:h};return o!==!1&&(v[o]=g(o)),V.useEffect(()=>{if(o!==!1){const x=v9(o),_=Ls(s.current),S=()=>{a.current=!0};return _.addEventListener(x,p),_.addEventListener("touchmove",S),()=>{_.removeEventListener(x,p),_.removeEventListener("touchmove",S)}}},[p,o]),r!==!1&&(v[r]=g(r)),V.useEffect(()=>{if(r!==!1){const x=v9(r),_=Ls(s.current);return _.addEventListener(x,p),()=>{_.removeEventListener(x,p)}}},[p,r]),z.jsx(V.Fragment,{children:V.cloneElement(e,v)})}const HSe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function GSe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function qSe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function YSe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||qSe(t))}function XSe(t){const e=[],n=[];return Array.from(t.querySelectorAll(HSe)).forEach((r,i)=>{const o=GSe(r);o===-1||!YSe(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function KSe(){return!0}function ZSe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=XSe,isEnabled:a=KSe,open:s}=t,l=V.useRef(!1),c=V.useRef(null),h=V.useRef(null),p=V.useRef(null),g=V.useRef(null),v=V.useRef(!1),x=V.useRef(null),_=Lo(e.ref,x),S=V.useRef(null);V.useEffect(()=>{!s||!x.current||(v.current=!n)},[n,s]),V.useEffect(()=>{if(!s||!x.current)return;const T=Ls(x.current);return x.current.contains(T.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),v.current&&x.current.focus()),()=>{i||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[s]),V.useEffect(()=>{if(!s||!x.current)return;const T=Ls(x.current),k=F=>{S.current=F,!(r||!a()||F.key!=="Tab")&&T.activeElement===x.current&&F.shiftKey&&(l.current=!0,h.current&&h.current.focus())},R=()=>{const F=x.current;if(F===null)return;if(!T.hasFocus()||!a()||l.current){l.current=!1;return}if(F.contains(T.activeElement)||r&&T.activeElement!==c.current&&T.activeElement!==h.current)return;if(T.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!v.current)return;let H=[];if((T.activeElement===c.current||T.activeElement===h.current)&&(H=o(x.current)),H.length>0){var Z,j;const X=!!((Z=S.current)!=null&&Z.shiftKey&&((j=S.current)==null?void 0:j.key)==="Tab"),le=H[0],me=H[H.length-1];typeof le!="string"&&typeof me!="string"&&(X?me.focus():le.focus())}else F.focus()};T.addEventListener("focusin",R),T.addEventListener("keydown",k,!0);const L=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(L),T.removeEventListener("focusin",R),T.removeEventListener("keydown",k,!0)}},[n,r,i,a,s,o]);const w=T=>{p.current===null&&(p.current=T.relatedTarget),v.current=!0,g.current=T.target;const k=e.props.onFocus;k&&k(T)},C=T=>{p.current===null&&(p.current=T.relatedTarget),v.current=!0};return z.jsxs(V.Fragment,{children:[z.jsx("div",{tabIndex:s?0:-1,onFocus:C,ref:c,"data-testid":"sentinelStart"}),V.cloneElement(e,{ref:_,onFocus:w}),z.jsx("div",{tabIndex:s?0:-1,onFocus:C,ref:h,"data-testid":"sentinelEnd"})]})}function JSe(t){return typeof t=="function"?t():t}const kne=V.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[a,s]=V.useState(null),l=Lo(V.isValidElement(r)?r.ref:null,n);if(mu(()=>{o||s(JSe(i)||document.body)},[i,o]),mu(()=>{if(a&&!o)return RP(n,a),()=>{RP(n,null)}},[n,a,o]),o){if(V.isValidElement(r)){const c={ref:l};return V.cloneElement(r,c)}return z.jsx(V.Fragment,{children:r})}return z.jsx(V.Fragment,{children:a&&gy.createPortal(r,a)})});function QSe(t){const e=Ls(t);return e.body===t?Ah(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function zS(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function x9(t){return parseInt(Ah(t).getComputedStyle(t).paddingRight,10)||0}function eMe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function _9(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,a=>{const s=o.indexOf(a)===-1,l=!eMe(a);s&&l&&zS(a,i)})}function OD(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function tMe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(QSe(r)){const a=ane(Ls(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${x9(r)+a}px`;const s=Ls(r).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${x9(l)+a}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Ls(r).body;else{const a=r.parentElement,s=Ah(r);o=(a==null?void 0:a.nodeName)==="HTML"&&s.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:a,property:s})=>{o?a.style.setProperty(s,o):a.style.removeProperty(s)})}}function nMe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class rMe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&zS(e.modalRef,!1);const i=nMe(n);_9(n,e.mount,e.modalRef,i,!0);const o=OD(this.containers,a=>a.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=OD(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=tMe(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=OD(this.containers,a=>a.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&zS(e.modalRef,n),_9(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&zS(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function iMe(t){return typeof t=="function"?t():t}function oMe(t){return t?t.props.hasOwnProperty("in"):!1}const sMe=new rMe;function aMe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=sMe,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:s,children:l,onClose:c,open:h,rootRef:p}=t,g=V.useRef({}),v=V.useRef(null),x=V.useRef(null),_=Lo(x,p),[S,w]=V.useState(!h),C=oMe(l);let T=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(T=!1);const k=()=>Ls(v.current),R=()=>(g.current.modalRef=x.current,g.current.mount=v.current,g.current),L=()=>{i.mount(R(),{disableScrollLock:r}),x.current&&(x.current.scrollTop=0)},F=Wl(()=>{const fe=iMe(e)||k().body;i.add(R(),fe),x.current&&L()}),H=V.useCallback(()=>i.isTopModal(R()),[i]),Z=Wl(fe=>{v.current=fe,fe&&(h&&H()?L():x.current&&zS(x.current,T))}),j=V.useCallback(()=>{i.remove(R(),T)},[T,i]);V.useEffect(()=>()=>{j()},[j]),V.useEffect(()=>{h?F():(!C||!o)&&j()},[h,j,C,o,F]);const X=fe=>xe=>{var te;(te=fe.onKeyDown)==null||te.call(fe,xe),!(xe.key!=="Escape"||xe.which===229||!H())&&(n||(xe.stopPropagation(),c&&c(xe,"escapeKeyDown")))},le=fe=>xe=>{var te;(te=fe.onClick)==null||te.call(fe,xe),xe.target===xe.currentTarget&&c&&c(xe,"backdropClick")};return{getRootProps:(fe={})=>{const xe=NP(t);delete xe.onTransitionEnter,delete xe.onTransitionExited;const te=de({},xe,fe);return de({role:"presentation"},te,{onKeyDown:X(te),ref:_})},getBackdropProps:(fe={})=>{const xe=fe;return de({"aria-hidden":!0},xe,{onClick:le(xe),open:h})},getTransitionProps:()=>{const fe=()=>{w(!1),a&&a()},xe=()=>{w(!0),s&&s(),o&&j()};return{onEnter:uB(fe,l==null?void 0:l.props.onEnter),onExited:uB(xe,l==null?void 0:l.props.onExited)}},rootRef:_,portalRef:Z,isTopModal:H,exited:S,hasTransition:C}}var Ec="top",hd="bottom",pd="right",Tc="left",$$="auto",uE=[Ec,hd,pd,Tc],Eb="start",kM="end",lMe="clippingParents",Rne="viewport",Aw="popper",cMe="reference",b9=uE.reduce(function(t,e){return t.concat([e+"-"+Eb,e+"-"+kM])},[]),One=[].concat(uE,[$$]).reduce(function(t,e){return t.concat([e,e+"-"+Eb,e+"-"+kM])},[]),uMe="beforeRead",dMe="read",fMe="afterRead",hMe="beforeMain",pMe="main",mMe="afterMain",gMe="beforeWrite",yMe="write",vMe="afterWrite",xMe=[uMe,dMe,fMe,hMe,pMe,mMe,gMe,yMe,vMe];function Ph(t){return t?(t.nodeName||"").toLowerCase():null}function gu(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function L0(t){var e=gu(t).Element;return t instanceof e||t instanceof Element}function od(t){var e=gu(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function j$(t){if(typeof ShadowRoot>"u")return!1;var e=gu(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function _Me(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!od(o)||!Ph(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function bMe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(l,c){return l[c]="",l},{});!od(i)||!Ph(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const wMe={name:"applyStyles",enabled:!0,phase:"write",fn:_Me,effect:bMe,requires:["computeStyles"]};function bh(t){return t.split("-")[0]}var h0=Math.max,BP=Math.min,Tb=Math.round;function gB(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Lne(){return!/^((?!chrome|android).)*safari/i.test(gB())}function Cb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&od(t)&&(i=t.offsetWidth>0&&Tb(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Tb(r.height)/t.offsetHeight||1);var a=L0(t)?gu(t):window,s=a.visualViewport,l=!Lne()&&n,c=(r.left+(l&&s?s.offsetLeft:0))/i,h=(r.top+(l&&s?s.offsetTop:0))/o,p=r.width/i,g=r.height/o;return{width:p,height:g,top:h,right:c+p,bottom:h+g,left:c,x:c,y:h}}function U$(t){var e=Cb(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Dne(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&j$(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qp(t){return gu(t).getComputedStyle(t)}function SMe(t){return["table","td","th"].indexOf(Ph(t))>=0}function vy(t){return((L0(t)?t.ownerDocument:t.document)||window.document).documentElement}function lR(t){return Ph(t)==="html"?t:t.assignedSlot||t.parentNode||(j$(t)?t.host:null)||vy(t)}function w9(t){return!od(t)||qp(t).position==="fixed"?null:t.offsetParent}function MMe(t){var e=/firefox/i.test(gB()),n=/Trident/i.test(gB());if(n&&od(t)){var r=qp(t);if(r.position==="fixed")return null}var i=lR(t);for(j$(i)&&(i=i.host);od(i)&&["html","body"].indexOf(Ph(i))<0;){var o=qp(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function dE(t){for(var e=gu(t),n=w9(t);n&&SMe(n)&&qp(n).position==="static";)n=w9(n);return n&&(Ph(n)==="html"||Ph(n)==="body"&&qp(n).position==="static")?e:n||MMe(t)||e}function V$(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function BS(t,e,n){return h0(t,BP(e,n))}function EMe(t,e,n){var r=BS(t,e,n);return r>n?n:r}function Nne(){return{top:0,right:0,bottom:0,left:0}}function zne(t){return Object.assign({},Nne(),t)}function Bne(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var TMe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,zne(typeof e!="number"?e:Bne(e,uE))};function CMe(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=bh(n.placement),l=V$(s),c=[Tc,pd].indexOf(s)>=0,h=c?"height":"width";if(!(!o||!a)){var p=TMe(i.padding,n),g=U$(o),v=l==="y"?Ec:Tc,x=l==="y"?hd:pd,_=n.rects.reference[h]+n.rects.reference[l]-a[l]-n.rects.popper[h],S=a[l]-n.rects.reference[l],w=dE(o),C=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,T=_/2-S/2,k=p[v],R=C-g[h]-p[x],L=C/2-g[h]/2+T,F=BS(k,L,R),H=l;n.modifiersData[r]=(e={},e[H]=F,e.centerOffset=F-L,e)}}function AMe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Dne(e.elements.popper,i)&&(e.elements.arrow=i))}const PMe={name:"arrow",enabled:!0,phase:"main",fn:CMe,effect:AMe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ab(t){return t.split("-")[1]}var IMe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kMe(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Tb(n*i)/i||0,y:Tb(r*i)/i||0}}function S9(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,p=t.isFixed,g=a.x,v=g===void 0?0:g,x=a.y,_=x===void 0?0:x,S=typeof h=="function"?h({x:v,y:_}):{x:v,y:_};v=S.x,_=S.y;var w=a.hasOwnProperty("x"),C=a.hasOwnProperty("y"),T=Tc,k=Ec,R=window;if(c){var L=dE(n),F="clientHeight",H="clientWidth";if(L===gu(n)&&(L=vy(n),qp(L).position!=="static"&&s==="absolute"&&(F="scrollHeight",H="scrollWidth")),L=L,i===Ec||(i===Tc||i===pd)&&o===kM){k=hd;var Z=p&&L===R&&R.visualViewport?R.visualViewport.height:L[F];_-=Z-r.height,_*=l?1:-1}if(i===Tc||(i===Ec||i===hd)&&o===kM){T=pd;var j=p&&L===R&&R.visualViewport?R.visualViewport.width:L[H];v-=j-r.width,v*=l?1:-1}}var X=Object.assign({position:s},c&&IMe),le=h===!0?kMe({x:v,y:_},gu(n)):{x:v,y:_};if(v=le.x,_=le.y,l){var me;return Object.assign({},X,(me={},me[k]=C?"0":"",me[T]=w?"0":"",me.transform=(R.devicePixelRatio||1)<=1?"translate("+v+"px, "+_+"px)":"translate3d("+v+"px, "+_+"px, 0)",me))}return Object.assign({},X,(e={},e[k]=C?_+"px":"",e[T]=w?v+"px":"",e.transform="",e))}function RMe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,l=s===void 0?!0:s,c={placement:bh(e.placement),variation:Ab(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,S9(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,S9(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const OMe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:RMe,data:{}};var BT={passive:!0};function LMe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=gu(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(h){h.addEventListener("scroll",n.update,BT)}),s&&l.addEventListener("resize",n.update,BT),function(){o&&c.forEach(function(h){h.removeEventListener("scroll",n.update,BT)}),s&&l.removeEventListener("resize",n.update,BT)}}const DMe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:LMe,data:{}};var NMe={left:"right",right:"left",bottom:"top",top:"bottom"};function IA(t){return t.replace(/left|right|bottom|top/g,function(e){return NMe[e]})}var zMe={start:"end",end:"start"};function M9(t){return t.replace(/start|end/g,function(e){return zMe[e]})}function W$(t){var e=gu(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function H$(t){return Cb(vy(t)).left+W$(t).scrollLeft}function BMe(t,e){var n=gu(t),r=vy(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=Lne();(c||!c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+H$(t),y:l}}function FMe(t){var e,n=vy(t),r=W$(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=h0(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=h0(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+H$(t),l=-r.scrollTop;return qp(i||n).direction==="rtl"&&(s+=h0(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function G$(t){var e=qp(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Fne(t){return["html","body","#document"].indexOf(Ph(t))>=0?t.ownerDocument.body:od(t)&&G$(t)?t:Fne(lR(t))}function FS(t,e){var n;e===void 0&&(e=[]);var r=Fne(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=gu(r),a=i?[o].concat(o.visualViewport||[],G$(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(FS(lR(a)))}function yB(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function $Me(t,e){var n=Cb(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function E9(t,e,n){return e===Rne?yB(BMe(t,n)):L0(e)?$Me(e,n):yB(FMe(vy(t)))}function jMe(t){var e=FS(lR(t)),n=["absolute","fixed"].indexOf(qp(t).position)>=0,r=n&&od(t)?dE(t):t;return L0(r)?e.filter(function(i){return L0(i)&&Dne(i,r)&&Ph(i)!=="body"}):[]}function UMe(t,e,n,r){var i=e==="clippingParents"?jMe(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(l,c){var h=E9(t,c,r);return l.top=h0(h.top,l.top),l.right=BP(h.right,l.right),l.bottom=BP(h.bottom,l.bottom),l.left=h0(h.left,l.left),l},E9(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function $ne(t){var e=t.reference,n=t.element,r=t.placement,i=r?bh(r):null,o=r?Ab(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,l;switch(i){case Ec:l={x:a,y:e.y-n.height};break;case hd:l={x:a,y:e.y+e.height};break;case pd:l={x:e.x+e.width,y:s};break;case Tc:l={x:e.x-n.width,y:s};break;default:l={x:e.x,y:e.y}}var c=i?V$(i):null;if(c!=null){var h=c==="y"?"height":"width";switch(o){case Eb:l[c]=l[c]-(e[h]/2-n[h]/2);break;case kM:l[c]=l[c]+(e[h]/2-n[h]/2);break}}return l}function RM(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,l=s===void 0?lMe:s,c=n.rootBoundary,h=c===void 0?Rne:c,p=n.elementContext,g=p===void 0?Aw:p,v=n.altBoundary,x=v===void 0?!1:v,_=n.padding,S=_===void 0?0:_,w=zne(typeof S!="number"?S:Bne(S,uE)),C=g===Aw?cMe:Aw,T=t.rects.popper,k=t.elements[x?C:g],R=UMe(L0(k)?k:k.contextElement||vy(t.elements.popper),l,h,a),L=Cb(t.elements.reference),F=$ne({reference:L,element:T,strategy:"absolute",placement:i}),H=yB(Object.assign({},T,F)),Z=g===Aw?H:L,j={top:R.top-Z.top+w.top,bottom:Z.bottom-R.bottom+w.bottom,left:R.left-Z.left+w.left,right:Z.right-R.right+w.right},X=t.modifiersData.offset;if(g===Aw&&X){var le=X[i];Object.keys(j).forEach(function(me){var ie=[pd,hd].indexOf(me)>=0?1:-1,ce=[Ec,hd].indexOf(me)>=0?"y":"x";j[me]+=le[ce]*ie})}return j}function VMe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?One:l,h=Ab(r),p=h?s?b9:b9.filter(function(x){return Ab(x)===h}):uE,g=p.filter(function(x){return c.indexOf(x)>=0});g.length===0&&(g=p);var v=g.reduce(function(x,_){return x[_]=RM(t,{placement:_,boundary:i,rootBoundary:o,padding:a})[bh(_)],x},{});return Object.keys(v).sort(function(x,_){return v[x]-v[_]})}function WMe(t){if(bh(t)===$$)return[];var e=IA(t);return[M9(t),e,M9(e)]}function HMe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,h=n.boundary,p=n.rootBoundary,g=n.altBoundary,v=n.flipVariations,x=v===void 0?!0:v,_=n.allowedAutoPlacements,S=e.options.placement,w=bh(S),C=w===S,T=l||(C||!x?[IA(S)]:WMe(S)),k=[S].concat(T).reduce(function(Fe,st){return Fe.concat(bh(st)===$$?VMe(e,{placement:st,boundary:h,rootBoundary:p,padding:c,flipVariations:x,allowedAutoPlacements:_}):st)},[]),R=e.rects.reference,L=e.rects.popper,F=new Map,H=!0,Z=k[0],j=0;j<k.length;j++){var X=k[j],le=bh(X),me=Ab(X)===Eb,ie=[Ec,hd].indexOf(le)>=0,ce=ie?"width":"height",fe=RM(e,{placement:X,boundary:h,rootBoundary:p,altBoundary:g,padding:c}),xe=ie?me?pd:Tc:me?hd:Ec;R[ce]>L[ce]&&(xe=IA(xe));var te=IA(xe),he=[];if(o&&he.push(fe[le]<=0),s&&he.push(fe[xe]<=0,fe[te]<=0),he.every(function(Fe){return Fe})){Z=X,H=!1;break}F.set(X,he)}if(H)for(var ve=x?3:1,ze=function(st){var ct=k.find(function(Dt){var zt=F.get(Dt);if(zt)return zt.slice(0,st).every(function(Be){return Be})});if(ct)return Z=ct,"break"},Ue=ve;Ue>0;Ue--){var rt=ze(Ue);if(rt==="break")break}e.placement!==Z&&(e.modifiersData[r]._skip=!0,e.placement=Z,e.reset=!0)}}const GMe={name:"flip",enabled:!0,phase:"main",fn:HMe,requiresIfExists:["offset"],data:{_skip:!1}};function T9(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function C9(t){return[Ec,pd,hd,Tc].some(function(e){return t[e]>=0})}function qMe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=RM(e,{elementContext:"reference"}),s=RM(e,{altBoundary:!0}),l=T9(a,r),c=T9(s,i,o),h=C9(l),p=C9(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const YMe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qMe};function XMe(t,e,n){var r=bh(t),i=[Tc,Ec].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Tc,pd].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function KMe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=One.reduce(function(h,p){return h[p]=XMe(p,e.rects,o),h},{}),s=a[e.placement],l=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=a}const ZMe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:KMe};function JMe(t){var e=t.state,n=t.name;e.modifiersData[n]=$ne({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const QMe={name:"popperOffsets",enabled:!0,phase:"read",fn:JMe,data:{}};function e2e(t){return t==="x"?"y":"x"}function t2e(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,h=n.altBoundary,p=n.padding,g=n.tether,v=g===void 0?!0:g,x=n.tetherOffset,_=x===void 0?0:x,S=RM(e,{boundary:l,rootBoundary:c,padding:p,altBoundary:h}),w=bh(e.placement),C=Ab(e.placement),T=!C,k=V$(w),R=e2e(k),L=e.modifiersData.popperOffsets,F=e.rects.reference,H=e.rects.popper,Z=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,j=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),X=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,le={x:0,y:0};if(L){if(o){var me,ie=k==="y"?Ec:Tc,ce=k==="y"?hd:pd,fe=k==="y"?"height":"width",xe=L[k],te=xe+S[ie],he=xe-S[ce],ve=v?-H[fe]/2:0,ze=C===Eb?F[fe]:H[fe],Ue=C===Eb?-H[fe]:-F[fe],rt=e.elements.arrow,Fe=v&&rt?U$(rt):{width:0,height:0},st=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Nne(),ct=st[ie],Dt=st[ce],zt=BS(0,F[fe],Fe[fe]),Be=T?F[fe]/2-ve-zt-ct-j.mainAxis:ze-zt-ct-j.mainAxis,lt=T?-F[fe]/2+ve+zt+Dt+j.mainAxis:Ue+zt+Dt+j.mainAxis,Qe=e.elements.arrow&&dE(e.elements.arrow),ge=Qe?k==="y"?Qe.clientTop||0:Qe.clientLeft||0:0,et=(me=X==null?void 0:X[k])!=null?me:0,ot=xe+Be-et-ge,Tt=xe+lt-et,Ct=BS(v?BP(te,ot):te,xe,v?h0(he,Tt):he);L[k]=Ct,le[k]=Ct-xe}if(s){var Ft,Gt=k==="x"?Ec:Tc,sn=k==="x"?hd:pd,Je=L[R],Ce=R==="y"?"height":"width",_e=Je+S[Gt],ht=Je-S[sn],dt=[Ec,Tc].indexOf(w)!==-1,Wt=(Ft=X==null?void 0:X[R])!=null?Ft:0,jt=dt?_e:Je-F[Ce]-H[Ce]-Wt+j.altAxis,Mn=dt?Je+F[Ce]+H[Ce]-Wt-j.altAxis:ht,cn=v&&dt?EMe(jt,Je,Mn):BS(v?jt:_e,Je,v?Mn:ht);L[R]=cn,le[R]=cn-Je}e.modifiersData[r]=le}}const n2e={name:"preventOverflow",enabled:!0,phase:"main",fn:t2e,requiresIfExists:["offset"]};function r2e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function i2e(t){return t===gu(t)||!od(t)?W$(t):r2e(t)}function o2e(t){var e=t.getBoundingClientRect(),n=Tb(e.width)/t.offsetWidth||1,r=Tb(e.height)/t.offsetHeight||1;return n!==1||r!==1}function s2e(t,e,n){n===void 0&&(n=!1);var r=od(e),i=od(e)&&o2e(e),o=vy(e),a=Cb(t,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ph(e)!=="body"||G$(o))&&(s=i2e(e)),od(e)?(l=Cb(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=H$(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function a2e(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=e.get(s);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function l2e(t){var e=a2e(t);return xMe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function c2e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function u2e(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var A9={placement:"bottom",modifiers:[],strategy:"absolute"};function P9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function d2e(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?A9:i;return function(s,l,c){c===void 0&&(c=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},A9,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},p=[],g=!1,v={state:h,setOptions:function(w){var C=typeof w=="function"?w(h.options):w;_(),h.options=Object.assign({},o,h.options,C),h.scrollParents={reference:L0(s)?FS(s):s.contextElement?FS(s.contextElement):[],popper:FS(l)};var T=l2e(u2e([].concat(r,h.options.modifiers)));return h.orderedModifiers=T.filter(function(k){return k.enabled}),x(),v.update()},forceUpdate:function(){if(!g){var w=h.elements,C=w.reference,T=w.popper;if(P9(C,T)){h.rects={reference:s2e(C,dE(T),h.options.strategy==="fixed"),popper:U$(T)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(j){return h.modifiersData[j.name]=Object.assign({},j.data)});for(var k=0;k<h.orderedModifiers.length;k++){if(h.reset===!0){h.reset=!1,k=-1;continue}var R=h.orderedModifiers[k],L=R.fn,F=R.options,H=F===void 0?{}:F,Z=R.name;typeof L=="function"&&(h=L({state:h,options:H,name:Z,instance:v})||h)}}}},update:c2e(function(){return new Promise(function(S){v.forceUpdate(),S(h)})}),destroy:function(){_(),g=!0}};if(!P9(s,l))return v;v.setOptions(c).then(function(S){!g&&c.onFirstUpdate&&c.onFirstUpdate(S)});function x(){h.orderedModifiers.forEach(function(S){var w=S.name,C=S.options,T=C===void 0?{}:C,k=S.effect;if(typeof k=="function"){var R=k({state:h,name:w,instance:v,options:T}),L=function(){};p.push(R||L)}})}function _(){p.forEach(function(S){return S()}),p=[]}return v}}var f2e=[DMe,QMe,OMe,wMe,ZMe,GMe,n2e,PMe,YMe],h2e=d2e({defaultModifiers:f2e});const jne="Popper";function p2e(t){return Ine(jne,t)}USe(jne,["root"]);const m2e=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],g2e=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function y2e(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function vB(t){return typeof t=="function"?t():t}function v2e(t){return t.nodeType!==void 0}const x2e=()=>Un({root:["root"]},ywe(p2e)),_2e={},b2e=V.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:a,disablePortal:s,modifiers:l,open:c,placement:h,popperOptions:p,popperRef:g,slotProps:v={},slots:x={},TransitionProps:_}=e,S=rn(e,m2e),w=V.useRef(null),C=Lo(w,n),T=V.useRef(null),k=Lo(T,g),R=V.useRef(k);mu(()=>{R.current=k},[k]),V.useImperativeHandle(g,()=>T.current,[]);const L=y2e(h,a),[F,H]=V.useState(L),[Z,j]=V.useState(vB(i));V.useEffect(()=>{T.current&&T.current.forceUpdate()}),V.useEffect(()=>{i&&j(vB(i))},[i]),mu(()=>{if(!Z||!c)return;const ce=te=>{H(te.placement)};let fe=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:te})=>{ce(te)}}];l!=null&&(fe=fe.concat(l)),p&&p.modifiers!=null&&(fe=fe.concat(p.modifiers));const xe=h2e(Z,w.current,de({placement:L},p,{modifiers:fe}));return R.current(xe),()=>{xe.destroy(),R.current(null)}},[Z,s,l,c,p,L]);const X={placement:F};_!==null&&(X.TransitionProps=_);const le=x2e(),me=(r=x.root)!=null?r:"div",ie=Pc({elementType:me,externalSlotProps:v.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:C},ownerState:e,className:le.root});return z.jsx(me,de({},ie,{children:typeof o=="function"?o(X):o}))}),w2e=V.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:a="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:c,open:h,placement:p="bottom",popperOptions:g=_2e,popperRef:v,style:x,transition:_=!1,slotProps:S={},slots:w={}}=e,C=rn(e,g2e),[T,k]=V.useState(!0),R=()=>{k(!1)},L=()=>{k(!0)};if(!l&&!h&&(!_||T))return null;let F;if(o)F=o;else if(r){const j=vB(r);F=j&&v2e(j)?Ls(j).body:Ls(null).body}const H=!h&&l&&(!_||T)?"none":void 0,Z=_?{in:h,onEnter:R,onExited:L}:void 0;return z.jsx(kne,{disablePortal:s,container:F,children:z.jsx(b2e,de({anchorEl:r,direction:a,disablePortal:s,modifiers:c,ref:n,open:_?!T:h,placement:p,popperOptions:g,popperRef:v,slotProps:S,slots:w},C,{style:de({position:"fixed",top:0,left:0,display:H},x),TransitionProps:Z,children:i}))})});function S2e(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=t,a=kg();V.useEffect(()=>{if(!i)return;function w(C){C.defaultPrevented||(C.key==="Escape"||C.key==="Esc")&&(r==null||r(C,"escapeKeyDown"))}return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[i,r]);const s=Wl((w,C)=>{r==null||r(w,C)}),l=Wl(w=>{!r||w==null||a.start(w,()=>{s(null,"timeout")})});V.useEffect(()=>(i&&l(e),a.clear),[i,e,l,a]);const c=w=>{r==null||r(w,"clickaway")},h=a.clear,p=V.useCallback(()=>{e!=null&&l(o??e*.5)},[e,o,l]),g=w=>C=>{const T=w.onBlur;T==null||T(C),p()},v=w=>C=>{const T=w.onFocus;T==null||T(C),h()},x=w=>C=>{const T=w.onMouseEnter;T==null||T(C),h()},_=w=>C=>{const T=w.onMouseLeave;T==null||T(C),p()};return V.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",p),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",h)}},[n,i,p,h]),{getRootProps:(w={})=>{const C=de({},NP(t),NP(w));return de({role:"presentation"},w,C,{onBlur:g(C),onFocus:v(C),onMouseEnter:x(C),onMouseLeave:_(C)})},onClickAway:c}}const M2e=["onChange","maxRows","minRows","style","value"];function FT(t){return parseInt(t,10)||0}const E2e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function T2e(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const C2e=V.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:a,value:s}=e,l=rn(e,M2e),{current:c}=V.useRef(s!=null),h=V.useRef(null),p=Lo(n,h),g=V.useRef(null),v=V.useCallback(()=>{const S=h.current,C=Ah(S).getComputedStyle(S);if(C.width==="0px")return{outerHeightStyle:0,overflowing:!1};const T=g.current;T.style.width=C.width,T.value=S.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const k=C.boxSizing,R=FT(C.paddingBottom)+FT(C.paddingTop),L=FT(C.borderBottomWidth)+FT(C.borderTopWidth),F=T.scrollHeight;T.value="x";const H=T.scrollHeight;let Z=F;o&&(Z=Math.max(Number(o)*H,Z)),i&&(Z=Math.min(Number(i)*H,Z)),Z=Math.max(Z,H);const j=Z+(k==="border-box"?R+L:0),X=Math.abs(Z-F)<=1;return{outerHeightStyle:j,overflowing:X}},[i,o,e.placeholder]),x=V.useCallback(()=>{const S=v();if(T2e(S))return;const w=h.current;w.style.height=`${S.outerHeightStyle}px`,w.style.overflow=S.overflowing?"hidden":""},[v]);mu(()=>{const S=()=>{x()};let w;const C=sE(S),T=h.current,k=Ah(T);k.addEventListener("resize",C);let R;return typeof ResizeObserver<"u"&&(R=new ResizeObserver(S),R.observe(T)),()=>{C.clear(),cancelAnimationFrame(w),k.removeEventListener("resize",C),R&&R.disconnect()}},[v,x]),mu(()=>{x()});const _=S=>{c||x(),r&&r(S)};return z.jsxs(V.Fragment,{children:[z.jsx("textarea",de({value:s,onChange:_,ref:p,rows:o},l)),z.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:de({},E2e.shadow,a,{paddingTop:0,paddingBottom:0})})]})});var q$={};Object.defineProperty(q$,"__esModule",{value:!0});var Une=q$.default=void 0,A2e=I2e(V),P2e=_ne;function Vne(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Vne=function(r){return r?n:e})(t)}function I2e(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Vne(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function k2e(t){return Object.keys(t).length===0}function R2e(t=null){const e=A2e.useContext(P2e.ThemeContext);return!e||k2e(e)?t:e}Une=q$.default=R2e;const O2e=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],L2e=Zt(w2e,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),D2e=V.forwardRef(function(e,n){var r;const i=Une(),o=Gn({props:e,name:"MuiPopper"}),{anchorEl:a,component:s,components:l,componentsProps:c,container:h,disablePortal:p,keepMounted:g,modifiers:v,open:x,placement:_,popperOptions:S,popperRef:w,transition:C,slots:T,slotProps:k}=o,R=rn(o,O2e),L=(r=T==null?void 0:T.root)!=null?r:l==null?void 0:l.Root,F=de({anchorEl:a,container:h,disablePortal:p,keepMounted:g,modifiers:v,open:x,placement:_,popperOptions:S,popperRef:w,transition:C},R);return z.jsx(L2e,de({as:s,direction:i==null?void 0:i.direction,slots:{root:L},slotProps:k??c},F,{ref:n}))}),Wne=D2e;function xy({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const N2e=V.createContext(void 0),cR=N2e;function Lh(){return V.useContext(cR)}function Hne(t){return z.jsx(T_e,de({},t,{defaultTheme:sR,themeId:R0}))}function I9(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function FP(t,e=!1){return t&&(I9(t.value)&&t.value!==""||e&&I9(t.defaultValue)&&t.defaultValue!=="")}function z2e(t){return t.startAdornment}function B2e(t){return $n("MuiInputBase",t)}const F2e=jn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Pb=F2e,$2e=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],uR=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${tn(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},dR=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},j2e=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:c,multiline:h,readOnly:p,size:g,startAdornment:v,type:x}=t,_={root:["root",`color${tn(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",g&&g!=="medium"&&`size${tn(g)}`,h&&"multiline",v&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",x==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",v&&"inputAdornedStart",o&&"inputAdornedEnd",p&&"readOnly"]};return Un(_,B2e,e)},fR=Zt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:uR})(({theme:t,ownerState:e})=>de({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Pb.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&de({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),hR=Zt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:dR})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=de({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return de({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Pb.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Pb.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),U2e=z.jsx(Hne,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),V2e=V.forwardRef(function(e,n){var r;const i=Gn({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:l,components:c={},componentsProps:h={},defaultValue:p,disabled:g,disableInjectingGlobalStyles:v,endAdornment:x,fullWidth:_=!1,id:S,inputComponent:w="input",inputProps:C={},inputRef:T,maxRows:k,minRows:R,multiline:L=!1,name:F,onBlur:H,onChange:Z,onClick:j,onFocus:X,onKeyDown:le,onKeyUp:me,placeholder:ie,readOnly:ce,renderSuffix:fe,rows:xe,slotProps:te={},slots:he={},startAdornment:ve,type:ze="text",value:Ue}=i,rt=rn(i,$2e),Fe=C.value!=null?C.value:Ue,{current:st}=V.useRef(Fe!=null),ct=V.useRef(),Dt=V.useCallback(cn=>{},[]),zt=Lo(ct,T,C.ref,Dt),[Be,lt]=V.useState(!1),Qe=Lh(),ge=xy({props:i,muiFormControl:Qe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ge.focused=Qe?Qe.focused:Be,V.useEffect(()=>{!Qe&&g&&Be&&(lt(!1),H&&H())},[Qe,g,Be,H]);const et=Qe&&Qe.onFilled,ot=Qe&&Qe.onEmpty,Tt=V.useCallback(cn=>{FP(cn)?et&&et():ot&&ot()},[et,ot]);mu(()=>{st&&Tt({value:Fe})},[Fe,Tt,st]);const Ct=cn=>{if(ge.disabled){cn.stopPropagation();return}X&&X(cn),C.onFocus&&C.onFocus(cn),Qe&&Qe.onFocus?Qe.onFocus(cn):lt(!0)},Ft=cn=>{H&&H(cn),C.onBlur&&C.onBlur(cn),Qe&&Qe.onBlur?Qe.onBlur(cn):lt(!1)},Gt=(cn,...Rt)=>{if(!st){const nn=cn.target||ct.current;if(nn==null)throw new Error(k0(1));Tt({value:nn.value})}C.onChange&&C.onChange(cn,...Rt),Z&&Z(cn,...Rt)};V.useEffect(()=>{Tt(ct.current)},[]);const sn=cn=>{ct.current&&cn.currentTarget===cn.target&&ct.current.focus(),j&&j(cn)};let Je=w,Ce=C;L&&Je==="input"&&(xe?Ce=de({type:void 0,minRows:xe,maxRows:xe},Ce):Ce=de({type:void 0,maxRows:k,minRows:R},Ce),Je=C2e);const _e=cn=>{Tt(cn.animationName==="mui-auto-fill-cancel"?ct.current:{value:"x"})};V.useEffect(()=>{Qe&&Qe.setAdornedStart(!!ve)},[Qe,ve]);const ht=de({},i,{color:ge.color||"primary",disabled:ge.disabled,endAdornment:x,error:ge.error,focused:ge.focused,formControl:Qe,fullWidth:_,hiddenLabel:ge.hiddenLabel,multiline:L,size:ge.size,startAdornment:ve,type:ze}),dt=j2e(ht),Wt=he.root||c.Root||fR,jt=te.root||h.root||{},Mn=he.input||c.Input||hR;return Ce=de({},Ce,(r=te.input)!=null?r:h.input),z.jsxs(V.Fragment,{children:[!v&&U2e,z.jsxs(Wt,de({},jt,!DP(Wt)&&{ownerState:de({},ht,jt.ownerState)},{ref:n,onClick:sn},rt,{className:Xt(dt.root,jt.className,l,ce&&"MuiInputBase-readOnly"),children:[ve,z.jsx(cR.Provider,{value:null,children:z.jsx(Mn,de({ownerState:ht,"aria-invalid":ge.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:p,disabled:ge.disabled,id:S,onAnimationStart:_e,name:F,placeholder:ie,readOnly:ce,required:ge.required,rows:xe,value:Fe,onKeyDown:le,onKeyUp:me,type:ze},Ce,!DP(Mn)&&{as:Je,ownerState:de({},ht,Ce.ownerState)},{ref:zt,className:Xt(dt.input,Ce.className,ce&&"MuiInputBase-readOnly"),onBlur:Ft,onChange:Gt,onFocus:Ct}))}),x,fe?fe(de({},ge,{startAdornment:ve})):null]}))]})}),Y$=V2e;function W2e(t){return $n("MuiInput",t)}const H2e=de({},Pb,jn("MuiInput",["root","underline","input"])),Pw=H2e;function G2e(t){return $n("MuiOutlinedInput",t)}const q2e=de({},Pb,jn("MuiOutlinedInput",["root","notchedOutline","input"])),eg=q2e;function Y2e(t){return $n("MuiFilledInput",t)}const X2e=de({},Pb,jn("MuiFilledInput",["root","underline","input"])),mv=X2e,K2e=$a(z.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Z2e=$a(z.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function J2e(t){return $n("MuiAvatar",t)}jn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Q2e=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],eEe=F$(),tEe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Un({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},J2e,e)},nEe=Zt("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:de({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:de({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),rEe=Zt("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),iEe=Zt(Z2e,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function oEe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=V.useState(!1);return V.useEffect(()=>{if(!n&&!r)return;o(!1);let a=!0;const s=new Image;return s.onload=()=>{a&&o("loaded")},s.onerror=()=>{a&&o("error")},s.crossOrigin=t,s.referrerPolicy=e,s.src=n,r&&(s.srcset=r),()=>{a=!1}},[t,e,n,r]),i}const sEe=V.forwardRef(function(e,n){const r=eEe({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:a,component:s="div",slots:l={},slotProps:c={},imgProps:h,sizes:p,src:g,srcSet:v,variant:x="circular"}=r,_=rn(r,Q2e);let S=null;const w=oEe(de({},h,{src:g,srcSet:v})),C=g||v,T=C&&w!=="error",k=de({},r,{colorDefault:!T,component:s,variant:x}),R=tEe(k),[L,F]=zP("img",{className:R.img,elementType:rEe,externalForwardedProps:{slots:l,slotProps:{img:de({},h,c.img)}},additionalProps:{alt:i,src:g,srcSet:v,sizes:p},ownerState:k});return T?S=z.jsx(L,de({},F)):o||o===0?S=o:C&&i?S=i[0]:S=z.jsx(iEe,{ownerState:k,className:R.fallback}),z.jsx(nEe,de({as:s,ownerState:k,className:Xt(R.root,a),ref:n},_,{children:S}))}),aEe=sEe,lEe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],cEe={entering:{opacity:1},entered:{opacity:1}},uEe=V.forwardRef(function(e,n){const r=xd(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:l,in:c,onEnter:h,onEntered:p,onEntering:g,onExit:v,onExited:x,onExiting:_,style:S,timeout:w=i,TransitionComponent:C=N$}=e,T=rn(e,lEe),k=V.useRef(null),R=Lo(k,s.ref,n),L=ie=>ce=>{if(ie){const fe=k.current;ce===void 0?ie(fe):ie(fe,ce)}},F=L(g),H=L((ie,ce)=>{Mne(ie);const fe=Mb({style:S,timeout:w,easing:l},{mode:"enter"});ie.style.webkitTransition=r.transitions.create("opacity",fe),ie.style.transition=r.transitions.create("opacity",fe),h&&h(ie,ce)}),Z=L(p),j=L(_),X=L(ie=>{const ce=Mb({style:S,timeout:w,easing:l},{mode:"exit"});ie.style.webkitTransition=r.transitions.create("opacity",ce),ie.style.transition=r.transitions.create("opacity",ce),v&&v(ie)}),le=L(x),me=ie=>{o&&o(k.current,ie)};return z.jsx(C,de({appear:a,in:c,nodeRef:k,onEnter:H,onEntered:Z,onEntering:F,onExit:X,onExited:le,onExiting:j,addEndListener:me,timeout:w},T,{children:(ie,ce)=>V.cloneElement(s,de({style:de({opacity:0,visibility:ie==="exited"&&!c?"hidden":void 0},cEe[ie],S,s.props.style),ref:R},ce))}))}),Gne=uEe;function dEe(t){return $n("MuiBackdrop",t)}jn("MuiBackdrop",["root","invisible"]);const fEe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],hEe=t=>{const{classes:e,invisible:n}=t;return Un({root:["root",n&&"invisible"]},dEe,e)},pEe=Zt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>de({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),mEe=V.forwardRef(function(e,n){var r,i,o;const a=Gn({props:e,name:"MuiBackdrop"}),{children:s,className:l,component:c="div",components:h={},componentsProps:p={},invisible:g=!1,open:v,slotProps:x={},slots:_={},TransitionComponent:S=Gne,transitionDuration:w}=a,C=rn(a,fEe),T=de({},a,{component:c,invisible:g}),k=hEe(T),R=(r=x.root)!=null?r:p.root;return z.jsx(S,de({in:v,timeout:w},C,{children:z.jsx(pEe,de({"aria-hidden":!0},R,{as:(i=(o=_.root)!=null?o:h.Root)!=null?i:c,className:Xt(k.root,l,R==null?void 0:R.className),ownerState:de({},T,R==null?void 0:R.ownerState),classes:k,ref:n,children:s}))}))}),gEe=mEe;function yEe(t){return $n("MuiBadge",t)}const vEe=jn("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),tg=vEe,xEe=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],LD=10,DD=4,_Ee=F$(),bEe=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:a={}}=t,s={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${tn(n.vertical)}${tn(n.horizontal)}`,`anchorOrigin${tn(n.vertical)}${tn(n.horizontal)}${tn(i)}`,`overlap${tn(i)}`,e!=="default"&&`color${tn(e)}`]};return Un(s,yEe,a)},wEe=Zt("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),SEe=Zt("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${tn(n.anchorOrigin.vertical)}${tn(n.anchorOrigin.horizontal)}${tn(n.overlap)}`],n.color!=="default"&&e[`color${tn(n.color)}`],n.invisible&&e.invisible]}})(({theme:t})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:LD*2,lineHeight:1,padding:"0 6px",height:LD*2,borderRadius:LD,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r,i;return((r=t.vars)!=null?r:t).palette[n].main&&((i=t.vars)!=null?i:t).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:DD,height:DD*2,minWidth:DD*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${tg.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${tg.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${tg.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${tg.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${tg.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${tg.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${tg.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${tg.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}),MEe=V.forwardRef(function(e,n){var r,i,o,a,s,l;const c=_Ee({props:e,name:"MuiBadge"}),{anchorOrigin:h={vertical:"top",horizontal:"right"},className:p,component:g,components:v={},componentsProps:x={},children:_,overlap:S="rectangular",color:w="default",invisible:C=!1,max:T=99,badgeContent:k,slots:R,slotProps:L,showZero:F=!1,variant:H="standard"}=c,Z=rn(c,xEe),{badgeContent:j,invisible:X,max:le,displayValue:me}=FSe({max:T,invisible:C,badgeContent:k,showZero:F}),ie=cne({anchorOrigin:h,color:w,overlap:S,variant:H,badgeContent:k}),ce=X||j==null&&H!=="dot",{color:fe=w,overlap:xe=S,anchorOrigin:te=h,variant:he=H}=ce?ie:c,ve=he!=="dot"?me:void 0,ze=de({},c,{badgeContent:j,invisible:ce,max:le,displayValue:ve,showZero:F,anchorOrigin:te,color:fe,overlap:xe,variant:he}),Ue=bEe(ze),rt=(r=(i=R==null?void 0:R.root)!=null?i:v.Root)!=null?r:wEe,Fe=(o=(a=R==null?void 0:R.badge)!=null?a:v.Badge)!=null?o:SEe,st=(s=L==null?void 0:L.root)!=null?s:x.root,ct=(l=L==null?void 0:L.badge)!=null?l:x.badge,Dt=Pc({elementType:rt,externalSlotProps:st,externalForwardedProps:Z,additionalProps:{ref:n,as:g},ownerState:ze,className:Xt(st==null?void 0:st.className,Ue.root,p)}),zt=Pc({elementType:Fe,externalSlotProps:ct,ownerState:ze,className:Xt(Ue.badge,ct==null?void 0:ct.className)});return z.jsxs(rt,de({},Dt,{children:[_,z.jsx(Fe,de({},zt,{children:ve}))]}))}),EEe=MEe;function TEe(t){return $n("MuiBottomNavigation",t)}jn("MuiBottomNavigation",["root"]);const CEe=["children","className","component","onChange","showLabels","value"],AEe=t=>{const{classes:e}=t;return Un({root:["root"]},TEe,e)},PEe=Zt("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(t.vars||t).palette.background.paper})),IEe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiBottomNavigation"}),{children:i,className:o,component:a="div",onChange:s,showLabels:l=!1,value:c}=r,h=rn(r,CEe),p=de({},r,{component:a,showLabels:l}),g=AEe(p);return z.jsx(PEe,de({as:a,className:Xt(g.root,o),ref:n,ownerState:p},h,{children:V.Children.map(i,(v,x)=>{if(!V.isValidElement(v))return null;const _=v.props.value===void 0?x:v.props.value;return V.cloneElement(v,{selected:_===c,showLabel:v.props.showLabel!==void 0?v.props.showLabel:l,value:_,onChange:s})})}))}),kEe=IEe;function REe(t){return $n("MuiBottomNavigationAction",t)}const OEe=jn("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),qne=OEe,LEe=["className","icon","label","onChange","onClick","selected","showLabel","value"],DEe=t=>{const{classes:e,showLabel:n,selected:r}=t;return Un({root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]},REe,e)},NEe=Zt(om,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.showLabel&&!n.selected&&e.iconOnly]}})(({theme:t,ownerState:e})=>de({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(t.vars||t).palette.text.secondary,flexDirection:"column",flex:"1"},!e.showLabel&&!e.selected&&{paddingTop:14},!e.showLabel&&!e.selected&&!e.label&&{paddingTop:0},{[`&.${qne.selected}`]:{color:(t.vars||t).palette.primary.main}})),zEe=Zt("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(t,e)=>e.label})(({theme:t,ownerState:e})=>de({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!e.showLabel&&!e.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${qne.selected}`]:{fontSize:t.typography.pxToRem(14)}})),BEe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiBottomNavigationAction"}),{className:i,icon:o,label:a,onChange:s,onClick:l,value:c}=r,h=rn(r,LEe),p=r,g=DEe(p),v=x=>{s&&s(x,c),l&&l(x)};return z.jsxs(NEe,de({ref:n,className:Xt(g.root,i),focusRipple:!0,onClick:v,ownerState:p},h,{children:[o,z.jsx(zEe,{className:g.label,ownerState:p,children:a})]}))}),$T=BEe,FEe=jn("MuiBox",["root"]),$Ee=FEe,jEe=D$(),UEe=O_e({themeId:R0,defaultTheme:jEe,defaultClassName:$Ee.root,generateClassName:A$.generate}),ws=UEe;function VEe(t){return $n("MuiButton",t)}const WEe=jn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),jT=WEe,HEe=V.createContext({}),Yne=HEe,GEe=V.createContext(void 0),Xne=GEe,qEe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],YEe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=t,s={root:["root",o,`${o}${tn(e)}`,`size${tn(i)}`,`${o}Size${tn(i)}`,`color${tn(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${tn(i)}`],endIcon:["icon","endIcon",`iconSize${tn(i)}`]},l=Un(s,VEe,a);return de({},a,l)},Kne=t=>de({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),XEe=Zt(om,{shouldForwardProp:t=>Jl(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${tn(n.color)}`],e[`size${tn(n.size)}`],e[`${n.variant}Size${tn(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return de({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":de({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ji(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ji(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ji(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":de({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${jT.focusVisible}`]:de({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${jT.disabled}`]:de({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Ji(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${jT.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${jT.disabled}`]:{boxShadow:"none"}}),KEe=Zt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${tn(n.size)}`]]}})(({ownerState:t})=>de({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Kne(t))),ZEe=Zt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${tn(n.size)}`]]}})(({ownerState:t})=>de({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Kne(t))),JEe=V.forwardRef(function(e,n){const r=V.useContext(Yne),i=V.useContext(Xne),o=P$(r,e),a=Gn({props:o,name:"MuiButton"}),{children:s,color:l="primary",component:c="button",className:h,disabled:p=!1,disableElevation:g=!1,disableFocusRipple:v=!1,endIcon:x,focusVisibleClassName:_,fullWidth:S=!1,size:w="medium",startIcon:C,type:T,variant:k="text"}=a,R=rn(a,qEe),L=de({},a,{color:l,component:c,disabled:p,disableElevation:g,disableFocusRipple:v,fullWidth:S,size:w,type:T,variant:k}),F=YEe(L),H=C&&z.jsx(KEe,{className:F.startIcon,ownerState:L,children:C}),Z=x&&z.jsx(ZEe,{className:F.endIcon,ownerState:L,children:x}),j=i||"";return z.jsxs(XEe,de({ownerState:L,className:Xt(r.className,F.root,h,j),component:c,disabled:p,focusRipple:!v,focusVisibleClassName:Xt(F.focusVisible,_),ref:n,type:T},R,{classes:F,children:[H,s,Z]}))}),Gr=JEe;function QEe(t){return $n("MuiButtonGroup",t)}const eTe=jn("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Oa=eTe,tTe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],nTe=(t,e)=>{const{ownerState:n}=t;return[{[`& .${Oa.grouped}`]:e.grouped},{[`& .${Oa.grouped}`]:e[`grouped${tn(n.orientation)}`]},{[`& .${Oa.grouped}`]:e[`grouped${tn(n.variant)}`]},{[`& .${Oa.grouped}`]:e[`grouped${tn(n.variant)}${tn(n.orientation)}`]},{[`& .${Oa.grouped}`]:e[`grouped${tn(n.variant)}${tn(n.color)}`]},{[`& .${Oa.firstButton}`]:e.firstButton},{[`& .${Oa.lastButton}`]:e.lastButton},{[`& .${Oa.middleButton}`]:e.middleButton},e.root,e[n.variant],n.disableElevation===!0&&e.disableElevation,n.fullWidth&&e.fullWidth,n.orientation==="vertical"&&e.vertical]},rTe=t=>{const{classes:e,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:a,variant:s}=t,l={root:["root",s,a==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${tn(a)}`,`grouped${tn(s)}`,`grouped${tn(s)}${tn(a)}`,`grouped${tn(s)}${tn(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Un(l,QEe,e)},iTe=Zt("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:nTe})(({theme:t,ownerState:e})=>de({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{[`& .${Oa.grouped}`]:de({minWidth:40,"&:hover":de({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),[`& .${Oa.firstButton},& .${Oa.middleButton}`]:de({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Oa.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Oa.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:Ji(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${Oa.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${Oa.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(t.vars||t).palette[e.color].dark},{"&:hover":de({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${Oa.lastButton},& .${Oa.middleButton}`]:de({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),oTe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiButtonGroup"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:h=!1,disableRipple:p=!1,fullWidth:g=!1,orientation:v="horizontal",size:x="medium",variant:_="outlined"}=r,S=rn(r,tTe),w=de({},r,{color:a,component:s,disabled:l,disableElevation:c,disableFocusRipple:h,disableRipple:p,fullWidth:g,orientation:v,size:x,variant:_}),C=rTe(w),T=V.useMemo(()=>({className:C.grouped,color:a,disabled:l,disableElevation:c,disableFocusRipple:h,disableRipple:p,fullWidth:g,size:x,variant:_}),[a,l,c,h,p,g,x,_,C.grouped]),k=hbe(i),R=k.length,L=F=>{const H=F===0,Z=F===R-1;return H&&Z?"":H?C.firstButton:Z?C.lastButton:C.middleButton};return z.jsx(iTe,de({as:s,role:"group",className:Xt(C.root,o),ref:n,ownerState:w},S,{children:z.jsx(Yne.Provider,{value:T,children:k.map((F,H)=>z.jsx(Xne.Provider,{value:L(H),children:F},H))})}))}),sTe=oTe;function aTe(t){return $n("MuiCard",t)}jn("MuiCard",["root"]);const lTe=["className","raised"],cTe=t=>{const{classes:e}=t;return Un({root:["root"]},aTe,e)},uTe=Zt(Ss,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),dTe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=r,a=rn(r,lTe),s=de({},r,{raised:o}),l=cTe(s);return z.jsx(uTe,de({className:Xt(l.root,i),elevation:o?8:void 0,ref:n,ownerState:s},a))}),xf=dTe;function fTe(t){return $n("MuiCardActions",t)}jn("MuiCardActions",["root","spacing"]);const hTe=["disableSpacing","className"],pTe=t=>{const{classes:e,disableSpacing:n}=t;return Un({root:["root",!n&&"spacing"]},fTe,e)},mTe=Zt("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>de({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),gTe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=r,a=rn(r,hTe),s=de({},r,{disableSpacing:i}),l=pTe(s);return z.jsx(mTe,de({className:Xt(l.root,o),ownerState:s,ref:n},a))}),Zne=gTe;function yTe(t){return $n("MuiCardContent",t)}jn("MuiCardContent",["root"]);const vTe=["className","component"],xTe=t=>{const{classes:e}=t;return Un({root:["root"]},yTe,e)},_Te=Zt("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),bTe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,a=rn(r,vTe),s=de({},r,{component:o}),l=xTe(s);return z.jsx(_Te,de({as:o,className:Xt(l.root,i),ownerState:s,ref:n},a))}),pR=bTe;function wTe(t){return $n("MuiCardHeader",t)}const STe=jn("MuiCardHeader",["root","avatar","action","content","title","subheader"]),k9=STe,MTe=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],ETe=t=>{const{classes:e}=t;return Un({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},wTe,e)},TTe=Zt("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>de({[`& .${k9.title}`]:e.title,[`& .${k9.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),CTe=Zt("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),ATe=Zt("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),PTe=Zt("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"}),ITe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiCardHeader"}),{action:i,avatar:o,className:a,component:s="div",disableTypography:l=!1,subheader:c,subheaderTypographyProps:h,title:p,titleTypographyProps:g}=r,v=rn(r,MTe),x=de({},r,{component:s,disableTypography:l}),_=ETe(x);let S=p;S!=null&&S.type!==_n&&!l&&(S=z.jsx(_n,de({variant:o?"body2":"h5",className:_.title,component:"span",display:"block"},g,{children:S})));let w=c;return w!=null&&w.type!==_n&&!l&&(w=z.jsx(_n,de({variant:o?"body2":"body1",className:_.subheader,color:"text.secondary",component:"span",display:"block"},h,{children:w}))),z.jsxs(TTe,de({className:Xt(_.root,a),as:s,ref:n,ownerState:x},v,{children:[o&&z.jsx(CTe,{className:_.avatar,ownerState:x,children:o}),z.jsxs(PTe,{className:_.content,ownerState:x,children:[S,w]}),i&&z.jsx(ATe,{className:_.action,ownerState:x,children:i})]}))}),kTe=ITe;function RTe(t){return $n("MuiCardMedia",t)}jn("MuiCardMedia",["root","media","img"]);const OTe=["children","className","component","image","src","style"],LTe=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Un({root:["root",n&&"media",r&&"img"]},RTe,e)},DTe=Zt("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>de({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),NTe=["video","audio","picture","iframe","img"],zTe=["picture","img"],BTe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiCardMedia"}),{children:i,className:o,component:a="div",image:s,src:l,style:c}=r,h=rn(r,OTe),p=NTe.indexOf(a)!==-1,g=!p&&s?de({backgroundImage:`url("${s}")`},c):c,v=de({},r,{component:a,isMediaComponent:p,isImageComponent:zTe.indexOf(a)!==-1}),x=LTe(v);return z.jsx(DTe,de({className:Xt(x.root,o),as:a,role:!p&&s?"img":void 0,ref:n,style:g,ownerState:v,src:p?s||l:void 0},h,{children:i}))}),Jne=BTe;function FTe(t){return $n("PrivateSwitchBase",t)}jn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const $Te=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],jTe=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${tn(i)}`],input:["input"]};return Un(o,FTe,e)},UTe=Zt(om)(({ownerState:t})=>de({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),VTe=Zt("input",{shouldForwardProp:Jl})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),WTe=V.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:a,defaultChecked:s,disabled:l,disableFocusRipple:c=!1,edge:h=!1,icon:p,id:g,inputProps:v,inputRef:x,name:_,onBlur:S,onChange:w,onFocus:C,readOnly:T,required:k=!1,tabIndex:R,type:L,value:F}=e,H=rn(e,$Te),[Z,j]=bb({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),X=Lh(),le=he=>{C&&C(he),X&&X.onFocus&&X.onFocus(he)},me=he=>{S&&S(he),X&&X.onBlur&&X.onBlur(he)},ie=he=>{if(he.nativeEvent.defaultPrevented)return;const ve=he.target.checked;j(ve),w&&w(he,ve)};let ce=l;X&&typeof ce>"u"&&(ce=X.disabled);const fe=L==="checkbox"||L==="radio",xe=de({},e,{checked:Z,disabled:ce,disableFocusRipple:c,edge:h}),te=jTe(xe);return z.jsxs(UTe,de({component:"span",className:Xt(te.root,a),centerRipple:!0,focusRipple:!c,disabled:ce,tabIndex:null,role:void 0,onFocus:le,onBlur:me,ownerState:xe,ref:n},H,{children:[z.jsx(VTe,de({autoFocus:r,checked:i,defaultChecked:s,className:te.input,disabled:ce,id:fe?g:void 0,name:_,onChange:ie,readOnly:T,ref:x,required:k,ownerState:xe,tabIndex:R,type:L},L==="checkbox"&&F===void 0?{}:{value:F},v)),Z?o:p]}))}),Qne=WTe,HTe=$a(z.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),GTe=$a(z.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),qTe=$a(z.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function YTe(t){return $n("MuiCheckbox",t)}const XTe=jn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),ND=XTe,KTe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],ZTe=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,o={root:["root",n&&"indeterminate",`color${tn(r)}`,`size${tn(i)}`]},a=Un(o,YTe,e);return de({},e,a)},JTe=Zt(Qne,{shouldForwardProp:t=>Jl(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${tn(n.size)}`],n.color!=="default"&&e[`color${tn(n.color)}`]]}})(({theme:t,ownerState:e})=>de({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ji(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${ND.checked}, &.${ND.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${ND.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),QTe=z.jsx(GTe,{}),eCe=z.jsx(HTe,{}),tCe=z.jsx(qTe,{}),nCe=V.forwardRef(function(e,n){var r,i;const o=Gn({props:e,name:"MuiCheckbox"}),{checkedIcon:a=QTe,color:s="primary",icon:l=eCe,indeterminate:c=!1,indeterminateIcon:h=tCe,inputProps:p,size:g="medium",className:v}=o,x=rn(o,KTe),_=c?h:l,S=c?h:a,w=de({},o,{color:s,indeterminate:c,size:g}),C=ZTe(w);return z.jsx(JTe,de({type:"checkbox",inputProps:de({"data-indeterminate":c},p),icon:V.cloneElement(_,{fontSize:(r=_.props.fontSize)!=null?r:g}),checkedIcon:V.cloneElement(S,{fontSize:(i=S.props.fontSize)!=null?i:g}),ownerState:w,ref:n,className:Xt(C.root,v)},x,{classes:C}))}),R9=nCe,rCe=Mbe({createStyledComponent:Zt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${tn(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Gn({props:t,name:"MuiContainer"})}),H0=rCe,iCe=(t,e)=>de({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),oCe=t=>de({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),sCe=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([a,s])=>{var l;r[t.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:(l=s.palette)==null?void 0:l.mode}});let i=de({html:iCe(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:de({margin:0},oCe(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const o=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(i=[i,o]),i};function aCe(t){const e=Gn({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return z.jsxs(V.Fragment,{children:[z.jsx(Hne,{styles:i=>sCe(i,r)}),n]})}function lCe(t){return $n("MuiModal",t)}jn("MuiModal",["root","hidden","backdrop"]);const cCe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],uCe=t=>{const{open:e,exited:n,classes:r}=t;return Un({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},lCe,r)},dCe=Zt("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>de({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),fCe=Zt(gEe,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),hCe=V.forwardRef(function(e,n){var r,i,o,a,s,l;const c=Gn({name:"MuiModal",props:e}),{BackdropComponent:h=fCe,BackdropProps:p,className:g,closeAfterTransition:v=!1,children:x,container:_,component:S,components:w={},componentsProps:C={},disableAutoFocus:T=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:R=!1,disablePortal:L=!1,disableRestoreFocus:F=!1,disableScrollLock:H=!1,hideBackdrop:Z=!1,keepMounted:j=!1,onBackdropClick:X,open:le,slotProps:me,slots:ie}=c,ce=rn(c,cCe),fe=de({},c,{closeAfterTransition:v,disableAutoFocus:T,disableEnforceFocus:k,disableEscapeKeyDown:R,disablePortal:L,disableRestoreFocus:F,disableScrollLock:H,hideBackdrop:Z,keepMounted:j}),{getRootProps:xe,getBackdropProps:te,getTransitionProps:he,portalRef:ve,isTopModal:ze,exited:Ue,hasTransition:rt}=aMe(de({},fe,{rootRef:n})),Fe=de({},fe,{exited:Ue}),st=uCe(Fe),ct={};if(x.props.tabIndex===void 0&&(ct.tabIndex="-1"),rt){const{onEnter:et,onExited:ot}=he();ct.onEnter=et,ct.onExited=ot}const Dt=(r=(i=ie==null?void 0:ie.root)!=null?i:w.Root)!=null?r:dCe,zt=(o=(a=ie==null?void 0:ie.backdrop)!=null?a:w.Backdrop)!=null?o:h,Be=(s=me==null?void 0:me.root)!=null?s:C.root,lt=(l=me==null?void 0:me.backdrop)!=null?l:C.backdrop,Qe=Pc({elementType:Dt,externalSlotProps:Be,externalForwardedProps:ce,getSlotProps:xe,additionalProps:{ref:n,as:S},ownerState:Fe,className:Xt(g,Be==null?void 0:Be.className,st==null?void 0:st.root,!Fe.open&&Fe.exited&&(st==null?void 0:st.hidden))}),ge=Pc({elementType:zt,externalSlotProps:lt,additionalProps:p,getSlotProps:et=>te(de({},et,{onClick:ot=>{X&&X(ot),et!=null&&et.onClick&&et.onClick(ot)}})),className:Xt(lt==null?void 0:lt.className,p==null?void 0:p.className,st==null?void 0:st.backdrop),ownerState:Fe});return!j&&!le&&(!rt||Ue)?null:z.jsx(kne,{ref:ve,container:_,disablePortal:L,children:z.jsxs(Dt,de({},Qe,{children:[!Z&&h?z.jsx(zt,de({},ge)):null,z.jsx(ZSe,{disableEnforceFocus:k,disableAutoFocus:T,disableRestoreFocus:F,isEnabled:ze,open:le,children:V.cloneElement(x,ct)})]}))})}),pCe=hCe;function mCe(t){return $n("MuiDivider",t)}const gCe=jn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),O9=gCe,yCe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],vCe=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:s,variant:l}=t;return Un({root:["root",e&&"absolute",l,o&&"light",a==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",s==="right"&&a!=="vertical"&&"textAlignRight",s==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},mCe,r)},xCe=Zt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>de({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Ji(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>de({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>de({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>de({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>de({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),_Ce=Zt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>de({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),ere=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:a,component:s=o?"div":"hr",flexItem:l=!1,light:c=!1,orientation:h="horizontal",role:p=s!=="hr"?"separator":void 0,textAlign:g="center",variant:v="fullWidth"}=r,x=rn(r,yCe),_=de({},r,{absolute:i,component:s,flexItem:l,light:c,orientation:h,role:p,textAlign:g,variant:v}),S=vCe(_);return z.jsx(xCe,de({as:s,className:Xt(S.root,a),role:p,ref:n,ownerState:_},x,{children:o?z.jsx(_Ce,{className:S.wrapper,ownerState:_,children:o}):null}))});ere.muiSkipListHighlight=!0;const D0=ere,bCe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],wCe=t=>{const{classes:e,disableUnderline:n}=t,i=Un({root:["root",!n&&"underline"],input:["input"]},Y2e,e);return de({},e,i)},SCe=Zt(fR,{shouldForwardProp:t=>Jl(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...uR(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return de({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${mv.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${mv.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${mv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${mv.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${mv.disabled}, .${mv.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${mv.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&de({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),MCe=Zt(hR,{name:"MuiFilledInput",slot:"Input",overridesResolver:dR})(({theme:t,ownerState:e})=>de({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),tre=V.forwardRef(function(e,n){var r,i,o,a;const s=Gn({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:h=!1,inputComponent:p="input",multiline:g=!1,slotProps:v,slots:x={},type:_="text"}=s,S=rn(s,bCe),w=de({},s,{fullWidth:h,inputComponent:p,multiline:g,type:_}),C=wCe(s),T={root:{ownerState:w},input:{ownerState:w}},k=v??c?Ba(T,v??c):T,R=(r=(i=x.root)!=null?i:l.Root)!=null?r:SCe,L=(o=(a=x.input)!=null?a:l.Input)!=null?o:MCe;return z.jsx(Y$,de({slots:{root:R,input:L},componentsProps:k,fullWidth:h,inputComponent:p,multiline:g,ref:n,type:_},S,{classes:C}))});tre.muiName="Input";const nre=tre;function ECe(t){return $n("MuiFormControl",t)}jn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const TCe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],CCe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${tn(n)}`,r&&"fullWidth"]};return Un(i,ECe,e)},ACe=Zt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>de({},e.root,e[`margin${tn(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>de({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),PCe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,error:c=!1,focused:h,fullWidth:p=!1,hiddenLabel:g=!1,margin:v="none",required:x=!1,size:_="medium",variant:S="outlined"}=r,w=rn(r,TCe),C=de({},r,{color:a,component:s,disabled:l,error:c,fullWidth:p,hiddenLabel:g,margin:v,required:x,size:_,variant:S}),T=CCe(C),[k,R]=V.useState(()=>{let me=!1;return i&&V.Children.forEach(i,ie=>{if(!NS(ie,["Input","Select"]))return;const ce=NS(ie,["Select"])?ie.props.input:ie;ce&&z2e(ce.props)&&(me=!0)}),me}),[L,F]=V.useState(()=>{let me=!1;return i&&V.Children.forEach(i,ie=>{NS(ie,["Input","Select"])&&(FP(ie.props,!0)||FP(ie.props.inputProps,!0))&&(me=!0)}),me}),[H,Z]=V.useState(!1);l&&H&&Z(!1);const j=h!==void 0&&!l?h:H;let X;const le=V.useMemo(()=>({adornedStart:k,setAdornedStart:R,color:a,disabled:l,error:c,filled:L,focused:j,fullWidth:p,hiddenLabel:g,size:_,onBlur:()=>{Z(!1)},onEmpty:()=>{F(!1)},onFilled:()=>{F(!0)},onFocus:()=>{Z(!0)},registerEffect:X,required:x,variant:S}),[k,a,l,c,L,j,p,g,X,x,_,S]);return z.jsx(cR.Provider,{value:le,children:z.jsx(ACe,de({as:s,ownerState:C,className:Xt(T.root,o),ref:n},w,{children:i}))})}),fE=PCe,ICe=Rbe({createStyledComponent:Zt("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Gn({props:t,name:"MuiStack"})}),kCe=ICe;function RCe(t){return $n("MuiFormControlLabel",t)}const OCe=jn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),xS=OCe,LCe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],DCe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,a={root:["root",n&&"disabled",`labelPlacement${tn(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Un(a,RCe,e)},NCe=Zt("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${xS.label}`]:e.label},e.root,e[`labelPlacement${tn(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>de({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${xS.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${xS.label}`]:{[`&.${xS.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),zCe=Zt("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${xS.error}`]:{color:(t.vars||t).palette.error.main}})),BCe=V.forwardRef(function(e,n){var r,i;const o=Gn({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:s={},control:l,disabled:c,disableTypography:h,label:p,labelPlacement:g="end",required:v,slotProps:x={}}=o,_=rn(o,LCe),S=Lh(),w=(r=c??l.props.disabled)!=null?r:S==null?void 0:S.disabled,C=v??l.props.required,T={disabled:w,required:C};["checked","name","onChange","value","inputRef"].forEach(Z=>{typeof l.props[Z]>"u"&&typeof o[Z]<"u"&&(T[Z]=o[Z])});const k=xy({props:o,muiFormControl:S,states:["error"]}),R=de({},o,{disabled:w,labelPlacement:g,required:C,error:k.error}),L=DCe(R),F=(i=x.typography)!=null?i:s.typography;let H=p;return H!=null&&H.type!==_n&&!h&&(H=z.jsx(_n,de({component:"span"},F,{className:Xt(L.label,F==null?void 0:F.className),children:H}))),z.jsxs(NCe,de({className:Xt(L.root,a),ownerState:R,ref:n},_,{children:[V.cloneElement(l,T),C?z.jsxs(kCe,{display:"block",children:[H,z.jsxs(zCe,{ownerState:R,"aria-hidden":!0,className:L.asterisk,children:[" ","*"]})]}):H]}))}),L9=BCe;function FCe(t){return $n("MuiFormGroup",t)}jn("MuiFormGroup",["root","row","error"]);const $Ce=["className","row"],jCe=t=>{const{classes:e,row:n,error:r}=t;return Un({root:["root",n&&"row",r&&"error"]},FCe,e)},UCe=Zt("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})(({ownerState:t})=>de({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),VCe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,a=rn(r,$Ce),s=Lh(),l=xy({props:r,muiFormControl:s,states:["error"]}),c=de({},r,{row:o,error:l.error}),h=jCe(c);return z.jsx(UCe,de({className:Xt(h.root,i),ownerState:c,ref:n},a))}),WCe=VCe;function HCe(t){return $n("MuiFormHelperText",t)}const GCe=jn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),D9=GCe;var N9;const qCe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],YCe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${tn(r)}`,n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return Un(c,HCe,e)},XCe=Zt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${tn(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>de({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${D9.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${D9.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),KCe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:a="p"}=r,s=rn(r,qCe),l=Lh(),c=xy({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),h=de({},r,{component:a,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=YCe(h);return z.jsx(XCe,de({as:a,ownerState:h,className:Xt(p.root,o),ref:n},s,{children:i===" "?N9||(N9=z.jsx("span",{className:"notranslate",children:"​"})):i}))}),ZCe=KCe;function JCe(t){return $n("MuiFormLabel",t)}const QCe=jn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),$S=QCe,eAe=["children","className","color","component","disabled","error","filled","focused","required"],tAe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=t,l={root:["root",`color${tn(n)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return Un(l,JCe,e)},nAe=Zt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>de({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>de({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${$S.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${$S.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${$S.error}`]:{color:(t.vars||t).palette.error.main}})),rAe=Zt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${$S.error}`]:{color:(t.vars||t).palette.error.main}})),iAe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:a="label"}=r,s=rn(r,eAe),l=Lh(),c=xy({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),h=de({},r,{color:c.color||"primary",component:a,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=tAe(h);return z.jsxs(nAe,de({as:a,ownerState:h,className:Xt(p.root,o),ref:n},s,{children:[i,c.required&&z.jsxs(rAe,{ownerState:h,"aria-hidden":!0,className:p.asterisk,children:[" ","*"]})]}))}),oAe=iAe,sAe=V.createContext(),z9=sAe;function aAe(t){return $n("MuiGrid",t)}const lAe=[0,1,2,3,4,5,6,7,8,9,10],cAe=["column-reverse","column","row-reverse","row"],uAe=["nowrap","wrap-reverse","wrap"],Iw=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],OM=jn("MuiGrid",["root","container","item","zeroMinWidth",...lAe.map(t=>`spacing-xs-${t}`),...cAe.map(t=>`direction-xs-${t}`),...uAe.map(t=>`wrap-xs-${t}`),...Iw.map(t=>`grid-xs-${t}`),...Iw.map(t=>`grid-sm-${t}`),...Iw.map(t=>`grid-md-${t}`),...Iw.map(t=>`grid-lg-${t}`),...Iw.map(t=>`grid-xl-${t}`)]),dAe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function eb(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function fAe({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=f0({values:e.columns,breakpoints:t.breakpoints.values}),s=typeof a=="object"?a[i]:a;if(s==null)return r;const l=`${Math.round(n/s*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const h=t.spacing(e.columnSpacing);if(h!=="0px"){const p=`calc(${l} + ${eb(h)})`;c={flexBasis:p,maxWidth:p}}}o=de({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,o):r[t.breakpoints.up(i)]=o,r},{})}function hAe({theme:t,ownerState:e}){const n=f0({values:e.direction,breakpoints:t.breakpoints.values});return Ac({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${OM.item}`]={maxWidth:"none"}),i})}function rre({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,o)=>t[i]-t[o]);return r.slice(0,r.indexOf(n))}function pAe({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const o=f0({values:r,breakpoints:t.breakpoints.values});let a;typeof o=="object"&&(a=rre({breakpoints:t.breakpoints.values,values:o})),i=Ac({theme:t},o,(s,l)=>{var c;const h=t.spacing(s);return h!=="0px"?{marginTop:`-${eb(h)}`,[`& > .${OM.item}`]:{paddingTop:eb(h)}}:(c=a)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${OM.item}`]:{paddingTop:0}}})}return i}function mAe({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const o=f0({values:r,breakpoints:t.breakpoints.values});let a;typeof o=="object"&&(a=rre({breakpoints:t.breakpoints.values,values:o})),i=Ac({theme:t},o,(s,l)=>{var c;const h=t.spacing(s);return h!=="0px"?{width:`calc(100% + ${eb(h)})`,marginLeft:`-${eb(h)}`,[`& > .${OM.item}`]:{paddingLeft:eb(h)}}:(c=a)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${OM.item}`]:{paddingLeft:0}}})}return i}function gAe(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const o=t[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const yAe=Zt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:o,spacing:a,wrap:s,zeroMinWidth:l,breakpoints:c}=n;let h=[];r&&(h=gAe(a,c,e));const p=[];return c.forEach(g=>{const v=n[g];v&&p.push(e[`grid-${g}-${String(v)}`])}),[e.root,r&&e.container,o&&e.item,l&&e.zeroMinWidth,...h,i!=="row"&&e[`direction-xs-${String(i)}`],s!=="wrap"&&e[`wrap-xs-${String(s)}`],...p]}})(({ownerState:t})=>de({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),hAe,pAe,mAe,fAe);function vAe(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const xAe=t=>{const{classes:e,container:n,direction:r,item:i,spacing:o,wrap:a,zeroMinWidth:s,breakpoints:l}=t;let c=[];n&&(c=vAe(o,l));const h=[];l.forEach(g=>{const v=t[g];v&&h.push(`grid-${g}-${String(v)}`)});const p={root:["root",n&&"container",i&&"item",s&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...h]};return Un(p,aAe,e)},_Ae=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiGrid"}),{breakpoints:i}=xd(),o=oE(r),{className:a,columns:s,columnSpacing:l,component:c="div",container:h=!1,direction:p="row",item:g=!1,rowSpacing:v,spacing:x=0,wrap:_="wrap",zeroMinWidth:S=!1}=o,w=rn(o,dAe),C=v||x,T=l||x,k=V.useContext(z9),R=h?s||12:k,L={},F=de({},w);i.keys.forEach(j=>{w[j]!=null&&(L[j]=w[j],delete F[j])});const H=de({},o,{columns:R,container:h,direction:p,item:g,rowSpacing:C,columnSpacing:T,wrap:_,zeroMinWidth:S,spacing:x},L,{breakpoints:i.keys}),Z=xAe(H);return z.jsx(z9.Provider,{value:R,children:z.jsx(yAe,de({ownerState:H,className:Xt(Z.root,a),as:c,ref:n},F))})}),bg=_Ae,bAe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function xB(t){return`scale(${t}, ${t**2})`}const wAe={entering:{opacity:1,transform:xB(1)},entered:{opacity:1,transform:"none"}},zD=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ire=V.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:a,in:s,onEnter:l,onEntered:c,onEntering:h,onExit:p,onExited:g,onExiting:v,style:x,timeout:_="auto",TransitionComponent:S=N$}=e,w=rn(e,bAe),C=kg(),T=V.useRef(),k=xd(),R=V.useRef(null),L=Lo(R,o.ref,n),F=ce=>fe=>{if(ce){const xe=R.current;fe===void 0?ce(xe):ce(xe,fe)}},H=F(h),Z=F((ce,fe)=>{Mne(ce);const{duration:xe,delay:te,easing:he}=Mb({style:x,timeout:_,easing:a},{mode:"enter"});let ve;_==="auto"?(ve=k.transitions.getAutoHeightDuration(ce.clientHeight),T.current=ve):ve=xe,ce.style.transition=[k.transitions.create("opacity",{duration:ve,delay:te}),k.transitions.create("transform",{duration:zD?ve:ve*.666,delay:te,easing:he})].join(","),l&&l(ce,fe)}),j=F(c),X=F(v),le=F(ce=>{const{duration:fe,delay:xe,easing:te}=Mb({style:x,timeout:_,easing:a},{mode:"exit"});let he;_==="auto"?(he=k.transitions.getAutoHeightDuration(ce.clientHeight),T.current=he):he=fe,ce.style.transition=[k.transitions.create("opacity",{duration:he,delay:xe}),k.transitions.create("transform",{duration:zD?he:he*.666,delay:zD?xe:xe||he*.333,easing:te})].join(","),ce.style.opacity=0,ce.style.transform=xB(.75),p&&p(ce)}),me=F(g),ie=ce=>{_==="auto"&&C.start(T.current||0,ce),r&&r(R.current,ce)};return z.jsx(S,de({appear:i,in:s,nodeRef:R,onEnter:Z,onEntered:j,onEntering:H,onExit:le,onExited:me,onExiting:X,addEndListener:ie,timeout:_==="auto"?null:_},w,{children:(ce,fe)=>V.cloneElement(o,de({style:de({opacity:0,transform:xB(.75),visibility:ce==="exited"&&!s?"hidden":void 0},wAe[ce],x,o.props.style),ref:L},fe))}))});ire.muiSupportAuto=!0;const $P=ire;function SAe(t){return $n("MuiImageList",t)}jn("MuiImageList",["root","masonry","quilted","standard","woven"]);const MAe=V.createContext({}),ore=MAe,EAe=["children","className","cols","component","rowHeight","gap","style","variant"],TAe=t=>{const{classes:e,variant:n}=t;return Un({root:["root",n]},SAe,e)},CAe=Zt("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant]]}})(({ownerState:t})=>de({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},t.variant==="masonry"&&{display:"block"})),AAe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiImageList"}),{children:i,className:o,cols:a=2,component:s="ul",rowHeight:l="auto",gap:c=4,style:h,variant:p="standard"}=r,g=rn(r,EAe),v=V.useMemo(()=>({rowHeight:l,gap:c,variant:p}),[l,c,p]);V.useEffect(()=>{},[]);const x=de(p==="masonry"?{columnCount:a,columnGap:c}:{gridTemplateColumns:`repeat(${a}, 1fr)`,gap:c},h),_=de({},r,{component:s,gap:c,rowHeight:l,variant:p}),S=TAe(_);return z.jsx(CAe,de({as:s,className:Xt(S.root,S[p],o),ref:n,style:x,ownerState:_},g,{children:z.jsx(ore.Provider,{value:v,children:i})}))}),PAe=AAe;function IAe(t){return $n("MuiImageListItem",t)}const kAe=jn("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),B9=kAe,RAe=["children","className","cols","component","rows","style"],OAe=t=>{const{classes:e,variant:n}=t;return Un({root:["root",n],img:["img"]},IAe,e)},LAe=Zt("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${B9.img}`]:e.img},e.root,e[n.variant]]}})(({ownerState:t})=>de({display:"block",position:"relative"},t.variant==="standard"&&{display:"flex",flexDirection:"column"},t.variant==="woven"&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${B9.img}`]:de({objectFit:"cover",width:"100%",height:"100%",display:"block"},t.variant==="standard"&&{height:"auto",flexGrow:1})})),DAe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiImageListItem"}),{children:i,className:o,cols:a=1,component:s="li",rows:l=1,style:c}=r,h=rn(r,RAe),{rowHeight:p="auto",gap:g,variant:v}=V.useContext(ore);let x="auto";v==="woven"?x=void 0:p!=="auto"&&(x=p*l+g*(l-1));const _=de({},r,{cols:a,component:s,gap:g,rowHeight:p,rows:l,variant:v}),S=OAe(_);return z.jsx(LAe,de({as:s,className:Xt(S.root,S[v],o),ref:n,style:de({height:x,gridColumnEnd:v!=="masonry"?`span ${a}`:void 0,gridRowEnd:v!=="masonry"?`span ${l}`:void 0,marginBottom:v==="masonry"?g:void 0,breakInside:v==="masonry"?"avoid":void 0},c),ownerState:_},h,{children:V.Children.map(i,w=>V.isValidElement(w)?w.type==="img"||NS(w,["Image"])?V.cloneElement(w,{className:Xt(S.img,w.props.className)}):w:null)}))}),NAe=DAe,zAe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],BAe=t=>{const{classes:e,disableUnderline:n}=t,i=Un({root:["root",!n&&"underline"],input:["input"]},W2e,e);return de({},e,i)},FAe=Zt(fR,{shouldForwardProp:t=>Jl(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...uR(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),de({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Pw.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Pw.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Pw.disabled}, .${Pw.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Pw.disabled}:before`]:{borderBottomStyle:"dotted"}})}),$Ae=Zt(hR,{name:"MuiInput",slot:"Input",overridesResolver:dR})({}),sre=V.forwardRef(function(e,n){var r,i,o,a;const s=Gn({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:h,fullWidth:p=!1,inputComponent:g="input",multiline:v=!1,slotProps:x,slots:_={},type:S="text"}=s,w=rn(s,zAe),C=BAe(s),k={root:{ownerState:{disableUnderline:l}}},R=x??h?Ba(x??h,k):k,L=(r=(i=_.root)!=null?i:c.Root)!=null?r:FAe,F=(o=(a=_.input)!=null?a:c.Input)!=null?o:$Ae;return z.jsx(Y$,de({slots:{root:L,input:F},slotProps:R,fullWidth:p,inputComponent:g,multiline:v,ref:n,type:S},w,{classes:C}))});sre.muiName="Input";const are=sre;function jAe(t){return $n("MuiInputAdornment",t)}const UAe=jn("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),F9=UAe;var $9;const VAe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],WAe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${tn(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},HAe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:a}=t,s={root:["root",n&&"disablePointerEvents",i&&`position${tn(i)}`,a,r&&"hiddenLabel",o&&`size${tn(o)}`]};return Un(s,jAe,e)},GAe=Zt("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:WAe})(({theme:t,ownerState:e})=>de({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${F9.positionStart}&:not(.${F9.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),qAe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:a="div",disablePointerEvents:s=!1,disableTypography:l=!1,position:c,variant:h}=r,p=rn(r,VAe),g=Lh()||{};let v=h;h&&g.variant,g&&!v&&(v=g.variant);const x=de({},r,{hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:s,position:c,variant:v}),_=HAe(x);return z.jsx(cR.Provider,{value:null,children:z.jsx(GAe,de({as:a,ownerState:x,className:Xt(_.root,o),ref:n},p,{children:typeof i=="string"&&!l?z.jsx(_n,{color:"text.secondary",children:i}):z.jsxs(V.Fragment,{children:[c==="start"?$9||($9=z.jsx("span",{className:"notranslate",children:"​"})):null,i]})}))})}),YAe=qAe;function XAe(t){return $n("MuiInputLabel",t)}jn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const KAe=["disableAnimation","margin","shrink","variant","className"],ZAe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${tn(r)}`,a],asterisk:[s&&"asterisk"]},c=Un(l,XAe,e);return de({},e,c)},JAe=Zt(oAe,{shouldForwardProp:t=>Jl(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${$S.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>de({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&de({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&de({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&de({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),QAe=V.forwardRef(function(e,n){const r=Gn({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:a}=r,s=rn(r,KAe),l=Lh();let c=o;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const h=xy({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),p=de({},r,{disableAnimation:i,formControl:l,shrink:c,size:h.size,variant:h.variant,required:h.required,focused:h.focused}),g=ZAe(p);return z.jsx(JAe,de({"data-shrink":c,ownerState:p,ref:n,className:Xt(g.root,a)},s,{classes:g}))}),hE=QAe;function ePe(t){return $n("MuiLinearProgress",t)}jn("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const tPe=["className","color","value","valueBuffer","variant"];let g1=t=>t,j9,U9,V9,W9,H9,G9;const _B=4,nPe=W0(j9||(j9=g1`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),rPe=W0(U9||(U9=g1`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),iPe=W0(V9||(V9=g1`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),oPe=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${tn(r)}`,n],dashed:["dashed",`dashedColor${tn(r)}`],bar1:["bar",`barColor${tn(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${tn(r)}`,n==="buffer"&&`color${tn(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Un(i,ePe,e)},X$=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?Sb(t.palette[e].main,.62):wb(t.palette[e].main,.5),sPe=Zt("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${tn(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>de({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:X$(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),aPe=Zt("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${tn(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=X$(e,t.color);return de({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},tE(W9||(W9=g1`
    animation: ${0} 3s infinite linear;
  `),iPe)),lPe=Zt("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${tn(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>de({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${_B}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${_B}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&tE(H9||(H9=g1`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),nPe)),cPe=Zt("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${tn(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>de({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:X$(e,t.color),transition:`transform .${_B}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&tE(G9||(G9=g1`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),rPe)),uPe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:a,valueBuffer:s,variant:l="indeterminate"}=r,c=rn(r,tPe),h=de({},r,{color:o,variant:l}),p=oPe(h),g=xd(),v={},x={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&a!==void 0){v["aria-valuenow"]=Math.round(a),v["aria-valuemin"]=0,v["aria-valuemax"]=100;let _=a-100;g.direction==="rtl"&&(_=-_),x.bar1.transform=`translateX(${_}%)`}if(l==="buffer"&&s!==void 0){let _=(s||0)-100;g.direction==="rtl"&&(_=-_),x.bar2.transform=`translateX(${_}%)`}return z.jsxs(sPe,de({className:Xt(p.root,i),ownerState:h,role:"progressbar"},v,{ref:n},c,{children:[l==="buffer"?z.jsx(aPe,{className:p.dashed,ownerState:h}):null,z.jsx(lPe,{className:p.bar1,ownerState:h,style:x.bar1}),l==="determinate"?null:z.jsx(cPe,{className:p.bar2,ownerState:h,style:x.bar2})]}))}),dPe=uPe;function fPe(t){return $n("MuiLink",t)}const hPe=jn("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),pPe=hPe,lre={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},mPe=t=>lre[t]||t,gPe=({theme:t,ownerState:e})=>{const n=mPe(e.color),r=_b(t,`palette.${n}`,!1)||e.color,i=_b(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:Ji(r,.4)},yPe=gPe,vPe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],xPe=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,o={root:["root",`underline${tn(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Un(o,fPe,e)},_Pe=Zt(_n,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${tn(n.underline)}`],n.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>de({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&de({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:yPe({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${pPe.focusVisible}`]:{outline:"auto"}})),bPe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiLink"}),{className:i,color:o="primary",component:a="a",onBlur:s,onFocus:l,TypographyClasses:c,underline:h="always",variant:p="inherit",sx:g}=r,v=rn(r,vPe),{isFocusVisibleRef:x,onBlur:_,onFocus:S,ref:w}=oR(),[C,T]=V.useState(!1),k=Lo(n,w),R=Z=>{_(Z),x.current===!1&&T(!1),s&&s(Z)},L=Z=>{S(Z),x.current===!0&&T(!0),l&&l(Z)},F=de({},r,{color:o,component:a,focusVisible:C,underline:h,variant:p}),H=xPe(F);return z.jsx(_Pe,de({color:o,className:Xt(H.root,i),classes:c,component:a,onBlur:R,onFocus:L,ref:k,ownerState:F,variant:p,sx:[...Object.keys(lre).includes(o)?[]:[{color:o}],...Array.isArray(g)?g:[g]]},v))}),wPe=bPe,SPe=V.createContext({}),N0=SPe;function MPe(t){return $n("MuiList",t)}jn("MuiList",["root","padding","dense","subheader"]);const EPe=["children","className","component","dense","disablePadding","subheader"],TPe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Un({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},MPe,e)},CPe=Zt("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>de({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),APe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:c}=r,h=rn(r,EPe),p=V.useMemo(()=>({dense:s}),[s]),g=de({},r,{component:a,dense:s,disablePadding:l}),v=TPe(g);return z.jsx(N0.Provider,{value:p,children:z.jsxs(CPe,de({as:a,className:Xt(v.root,o),ref:n,ownerState:g},h,{children:[c,i]}))})}),PPe=APe;function IPe(t){return $n("MuiListItemButton",t)}const kPe=jn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),kw=kPe,RPe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],OPe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},LPe=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:o,divider:a,selected:s}=t,c=Un({root:["root",r&&"dense",!o&&"gutters",a&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",s&&"selected"]},IPe,n);return de({},n,c)},DPe=Zt(om,{shouldForwardProp:t=>Jl(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:OPe})(({theme:t,ownerState:e})=>de({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${kw.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ji(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${kw.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ji(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${kw.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ji(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ji(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${kw.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${kw.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),NPe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:a="div",children:s,dense:l=!1,disableGutters:c=!1,divider:h=!1,focusVisibleClassName:p,selected:g=!1,className:v}=r,x=rn(r,RPe),_=V.useContext(N0),S=V.useMemo(()=>({dense:l||_.dense||!1,alignItems:i,disableGutters:c}),[i,_.dense,l,c]),w=V.useRef(null);mu(()=>{o&&w.current&&w.current.focus()},[o]);const C=de({},r,{alignItems:i,dense:S.dense,disableGutters:c,divider:h,selected:g}),T=LPe(C),k=Lo(w,n);return z.jsx(N0.Provider,{value:S,children:z.jsx(DPe,de({ref:k,href:x.href||x.to,component:(x.href||x.to)&&a==="div"?"button":a,focusVisibleClassName:Xt(T.focusVisible,p),ownerState:C,className:Xt(T.root,v)},x,{classes:T,children:s}))})}),zPe=NPe;function BPe(t){return $n("MuiListItemAvatar",t)}jn("MuiListItemAvatar",["root","alignItemsFlexStart"]);const FPe=["className"],$Pe=t=>{const{alignItems:e,classes:n}=t;return Un({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},BPe,n)},jPe=Zt("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>de({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),UPe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiListItemAvatar"}),{className:i}=r,o=rn(r,FPe),a=V.useContext(N0),s=de({},r,{alignItems:a.alignItems}),l=$Pe(s);return z.jsx(jPe,de({className:Xt(l.root,i),ownerState:s,ref:n},o))}),VPe=UPe,WPe=jn("MuiListItemIcon",["root","alignItemsFlexStart"]),q9=WPe;function HPe(t){return $n("MuiListItemText",t)}const GPe=jn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),jP=GPe,qPe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],YPe=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return Un({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},HPe,e)},XPe=Zt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${jP.primary}`]:e.primary},{[`& .${jP.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>de({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),KPe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:a=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:h,secondaryTypographyProps:p}=r,g=rn(r,qPe),{dense:v}=V.useContext(N0);let x=l??i,_=h;const S=de({},r,{disableTypography:a,inset:s,primary:!!x,secondary:!!_,dense:v}),w=YPe(S);return x!=null&&x.type!==_n&&!a&&(x=z.jsx(_n,de({variant:v?"body2":"body1",className:w.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:x}))),_!=null&&_.type!==_n&&!a&&(_=z.jsx(_n,de({variant:"body2",className:w.secondary,color:"text.secondary",display:"block"},p,{children:_}))),z.jsxs(XPe,de({className:Xt(w.root,o),ownerState:S,ref:n},g,{children:[x,_]}))}),ZPe=KPe,JPe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function BD(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function Y9(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function cre(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Rw(t,e,n,r,i,o){let a=!1,s=i(t,e,e?n:!1);for(;s;){if(s===t.firstChild){if(a)return!1;a=!0}const l=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!cre(s,o)||l)s=i(t,s,n);else return s.focus(),!0}return!1}const QPe=V.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:h,variant:p="selectedMenu"}=e,g=rn(e,JPe),v=V.useRef(null),x=V.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});mu(()=>{i&&v.current.focus()},[i]),V.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,k)=>{const R=!v.current.style.width;if(T.clientHeight<v.current.clientHeight&&R){const L=`${ane(Ls(T))}px`;v.current.style[k.direction==="rtl"?"paddingLeft":"paddingRight"]=L,v.current.style.width=`calc(100% + ${L})`}return v.current}}),[]);const _=T=>{const k=v.current,R=T.key,L=Ls(k).activeElement;if(R==="ArrowDown")T.preventDefault(),Rw(k,L,c,l,BD);else if(R==="ArrowUp")T.preventDefault(),Rw(k,L,c,l,Y9);else if(R==="Home")T.preventDefault(),Rw(k,null,c,l,BD);else if(R==="End")T.preventDefault(),Rw(k,null,c,l,Y9);else if(R.length===1){const F=x.current,H=R.toLowerCase(),Z=performance.now();F.keys.length>0&&(Z-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&H!==F.keys[0]&&(F.repeating=!1)),F.lastTime=Z,F.keys.push(H);const j=L&&!F.repeating&&cre(L,F);F.previousKeyMatched&&(j||Rw(k,L,!1,l,BD,F))?T.preventDefault():F.previousKeyMatched=!1}h&&h(T)},S=Lo(v,n);let w=-1;V.Children.forEach(a,(T,k)=>{if(!V.isValidElement(T)){w===k&&(w+=1,w>=a.length&&(w=-1));return}T.props.disabled||(p==="selectedMenu"&&T.props.selected||w===-1)&&(w=k),w===k&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(w+=1,w>=a.length&&(w=-1))});const C=V.Children.map(a,(T,k)=>{if(k===w){const R={};return o&&(R.autoFocus=!0),T.props.tabIndex===void 0&&p==="selectedMenu"&&(R.tabIndex=0),V.cloneElement(T,R)}return T});return z.jsx(PPe,de({role:"menu",ref:S,className:s,onKeyDown:_,tabIndex:i?0:-1},g,{children:C}))}),eIe=QPe;function tIe(t){return $n("MuiPopover",t)}jn("MuiPopover",["root","paper"]);const nIe=["onEntering"],rIe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],iIe=["slotProps"];function X9(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function K9(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Z9(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function FD(t){return typeof t=="function"?t():t}const oIe=t=>{const{classes:e}=t;return Un({root:["root"],paper:["paper"]},tIe,e)},sIe=Zt(pCe,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ure=Zt(Ss,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),aIe=V.forwardRef(function(e,n){var r,i,o;const a=Gn({props:e,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:h,anchorReference:p="anchorEl",children:g,className:v,container:x,elevation:_=8,marginThreshold:S=16,open:w,PaperProps:C={},slots:T,slotProps:k,transformOrigin:R={vertical:"top",horizontal:"left"},TransitionComponent:L=$P,transitionDuration:F="auto",TransitionProps:{onEntering:H}={},disableScrollLock:Z=!1}=a,j=rn(a.TransitionProps,nIe),X=rn(a,rIe),le=(r=k==null?void 0:k.paper)!=null?r:C,me=V.useRef(),ie=Lo(me,le.ref),ce=de({},a,{anchorOrigin:c,anchorReference:p,elevation:_,marginThreshold:S,externalPaperSlotProps:le,transformOrigin:R,TransitionComponent:L,transitionDuration:F,TransitionProps:j}),fe=oIe(ce),xe=V.useCallback(()=>{if(p==="anchorPosition")return h;const et=FD(l),Tt=(et&&et.nodeType===1?et:Ls(me.current).body).getBoundingClientRect();return{top:Tt.top+X9(Tt,c.vertical),left:Tt.left+K9(Tt,c.horizontal)}},[l,c.horizontal,c.vertical,h,p]),te=V.useCallback(et=>({vertical:X9(et,R.vertical),horizontal:K9(et,R.horizontal)}),[R.horizontal,R.vertical]),he=V.useCallback(et=>{const ot={width:et.offsetWidth,height:et.offsetHeight},Tt=te(ot);if(p==="none")return{top:null,left:null,transformOrigin:Z9(Tt)};const Ct=xe();let Ft=Ct.top-Tt.vertical,Gt=Ct.left-Tt.horizontal;const sn=Ft+ot.height,Je=Gt+ot.width,Ce=Ah(FD(l)),_e=Ce.innerHeight-S,ht=Ce.innerWidth-S;if(S!==null&&Ft<S){const dt=Ft-S;Ft-=dt,Tt.vertical+=dt}else if(S!==null&&sn>_e){const dt=sn-_e;Ft-=dt,Tt.vertical+=dt}if(S!==null&&Gt<S){const dt=Gt-S;Gt-=dt,Tt.horizontal+=dt}else if(Je>ht){const dt=Je-ht;Gt-=dt,Tt.horizontal+=dt}return{top:`${Math.round(Ft)}px`,left:`${Math.round(Gt)}px`,transformOrigin:Z9(Tt)}},[l,p,xe,te,S]),[ve,ze]=V.useState(w),Ue=V.useCallback(()=>{const et=me.current;if(!et)return;const ot=he(et);ot.top!==null&&(et.style.top=ot.top),ot.left!==null&&(et.style.left=ot.left),et.style.transformOrigin=ot.transformOrigin,ze(!0)},[he]);V.useEffect(()=>(Z&&window.addEventListener("scroll",Ue),()=>window.removeEventListener("scroll",Ue)),[l,Z,Ue]);const rt=(et,ot)=>{H&&H(et,ot),Ue()},Fe=()=>{ze(!1)};V.useEffect(()=>{w&&Ue()}),V.useImperativeHandle(s,()=>w?{updatePosition:()=>{Ue()}}:null,[w,Ue]),V.useEffect(()=>{if(!w)return;const et=sE(()=>{Ue()}),ot=Ah(l);return ot.addEventListener("resize",et),()=>{et.clear(),ot.removeEventListener("resize",et)}},[l,w,Ue]);let st=F;F==="auto"&&!L.muiSupportAuto&&(st=void 0);const ct=x||(l?Ls(FD(l)).body:void 0),Dt=(i=T==null?void 0:T.root)!=null?i:sIe,zt=(o=T==null?void 0:T.paper)!=null?o:ure,Be=Pc({elementType:zt,externalSlotProps:de({},le,{style:ve?le.style:de({},le.style,{opacity:0})}),additionalProps:{elevation:_,ref:ie},ownerState:ce,className:Xt(fe.paper,le==null?void 0:le.className)}),lt=Pc({elementType:Dt,externalSlotProps:(k==null?void 0:k.root)||{},externalForwardedProps:X,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ct,open:w},ownerState:ce,className:Xt(fe.root,v)}),{slotProps:Qe}=lt,ge=rn(lt,iIe);return z.jsx(Dt,de({},ge,!DP(Dt)&&{slotProps:Qe,disableScrollLock:Z},{children:z.jsx(L,de({appear:!0,in:w,onEntering:rt,onExited:Fe,timeout:st},j,{children:z.jsx(zt,de({},Be,{children:g}))}))}))}),lIe=aIe;function cIe(t){return $n("MuiMenu",t)}jn("MuiMenu",["root","paper","list"]);const uIe=["onEntering"],dIe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],fIe={vertical:"top",horizontal:"right"},hIe={vertical:"top",horizontal:"left"},pIe=t=>{const{classes:e}=t;return Un({root:["root"],paper:["paper"],list:["list"]},cIe,e)},mIe=Zt(lIe,{shouldForwardProp:t=>Jl(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),gIe=Zt(ure,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),yIe=Zt(eIe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),vIe=V.forwardRef(function(e,n){var r,i;const o=Gn({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:l,disableAutoFocusItem:c=!1,MenuListProps:h={},onClose:p,open:g,PaperProps:v={},PopoverClasses:x,transitionDuration:_="auto",TransitionProps:{onEntering:S}={},variant:w="selectedMenu",slots:C={},slotProps:T={}}=o,k=rn(o.TransitionProps,uIe),R=rn(o,dIe),L=xd(),F=L.direction==="rtl",H=de({},o,{autoFocus:a,disableAutoFocusItem:c,MenuListProps:h,onEntering:S,PaperProps:v,transitionDuration:_,TransitionProps:k,variant:w}),Z=pIe(H),j=a&&!c&&g,X=V.useRef(null),le=(he,ve)=>{X.current&&X.current.adjustStyleForScrollbar(he,L),S&&S(he,ve)},me=he=>{he.key==="Tab"&&(he.preventDefault(),p&&p(he,"tabKeyDown"))};let ie=-1;V.Children.map(s,(he,ve)=>{V.isValidElement(he)&&(he.props.disabled||(w==="selectedMenu"&&he.props.selected||ie===-1)&&(ie=ve))});const ce=(r=C.paper)!=null?r:gIe,fe=(i=T.paper)!=null?i:v,xe=Pc({elementType:C.root,externalSlotProps:T.root,ownerState:H,className:[Z.root,l]}),te=Pc({elementType:ce,externalSlotProps:fe,ownerState:H,className:Z.paper});return z.jsx(mIe,de({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?fIe:hIe,slots:{paper:ce,root:C.root},slotProps:{root:xe,paper:te},open:g,ref:n,transitionDuration:_,TransitionProps:de({onEntering:le},k),ownerState:H},R,{classes:x,children:z.jsx(yIe,de({onKeyDown:me,actions:X,autoFocus:a&&(ie===-1||c),autoFocusItem:j,variant:w},h,{className:Xt(Z.list,h.className),children:s}))}))}),K$=vIe;function xIe(t){return $n("MuiMenuItem",t)}const _Ie=jn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ow=_Ie,bIe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],wIe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},SIe=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=t,l=Un({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},xIe,a);return de({},a,l)},MIe=Zt(om,{shouldForwardProp:t=>Jl(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:wIe})(({theme:t,ownerState:e})=>de({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ow.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ji(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ow.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ji(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ow.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ji(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ji(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Ow.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ow.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${O9.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${O9.inset}`]:{marginLeft:52},[`& .${jP.root}`]:{marginTop:0,marginBottom:0},[`& .${jP.inset}`]:{paddingLeft:36},[`& .${q9.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&de({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${q9.root} svg`]:{fontSize:"1.25rem"}}))),EIe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:h="menuitem",tabIndex:p,className:g}=r,v=rn(r,bIe),x=V.useContext(N0),_=V.useMemo(()=>({dense:a||x.dense||!1,disableGutters:l}),[x.dense,a,l]),S=V.useRef(null);mu(()=>{i&&S.current&&S.current.focus()},[i]);const w=de({},r,{dense:_.dense,divider:s,disableGutters:l}),C=SIe(r),T=Lo(S,n);let k;return r.disabled||(k=p!==void 0?p:-1),z.jsx(N0.Provider,{value:_,children:z.jsx(MIe,de({ref:T,role:h,tabIndex:k,component:o,focusVisibleClassName:Xt(C.focusVisible,c),className:Xt(C.root,g)},v,{ownerState:w,classes:C}))})}),lu=EIe;function TIe(t){return $n("MuiNativeSelect",t)}const CIe=jn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Z$=CIe,AIe=["className","disabled","error","IconComponent","inputRef","variant"],PIe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:a}=t,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${tn(n)}`,o&&"iconOpen",r&&"disabled"]};return Un(s,TIe,e)},dre=({ownerState:t,theme:e})=>de({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":de({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Z$.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),IIe=Zt("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Jl,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Z$.multiple}`]:e.multiple}]}})(dre),fre=({ownerState:t,theme:e})=>de({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Z$.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),kIe=Zt("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${tn(n.variant)}`],n.open&&e.iconOpen]}})(fre),RIe=V.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:a,inputRef:s,variant:l="standard"}=e,c=rn(e,AIe),h=de({},e,{disabled:i,variant:l,error:o}),p=PIe(h);return z.jsxs(V.Fragment,{children:[z.jsx(IIe,de({ownerState:h,className:Xt(p.select,r),disabled:i,ref:s||n},c)),e.multiple?null:z.jsx(kIe,{as:a,ownerState:h,className:p.icon})]})}),OIe=RIe;var J9;const LIe=["children","classes","className","label","notched"],DIe=Zt("fieldset",{shouldForwardProp:Jl})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NIe=Zt("legend",{shouldForwardProp:Jl})(({ownerState:t,theme:e})=>de({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&de({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function zIe(t){const{className:e,label:n,notched:r}=t,i=rn(t,LIe),o=n!=null&&n!=="",a=de({},t,{notched:r,withLabel:o});return z.jsx(DIe,de({"aria-hidden":!0,className:e,ownerState:a},i,{children:z.jsx(NIe,{ownerState:a,children:o?z.jsx("span",{children:n}):J9||(J9=z.jsx("span",{className:"notranslate",children:"​"}))})}))}const BIe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],FIe=t=>{const{classes:e}=t,r=Un({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},G2e,e);return de({},e,r)},$Ie=Zt(fR,{shouldForwardProp:t=>Jl(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:uR})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return de({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${eg.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${eg.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${eg.focused} .${eg.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${eg.error} .${eg.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${eg.disabled} .${eg.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&de({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),jIe=Zt(zIe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),UIe=Zt(hR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:dR})(({theme:t,ownerState:e})=>de({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),hre=V.forwardRef(function(e,n){var r,i,o,a,s;const l=Gn({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:h=!1,inputComponent:p="input",label:g,multiline:v=!1,notched:x,slots:_={},type:S="text"}=l,w=rn(l,BIe),C=FIe(l),T=Lh(),k=xy({props:l,muiFormControl:T,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),R=de({},l,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:T,fullWidth:h,hiddenLabel:k.hiddenLabel,multiline:v,size:k.size,type:S}),L=(r=(i=_.root)!=null?i:c.Root)!=null?r:$Ie,F=(o=(a=_.input)!=null?a:c.Input)!=null?o:UIe;return z.jsx(Y$,de({slots:{root:L,input:F},renderSuffix:H=>z.jsx(jIe,{ownerState:R,className:C.notchedOutline,label:g!=null&&g!==""&&k.required?s||(s=z.jsxs(V.Fragment,{children:[g," ","*"]})):g,notched:typeof x<"u"?x:!!(H.startAdornment||H.filled||H.focused)}),fullWidth:h,inputComponent:p,multiline:v,ref:n,type:S},w,{classes:de({},C,{notchedOutline:null})}))});hre.muiName="Input";const J$=hre;function VIe(t){return $n("MuiSelect",t)}const WIe=jn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Lw=WIe;var Q9;const HIe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],GIe=Zt("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Lw.select}`]:e.select},{[`&.${Lw.select}`]:e[n.variant]},{[`&.${Lw.error}`]:e.error},{[`&.${Lw.multiple}`]:e.multiple}]}})(dre,{[`&.${Lw.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),qIe=Zt("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${tn(n.variant)}`],n.open&&e.iconOpen]}})(fre),YIe=Zt("input",{shouldForwardProp:t=>B1e(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function eG(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function XIe(t){return t==null||typeof t=="string"&&!t.trim()}const KIe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:a}=t,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${tn(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Un(s,VIe,e)},ZIe=V.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:a,autoWidth:s,children:l,className:c,defaultOpen:h,defaultValue:p,disabled:g,displayEmpty:v,error:x=!1,IconComponent:_,inputRef:S,labelId:w,MenuProps:C={},multiple:T,name:k,onBlur:R,onChange:L,onClose:F,onFocus:H,onOpen:Z,open:j,readOnly:X,renderValue:le,SelectDisplayProps:me={},tabIndex:ie,value:ce,variant:fe="standard"}=e,xe=rn(e,HIe),[te,he]=bb({controlled:ce,default:p,name:"Select"}),[ve,ze]=bb({controlled:j,default:h,name:"Select"}),Ue=V.useRef(null),rt=V.useRef(null),[Fe,st]=V.useState(null),{current:ct}=V.useRef(j!=null),[Dt,zt]=V.useState(),Be=Lo(n,S),lt=V.useCallback(un=>{rt.current=un,un&&st(un)},[]),Qe=Fe==null?void 0:Fe.parentNode;V.useImperativeHandle(Be,()=>({focus:()=>{rt.current.focus()},node:Ue.current,value:te}),[te]),V.useEffect(()=>{h&&ve&&Fe&&!ct&&(zt(s?null:Qe.clientWidth),rt.current.focus())},[Fe,s]),V.useEffect(()=>{a&&rt.current.focus()},[a]),V.useEffect(()=>{if(!w)return;const un=Ls(rt.current).getElementById(w);if(un){const an=()=>{getSelection().isCollapsed&&rt.current.focus()};return un.addEventListener("click",an),()=>{un.removeEventListener("click",an)}}},[w]);const ge=(un,an)=>{un?Z&&Z(an):F&&F(an),ct||(zt(s?null:Qe.clientWidth),ze(un))},et=un=>{un.button===0&&(un.preventDefault(),rt.current.focus(),ge(!0,un))},ot=un=>{ge(!1,un)},Tt=V.Children.toArray(l),Ct=un=>{const an=Tt.find(Ot=>Ot.props.value===un.target.value);an!==void 0&&(he(an.props.value),L&&L(un,an))},Ft=un=>an=>{let Ot;if(an.currentTarget.hasAttribute("tabindex")){if(T){Ot=Array.isArray(te)?te.slice():[];const ke=te.indexOf(un.props.value);ke===-1?Ot.push(un.props.value):Ot.splice(ke,1)}else Ot=un.props.value;if(un.props.onClick&&un.props.onClick(an),te!==Ot&&(he(Ot),L)){const ke=an.nativeEvent||an,Ve=new ke.constructor(ke.type,ke);Object.defineProperty(Ve,"target",{writable:!0,value:{value:Ot,name:k}}),L(Ve,un)}T||ge(!1,an)}},Gt=un=>{X||[" ","ArrowUp","ArrowDown","Enter"].indexOf(un.key)!==-1&&(un.preventDefault(),ge(!0,un))},sn=Fe!==null&&ve,Je=un=>{!sn&&R&&(Object.defineProperty(un,"target",{writable:!0,value:{value:te,name:k}}),R(un))};delete xe["aria-invalid"];let Ce,_e;const ht=[];let dt=!1;(FP({value:te})||v)&&(le?Ce=le(te):dt=!0);const Wt=Tt.map(un=>{if(!V.isValidElement(un))return null;let an;if(T){if(!Array.isArray(te))throw new Error(k0(2));an=te.some(Ot=>eG(Ot,un.props.value)),an&&dt&&ht.push(un.props.children)}else an=eG(te,un.props.value),an&&dt&&(_e=un.props.children);return V.cloneElement(un,{"aria-selected":an?"true":"false",onClick:Ft(un),onKeyUp:Ot=>{Ot.key===" "&&Ot.preventDefault(),un.props.onKeyUp&&un.props.onKeyUp(Ot)},role:"option",selected:an,value:void 0,"data-value":un.props.value})});dt&&(T?ht.length===0?Ce=null:Ce=ht.reduce((un,an,Ot)=>(un.push(an),Ot<ht.length-1&&un.push(", "),un),[]):Ce=_e);let jt=Dt;!s&&ct&&Fe&&(jt=Qe.clientWidth);let Mn;typeof ie<"u"?Mn=ie:Mn=g?null:0;const cn=me.id||(k?`mui-component-select-${k}`:void 0),Rt=de({},e,{variant:fe,value:te,open:sn,error:x}),nn=KIe(Rt),Pn=de({},C.PaperProps,(r=C.slotProps)==null?void 0:r.paper),mt=rR();return z.jsxs(V.Fragment,{children:[z.jsx(GIe,de({ref:lt,tabIndex:Mn,role:"combobox","aria-controls":mt,"aria-disabled":g?"true":void 0,"aria-expanded":sn?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[w,cn].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Gt,onMouseDown:g||X?null:et,onBlur:Je,onFocus:H},me,{ownerState:Rt,className:Xt(me.className,nn.select,c),id:cn,children:XIe(Ce)?Q9||(Q9=z.jsx("span",{className:"notranslate",children:"​"})):Ce})),z.jsx(YIe,de({"aria-invalid":x,value:Array.isArray(te)?te.join(","):te,name:k,ref:Ue,"aria-hidden":!0,onChange:Ct,tabIndex:-1,disabled:g,className:nn.nativeInput,autoFocus:a,ownerState:Rt},xe)),z.jsx(qIe,{as:_,className:nn.icon,ownerState:Rt}),z.jsx(K$,de({id:`menu-${k||""}`,anchorEl:Qe,open:sn,onClose:ot,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},C,{MenuListProps:de({"aria-labelledby":w,role:"listbox","aria-multiselectable":T?"true":void 0,disableListWrap:!0,id:mt},C.MenuListProps),slotProps:de({},C.slotProps,{paper:de({},Pn,{style:de({minWidth:jt},Pn!=null?Pn.style:null)})}),children:Wt}))]})}),JIe=ZIe,QIe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],eke=["root"],tke=t=>{const{classes:e}=t;return e},Q$={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Jl(t)&&t!=="variant",slot:"Root"},nke=Zt(are,Q$)(""),rke=Zt(J$,Q$)(""),ike=Zt(nre,Q$)(""),pre=V.forwardRef(function(e,n){const r=Gn({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:h=K2e,id:p,input:g,inputProps:v,label:x,labelId:_,MenuProps:S,multiple:w=!1,native:C=!1,onClose:T,onOpen:k,open:R,renderValue:L,SelectDisplayProps:F,variant:H="outlined"}=r,Z=rn(r,QIe),j=C?OIe:JIe,X=Lh(),le=xy({props:r,muiFormControl:X,states:["variant","error"]}),me=le.variant||H,ie=de({},r,{variant:me,classes:a}),ce=tke(ie),fe=rn(ce,eke),xe=g||{standard:z.jsx(nke,{ownerState:ie}),outlined:z.jsx(rke,{label:x,ownerState:ie}),filled:z.jsx(ike,{ownerState:ie})}[me],te=Lo(n,xe.ref);return z.jsx(V.Fragment,{children:V.cloneElement(xe,de({inputComponent:j,inputProps:de({children:o,error:le.error,IconComponent:h,variant:me,type:void 0,multiple:w},C?{id:p}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:_,MenuProps:S,onClose:T,onOpen:k,open:R,renderValue:L,SelectDisplayProps:de({id:p},F)},v,{classes:v?Ba(fe,v.classes):fe},g?g.props.inputProps:{})},(w&&C||c)&&me==="outlined"?{notched:!0}:{},{ref:te,className:Xt(xe.props.className,s,ce.root)},!g&&{variant:me},Z))})});pre.muiName="Select";const pE=pre;function oke(t){return $n("MuiSnackbarContent",t)}jn("MuiSnackbarContent",["root","message","action"]);const ske=["action","className","message","role"],ake=t=>{const{classes:e}=t;return Un({root:["root"],action:["action"],message:["message"]},oke,e)},lke=Zt(Ss,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=Nbe(t.palette.background.default,e);return de({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),cke=Zt("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),uke=Zt("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),dke=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiSnackbarContent"}),{action:i,className:o,message:a,role:s="alert"}=r,l=rn(r,ske),c=r,h=ake(c);return z.jsxs(lke,de({role:s,square:!0,elevation:6,className:Xt(h.root,o),ownerState:c,ref:n},l,{children:[z.jsx(cke,{className:h.message,ownerState:c,children:a}),i?z.jsx(uke,{className:h.action,ownerState:c,children:i}):null]}))}),fke=dke;function hke(t){return $n("MuiSnackbar",t)}jn("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const pke=["onEnter","onExited"],mke=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],gke=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${tn(n.vertical)}${tn(n.horizontal)}`]};return Un(r,hke,e)},tG=Zt("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${tn(n.anchorOrigin.vertical)}${tn(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return de({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:de({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),yke=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiSnackbar"}),i=xd(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:h,className:p,ClickAwayListenerProps:g,ContentProps:v,disableWindowBlurListener:x=!1,message:_,open:S,TransitionComponent:w=$P,transitionDuration:C=o,TransitionProps:{onEnter:T,onExited:k}={}}=r,R=rn(r.TransitionProps,pke),L=rn(r,mke),F=de({},r,{anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:c,disableWindowBlurListener:x,TransitionComponent:w,transitionDuration:C}),H=gke(F),{getRootProps:Z,onClickAway:j}=S2e(de({},F)),[X,le]=V.useState(!0),me=Pc({elementType:tG,getSlotProps:Z,externalForwardedProps:L,ownerState:F,additionalProps:{ref:n},className:[H.root,p]}),ie=fe=>{le(!0),k&&k(fe)},ce=(fe,xe)=>{le(!1),T&&T(fe,xe)};return!S&&X?null:z.jsx(WSe,de({onClickAway:j},g,{children:z.jsx(tG,de({},me,{children:z.jsx(w,de({appear:!0,in:S,timeout:C,direction:s==="top"?"down":"up",onEnter:ce,onExited:ie},R,{children:h||z.jsx(fke,de({message:_,action:a},v))}))}))}))}),vke=yke;function xke(t){return $n("MuiTooltip",t)}const _ke=jn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Rg=_ke,bke=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function wke(t){return Math.round(t*1e5)/1e5}const Ske=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${tn(o.split("-")[0])}`],arrow:["arrow"]};return Un(a,xke,e)},Mke=Zt(Wne,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>de({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Rg.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Rg.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Rg.arrow}`]:de({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Rg.arrow}`]:de({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Eke=Zt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${tn(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>de({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Ji(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${wke(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Rg.popper}[data-popper-placement*="left"] &`]:de({transformOrigin:"right center"},e.isRtl?de({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):de({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Rg.popper}[data-popper-placement*="right"] &`]:de({transformOrigin:"left center"},e.isRtl?de({marginRight:"14px"},e.touch&&{marginRight:"24px"}):de({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Rg.popper}[data-popper-placement*="top"] &`]:de({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Rg.popper}[data-popper-placement*="bottom"] &`]:de({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),Tke=Zt("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Ji(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let UT=!1;const nG=new aE;let Dw={x:0,y:0};function VT(t,e){return n=>{e&&e(n),t(n)}}const Cke=V.forwardRef(function(e,n){var r,i,o,a,s,l,c,h,p,g,v,x,_,S,w,C,T,k,R;const L=Gn({props:e,name:"MuiTooltip"}),{arrow:F=!1,children:H,components:Z={},componentsProps:j={},describeChild:X=!1,disableFocusListener:le=!1,disableHoverListener:me=!1,disableInteractive:ie=!1,disableTouchListener:ce=!1,enterDelay:fe=100,enterNextDelay:xe=0,enterTouchDelay:te=700,followCursor:he=!1,id:ve,leaveDelay:ze=0,leaveTouchDelay:Ue=1500,onClose:rt,onOpen:Fe,open:st,placement:ct="bottom",PopperComponent:Dt,PopperProps:zt={},slotProps:Be={},slots:lt={},title:Qe,TransitionComponent:ge=$P,TransitionProps:et}=L,ot=rn(L,bke),Tt=V.isValidElement(H)?H:z.jsx("span",{children:H}),Ct=xd(),Ft=Ct.direction==="rtl",[Gt,sn]=V.useState(),[Je,Ce]=V.useState(null),_e=V.useRef(!1),ht=ie||he,dt=kg(),Wt=kg(),jt=kg(),Mn=kg(),[cn,Rt]=bb({controlled:st,default:!1,name:"Tooltip",state:"open"});let nn=cn;const Pn=rR(ve),mt=V.useRef(),un=Wl(()=>{mt.current!==void 0&&(document.body.style.WebkitUserSelect=mt.current,mt.current=void 0),Mn.clear()});V.useEffect(()=>un,[un]);const an=yt=>{nG.clear(),UT=!0,Rt(!0),Fe&&!nn&&Fe(yt)},Ot=Wl(yt=>{nG.start(800+ze,()=>{UT=!1}),Rt(!1),rt&&nn&&rt(yt),dt.start(Ct.transitions.duration.shortest,()=>{_e.current=!1})}),ke=yt=>{_e.current&&yt.type!=="touchstart"||(Gt&&Gt.removeAttribute("title"),Wt.clear(),jt.clear(),fe||UT&&xe?Wt.start(UT?xe:fe,()=>{an(yt)}):an(yt))},Ve=yt=>{Wt.clear(),jt.start(ze,()=>{Ot(yt)})},{isFocusVisibleRef:Me,onBlur:it,onFocus:en,ref:Xe}=oR(),[,kt]=V.useState(!1),Et=yt=>{it(yt),Me.current===!1&&(kt(!1),Ve(yt))},we=yt=>{Gt||sn(yt.currentTarget),en(yt),Me.current===!0&&(kt(!0),ke(yt))},oe=yt=>{_e.current=!0;const vt=Tt.props;vt.onTouchStart&&vt.onTouchStart(yt)},pe=yt=>{oe(yt),jt.clear(),dt.clear(),un(),mt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Mn.start(te,()=>{document.body.style.WebkitUserSelect=mt.current,ke(yt)})},Te=yt=>{Tt.props.onTouchEnd&&Tt.props.onTouchEnd(yt),un(),jt.start(Ue,()=>{Ot(yt)})};V.useEffect(()=>{if(!nn)return;function yt(vt){(vt.key==="Escape"||vt.key==="Esc")&&Ot(vt)}return document.addEventListener("keydown",yt),()=>{document.removeEventListener("keydown",yt)}},[Ot,nn]);const Pe=Lo(Tt.ref,Xe,sn,n);!Qe&&Qe!==0&&(nn=!1);const Ne=V.useRef(),Ke=yt=>{const vt=Tt.props;vt.onMouseMove&&vt.onMouseMove(yt),Dw={x:yt.clientX,y:yt.clientY},Ne.current&&Ne.current.update()},qe={},je=typeof Qe=="string";X?(qe.title=!nn&&je&&!me?Qe:null,qe["aria-describedby"]=nn?Pn:null):(qe["aria-label"]=je?Qe:null,qe["aria-labelledby"]=nn&&!je?Pn:null);const tt=de({},qe,ot,Tt.props,{className:Xt(ot.className,Tt.props.className),onTouchStart:oe,ref:Pe},he?{onMouseMove:Ke}:{}),Nt={};ce||(tt.onTouchStart=pe,tt.onTouchEnd=Te),me||(tt.onMouseOver=VT(ke,tt.onMouseOver),tt.onMouseLeave=VT(Ve,tt.onMouseLeave),ht||(Nt.onMouseOver=ke,Nt.onMouseLeave=Ve)),le||(tt.onFocus=VT(we,tt.onFocus),tt.onBlur=VT(Et,tt.onBlur),ht||(Nt.onFocus=we,Nt.onBlur=Et));const Ut=V.useMemo(()=>{var yt;let vt=[{name:"arrow",enabled:!!Je,options:{element:Je,padding:4}}];return(yt=zt.popperOptions)!=null&&yt.modifiers&&(vt=vt.concat(zt.popperOptions.modifiers)),de({},zt.popperOptions,{modifiers:vt})},[Je,zt]),$t=de({},L,{isRtl:Ft,arrow:F,disableInteractive:ht,placement:ct,PopperComponentProp:Dt,touch:_e.current}),kn=Ske($t),er=(r=(i=lt.popper)!=null?i:Z.Popper)!=null?r:Mke,Tn=(o=(a=(s=lt.transition)!=null?s:Z.Transition)!=null?a:ge)!=null?o:$P,Vn=(l=(c=lt.tooltip)!=null?c:Z.Tooltip)!=null?l:Eke,sr=(h=(p=lt.arrow)!=null?p:Z.Arrow)!=null?h:Tke,$r=E_(er,de({},zt,(g=Be.popper)!=null?g:j.popper,{className:Xt(kn.popper,zt==null?void 0:zt.className,(v=(x=Be.popper)!=null?x:j.popper)==null?void 0:v.className)}),$t),Ae=E_(Tn,de({},et,(_=Be.transition)!=null?_:j.transition),$t),ut=E_(Vn,de({},(S=Be.tooltip)!=null?S:j.tooltip,{className:Xt(kn.tooltip,(w=(C=Be.tooltip)!=null?C:j.tooltip)==null?void 0:w.className)}),$t),bt=E_(sr,de({},(T=Be.arrow)!=null?T:j.arrow,{className:Xt(kn.arrow,(k=(R=Be.arrow)!=null?R:j.arrow)==null?void 0:k.className)}),$t);return z.jsxs(V.Fragment,{children:[V.cloneElement(Tt,tt),z.jsx(er,de({as:Dt??Wne,placement:ct,anchorEl:he?{getBoundingClientRect:()=>({top:Dw.y,left:Dw.x,right:Dw.x,bottom:Dw.y,width:0,height:0})}:Gt,popperRef:Ne,open:Gt?nn:!1,id:Pn,transition:!0},Nt,$r,{popperOptions:Ut,children:({TransitionProps:yt})=>z.jsx(Tn,de({timeout:Ct.transitions.duration.shorter},yt,Ae,{children:z.jsxs(Vn,de({},ut,{children:[Qe,F?z.jsx(sr,de({},bt,{ref:Ce})):null]}))}))}))]})}),Tg=Cke;function Ake(t){return $n("MuiSwitch",t)}const Pke=jn("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Bl=Pke,Ike=["className","color","edge","size","sx"],kke=t=>{const{classes:e,edge:n,size:r,color:i,checked:o,disabled:a}=t,s={root:["root",n&&`edge${tn(n)}`,`size${tn(r)}`],switchBase:["switchBase",`color${tn(i)}`,o&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Un(s,Ake,e);return de({},e,l)},Rke=Zt("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${tn(n.edge)}`],e[`size${tn(n.size)}`]]}})(({ownerState:t})=>de({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},t.edge==="start"&&{marginLeft:-8},t.edge==="end"&&{marginRight:-8},t.size==="small"&&{width:40,height:24,padding:7,[`& .${Bl.thumb}`]:{width:16,height:16},[`& .${Bl.switchBase}`]:{padding:4,[`&.${Bl.checked}`]:{transform:"translateX(16px)"}}})),Oke=Zt(Qne,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${Bl.input}`]:e.input},n.color!=="default"&&e[`color${tn(n.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Bl.checked}`]:{transform:"translateX(20px)"},[`&.${Bl.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Bl.checked} + .${Bl.track}`]:{opacity:.5},[`&.${Bl.disabled} + .${Bl.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Bl.input}`]:{left:"-100%",width:"300%"}}),({theme:t,ownerState:e})=>de({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Ji(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${Bl.checked}`]:{color:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ji(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bl.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e.color}DisabledColor`]:`${t.palette.mode==="light"?Sb(t.palette[e.color].main,.62):wb(t.palette[e.color].main,.55)}`}},[`&.${Bl.checked} + .${Bl.track}`]:{backgroundColor:(t.vars||t).palette[e.color].main}})),Lke=Zt("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),Dke=Zt("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Nke=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:a=!1,size:s="medium",sx:l}=r,c=rn(r,Ike),h=de({},r,{color:o,edge:a,size:s}),p=kke(h),g=z.jsx(Dke,{className:p.thumb,ownerState:h});return z.jsxs(Rke,{className:Xt(p.root,i),sx:l,ownerState:h,children:[z.jsx(Oke,de({type:"checkbox",icon:g,checkedIcon:g,ref:n,ownerState:h},c,{classes:de({},p,{root:p.switchBase})})),z.jsx(Lke,{className:p.track,ownerState:h})]})}),mre=Nke;function zke(t){return $n("MuiTab",t)}const Bke=jn("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),gv=Bke,Fke=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],$ke=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:a,selected:s,disabled:l}=t,c={root:["root",o&&a&&"labelIcon",`textColor${tn(n)}`,r&&"fullWidth",i&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return Un(c,zke,e)},jke=Zt(om,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${tn(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>de({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${gv.iconWrapper}`]:de({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${gv.selected}`]:{opacity:1},[`&.${gv.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${gv.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${gv.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${gv.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${gv.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),Uke=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:a=!1,fullWidth:s,icon:l,iconPosition:c="top",indicator:h,label:p,onChange:g,onClick:v,onFocus:x,selected:_,selectionFollowsFocus:S,textColor:w="inherit",value:C,wrapped:T=!1}=r,k=rn(r,Fke),R=de({},r,{disabled:o,disableFocusRipple:a,selected:_,icon:!!l,iconPosition:c,label:!!p,fullWidth:s,textColor:w,wrapped:T}),L=$ke(R),F=l&&p&&V.isValidElement(l)?V.cloneElement(l,{className:Xt(L.iconWrapper,l.props.className)}):l,H=j=>{!_&&g&&g(j,C),v&&v(j)},Z=j=>{S&&!_&&g&&g(j,C),x&&x(j)};return z.jsxs(jke,de({focusRipple:!a,className:Xt(L.root,i),ref:n,role:"tab","aria-selected":_,disabled:o,onClick:H,onFocus:Z,ownerState:R,tabIndex:_?0:-1},k,{children:[c==="top"||c==="start"?z.jsxs(V.Fragment,{children:[F,p]}):z.jsxs(V.Fragment,{children:[p,F]}),h]}))}),Zv=Uke,Vke=V.createContext(),gre=Vke;function Wke(t){return $n("MuiTable",t)}jn("MuiTable",["root","stickyHeader"]);const Hke=["className","component","padding","size","stickyHeader"],Gke=t=>{const{classes:e,stickyHeader:n}=t;return Un({root:["root",n&&"stickyHeader"]},Wke,e)},qke=Zt("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>de({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":de({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),rG="table",Yke=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTable"}),{className:i,component:o=rG,padding:a="normal",size:s="medium",stickyHeader:l=!1}=r,c=rn(r,Hke),h=de({},r,{component:o,padding:a,size:s,stickyHeader:l}),p=Gke(h),g=V.useMemo(()=>({padding:a,size:s,stickyHeader:l}),[a,s,l]);return z.jsx(gre.Provider,{value:g,children:z.jsx(qke,de({as:o,role:o===rG?null:"table",ref:n,className:Xt(p.root,i),ownerState:h},c))})}),mR=Yke,Xke=V.createContext(),gR=Xke;function Kke(t){return $n("MuiTableBody",t)}jn("MuiTableBody",["root"]);const Zke=["className","component"],Jke=t=>{const{classes:e}=t;return Un({root:["root"]},Kke,e)},Qke=Zt("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),eRe={variant:"body"},iG="tbody",tRe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTableBody"}),{className:i,component:o=iG}=r,a=rn(r,Zke),s=de({},r,{component:o}),l=Jke(s);return z.jsx(gR.Provider,{value:eRe,children:z.jsx(Qke,de({className:Xt(l.root,i),as:o,ref:n,role:o===iG?null:"rowgroup",ownerState:s},a))})}),yR=tRe;function nRe(t){return $n("MuiTableCell",t)}const rRe=jn("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),iRe=rRe,oRe=["align","className","component","padding","scope","size","sortDirection","variant"],sRe=t=>{const{classes:e,variant:n,align:r,padding:i,size:o,stickyHeader:a}=t,s={root:["root",n,a&&"stickyHeader",r!=="inherit"&&`align${tn(r)}`,i!=="normal"&&`padding${tn(i)}`,`size${tn(o)}`]};return Un(s,nRe,e)},aRe=Zt("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${tn(n.size)}`],n.padding!=="normal"&&e[`padding${tn(n.padding)}`],n.align!=="inherit"&&e[`align${tn(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>de({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Sb(Ji(t.palette.divider,1),.88):wb(Ji(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${iRe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),lRe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:a,padding:s,scope:l,size:c,sortDirection:h,variant:p}=r,g=rn(r,oRe),v=V.useContext(gre),x=V.useContext(gR),_=x&&x.variant==="head";let S;a?S=a:S=_?"th":"td";let w=l;S==="td"?w=void 0:!w&&_&&(w="col");const C=p||x&&x.variant,T=de({},r,{align:i,component:S,padding:s||(v&&v.padding?v.padding:"normal"),size:c||(v&&v.size?v.size:"medium"),sortDirection:h,stickyHeader:C==="head"&&v&&v.stickyHeader,variant:C}),k=sRe(T);let R=null;return h&&(R=h==="asc"?"ascending":"descending"),z.jsx(aRe,de({as:S,ref:n,className:Xt(k.root,o),"aria-sort":R,scope:w,ownerState:T},g))}),jo=lRe;function cRe(t){return $n("MuiTableHead",t)}jn("MuiTableHead",["root"]);const uRe=["className","component"],dRe=t=>{const{classes:e}=t;return Un({root:["root"]},cRe,e)},fRe=Zt("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),hRe={variant:"head"},oG="thead",pRe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTableHead"}),{className:i,component:o=oG}=r,a=rn(r,uRe),s=de({},r,{component:o}),l=dRe(s);return z.jsx(gR.Provider,{value:hRe,children:z.jsx(fRe,de({as:o,className:Xt(l.root,i),ref:n,role:o===oG?null:"rowgroup",ownerState:s},a))})}),ej=pRe;function mRe(t){return $n("MuiToolbar",t)}jn("MuiToolbar",["root","gutters","regular","dense"]);const gRe=["className","component","disableGutters","variant"],yRe=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Un({root:["root",!n&&"gutters",r]},mRe,e)},vRe=Zt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>de({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),xRe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:a=!1,variant:s="regular"}=r,l=rn(r,gRe),c=de({},r,{component:o,disableGutters:a,variant:s}),h=yRe(c);return z.jsx(vRe,de({as:o,className:Xt(h.root,i),ref:n,ownerState:c},l))}),sm=xRe,_Re=$a(z.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),bRe=$a(z.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function wRe(t){return $n("MuiTableRow",t)}const SRe=jn("MuiTableRow",["root","selected","hover","head","footer"]),sG=SRe,MRe=["className","component","hover","selected"],ERe=t=>{const{classes:e,selected:n,hover:r,head:i,footer:o}=t;return Un({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},wRe,e)},TRe=Zt("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${sG.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${sG.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ji(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ji(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),aG="tr",CRe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTableRow"}),{className:i,component:o=aG,hover:a=!1,selected:s=!1}=r,l=rn(r,MRe),c=V.useContext(gR),h=de({},r,{component:o,hover:a,selected:s,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),p=ERe(h);return z.jsx(TRe,de({as:o,ref:n,className:Xt(p.root,i),role:o===aG?null:"row",ownerState:h},l))}),Yg=CRe;function ARe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function PRe(t,e,n,r={},i=()=>{}){const{ease:o=ARe,duration:a=300}=r;let s=null;const l=e[t];let c=!1;const h=()=>{c=!0},p=g=>{if(c){i(new Error("Animation cancelled"));return}s===null&&(s=g);const v=Math.min(1,(g-s)/a);if(e[t]=o(v)*(n-l)+l,v>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(p)};return l===n?(i(new Error("Element already at target position")),h):(requestAnimationFrame(p),h)}const IRe=["onChange"],kRe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function RRe(t){const{onChange:e}=t,n=rn(t,IRe),r=V.useRef(),i=V.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return mu(()=>{const a=sE(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),s=Ah(i.current);return s.addEventListener("resize",a),()=>{a.clear(),s.removeEventListener("resize",a)}},[e]),V.useEffect(()=>{o(),e(r.current)},[e]),z.jsx("div",de({style:kRe,ref:i},n))}function ORe(t){return $n("MuiTabScrollButton",t)}const LRe=jn("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),DRe=LRe,NRe=["className","slots","slotProps","direction","orientation","disabled"],zRe=t=>{const{classes:e,orientation:n,disabled:r}=t;return Un({root:["root",n,r&&"disabled"]},ORe,e)},BRe=Zt(om,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})(({ownerState:t})=>de({width:40,flexShrink:0,opacity:.8,[`&.${DRe.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),FRe=V.forwardRef(function(e,n){var r,i;const o=Gn({props:e,name:"MuiTabScrollButton"}),{className:a,slots:s={},slotProps:l={},direction:c}=o,h=rn(o,NRe),g=xd().direction==="rtl",v=de({isRtl:g},o),x=zRe(v),_=(r=s.StartScrollButtonIcon)!=null?r:_Re,S=(i=s.EndScrollButtonIcon)!=null?i:bRe,w=Pc({elementType:_,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v}),C=Pc({elementType:S,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v});return z.jsx(BRe,de({component:"div",className:Xt(x.root,a),ref:n,role:null,ownerState:v,tabIndex:null},h,{children:c==="left"?z.jsx(_,de({},w)):z.jsx(S,de({},C))}))}),$Re=FRe;function jRe(t){return $n("MuiTabs",t)}const URe=jn("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),$D=URe,VRe=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],lG=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,cG=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,WT=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},WRe=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:a,scrollButtonsHideMobile:s,classes:l}=t;return Un({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},jRe,l)},HRe=Zt("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${$D.scrollButtons}`]:e.scrollButtons},{[`& .${$D.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>de({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${$D.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),GRe=Zt("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})(({ownerState:t})=>de({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),qRe=Zt("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})(({ownerState:t})=>de({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),YRe=Zt("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>de({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),XRe=Zt(RRe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),uG={},KRe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTabs"}),i=xd(),o=i.direction==="rtl",{"aria-label":a,"aria-labelledby":s,action:l,centered:c=!1,children:h,className:p,component:g="div",allowScrollButtonsMobile:v=!1,indicatorColor:x="primary",onChange:_,orientation:S="horizontal",ScrollButtonComponent:w=$Re,scrollButtons:C="auto",selectionFollowsFocus:T,slots:k={},slotProps:R={},TabIndicatorProps:L={},TabScrollButtonProps:F={},textColor:H="primary",value:Z,variant:j="standard",visibleScrollbar:X=!1}=r,le=rn(r,VRe),me=j==="scrollable",ie=S==="vertical",ce=ie?"scrollTop":"scrollLeft",fe=ie?"top":"left",xe=ie?"bottom":"right",te=ie?"clientHeight":"clientWidth",he=ie?"height":"width",ve=de({},r,{component:g,allowScrollButtonsMobile:v,indicatorColor:x,orientation:S,vertical:ie,scrollButtons:C,textColor:H,variant:j,visibleScrollbar:X,fixed:!me,hideScrollbar:me&&!X,scrollableX:me&&!ie,scrollableY:me&&ie,centered:c&&!me,scrollButtonsHideMobile:!v}),ze=WRe(ve),Ue=Pc({elementType:k.StartScrollButtonIcon,externalSlotProps:R.startScrollButtonIcon,ownerState:ve}),rt=Pc({elementType:k.EndScrollButtonIcon,externalSlotProps:R.endScrollButtonIcon,ownerState:ve}),[Fe,st]=V.useState(!1),[ct,Dt]=V.useState(uG),[zt,Be]=V.useState(!1),[lt,Qe]=V.useState(!1),[ge,et]=V.useState(!1),[ot,Tt]=V.useState({overflow:"hidden",scrollbarWidth:0}),Ct=new Map,Ft=V.useRef(null),Gt=V.useRef(null),sn=()=>{const Ot=Ft.current;let ke;if(Ot){const Me=Ot.getBoundingClientRect();ke={clientWidth:Ot.clientWidth,scrollLeft:Ot.scrollLeft,scrollTop:Ot.scrollTop,scrollLeftNormalized:dbe(Ot,i.direction),scrollWidth:Ot.scrollWidth,top:Me.top,bottom:Me.bottom,left:Me.left,right:Me.right}}let Ve;if(Ot&&Z!==!1){const Me=Gt.current.children;if(Me.length>0){const it=Me[Ct.get(Z)];Ve=it?it.getBoundingClientRect():null}}return{tabsMeta:ke,tabMeta:Ve}},Je=Wl(()=>{const{tabsMeta:Ot,tabMeta:ke}=sn();let Ve=0,Me;if(ie)Me="top",ke&&Ot&&(Ve=ke.top-Ot.top+Ot.scrollTop);else if(Me=o?"right":"left",ke&&Ot){const en=o?Ot.scrollLeftNormalized+Ot.clientWidth-Ot.scrollWidth:Ot.scrollLeft;Ve=(o?-1:1)*(ke[Me]-Ot[Me]+en)}const it={[Me]:Ve,[he]:ke?ke[he]:0};if(isNaN(ct[Me])||isNaN(ct[he]))Dt(it);else{const en=Math.abs(ct[Me]-it[Me]),Xe=Math.abs(ct[he]-it[he]);(en>=1||Xe>=1)&&Dt(it)}}),Ce=(Ot,{animation:ke=!0}={})=>{ke?PRe(ce,Ft.current,Ot,{duration:i.transitions.duration.standard}):Ft.current[ce]=Ot},_e=Ot=>{let ke=Ft.current[ce];ie?ke+=Ot:(ke+=Ot*(o?-1:1),ke*=o&&lne()==="reverse"?-1:1),Ce(ke)},ht=()=>{const Ot=Ft.current[te];let ke=0;const Ve=Array.from(Gt.current.children);for(let Me=0;Me<Ve.length;Me+=1){const it=Ve[Me];if(ke+it[te]>Ot){Me===0&&(ke=Ot);break}ke+=it[te]}return ke},dt=()=>{_e(-1*ht())},Wt=()=>{_e(ht())},jt=V.useCallback(Ot=>{Tt({overflow:null,scrollbarWidth:Ot})},[]),Mn=()=>{const Ot={};Ot.scrollbarSizeListener=me?z.jsx(XRe,{onChange:jt,className:Xt(ze.scrollableX,ze.hideScrollbar)}):null;const Ve=me&&(C==="auto"&&(zt||lt)||C===!0);return Ot.scrollButtonStart=Ve?z.jsx(w,de({slots:{StartScrollButtonIcon:k.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Ue},orientation:S,direction:o?"right":"left",onClick:dt,disabled:!zt},F,{className:Xt(ze.scrollButtons,F.className)})):null,Ot.scrollButtonEnd=Ve?z.jsx(w,de({slots:{EndScrollButtonIcon:k.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:rt},orientation:S,direction:o?"left":"right",onClick:Wt,disabled:!lt},F,{className:Xt(ze.scrollButtons,F.className)})):null,Ot},cn=Wl(Ot=>{const{tabsMeta:ke,tabMeta:Ve}=sn();if(!(!Ve||!ke)){if(Ve[fe]<ke[fe]){const Me=ke[ce]+(Ve[fe]-ke[fe]);Ce(Me,{animation:Ot})}else if(Ve[xe]>ke[xe]){const Me=ke[ce]+(Ve[xe]-ke[xe]);Ce(Me,{animation:Ot})}}}),Rt=Wl(()=>{me&&C!==!1&&et(!ge)});V.useEffect(()=>{const Ot=sE(()=>{Ft.current&&Je()});let ke;const Ve=en=>{en.forEach(Xe=>{Xe.removedNodes.forEach(kt=>{var Et;(Et=ke)==null||Et.unobserve(kt)}),Xe.addedNodes.forEach(kt=>{var Et;(Et=ke)==null||Et.observe(kt)})}),Ot(),Rt()},Me=Ah(Ft.current);Me.addEventListener("resize",Ot);let it;return typeof ResizeObserver<"u"&&(ke=new ResizeObserver(Ot),Array.from(Gt.current.children).forEach(en=>{ke.observe(en)})),typeof MutationObserver<"u"&&(it=new MutationObserver(Ve),it.observe(Gt.current,{childList:!0})),()=>{var en,Xe;Ot.clear(),Me.removeEventListener("resize",Ot),(en=it)==null||en.disconnect(),(Xe=ke)==null||Xe.disconnect()}},[Je,Rt]),V.useEffect(()=>{const Ot=Array.from(Gt.current.children),ke=Ot.length;if(typeof IntersectionObserver<"u"&&ke>0&&me&&C!==!1){const Ve=Ot[0],Me=Ot[ke-1],it={root:Ft.current,threshold:.99},en=we=>{Be(!we[0].isIntersecting)},Xe=new IntersectionObserver(en,it);Xe.observe(Ve);const kt=we=>{Qe(!we[0].isIntersecting)},Et=new IntersectionObserver(kt,it);return Et.observe(Me),()=>{Xe.disconnect(),Et.disconnect()}}},[me,C,ge,h==null?void 0:h.length]),V.useEffect(()=>{st(!0)},[]),V.useEffect(()=>{Je()}),V.useEffect(()=>{cn(uG!==ct)},[cn,ct]),V.useImperativeHandle(l,()=>({updateIndicator:Je,updateScrollButtons:Rt}),[Je,Rt]);const nn=z.jsx(YRe,de({},L,{className:Xt(ze.indicator,L.className),ownerState:ve,style:de({},ct,L.style)}));let Pn=0;const mt=V.Children.map(h,Ot=>{if(!V.isValidElement(Ot))return null;const ke=Ot.props.value===void 0?Pn:Ot.props.value;Ct.set(ke,Pn);const Ve=ke===Z;return Pn+=1,V.cloneElement(Ot,de({fullWidth:j==="fullWidth",indicator:Ve&&!Fe&&nn,selected:Ve,selectionFollowsFocus:T,onChange:_,textColor:H,value:ke},Pn===1&&Z===!1&&!Ot.props.tabIndex?{tabIndex:0}:{}))}),un=Ot=>{const ke=Gt.current,Ve=Ls(ke).activeElement;if(Ve.getAttribute("role")!=="tab")return;let it=S==="horizontal"?"ArrowLeft":"ArrowUp",en=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&o&&(it="ArrowRight",en="ArrowLeft"),Ot.key){case it:Ot.preventDefault(),WT(ke,Ve,cG);break;case en:Ot.preventDefault(),WT(ke,Ve,lG);break;case"Home":Ot.preventDefault(),WT(ke,null,lG);break;case"End":Ot.preventDefault(),WT(ke,null,cG);break}},an=Mn();return z.jsxs(HRe,de({className:Xt(ze.root,p),ownerState:ve,ref:n,as:g},le,{children:[an.scrollButtonStart,an.scrollbarSizeListener,z.jsxs(GRe,{className:ze.scroller,ownerState:ve,style:{overflow:ot.overflow,[ie?`margin${o?"Left":"Right"}`:"marginBottom"]:X?void 0:-ot.scrollbarWidth},ref:Ft,children:[z.jsx(qRe,{"aria-label":a,"aria-labelledby":s,"aria-orientation":S==="vertical"?"vertical":null,className:ze.flexContainer,ownerState:ve,onKeyDown:un,ref:Gt,role:"tablist",children:mt}),Fe&&nn]}),an.scrollButtonEnd]}))}),yre=KRe;function ZRe(t){return $n("MuiTextField",t)}jn("MuiTextField",["root"]);const JRe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],QRe={standard:are,filled:nre,outlined:J$},eOe=t=>{const{classes:e}=t;return Un({root:["root"]},ZRe,e)},tOe=Zt(fE,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),nOe=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:a,className:s,color:l="primary",defaultValue:c,disabled:h=!1,error:p=!1,FormHelperTextProps:g,fullWidth:v=!1,helperText:x,id:_,InputLabelProps:S,inputProps:w,InputProps:C,inputRef:T,label:k,maxRows:R,minRows:L,multiline:F=!1,name:H,onBlur:Z,onChange:j,onFocus:X,placeholder:le,required:me=!1,rows:ie,select:ce=!1,SelectProps:fe,type:xe,value:te,variant:he="outlined"}=r,ve=rn(r,JRe),ze=de({},r,{autoFocus:o,color:l,disabled:h,error:p,fullWidth:v,multiline:F,required:me,select:ce,variant:he}),Ue=eOe(ze),rt={};he==="outlined"&&(S&&typeof S.shrink<"u"&&(rt.notched=S.shrink),rt.label=k),ce&&((!fe||!fe.native)&&(rt.id=void 0),rt["aria-describedby"]=void 0);const Fe=rR(_),st=x&&Fe?`${Fe}-helper-text`:void 0,ct=k&&Fe?`${Fe}-label`:void 0,Dt=QRe[he],zt=z.jsx(Dt,de({"aria-describedby":st,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:v,multiline:F,name:H,rows:ie,maxRows:R,minRows:L,type:xe,value:te,id:Fe,inputRef:T,onBlur:Z,onChange:j,onFocus:X,placeholder:le,inputProps:w},rt,C));return z.jsxs(tOe,de({className:Xt(Ue.root,s),disabled:h,error:p,fullWidth:v,ref:n,required:me,color:l,variant:he,ownerState:ze},ve,{children:[k!=null&&k!==""&&z.jsx(hE,de({htmlFor:Fe,id:ct},S,{children:k})),ce?z.jsx(pE,de({"aria-describedby":st,id:Fe,labelId:ct,value:te,input:zt},fe,{children:a})):zt,x&&z.jsx(ZCe,de({id:st},g,{children:x}))]}))}),yi=nOe,_y=(t,e)=>{const n=Zl(),r=V.useRef();V.useEffect(()=>(t().then(i=>r.current=i).catch(i=>n(bte.push(i.message))),()=>{const i=r.current;i&&i()}),[...e,n])},vre=t=>{const e=Zl();return(...n)=>{t(...n).catch(r=>e(bte.push(r.message)))}};var dG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mE=(typeof window>"u"?"undefined":dG(window))==="object"&&(typeof document>"u"?"undefined":dG(document))==="object"&&document.nodeType===9;function fG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pte(r.key),r)}}function xre(t,e,n){return e&&fG(t.prototype,e),n&&fG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var rOe={}.constructor;function bB(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(bB);if(t.constructor!==rOe)return t;var e={};for(var n in t)e[n]=bB(t[n]);return e}function tj(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,i=bB(e),o=r.plugins.onCreateRule(t,i,n);return o||(t[0],null)}var hG=function(e,n){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=n),r+=e[i];return r},p0=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=hG(e[r]," ");else n=hG(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function y1(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Nw(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function LM(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var i=n,o=i.indent,a=o===void 0?0:o,s=e.fallbacks;n.format===!1&&(a=-1/0);var l=y1(n),c=l.linebreak,h=l.space;if(t&&a++,s)if(Array.isArray(s))for(var p=0;p<s.length;p++){var g=s[p];for(var v in g){var x=g[v];x!=null&&(r&&(r+=c),r+=Nw(v+":"+h+p0(x)+";",a))}}else for(var _ in s){var S=s[_];S!=null&&(r&&(r+=c),r+=Nw(_+":"+h+p0(S)+";",a))}for(var w in e){var C=e[w];C!=null&&w!=="fallbacks"&&(r&&(r+=c),r+=Nw(w+":"+h+p0(C)+";",a))}return!r&&!n.allowEmpty||!t?r:(a--,r&&(r=""+c+r+c),Nw(""+t+h+"{"+r,a)+Nw("}",a))}var iOe=/([[\].#*$><+~=|^:(),"'`\s])/g,pG=typeof CSS<"u"&&CSS.escape,nj=function(t){return pG?pG(t):t.replace(iOe,"\\$1")},_re=function(){function t(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,a=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:a&&(this.renderer=new a)}var e=t.prototype;return e.prop=function(r,i,o){if(i===void 0)return this.style[r];var a=o?o.force:!1;if(!a&&this.style[r]===i)return this;var s=i;(!o||o.process!==!1)&&(s=this.options.jss.plugins.onChangeValue(i,r,this));var l=s==null||s===!1,c=r in this.style;if(l&&!c&&!a)return this;var h=l&&c;if(h?delete this.style[r]:this.style[r]=s,this.renderable&&this.renderer)return h?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,s),this;var p=this.options.sheet;return p&&p.attached,this},t}(),wB=function(t){cE(e,t);function e(r,i,o){var a;a=t.call(this,r,i,o)||this;var s=o.selector,l=o.scoped,c=o.sheet,h=o.generateId;return s?a.selectorText=s:l!==!1&&(a.id=h(IM(IM(a)),c),a.selectorText="."+nj(a.id)),a}var n=e.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var a=this.toJSON();for(var s in a)o.setProperty(i,s,a[s])}return this},n.toJSON=function(){var i={};for(var o in this.style){var a=this.style[o];typeof a!="object"?i[o]=a:Array.isArray(a)&&(i[o]=p0(a))}return i},n.toString=function(i){var o=this.options.sheet,a=o?o.options.link:!1,s=a?de({},i,{allowEmpty:!0}):i;return LM(this.selectorText,this.style,s)},xre(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,a=this.renderable;if(!(!a||!o)){var s=o.setSelector(a,i);s||o.replaceRule(a,this)}}},get:function(){return this.selectorText}}]),e}(_re),oOe={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new wB(e,n,r)}},jD={indent:1,children:!0},sOe=/@([\w-]+)/,aOe=function(){function t(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(sOe);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new vR(de({},i,{parent:this}));for(var a in r)this.rules.add(a,r[a]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,o){var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),a):null},e.replaceRule=function(r,i,o){var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},e.toString=function(r){r===void 0&&(r=jD);var i=y1(r),o=i.linebreak;if(r.indent==null&&(r.indent=jD.indent),r.children==null&&(r.children=jD.children),r.children===!1)return this.query+" {}";var a=this.rules.toString(r);return a?this.query+" {"+o+a+o+"}":""},t}(),lOe=/@container|@media|@supports\s+/,cOe={onCreateRule:function(e,n,r){return lOe.test(e)?new aOe(e,n,r):null}},UD={indent:1,children:!0},uOe=/@keyframes\s+([\w-]+)/,SB=function(){function t(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(uOe);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var a=i.scoped,s=i.sheet,l=i.generateId;this.id=a===!1?this.name:nj(l(this,s)),this.rules=new vR(de({},i,{parent:this}));for(var c in r)this.rules.add(c,r[c],de({},i,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=UD);var i=y1(r),o=i.linebreak;if(r.indent==null&&(r.indent=UD.indent),r.children==null&&(r.children=UD.children),r.children===!1)return this.at+" "+this.id+" {}";var a=this.rules.toString(r);return a&&(a=""+o+a+o),this.at+" "+this.id+" {"+a+"}"},t}(),dOe=/@keyframes\s+/,fOe=/\$([\w-]+)/g,MB=function(e,n){return typeof e=="string"?e.replace(fOe,function(r,i){return i in n?n[i]:r}):e},mG=function(e,n,r){var i=e[n],o=MB(i,r);o!==i&&(e[n]=o)},hOe={onCreateRule:function(e,n,r){return typeof e=="string"&&dOe.test(e)?new SB(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&mG(e,"animation-name",r.keyframes),"animation"in e&&mG(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var i=r.options.sheet;if(!i)return e;switch(n){case"animation":return MB(e,i.keyframes);case"animation-name":return MB(e,i.keyframes);default:return e}}},pOe=function(t){cE(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(i){var o=this.options.sheet,a=o?o.options.link:!1,s=a?de({},i,{allowEmpty:!0}):i;return LM(this.key,this.style,s)},e}(_re),mOe={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new pOe(e,n,r):null}},gOe=function(){function t(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){var i=y1(r),o=i.linebreak;if(Array.isArray(this.style)){for(var a="",s=0;s<this.style.length;s++)a+=LM(this.at,this.style[s]),this.style[s+1]&&(a+=o);return a}return LM(this.at,this.style,r)},t}(),yOe=/@font-face/,vOe={onCreateRule:function(e,n,r){return yOe.test(e)?new gOe(e,n,r):null}},xOe=function(){function t(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){return LM(this.key,this.style,r)},t}(),_Oe={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new xOe(e,n,r):null}},bOe=function(){function t(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},t}(),wOe={"@charset":!0,"@import":!0,"@namespace":!0},SOe={onCreateRule:function(e,n,r){return e in wOe?new bOe(e,n,r):null}},gG=[oOe,cOe,hOe,mOe,vOe,_Oe,SOe],MOe={process:!0},yG={force:!0,process:!0},vR=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,i,o){var a=this.options,s=a.parent,l=a.sheet,c=a.jss,h=a.Renderer,p=a.generateId,g=a.scoped,v=de({classes:this.classes,parent:s,sheet:l,jss:c,Renderer:h,generateId:p,scoped:g,name:r,keyframes:this.keyframes,selector:void 0},o),x=r;r in this.raw&&(x=r+"-d"+this.counter++),this.raw[x]=i,x in this.classes&&(v.selector="."+nj(this.classes[x]));var _=tj(x,i,v);if(!_)return null;this.register(_);var S=v.index===void 0?this.index.length:v.index;return this.index.splice(S,0,_),_},e.replace=function(r,i,o){var a=this.get(r),s=this.index.indexOf(a);a&&this.remove(a);var l=o;return s!==-1&&(l=de({},o,{index:s})),this.add(r,i,l)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof wB?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof SB&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof wB?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof SB&&delete this.keyframes[r.name]},e.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var a=0;a<this.index.length;a++)this.updateOne(this.index[a],i,o)},e.updateOne=function(r,i,o){o===void 0&&(o=MOe);var a=this.options,s=a.jss.plugins,l=a.sheet;if(r.rules instanceof t){r.rules.update(i,o);return}var c=r.style;if(s.onUpdate(i,r,l,o),o.process&&c&&c!==r.style){s.onProcessStyle(r.style,r,l);for(var h in r.style){var p=r.style[h],g=c[h];p!==g&&r.prop(h,p,yG)}for(var v in c){var x=r.style[v],_=c[v];x==null&&x!==_&&r.prop(v,null,yG)}}},e.toString=function(r){for(var i="",o=this.options.sheet,a=o?o.options.link:!1,s=y1(r),l=s.linebreak,c=0;c<this.index.length;c++){var h=this.index[c],p=h.toString(r);!p&&!a||(i&&(i+=l),i+=p)}return i},t}(),bre=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=de({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new vR(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,o){var a=this.queue;this.attached&&!a&&(this.queue=[]);var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),this.attached?(this.deployed&&(a?a.push(s):(this.insertRule(s),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),s):(this.deployed=!1,s)):null},e.replaceRule=function(r,i,o){var a=this.rules.get(r);if(!a)return this.addRule(r,i,o);var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),this.attached?(this.deployed&&this.renderer&&(s?a.renderable&&this.renderer.replaceRule(a.renderable,s):this.renderer.deleteRule(a)),s):(this.deployed=!1,s)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var o=[];for(var a in r){var s=this.addRule(a,r[a],i);s&&o.push(s)}return o},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},e.toString=function(r){return this.rules.toString(r)},t}(),EOe=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,i,o){for(var a=0;a<this.registry.onCreateRule.length;a++){var s=this.registry.onCreateRule[a](r,i,o);if(s)return s}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,o){for(var a=0;a<this.registry.onProcessStyle.length;a++)i.style=this.registry.onProcessStyle[a](i.style,i,o)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,o,a){for(var s=0;s<this.registry.onUpdate.length;s++)this.registry.onUpdate[s](r,i,o,a)},e.onChangeValue=function(r,i,o){for(var a=r,s=0;s<this.registry.onChangeValue.length;s++)a=this.registry.onChangeValue[s](a,i,o);return a},e.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(a,s){for(var l in s)l in a&&a[l].push(s[l]);return a},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),TOe=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var a=0;a<i.length;a++)if(i[a].options.index>o){i.splice(a,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,a=rn(i,["attached"]),s=y1(a),l=s.linebreak,c="",h=0;h<this.registry.length;h++){var p=this.registry[h];o!=null&&p.attached!==o||(c&&(c+=l),c+=p.toString(a))}return c},xre(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),jS=new TOe,EB=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),TB="2f1acc6c3a606b082e5eef5e54414ffb";EB[TB]==null&&(EB[TB]=0);var vG=EB[TB]++,xG=function(e){e===void 0&&(e={});var n=0,r=function(o,a){n+=1;var s="",l="";return a&&(a.options.classNamePrefix&&(l=a.options.classNamePrefix),a.options.jss.id!=null&&(s=String(a.options.jss.id))),e.minify?""+(l||"c")+vG+s+n:l+o.key+"-"+vG+(s?"-"+s:"")+"-"+n};return r},wre=function(e){var n;return function(){return n||(n=e()),n}},COe=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},AOe=function(e,n,r){try{var i=r;if(Array.isArray(r)&&(i=p0(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,a=o>-1?i.substr(0,o-1):i;e.style.setProperty(n,a,o>-1?"important":"")}}catch{return!1}return!0},POe=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},IOe=function(e,n){return e.selectorText=n,e.selectorText===n},Sre=wre(function(){return document.querySelector("head")});function kOe(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function ROe(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function OOe(t){for(var e=Sre(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function LOe(t){var e=jS.registry;if(e.length>0){var n=kOe(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=ROe(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var i=OOe(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function DOe(t,e){var n=e.insertionPoint,r=LOe(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(t,i.nextSibling);return}Sre().appendChild(t)}var NOe=wre(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),_G=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},bG=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},zOe=function(){var e=document.createElement("style");return e.textContent=`
`,e},BOe=function(){function t(n){this.getPropertyValue=COe,this.setProperty=AOe,this.removeProperty=POe,this.setSelector=IOe,this.hasInsertedRules=!1,this.cssRules=[],n&&jS.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,a=r.element;this.element=a||zOe(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var s=NOe();s&&this.element.setAttribute("nonce",s)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){DOe(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},e.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var a=r,s=o;if(r.type==="conditional"||r.type==="keyframes"){var l=bG(o,i);if(s=_G(o,a.toString({children:!1}),l),s===!1)return!1;this.refCssRule(r,l,s)}return this.insertRules(a.rules,s),s}var c=r.toString();if(!c)return!1;var h=bG(o,i),p=_G(o,c,h);return p===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,h,p),p)},e.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof bre&&this.cssRules.splice(i,0,o)},e.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},e.getRules=function(){return this.element.sheet.cssRules},t}(),FOe=0,$Oe=function(){function t(n){this.id=FOe++,this.version="10.10.0",this.plugins=new EOe,this.options={id:{minify:!1},createGenerateId:xG,Renderer:mE?BOe:null,plugins:[]},this.generateId=xG({minify:!1});for(var r=0;r<gG.length;r++)this.plugins.use(gG[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=de({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,a=o.index;typeof a!="number"&&(a=jS.index===0?0:jS.index+1);var s=new bre(r,de({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:a}));return this.plugins.onProcessSheet(s),s},e.removeStyleSheet=function(r){return r.detach(),jS.remove(r),this},e.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var a=de({},o,{name:r,jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId),a.classes||(a.classes={}),a.keyframes||(a.keyframes={});var s=tj(r,i,a);return s&&this.plugins.onProcessRule(s),s},e.use=function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return o.forEach(function(s){r.plugins.use(s)}),this},t}(),Mre=function(e){return new $Oe(e)},rj=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function Ere(t){var e=null;for(var n in t){var r=t[n],i=typeof r;if(i==="function")e||(e={}),e[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=Ere(r);o&&(e||(e={}),e[n]=o)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */Mre();function Tre(t={}){const{baseClasses:e,newClasses:n,Component:r}=t;if(!n)return e;const i=de({},e);return Object.keys(n).forEach(o=>{n[o]&&(i[o]=`${e[o]} ${n[o]}`)}),i}const jOe={set:(t,e,n,r)=>{let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)},get:(t,e,n)=>{const r=t.get(e);return r?r.get(n):void 0},delete:(t,e,n)=>{t.get(e).delete(n)}},C_=jOe;function Cre(){var t;const e=k$();return(t=e==null?void 0:e.$$material)!=null?t:e}const UOe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function VOe(t={}){const{disableGlobal:e=!1,productionPrefix:n="jss",seed:r=""}=t,i=r===""?"":`${r}-`;let o=0;const a=()=>(o+=1,o);return(s,l)=>{const c=l.options.name;if(c&&c.indexOf("Mui")===0&&!l.options.link&&!e){if(UOe.indexOf(s.key)!==-1)return`Mui-${s.key}`;const h=`${i}${c}-${s.key}`;return!l.options.theme[dne]||r!==""?h:`${h}-${a()}`}return`${i}${n}${a()}`}}var Are=Date.now(),VD="fnValues"+Are,WD="fnStyle"+ ++Are,WOe=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=tj(n,{},i);return o[WD]=r,o},onProcessStyle:function(n,r){if(VD in r||WD in r)return n;var i={};for(var o in n){var a=n[o];typeof a=="function"&&(delete n[o],i[o]=a)}return r[VD]=i,n},onUpdate:function(n,r,i,o){var a=r,s=a[WD];s&&(a.style=s(n)||{});var l=a[VD];if(l)for(var c in l)a.prop(c,l[c](n),o)}}};const HOe=WOe;var Xg="@global",CB="@global ",GOe=function(){function t(n,r,i){this.type="global",this.at=Xg,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new vR(de({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,o){var a=this.rules.add(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},e.replaceRule=function(r,i,o){var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),a},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),qOe=function(){function t(n,r,i){this.type="global",this.at=Xg,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(CB.length);this.rule=i.jss.createRule(o,r,de({},i,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),YOe=/\s*,\s*/g;function Pre(t,e){for(var n=t.split(YOe),r="",i=0;i<n.length;i++)r+=e+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function XOe(t,e){var n=t.options,r=t.style,i=r?r[Xg]:null;if(i){for(var o in i)e.addRule(o,i[o],de({},n,{selector:Pre(o,t.selector)}));delete r[Xg]}}function KOe(t,e){var n=t.options,r=t.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Xg.length)!==Xg)){var o=Pre(i.substr(Xg.length),t.selector);e.addRule(o,r[i],de({},n,{selector:o})),delete r[i]}}function ZOe(){function t(n,r,i){if(!n)return null;if(n===Xg)return new GOe(n,r,i);if(n[0]==="@"&&n.substr(0,CB.length)===CB)return new qOe(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function e(n,r){n.type!=="style"||!r||(XOe(n,r),KOe(n,r))}return{onCreateRule:t,onProcessRule:e}}var wG=/\s*,\s*/g,JOe=/&/g,QOe=/\$([\w-]+)/g;function eLe(){function t(i,o){return function(a,s){var l=i.getRule(s)||o&&o.getRule(s);return l?l.selector:s}}function e(i,o){for(var a=o.split(wG),s=i.split(wG),l="",c=0;c<a.length;c++)for(var h=a[c],p=0;p<s.length;p++){var g=s[p];l&&(l+=", "),l+=g.indexOf("&")!==-1?g.replace(JOe,h):h+" "+g}return l}function n(i,o,a){if(a)return de({},a,{index:a.index+1});var s=i.options.nestingLevel;s=s===void 0?1:s+1;var l=de({},i.options,{nestingLevel:s,index:o.indexOf(i)+1});return delete l.name,l}function r(i,o,a){if(o.type!=="style")return i;var s=o,l=s.options.parent,c,h;for(var p in i){var g=p.indexOf("&")!==-1,v=p[0]==="@";if(!(!g&&!v)){if(c=n(s,l,c),g){var x=e(p,s.selector);h||(h=t(l,a)),x=x.replace(QOe,h);var _=s.key+"-"+p;"replaceRule"in l?l.replaceRule(_,i[p],de({},c,{selector:x})):l.addRule(_,i[p],de({},c,{selector:x}))}else v&&l.addRule(p,{},c).addRule(s.key,i[p],{selector:s.selector});delete i[p]}}return i}return{onProcessStyle:r}}var tLe=/[A-Z]/g,nLe=/^ms-/,HD={};function rLe(t){return"-"+t.toLowerCase()}function Ire(t){if(HD.hasOwnProperty(t))return HD[t];var e=t.replace(tLe,rLe);return HD[t]=nLe.test(e)?"-"+e:e}function UP(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:Ire(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(UP):e.fallbacks=UP(t.fallbacks)),e}function iLe(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=UP(n[r]);return n}return UP(n)}function e(n,r,i){if(r.indexOf("--")===0)return n;var o=Ire(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:t,onChangeValue:e}}var Jt=rj&&CSS?CSS.px:"px",HT=rj&&CSS?CSS.ms:"ms",Cx=rj&&CSS?CSS.percent:"%",oLe={"animation-delay":HT,"animation-duration":HT,"background-position":Jt,"background-position-x":Jt,"background-position-y":Jt,"background-size":Jt,border:Jt,"border-bottom":Jt,"border-bottom-left-radius":Jt,"border-bottom-right-radius":Jt,"border-bottom-width":Jt,"border-left":Jt,"border-left-width":Jt,"border-radius":Jt,"border-right":Jt,"border-right-width":Jt,"border-top":Jt,"border-top-left-radius":Jt,"border-top-right-radius":Jt,"border-top-width":Jt,"border-width":Jt,"border-block":Jt,"border-block-end":Jt,"border-block-end-width":Jt,"border-block-start":Jt,"border-block-start-width":Jt,"border-block-width":Jt,"border-inline":Jt,"border-inline-end":Jt,"border-inline-end-width":Jt,"border-inline-start":Jt,"border-inline-start-width":Jt,"border-inline-width":Jt,"border-start-start-radius":Jt,"border-start-end-radius":Jt,"border-end-start-radius":Jt,"border-end-end-radius":Jt,margin:Jt,"margin-bottom":Jt,"margin-left":Jt,"margin-right":Jt,"margin-top":Jt,"margin-block":Jt,"margin-block-end":Jt,"margin-block-start":Jt,"margin-inline":Jt,"margin-inline-end":Jt,"margin-inline-start":Jt,padding:Jt,"padding-bottom":Jt,"padding-left":Jt,"padding-right":Jt,"padding-top":Jt,"padding-block":Jt,"padding-block-end":Jt,"padding-block-start":Jt,"padding-inline":Jt,"padding-inline-end":Jt,"padding-inline-start":Jt,"mask-position-x":Jt,"mask-position-y":Jt,"mask-size":Jt,height:Jt,width:Jt,"min-height":Jt,"max-height":Jt,"min-width":Jt,"max-width":Jt,bottom:Jt,left:Jt,top:Jt,right:Jt,inset:Jt,"inset-block":Jt,"inset-block-end":Jt,"inset-block-start":Jt,"inset-inline":Jt,"inset-inline-end":Jt,"inset-inline-start":Jt,"box-shadow":Jt,"text-shadow":Jt,"column-gap":Jt,"column-rule":Jt,"column-rule-width":Jt,"column-width":Jt,"font-size":Jt,"font-size-delta":Jt,"letter-spacing":Jt,"text-decoration-thickness":Jt,"text-indent":Jt,"text-stroke":Jt,"text-stroke-width":Jt,"word-spacing":Jt,motion:Jt,"motion-offset":Jt,outline:Jt,"outline-offset":Jt,"outline-width":Jt,perspective:Jt,"perspective-origin-x":Cx,"perspective-origin-y":Cx,"transform-origin":Cx,"transform-origin-x":Cx,"transform-origin-y":Cx,"transform-origin-z":Cx,"transition-delay":HT,"transition-duration":HT,"vertical-align":Jt,"flex-basis":Jt,"shape-margin":Jt,size:Jt,gap:Jt,grid:Jt,"grid-gap":Jt,"row-gap":Jt,"grid-row-gap":Jt,"grid-column-gap":Jt,"grid-template-rows":Jt,"grid-template-columns":Jt,"grid-auto-rows":Jt,"grid-auto-columns":Jt,"box-shadow-x":Jt,"box-shadow-y":Jt,"box-shadow-blur":Jt,"box-shadow-spread":Jt,"font-line-height":Jt,"text-shadow-x":Jt,"text-shadow-y":Jt,"text-shadow-blur":Jt};function kre(t){var e=/(-[a-z])/g,n=function(a){return a[1].toUpperCase()},r={};for(var i in t)r[i]=t[i],r[i.replace(e,n)]=t[i];return r}var sLe=kre(oLe);function US(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=US(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var i in e)e[i]=US(i,e[i],n);else for(var o in e)e[o]=US(t+"-"+o,e[o],n);else if(typeof e=="number"&&isNaN(e)===!1){var a=n[t]||sLe[t];return a&&!(e===0&&a===Jt)?typeof a=="function"?a(e).toString():""+e+a:e.toString()}return e}function aLe(t){t===void 0&&(t={});var e=kre(t);function n(i,o){if(o.type!=="style")return i;for(var a in i)i[a]=US(a,i[a],e);return i}function r(i,o){return US(o,i,e)}return{onProcessStyle:n,onChangeValue:r}}function AB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lLe(t){if(Array.isArray(t))return AB(t)}function cLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uLe(t,e){if(t){if(typeof t=="string")return AB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AB(t,e)}}function dLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fLe(t){return lLe(t)||cLe(t)||uLe(t)||dLe()}var _S="",PB="",Rre="",Ore="",hLe=mE&&"ontouchstart"in document.documentElement;if(mE){var GD={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},pLe=document.createElement("p"),qD=pLe.style,mLe="Transform";for(var YD in GD)if(YD+mLe in qD){_S=YD,PB=GD[YD];break}_S==="Webkit"&&"msHyphens"in qD&&(_S="ms",PB=GD.ms,Ore="edge"),_S==="Webkit"&&"-apple-trailing-word"in qD&&(Rre="apple")}var Lr={js:_S,css:PB,vendor:Rre,browser:Ore,isTouch:hLe};function gLe(t){return t[1]==="-"||Lr.js==="ms"?t:"@"+Lr.css+"keyframes"+t.substr(10)}var yLe={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Lr.js==="ms"?"-webkit-"+e:Lr.css+e}},vLe={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Lr.js==="Webkit"?Lr.css+"print-"+e:e}},xLe=/[-\s]+(.)?/g;function _Le(t,e){return e?e.toUpperCase():""}function ij(t){return t.replace(xLe,_Le)}function ay(t){return ij("-"+t)}var bLe={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(Lr.js==="Webkit"){var r="mask-image";if(ij(r)in n)return e;if(Lr.js+ay(r)in n)return Lr.css+e}return e}},wLe={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Lr.vendor==="apple"&&!Lr.isTouch?Lr.css+e:e}},SLe={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:Lr.css+e}},MLe={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:Lr.css+e}},ELe={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Lr.js==="Webkit"||Lr.js==="ms"&&Lr.browser!=="edge"?Lr.css+e:e}},TLe={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Lr.js==="Moz"||Lr.js==="ms"||Lr.vendor==="apple"?Lr.css+e:e}},CLe={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(Lr.js==="Webkit"){var r="WebkitColumn"+ay(e);return r in n?Lr.css+"column-"+e:!1}if(Lr.js==="Moz"){var i="page"+ay(e);return i in n?"page-"+e:!1}return!1}},ALe={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Lr.js==="Moz")return e;var r=e.replace("-inline","");return Lr.js+ay(r)in n?Lr.css+r:!1}},PLe={supportedProperty:function(e,n){return ij(e)in n?e:!1}},ILe={supportedProperty:function(e,n){var r=ay(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Lr.js+r in n?Lr.css+e:Lr.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},kLe={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Lr.js==="ms"?""+Lr.css+e:e}},RLe={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Lr.js==="ms"?Lr.css+"scroll-chaining":e}},OLe={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},LLe={supportedProperty:function(e,n){var r=OLe[e];return r&&Lr.js+ay(r)in n?Lr.css+r:!1}},Lre={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},DLe=Object.keys(Lre),NLe=function(e){return Lr.css+e},zLe={supportedProperty:function(e,n,r){var i=r.multiple;if(DLe.indexOf(e)>-1){var o=Lre[e];if(!Array.isArray(o))return Lr.js+ay(o)in n?Lr.css+o:!1;if(!i)return!1;for(var a=0;a<o.length;a++)if(!(Lr.js+ay(o[0])in n))return!1;return o.map(NLe)}return!1}},Dre=[yLe,vLe,bLe,wLe,SLe,MLe,ELe,TLe,CLe,ALe,PLe,ILe,kLe,RLe,LLe,zLe],SG=Dre.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),BLe=Dre.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,fLe(e.noPrefill)),t},[]),bS,Vv={};if(mE){bS=document.createElement("p");var XD=window.getComputedStyle(document.documentElement,"");for(var KD in XD)isNaN(KD)||(Vv[XD[KD]]=XD[KD]);BLe.forEach(function(t){return delete Vv[t]})}function IB(t,e){if(e===void 0&&(e={}),!bS)return t;if(Vv[t]!=null)return Vv[t];(t==="transition"||t==="transform")&&(e[t]=t in bS.style);for(var n=0;n<SG.length&&(Vv[t]=SG[n](t,bS.style,e),!Vv[t]);n++);try{bS.style[t]=""}catch{return!1}return Vv[t]}var Ax={},FLe={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},$Le=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,mg;function jLe(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?IB(e):", "+IB(n);return r||e||n}mE&&(mg=document.createElement("p"));function MG(t,e){var n=e;if(!mg||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Ax[r]!=null)return Ax[r];try{mg.style[t]=n}catch{return Ax[r]=!1,!1}if(FLe[t])n=n.replace($Le,jLe);else if(mg.style[t]===""&&(n=Lr.css+n,n==="-ms-flex"&&(mg.style[t]="-ms-flexbox"),mg.style[t]=n,mg.style[t]===""))return Ax[r]=!1,!1;return mg.style[t]="",Ax[r]=n,Ax[r]}function ULe(){function t(i){if(i.type==="keyframes"){var o=i;o.at=gLe(o.at)}}function e(i){for(var o in i){var a=i[o];if(o==="fallbacks"&&Array.isArray(a)){i[o]=a.map(e);continue}var s=!1,l=IB(o);l&&l!==o&&(s=!0);var c=!1,h=MG(l,p0(a));h&&h!==a&&(c=!0),(s||c)&&(s&&delete i[o],i[l||o]=h||a)}return i}function n(i,o){return o.type!=="style"?i:e(i)}function r(i,o){return MG(o,p0(i))||i}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function VLe(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(t),a=0;a<o.length;a++)i[o[a]]=n[o[a]];return i}}}function WLe(){return{plugins:[HOe(),ZOe(),eLe(),iLe(),aLe(),typeof window>"u"?null:ULe(),VLe()]}}const HLe=Mre(WLe()),GLe=VOe(),qLe=new Map,YLe={disableGeneration:!1,generateClassName:GLe,jss:HLe,sheetsCache:null,sheetsManager:qLe,sheetsRegistry:null},XLe=V.createContext(YLe);let EG=-1e9;function KLe(){return EG+=1,EG}const ZLe=["variant"];function TG(t){return t.length===0}function JLe(t){const{variant:e}=t,n=rn(t,ZLe);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=TG(r)?t[i]:tn(t[i]):r+=`${TG(r)?i:tn(i)}${tn(t[i].toString())}`}),r}const QLe={},eDe=QLe;function tDe(t){const e=typeof t=="function";return{create:(n,r)=>{let i;try{i=e?t(n):t}catch(l){throw l}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return i;const o=n.components[r].styleOverrides||{},a=n.components[r].variants||[],s=de({},i);return Object.keys(o).forEach(l=>{s[l]=Ba(s[l]||{},o[l])}),a.forEach(l=>{const c=JLe(l.props);s[c]=Ba(s[c]||{},l.style)}),s},options:{}}}const nDe=["name","classNamePrefix","Component","defaultTheme"];function rDe({state:t,stylesOptions:e},n,r){if(e.disableGeneration)return n||{};t.cacheClasses||(t.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return t.classes!==t.cacheClasses.lastJSS&&(t.cacheClasses.lastJSS=t.classes,i=!0),n!==t.cacheClasses.lastProp&&(t.cacheClasses.lastProp=n,i=!0),i&&(t.cacheClasses.value=Tre({baseClasses:t.cacheClasses.lastJSS,newClasses:n,Component:r})),t.cacheClasses.value}function iDe({state:t,theme:e,stylesOptions:n,stylesCreator:r,name:i},o){if(n.disableGeneration)return;let a=C_.get(n.sheetsManager,r,e);a||(a={refs:0,staticSheet:null,dynamicStyles:null},C_.set(n.sheetsManager,r,e,a));const s=de({},r.options,n,{theme:e,flip:typeof n.flip=="boolean"?n.flip:e.direction==="rtl"});s.generateId=s.serverGenerateClassName||s.generateClassName;const l=n.sheetsRegistry;if(a.refs===0){let c;n.sheetsCache&&(c=C_.get(n.sheetsCache,r,e));const h=r.create(e,i);c||(c=n.jss.createStyleSheet(h,de({link:!1},s)),c.attach(),n.sheetsCache&&C_.set(n.sheetsCache,r,e,c)),l&&l.add(c),a.staticSheet=c,a.dynamicStyles=Ere(h)}if(a.dynamicStyles){const c=n.jss.createStyleSheet(a.dynamicStyles,de({link:!0},s));c.update(o),c.attach(),t.dynamicSheet=c,t.classes=Tre({baseClasses:a.staticSheet.classes,newClasses:c.classes}),l&&l.add(c)}else t.classes=a.staticSheet.classes;a.refs+=1}function oDe({state:t},e){t.dynamicSheet&&t.dynamicSheet.update(e)}function sDe({state:t,theme:e,stylesOptions:n,stylesCreator:r}){if(n.disableGeneration)return;const i=C_.get(n.sheetsManager,r,e);i.refs-=1;const o=n.sheetsRegistry;i.refs===0&&(C_.delete(n.sheetsManager,r,e),n.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),t.dynamicSheet&&(n.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}function aDe(t,e){const n=V.useRef([]);let r;const i=V.useMemo(()=>({}),e);n.current!==i&&(n.current=i,r=t()),V.useEffect(()=>()=>{r&&r()},[i])}function Qr(t,e={}){const{name:n,classNamePrefix:r,Component:i,defaultTheme:o=eDe}=e,a=rn(e,nDe),s=tDe(t),l=n||r||"makeStyles";return s.options={index:KLe(),name:n,meta:l,classNamePrefix:l},(h={})=>{const p=Cre()||o,g=de({},V.useContext(XLe),a),v=V.useRef(),x=V.useRef();return aDe(()=>{const S={name:n,state:{},stylesCreator:s,stylesOptions:g,theme:p};return iDe(S,h),x.current=!1,v.current=S,()=>{sDe(S)}},[p,s]),V.useEffect(()=>{x.current&&oDe(v.current,h),x.current=!0}),rDe(v.current,h.classes,i)}}const lDe="/assets/alarm-zNGFGtq_.mp3";function Nre(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Nre(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function G0(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Nre(t))&&(r&&(r+=" "),r+=e);return r}let cDe={data:""},uDe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||cDe,dDe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fDe=/\/\*[^]*?\*\/|  +/g,CG=/\n+/g,Wv=(t,e)=>{let n="",r="",i="";for(let o in t){let a=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+a+";":r+=o[1]=="f"?Wv(a,o):o+"{"+Wv(a,o[1]=="k"?"":e)+"}":typeof a=="object"?r+=Wv(a,e?e.replace(/([^,])+/g,s=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Wv.p?Wv.p(o,a):o+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ap={},zre=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+zre(t[n]);return e}return t},hDe=(t,e,n,r,i)=>{let o=zre(t),a=ap[o]||(ap[o]=(l=>{let c=0,h=11;for(;c<l.length;)h=101*h+l.charCodeAt(c++)>>>0;return"go"+h})(o));if(!ap[a]){let l=o!==t?t:(c=>{let h,p,g=[{}];for(;h=dDe.exec(c.replace(fDe,""));)h[4]?g.shift():h[3]?(p=h[3].replace(CG," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][h[1]]=h[2].replace(CG," ").trim();return g[0]})(t);ap[a]=Wv(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let s=n&&ap.g?ap.g:null;return n&&(ap.g=ap[a]),((l,c,h,p)=>{p?c.data=c.data.replace(p,l):c.data.indexOf(l)===-1&&(c.data=h?l+c.data:c.data+l)})(ap[a],e,r,s),a},pDe=(t,e,n)=>t.reduce((r,i,o)=>{let a=e[o];if(a&&a.call){let s=a(n),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;a=l?"."+l:s&&typeof s=="object"?s.props?"":Wv(s,""):s===!1?"":s}return r+i+(a??"")},"");function oj(t){let e=this||{},n=t.call?t(e.p):t;return hDe(n.unshift?n.raw?pDe(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,uDe(e.target),e.g,e.o,e.k)}oj.bind({g:1});oj.bind({k:1});function AG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bre(t,e,n){return e&&AG(t.prototype,e),n&&AG(t,n),t}function Ki(){return Ki=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ki.apply(this,arguments)}function Fre(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function gE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var IG=function(){return""},mDe=Ze.createContext({enqueueSnackbar:IG,closeSnackbar:IG}),zv={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},kG=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},sj=function(e){return""+kG(e.vertical)+kG(e.horizontal)},GT=function(e){return!!e||e===0},qT="unmounted",Px="exited",Ix="entering",zw="entered",RG="exiting",aj=function(t){Fre(e,t);function e(r){var i;i=t.call(this,r)||this;var o=r.appear,a;return i.appearStatus=null,r.in?o?(a=Px,i.appearStatus=Ix):a=zw:r.unmountOnExit||r.mountOnEnter?a=qT:a=Px,i.state={status:a},i.nextCallback=null,i}e.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===qT?{status:Px}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Ix&&a!==zw&&(o=Ix):(a===Ix||a===zw)&&(o=RG)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o=i,a=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(a=i.exit,o=i.enter),{exit:a,enter:o}},n.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===Ix?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Px&&this.setState({status:qT})},n.performEnter=function(i){var o=this,a=this.props.enter,s=i,l=this.getTimeouts();if(!i&&!a){this.safeSetState({status:zw},function(){o.props.onEntered&&o.props.onEntered(o.node,s)});return}this.props.onEnter&&this.props.onEnter(this.node,s),this.safeSetState({status:Ix},function(){o.props.onEntering&&o.props.onEntering(o.node,s),o.onTransitionEnd(l.enter,function(){o.safeSetState({status:zw},function(){o.props.onEntered&&o.props.onEntered(o.node,s)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts();if(!o){this.safeSetState({status:Px},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:RG},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Px},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(){a&&(a=!1,o.nextCallback=null,i())},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=i==null&&!this.props.addEndListener;if(!this.node||a){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===qT)return null;var o=this.props,a=o.children,s=gE(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return a(i,s)},Bre(e,[{key:"node",get:function(){var i,o=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!o)throw new Error("notistack - Custom snackbar is not refForwarding");return o}}]),e}(Ze.Component);function kx(){}aj.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:kx,onEntering:kx,onEntered:kx,onExit:kx,onExiting:kx,onExited:kx};function OG(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function kB(t,e){return V.useMemo(function(){return t==null&&e==null?null:function(n){OG(t,n),OG(e,n)}},[t,e])}function VP(t){var e=t.timeout,n=t.style,r=n===void 0?{}:n,i=t.mode;return{duration:typeof e=="object"?e[i]||0:e,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var RB={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$re=function(e){e.scrollTop=e.scrollTop},LG=function(e){return Math.round(e)+"ms"};function A_(t,e){t===void 0&&(t=["all"]);var n=e||{},r=n.duration,i=r===void 0?300:r,o=n.easing,a=o===void 0?RB.easeInOut:o,s=n.delay,l=s===void 0?0:s,c=Array.isArray(t)?t:[t];return c.map(function(h){var p=typeof i=="string"?i:LG(i),g=typeof l=="string"?l:LG(l);return h+" "+p+" "+a+" "+g}).join(",")}function gDe(t){return t&&t.ownerDocument||document}function jre(t){var e=gDe(t);return e.defaultView||window}function yDe(t,e){e===void 0&&(e=166);var n;function r(){for(var i=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var l=function(){t.apply(i,a)};clearTimeout(n),n=setTimeout(l,e)}return r.clear=function(){clearTimeout(n)},r}function vDe(t,e){var n=e.getBoundingClientRect(),r=jre(e),i;if(e.fakeTransform)i=e.fakeTransform;else{var o=r.getComputedStyle(e);i=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var a=0,s=0;if(i&&i!=="none"&&typeof i=="string"){var l=i.split("(")[1].split(")")[0].split(",");a=parseInt(l[4],10),s=parseInt(l[5],10)}switch(t){case"left":return"translateX("+(r.innerWidth+a-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-a)+"px)";case"up":return"translateY("+(r.innerHeight+s-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-s)+"px)"}}function YT(t,e){if(e){var n=vDe(t,e);n&&(e.style.webkitTransform=n,e.style.transform=n)}}var Ure=V.forwardRef(function(t,e){var n=t.children,r=t.direction,i=r===void 0?"down":r,o=t.in,a=t.style,s=t.timeout,l=s===void 0?0:s,c=t.onEnter,h=t.onEntered,p=t.onExit,g=t.onExited,v=gE(t,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),x=V.useRef(null),_=kB(n.ref,x),S=kB(_,e),w=function(F,H){YT(i,F),$re(F),c&&c(F,H)},C=function(F){var H=(a==null?void 0:a.transitionTimingFunction)||RB.easeOut,Z=VP({timeout:l,mode:"enter",style:Ki({},a,{transitionTimingFunction:H})});F.style.webkitTransition=A_("-webkit-transform",Z),F.style.transition=A_("transform",Z),F.style.webkitTransform="none",F.style.transform="none"},T=function(F){var H=(a==null?void 0:a.transitionTimingFunction)||RB.sharp,Z=VP({timeout:l,mode:"exit",style:Ki({},a,{transitionTimingFunction:H})});F.style.webkitTransition=A_("-webkit-transform",Z),F.style.transition=A_("transform",Z),YT(i,F),p&&p(F)},k=function(F){F.style.webkitTransition="",F.style.transition="",g&&g(F)},R=V.useCallback(function(){x.current&&YT(i,x.current)},[i]);return V.useEffect(function(){if(!(o||i==="down"||i==="right")){var L=yDe(function(){x.current&&YT(i,x.current)}),F=jre(x.current);return F.addEventListener("resize",L),function(){L.clear(),F.removeEventListener("resize",L)}}},[i,o]),V.useEffect(function(){o||R()},[o,R]),V.createElement(aj,Object.assign({appear:!0,nodeRef:x,onEnter:w,onEntered:h,onEntering:C,onExit:T,onExited:k,in:o,timeout:l},v),function(L,F){return V.cloneElement(n,Ki({ref:S,style:Ki({visibility:L==="exited"&&!o?"hidden":void 0},a,{},n.props.style)},F))})});Ure.displayName="Slide";var xR=function(e){return Ze.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},e))},xDe=function(){return Ze.createElement(xR,null,Ze.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},_De=function(){return Ze.createElement(xR,null,Ze.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},bDe=function(){return Ze.createElement(xR,null,Ze.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},wDe=function(){return Ze.createElement(xR,null,Ze.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},SDe={default:void 0,success:Ze.createElement(xDe,null),warning:Ze.createElement(_De,null),error:Ze.createElement(bDe,null),info:Ze.createElement(wDe,null)},m0={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:SDe,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Ure,transitionDuration:{enter:225,exit:195}},MDe=function(e,n){var r=function(o){return typeof o=="number"||o===null};return r(e)?e:r(n)?n:m0.autoHideDuration},EDe=function(e,n){var r=function(o,a){return a.some(function(s){return typeof o===s})};return r(e,["string","number"])?e:r(e,["object"])?Ki({},m0.transitionDuration,{},r(n,["object"])&&n,{},e):r(n,["string","number"])?n:r(n,["object"])?Ki({},m0.transitionDuration,{},n):m0.transitionDuration},TDe=function(e,n){return function(r,i){return i===void 0&&(i=!1),i?Ki({},m0[r],{},n[r],{},e[r]):r==="autoHideDuration"?MDe(e.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?EDe(e.transitionDuration,n.transitionDuration):e[r]||n[r]||m0[r]}};function yE(t){return Object.entries(t).reduce(function(e,n){var r,i=n[0],o=n[1];return Ki({},e,(r={},r[i]=oj(o),r))},{})}var Ib={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(e){return"notistack-MuiContent-"+e}},DG=yE({root:{height:0},entered:{height:"auto"}}),ZD="0px",JD=175,Vre=V.forwardRef(function(t,e){var n=t.children,r=t.in,i=t.onExited,o=V.useRef(null),a=V.useRef(null),s=kB(e,a),l=function(){return o.current?o.current.clientHeight:0},c=function(_){_.style.height=ZD},h=function(_){var S=l(),w=VP({timeout:JD,mode:"enter"}),C=w.duration,T=w.easing;_.style.transitionDuration=typeof C=="string"?C:C+"ms",_.style.height=S+"px",_.style.transitionTimingFunction=T||""},p=function(_){_.style.height="auto"},g=function(_){_.style.height=l()+"px"},v=function(_){$re(_);var S=VP({timeout:JD,mode:"exit"}),w=S.duration,C=S.easing;_.style.transitionDuration=typeof w=="string"?w:w+"ms",_.style.height=ZD,_.style.transitionTimingFunction=C||""};return V.createElement(aj,{in:r,unmountOnExit:!0,onEnter:c,onEntered:p,onEntering:h,onExit:g,onExited:i,onExiting:v,nodeRef:a,timeout:JD},function(x,_){return V.createElement("div",Object.assign({ref:s,className:G0(DG.root,x==="entered"&&DG.entered),style:Ki({pointerEvents:"all",overflow:"hidden",minHeight:ZD,transition:A_("height")},x==="entered"&&{overflow:"visible"},{},x==="exited"&&!r&&{visibility:"hidden"})},_),V.createElement("div",{ref:o,className:Ib.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});Vre.displayName="Collapse";var NG={right:"left",left:"right",bottom:"up",top:"down"},CDe=function(e){return e.horizontal!=="center"?NG[e.horizontal]:NG[e.vertical]},ADe=function(e){return"anchorOrigin"+sj(e)},PDe=function(e){e===void 0&&(e={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(e).filter(function(r){return!n[r]}).reduce(function(r,i){var o;return Ki({},r,(o={},o[i]=e[i],o))},{})},IDe=function(){};function VS(t,e){return t.reduce(function(n,r){return r==null?n:function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var l=[].concat(a);e&&l.indexOf(e)===-1&&l.push(e),n.apply(this,l),r.apply(this,l)}},IDe)}var kDe=typeof window<"u"?V.useLayoutEffect:V.useEffect;function zG(t){var e=V.useRef(t);return kDe(function(){e.current=t}),V.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var Wre=V.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.autoHideDuration,o=t.disableWindowBlurListener,a=o===void 0?!1:o,s=t.onClose,l=t.id,c=t.open,h=t.SnackbarProps,p=h===void 0?{}:h,g=V.useRef(),v=zG(function(){s&&s.apply(void 0,arguments)}),x=zG(function(T){!s||T==null||(g.current&&clearTimeout(g.current),g.current=setTimeout(function(){v(null,"timeout",l)},T))});V.useEffect(function(){return c&&x(i),function(){g.current&&clearTimeout(g.current)}},[c,i,x]);var _=function(){g.current&&clearTimeout(g.current)},S=V.useCallback(function(){i!=null&&x(i*.5)},[i,x]),w=function(k){p.onMouseEnter&&p.onMouseEnter(k),_()},C=function(k){p.onMouseLeave&&p.onMouseLeave(k),S()};return V.useEffect(function(){if(!a&&c)return window.addEventListener("focus",S),window.addEventListener("blur",_),function(){window.removeEventListener("focus",S),window.removeEventListener("blur",_)}},[a,S,c]),V.createElement("div",Object.assign({ref:e},p,{className:G0(Ib.Snackbar,r),onMouseEnter:w,onMouseLeave:C}),n)});Wre.displayName="Snackbar";var QD,RDe=yE({root:(QD={display:"flex",flexWrap:"wrap",flexGrow:1},QD[zv.upSm]={flexGrow:"initial",minWidth:"288px"},QD)}),Hre=V.forwardRef(function(t,e){var n=t.className,r=gE(t,["className"]);return Ze.createElement("div",Object.assign({ref:e,className:G0(RDe.root,n)},r))});Hre.displayName="SnackbarContent";var Bw=yE({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),BG="notistack-snackbar",Gre=V.forwardRef(function(t,e){var n=t.id,r=t.message,i=t.action,o=t.iconVariant,a=t.variant,s=t.hideIconVariant,l=t.style,c=t.className,h=o[a],p=i;return typeof p=="function"&&(p=p(n)),Ze.createElement(Hre,{ref:e,role:"alert","aria-describedby":BG,style:l,className:G0(Ib.MuiContent,Ib.MuiContentVariant(a),Bw.root,Bw[a],c,!s&&h&&Bw.lessPadding)},Ze.createElement("div",{id:BG,className:Bw.message},s?null:h,r),p&&Ze.createElement("div",{className:Bw.action},p))});Gre.displayName="MaterialDesignContent";var ODe=V.memo(Gre),LDe=yE({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),DDe=function(e){var n=V.useRef(),r=V.useState(!0),i=r[0],o=r[1],a=VS([e.snack.onClose,e.onClose]),s=function(){e.snack.requestClose&&a(null,"instructed",e.snack.id)},l=V.useCallback(function(){n.current=setTimeout(function(){o(function(Z){return!Z})},125)},[]);V.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var c=e.snack,h=e.classes,p=e.Component,g=p===void 0?ODe:p,v=V.useMemo(function(){return PDe(h)},[h]),x=c.open,_=c.SnackbarProps,S=c.TransitionComponent,w=c.TransitionProps,C=c.transitionDuration,T=c.disableWindowBlurListener,k=c.content,R=gE(c,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),L=Ki({direction:CDe(R.anchorOrigin),timeout:C},w),F=k;typeof F=="function"&&(F=F(R.id,R.message));var H=["onEnter","onEntered","onExit","onExited"].reduce(function(Z,j){var X;return Ki({},Z,(X={},X[j]=VS([e.snack[j],e[j]],R.id),X))},{});return Ze.createElement(Vre,{in:i,onExited:H.onExited},Ze.createElement(Wre,{open:x,id:R.id,disableWindowBlurListener:T,autoHideDuration:R.autoHideDuration,className:G0(LDe.wrappedRoot,v.root,v[ADe(R.anchorOrigin)]),SnackbarProps:_,onClose:a},Ze.createElement(S,Object.assign({},L,{appear:!0,in:x,onExit:H.onExit,onExited:l,onEnter:H.onEnter,onEntered:VS([H.onEntered,s],R.id)}),F||Ze.createElement(g,Object.assign({},R)))))},Fw,e3,XT,KT,t3,lp={view:{default:20,dense:4},snackbar:{default:6,dense:2}},FG="."+Ib.CollapseWrapper,n3=16,ZT=yE({root:(Fw={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:A_(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Fw[FG]={padding:lp.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Fw.maxWidth="calc(100% - "+lp.view.default*2+"px)",Fw[zv.downXs]={width:"100%",maxWidth:"calc(100% - "+n3*2+"px)"},Fw),rootDense:(e3={},e3[FG]={padding:lp.snackbar.dense+"px 0px"},e3),top:{top:lp.view.default-lp.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:lp.view.default-lp.snackbar.default+"px",flexDirection:"column-reverse"},left:(XT={left:lp.view.default+"px"},XT[zv.upSm]={alignItems:"flex-start"},XT[zv.downXs]={left:n3+"px"},XT),right:(KT={right:lp.view.default+"px"},KT[zv.upSm]={alignItems:"flex-end"},KT[zv.downXs]={right:n3+"px"},KT),center:(t3={left:"50%",transform:"translateX(-50%)"},t3[zv.upSm]={alignItems:"center"},t3)}),NDe=function(e){var n=e.classes,r=n===void 0?{}:n,i=e.anchorOrigin,o=e.dense,a=e.children,s=G0(Ib.SnackbarContainer,ZT[i.vertical],ZT[i.horizontal],ZT.root,r.containerRoot,r["containerAnchorOrigin"+sj(i)],o&&ZT.rootDense);return Ze.createElement("div",{className:s},a)},zDe=V.memo(NDe),$G=function(e){var n=typeof e=="string"||V.isValidElement(e);return!n},qre,BDe=function(t){Fre(e,t);function e(r){var i;return i=t.call(this,r)||this,i.enqueueSnackbar=function(o,a){if(a===void 0&&(a={}),o==null)throw new Error("enqueueSnackbar called with invalid argument");var s=$G(o)?o:a,l=$G(o)?o.message:o,c=s.key,h=s.preventDuplicate,p=gE(s,["key","preventDuplicate"]),g=GT(c),v=g?c:new Date().getTime()+Math.random(),x=TDe(p,i.props),_=Ki({id:v},p,{message:l,open:!0,entered:!1,requestClose:!1,persist:x("persist"),action:x("action"),content:x("content"),variant:x("variant"),anchorOrigin:x("anchorOrigin"),disableWindowBlurListener:x("disableWindowBlurListener"),autoHideDuration:x("autoHideDuration"),hideIconVariant:x("hideIconVariant"),TransitionComponent:x("TransitionComponent"),transitionDuration:x("transitionDuration"),TransitionProps:x("TransitionProps",!0),iconVariant:x("iconVariant",!0),style:x("style",!0),SnackbarProps:x("SnackbarProps",!0),className:G0(i.props.className,p.className)});return _.persist&&(_.autoHideDuration=void 0),i.setState(function(S){if(h===void 0&&i.props.preventDuplicate||h){var w=function(R){return g?R.id===v:R.message===l},C=S.queue.findIndex(w)>-1,T=S.snacks.findIndex(w)>-1;if(C||T)return S}return i.handleDisplaySnack(Ki({},S,{queue:[].concat(S.queue,[_])}))}),v},i.handleDisplaySnack=function(o){var a=o.snacks;return a.length>=i.maxSnack?i.handleDismissOldest(o):i.processQueue(o)},i.processQueue=function(o){var a=o.queue,s=o.snacks;return a.length>0?Ki({},o,{snacks:[].concat(s,[a[0]]),queue:a.slice(1,a.length)}):o},i.handleDismissOldest=function(o){if(o.snacks.some(function(h){return!h.open||h.requestClose}))return o;var a=!1,s=!1,l=o.snacks.reduce(function(h,p){return h+(p.open&&p.persist?1:0)},0);l===i.maxSnack&&(s=!0);var c=o.snacks.map(function(h){return!a&&(!h.persist||s)?(a=!0,h.entered?(h.onClose&&h.onClose(null,"maxsnack",h.id),i.props.onClose&&i.props.onClose(null,"maxsnack",h.id),Ki({},h,{open:!1})):Ki({},h,{requestClose:!0})):Ki({},h)});return Ki({},o,{snacks:c})},i.handleEnteredSnack=function(o,a,s){if(!GT(s))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(l){var c=l.snacks;return{snacks:c.map(function(h){return h.id===s?Ki({},h,{entered:!0}):Ki({},h)})}})},i.handleCloseSnack=function(o,a,s){i.props.onClose&&i.props.onClose(o,a,s);var l=s===void 0;i.setState(function(c){var h=c.snacks,p=c.queue;return{snacks:h.map(function(g){return!l&&g.id!==s?Ki({},g):g.entered?Ki({},g,{open:!1}):Ki({},g,{requestClose:!0})}),queue:p.filter(function(g){return g.id!==s})}})},i.closeSnackbar=function(o){var a=i.state.snacks.find(function(s){return s.id===o});GT(o)&&a&&a.onClose&&a.onClose(null,"instructed",o),i.handleCloseSnack(null,"instructed",o)},i.handleExitedSnack=function(o,a){if(!GT(a))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(s){var l=i.processQueue(Ki({},s,{snacks:s.snacks.filter(function(c){return c.id!==a})}));return l.queue.length===0?l:i.handleDismissOldest(l)})},qre=i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(PG(i)),closeSnackbar:i.closeSnackbar.bind(PG(i))}},i}var n=e.prototype;return n.render=function(){var i=this,o=this.state.contextValue,a=this.props,s=a.domRoot,l=a.children,c=a.dense,h=c===void 0?!1:c,p=a.Components,g=p===void 0?{}:p,v=a.classes,x=this.state.snacks.reduce(function(S,w){var C,T=sj(w.anchorOrigin),k=S[T]||[];return Ki({},S,(C={},C[T]=[].concat(k,[w]),C))},{}),_=Object.keys(x).map(function(S){var w=x[S],C=w[0];return Ze.createElement(zDe,{key:S,dense:h,anchorOrigin:C.anchorOrigin,classes:v},w.map(function(T){return Ze.createElement(DDe,{key:T.id,snack:T,classes:v,Component:g[T.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:VS([i.handleExitedSnack,i.props.onExited],T.id),onEntered:VS([i.handleEnteredSnack,i.props.onEntered],T.id)})}))});return Ze.createElement(mDe.Provider,{value:o},l,s?gy.createPortal(_,s):_)},Bre(e,[{key:"maxSnack",get:function(){return this.props.maxSnack||m0.maxSnack}}]),e}(V.Component);const jG=4e3,FDe=()=>{const t=Zl();xr(c=>c.devices.items);const e=V.useRef(),[n,r]=V.useState(!0),[i,o]=V.useState([]),[a,s]=V.useState([]),l=()=>{const c=window.location.protocol==="https:"?"wss:":"ws:",h=new WebSocket(`${c}//${window.location.host}/api/socket`);console.log(`${c}//${window.location.host}/api/socket`),e.current=h,console.log("funcion web socket"),h.onopen=()=>{t(ef.updateSocket(!0)),console.log("funcion web socket open")},h.onclose=async p=>{if(console.log("funcion web socket close"),t(ef.updateSocket(!1)),p.code!==jG){try{const g=await fetch("/api/devices");g.ok&&t(tu.update(await g.json()));const v=await fetch("/api/positions");v.ok&&t(ED.updatePositions(await v.json())),g.status===401||v.status}catch{}setTimeout(()=>l(),6e4)}},h.onmessage=p=>{const g=JSON.parse(p.data);g.devices&&(g.devices.length>0?t(tu.update(g.devices)):t(tu.clear())),g.positions&&t(ED.updatePositions(g.positions)),g.camera&&t(ED.updateCamera(g.camera)),g.server&&(g.server.rosState==="connect"?t(ef.updateServerROS(!0)):t(ef.updateServerROS(!1))),g.mission&&(console.log("data mission"),console.log(g.mission),t(fh.updateMission(g.mission))),g.events&&(console.log("add data events -------"),t(n0e.add(g.events)),o(g.events),console.log(g.events)),g.markers&&(console.log("add markers"),t(ef.updateMarker(g.markers))),g.planning&&(console.log("add planning "),t(ef.updatePlanning(g.planning)))}};return _y(async()=>{if(n){r(!1);const c=await fetch("/api/devices",{method:"GET"});if(c.ok)t(tu.refresh(await c.json()));else throw Error(await c.text());return console.log("Socket first connection"),l(),()=>{const h=e.current;h&&h.close(jG)}}return null},[]),V.useEffect(()=>{console.log("set notifications"),console.log(i);let c=[];i.map(h=>{let p=!0;a.map(g=>{g.id==h.id&&(p=!1)}),p&&c.push({id:h.id,type:h.type,message:h.attributes.message,show:!0})}),console.log("aux console log"),console.log(c),c.length>0&&s(c),c.forEach(h=>{h.type==="error"&&new Audio(lDe).play()})},[i]),V.useEffect(()=>{console.log("notifications"),a.map(c=>{qre(c.message,{variant:c.type,autoHideDuration:3e3,persist:!1,onClose:()=>o(i.filter(h=>h.id!==c.id))})})},[a]),z.jsx(z.Fragment,{children:z.jsx(BDe,{preventDuplicate:!0,maxSnack:6,autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}})})},$De=ive()(FDe),jDe=Qr(()=>({page:{flexGrow:1,overflow:"auto"},menu:{zIndex:4}})),UDe=()=>{const t=jDe();return xd(),z.jsxs(z.Fragment,{children:[z.jsx($De,{}),z.jsx("div",{className:t.page,children:z.jsx(Yge,{})})]})},VDe=()=>{const{search:t}=Tk();return V.useMemo(()=>new URLSearchParams(t),[t])};var Yre={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(f_,function(){var n,r,i;function o(s,l){if(!n)n=l;else if(!r)r=l;else{var c="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",h={};n(h),i=l(h),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([c],{type:"text/javascript"})))}}o(["exports"],function(s){function l(f,u,m,b){return new(m||(m=Promise))(function(P,N){function B(J){try{Y(b.next(J))}catch(ne){N(ne)}}function U(J){try{Y(b.throw(J))}catch(ne){N(ne)}}function Y(J){var ne;J.done?P(J.value):(ne=J.value,ne instanceof m?ne:new m(function(ae){ae(ne)})).then(B,U)}Y((b=b.apply(f,u||[])).next())})}function c(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}typeof SuppressedError=="function"&&SuppressedError;var h=p;function p(f,u){this.x=f,this.y=u}p.prototype={clone:function(){return new p(this.x,this.y)},add:function(f){return this.clone()._add(f)},sub:function(f){return this.clone()._sub(f)},multByPoint:function(f){return this.clone()._multByPoint(f)},divByPoint:function(f){return this.clone()._divByPoint(f)},mult:function(f){return this.clone()._mult(f)},div:function(f){return this.clone()._div(f)},rotate:function(f){return this.clone()._rotate(f)},rotateAround:function(f,u){return this.clone()._rotateAround(f,u)},matMult:function(f){return this.clone()._matMult(f)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(f){return this.x===f.x&&this.y===f.y},dist:function(f){return Math.sqrt(this.distSqr(f))},distSqr:function(f){var u=f.x-this.x,m=f.y-this.y;return u*u+m*m},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(f){return Math.atan2(this.y-f.y,this.x-f.x)},angleWith:function(f){return this.angleWithSep(f.x,f.y)},angleWithSep:function(f,u){return Math.atan2(this.x*u-this.y*f,this.x*f+this.y*u)},_matMult:function(f){var u=f[2]*this.x+f[3]*this.y;return this.x=f[0]*this.x+f[1]*this.y,this.y=u,this},_add:function(f){return this.x+=f.x,this.y+=f.y,this},_sub:function(f){return this.x-=f.x,this.y-=f.y,this},_mult:function(f){return this.x*=f,this.y*=f,this},_div:function(f){return this.x/=f,this.y/=f,this},_multByPoint:function(f){return this.x*=f.x,this.y*=f.y,this},_divByPoint:function(f){return this.x/=f.x,this.y/=f.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var f=this.y;return this.y=this.x,this.x=-f,this},_rotate:function(f){var u=Math.cos(f),m=Math.sin(f),b=m*this.x+u*this.y;return this.x=u*this.x-m*this.y,this.y=b,this},_rotateAround:function(f,u){var m=Math.cos(f),b=Math.sin(f),P=u.y+b*(this.x-u.x)+m*(this.y-u.y);return this.x=u.x+m*(this.x-u.x)-b*(this.y-u.y),this.y=P,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},p.convert=function(f){return f instanceof p?f:Array.isArray(f)?new p(f[0],f[1]):f};var g=c(h),v=x;function x(f,u,m,b){this.cx=3*f,this.bx=3*(m-f)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(b-u)-this.cy,this.ay=1-this.cy-this.by,this.p1x=f,this.p1y=u,this.p2x=m,this.p2y=b}x.prototype={sampleCurveX:function(f){return((this.ax*f+this.bx)*f+this.cx)*f},sampleCurveY:function(f){return((this.ay*f+this.by)*f+this.cy)*f},sampleCurveDerivativeX:function(f){return(3*this.ax*f+2*this.bx)*f+this.cx},solveCurveX:function(f,u){if(u===void 0&&(u=1e-6),f<0)return 0;if(f>1)return 1;for(var m=f,b=0;b<8;b++){var P=this.sampleCurveX(m)-f;if(Math.abs(P)<u)return m;var N=this.sampleCurveDerivativeX(m);if(Math.abs(N)<1e-6)break;m-=P/N}var B=0,U=1;for(m=f,b=0;b<20&&(P=this.sampleCurveX(m),!(Math.abs(P-f)<u));b++)f>P?B=m:U=m,m=.5*(U-B)+B;return m},solve:function(f,u){return this.sampleCurveY(this.solveCurveX(f,u))}};var _=c(v);let S,w;function C(){return S==null&&(S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),S}function T(){if(w==null&&(w=!1,C())){const u=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(u){for(let b=0;b<5*5;b++){const P=4*b;u.fillStyle=`rgb(${P},${P+1},${P+2})`,u.fillRect(b%5,Math.floor(b/5),1,1)}const m=u.getImageData(0,0,5,5).data;for(let b=0;b<5*5*4;b++)if(b%4!=3&&m[b]!==b){w=!0;break}}}return w||!1}function k(f,u,m,b){const P=new _(f,u,m,b);return function(N){return P.solve(N)}}const R=k(.25,.1,.25,1);function L(f,u,m){return Math.min(m,Math.max(u,f))}function F(f,u,m){const b=m-u,P=((f-u)%b+b)%b+u;return P===u?m:P}function H(f,...u){for(const m of u)for(const b in m)f[b]=m[b];return f}let Z=1;function j(f,u,m){const b={};for(const P in f)b[P]=u.call(m||this,f[P],P,f);return b}function X(f,u,m){const b={};for(const P in f)u.call(m||this,f[P],P,f)&&(b[P]=f[P]);return b}function le(f){return Array.isArray(f)?f.map(le):typeof f=="object"&&f?j(f,le):f}const me={};function ie(f){me[f]||(typeof console<"u"&&console.warn(f),me[f]=!0)}function ce(f,u,m){return(m.y-f.y)*(u.x-f.x)>(u.y-f.y)*(m.x-f.x)}function fe(f){let u=0;for(let m,b,P=0,N=f.length,B=N-1;P<N;B=P++)m=f[P],b=f[B],u+=(b.x-m.x)*(m.y+b.y);return u}function xe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let te=null;function he(f){return typeof ImageBitmap<"u"&&f instanceof ImageBitmap}const ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ze(f,u,m,b,P){return l(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const N=new VideoFrame(f,{timestamp:0});try{const B=N==null?void 0:N.format;if(!B||!B.startsWith("BGR")&&!B.startsWith("RGB"))throw new Error(`Unrecognized format ${B}`);const U=B.startsWith("BGR"),Y=new Uint8ClampedArray(b*P*4);if(yield N.copyTo(Y,function(J,ne,ae,ye,Se){const Ee=4*Math.max(-ne,0),De=(Math.max(0,ae)-ae)*ye*4+Ee,He=4*ye,Ye=Math.max(0,ne),pt=Math.max(0,ae);return{rect:{x:Ye,y:pt,width:Math.min(J.width,ne+ye)-Ye,height:Math.min(J.height,ae+Se)-pt},layout:[{offset:De,stride:He}]}}(f,u,m,b,P)),U)for(let J=0;J<Y.length;J+=4){const ne=Y[J];Y[J]=Y[J+2],Y[J+2]=ne}return Y}finally{N.close()}})}let Ue,rt,Fe,st;const ct={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(f){const u=requestAnimationFrame(f);return{cancel:()=>cancelAnimationFrame(u)}},getImageData(f,u=0){return this.getImageCanvasContext(f).getImageData(-u,-u,f.width+2*u,f.height+2*u)},getImageCanvasContext(f){const u=window.document.createElement("canvas"),m=u.getContext("2d",{willReadFrequently:!0});if(!m)throw new Error("failed to create canvas 2d context");return u.width=f.width,u.height=f.height,m.drawImage(f,0,0,f.width,f.height),m},resolveURL:f=>(Fe||(Fe=document.createElement("a")),Fe.href=f,Fe.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(st==null&&(st=matchMedia("(prefers-reduced-motion: reduce)")),st.matches)}},Dt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class zt extends Error{constructor(u,m,b,P){super(`AJAXError: ${m} (${u}): ${b}`),this.status=u,this.statusText=m,this.url=b,this.body=P}}const Be=xe()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,lt=f=>Dt.REGISTERED_PROTOCOLS[f.substring(0,f.indexOf("://"))];function Qe(f,u){const m=new AbortController,b=new Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,cache:f.cache,referrer:Be(),signal:m.signal});let P=!1,N=!1;return f.type==="json"&&b.headers.set("Accept","application/json"),N||fetch(b).then(B=>B.ok?(U=>{(f.type==="arrayBuffer"||f.type==="image"?U.arrayBuffer():f.type==="json"?U.json():U.text()).then(Y=>{N||(P=!0,u(null,Y,U.headers.get("Cache-Control"),U.headers.get("Expires")))}).catch(Y=>{N||u(new Error(Y.message))})})(B):B.blob().then(U=>u(new zt(B.status,B.statusText,f.url,U)))).catch(B=>{B.code!==20&&u(new Error(B.message))}),{cancel:()=>{N=!0,P||m.abort()}}}const ge=function(f,u){if(/:\/\//.test(f.url)&&!/^https?:|^file:/.test(f.url)){if(xe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",f,u);if(!xe())return(lt(f.url)||Qe)(f,u)}if(!(/^file:/.test(m=f.url)||/^file:/.test(Be())&&!/^\w+:/.test(m))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Qe(f,u);if(xe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",f,u,void 0,!0)}var m;return function(b,P){const N=new XMLHttpRequest;N.open(b.method||"GET",b.url,!0),b.type!=="arrayBuffer"&&b.type!=="image"||(N.responseType="arraybuffer");for(const B in b.headers)N.setRequestHeader(B,b.headers[B]);return b.type==="json"&&(N.responseType="text",N.setRequestHeader("Accept","application/json")),N.withCredentials=b.credentials==="include",N.onerror=()=>{P(new Error(N.statusText))},N.onload=()=>{if((N.status>=200&&N.status<300||N.status===0)&&N.response!==null){let B=N.response;if(b.type==="json")try{B=JSON.parse(N.response)}catch(U){return P(U)}P(null,B,N.getResponseHeader("Cache-Control"),N.getResponseHeader("Expires"))}else{const B=new Blob([N.response],{type:N.getResponseHeader("Content-Type")});P(new zt(N.status,N.statusText,b.url,B))}},N.send(b.body),{cancel:()=>N.abort()}}(f,u)},et=function(f,u){return ge(H(f,{type:"arrayBuffer"}),u)};function ot(f){if(!f||f.indexOf("://")<=0||f.indexOf("data:image/")===0||f.indexOf("blob:")===0)return!0;const u=new URL(f),m=window.location;return u.protocol===m.protocol&&u.host===m.host}function Tt(f,u,m){m[f]&&m[f].indexOf(u)!==-1||(m[f]=m[f]||[],m[f].push(u))}function Ct(f,u,m){if(m&&m[f]){const b=m[f].indexOf(u);b!==-1&&m[f].splice(b,1)}}class Ft{constructor(u,m={}){H(this,m),this.type=u}}class Gt extends Ft{constructor(u,m={}){super("error",H({error:u},m))}}class sn{on(u,m){return this._listeners=this._listeners||{},Tt(u,m,this._listeners),this}off(u,m){return Ct(u,m,this._listeners),Ct(u,m,this._oneTimeListeners),this}once(u,m){return m?(this._oneTimeListeners=this._oneTimeListeners||{},Tt(u,m,this._oneTimeListeners),this):new Promise(b=>this.once(u,b))}fire(u,m){typeof u=="string"&&(u=new Ft(u,m||{}));const b=u.type;if(this.listens(b)){u.target=this;const P=this._listeners&&this._listeners[b]?this._listeners[b].slice():[];for(const U of P)U.call(this,u);const N=this._oneTimeListeners&&this._oneTimeListeners[b]?this._oneTimeListeners[b].slice():[];for(const U of N)Ct(b,U,this._oneTimeListeners),U.call(this,u);const B=this._eventedParent;B&&(H(u,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),B.fire(u))}else u instanceof Gt&&console.error(u.error);return this}listens(u){return this._listeners&&this._listeners[u]&&this._listeners[u].length>0||this._oneTimeListeners&&this._oneTimeListeners[u]&&this._oneTimeListeners[u].length>0||this._eventedParent&&this._eventedParent.listens(u)}setEventedParent(u,m){return this._eventedParent=u,this._eventedParentData=m,this}}var Je={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Ce=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function _e(f,u){const m={};for(const b in f)b!=="ref"&&(m[b]=f[b]);return Ce.forEach(b=>{b in u&&(m[b]=u[b])}),m}function ht(f,u){if(Array.isArray(f)){if(!Array.isArray(u)||f.length!==u.length)return!1;for(let m=0;m<f.length;m++)if(!ht(f[m],u[m]))return!1;return!0}if(typeof f=="object"&&f!==null&&u!==null){if(typeof u!="object"||Object.keys(f).length!==Object.keys(u).length)return!1;for(const m in f)if(!ht(f[m],u[m]))return!1;return!0}return f===u}const dt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Wt(f,u,m){m.push({command:dt.addSource,args:[f,u[f]]})}function jt(f,u,m){u.push({command:dt.removeSource,args:[f]}),m[f]=!0}function Mn(f,u,m,b){jt(f,m,b),Wt(f,u,m)}function cn(f,u,m){let b;for(b in f[m])if(Object.prototype.hasOwnProperty.call(f[m],b)&&b!=="data"&&!ht(f[m][b],u[m][b]))return!1;for(b in u[m])if(Object.prototype.hasOwnProperty.call(u[m],b)&&b!=="data"&&!ht(f[m][b],u[m][b]))return!1;return!0}function Rt(f,u,m,b,P,N){let B;for(B in u=u||{},f=f||{})Object.prototype.hasOwnProperty.call(f,B)&&(ht(f[B],u[B])||m.push({command:N,args:[b,B,u[B],P]}));for(B in u)Object.prototype.hasOwnProperty.call(u,B)&&!Object.prototype.hasOwnProperty.call(f,B)&&(ht(f[B],u[B])||m.push({command:N,args:[b,B,u[B],P]}))}function nn(f){return f.id}function Pn(f,u){return f[u.id]=u,f}class mt{constructor(u,m,b,P){this.message=(u?`${u}: `:"")+b,P&&(this.identifier=P),m!=null&&m.__line__&&(this.line=m.__line__)}}function un(f,...u){for(const m of u)for(const b in m)f[b]=m[b];return f}class an extends Error{constructor(u,m){super(m),this.message=m,this.key=u}}class Ot{constructor(u,m=[]){this.parent=u,this.bindings={};for(const[b,P]of m)this.bindings[b]=P}concat(u){return new Ot(this,u)}get(u){if(this.bindings[u])return this.bindings[u];if(this.parent)return this.parent.get(u);throw new Error(`${u} not found in scope.`)}has(u){return!!this.bindings[u]||!!this.parent&&this.parent.has(u)}}const ke={kind:"null"},Ve={kind:"number"},Me={kind:"string"},it={kind:"boolean"},en={kind:"color"},Xe={kind:"object"},kt={kind:"value"},Et={kind:"collator"},we={kind:"formatted"},oe={kind:"padding"},pe={kind:"resolvedImage"},Te={kind:"variableAnchorOffsetCollection"};function Pe(f,u){return{kind:"array",itemType:f,N:u}}function Ne(f){if(f.kind==="array"){const u=Ne(f.itemType);return typeof f.N=="number"?`array<${u}, ${f.N}>`:f.itemType.kind==="value"?"array":`array<${u}>`}return f.kind}const Ke=[ke,Ve,Me,it,en,we,Xe,Pe(kt),oe,pe,Te];function qe(f,u){if(u.kind==="error")return null;if(f.kind==="array"){if(u.kind==="array"&&(u.N===0&&u.itemType.kind==="value"||!qe(f.itemType,u.itemType))&&(typeof f.N!="number"||f.N===u.N))return null}else{if(f.kind===u.kind)return null;if(f.kind==="value"){for(const m of Ke)if(!qe(m,u))return null}}return`Expected ${Ne(f)} but found ${Ne(u)} instead.`}function je(f,u){return u.some(m=>m.kind===f.kind)}function tt(f,u){return u.some(m=>m==="null"?f===null:m==="array"?Array.isArray(f):m==="object"?f&&!Array.isArray(f)&&typeof f=="object":m===typeof f)}function Nt(f,u){return f.kind==="array"&&u.kind==="array"?f.itemType.kind===u.itemType.kind&&typeof f.N=="number":f.kind===u.kind}const Ut=.96422,$t=.82521,kn=4/29,er=6/29,Tn=3*er*er,Vn=er*er*er,sr=Math.PI/180,$r=180/Math.PI;function Ae(f){return(f%=360)<0&&(f+=360),f}function ut([f,u,m,b]){let P,N;const B=yt((.2225045*(f=bt(f))+.7168786*(u=bt(u))+.0606169*(m=bt(m)))/1);f===u&&u===m?P=N=B:(P=yt((.4360747*f+.3850649*u+.1430804*m)/Ut),N=yt((.0139322*f+.0971045*u+.7141733*m)/$t));const U=116*B-16;return[U<0?0:U,500*(P-B),200*(B-N),b]}function bt(f){return f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function yt(f){return f>Vn?Math.pow(f,1/3):f/Tn+kn}function vt([f,u,m,b]){let P=(f+16)/116,N=isNaN(u)?P:P+u/500,B=isNaN(m)?P:P-m/200;return P=1*An(P),N=Ut*An(N),B=$t*An(B),[pn(3.1338561*N-1.6168667*P-.4906146*B),pn(-.9787684*N+1.9161415*P+.033454*B),pn(.0719453*N-.2289914*P+1.4052427*B),b]}function pn(f){return(f=f<=.00304?12.92*f:1.055*Math.pow(f,1/2.4)-.055)<0?0:f>1?1:f}function An(f){return f>er?f*f*f:Tn*(f-kn)}function Kn(f){return parseInt(f.padEnd(2,f),16)/255}function dr(f,u){return fr(u?f/100:f,0,1)}function fr(f,u,m){return Math.min(Math.max(u,f),m)}function cr(f){return!f.some(Number.isNaN)}const br={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class ar{constructor(u,m,b,P=1,N=!0){this.r=u,this.g=m,this.b=b,this.a=P,N||(this.r*=P,this.g*=P,this.b*=P,P||this.overwriteGetter("rgb",[u,m,b,P]))}static parse(u){if(u instanceof ar)return u;if(typeof u!="string")return;const m=function(b){if((b=b.toLowerCase().trim())==="transparent")return[0,0,0,0];const P=br[b];if(P){const[B,U,Y]=P;return[B/255,U/255,Y/255,1]}if(b.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(b)){const B=b.length<6?1:2;let U=1;return[Kn(b.slice(U,U+=B)),Kn(b.slice(U,U+=B)),Kn(b.slice(U,U+=B)),Kn(b.slice(U,U+B)||"ff")]}if(b.startsWith("rgb")){const B=b.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(B){const[U,Y,J,ne,ae,ye,Se,Ee,De,He,Ye,pt]=B,nt=[ne||" ",Se||" ",He].join("");if(nt==="  "||nt==="  /"||nt===",,"||nt===",,,"){const xt=[J,ye,De].join(""),It=xt==="%%%"?100:xt===""?255:0;if(It){const Yt=[fr(+Y/It,0,1),fr(+ae/It,0,1),fr(+Ee/It,0,1),Ye?dr(+Ye,pt):1];if(cr(Yt))return Yt}}return}}const N=b.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(N){const[B,U,Y,J,ne,ae,ye,Se,Ee]=N,De=[Y||" ",ne||" ",ye].join("");if(De==="  "||De==="  /"||De===",,"||De===",,,"){const He=[+U,fr(+J,0,100),fr(+ae,0,100),Se?dr(+Se,Ee):1];if(cr(He))return function([Ye,pt,nt,xt]){function It(Yt){const wn=(Yt+Ye/30)%12,Bn=pt*Math.min(nt,1-nt);return nt-Bn*Math.max(-1,Math.min(wn-3,9-wn,1))}return Ye=Ae(Ye),pt/=100,nt/=100,[It(0),It(8),It(4),xt]}(He)}}}(u);return m?new ar(...m,!1):void 0}get rgb(){const{r:u,g:m,b,a:P}=this,N=P||1/0;return this.overwriteGetter("rgb",[u/N,m/N,b/N,P])}get hcl(){return this.overwriteGetter("hcl",function(u){const[m,b,P,N]=ut(u),B=Math.sqrt(b*b+P*P);return[Math.round(1e4*B)?Ae(Math.atan2(P,b)*$r):NaN,B,m,N]}(this.rgb))}get lab(){return this.overwriteGetter("lab",ut(this.rgb))}overwriteGetter(u,m){return Object.defineProperty(this,u,{value:m}),m}toString(){const[u,m,b,P]=this.rgb;return`rgba(${[u,m,b].map(N=>Math.round(255*N)).join(",")},${P})`}}ar.black=new ar(0,0,0,1),ar.white=new ar(1,1,1,1),ar.transparent=new ar(0,0,0,0),ar.red=new ar(1,0,0,1);class No{constructor(u,m,b){this.sensitivity=u?m?"variant":"case":m?"accent":"base",this.locale=b,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(u,m){return this.collator.compare(u,m)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class hi{constructor(u,m,b,P,N){this.text=u,this.image=m,this.scale=b,this.fontStack=P,this.textColor=N}}class Yr{constructor(u){this.sections=u}static fromString(u){return new Yr([new hi(u,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(u=>u.text.length!==0||u.image&&u.image.name.length!==0)}static factory(u){return u instanceof Yr?u:Yr.fromString(u)}toString(){return this.sections.length===0?"":this.sections.map(u=>u.text).join("")}}class Zn{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof Zn)return u;if(typeof u=="number")return new Zn([u,u,u,u]);if(Array.isArray(u)&&!(u.length<1||u.length>4)){for(const m of u)if(typeof m!="number")return;switch(u.length){case 1:u=[u[0],u[0],u[0],u[0]];break;case 2:u=[u[0],u[1],u[0],u[1]];break;case 3:u=[u[0],u[1],u[2],u[1]]}return new Zn(u)}}toString(){return JSON.stringify(this.values)}}const Nn=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class to{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof to)return u;if(Array.isArray(u)&&!(u.length<1)&&u.length%2==0){for(let m=0;m<u.length;m+=2){const b=u[m],P=u[m+1];if(typeof b!="string"||!Nn.has(b)||!Array.isArray(P)||P.length!==2||typeof P[0]!="number"||typeof P[1]!="number")return}return new to(u)}}toString(){return JSON.stringify(this.values)}}class tr{constructor(u){this.name=u.name,this.available=u.available}toString(){return this.name}static fromString(u){return u?new tr({name:u,available:!1}):null}}function Li(f,u,m,b){return typeof f=="number"&&f>=0&&f<=255&&typeof u=="number"&&u>=0&&u<=255&&typeof m=="number"&&m>=0&&m<=255?b===void 0||typeof b=="number"&&b>=0&&b<=1?null:`Invalid rgba value [${[f,u,m,b].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof b=="number"?[f,u,m,b]:[f,u,m]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ns(f){if(f===null||typeof f=="string"||typeof f=="boolean"||typeof f=="number"||f instanceof ar||f instanceof No||f instanceof Yr||f instanceof Zn||f instanceof to||f instanceof tr)return!0;if(Array.isArray(f)){for(const u of f)if(!Ns(u))return!1;return!0}if(typeof f=="object"){for(const u in f)if(!Ns(f[u]))return!1;return!0}return!1}function Ur(f){if(f===null)return ke;if(typeof f=="string")return Me;if(typeof f=="boolean")return it;if(typeof f=="number")return Ve;if(f instanceof ar)return en;if(f instanceof No)return Et;if(f instanceof Yr)return we;if(f instanceof Zn)return oe;if(f instanceof to)return Te;if(f instanceof tr)return pe;if(Array.isArray(f)){const u=f.length;let m;for(const b of f){const P=Ur(b);if(m){if(m===P)continue;m=kt;break}m=P}return Pe(m||kt,u)}return Xe}function hr(f){const u=typeof f;return f===null?"":u==="string"||u==="number"||u==="boolean"?String(f):f instanceof ar||f instanceof Yr||f instanceof Zn||f instanceof to||f instanceof tr?f.toString():JSON.stringify(f)}class Si{constructor(u,m){this.type=u,this.value=m}static parse(u,m){if(u.length!==2)return m.error(`'literal' expression requires exactly one argument, but found ${u.length-1} instead.`);if(!Ns(u[1]))return m.error("invalid value");const b=u[1];let P=Ur(b);const N=m.expectedType;return P.kind!=="array"||P.N!==0||!N||N.kind!=="array"||typeof N.N=="number"&&N.N!==0||(P=N),new Si(P,b)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Zr{constructor(u){this.name="ExpressionEvaluationError",this.message=u}toJSON(){return this.message}}const Rc={string:Me,number:Ve,boolean:it,object:Xe};class pi{constructor(u,m){this.type=u,this.args=m}static parse(u,m){if(u.length<2)return m.error("Expected at least one argument.");let b,P=1;const N=u[0];if(N==="array"){let U,Y;if(u.length>2){const J=u[1];if(typeof J!="string"||!(J in Rc)||J==="object")return m.error('The item type argument of "array" must be one of string, number, boolean',1);U=Rc[J],P++}else U=kt;if(u.length>3){if(u[2]!==null&&(typeof u[2]!="number"||u[2]<0||u[2]!==Math.floor(u[2])))return m.error('The length argument to "array" must be a positive integer literal',2);Y=u[2],P++}b=Pe(U,Y)}else{if(!Rc[N])throw new Error(`Types doesn't contain name = ${N}`);b=Rc[N]}const B=[];for(;P<u.length;P++){const U=m.parse(u[P],P,kt);if(!U)return null;B.push(U)}return new pi(b,B)}evaluate(u){for(let m=0;m<this.args.length;m++){const b=this.args[m].evaluate(u);if(!qe(this.type,Ur(b)))return b;if(m===this.args.length-1)throw new Zr(`Expected value to be of type ${Ne(this.type)}, but found ${Ne(Ur(b))} instead.`)}throw new Error}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const Eu={"to-boolean":it,"to-color":en,"to-number":Ve,"to-string":Me};class To{constructor(u,m){this.type=u,this.args=m}static parse(u,m){if(u.length<2)return m.error("Expected at least one argument.");const b=u[0];if(!Eu[b])throw new Error(`Can't parse ${b} as it is not part of the known types`);if((b==="to-boolean"||b==="to-string")&&u.length!==2)return m.error("Expected one argument.");const P=Eu[b],N=[];for(let B=1;B<u.length;B++){const U=m.parse(u[B],B,kt);if(!U)return null;N.push(U)}return new To(P,N)}evaluate(u){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(u);case"color":{let m,b;for(const P of this.args){if(m=P.evaluate(u),b=null,m instanceof ar)return m;if(typeof m=="string"){const N=u.parseColor(m);if(N)return N}else if(Array.isArray(m)&&(b=m.length<3||m.length>4?`Invalid rbga value ${JSON.stringify(m)}: expected an array containing either three or four numeric values.`:Li(m[0],m[1],m[2],m[3]),!b))return new ar(m[0]/255,m[1]/255,m[2]/255,m[3])}throw new Zr(b||`Could not parse color from value '${typeof m=="string"?m:JSON.stringify(m)}'`)}case"padding":{let m;for(const b of this.args){m=b.evaluate(u);const P=Zn.parse(m);if(P)return P}throw new Zr(`Could not parse padding from value '${typeof m=="string"?m:JSON.stringify(m)}'`)}case"variableAnchorOffsetCollection":{let m;for(const b of this.args){m=b.evaluate(u);const P=to.parse(m);if(P)return P}throw new Zr(`Could not parse variableAnchorOffsetCollection from value '${typeof m=="string"?m:JSON.stringify(m)}'`)}case"number":{let m=null;for(const b of this.args){if(m=b.evaluate(u),m===null)return 0;const P=Number(m);if(!isNaN(P))return P}throw new Zr(`Could not convert ${JSON.stringify(m)} to number.`)}case"formatted":return Yr.fromString(hr(this.args[0].evaluate(u)));case"resolvedImage":return tr.fromString(hr(this.args[0].evaluate(u)));default:return hr(this.args[0].evaluate(u))}}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const jh=["Unknown","Point","LineString","Polygon"];class Ry{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?jh[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(u){let m=this._parseColorCache[u];return m||(m=this._parseColorCache[u]=ar.parse(u)),m}}class hm{constructor(u,m,b=[],P,N=new Ot,B=[]){this.registry=u,this.path=b,this.key=b.map(U=>`[${U}]`).join(""),this.scope=N,this.errors=B,this.expectedType=P,this._isConstant=m}parse(u,m,b,P,N={}){return m?this.concat(m,b,P)._parse(u,N):this._parse(u,N)}_parse(u,m){function b(P,N,B){return B==="assert"?new pi(N,[P]):B==="coerce"?new To(N,[P]):P}if(u!==null&&typeof u!="string"&&typeof u!="boolean"&&typeof u!="number"||(u=["literal",u]),Array.isArray(u)){if(u.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const P=u[0];if(typeof P!="string")return this.error(`Expression name must be a string, but found ${typeof P} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const N=this.registry[P];if(N){let B=N.parse(u,this);if(!B)return null;if(this.expectedType){const U=this.expectedType,Y=B.type;if(U.kind!=="string"&&U.kind!=="number"&&U.kind!=="boolean"&&U.kind!=="object"&&U.kind!=="array"||Y.kind!=="value")if(U.kind!=="color"&&U.kind!=="formatted"&&U.kind!=="resolvedImage"||Y.kind!=="value"&&Y.kind!=="string")if(U.kind!=="padding"||Y.kind!=="value"&&Y.kind!=="number"&&Y.kind!=="array")if(U.kind!=="variableAnchorOffsetCollection"||Y.kind!=="value"&&Y.kind!=="array"){if(this.checkSubtype(U,Y))return null}else B=b(B,U,m.typeAnnotation||"coerce");else B=b(B,U,m.typeAnnotation||"coerce");else B=b(B,U,m.typeAnnotation||"coerce");else B=b(B,U,m.typeAnnotation||"assert")}if(!(B instanceof Si)&&B.type.kind!=="resolvedImage"&&this._isConstant(B)){const U=new Ry;try{B=new Si(B.type,B.evaluate(U))}catch(Y){return this.error(Y.message),null}}return B}return this.error(`Unknown expression "${P}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(u===void 0?"'undefined' value invalid. Use null instead.":typeof u=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof u} instead.`)}concat(u,m,b){const P=typeof u=="number"?this.path.concat(u):this.path,N=b?this.scope.concat(b):this.scope;return new hm(this.registry,this._isConstant,P,m||null,N,this.errors)}error(u,...m){const b=`${this.key}${m.map(P=>`[${P}]`).join("")}`;this.errors.push(new an(b,u))}checkSubtype(u,m){const b=qe(u,m);return b&&this.error(b),b}}class Sd{constructor(u,m,b){this.type=Et,this.locale=b,this.caseSensitive=u,this.diacriticSensitive=m}static parse(u,m){if(u.length!==2)return m.error("Expected one argument.");const b=u[1];if(typeof b!="object"||Array.isArray(b))return m.error("Collator options argument must be an object.");const P=m.parse(b["case-sensitive"]!==void 0&&b["case-sensitive"],1,it);if(!P)return null;const N=m.parse(b["diacritic-sensitive"]!==void 0&&b["diacritic-sensitive"],1,it);if(!N)return null;let B=null;return b.locale&&(B=m.parse(b.locale,1,Me),!B)?null:new Sd(P,N,B)}evaluate(u){return new No(this.caseSensitive.evaluate(u),this.diacriticSensitive.evaluate(u),this.locale?this.locale.evaluate(u):null)}eachChild(u){u(this.caseSensitive),u(this.diacriticSensitive),this.locale&&u(this.locale)}outputDefined(){return!1}}const Sl=8192;function Md(f,u){f[0]=Math.min(f[0],u[0]),f[1]=Math.min(f[1],u[1]),f[2]=Math.max(f[2],u[0]),f[3]=Math.max(f[3],u[1])}function Tu(f,u){return!(f[0]<=u[0]||f[2]>=u[2]||f[1]<=u[1]||f[3]>=u[3])}function rx(f,u){const m=(180+f[0])/360,b=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f[1]*Math.PI/360)))/360,P=Math.pow(2,u.z);return[Math.round(m*P*Sl),Math.round(b*P*Sl)]}function G1(f,u,m){const b=f[0]-u[0],P=f[1]-u[1],N=f[0]-m[0],B=f[1]-m[1];return b*B-N*P==0&&b*N<=0&&P*B<=0}function Uh(f,u){let m=!1;for(let B=0,U=u.length;B<U;B++){const Y=u[B];for(let J=0,ne=Y.length;J<ne-1;J++){if(G1(f,Y[J],Y[J+1]))return!1;(P=Y[J])[1]>(b=f)[1]!=(N=Y[J+1])[1]>b[1]&&b[0]<(N[0]-P[0])*(b[1]-P[1])/(N[1]-P[1])+P[0]&&(m=!m)}}var b,P,N;return m}function Vh(f,u){for(let m=0;m<u.length;m++)if(Uh(f,u[m]))return!0;return!1}function Tf(f,u,m,b){const P=b[0]-m[0],N=b[1]-m[1],B=(f[0]-m[0])*N-P*(f[1]-m[1]),U=(u[0]-m[0])*N-P*(u[1]-m[1]);return B>0&&U<0||B<0&&U>0}function q1(f,u,m){for(const J of m)for(let ne=0;ne<J.length-1;++ne)if((U=[(B=J[ne+1])[0]-(N=J[ne])[0],B[1]-N[1]])[0]*(Y=[(P=u)[0]-(b=f)[0],P[1]-b[1]])[1]-U[1]*Y[0]!=0&&Tf(b,P,N,B)&&Tf(N,B,b,P))return!0;var b,P,N,B,U,Y;return!1}function pm(f,u){for(let m=0;m<f.length;++m)if(!Uh(f[m],u))return!1;for(let m=0;m<f.length-1;++m)if(q1(f[m],f[m+1],u))return!1;return!0}function Xr(f,u){for(let m=0;m<u.length;m++)if(pm(f,u[m]))return!0;return!1}function Wh(f,u,m){const b=[];for(let P=0;P<f.length;P++){const N=[];for(let B=0;B<f[P].length;B++){const U=rx(f[P][B],m);Md(u,U),N.push(U)}b.push(N)}return b}function mm(f,u,m){const b=[];for(let P=0;P<f.length;P++){const N=Wh(f[P],u,m);b.push(N)}return b}function Oy(f,u,m,b){if(f[0]<m[0]||f[0]>m[2]){const P=.5*b;let N=f[0]-m[0]>P?-b:m[0]-f[0]>P?b:0;N===0&&(N=f[0]-m[2]>P?-b:m[2]-f[0]>P?b:0),f[0]+=N}Md(u,f)}function Ly(f,u,m,b){const P=Math.pow(2,b.z)*Sl,N=[b.x*Sl,b.y*Sl],B=[];for(const U of f)for(const Y of U){const J=[Y.x+N[0],Y.y+N[1]];Oy(J,u,m,P),B.push(J)}return B}function Dy(f,u,m,b){const P=Math.pow(2,b.z)*Sl,N=[b.x*Sl,b.y*Sl],B=[];for(const Y of f){const J=[];for(const ne of Y){const ae=[ne.x+N[0],ne.y+N[1]];Md(u,ae),J.push(ae)}B.push(J)}if(u[2]-u[0]<=P/2){(U=u)[0]=U[1]=1/0,U[2]=U[3]=-1/0;for(const Y of B)for(const J of Y)Oy(J,u,m,P)}var U;return B}class Ui{constructor(u,m){this.type=it,this.geojson=u,this.geometries=m}static parse(u,m){if(u.length!==2)return m.error(`'within' expression requires exactly one argument, but found ${u.length-1} instead.`);if(Ns(u[1])){const b=u[1];if(b.type==="FeatureCollection")for(let P=0;P<b.features.length;++P){const N=b.features[P].geometry.type;if(N==="Polygon"||N==="MultiPolygon")return new Ui(b,b.features[P].geometry)}else if(b.type==="Feature"){const P=b.geometry.type;if(P==="Polygon"||P==="MultiPolygon")return new Ui(b,b.geometry)}else if(b.type==="Polygon"||b.type==="MultiPolygon")return new Ui(b,b)}return m.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(u.geometry()!=null&&u.canonicalID()!=null){if(u.geometryType()==="Point")return function(m,b){const P=[1/0,1/0,-1/0,-1/0],N=[1/0,1/0,-1/0,-1/0],B=m.canonicalID();if(b.type==="Polygon"){const U=Wh(b.coordinates,N,B),Y=Ly(m.geometry(),P,N,B);if(!Tu(P,N))return!1;for(const J of Y)if(!Uh(J,U))return!1}if(b.type==="MultiPolygon"){const U=mm(b.coordinates,N,B),Y=Ly(m.geometry(),P,N,B);if(!Tu(P,N))return!1;for(const J of Y)if(!Vh(J,U))return!1}return!0}(u,this.geometries);if(u.geometryType()==="LineString")return function(m,b){const P=[1/0,1/0,-1/0,-1/0],N=[1/0,1/0,-1/0,-1/0],B=m.canonicalID();if(b.type==="Polygon"){const U=Wh(b.coordinates,N,B),Y=Dy(m.geometry(),P,N,B);if(!Tu(P,N))return!1;for(const J of Y)if(!pm(J,U))return!1}if(b.type==="MultiPolygon"){const U=mm(b.coordinates,N,B),Y=Dy(m.geometry(),P,N,B);if(!Tu(P,N))return!1;for(const J of Y)if(!Xr(J,U))return!1}return!0}(u,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Cf{constructor(u,m){this.type=m.type,this.name=u,this.boundExpression=m}static parse(u,m){if(u.length!==2||typeof u[1]!="string")return m.error("'var' expression requires exactly one string literal argument.");const b=u[1];return m.scope.has(b)?new Cf(b,m.scope.get(b)):m.error(`Unknown variable "${b}". Make sure "${b}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(u){return this.boundExpression.evaluate(u)}eachChild(){}outputDefined(){return!1}}class Ua{constructor(u,m,b,P){this.name=u,this.type=m,this._evaluate=b,this.args=P}evaluate(u){return this._evaluate(u,this.args)}eachChild(u){this.args.forEach(u)}outputDefined(){return!1}static parse(u,m){const b=u[0],P=Ua.definitions[b];if(!P)return m.error(`Unknown expression "${b}". If you wanted a literal array, use ["literal", [...]].`,0);const N=Array.isArray(P)?P[0]:P.type,B=Array.isArray(P)?[[P[1],P[2]]]:P.overloads,U=B.filter(([J])=>!Array.isArray(J)||J.length===u.length-1);let Y=null;for(const[J,ne]of U){Y=new hm(m.registry,Af,m.path,null,m.scope);const ae=[];let ye=!1;for(let Se=1;Se<u.length;Se++){const Ee=u[Se],De=Array.isArray(J)?J[Se-1]:J.type,He=Y.parse(Ee,1+ae.length,De);if(!He){ye=!0;break}ae.push(He)}if(!ye)if(Array.isArray(J)&&J.length!==ae.length)Y.error(`Expected ${J.length} arguments, but found ${ae.length} instead.`);else{for(let Se=0;Se<ae.length;Se++){const Ee=Array.isArray(J)?J[Se]:J.type,De=ae[Se];Y.concat(Se+1).checkSubtype(Ee,De.type)}if(Y.errors.length===0)return new Ua(b,N,ne,ae)}}if(U.length===1)m.errors.push(...Y.errors);else{const J=(U.length?U:B).map(([ae])=>{return ye=ae,Array.isArray(ye)?`(${ye.map(Ne).join(", ")})`:`(${Ne(ye.type)}...)`;var ye}).join(" | "),ne=[];for(let ae=1;ae<u.length;ae++){const ye=m.parse(u[ae],1+ne.length);if(!ye)return null;ne.push(Ne(ye.type))}m.error(`Expected arguments of type ${J}, but found (${ne.join(", ")}) instead.`)}return null}static register(u,m){Ua.definitions=m;for(const b in m)u[b]=Ua}}function Af(f){if(f instanceof Cf)return Af(f.boundExpression);if(f instanceof Ua&&f.name==="error"||f instanceof Sd||f instanceof Ui)return!1;const u=f instanceof To||f instanceof pi;let m=!0;return f.eachChild(b=>{m=u?m&&Af(b):m&&b instanceof Si}),!!m&&gm(f)&&va(f,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function gm(f){if(f instanceof Ua&&(f.name==="get"&&f.args.length===1||f.name==="feature-state"||f.name==="has"&&f.args.length===1||f.name==="properties"||f.name==="geometry-type"||f.name==="id"||/^filter-/.test(f.name))||f instanceof Ui)return!1;let u=!0;return f.eachChild(m=>{u&&!gm(m)&&(u=!1)}),u}function Cu(f){if(f instanceof Ua&&f.name==="feature-state")return!1;let u=!0;return f.eachChild(m=>{u&&!Cu(m)&&(u=!1)}),u}function va(f,u){if(f instanceof Ua&&u.indexOf(f.name)>=0)return!1;let m=!0;return f.eachChild(b=>{m&&!va(b,u)&&(m=!1)}),m}function Pf(f,u){const m=f.length-1;let b,P,N=0,B=m,U=0;for(;N<=B;)if(U=Math.floor((N+B)/2),b=f[U],P=f[U+1],b<=u){if(U===m||u<P)return U;N=U+1}else{if(!(b>u))throw new Zr("Input is not a number.");B=U-1}return 0}class Au{constructor(u,m,b){this.type=u,this.input=m,this.labels=[],this.outputs=[];for(const[P,N]of b)this.labels.push(P),this.outputs.push(N)}static parse(u,m){if(u.length-1<4)return m.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return m.error("Expected an even number of arguments.");const b=m.parse(u[1],1,Ve);if(!b)return null;const P=[];let N=null;m.expectedType&&m.expectedType.kind!=="value"&&(N=m.expectedType);for(let B=1;B<u.length;B+=2){const U=B===1?-1/0:u[B],Y=u[B+1],J=B,ne=B+1;if(typeof U!="number")return m.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',J);if(P.length&&P[P.length-1][0]>=U)return m.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',J);const ae=m.parse(Y,ne,N);if(!ae)return null;N=N||ae.type,P.push([U,ae])}return new Au(N,b,P)}evaluate(u){const m=this.labels,b=this.outputs;if(m.length===1)return b[0].evaluate(u);const P=this.input.evaluate(u);if(P<=m[0])return b[0].evaluate(u);const N=m.length;return P>=m[N-1]?b[N-1].evaluate(u):b[Pf(m,P)].evaluate(u)}eachChild(u){u(this.input);for(const m of this.outputs)u(m)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function yr(f,u,m){return f+m*(u-f)}function Va(f,u,m){return f.map((b,P)=>yr(b,u[P],m))}const Cs={number:yr,color:function(f,u,m,b="rgb"){switch(b){case"rgb":{const[P,N,B,U]=Va(f.rgb,u.rgb,m);return new ar(P,N,B,U,!1)}case"hcl":{const[P,N,B,U]=f.hcl,[Y,J,ne,ae]=u.hcl;let ye,Se;if(isNaN(P)||isNaN(Y))isNaN(P)?isNaN(Y)?ye=NaN:(ye=Y,B!==1&&B!==0||(Se=J)):(ye=P,ne!==1&&ne!==0||(Se=N));else{let pt=Y-P;Y>P&&pt>180?pt-=360:Y<P&&P-Y>180&&(pt+=360),ye=P+m*pt}const[Ee,De,He,Ye]=function([pt,nt,xt,It]){return pt=isNaN(pt)?0:pt*sr,vt([xt,Math.cos(pt)*nt,Math.sin(pt)*nt,It])}([ye,Se??yr(N,J,m),yr(B,ne,m),yr(U,ae,m)]);return new ar(Ee,De,He,Ye,!1)}case"lab":{const[P,N,B,U]=vt(Va(f.lab,u.lab,m));return new ar(P,N,B,U,!1)}}},array:Va,padding:function(f,u,m){return new Zn(Va(f.values,u.values,m))},variableAnchorOffsetCollection:function(f,u,m){const b=f.values,P=u.values;if(b.length!==P.length)throw new Zr(`Cannot interpolate values of different length. from: ${f.toString()}, to: ${u.toString()}`);const N=[];for(let B=0;B<b.length;B+=2){if(b[B]!==P[B])throw new Zr(`Cannot interpolate values containing mismatched anchors. from[${B}]: ${b[B]}, to[${B}]: ${P[B]}`);N.push(b[B]);const[U,Y]=b[B+1],[J,ne]=P[B+1];N.push([yr(U,J,m),yr(Y,ne,m)])}return new to(N)}};class zs{constructor(u,m,b,P,N){this.type=u,this.operator=m,this.interpolation=b,this.input=P,this.labels=[],this.outputs=[];for(const[B,U]of N)this.labels.push(B),this.outputs.push(U)}static interpolationFactor(u,m,b,P){let N=0;if(u.name==="exponential")N=ym(m,u.base,b,P);else if(u.name==="linear")N=ym(m,1,b,P);else if(u.name==="cubic-bezier"){const B=u.controlPoints;N=new _(B[0],B[1],B[2],B[3]).solve(ym(m,1,b,P))}return N}static parse(u,m){let[b,P,N,...B]=u;if(!Array.isArray(P)||P.length===0)return m.error("Expected an interpolation type expression.",1);if(P[0]==="linear")P={name:"linear"};else if(P[0]==="exponential"){const J=P[1];if(typeof J!="number")return m.error("Exponential interpolation requires a numeric base.",1,1);P={name:"exponential",base:J}}else{if(P[0]!=="cubic-bezier")return m.error(`Unknown interpolation type ${String(P[0])}`,1,0);{const J=P.slice(1);if(J.length!==4||J.some(ne=>typeof ne!="number"||ne<0||ne>1))return m.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);P={name:"cubic-bezier",controlPoints:J}}}if(u.length-1<4)return m.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return m.error("Expected an even number of arguments.");if(N=m.parse(N,2,Ve),!N)return null;const U=[];let Y=null;b==="interpolate-hcl"||b==="interpolate-lab"?Y=en:m.expectedType&&m.expectedType.kind!=="value"&&(Y=m.expectedType);for(let J=0;J<B.length;J+=2){const ne=B[J],ae=B[J+1],ye=J+3,Se=J+4;if(typeof ne!="number")return m.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ye);if(U.length&&U[U.length-1][0]>=ne)return m.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ye);const Ee=m.parse(ae,Se,Y);if(!Ee)return null;Y=Y||Ee.type,U.push([ne,Ee])}return Nt(Y,Ve)||Nt(Y,en)||Nt(Y,oe)||Nt(Y,Te)||Nt(Y,Pe(Ve))?new zs(Y,b,P,N,U):m.error(`Type ${Ne(Y)} is not interpolatable.`)}evaluate(u){const m=this.labels,b=this.outputs;if(m.length===1)return b[0].evaluate(u);const P=this.input.evaluate(u);if(P<=m[0])return b[0].evaluate(u);const N=m.length;if(P>=m[N-1])return b[N-1].evaluate(u);const B=Pf(m,P),U=zs.interpolationFactor(this.interpolation,P,m[B],m[B+1]),Y=b[B].evaluate(u),J=b[B+1].evaluate(u);switch(this.operator){case"interpolate":return Cs[this.type.kind](Y,J,U);case"interpolate-hcl":return Cs.color(Y,J,U,"hcl");case"interpolate-lab":return Cs.color(Y,J,U,"lab")}}eachChild(u){u(this.input);for(const m of this.outputs)u(m)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function ym(f,u,m,b){const P=b-m,N=f-m;return P===0?0:u===1?N/P:(Math.pow(u,N)-1)/(Math.pow(u,P)-1)}class vm{constructor(u,m){this.type=u,this.args=m}static parse(u,m){if(u.length<2)return m.error("Expectected at least one argument.");let b=null;const P=m.expectedType;P&&P.kind!=="value"&&(b=P);const N=[];for(const U of u.slice(1)){const Y=m.parse(U,1+N.length,b,void 0,{typeAnnotation:"omit"});if(!Y)return null;b=b||Y.type,N.push(Y)}if(!b)throw new Error("No output type");const B=P&&N.some(U=>qe(P,U.type));return new vm(B?kt:b,N)}evaluate(u){let m,b=null,P=0;for(const N of this.args)if(P++,b=N.evaluate(u),b&&b instanceof tr&&!b.available&&(m||(m=b.name),b=null,P===this.args.length&&(b=m)),b!==null)break;return b}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}class xa{constructor(u,m){this.type=m.type,this.bindings=[].concat(u),this.result=m}evaluate(u){return this.result.evaluate(u)}eachChild(u){for(const m of this.bindings)u(m[1]);u(this.result)}static parse(u,m){if(u.length<4)return m.error(`Expected at least 3 arguments, but found ${u.length-1} instead.`);const b=[];for(let N=1;N<u.length-1;N+=2){const B=u[N];if(typeof B!="string")return m.error(`Expected string, but found ${typeof B} instead.`,N);if(/[^a-zA-Z0-9_]/.test(B))return m.error("Variable names must contain only alphanumeric characters or '_'.",N);const U=m.parse(u[N+1],N+1);if(!U)return null;b.push([B,U])}const P=m.parse(u[u.length-1],u.length-1,m.expectedType,b);return P?new xa(b,P):null}outputDefined(){return this.result.outputDefined()}}class Ny{constructor(u,m,b){this.type=u,this.index=m,this.input=b}static parse(u,m){if(u.length!==3)return m.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const b=m.parse(u[1],1,Ve),P=m.parse(u[2],2,Pe(m.expectedType||kt));return b&&P?new Ny(P.type.itemType,b,P):null}evaluate(u){const m=this.index.evaluate(u),b=this.input.evaluate(u);if(m<0)throw new Zr(`Array index out of bounds: ${m} < 0.`);if(m>=b.length)throw new Zr(`Array index out of bounds: ${m} > ${b.length-1}.`);if(m!==Math.floor(m))throw new Zr(`Array index must be an integer, but found ${m} instead.`);return b[m]}eachChild(u){u(this.index),u(this.input)}outputDefined(){return!1}}class If{constructor(u,m){this.type=it,this.needle=u,this.haystack=m}static parse(u,m){if(u.length!==3)return m.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const b=m.parse(u[1],1,kt),P=m.parse(u[2],2,kt);return b&&P?je(b.type,[it,Me,Ve,ke,kt])?new If(b,P):m.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(b.type)} instead`):null}evaluate(u){const m=this.needle.evaluate(u),b=this.haystack.evaluate(u);if(!b)return!1;if(!tt(m,["boolean","string","number","null"]))throw new Zr(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(Ur(m))} instead.`);if(!tt(b,["string","array"]))throw new Zr(`Expected second argument to be of type array or string, but found ${Ne(Ur(b))} instead.`);return b.indexOf(m)>=0}eachChild(u){u(this.needle),u(this.haystack)}outputDefined(){return!0}}class xm{constructor(u,m,b){this.type=Ve,this.needle=u,this.haystack=m,this.fromIndex=b}static parse(u,m){if(u.length<=2||u.length>=5)return m.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const b=m.parse(u[1],1,kt),P=m.parse(u[2],2,kt);if(!b||!P)return null;if(!je(b.type,[it,Me,Ve,ke,kt]))return m.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(b.type)} instead`);if(u.length===4){const N=m.parse(u[3],3,Ve);return N?new xm(b,P,N):null}return new xm(b,P)}evaluate(u){const m=this.needle.evaluate(u),b=this.haystack.evaluate(u);if(!tt(m,["boolean","string","number","null"]))throw new Zr(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(Ur(m))} instead.`);if(!tt(b,["string","array"]))throw new Zr(`Expected second argument to be of type array or string, but found ${Ne(Ur(b))} instead.`);if(this.fromIndex){const P=this.fromIndex.evaluate(u);return b.indexOf(m,P)}return b.indexOf(m)}eachChild(u){u(this.needle),u(this.haystack),this.fromIndex&&u(this.fromIndex)}outputDefined(){return!1}}class _a{constructor(u,m,b,P,N,B){this.inputType=u,this.type=m,this.input=b,this.cases=P,this.outputs=N,this.otherwise=B}static parse(u,m){if(u.length<5)return m.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if(u.length%2!=1)return m.error("Expected an even number of arguments.");let b,P;m.expectedType&&m.expectedType.kind!=="value"&&(P=m.expectedType);const N={},B=[];for(let J=2;J<u.length-1;J+=2){let ne=u[J];const ae=u[J+1];Array.isArray(ne)||(ne=[ne]);const ye=m.concat(J);if(ne.length===0)return ye.error("Expected at least one branch label.");for(const Ee of ne){if(typeof Ee!="number"&&typeof Ee!="string")return ye.error("Branch labels must be numbers or strings.");if(typeof Ee=="number"&&Math.abs(Ee)>Number.MAX_SAFE_INTEGER)return ye.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Ee=="number"&&Math.floor(Ee)!==Ee)return ye.error("Numeric branch labels must be integer values.");if(b){if(ye.checkSubtype(b,Ur(Ee)))return null}else b=Ur(Ee);if(N[String(Ee)]!==void 0)return ye.error("Branch labels must be unique.");N[String(Ee)]=B.length}const Se=m.parse(ae,J,P);if(!Se)return null;P=P||Se.type,B.push(Se)}const U=m.parse(u[1],1,kt);if(!U)return null;const Y=m.parse(u[u.length-1],u.length-1,P);return Y?U.type.kind!=="value"&&m.concat(1).checkSubtype(b,U.type)?null:new _a(b,P,U,N,B,Y):null}evaluate(u){const m=this.input.evaluate(u);return(Ur(m)===this.inputType&&this.outputs[this.cases[m]]||this.otherwise).evaluate(u)}eachChild(u){u(this.input),this.outputs.forEach(u),u(this.otherwise)}outputDefined(){return this.outputs.every(u=>u.outputDefined())&&this.otherwise.outputDefined()}}class kf{constructor(u,m,b){this.type=u,this.branches=m,this.otherwise=b}static parse(u,m){if(u.length<4)return m.error(`Expected at least 3 arguments, but found only ${u.length-1}.`);if(u.length%2!=0)return m.error("Expected an odd number of arguments.");let b;m.expectedType&&m.expectedType.kind!=="value"&&(b=m.expectedType);const P=[];for(let B=1;B<u.length-1;B+=2){const U=m.parse(u[B],B,it);if(!U)return null;const Y=m.parse(u[B+1],B+1,b);if(!Y)return null;P.push([U,Y]),b=b||Y.type}const N=m.parse(u[u.length-1],u.length-1,b);if(!N)return null;if(!b)throw new Error("Can't infer output type");return new kf(b,P,N)}evaluate(u){for(const[m,b]of this.branches)if(m.evaluate(u))return b.evaluate(u);return this.otherwise.evaluate(u)}eachChild(u){for(const[m,b]of this.branches)u(m),u(b);u(this.otherwise)}outputDefined(){return this.branches.every(([u,m])=>m.outputDefined())&&this.otherwise.outputDefined()}}class Ed{constructor(u,m,b,P){this.type=u,this.input=m,this.beginIndex=b,this.endIndex=P}static parse(u,m){if(u.length<=2||u.length>=5)return m.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const b=m.parse(u[1],1,kt),P=m.parse(u[2],2,Ve);if(!b||!P)return null;if(!je(b.type,[Pe(kt),Me,kt]))return m.error(`Expected first argument to be of type array or string, but found ${Ne(b.type)} instead`);if(u.length===4){const N=m.parse(u[3],3,Ve);return N?new Ed(b.type,b,P,N):null}return new Ed(b.type,b,P)}evaluate(u){const m=this.input.evaluate(u),b=this.beginIndex.evaluate(u);if(!tt(m,["string","array"]))throw new Zr(`Expected first argument to be of type array or string, but found ${Ne(Ur(m))} instead.`);if(this.endIndex){const P=this.endIndex.evaluate(u);return m.slice(b,P)}return m.slice(b)}eachChild(u){u(this.input),u(this.beginIndex),this.endIndex&&u(this.endIndex)}outputDefined(){return!1}}function Td(f,u){return f==="=="||f==="!="?u.kind==="boolean"||u.kind==="string"||u.kind==="number"||u.kind==="null"||u.kind==="value":u.kind==="string"||u.kind==="number"||u.kind==="value"}function _m(f,u,m,b){return b.compare(u,m)===0}function Pu(f,u,m){const b=f!=="=="&&f!=="!=";return class Xre{constructor(N,B,U){this.type=it,this.lhs=N,this.rhs=B,this.collator=U,this.hasUntypedArgument=N.type.kind==="value"||B.type.kind==="value"}static parse(N,B){if(N.length!==3&&N.length!==4)return B.error("Expected two or three arguments.");const U=N[0];let Y=B.parse(N[1],1,kt);if(!Y)return null;if(!Td(U,Y.type))return B.concat(1).error(`"${U}" comparisons are not supported for type '${Ne(Y.type)}'.`);let J=B.parse(N[2],2,kt);if(!J)return null;if(!Td(U,J.type))return B.concat(2).error(`"${U}" comparisons are not supported for type '${Ne(J.type)}'.`);if(Y.type.kind!==J.type.kind&&Y.type.kind!=="value"&&J.type.kind!=="value")return B.error(`Cannot compare types '${Ne(Y.type)}' and '${Ne(J.type)}'.`);b&&(Y.type.kind==="value"&&J.type.kind!=="value"?Y=new pi(J.type,[Y]):Y.type.kind!=="value"&&J.type.kind==="value"&&(J=new pi(Y.type,[J])));let ne=null;if(N.length===4){if(Y.type.kind!=="string"&&J.type.kind!=="string"&&Y.type.kind!=="value"&&J.type.kind!=="value")return B.error("Cannot use collator to compare non-string types.");if(ne=B.parse(N[3],3,Et),!ne)return null}return new Xre(Y,J,ne)}evaluate(N){const B=this.lhs.evaluate(N),U=this.rhs.evaluate(N);if(b&&this.hasUntypedArgument){const Y=Ur(B),J=Ur(U);if(Y.kind!==J.kind||Y.kind!=="string"&&Y.kind!=="number")throw new Zr(`Expected arguments for "${f}" to be (string, string) or (number, number), but found (${Y.kind}, ${J.kind}) instead.`)}if(this.collator&&!b&&this.hasUntypedArgument){const Y=Ur(B),J=Ur(U);if(Y.kind!=="string"||J.kind!=="string")return u(N,B,U)}return this.collator?m(N,B,U,this.collator.evaluate(N)):u(N,B,U)}eachChild(N){N(this.lhs),N(this.rhs),this.collator&&N(this.collator)}outputDefined(){return!0}}}const ix=Pu("==",function(f,u,m){return u===m},_m),zy=Pu("!=",function(f,u,m){return u!==m},function(f,u,m,b){return!_m(0,u,m,b)}),By=Pu("<",function(f,u,m){return u<m},function(f,u,m,b){return b.compare(u,m)<0}),Rf=Pu(">",function(f,u,m){return u>m},function(f,u,m,b){return b.compare(u,m)>0}),Wa=Pu("<=",function(f,u,m){return u<=m},function(f,u,m,b){return b.compare(u,m)<=0}),ec=Pu(">=",function(f,u,m){return u>=m},function(f,u,m,b){return b.compare(u,m)>=0});class tc{constructor(u,m,b,P,N){this.type=Me,this.number=u,this.locale=m,this.currency=b,this.minFractionDigits=P,this.maxFractionDigits=N}static parse(u,m){if(u.length!==3)return m.error("Expected two arguments.");const b=m.parse(u[1],1,Ve);if(!b)return null;const P=u[2];if(typeof P!="object"||Array.isArray(P))return m.error("NumberFormat options argument must be an object.");let N=null;if(P.locale&&(N=m.parse(P.locale,1,Me),!N))return null;let B=null;if(P.currency&&(B=m.parse(P.currency,1,Me),!B))return null;let U=null;if(P["min-fraction-digits"]&&(U=m.parse(P["min-fraction-digits"],1,Ve),!U))return null;let Y=null;return P["max-fraction-digits"]&&(Y=m.parse(P["max-fraction-digits"],1,Ve),!Y)?null:new tc(b,N,B,U,Y)}evaluate(u){return new Intl.NumberFormat(this.locale?this.locale.evaluate(u):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(u):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(u):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(u):void 0}).format(this.number.evaluate(u))}eachChild(u){u(this.number),this.locale&&u(this.locale),this.currency&&u(this.currency),this.minFractionDigits&&u(this.minFractionDigits),this.maxFractionDigits&&u(this.maxFractionDigits)}outputDefined(){return!1}}class Of{constructor(u){this.type=we,this.sections=u}static parse(u,m){if(u.length<2)return m.error("Expected at least one argument.");const b=u[1];if(!Array.isArray(b)&&typeof b=="object")return m.error("First argument must be an image or text section.");const P=[];let N=!1;for(let B=1;B<=u.length-1;++B){const U=u[B];if(N&&typeof U=="object"&&!Array.isArray(U)){N=!1;let Y=null;if(U["font-scale"]&&(Y=m.parse(U["font-scale"],1,Ve),!Y))return null;let J=null;if(U["text-font"]&&(J=m.parse(U["text-font"],1,Pe(Me)),!J))return null;let ne=null;if(U["text-color"]&&(ne=m.parse(U["text-color"],1,en),!ne))return null;const ae=P[P.length-1];ae.scale=Y,ae.font=J,ae.textColor=ne}else{const Y=m.parse(u[B],1,kt);if(!Y)return null;const J=Y.type.kind;if(J!=="string"&&J!=="value"&&J!=="null"&&J!=="resolvedImage")return m.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");N=!0,P.push({content:Y,scale:null,font:null,textColor:null})}}return new Of(P)}evaluate(u){return new Yr(this.sections.map(m=>{const b=m.content.evaluate(u);return Ur(b)===pe?new hi("",b,null,null,null):new hi(hr(b),null,m.scale?m.scale.evaluate(u):null,m.font?m.font.evaluate(u).join(","):null,m.textColor?m.textColor.evaluate(u):null)}))}eachChild(u){for(const m of this.sections)u(m.content),m.scale&&u(m.scale),m.font&&u(m.font),m.textColor&&u(m.textColor)}outputDefined(){return!1}}class bm{constructor(u){this.type=pe,this.input=u}static parse(u,m){if(u.length!==2)return m.error("Expected two arguments.");const b=m.parse(u[1],1,Me);return b?new bm(b):m.error("No image name provided.")}evaluate(u){const m=this.input.evaluate(u),b=tr.fromString(m);return b&&u.availableImages&&(b.available=u.availableImages.indexOf(m)>-1),b}eachChild(u){u(this.input)}outputDefined(){return!1}}class Ml{constructor(u){this.type=Ve,this.input=u}static parse(u,m){if(u.length!==2)return m.error(`Expected 1 argument, but found ${u.length-1} instead.`);const b=m.parse(u[1],1);return b?b.type.kind!=="array"&&b.type.kind!=="string"&&b.type.kind!=="value"?m.error(`Expected argument of type string or array, but found ${Ne(b.type)} instead.`):new Ml(b):null}evaluate(u){const m=this.input.evaluate(u);if(typeof m=="string"||Array.isArray(m))return m.length;throw new Zr(`Expected value to be of type string or array, but found ${Ne(Ur(m))} instead.`)}eachChild(u){u(this.input)}outputDefined(){return!1}}const ba={"==":ix,"!=":zy,">":Rf,"<":By,">=":ec,"<=":Wa,array:pi,at:Ny,boolean:pi,case:kf,coalesce:vm,collator:Sd,format:Of,image:bm,in:If,"index-of":xm,interpolate:zs,"interpolate-hcl":zs,"interpolate-lab":zs,length:Ml,let:xa,literal:Si,match:_a,number:pi,"number-format":tc,object:pi,slice:Ed,step:Au,string:pi,"to-boolean":To,"to-color":To,"to-number":To,"to-string":To,var:Cf,within:Ui};function Hh(f,[u,m,b,P]){u=u.evaluate(f),m=m.evaluate(f),b=b.evaluate(f);const N=P?P.evaluate(f):1,B=Li(u,m,b,N);if(B)throw new Zr(B);return new ar(u/255,m/255,b/255,N,!1)}function Fy(f,u){return f in u}function Lf(f,u){const m=u[f];return m===void 0?null:m}function Iu(f){return{type:f}}function $y(f){return{result:"success",value:f}}function nc(f){return{result:"error",value:f}}function Oc(f){return f["property-type"]==="data-driven"||f["property-type"]==="cross-faded-data-driven"}function jy(f){return!!f.expression&&f.expression.parameters.indexOf("zoom")>-1}function wm(f){return!!f.expression&&f.expression.interpolated}function Wr(f){return f instanceof Number?"number":f instanceof String?"string":f instanceof Boolean?"boolean":Array.isArray(f)?"array":f===null?"null":typeof f}function Oi(f){return typeof f=="object"&&f!==null&&!Array.isArray(f)}function Df(f){return f}function Sr(f,u){const m=u.type==="color",b=f.stops&&typeof f.stops[0][0]=="object",P=b||!(b||f.property!==void 0),N=f.type||(wm(u)?"exponential":"interval");if(m||u.type==="padding"){const ne=m?ar.parse:Zn.parse;(f=un({},f)).stops&&(f.stops=f.stops.map(ae=>[ae[0],ne(ae[1])])),f.default=ne(f.default?f.default:u.default)}if(f.colorSpace&&(B=f.colorSpace)!=="rgb"&&B!=="hcl"&&B!=="lab")throw new Error(`Unknown color space: "${f.colorSpace}"`);var B;let U,Y,J;if(N==="exponential")U=As;else if(N==="interval")U=jr;else if(N==="categorical"){U=Mi,Y=Object.create(null);for(const ne of f.stops)Y[ne[0]]=ne[1];J=typeof f.stops[0][0]}else{if(N!=="identity")throw new Error(`Unknown function type "${N}"`);U=ku}if(b){const ne={},ae=[];for(let Ee=0;Ee<f.stops.length;Ee++){const De=f.stops[Ee],He=De[0].zoom;ne[He]===void 0&&(ne[He]={zoom:He,type:f.type,property:f.property,default:f.default,stops:[]},ae.push(He)),ne[He].stops.push([De[0].value,De[1]])}const ye=[];for(const Ee of ae)ye.push([ne[Ee].zoom,Sr(ne[Ee],u)]);const Se={name:"linear"};return{kind:"composite",interpolationType:Se,interpolationFactor:zs.interpolationFactor.bind(void 0,Se),zoomStops:ye.map(Ee=>Ee[0]),evaluate:({zoom:Ee},De)=>As({stops:ye,base:f.base},u,Ee).evaluate(Ee,De)}}if(P){const ne=N==="exponential"?{name:"exponential",base:f.base!==void 0?f.base:1}:null;return{kind:"camera",interpolationType:ne,interpolationFactor:zs.interpolationFactor.bind(void 0,ne),zoomStops:f.stops.map(ae=>ae[0]),evaluate:({zoom:ae})=>U(f,u,ae,Y,J)}}return{kind:"source",evaluate(ne,ae){const ye=ae&&ae.properties?ae.properties[f.property]:void 0;return ye===void 0?rc(f.default,u.default):U(f,u,ye,Y,J)}}}function rc(f,u,m){return f!==void 0?f:u!==void 0?u:m!==void 0?m:void 0}function Mi(f,u,m,b,P){return rc(typeof m===P?b[m]:void 0,f.default,u.default)}function jr(f,u,m){if(Wr(m)!=="number")return rc(f.default,u.default);const b=f.stops.length;if(b===1||m<=f.stops[0][0])return f.stops[0][1];if(m>=f.stops[b-1][0])return f.stops[b-1][1];const P=Pf(f.stops.map(N=>N[0]),m);return f.stops[P][1]}function As(f,u,m){const b=f.base!==void 0?f.base:1;if(Wr(m)!=="number")return rc(f.default,u.default);const P=f.stops.length;if(P===1||m<=f.stops[0][0])return f.stops[0][1];if(m>=f.stops[P-1][0])return f.stops[P-1][1];const N=Pf(f.stops.map(ne=>ne[0]),m),B=function(ne,ae,ye,Se){const Ee=Se-ye,De=ne-ye;return Ee===0?0:ae===1?De/Ee:(Math.pow(ae,De)-1)/(Math.pow(ae,Ee)-1)}(m,b,f.stops[N][0],f.stops[N+1][0]),U=f.stops[N][1],Y=f.stops[N+1][1],J=Cs[u.type]||Df;return typeof U.evaluate=="function"?{evaluate(...ne){const ae=U.evaluate.apply(void 0,ne),ye=Y.evaluate.apply(void 0,ne);if(ae!==void 0&&ye!==void 0)return J(ae,ye,B,f.colorSpace)}}:J(U,Y,B,f.colorSpace)}function ku(f,u,m){switch(u.type){case"color":m=ar.parse(m);break;case"formatted":m=Yr.fromString(m.toString());break;case"resolvedImage":m=tr.fromString(m.toString());break;case"padding":m=Zn.parse(m);break;default:Wr(m)===u.type||u.type==="enum"&&u.values[m]||(m=void 0)}return rc(m,f.default,u.default)}Ua.register(ba,{error:[{kind:"error"},[Me],(f,[u])=>{throw new Zr(u.evaluate(f))}],typeof:[Me,[kt],(f,[u])=>Ne(Ur(u.evaluate(f)))],"to-rgba":[Pe(Ve,4),[en],(f,[u])=>{const[m,b,P,N]=u.evaluate(f).rgb;return[255*m,255*b,255*P,N]}],rgb:[en,[Ve,Ve,Ve],Hh],rgba:[en,[Ve,Ve,Ve,Ve],Hh],has:{type:it,overloads:[[[Me],(f,[u])=>Fy(u.evaluate(f),f.properties())],[[Me,Xe],(f,[u,m])=>Fy(u.evaluate(f),m.evaluate(f))]]},get:{type:kt,overloads:[[[Me],(f,[u])=>Lf(u.evaluate(f),f.properties())],[[Me,Xe],(f,[u,m])=>Lf(u.evaluate(f),m.evaluate(f))]]},"feature-state":[kt,[Me],(f,[u])=>Lf(u.evaluate(f),f.featureState||{})],properties:[Xe,[],f=>f.properties()],"geometry-type":[Me,[],f=>f.geometryType()],id:[kt,[],f=>f.id()],zoom:[Ve,[],f=>f.globals.zoom],"heatmap-density":[Ve,[],f=>f.globals.heatmapDensity||0],"line-progress":[Ve,[],f=>f.globals.lineProgress||0],accumulated:[kt,[],f=>f.globals.accumulated===void 0?null:f.globals.accumulated],"+":[Ve,Iu(Ve),(f,u)=>{let m=0;for(const b of u)m+=b.evaluate(f);return m}],"*":[Ve,Iu(Ve),(f,u)=>{let m=1;for(const b of u)m*=b.evaluate(f);return m}],"-":{type:Ve,overloads:[[[Ve,Ve],(f,[u,m])=>u.evaluate(f)-m.evaluate(f)],[[Ve],(f,[u])=>-u.evaluate(f)]]},"/":[Ve,[Ve,Ve],(f,[u,m])=>u.evaluate(f)/m.evaluate(f)],"%":[Ve,[Ve,Ve],(f,[u,m])=>u.evaluate(f)%m.evaluate(f)],ln2:[Ve,[],()=>Math.LN2],pi:[Ve,[],()=>Math.PI],e:[Ve,[],()=>Math.E],"^":[Ve,[Ve,Ve],(f,[u,m])=>Math.pow(u.evaluate(f),m.evaluate(f))],sqrt:[Ve,[Ve],(f,[u])=>Math.sqrt(u.evaluate(f))],log10:[Ve,[Ve],(f,[u])=>Math.log(u.evaluate(f))/Math.LN10],ln:[Ve,[Ve],(f,[u])=>Math.log(u.evaluate(f))],log2:[Ve,[Ve],(f,[u])=>Math.log(u.evaluate(f))/Math.LN2],sin:[Ve,[Ve],(f,[u])=>Math.sin(u.evaluate(f))],cos:[Ve,[Ve],(f,[u])=>Math.cos(u.evaluate(f))],tan:[Ve,[Ve],(f,[u])=>Math.tan(u.evaluate(f))],asin:[Ve,[Ve],(f,[u])=>Math.asin(u.evaluate(f))],acos:[Ve,[Ve],(f,[u])=>Math.acos(u.evaluate(f))],atan:[Ve,[Ve],(f,[u])=>Math.atan(u.evaluate(f))],min:[Ve,Iu(Ve),(f,u)=>Math.min(...u.map(m=>m.evaluate(f)))],max:[Ve,Iu(Ve),(f,u)=>Math.max(...u.map(m=>m.evaluate(f)))],abs:[Ve,[Ve],(f,[u])=>Math.abs(u.evaluate(f))],round:[Ve,[Ve],(f,[u])=>{const m=u.evaluate(f);return m<0?-Math.round(-m):Math.round(m)}],floor:[Ve,[Ve],(f,[u])=>Math.floor(u.evaluate(f))],ceil:[Ve,[Ve],(f,[u])=>Math.ceil(u.evaluate(f))],"filter-==":[it,[Me,kt],(f,[u,m])=>f.properties()[u.value]===m.value],"filter-id-==":[it,[kt],(f,[u])=>f.id()===u.value],"filter-type-==":[it,[Me],(f,[u])=>f.geometryType()===u.value],"filter-<":[it,[Me,kt],(f,[u,m])=>{const b=f.properties()[u.value],P=m.value;return typeof b==typeof P&&b<P}],"filter-id-<":[it,[kt],(f,[u])=>{const m=f.id(),b=u.value;return typeof m==typeof b&&m<b}],"filter->":[it,[Me,kt],(f,[u,m])=>{const b=f.properties()[u.value],P=m.value;return typeof b==typeof P&&b>P}],"filter-id->":[it,[kt],(f,[u])=>{const m=f.id(),b=u.value;return typeof m==typeof b&&m>b}],"filter-<=":[it,[Me,kt],(f,[u,m])=>{const b=f.properties()[u.value],P=m.value;return typeof b==typeof P&&b<=P}],"filter-id-<=":[it,[kt],(f,[u])=>{const m=f.id(),b=u.value;return typeof m==typeof b&&m<=b}],"filter->=":[it,[Me,kt],(f,[u,m])=>{const b=f.properties()[u.value],P=m.value;return typeof b==typeof P&&b>=P}],"filter-id->=":[it,[kt],(f,[u])=>{const m=f.id(),b=u.value;return typeof m==typeof b&&m>=b}],"filter-has":[it,[kt],(f,[u])=>u.value in f.properties()],"filter-has-id":[it,[],f=>f.id()!==null&&f.id()!==void 0],"filter-type-in":[it,[Pe(Me)],(f,[u])=>u.value.indexOf(f.geometryType())>=0],"filter-id-in":[it,[Pe(kt)],(f,[u])=>u.value.indexOf(f.id())>=0],"filter-in-small":[it,[Me,Pe(kt)],(f,[u,m])=>m.value.indexOf(f.properties()[u.value])>=0],"filter-in-large":[it,[Me,Pe(kt)],(f,[u,m])=>function(b,P,N,B){for(;N<=B;){const U=N+B>>1;if(P[U]===b)return!0;P[U]>b?B=U-1:N=U+1}return!1}(f.properties()[u.value],m.value,0,m.value.length-1)],all:{type:it,overloads:[[[it,it],(f,[u,m])=>u.evaluate(f)&&m.evaluate(f)],[Iu(it),(f,u)=>{for(const m of u)if(!m.evaluate(f))return!1;return!0}]]},any:{type:it,overloads:[[[it,it],(f,[u,m])=>u.evaluate(f)||m.evaluate(f)],[Iu(it),(f,u)=>{for(const m of u)if(m.evaluate(f))return!0;return!1}]]},"!":[it,[it],(f,[u])=>!u.evaluate(f)],"is-supported-script":[it,[Me],(f,[u])=>{const m=f.globals&&f.globals.isSupportedScript;return!m||m(u.evaluate(f))}],upcase:[Me,[Me],(f,[u])=>u.evaluate(f).toUpperCase()],downcase:[Me,[Me],(f,[u])=>u.evaluate(f).toLowerCase()],concat:[Me,Iu(kt),(f,u)=>u.map(m=>hr(m.evaluate(f))).join("")],"resolved-locale":[Me,[Et],(f,[u])=>u.evaluate(f).resolvedLocale()]});class El{constructor(u,m){var b;this.expression=u,this._warningHistory={},this._evaluator=new Ry,this._defaultValue=m?(b=m).type==="color"&&Oi(b.default)?new ar(0,0,0,0):b.type==="color"?ar.parse(b.default)||null:b.type==="padding"?Zn.parse(b.default)||null:b.type==="variableAnchorOffsetCollection"?to.parse(b.default)||null:b.default===void 0?null:b.default:null,this._enumValues=m&&m.type==="enum"?m.values:null}evaluateWithoutErrorHandling(u,m,b,P,N,B){return this._evaluator.globals=u,this._evaluator.feature=m,this._evaluator.featureState=b,this._evaluator.canonical=P,this._evaluator.availableImages=N||null,this._evaluator.formattedSection=B,this.expression.evaluate(this._evaluator)}evaluate(u,m,b,P,N,B){this._evaluator.globals=u,this._evaluator.feature=m||null,this._evaluator.featureState=b||null,this._evaluator.canonical=P,this._evaluator.availableImages=N||null,this._evaluator.formattedSection=B||null;try{const U=this.expression.evaluate(this._evaluator);if(U==null||typeof U=="number"&&U!=U)return this._defaultValue;if(this._enumValues&&!(U in this._enumValues))throw new Zr(`Expected value to be one of ${Object.keys(this._enumValues).map(Y=>JSON.stringify(Y)).join(", ")}, but found ${JSON.stringify(U)} instead.`);return U}catch(U){return this._warningHistory[U.message]||(this._warningHistory[U.message]=!0,typeof console<"u"&&console.warn(U.message)),this._defaultValue}}}function Ha(f){return Array.isArray(f)&&f.length>0&&typeof f[0]=="string"&&f[0]in ba}function ic(f,u){const m=new hm(ba,Af,[],u?function(P){const N={color:en,string:Me,number:Ve,enum:Me,boolean:it,formatted:we,padding:oe,resolvedImage:pe,variableAnchorOffsetCollection:Te};return P.type==="array"?Pe(N[P.value]||kt,P.length):N[P.type]}(u):void 0),b=m.parse(f,void 0,void 0,void 0,u&&u.type==="string"?{typeAnnotation:"coerce"}:void 0);return b?$y(new El(b,u)):nc(m.errors)}class Sm{constructor(u,m){this.kind=u,this._styleExpression=m,this.isStateDependent=u!=="constant"&&!Cu(m.expression)}evaluateWithoutErrorHandling(u,m,b,P,N,B){return this._styleExpression.evaluateWithoutErrorHandling(u,m,b,P,N,B)}evaluate(u,m,b,P,N,B){return this._styleExpression.evaluate(u,m,b,P,N,B)}}class Nf{constructor(u,m,b,P){this.kind=u,this.zoomStops=b,this._styleExpression=m,this.isStateDependent=u!=="camera"&&!Cu(m.expression),this.interpolationType=P}evaluateWithoutErrorHandling(u,m,b,P,N,B){return this._styleExpression.evaluateWithoutErrorHandling(u,m,b,P,N,B)}evaluate(u,m,b,P,N,B){return this._styleExpression.evaluate(u,m,b,P,N,B)}interpolationFactor(u,m,b){return this.interpolationType?zs.interpolationFactor(this.interpolationType,u,m,b):0}}function Gh(f,u){const m=ic(f,u);if(m.result==="error")return m;const b=m.value.expression,P=gm(b);if(!P&&!Oc(u))return nc([new an("","data expressions not supported")]);const N=va(b,["zoom"]);if(!N&&!jy(u))return nc([new an("","zoom expressions not supported")]);const B=ls(b);return B||N?B instanceof an?nc([B]):B instanceof zs&&!wm(u)?nc([new an("",'"interpolate" expressions cannot be used with this property')]):$y(B?new Nf(P?"camera":"composite",m.value,B.labels,B instanceof zs?B.interpolation:void 0):new Sm(P?"constant":"source",m.value)):nc([new an("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class as{constructor(u,m){this._parameters=u,this._specification=m,un(this,Sr(this._parameters,this._specification))}static deserialize(u){return new as(u._parameters,u._specification)}static serialize(u){return{_parameters:u._parameters,_specification:u._specification}}}function ls(f){let u=null;if(f instanceof xa)u=ls(f.result);else if(f instanceof vm){for(const m of f.args)if(u=ls(m),u)break}else(f instanceof Au||f instanceof zs)&&f.input instanceof Ua&&f.input.name==="zoom"&&(u=f);return u instanceof an||f.eachChild(m=>{const b=ls(m);b instanceof an?u=b:!u&&b?u=new an("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):u&&b&&u!==b&&(u=new an("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),u}function mi(f){if(f===!0||f===!1)return!0;if(!Array.isArray(f)||f.length===0)return!1;switch(f[0]){case"has":return f.length>=2&&f[1]!=="$id"&&f[1]!=="$type";case"in":return f.length>=3&&(typeof f[1]!="string"||Array.isArray(f[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return f.length!==3||Array.isArray(f[1])||Array.isArray(f[2]);case"any":case"all":for(const u of f.slice(1))if(!mi(u)&&typeof u!="boolean")return!1;return!0;default:return!0}}const qh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function wa(f){if(f==null)return{filter:()=>!0,needGeometry:!1};mi(f)||(f=zf(f));const u=ic(f,qh);if(u.result==="error")throw new Error(u.value.map(m=>`${m.key}: ${m.message}`).join(", "));return{filter:(m,b,P)=>u.value.evaluate(m,b,{},P),needGeometry:Uy(f)}}function ox(f,u){return f<u?-1:f>u?1:0}function Uy(f){if(!Array.isArray(f))return!1;if(f[0]==="within")return!0;for(let u=1;u<f.length;u++)if(Uy(f[u]))return!0;return!1}function zf(f){if(!f)return!0;const u=f[0];return f.length<=1?u!=="any":u==="=="?Yh(f[1],f[2],"=="):u==="!="?oc(Yh(f[1],f[2],"==")):u==="<"||u===">"||u==="<="||u===">="?Yh(f[1],f[2],u):u==="any"?(m=f.slice(1),["any"].concat(m.map(zf))):u==="all"?["all"].concat(f.slice(1).map(zf)):u==="none"?["all"].concat(f.slice(1).map(zf).map(oc)):u==="in"?Vy(f[1],f.slice(2)):u==="!in"?oc(Vy(f[1],f.slice(2))):u==="has"?Bf(f[1]):u==="!has"?oc(Bf(f[1])):u!=="within"||f;var m}function Yh(f,u,m){switch(f){case"$type":return[`filter-type-${m}`,u];case"$id":return[`filter-id-${m}`,u];default:return[`filter-${m}`,f,u]}}function Vy(f,u){if(u.length===0)return!1;switch(f){case"$type":return["filter-type-in",["literal",u]];case"$id":return["filter-id-in",["literal",u]];default:return u.length>200&&!u.some(m=>typeof m!=typeof u[0])?["filter-in-large",f,["literal",u.sort(ox)]]:["filter-in-small",f,["literal",u]]}}function Bf(f){switch(f){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",f]}}function oc(f){return["!",f]}function Ff(f){const u=typeof f;if(u==="number"||u==="boolean"||u==="string"||f==null)return JSON.stringify(f);if(Array.isArray(f)){let P="[";for(const N of f)P+=`${Ff(N)},`;return`${P}]`}const m=Object.keys(f).sort();let b="{";for(let P=0;P<m.length;P++)b+=`${JSON.stringify(m[P])}:${Ff(f[m[P]])},`;return`${b}}`}function Ru(f){let u="";for(const m of Ce)u+=`/${Ff(f[m])}`;return u}function Xh(f){const u=f.value;return u?[new mt(f.key,u,"constants have been deprecated as of v8")]:[]}function Vi(f){return f instanceof Number||f instanceof String||f instanceof Boolean?f.valueOf():f}function Ou(f){if(Array.isArray(f))return f.map(Ou);if(f instanceof Object&&!(f instanceof Number||f instanceof String||f instanceof Boolean)){const u={};for(const m in f)u[m]=Ou(f[m]);return u}return Vi(f)}function zo(f){const u=f.key,m=f.value,b=f.valueSpec||{},P=f.objectElementValidators||{},N=f.style,B=f.styleSpec,U=f.validateSpec;let Y=[];const J=Wr(m);if(J!=="object")return[new mt(u,m,`object expected, ${J} found`)];for(const ne in m){const ae=ne.split(".")[0],ye=b[ae]||b["*"];let Se;if(P[ae])Se=P[ae];else if(b[ae])Se=U;else if(P["*"])Se=P["*"];else{if(!b["*"]){Y.push(new mt(u,m[ne],`unknown property "${ne}"`));continue}Se=U}Y=Y.concat(Se({key:(u&&`${u}.`)+ne,value:m[ne],valueSpec:ye,style:N,styleSpec:B,object:m,objectKey:ne,validateSpec:U},m))}for(const ne in b)P[ne]||b[ne].required&&b[ne].default===void 0&&m[ne]===void 0&&Y.push(new mt(u,m,`missing required property "${ne}"`));return Y}function Cd(f){const u=f.value,m=f.valueSpec,b=f.style,P=f.styleSpec,N=f.key,B=f.arrayElementValidator||f.validateSpec;if(Wr(u)!=="array")return[new mt(N,u,`array expected, ${Wr(u)} found`)];if(m.length&&u.length!==m.length)return[new mt(N,u,`array length ${m.length} expected, length ${u.length} found`)];if(m["min-length"]&&u.length<m["min-length"])return[new mt(N,u,`array length at least ${m["min-length"]} expected, length ${u.length} found`)];let U={type:m.value,values:m.values};P.$version<7&&(U.function=m.function),Wr(m.value)==="object"&&(U=m.value);let Y=[];for(let J=0;J<u.length;J++)Y=Y.concat(B({array:u,arrayIndex:J,value:u[J],valueSpec:U,validateSpec:f.validateSpec,style:b,styleSpec:P,key:`${N}[${J}]`}));return Y}function Lc(f){const u=f.key,m=f.value,b=f.valueSpec;let P=Wr(m);return P==="number"&&m!=m&&(P="NaN"),P!=="number"?[new mt(u,m,`number expected, ${P} found`)]:"minimum"in b&&m<b.minimum?[new mt(u,m,`${m} is less than the minimum value ${b.minimum}`)]:"maximum"in b&&m>b.maximum?[new mt(u,m,`${m} is greater than the maximum value ${b.maximum}`)]:[]}function Bs(f){const u=f.valueSpec,m=Vi(f.value.type);let b,P,N,B={};const U=m!=="categorical"&&f.value.property===void 0,Y=!U,J=Wr(f.value.stops)==="array"&&Wr(f.value.stops[0])==="array"&&Wr(f.value.stops[0][0])==="object",ne=zo({key:f.key,value:f.value,valueSpec:f.styleSpec.function,validateSpec:f.validateSpec,style:f.style,styleSpec:f.styleSpec,objectElementValidators:{stops:function(Se){if(m==="identity")return[new mt(Se.key,Se.value,'identity function may not have a "stops" property')];let Ee=[];const De=Se.value;return Ee=Ee.concat(Cd({key:Se.key,value:De,valueSpec:Se.valueSpec,validateSpec:Se.validateSpec,style:Se.style,styleSpec:Se.styleSpec,arrayElementValidator:ae})),Wr(De)==="array"&&De.length===0&&Ee.push(new mt(Se.key,De,"array must have at least one stop")),Ee},default:function(Se){return Se.validateSpec({key:Se.key,value:Se.value,valueSpec:u,validateSpec:Se.validateSpec,style:Se.style,styleSpec:Se.styleSpec})}}});return m==="identity"&&U&&ne.push(new mt(f.key,f.value,'missing required property "property"')),m==="identity"||f.value.stops||ne.push(new mt(f.key,f.value,'missing required property "stops"')),m==="exponential"&&f.valueSpec.expression&&!wm(f.valueSpec)&&ne.push(new mt(f.key,f.value,"exponential functions not supported")),f.styleSpec.$version>=8&&(Y&&!Oc(f.valueSpec)?ne.push(new mt(f.key,f.value,"property functions not supported")):U&&!jy(f.valueSpec)&&ne.push(new mt(f.key,f.value,"zoom functions not supported"))),m!=="categorical"&&!J||f.value.property!==void 0||ne.push(new mt(f.key,f.value,'"property" property is required')),ne;function ae(Se){let Ee=[];const De=Se.value,He=Se.key;if(Wr(De)!=="array")return[new mt(He,De,`array expected, ${Wr(De)} found`)];if(De.length!==2)return[new mt(He,De,`array length 2 expected, length ${De.length} found`)];if(J){if(Wr(De[0])!=="object")return[new mt(He,De,`object expected, ${Wr(De[0])} found`)];if(De[0].zoom===void 0)return[new mt(He,De,"object stop key must have zoom")];if(De[0].value===void 0)return[new mt(He,De,"object stop key must have value")];if(N&&N>Vi(De[0].zoom))return[new mt(He,De[0].zoom,"stop zoom values must appear in ascending order")];Vi(De[0].zoom)!==N&&(N=Vi(De[0].zoom),P=void 0,B={}),Ee=Ee.concat(zo({key:`${He}[0]`,value:De[0],valueSpec:{zoom:{}},validateSpec:Se.validateSpec,style:Se.style,styleSpec:Se.styleSpec,objectElementValidators:{zoom:Lc,value:ye}}))}else Ee=Ee.concat(ye({key:`${He}[0]`,value:De[0],valueSpec:{},validateSpec:Se.validateSpec,style:Se.style,styleSpec:Se.styleSpec},De));return Ha(Ou(De[1]))?Ee.concat([new mt(`${He}[1]`,De[1],"expressions are not allowed in function stops.")]):Ee.concat(Se.validateSpec({key:`${He}[1]`,value:De[1],valueSpec:u,validateSpec:Se.validateSpec,style:Se.style,styleSpec:Se.styleSpec}))}function ye(Se,Ee){const De=Wr(Se.value),He=Vi(Se.value),Ye=Se.value!==null?Se.value:Ee;if(b){if(De!==b)return[new mt(Se.key,Ye,`${De} stop domain type must match previous stop domain type ${b}`)]}else b=De;if(De!=="number"&&De!=="string"&&De!=="boolean")return[new mt(Se.key,Ye,"stop domain value must be a number, string, or boolean")];if(De!=="number"&&m!=="categorical"){let pt=`number expected, ${De} found`;return Oc(u)&&m===void 0&&(pt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new mt(Se.key,Ye,pt)]}return m!=="categorical"||De!=="number"||isFinite(He)&&Math.floor(He)===He?m!=="categorical"&&De==="number"&&P!==void 0&&He<P?[new mt(Se.key,Ye,"stop domain values must appear in ascending order")]:(P=He,m==="categorical"&&He in B?[new mt(Se.key,Ye,"stop domain values must be unique")]:(B[He]=!0,[])):[new mt(Se.key,Ye,`integer expected, found ${He}`)]}}function Tl(f){const u=(f.expressionContext==="property"?Gh:ic)(Ou(f.value),f.valueSpec);if(u.result==="error")return u.value.map(b=>new mt(`${f.key}${b.key}`,f.value,b.message));const m=u.value.expression||u.value._styleExpression.expression;if(f.expressionContext==="property"&&f.propertyKey==="text-font"&&!m.outputDefined())return[new mt(f.key,f.value,`Invalid data expression for "${f.propertyKey}". Output values must be contained as literals within the expression.`)];if(f.expressionContext==="property"&&f.propertyType==="layout"&&!Cu(m))return[new mt(f.key,f.value,'"feature-state" data expressions are not supported with layout properties.')];if(f.expressionContext==="filter"&&!Cu(m))return[new mt(f.key,f.value,'"feature-state" data expressions are not supported with filters.')];if(f.expressionContext&&f.expressionContext.indexOf("cluster")===0){if(!va(m,["zoom","feature-state"]))return[new mt(f.key,f.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(f.expressionContext==="cluster-initial"&&!gm(m))return[new mt(f.key,f.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function sc(f){const u=f.key,m=f.value,b=f.valueSpec,P=[];return Array.isArray(b.values)?b.values.indexOf(Vi(m))===-1&&P.push(new mt(u,m,`expected one of [${b.values.join(", ")}], ${JSON.stringify(m)} found`)):Object.keys(b.values).indexOf(Vi(m))===-1&&P.push(new mt(u,m,`expected one of [${Object.keys(b.values).join(", ")}], ${JSON.stringify(m)} found`)),P}function Fs(f){return mi(Ou(f.value))?Tl(un({},f,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Mm(f)}function Mm(f){const u=f.value,m=f.key;if(Wr(u)!=="array")return[new mt(m,u,`array expected, ${Wr(u)} found`)];const b=f.styleSpec;let P,N=[];if(u.length<1)return[new mt(m,u,"filter array must have at least 1 element")];switch(N=N.concat(sc({key:`${m}[0]`,value:u[0],valueSpec:b.filter_operator,style:f.style,styleSpec:f.styleSpec})),Vi(u[0])){case"<":case"<=":case">":case">=":u.length>=2&&Vi(u[1])==="$type"&&N.push(new mt(m,u,`"$type" cannot be use with operator "${u[0]}"`));case"==":case"!=":u.length!==3&&N.push(new mt(m,u,`filter array for operator "${u[0]}" must have 3 elements`));case"in":case"!in":u.length>=2&&(P=Wr(u[1]),P!=="string"&&N.push(new mt(`${m}[1]`,u[1],`string expected, ${P} found`)));for(let B=2;B<u.length;B++)P=Wr(u[B]),Vi(u[1])==="$type"?N=N.concat(sc({key:`${m}[${B}]`,value:u[B],valueSpec:b.geometry_type,style:f.style,styleSpec:f.styleSpec})):P!=="string"&&P!=="number"&&P!=="boolean"&&N.push(new mt(`${m}[${B}]`,u[B],`string, number, or boolean expected, ${P} found`));break;case"any":case"all":case"none":for(let B=1;B<u.length;B++)N=N.concat(Mm({key:`${m}[${B}]`,value:u[B],style:f.style,styleSpec:f.styleSpec}));break;case"has":case"!has":P=Wr(u[1]),u.length!==2?N.push(new mt(m,u,`filter array for "${u[0]}" operator must have 2 elements`)):P!=="string"&&N.push(new mt(`${m}[1]`,u[1],`string expected, ${P} found`));break;case"within":P=Wr(u[1]),u.length!==2?N.push(new mt(m,u,`filter array for "${u[0]}" operator must have 2 elements`)):P!=="object"&&N.push(new mt(`${m}[1]`,u[1],`object expected, ${P} found`))}return N}function Ad(f,u){const m=f.key,b=f.validateSpec,P=f.style,N=f.styleSpec,B=f.value,U=f.objectKey,Y=N[`${u}_${f.layerType}`];if(!Y)return[];const J=U.match(/^(.*)-transition$/);if(u==="paint"&&J&&Y[J[1]]&&Y[J[1]].transition)return b({key:m,value:B,valueSpec:N.transition,style:P,styleSpec:N});const ne=f.valueSpec||Y[U];if(!ne)return[new mt(m,B,`unknown property "${U}"`)];let ae;if(Wr(B)==="string"&&Oc(ne)&&!ne.tokens&&(ae=/^{([^}]+)}$/.exec(B)))return[new mt(m,B,`"${U}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ae[1])} }\`.`)];const ye=[];return f.layerType==="symbol"&&(U==="text-field"&&P&&!P.glyphs&&ye.push(new mt(m,B,'use of "text-field" requires a style "glyphs" property')),U==="text-font"&&Oi(Ou(B))&&Vi(B.type)==="identity"&&ye.push(new mt(m,B,'"text-font" does not support identity functions'))),ye.concat(b({key:f.key,value:B,valueSpec:ne,style:P,styleSpec:N,expressionContext:"property",propertyType:u,propertyKey:U}))}function Wy(f){return Ad(f,"paint")}function Em(f){return Ad(f,"layout")}function Wi(f){let u=[];const m=f.value,b=f.key,P=f.style,N=f.styleSpec;m.type||m.ref||u.push(new mt(b,m,'either "type" or "ref" is required'));let B=Vi(m.type);const U=Vi(m.ref);if(m.id){const Y=Vi(m.id);for(let J=0;J<f.arrayIndex;J++){const ne=P.layers[J];Vi(ne.id)===Y&&u.push(new mt(b,m.id,`duplicate layer id "${m.id}", previously used at line ${ne.id.__line__}`))}}if("ref"in m){let Y;["type","source","source-layer","filter","layout"].forEach(J=>{J in m&&u.push(new mt(b,m[J],`"${J}" is prohibited for ref layers`))}),P.layers.forEach(J=>{Vi(J.id)===U&&(Y=J)}),Y?Y.ref?u.push(new mt(b,m.ref,"ref cannot reference another ref layer")):B=Vi(Y.type):u.push(new mt(b,m.ref,`ref layer "${U}" not found`))}else if(B!=="background")if(m.source){const Y=P.sources&&P.sources[m.source],J=Y&&Vi(Y.type);Y?J==="vector"&&B==="raster"?u.push(new mt(b,m.source,`layer "${m.id}" requires a raster source`)):J!=="raster-dem"&&B==="hillshade"?u.push(new mt(b,m.source,`layer "${m.id}" requires a raster-dem source`)):J==="raster"&&B!=="raster"?u.push(new mt(b,m.source,`layer "${m.id}" requires a vector source`)):J!=="vector"||m["source-layer"]?J==="raster-dem"&&B!=="hillshade"?u.push(new mt(b,m.source,"raster-dem source can only be used with layer type 'hillshade'.")):B!=="line"||!m.paint||!m.paint["line-gradient"]||J==="geojson"&&Y.lineMetrics||u.push(new mt(b,m,`layer "${m.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):u.push(new mt(b,m,`layer "${m.id}" must specify a "source-layer"`)):u.push(new mt(b,m.source,`source "${m.source}" not found`))}else u.push(new mt(b,m,'missing required property "source"'));return u=u.concat(zo({key:b,value:m,valueSpec:N.layer,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*":()=>[],type:()=>f.validateSpec({key:`${b}.type`,value:m.type,valueSpec:N.layer.type,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,object:m,objectKey:"type"}),filter:Fs,layout:Y=>zo({layer:m,key:Y.key,value:Y.value,style:Y.style,styleSpec:Y.styleSpec,validateSpec:Y.validateSpec,objectElementValidators:{"*":J=>Em(un({layerType:B},J))}}),paint:Y=>zo({layer:m,key:Y.key,value:Y.value,style:Y.style,styleSpec:Y.styleSpec,validateSpec:Y.validateSpec,objectElementValidators:{"*":J=>Wy(un({layerType:B},J))}})}})),u}function Sa(f){const u=f.value,m=f.key,b=Wr(u);return b!=="string"?[new mt(m,u,`string expected, ${b} found`)]:[]}const Pd={promoteId:function({key:f,value:u}){if(Wr(u)==="string")return Sa({key:f,value:u});{const m=[];for(const b in u)m.push(...Sa({key:`${f}.${b}`,value:u[b]}));return m}}};function $s(f){const u=f.value,m=f.key,b=f.styleSpec,P=f.style,N=f.validateSpec;if(!u.type)return[new mt(m,u,'"type" is required')];const B=Vi(u.type);let U;switch(B){case"vector":case"raster":return U=zo({key:m,value:u,valueSpec:b[`source_${B.replace("-","_")}`],style:f.style,styleSpec:b,objectElementValidators:Pd,validateSpec:N}),U;case"raster-dem":return U=function(Y){var J;const ne=(J=Y.sourceName)!==null&&J!==void 0?J:"",ae=Y.value,ye=Y.styleSpec,Se=ye.source_raster_dem,Ee=Y.style;let De=[];const He=Wr(ae);if(ae===void 0)return De;if(He!=="object")return De.push(new mt("source_raster_dem",ae,`object expected, ${He} found`)),De;const Ye=Vi(ae.encoding)==="custom",pt=["redFactor","greenFactor","blueFactor","baseShift"],nt=Y.value.encoding?`"${Y.value.encoding}"`:"Default";for(const xt in ae)!Ye&&pt.includes(xt)?De.push(new mt(xt,ae[xt],`In "${ne}": "${xt}" is only valid when "encoding" is set to "custom". ${nt} encoding found`)):Se[xt]?De=De.concat(Y.validateSpec({key:xt,value:ae[xt],valueSpec:Se[xt],validateSpec:Y.validateSpec,style:Ee,styleSpec:ye})):De.push(new mt(xt,ae[xt],`unknown property "${xt}"`));return De}({sourceName:m,value:u,style:f.style,styleSpec:b,validateSpec:N}),U;case"geojson":if(U=zo({key:m,value:u,valueSpec:b.source_geojson,style:P,styleSpec:b,validateSpec:N,objectElementValidators:Pd}),u.cluster)for(const Y in u.clusterProperties){const[J,ne]=u.clusterProperties[Y],ae=typeof J=="string"?[J,["accumulated"],["get",Y]]:J;U.push(...Tl({key:`${m}.${Y}.map`,value:ne,validateSpec:N,expressionContext:"cluster-map"})),U.push(...Tl({key:`${m}.${Y}.reduce`,value:ae,validateSpec:N,expressionContext:"cluster-reduce"}))}return U;case"video":return zo({key:m,value:u,valueSpec:b.source_video,style:P,validateSpec:N,styleSpec:b});case"image":return zo({key:m,value:u,valueSpec:b.source_image,style:P,validateSpec:N,styleSpec:b});case"canvas":return[new mt(m,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return sc({key:`${m}.type`,value:u.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:P,validateSpec:N,styleSpec:b})}}function Lu(f){const u=f.value,m=f.styleSpec,b=m.light,P=f.style;let N=[];const B=Wr(u);if(u===void 0)return N;if(B!=="object")return N=N.concat([new mt("light",u,`object expected, ${B} found`)]),N;for(const U in u){const Y=U.match(/^(.*)-transition$/);N=N.concat(Y&&b[Y[1]]&&b[Y[1]].transition?f.validateSpec({key:U,value:u[U],valueSpec:m.transition,validateSpec:f.validateSpec,style:P,styleSpec:m}):b[U]?f.validateSpec({key:U,value:u[U],valueSpec:b[U],validateSpec:f.validateSpec,style:P,styleSpec:m}):[new mt(U,u[U],`unknown property "${U}"`)])}return N}function Ma(f){const u=f.value,m=f.styleSpec,b=m.terrain,P=f.style;let N=[];const B=Wr(u);if(u===void 0)return N;if(B!=="object")return N=N.concat([new mt("terrain",u,`object expected, ${B} found`)]),N;for(const U in u)N=N.concat(b[U]?f.validateSpec({key:U,value:u[U],valueSpec:b[U],validateSpec:f.validateSpec,style:P,styleSpec:m}):[new mt(U,u[U],`unknown property "${U}"`)]);return N}function Id(f){let u=[];const m=f.value,b=f.key;if(Array.isArray(m)){const P=[],N=[];for(const B in m)m[B].id&&P.includes(m[B].id)&&u.push(new mt(b,m,`all the sprites' ids must be unique, but ${m[B].id} is duplicated`)),P.push(m[B].id),m[B].url&&N.includes(m[B].url)&&u.push(new mt(b,m,`all the sprites' URLs must be unique, but ${m[B].url} is duplicated`)),N.push(m[B].url),u=u.concat(zo({key:`${b}[${B}]`,value:m[B],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:f.validateSpec}));return u}return Sa({key:b,value:m})}const no={"*":()=>[],array:Cd,boolean:function(f){const u=f.value,m=f.key,b=Wr(u);return b!=="boolean"?[new mt(m,u,`boolean expected, ${b} found`)]:[]},number:Lc,color:function(f){const u=f.key,m=f.value,b=Wr(m);return b!=="string"?[new mt(u,m,`color expected, ${b} found`)]:ar.parse(String(m))?[]:[new mt(u,m,`color expected, "${m}" found`)]},constants:Xh,enum:sc,filter:Fs,function:Bs,layer:Wi,object:zo,source:$s,light:Lu,terrain:Ma,string:Sa,formatted:function(f){return Sa(f).length===0?[]:Tl(f)},resolvedImage:function(f){return Sa(f).length===0?[]:Tl(f)},padding:function(f){const u=f.key,m=f.value;if(Wr(m)==="array"){if(m.length<1||m.length>4)return[new mt(u,m,`padding requires 1 to 4 values; ${m.length} values found`)];const b={type:"number"};let P=[];for(let N=0;N<m.length;N++)P=P.concat(f.validateSpec({key:`${u}[${N}]`,value:m[N],validateSpec:f.validateSpec,valueSpec:b}));return P}return Lc({key:u,value:m,valueSpec:{}})},variableAnchorOffsetCollection:function(f){const u=f.key,m=f.value,b=Wr(m),P=f.styleSpec;if(b!=="array"||m.length<1||m.length%2!=0)return[new mt(u,m,"variableAnchorOffsetCollection requires a non-empty array of even length")];let N=[];for(let B=0;B<m.length;B+=2)N=N.concat(sc({key:`${u}[${B}]`,value:m[B],valueSpec:P.layout_symbol["text-anchor"]})),N=N.concat(Cd({key:`${u}[${B+1}]`,value:m[B+1],valueSpec:{length:2,value:"number"},validateSpec:f.validateSpec,style:f.style,styleSpec:P}));return N},sprite:Id};function Hi(f){const u=f.value,m=f.valueSpec,b=f.styleSpec;return f.validateSpec=Hi,m.expression&&Oi(Vi(u))?Bs(f):m.expression&&Ha(Ou(u))?Tl(f):m.type&&no[m.type]?no[m.type](f):zo(un({},f,{valueSpec:m.type?b[m.type]:m}))}function Bo(f){const u=f.value,m=f.key,b=Sa(f);return b.length||(u.indexOf("{fontstack}")===-1&&b.push(new mt(m,u,'"glyphs" url must include a "{fontstack}" token')),u.indexOf("{range}")===-1&&b.push(new mt(m,u,'"glyphs" url must include a "{range}" token'))),b}function js(f,u=Je){let m=[];return m=m.concat(Hi({key:"",value:f,valueSpec:u.$root,styleSpec:u,style:f,validateSpec:Hi,objectElementValidators:{glyphs:Bo,"*":()=>[]}})),f.constants&&(m=m.concat(Xh({key:"constants",value:f.constants,style:f,styleSpec:u,validateSpec:Hi}))),Du(m)}function Ea(f){return function(u){return f({...u,validateSpec:Hi})}}function Du(f){return[].concat(f).sort((u,m)=>u.line-m.line)}function Dc(f){return function(...u){return Du(f.apply(this,u))}}js.source=Dc(Ea($s)),js.sprite=Dc(Ea(Id)),js.glyphs=Dc(Ea(Bo)),js.light=Dc(Ea(Lu)),js.terrain=Dc(Ea(Ma)),js.layer=Dc(Ea(Wi)),js.filter=Dc(Ea(Fs)),js.paintProperty=Dc(Ea(Wy)),js.layoutProperty=Dc(Ea(Em));const Gi=js,Hy=Gi.light,Kh=Gi.paintProperty,Tm=Gi.layoutProperty;function Ga(f,u){let m=!1;if(u&&u.length)for(const b of u)f.fire(new Gt(new Error(b.message))),m=!0;return m}class Us{constructor(u,m,b){const P=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;const B=new Int32Array(this.arrayBuffer);u=B[0],this.d=(m=B[1])+2*(b=B[2]);for(let Y=0;Y<this.d*this.d;Y++){const J=B[3+Y],ne=B[3+Y+1];P.push(J===ne?null:B.subarray(J,ne))}const U=B[3+P.length+1];this.keys=B.subarray(B[3+P.length],U),this.bboxes=B.subarray(U),this.insert=this._insertReadonly}else{this.d=m+2*b;for(let B=0;B<this.d*this.d;B++)P.push([]);this.keys=[],this.bboxes=[]}this.n=m,this.extent=u,this.padding=b,this.scale=m/u,this.uid=0;const N=b/m*u;this.min=-N,this.max=u+N}insert(u,m,b,P,N){this._forEachCell(m,b,P,N,this._insertCell,this.uid++,void 0,void 0),this.keys.push(u),this.bboxes.push(m),this.bboxes.push(b),this.bboxes.push(P),this.bboxes.push(N)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(u,m,b,P,N,B){this.cells[N].push(B)}query(u,m,b,P,N){const B=this.min,U=this.max;if(u<=B&&m<=B&&U<=b&&U<=P&&!N)return Array.prototype.slice.call(this.keys);{const Y=[];return this._forEachCell(u,m,b,P,this._queryCell,Y,{},N),Y}}_queryCell(u,m,b,P,N,B,U,Y){const J=this.cells[N];if(J!==null){const ne=this.keys,ae=this.bboxes;for(let ye=0;ye<J.length;ye++){const Se=J[ye];if(U[Se]===void 0){const Ee=4*Se;(Y?Y(ae[Ee+0],ae[Ee+1],ae[Ee+2],ae[Ee+3]):u<=ae[Ee+2]&&m<=ae[Ee+3]&&b>=ae[Ee+0]&&P>=ae[Ee+1])?(U[Se]=!0,B.push(ne[Se])):U[Se]=!1}}}}_forEachCell(u,m,b,P,N,B,U,Y){const J=this._convertToCellCoord(u),ne=this._convertToCellCoord(m),ae=this._convertToCellCoord(b),ye=this._convertToCellCoord(P);for(let Se=J;Se<=ae;Se++)for(let Ee=ne;Ee<=ye;Ee++){const De=this.d*Ee+Se;if((!Y||Y(this._convertFromCellCoord(Se),this._convertFromCellCoord(Ee),this._convertFromCellCoord(Se+1),this._convertFromCellCoord(Ee+1)))&&N.call(this,u,m,b,P,De,B,U,Y))return}}_convertFromCellCoord(u){return(u-this.padding)/this.scale}_convertToCellCoord(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const u=this.cells,m=3+this.cells.length+1+1;let b=0;for(let B=0;B<this.cells.length;B++)b+=this.cells[B].length;const P=new Int32Array(m+b+this.keys.length+this.bboxes.length);P[0]=this.extent,P[1]=this.n,P[2]=this.padding;let N=m;for(let B=0;B<u.length;B++){const U=u[B];P[3+B]=N,P.set(U,N),N+=U.length}return P[3+u.length]=N,P.set(this.keys,N),N+=this.keys.length,P[3+u.length+1]=N,P.set(this.bboxes,N),N+=this.bboxes.length,P.buffer}static serialize(u,m){const b=u.toArrayBuffer();return m&&m.push(b),{buffer:b}}static deserialize(u){return new Us(u.buffer)}}const Vs={};function Sn(f,u,m={}){if(Vs[f])throw new Error(`${f} is already registered.`);Object.defineProperty(u,"_classRegistryKey",{value:f,writeable:!1}),Vs[f]={klass:u,omit:m.omit||[],shallow:m.shallow||[]}}Sn("Object",Object),Sn("TransferableGridIndex",Us),Sn("Color",ar),Sn("Error",Error),Sn("AJAXError",zt),Sn("ResolvedImage",tr),Sn("StylePropertyFunction",as),Sn("StyleExpression",El,{omit:["_evaluator"]}),Sn("ZoomDependentExpression",Nf),Sn("ZoomConstantExpression",Sm),Sn("CompoundExpression",Ua,{omit:["_evaluate"]});for(const f in ba)ba[f]._classRegistryKey||Sn(`Expression_${f}`,ba[f]);function kd(f){return f&&typeof ArrayBuffer<"u"&&(f instanceof ArrayBuffer||f.constructor&&f.constructor.name==="ArrayBuffer")}function Nc(f,u){if(f==null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||f instanceof Boolean||f instanceof Number||f instanceof String||f instanceof Date||f instanceof RegExp||f instanceof Blob)return f;if(kd(f)||he(f))return u&&u.push(f),f;if(ArrayBuffer.isView(f)){const m=f;return u&&u.push(m.buffer),m}if(f instanceof ImageData)return u&&u.push(f.data.buffer),f;if(Array.isArray(f)){const m=[];for(const b of f)m.push(Nc(b,u));return m}if(typeof f=="object"){const m=f.constructor,b=m._classRegistryKey;if(!b)throw new Error("can't serialize object of unregistered class");if(!Vs[b])throw new Error(`${b} is not registered.`);const P=m.serialize?m.serialize(f,u):{};if(m.serialize){if(u&&P===u[u.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const N in f){if(!f.hasOwnProperty(N)||Vs[b].omit.indexOf(N)>=0)continue;const B=f[N];P[N]=Vs[b].shallow.indexOf(N)>=0?B:Nc(B,u)}f instanceof Error&&(P.message=f.message)}if(P.$name)throw new Error("$name property is reserved for worker serialization logic.");return b!=="Object"&&(P.$name=b),P}throw new Error("can't serialize object of type "+typeof f)}function Rd(f){if(f==null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||f instanceof Boolean||f instanceof Number||f instanceof String||f instanceof Date||f instanceof RegExp||f instanceof Blob||kd(f)||he(f)||ArrayBuffer.isView(f)||f instanceof ImageData)return f;if(Array.isArray(f))return f.map(Rd);if(typeof f=="object"){const u=f.$name||"Object";if(!Vs[u])throw new Error(`can't deserialize unregistered class ${u}`);const{klass:m}=Vs[u];if(!m)throw new Error(`can't deserialize unregistered class ${u}`);if(m.deserialize)return m.deserialize(f);const b=Object.create(m.prototype);for(const P of Object.keys(f)){if(P==="$name")continue;const N=f[P];b[P]=Vs[u].shallow.indexOf(P)>=0?N:Rd(N)}return b}throw new Error("can't deserialize object of type "+typeof f)}class Gy{constructor(){this.first=!0}update(u,m){const b=Math.floor(u);return this.first?(this.first=!1,this.lastIntegerZoom=b,this.lastIntegerZoomTime=0,this.lastZoom=u,this.lastFloorZoom=b,!0):(this.lastFloorZoom>b?(this.lastIntegerZoom=b+1,this.lastIntegerZoomTime=m):this.lastFloorZoom<b&&(this.lastIntegerZoom=b,this.lastIntegerZoomTime=m),u!==this.lastZoom&&(this.lastZoom=u,this.lastFloorZoom=b,!0))}}const xn={"Latin-1 Supplement":f=>f>=128&&f<=255,Arabic:f=>f>=1536&&f<=1791,"Arabic Supplement":f=>f>=1872&&f<=1919,"Arabic Extended-A":f=>f>=2208&&f<=2303,"Hangul Jamo":f=>f>=4352&&f<=4607,"Unified Canadian Aboriginal Syllabics":f=>f>=5120&&f<=5759,Khmer:f=>f>=6016&&f<=6143,"Unified Canadian Aboriginal Syllabics Extended":f=>f>=6320&&f<=6399,"General Punctuation":f=>f>=8192&&f<=8303,"Letterlike Symbols":f=>f>=8448&&f<=8527,"Number Forms":f=>f>=8528&&f<=8591,"Miscellaneous Technical":f=>f>=8960&&f<=9215,"Control Pictures":f=>f>=9216&&f<=9279,"Optical Character Recognition":f=>f>=9280&&f<=9311,"Enclosed Alphanumerics":f=>f>=9312&&f<=9471,"Geometric Shapes":f=>f>=9632&&f<=9727,"Miscellaneous Symbols":f=>f>=9728&&f<=9983,"Miscellaneous Symbols and Arrows":f=>f>=11008&&f<=11263,"CJK Radicals Supplement":f=>f>=11904&&f<=12031,"Kangxi Radicals":f=>f>=12032&&f<=12255,"Ideographic Description Characters":f=>f>=12272&&f<=12287,"CJK Symbols and Punctuation":f=>f>=12288&&f<=12351,Hiragana:f=>f>=12352&&f<=12447,Katakana:f=>f>=12448&&f<=12543,Bopomofo:f=>f>=12544&&f<=12591,"Hangul Compatibility Jamo":f=>f>=12592&&f<=12687,Kanbun:f=>f>=12688&&f<=12703,"Bopomofo Extended":f=>f>=12704&&f<=12735,"CJK Strokes":f=>f>=12736&&f<=12783,"Katakana Phonetic Extensions":f=>f>=12784&&f<=12799,"Enclosed CJK Letters and Months":f=>f>=12800&&f<=13055,"CJK Compatibility":f=>f>=13056&&f<=13311,"CJK Unified Ideographs Extension A":f=>f>=13312&&f<=19903,"Yijing Hexagram Symbols":f=>f>=19904&&f<=19967,"CJK Unified Ideographs":f=>f>=19968&&f<=40959,"Yi Syllables":f=>f>=40960&&f<=42127,"Yi Radicals":f=>f>=42128&&f<=42191,"Hangul Jamo Extended-A":f=>f>=43360&&f<=43391,"Hangul Syllables":f=>f>=44032&&f<=55215,"Hangul Jamo Extended-B":f=>f>=55216&&f<=55295,"Private Use Area":f=>f>=57344&&f<=63743,"CJK Compatibility Ideographs":f=>f>=63744&&f<=64255,"Arabic Presentation Forms-A":f=>f>=64336&&f<=65023,"Vertical Forms":f=>f>=65040&&f<=65055,"CJK Compatibility Forms":f=>f>=65072&&f<=65103,"Small Form Variants":f=>f>=65104&&f<=65135,"Arabic Presentation Forms-B":f=>f>=65136&&f<=65279,"Halfwidth and Fullwidth Forms":f=>f>=65280&&f<=65519};function Cm(f){for(const u of f)if(Od(u.charCodeAt(0)))return!0;return!1}function Am(f){for(const u of f)if(!qy(u.charCodeAt(0)))return!1;return!0}function qy(f){return!(xn.Arabic(f)||xn["Arabic Supplement"](f)||xn["Arabic Extended-A"](f)||xn["Arabic Presentation Forms-A"](f)||xn["Arabic Presentation Forms-B"](f))}function Od(f){return!(f!==746&&f!==747&&(f<4352||!(xn["Bopomofo Extended"](f)||xn.Bopomofo(f)||xn["CJK Compatibility Forms"](f)&&!(f>=65097&&f<=65103)||xn["CJK Compatibility Ideographs"](f)||xn["CJK Compatibility"](f)||xn["CJK Radicals Supplement"](f)||xn["CJK Strokes"](f)||!(!xn["CJK Symbols and Punctuation"](f)||f>=12296&&f<=12305||f>=12308&&f<=12319||f===12336)||xn["CJK Unified Ideographs Extension A"](f)||xn["CJK Unified Ideographs"](f)||xn["Enclosed CJK Letters and Months"](f)||xn["Hangul Compatibility Jamo"](f)||xn["Hangul Jamo Extended-A"](f)||xn["Hangul Jamo Extended-B"](f)||xn["Hangul Jamo"](f)||xn["Hangul Syllables"](f)||xn.Hiragana(f)||xn["Ideographic Description Characters"](f)||xn.Kanbun(f)||xn["Kangxi Radicals"](f)||xn["Katakana Phonetic Extensions"](f)||xn.Katakana(f)&&f!==12540||!(!xn["Halfwidth and Fullwidth Forms"](f)||f===65288||f===65289||f===65293||f>=65306&&f<=65310||f===65339||f===65341||f===65343||f>=65371&&f<=65503||f===65507||f>=65512&&f<=65519)||!(!xn["Small Form Variants"](f)||f>=65112&&f<=65118||f>=65123&&f<=65126)||xn["Unified Canadian Aboriginal Syllabics"](f)||xn["Unified Canadian Aboriginal Syllabics Extended"](f)||xn["Vertical Forms"](f)||xn["Yijing Hexagram Symbols"](f)||xn["Yi Syllables"](f)||xn["Yi Radicals"](f))))}function Yy(f){return!(Od(f)||function(u){return!!(xn["Latin-1 Supplement"](u)&&(u===167||u===169||u===174||u===177||u===188||u===189||u===190||u===215||u===247)||xn["General Punctuation"](u)&&(u===8214||u===8224||u===8225||u===8240||u===8241||u===8251||u===8252||u===8258||u===8263||u===8264||u===8265||u===8273)||xn["Letterlike Symbols"](u)||xn["Number Forms"](u)||xn["Miscellaneous Technical"](u)&&(u>=8960&&u<=8967||u>=8972&&u<=8991||u>=8996&&u<=9e3||u===9003||u>=9085&&u<=9114||u>=9150&&u<=9165||u===9167||u>=9169&&u<=9179||u>=9186&&u<=9215)||xn["Control Pictures"](u)&&u!==9251||xn["Optical Character Recognition"](u)||xn["Enclosed Alphanumerics"](u)||xn["Geometric Shapes"](u)||xn["Miscellaneous Symbols"](u)&&!(u>=9754&&u<=9759)||xn["Miscellaneous Symbols and Arrows"](u)&&(u>=11026&&u<=11055||u>=11088&&u<=11097||u>=11192&&u<=11243)||xn["CJK Symbols and Punctuation"](u)||xn.Katakana(u)||xn["Private Use Area"](u)||xn["CJK Compatibility Forms"](u)||xn["Small Form Variants"](u)||xn["Halfwidth and Fullwidth Forms"](u)||u===8734||u===8756||u===8757||u>=9984&&u<=10087||u>=10102&&u<=10131||u===65532||u===65533)}(f))}function Zh(f){return f>=1424&&f<=2303||xn["Arabic Presentation Forms-A"](f)||xn["Arabic Presentation Forms-B"](f)}function Jh(f,u){return!(!u&&Zh(f)||f>=2304&&f<=3583||f>=3840&&f<=4255||xn.Khmer(f))}function Xy(f){for(const u of f)if(Zh(u.charCodeAt(0)))return!0;return!1}const Ld="deferred",Pm="loading",Im="loaded";let km=null,Ws="unavailable",ac=null;const $f=function(f){f&&typeof f=="string"&&f.indexOf("NetworkError")>-1&&(Ws="error"),km&&km(f)};function Rm(){Qh.fire(new Ft("pluginStateChange",{pluginStatus:Ws,pluginURL:ac}))}const Qh=new sn,Om=function(){return Ws},sx=function(){if(Ws!==Ld||!ac)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ws=Pm,Rm(),ac&&et({url:ac},f=>{f?$f(f):(Ws=Im,Rm())})},Ta={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ws===Im||Ta.applyArabicShaping!=null,isLoading:()=>Ws===Pm,setState(f){if(!xe())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Ws=f.pluginStatus,ac=f.pluginURL},isParsed(){if(!xe())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return Ta.applyArabicShaping!=null&&Ta.processBidirectionalText!=null&&Ta.processStyledBidirectionalText!=null},getPluginURL(){if(!xe())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return ac}};class Ei{constructor(u,m){this.zoom=u,m?(this.now=m.now,this.fadeDuration=m.fadeDuration,this.zoomHistory=m.zoomHistory,this.transition=m.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Gy,this.transition={})}isSupportedScript(u){return function(m,b){for(const P of m)if(!Jh(P.charCodeAt(0),b))return!1;return!0}(u,Ta.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const u=this.zoom,m=u-Math.floor(u),b=this.crossFadingFactor();return u>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:m+(1-m)*b}:{fromScale:.5,toScale:1,t:1-(1-b)*m}}}class ep{constructor(u,m){this.property=u,this.value=m,this.expression=function(b,P){if(Oi(b))return new as(b,P);if(Ha(b)){const N=Gh(b,P);if(N.result==="error")throw new Error(N.value.map(B=>`${B.key}: ${B.message}`).join(", "));return N.value}{let N=b;return P.type==="color"&&typeof b=="string"?N=ar.parse(b):P.type!=="padding"||typeof b!="number"&&!Array.isArray(b)?P.type==="variableAnchorOffsetCollection"&&Array.isArray(b)&&(N=to.parse(b)):N=Zn.parse(b),{kind:"constant",evaluate:()=>N}}}(m===void 0?u.specification.default:m,u.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(u,m,b){return this.property.possiblyEvaluate(this,u,m,b)}}class Lm{constructor(u){this.property=u,this.value=new ep(u,void 0)}transitioned(u,m){return new tp(this.property,this.value,m,H({},u.transition,this.transition),u.now)}untransitioned(){return new tp(this.property,this.value,null,{},0)}}class Ky{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitionablePropertyValues)}getValue(u){return le(this._values[u].value.value)}setValue(u,m){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new Lm(this._values[u].property)),this._values[u].value=new ep(this._values[u].property,m===null?void 0:le(m))}getTransition(u){return le(this._values[u].transition)}setTransition(u,m){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new Lm(this._values[u].property)),this._values[u].transition=le(m)||void 0}serialize(){const u={};for(const m of Object.keys(this._values)){const b=this.getValue(m);b!==void 0&&(u[m]=b);const P=this.getTransition(m);P!==void 0&&(u[`${m}-transition`]=P)}return u}transitioned(u,m){const b=new ax(this._properties);for(const P of Object.keys(this._values))b._values[P]=this._values[P].transitioned(u,m._values[P]);return b}untransitioned(){const u=new ax(this._properties);for(const m of Object.keys(this._values))u._values[m]=this._values[m].untransitioned();return u}}class tp{constructor(u,m,b,P,N){this.property=u,this.value=m,this.begin=N+P.delay||0,this.end=this.begin+P.duration||0,u.specification.transition&&(P.delay||P.duration)&&(this.prior=b)}possiblyEvaluate(u,m,b){const P=u.now||0,N=this.value.possiblyEvaluate(u,m,b),B=this.prior;if(B){if(P>this.end)return this.prior=null,N;if(this.value.isDataDriven())return this.prior=null,N;if(P<this.begin)return B.possiblyEvaluate(u,m,b);{const U=(P-this.begin)/(this.end-this.begin);return this.property.interpolate(B.possiblyEvaluate(u,m,b),N,function(Y){if(Y<=0)return 0;if(Y>=1)return 1;const J=Y*Y,ne=J*Y;return 4*(Y<.5?ne:3*(Y-J)+ne-.75)}(U))}}return N}}class ax{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitioningPropertyValues)}possiblyEvaluate(u,m,b){const P=new jf(this._properties);for(const N of Object.keys(this._values))P._values[N]=this._values[N].possiblyEvaluate(u,m,b);return P}hasTransition(){for(const u of Object.keys(this._values))if(this._values[u].prior)return!0;return!1}}class Y1{constructor(u){this._properties=u,this._values=Object.create(u.defaultPropertyValues)}hasValue(u){return this._values[u].value!==void 0}getValue(u){return le(this._values[u].value)}setValue(u,m){this._values[u]=new ep(this._values[u].property,m===null?void 0:le(m))}serialize(){const u={};for(const m of Object.keys(this._values)){const b=this.getValue(m);b!==void 0&&(u[m]=b)}return u}possiblyEvaluate(u,m,b){const P=new jf(this._properties);for(const N of Object.keys(this._values))P._values[N]=this._values[N].possiblyEvaluate(u,m,b);return P}}class Hs{constructor(u,m,b){this.property=u,this.value=m,this.parameters=b}isConstant(){return this.value.kind==="constant"}constantOr(u){return this.value.kind==="constant"?this.value.value:u}evaluate(u,m,b,P){return this.property.evaluate(this.value,this.parameters,u,m,b,P)}}class jf{constructor(u){this._properties=u,this._values=Object.create(u.defaultPossiblyEvaluatedValues)}get(u){return this._values[u]}}class zn{constructor(u){this.specification=u}possiblyEvaluate(u,m){if(u.isDataDriven())throw new Error("Value should not be data driven");return u.expression.evaluate(m)}interpolate(u,m,b){const P=Cs[this.specification.type];return P?P(u,m,b):u}}class nr{constructor(u,m){this.specification=u,this.overrides=m}possiblyEvaluate(u,m,b,P){return new Hs(this,u.expression.kind==="constant"||u.expression.kind==="camera"?{kind:"constant",value:u.expression.evaluate(m,null,{},b,P)}:u.expression,m)}interpolate(u,m,b){if(u.value.kind!=="constant"||m.value.kind!=="constant")return u;if(u.value.value===void 0||m.value.value===void 0)return new Hs(this,{kind:"constant",value:void 0},u.parameters);const P=Cs[this.specification.type];if(P){const N=P(u.value.value,m.value.value,b);return new Hs(this,{kind:"constant",value:N},u.parameters)}return u}evaluate(u,m,b,P,N,B){return u.kind==="constant"?u.value:u.evaluate(m,b,P,N,B)}}class Uf extends nr{possiblyEvaluate(u,m,b,P){if(u.value===void 0)return new Hs(this,{kind:"constant",value:void 0},m);if(u.expression.kind==="constant"){const N=u.expression.evaluate(m,null,{},b,P),B=u.property.specification.type==="resolvedImage"&&typeof N!="string"?N.name:N,U=this._calculate(B,B,B,m);return new Hs(this,{kind:"constant",value:U},m)}if(u.expression.kind==="camera"){const N=this._calculate(u.expression.evaluate({zoom:m.zoom-1}),u.expression.evaluate({zoom:m.zoom}),u.expression.evaluate({zoom:m.zoom+1}),m);return new Hs(this,{kind:"constant",value:N},m)}return new Hs(this,u.expression,m)}evaluate(u,m,b,P,N,B){if(u.kind==="source"){const U=u.evaluate(m,b,P,N,B);return this._calculate(U,U,U,m)}return u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(m.zoom)-1},b,P),u.evaluate({zoom:Math.floor(m.zoom)},b,P),u.evaluate({zoom:Math.floor(m.zoom)+1},b,P),m):u.value}_calculate(u,m,b,P){return P.zoom>P.zoomHistory.lastIntegerZoom?{from:u,to:m}:{from:b,to:m}}interpolate(u){return u}}class Dm{constructor(u){this.specification=u}possiblyEvaluate(u,m,b,P){if(u.value!==void 0){if(u.expression.kind==="constant"){const N=u.expression.evaluate(m,null,{},b,P);return this._calculate(N,N,N,m)}return this._calculate(u.expression.evaluate(new Ei(Math.floor(m.zoom-1),m)),u.expression.evaluate(new Ei(Math.floor(m.zoom),m)),u.expression.evaluate(new Ei(Math.floor(m.zoom+1),m)),m)}}_calculate(u,m,b,P){return P.zoom>P.zoomHistory.lastIntegerZoom?{from:u,to:m}:{from:b,to:m}}interpolate(u){return u}}class Nm{constructor(u){this.specification=u}possiblyEvaluate(u,m,b,P){return!!u.expression.evaluate(m,null,{},b,P)}interpolate(){return!1}}class so{constructor(u){this.properties=u,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const m in u){const b=u[m];b.specification.overridable&&this.overridableProperties.push(m);const P=this.defaultPropertyValues[m]=new ep(b,void 0),N=this.defaultTransitionablePropertyValues[m]=new Lm(b);this.defaultTransitioningPropertyValues[m]=N.untransitioned(),this.defaultPossiblyEvaluatedValues[m]=P.possiblyEvaluate({})}}}Sn("DataDrivenProperty",nr),Sn("DataConstantProperty",zn),Sn("CrossFadedDataDrivenProperty",Uf),Sn("CrossFadedProperty",Dm),Sn("ColorRampProperty",Nm);const zm="-transition";class go extends sn{constructor(u,m){if(super(),this.id=u.id,this.type=u.type,this._featureFilter={filter:()=>!0,needGeometry:!1},u.type!=="custom"&&(this.metadata=u.metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),m.layout&&(this._unevaluatedLayout=new Y1(m.layout)),m.paint)){this._transitionablePaint=new Ky(m.paint);for(const b in u.paint)this.setPaintProperty(b,u.paint[b],{validate:!1});for(const b in u.layout)this.setLayoutProperty(b,u.layout[b],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new jf(m.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)}setLayoutProperty(u,m,b={}){m!=null&&this._validate(Tm,`layers.${this.id}.layout.${u}`,u,m,b)||(u!=="visibility"?this._unevaluatedLayout.setValue(u,m):this.visibility=m)}getPaintProperty(u){return u.endsWith(zm)?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)}setPaintProperty(u,m,b={}){if(m!=null&&this._validate(Kh,`layers.${this.id}.paint.${u}`,u,m,b))return!1;if(u.endsWith(zm))return this._transitionablePaint.setTransition(u.slice(0,-11),m||void 0),!1;{const P=this._transitionablePaint._values[u],N=P.property.specification["property-type"]==="cross-faded-data-driven",B=P.value.isDataDriven(),U=P.value;this._transitionablePaint.setValue(u,m),this._handleSpecialPaintPropertyUpdate(u);const Y=this._transitionablePaint._values[u].value;return Y.isDataDriven()||B||N||this._handleOverridablePaintPropertyUpdate(u,U,Y)}}_handleSpecialPaintPropertyUpdate(u){}_handleOverridablePaintPropertyUpdate(u,m,b){return!1}isHidden(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"}updateTransitions(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(u,m){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,m)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,m)}serialize(){const u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),X(u,(m,b)=>!(m===void 0||b==="layout"&&!Object.keys(m).length||b==="paint"&&!Object.keys(m).length))}_validate(u,m,b,P,N={}){return(!N||N.validate!==!1)&&Ga(this,u.call(Gi,{key:m,layerType:this.type,objectKey:b,value:P,styleSpec:Je,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const u in this.paint._values){const m=this.paint.get(u);if(m instanceof Hs&&Oc(m.property.specification)&&(m.value.kind==="source"||m.value.kind==="composite")&&m.value.isStateDependent)return!0}return!1}}const Zy={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Cl{constructor(u,m){this._structArray=u,this._pos1=m*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ti{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(u,m){return u._trim(),m&&(u.isTransferred=!0,m.push(u.arrayBuffer)),{length:u.length,arrayBuffer:u.arrayBuffer}}static deserialize(u){const m=Object.create(this.prototype);return m.arrayBuffer=u.arrayBuffer,m.length=u.length,m.capacity=u.arrayBuffer.byteLength/m.bytesPerElement,m._refreshViews(),m}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(u){this.reserve(u),this.length=u}reserve(u){if(u>this.capacity){this.capacity=Math.max(u,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const m=this.uint8;this._refreshViews(),m&&this.uint8.set(m)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Ci(f,u=1){let m=0,b=0;return{members:f.map(P=>{const N=Zy[P.type].BYTES_PER_ELEMENT,B=m=zc(m,Math.max(u,N)),U=P.components||1;return b=Math.max(b,N),m+=N*U,{name:P.name,type:P.type,components:U,offset:B}}),size:zc(m,Math.max(b,u)),alignment:u}}function zc(f,u){return Math.ceil(f/u)*u}class Vf extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,m){const b=this.length;return this.resize(b+1),this.emplace(b,u,m)}emplace(u,m,b){const P=2*u;return this.int16[P+0]=m,this.int16[P+1]=b,u}}Vf.prototype.bytesPerElement=4,Sn("StructArrayLayout2i4",Vf);class Bc extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,m,b){const P=this.length;return this.resize(P+1),this.emplace(P,u,m,b)}emplace(u,m,b,P){const N=3*u;return this.int16[N+0]=m,this.int16[N+1]=b,this.int16[N+2]=P,u}}Bc.prototype.bytesPerElement=6,Sn("StructArrayLayout3i6",Bc);class ao extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,m,b,P){const N=this.length;return this.resize(N+1),this.emplace(N,u,m,b,P)}emplace(u,m,b,P,N){const B=4*u;return this.int16[B+0]=m,this.int16[B+1]=b,this.int16[B+2]=P,this.int16[B+3]=N,u}}ao.prototype.bytesPerElement=8,Sn("StructArrayLayout4i8",ao);class Jy extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,m,b,P,N,B){const U=this.length;return this.resize(U+1),this.emplace(U,u,m,b,P,N,B)}emplace(u,m,b,P,N,B,U){const Y=6*u;return this.int16[Y+0]=m,this.int16[Y+1]=b,this.int16[Y+2]=P,this.int16[Y+3]=N,this.int16[Y+4]=B,this.int16[Y+5]=U,u}}Jy.prototype.bytesPerElement=12,Sn("StructArrayLayout2i4i12",Jy);class Qy extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,m,b,P,N,B){const U=this.length;return this.resize(U+1),this.emplace(U,u,m,b,P,N,B)}emplace(u,m,b,P,N,B,U){const Y=4*u,J=8*u;return this.int16[Y+0]=m,this.int16[Y+1]=b,this.uint8[J+4]=P,this.uint8[J+5]=N,this.uint8[J+6]=B,this.uint8[J+7]=U,u}}Qy.prototype.bytesPerElement=8,Sn("StructArrayLayout2i4ub8",Qy);class Xo extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,m){const b=this.length;return this.resize(b+1),this.emplace(b,u,m)}emplace(u,m,b){const P=2*u;return this.float32[P+0]=m,this.float32[P+1]=b,u}}Xo.prototype.bytesPerElement=8,Sn("StructArrayLayout2f8",Xo);class cs extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,m,b,P,N,B,U,Y,J,ne){const ae=this.length;return this.resize(ae+1),this.emplace(ae,u,m,b,P,N,B,U,Y,J,ne)}emplace(u,m,b,P,N,B,U,Y,J,ne,ae){const ye=10*u;return this.uint16[ye+0]=m,this.uint16[ye+1]=b,this.uint16[ye+2]=P,this.uint16[ye+3]=N,this.uint16[ye+4]=B,this.uint16[ye+5]=U,this.uint16[ye+6]=Y,this.uint16[ye+7]=J,this.uint16[ye+8]=ne,this.uint16[ye+9]=ae,u}}cs.prototype.bytesPerElement=20,Sn("StructArrayLayout10ui20",cs);class Bm extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,m,b,P,N,B,U,Y,J,ne,ae,ye){const Se=this.length;return this.resize(Se+1),this.emplace(Se,u,m,b,P,N,B,U,Y,J,ne,ae,ye)}emplace(u,m,b,P,N,B,U,Y,J,ne,ae,ye,Se){const Ee=12*u;return this.int16[Ee+0]=m,this.int16[Ee+1]=b,this.int16[Ee+2]=P,this.int16[Ee+3]=N,this.uint16[Ee+4]=B,this.uint16[Ee+5]=U,this.uint16[Ee+6]=Y,this.uint16[Ee+7]=J,this.int16[Ee+8]=ne,this.int16[Ee+9]=ae,this.int16[Ee+10]=ye,this.int16[Ee+11]=Se,u}}Bm.prototype.bytesPerElement=24,Sn("StructArrayLayout4i4ui4i24",Bm);class Hr extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,m,b){const P=this.length;return this.resize(P+1),this.emplace(P,u,m,b)}emplace(u,m,b,P){const N=3*u;return this.float32[N+0]=m,this.float32[N+1]=b,this.float32[N+2]=P,u}}Hr.prototype.bytesPerElement=12,Sn("StructArrayLayout3f12",Hr);class O extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(u){const m=this.length;return this.resize(m+1),this.emplace(m,u)}emplace(u,m){return this.uint32[1*u+0]=m,u}}O.prototype.bytesPerElement=4,Sn("StructArrayLayout1ul4",O);class d extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,m,b,P,N,B,U,Y,J){const ne=this.length;return this.resize(ne+1),this.emplace(ne,u,m,b,P,N,B,U,Y,J)}emplace(u,m,b,P,N,B,U,Y,J,ne){const ae=10*u,ye=5*u;return this.int16[ae+0]=m,this.int16[ae+1]=b,this.int16[ae+2]=P,this.int16[ae+3]=N,this.int16[ae+4]=B,this.int16[ae+5]=U,this.uint32[ye+3]=Y,this.uint16[ae+8]=J,this.uint16[ae+9]=ne,u}}d.prototype.bytesPerElement=20,Sn("StructArrayLayout6i1ul2ui20",d);class y extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,m,b,P,N,B){const U=this.length;return this.resize(U+1),this.emplace(U,u,m,b,P,N,B)}emplace(u,m,b,P,N,B,U){const Y=6*u;return this.int16[Y+0]=m,this.int16[Y+1]=b,this.int16[Y+2]=P,this.int16[Y+3]=N,this.int16[Y+4]=B,this.int16[Y+5]=U,u}}y.prototype.bytesPerElement=12,Sn("StructArrayLayout2i2i2i12",y);class A extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,m,b,P,N){const B=this.length;return this.resize(B+1),this.emplace(B,u,m,b,P,N)}emplace(u,m,b,P,N,B){const U=4*u,Y=8*u;return this.float32[U+0]=m,this.float32[U+1]=b,this.float32[U+2]=P,this.int16[Y+6]=N,this.int16[Y+7]=B,u}}A.prototype.bytesPerElement=16,Sn("StructArrayLayout2f1f2i16",A);class I extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,m,b,P){const N=this.length;return this.resize(N+1),this.emplace(N,u,m,b,P)}emplace(u,m,b,P,N){const B=12*u,U=3*u;return this.uint8[B+0]=m,this.uint8[B+1]=b,this.float32[U+1]=P,this.float32[U+2]=N,u}}I.prototype.bytesPerElement=12,Sn("StructArrayLayout2ub2f12",I);class D extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,m,b){const P=this.length;return this.resize(P+1),this.emplace(P,u,m,b)}emplace(u,m,b,P){const N=3*u;return this.uint16[N+0]=m,this.uint16[N+1]=b,this.uint16[N+2]=P,u}}D.prototype.bytesPerElement=6,Sn("StructArrayLayout3ui6",D);class W extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,m,b,P,N,B,U,Y,J,ne,ae,ye,Se,Ee,De,He,Ye){const pt=this.length;return this.resize(pt+1),this.emplace(pt,u,m,b,P,N,B,U,Y,J,ne,ae,ye,Se,Ee,De,He,Ye)}emplace(u,m,b,P,N,B,U,Y,J,ne,ae,ye,Se,Ee,De,He,Ye,pt){const nt=24*u,xt=12*u,It=48*u;return this.int16[nt+0]=m,this.int16[nt+1]=b,this.uint16[nt+2]=P,this.uint16[nt+3]=N,this.uint32[xt+2]=B,this.uint32[xt+3]=U,this.uint32[xt+4]=Y,this.uint16[nt+10]=J,this.uint16[nt+11]=ne,this.uint16[nt+12]=ae,this.float32[xt+7]=ye,this.float32[xt+8]=Se,this.uint8[It+36]=Ee,this.uint8[It+37]=De,this.uint8[It+38]=He,this.uint32[xt+10]=Ye,this.int16[nt+22]=pt,u}}W.prototype.bytesPerElement=48,Sn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",W);class G extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,m,b,P,N,B,U,Y,J,ne,ae,ye,Se,Ee,De,He,Ye,pt,nt,xt,It,Yt,wn,Bn,bn,vn,fn,In){const mn=this.length;return this.resize(mn+1),this.emplace(mn,u,m,b,P,N,B,U,Y,J,ne,ae,ye,Se,Ee,De,He,Ye,pt,nt,xt,It,Yt,wn,Bn,bn,vn,fn,In)}emplace(u,m,b,P,N,B,U,Y,J,ne,ae,ye,Se,Ee,De,He,Ye,pt,nt,xt,It,Yt,wn,Bn,bn,vn,fn,In,mn){const on=32*u,Qn=16*u;return this.int16[on+0]=m,this.int16[on+1]=b,this.int16[on+2]=P,this.int16[on+3]=N,this.int16[on+4]=B,this.int16[on+5]=U,this.int16[on+6]=Y,this.int16[on+7]=J,this.uint16[on+8]=ne,this.uint16[on+9]=ae,this.uint16[on+10]=ye,this.uint16[on+11]=Se,this.uint16[on+12]=Ee,this.uint16[on+13]=De,this.uint16[on+14]=He,this.uint16[on+15]=Ye,this.uint16[on+16]=pt,this.uint16[on+17]=nt,this.uint16[on+18]=xt,this.uint16[on+19]=It,this.uint16[on+20]=Yt,this.uint16[on+21]=wn,this.uint16[on+22]=Bn,this.uint32[Qn+12]=bn,this.float32[Qn+13]=vn,this.float32[Qn+14]=fn,this.uint16[on+30]=In,this.uint16[on+31]=mn,u}}G.prototype.bytesPerElement=64,Sn("StructArrayLayout8i15ui1ul2f2ui64",G);class K extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u){const m=this.length;return this.resize(m+1),this.emplace(m,u)}emplace(u,m){return this.float32[1*u+0]=m,u}}K.prototype.bytesPerElement=4,Sn("StructArrayLayout1f4",K);class ee extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,m,b){const P=this.length;return this.resize(P+1),this.emplace(P,u,m,b)}emplace(u,m,b,P){const N=3*u;return this.uint16[6*u+0]=m,this.float32[N+1]=b,this.float32[N+2]=P,u}}ee.prototype.bytesPerElement=12,Sn("StructArrayLayout1ui2f12",ee);class re extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,m,b){const P=this.length;return this.resize(P+1),this.emplace(P,u,m,b)}emplace(u,m,b,P){const N=4*u;return this.uint32[2*u+0]=m,this.uint16[N+2]=b,this.uint16[N+3]=P,u}}re.prototype.bytesPerElement=8,Sn("StructArrayLayout1ul2ui8",re);class se extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,m){const b=this.length;return this.resize(b+1),this.emplace(b,u,m)}emplace(u,m,b){const P=2*u;return this.uint16[P+0]=m,this.uint16[P+1]=b,u}}se.prototype.bytesPerElement=4,Sn("StructArrayLayout2ui4",se);class be extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u){const m=this.length;return this.resize(m+1),this.emplace(m,u)}emplace(u,m){return this.uint16[1*u+0]=m,u}}be.prototype.bytesPerElement=2,Sn("StructArrayLayout1ui2",be);class Le extends Ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,m,b,P){const N=this.length;return this.resize(N+1),this.emplace(N,u,m,b,P)}emplace(u,m,b,P,N){const B=4*u;return this.float32[B+0]=m,this.float32[B+1]=b,this.float32[B+2]=P,this.float32[B+3]=N,u}}Le.prototype.bytesPerElement=16,Sn("StructArrayLayout4f16",Le);class Re extends Cl{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new g(this.anchorPointX,this.anchorPointY)}}Re.prototype.size=20;class $e extends d{get(u){return new Re(this,u)}}Sn("CollisionBoxArray",$e);class Ie extends Cl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(u){this._structArray.uint8[this._pos1+37]=u}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(u){this._structArray.uint8[this._pos1+38]=u}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(u){this._structArray.uint32[this._pos4+10]=u}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ie.prototype.size=48;class at extends W{get(u){return new Ie(this,u)}}Sn("PlacedSymbolArray",at);class Mt extends Cl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(u){this._structArray.uint32[this._pos4+12]=u}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Mt.prototype.size=64;class Ge extends G{get(u){return new Mt(this,u)}}Sn("SymbolInstanceArray",Ge);class ft extends K{getoffsetX(u){return this.float32[1*u+0]}}Sn("GlyphOffsetArray",ft);class At extends Bc{getx(u){return this.int16[3*u+0]}gety(u){return this.int16[3*u+1]}gettileUnitDistanceFromAnchor(u){return this.int16[3*u+2]}}Sn("SymbolLineVertexArray",At);class Pt extends Cl{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Pt.prototype.size=12;class qt extends ee{get(u){return new Pt(this,u)}}Sn("TextAnchorOffsetArray",qt);class wt extends Cl{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}wt.prototype.size=8;class Kt extends re{get(u){return new wt(this,u)}}Sn("FeatureIndexArray",Kt);class ln extends Vf{}class Rn extends Vf{}class Pr extends Vf{}class dn extends Jy{}class Jn extends Qy{}class On extends Xo{}class ei extends cs{}class Er extends Bm{}class vr extends Hr{}class Tr extends O{}class ro extends y{}class gi extends I{}class Fo extends D{}class yo extends se{}const lo=Ci([{name:"a_pos",components:2,type:"Int16"}],4),{members:Gs}=lo;class li{constructor(u=[]){this.segments=u}prepareSegment(u,m,b,P){let N=this.segments[this.segments.length-1];return u>li.MAX_VERTEX_ARRAY_LENGTH&&ie(`Max vertices per segment is ${li.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${u}`),(!N||N.vertexLength+u>li.MAX_VERTEX_ARRAY_LENGTH||N.sortKey!==P)&&(N={vertexOffset:m.length,primitiveOffset:b.length,vertexLength:0,primitiveLength:0},P!==void 0&&(N.sortKey=P),this.segments.push(N)),N}get(){return this.segments}destroy(){for(const u of this.segments)for(const m in u.vaos)u.vaos[m].destroy()}static simpleSegment(u,m,b,P){return new li([{vertexOffset:u,primitiveOffset:m,vertexLength:b,primitiveLength:P,vaos:{},sortKey:0}])}}function lc(f,u){return 256*(f=L(Math.floor(f),0,255))+L(Math.floor(u),0,255)}li.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Sn("SegmentVector",li);const cc=Ci([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Fc={exports:{}},Nu={exports:{}};Nu.exports=function(f,u){var m,b,P,N,B,U,Y,J;for(b=f.length-(m=3&f.length),P=u,B=3432918353,U=461845907,J=0;J<b;)Y=255&f.charCodeAt(J)|(255&f.charCodeAt(++J))<<8|(255&f.charCodeAt(++J))<<16|(255&f.charCodeAt(++J))<<24,++J,P=27492+(65535&(N=5*(65535&(P=(P^=Y=(65535&(Y=(Y=(65535&Y)*B+(((Y>>>16)*B&65535)<<16)&4294967295)<<15|Y>>>17))*U+(((Y>>>16)*U&65535)<<16)&4294967295)<<13|P>>>19))+((5*(P>>>16)&65535)<<16)&4294967295))+((58964+(N>>>16)&65535)<<16);switch(Y=0,m){case 3:Y^=(255&f.charCodeAt(J+2))<<16;case 2:Y^=(255&f.charCodeAt(J+1))<<8;case 1:P^=Y=(65535&(Y=(Y=(65535&(Y^=255&f.charCodeAt(J)))*B+(((Y>>>16)*B&65535)<<16)&4294967295)<<15|Y>>>17))*U+(((Y>>>16)*U&65535)<<16)&4294967295}return P^=f.length,P=2246822507*(65535&(P^=P>>>16))+((2246822507*(P>>>16)&65535)<<16)&4294967295,P=3266489909*(65535&(P^=P>>>13))+((3266489909*(P>>>16)&65535)<<16)&4294967295,(P^=P>>>16)>>>0};var Dd=Nu.exports,us={exports:{}};us.exports=function(f,u){for(var m,b=f.length,P=u^b,N=0;b>=4;)m=1540483477*(65535&(m=255&f.charCodeAt(N)|(255&f.charCodeAt(++N))<<8|(255&f.charCodeAt(++N))<<16|(255&f.charCodeAt(++N))<<24))+((1540483477*(m>>>16)&65535)<<16),P=1540483477*(65535&P)+((1540483477*(P>>>16)&65535)<<16)^(m=1540483477*(65535&(m^=m>>>24))+((1540483477*(m>>>16)&65535)<<16)),b-=4,++N;switch(b){case 3:P^=(255&f.charCodeAt(N+2))<<16;case 2:P^=(255&f.charCodeAt(N+1))<<8;case 1:P=1540483477*(65535&(P^=255&f.charCodeAt(N)))+((1540483477*(P>>>16)&65535)<<16)}return P=1540483477*(65535&(P^=P>>>13))+((1540483477*(P>>>16)&65535)<<16),(P^=P>>>15)>>>0};var Co=Dd,Ko=us.exports;Fc.exports=Co,Fc.exports.murmur3=Co,Fc.exports.murmur2=Ko;var uc=c(Fc.exports);class Di{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(u,m,b,P){this.ids.push(co(u)),this.positions.push(m,b,P)}getPositions(u){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const m=co(u);let b=0,P=this.ids.length-1;for(;b<P;){const B=b+P>>1;this.ids[B]>=m?P=B:b=B+1}const N=[];for(;this.ids[b]===m;)N.push({index:this.positions[3*b],start:this.positions[3*b+1],end:this.positions[3*b+2]}),b++;return N}static serialize(u,m){const b=new Float64Array(u.ids),P=new Uint32Array(u.positions);return Zo(b,P,0,b.length-1),m&&m.push(b.buffer,P.buffer),{ids:b,positions:P}}static deserialize(u){const m=new Di;return m.ids=u.ids,m.positions=u.positions,m.indexed=!0,m}}function co(f){const u=+f;return!isNaN(u)&&u<=Number.MAX_SAFE_INTEGER?u:uc(String(f))}function Zo(f,u,m,b){for(;m<b;){const P=f[m+b>>1];let N=m-1,B=b+1;for(;;){do N++;while(f[N]<P);do B--;while(f[B]>P);if(N>=B)break;qi(f,N,B),qi(u,3*N,3*B),qi(u,3*N+1,3*B+1),qi(u,3*N+2,3*B+2)}B-m<b-B?(Zo(f,u,m,B),m=B+1):(Zo(f,u,B+1,b),b=B)}}function qi(f,u,m){const b=f[u];f[u]=f[m],f[m]=b}Sn("FeaturePositionMap",Di);class $c{constructor(u,m){this.gl=u.gl,this.location=m}}class Wf extends $c{constructor(u,m){super(u,m),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class ev extends $c{constructor(u,m){super(u,m),this.current=[0,0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))}}class Fm extends $c{constructor(u,m){super(u,m),this.current=ar.transparent}set(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))}}const X1=new Float32Array(16);function Hf(f){return[lc(255*f.r,255*f.g),lc(255*f.b,255*f.a)]}class qa{constructor(u,m,b){this.value=u,this.uniformNames=m.map(P=>`u_${P}`),this.type=b}setUniform(u,m,b){u.set(b.constantOr(this.value))}getBinding(u,m,b){return this.type==="color"?new Fm(u,m):new Wf(u,m)}}class Ai{constructor(u,m){this.uniformNames=m.map(b=>`u_${b}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(u,m){this.pixelRatioFrom=m.pixelRatio,this.pixelRatioTo=u.pixelRatio,this.patternFrom=m.tlbr,this.patternTo=u.tlbr}setUniform(u,m,b,P){const N=P==="u_pattern_to"?this.patternTo:P==="u_pattern_from"?this.patternFrom:P==="u_pixel_ratio_to"?this.pixelRatioTo:P==="u_pixel_ratio_from"?this.pixelRatioFrom:null;N&&u.set(N)}getBinding(u,m,b){return b.substr(0,9)==="u_pattern"?new ev(u,m):new Wf(u,m)}}class mr{constructor(u,m,b,P){this.expression=u,this.type=b,this.maxValue=0,this.paintVertexAttributes=m.map(N=>({name:`a_${N}`,type:"Float32",components:b==="color"?2:1,offset:0})),this.paintVertexArray=new P}populatePaintArray(u,m,b,P,N){const B=this.paintVertexArray.length,U=this.expression.evaluate(new Ei(0),m,{},P,[],N);this.paintVertexArray.resize(u),this._setPaintValue(B,u,U)}updatePaintArray(u,m,b,P){const N=this.expression.evaluate({zoom:0},b,P);this._setPaintValue(u,m,N)}_setPaintValue(u,m,b){if(this.type==="color"){const P=Hf(b);for(let N=u;N<m;N++)this.paintVertexArray.emplace(N,P[0],P[1])}else{for(let P=u;P<m;P++)this.paintVertexArray.emplace(P,b);this.maxValue=Math.max(this.maxValue,Math.abs(b))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ti{constructor(u,m,b,P,N,B){this.expression=u,this.uniformNames=m.map(U=>`u_${U}_t`),this.type=b,this.useIntegerZoom=P,this.zoom=N,this.maxValue=0,this.paintVertexAttributes=m.map(U=>({name:`a_${U}`,type:"Float32",components:b==="color"?4:2,offset:0})),this.paintVertexArray=new B}populatePaintArray(u,m,b,P,N){const B=this.expression.evaluate(new Ei(this.zoom),m,{},P,[],N),U=this.expression.evaluate(new Ei(this.zoom+1),m,{},P,[],N),Y=this.paintVertexArray.length;this.paintVertexArray.resize(u),this._setPaintValue(Y,u,B,U)}updatePaintArray(u,m,b,P){const N=this.expression.evaluate({zoom:this.zoom},b,P),B=this.expression.evaluate({zoom:this.zoom+1},b,P);this._setPaintValue(u,m,N,B)}_setPaintValue(u,m,b,P){if(this.type==="color"){const N=Hf(b),B=Hf(P);for(let U=u;U<m;U++)this.paintVertexArray.emplace(U,N[0],N[1],B[0],B[1])}else{for(let N=u;N<m;N++)this.paintVertexArray.emplace(N,b,P);this.maxValue=Math.max(this.maxValue,Math.abs(b),Math.abs(P))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(u,m){const b=this.useIntegerZoom?Math.floor(m.zoom):m.zoom,P=L(this.expression.interpolationFactor(b,this.zoom,this.zoom+1),0,1);u.set(P)}getBinding(u,m,b){return new Wf(u,m)}}class ci{constructor(u,m,b,P,N,B){this.expression=u,this.type=m,this.useIntegerZoom=b,this.zoom=P,this.layerId=B,this.zoomInPaintVertexArray=new N,this.zoomOutPaintVertexArray=new N}populatePaintArray(u,m,b){const P=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(u),this.zoomOutPaintVertexArray.resize(u),this._setPaintValues(P,u,m.patterns&&m.patterns[this.layerId],b)}updatePaintArray(u,m,b,P,N){this._setPaintValues(u,m,b.patterns&&b.patterns[this.layerId],N)}_setPaintValues(u,m,b,P){if(!P||!b)return;const{min:N,mid:B,max:U}=b,Y=P[N],J=P[B],ne=P[U];if(Y&&J&&ne)for(let ae=u;ae<m;ae++)this.zoomInPaintVertexArray.emplace(ae,J.tl[0],J.tl[1],J.br[0],J.br[1],Y.tl[0],Y.tl[1],Y.br[0],Y.br[1],J.pixelRatio,Y.pixelRatio),this.zoomOutPaintVertexArray.emplace(ae,J.tl[0],J.tl[1],J.br[0],J.br[1],ne.tl[0],ne.tl[1],ne.br[0],ne.br[1],J.pixelRatio,ne.pixelRatio)}upload(u){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=u.createVertexBuffer(this.zoomInPaintVertexArray,cc.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=u.createVertexBuffer(this.zoomOutPaintVertexArray,cc.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class $o{constructor(u,m,b){this.binders={},this._buffers=[];const P=[];for(const N in u.paint._values){if(!b(N))continue;const B=u.paint.get(N);if(!(B instanceof Hs&&Oc(B.property.specification)))continue;const U=$m(N,u.type),Y=B.value,J=B.property.specification.type,ne=B.property.useIntegerZoom,ae=B.property.specification["property-type"],ye=ae==="cross-faded"||ae==="cross-faded-data-driven";if(Y.kind==="constant")this.binders[N]=ye?new Ai(Y.value,U):new qa(Y.value,U,J),P.push(`/u_${N}`);else if(Y.kind==="source"||ye){const Se=Jo(N,J,"source");this.binders[N]=ye?new ci(Y,J,ne,m,Se,u.id):new mr(Y,U,J,Se),P.push(`/a_${N}`)}else{const Se=Jo(N,J,"composite");this.binders[N]=new ti(Y,U,J,ne,m,Se),P.push(`/z_${N}`)}}this.cacheKey=P.sort().join("")}getMaxValue(u){const m=this.binders[u];return m instanceof mr||m instanceof ti?m.maxValue:0}populatePaintArrays(u,m,b,P,N){for(const B in this.binders){const U=this.binders[B];(U instanceof mr||U instanceof ti||U instanceof ci)&&U.populatePaintArray(u,m,b,P,N)}}setConstantPatternPositions(u,m){for(const b in this.binders){const P=this.binders[b];P instanceof Ai&&P.setConstantPatternPositions(u,m)}}updatePaintArrays(u,m,b,P,N){let B=!1;for(const U in u){const Y=m.getPositions(U);for(const J of Y){const ne=b.feature(J.index);for(const ae in this.binders){const ye=this.binders[ae];if((ye instanceof mr||ye instanceof ti||ye instanceof ci)&&ye.expression.isStateDependent===!0){const Se=P.paint.get(ae);ye.expression=Se.value,ye.updatePaintArray(J.start,J.end,ne,u[U],N),B=!0}}}}return B}defines(){const u=[];for(const m in this.binders){const b=this.binders[m];(b instanceof qa||b instanceof Ai)&&u.push(...b.uniformNames.map(P=>`#define HAS_UNIFORM_${P}`))}return u}getBinderAttributes(){const u=[];for(const m in this.binders){const b=this.binders[m];if(b instanceof mr||b instanceof ti)for(let P=0;P<b.paintVertexAttributes.length;P++)u.push(b.paintVertexAttributes[P].name);else if(b instanceof ci)for(let P=0;P<cc.members.length;P++)u.push(cc.members[P].name)}return u}getBinderUniforms(){const u=[];for(const m in this.binders){const b=this.binders[m];if(b instanceof qa||b instanceof Ai||b instanceof ti)for(const P of b.uniformNames)u.push(P)}return u}getPaintVertexBuffers(){return this._buffers}getUniforms(u,m){const b=[];for(const P in this.binders){const N=this.binders[P];if(N instanceof qa||N instanceof Ai||N instanceof ti){for(const B of N.uniformNames)if(m[B]){const U=N.getBinding(u,m[B],B);b.push({name:B,property:P,binding:U})}}}return b}setUniforms(u,m,b,P){for(const{name:N,property:B,binding:U}of m)this.binders[B].setUniform(U,P,b.get(B),N)}updatePaintBuffers(u){this._buffers=[];for(const m in this.binders){const b=this.binders[m];if(u&&b instanceof ci){const P=u.fromScale===2?b.zoomInPaintVertexBuffer:b.zoomOutPaintVertexBuffer;P&&this._buffers.push(P)}else(b instanceof mr||b instanceof ti)&&b.paintVertexBuffer&&this._buffers.push(b.paintVertexBuffer)}}upload(u){for(const m in this.binders){const b=this.binders[m];(b instanceof mr||b instanceof ti||b instanceof ci)&&b.upload(u)}this.updatePaintBuffers()}destroy(){for(const u in this.binders){const m=this.binders[u];(m instanceof mr||m instanceof ti||m instanceof ci)&&m.destroy()}}}class vo{constructor(u,m,b=()=>!0){this.programConfigurations={};for(const P of u)this.programConfigurations[P.id]=new $o(P,m,b);this.needsUpload=!1,this._featureMap=new Di,this._bufferOffset=0}populatePaintArrays(u,m,b,P,N,B){for(const U in this.programConfigurations)this.programConfigurations[U].populatePaintArrays(u,m,P,N,B);m.id!==void 0&&this._featureMap.add(m.id,b,this._bufferOffset,u),this._bufferOffset=u,this.needsUpload=!0}updatePaintArrays(u,m,b,P){for(const N of b)this.needsUpload=this.programConfigurations[N.id].updatePaintArrays(u,this._featureMap,m,N,P)||this.needsUpload}get(u){return this.programConfigurations[u]}upload(u){if(this.needsUpload){for(const m in this.programConfigurations)this.programConfigurations[m].upload(u);this.needsUpload=!1}}destroy(){for(const u in this.programConfigurations)this.programConfigurations[u].destroy()}}function $m(f,u){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[f]||[f.replace(`${u}-`,"").replace(/-/g,"_")]}function Jo(f,u,m){const b={color:{source:Xo,composite:Le},number:{source:K,composite:Xo}},P=function(N){return{"line-pattern":{source:ei,composite:ei},"fill-pattern":{source:ei,composite:ei},"fill-extrusion-pattern":{source:ei,composite:ei}}[N]}(f);return P&&P[m]||b[u][m]}Sn("ConstantBinder",qa),Sn("CrossFadedConstantBinder",Ai),Sn("SourceExpressionBinder",mr),Sn("CrossFadedCompositeBinder",ci),Sn("CompositeExpressionBinder",ti),Sn("ProgramConfiguration",$o,{omit:["_buffers"]}),Sn("ProgramConfigurationSet",vo);const Yi=8192,Gf=Math.pow(2,14)-1,tv=-Gf-1;function Nd(f){const u=Yi/f.extent,m=f.loadGeometry();for(let b=0;b<m.length;b++){const P=m[b];for(let N=0;N<P.length;N++){const B=P[N],U=Math.round(B.x*u),Y=Math.round(B.y*u);B.x=L(U,tv,Gf),B.y=L(Y,tv,Gf),(U<B.x||U>B.x+1||Y<B.y||Y>B.y+1)&&ie("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return m}function jc(f,u){return{type:f.type,id:f.id,properties:f.properties,geometry:u?Nd(f):[]}}function qs(f,u,m,b,P){f.emplaceBack(2*u+(b+1)/2,2*m+(P+1)/2)}class nv{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(m=>m.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new Rn,this.indexArray=new Fo,this.segments=new li,this.programConfigurations=new vo(u.layers,u.zoom),this.stateDependentLayerIds=this.layers.filter(m=>m.isStateDependent()).map(m=>m.id)}populate(u,m,b){const P=this.layers[0],N=[];let B=null,U=!1;P.type==="circle"&&(B=P.layout.get("circle-sort-key"),U=!B.isConstant());for(const{feature:Y,id:J,index:ne,sourceLayerIndex:ae}of u){const ye=this.layers[0]._featureFilter.needGeometry,Se=jc(Y,ye);if(!this.layers[0]._featureFilter.filter(new Ei(this.zoom),Se,b))continue;const Ee=U?B.evaluate(Se,{},b):void 0,De={id:J,properties:Y.properties,type:Y.type,sourceLayerIndex:ae,index:ne,geometry:ye?Se.geometry:Nd(Y),patterns:{},sortKey:Ee};N.push(De)}U&&N.sort((Y,J)=>Y.sortKey-J.sortKey);for(const Y of N){const{geometry:J,index:ne,sourceLayerIndex:ae}=Y,ye=u[ne].feature;this.addFeature(Y,J,ne,b),m.featureIndex.insert(ye,J,ne,ae,this.index)}}update(u,m,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,m,this.stateDependentLayers,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Gs),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(u,m,b,P){for(const N of m)for(const B of N){const U=B.x,Y=B.y;if(U<0||U>=Yi||Y<0||Y>=Yi)continue;const J=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,u.sortKey),ne=J.vertexLength;qs(this.layoutVertexArray,U,Y,-1,-1),qs(this.layoutVertexArray,U,Y,1,-1),qs(this.layoutVertexArray,U,Y,1,1),qs(this.layoutVertexArray,U,Y,-1,1),this.indexArray.emplaceBack(ne,ne+1,ne+2),this.indexArray.emplaceBack(ne,ne+3,ne+2),J.vertexLength+=4,J.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,b,{},P)}}function lx(f,u){for(let m=0;m<f.length;m++)if(qf(u,f[m]))return!0;for(let m=0;m<u.length;m++)if(qf(f,u[m]))return!0;return!!zu(f,u)}function jm(f,u,m){return!!qf(f,u)||!!Bu(u,f,m)}function rv(f,u){if(f.length===1)return Um(u,f[0]);for(let m=0;m<u.length;m++){const b=u[m];for(let P=0;P<b.length;P++)if(qf(f,b[P]))return!0}for(let m=0;m<f.length;m++)if(Um(u,f[m]))return!0;for(let m=0;m<u.length;m++)if(zu(f,u[m]))return!0;return!1}function K1(f,u,m){if(f.length>1){if(zu(f,u))return!0;for(let b=0;b<u.length;b++)if(Bu(u[b],f,m))return!0}for(let b=0;b<f.length;b++)if(Bu(f[b],u,m))return!0;return!1}function zu(f,u){if(f.length===0||u.length===0)return!1;for(let m=0;m<f.length-1;m++){const b=f[m],P=f[m+1];for(let N=0;N<u.length-1;N++)if(cx(b,P,u[N],u[N+1]))return!0}return!1}function cx(f,u,m,b){return ce(f,m,b)!==ce(u,m,b)&&ce(f,u,m)!==ce(f,u,b)}function Bu(f,u,m){const b=m*m;if(u.length===1)return f.distSqr(u[0])<b;for(let P=1;P<u.length;P++)if(iv(f,u[P-1],u[P])<b)return!0;return!1}function iv(f,u,m){const b=u.distSqr(m);if(b===0)return f.distSqr(u);const P=((f.x-u.x)*(m.x-u.x)+(f.y-u.y)*(m.y-u.y))/b;return f.distSqr(P<0?u:P>1?m:m.sub(u)._mult(P)._add(u))}function Um(f,u){let m,b,P,N=!1;for(let B=0;B<f.length;B++){m=f[B];for(let U=0,Y=m.length-1;U<m.length;Y=U++)b=m[U],P=m[Y],b.y>u.y!=P.y>u.y&&u.x<(P.x-b.x)*(u.y-b.y)/(P.y-b.y)+b.x&&(N=!N)}return N}function qf(f,u){let m=!1;for(let b=0,P=f.length-1;b<f.length;P=b++){const N=f[b],B=f[P];N.y>u.y!=B.y>u.y&&u.x<(B.x-N.x)*(u.y-N.y)/(B.y-N.y)+N.x&&(m=!m)}return m}function ux(f,u,m){const b=m[0],P=m[2];if(f.x<b.x&&u.x<b.x||f.x>P.x&&u.x>P.x||f.y<b.y&&u.y<b.y||f.y>P.y&&u.y>P.y)return!1;const N=ce(f,u,m[0]);return N!==ce(f,u,m[1])||N!==ce(f,u,m[2])||N!==ce(f,u,m[3])}function Yf(f,u,m){const b=u.paint.get(f).value;return b.kind==="constant"?b.value:m.programConfigurations.get(u.id).getMaxValue(f)}function Ps(f){return Math.sqrt(f[0]*f[0]+f[1]*f[1])}function Uc(f,u,m,b,P){if(!u[0]&&!u[1])return f;const N=g.convert(u)._mult(P);m==="viewport"&&N._rotate(-b);const B=[];for(let U=0;U<f.length;U++)B.push(f[U].sub(N));return B}let Al,ov;Sn("CircleBucket",nv,{omit:["layers"]});var Ya={get paint(){return ov=ov||new so({"circle-radius":new nr(Je.paint_circle["circle-radius"]),"circle-color":new nr(Je.paint_circle["circle-color"]),"circle-blur":new nr(Je.paint_circle["circle-blur"]),"circle-opacity":new nr(Je.paint_circle["circle-opacity"]),"circle-translate":new zn(Je.paint_circle["circle-translate"]),"circle-translate-anchor":new zn(Je.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new zn(Je.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new zn(Je.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new nr(Je.paint_circle["circle-stroke-width"]),"circle-stroke-color":new nr(Je.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new nr(Je.paint_circle["circle-stroke-opacity"])})},get layout(){return Al=Al||new so({"circle-sort-key":new nr(Je.layout_circle["circle-sort-key"])})}},Ys=1e-6,Xf=typeof Float32Array<"u"?Float32Array:Array;function sv(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function XE(f,u,m){var b=u[0],P=u[1],N=u[2],B=u[3],U=u[4],Y=u[5],J=u[6],ne=u[7],ae=u[8],ye=u[9],Se=u[10],Ee=u[11],De=u[12],He=u[13],Ye=u[14],pt=u[15],nt=m[0],xt=m[1],It=m[2],Yt=m[3];return f[0]=nt*b+xt*U+It*ae+Yt*De,f[1]=nt*P+xt*Y+It*ye+Yt*He,f[2]=nt*N+xt*J+It*Se+Yt*Ye,f[3]=nt*B+xt*ne+It*Ee+Yt*pt,f[4]=(nt=m[4])*b+(xt=m[5])*U+(It=m[6])*ae+(Yt=m[7])*De,f[5]=nt*P+xt*Y+It*ye+Yt*He,f[6]=nt*N+xt*J+It*Se+Yt*Ye,f[7]=nt*B+xt*ne+It*Ee+Yt*pt,f[8]=(nt=m[8])*b+(xt=m[9])*U+(It=m[10])*ae+(Yt=m[11])*De,f[9]=nt*P+xt*Y+It*ye+Yt*He,f[10]=nt*N+xt*J+It*Se+Yt*Ye,f[11]=nt*B+xt*ne+It*Ee+Yt*pt,f[12]=(nt=m[12])*b+(xt=m[13])*U+(It=m[14])*ae+(Yt=m[15])*De,f[13]=nt*P+xt*Y+It*ye+Yt*He,f[14]=nt*N+xt*J+It*Se+Yt*Ye,f[15]=nt*B+xt*ne+It*Ee+Yt*pt,f}Math.hypot||(Math.hypot=function(){for(var f=0,u=arguments.length;u--;)f+=arguments[u]*arguments[u];return Math.sqrt(f)});var dc,KE=XE;function av(f,u,m){var b=u[0],P=u[1],N=u[2],B=u[3];return f[0]=m[0]*b+m[4]*P+m[8]*N+m[12]*B,f[1]=m[1]*b+m[5]*P+m[9]*N+m[13]*B,f[2]=m[2]*b+m[6]*P+m[10]*N+m[14]*B,f[3]=m[3]*b+m[7]*P+m[11]*N+m[15]*B,f}dc=new Xf(4),Xf!=Float32Array&&(dc[0]=0,dc[1]=0,dc[2]=0,dc[3]=0);class Z1 extends go{constructor(u){super(u,Ya)}createBucket(u){return new nv(u)}queryRadius(u){const m=u;return Yf("circle-radius",this,m)+Yf("circle-stroke-width",this,m)+Ps(this.paint.get("circle-translate"))}queryIntersectsFeature(u,m,b,P,N,B,U,Y){const J=Uc(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),B.angle,U),ne=this.paint.get("circle-radius").evaluate(m,b)+this.paint.get("circle-stroke-width").evaluate(m,b),ae=this.paint.get("circle-pitch-alignment")==="map",ye=ae?J:function(Ee,De){return Ee.map(He=>Kf(He,De))}(J,Y),Se=ae?ne*U:ne;for(const Ee of P)for(const De of Ee){const He=ae?De:Kf(De,Y);let Ye=Se;const pt=av([],[De.x,De.y,0,1],Y);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ye*=pt[3]/B.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ye*=B.cameraToCenterDistance/pt[3]),jm(ye,He,Ye))return!0}return!1}}function Kf(f,u){const m=av([],[f.x,f.y,0,1],u);return new g(m[0]/m[3],m[1]/m[3])}class J1 extends nv{}let Q1;Sn("HeatmapBucket",J1,{omit:["layers"]});var ew={get paint(){return Q1=Q1||new so({"heatmap-radius":new nr(Je.paint_heatmap["heatmap-radius"]),"heatmap-weight":new nr(Je.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new zn(Je.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Nm(Je.paint_heatmap["heatmap-color"]),"heatmap-opacity":new zn(Je.paint_heatmap["heatmap-opacity"])})}};function Vm(f,{width:u,height:m},b,P){if(P){if(P instanceof Uint8ClampedArray)P=new Uint8Array(P.buffer);else if(P.length!==u*m*b)throw new RangeError(`mismatched image size. expected: ${P.length} but got: ${u*m*b}`)}else P=new Uint8Array(u*m*b);return f.width=u,f.height=m,f.data=P,f}function ZE(f,{width:u,height:m},b){if(u===f.width&&m===f.height)return;const P=Vm({},{width:u,height:m},b);tw(f,P,{x:0,y:0},{x:0,y:0},{width:Math.min(f.width,u),height:Math.min(f.height,m)},b),f.width=u,f.height=m,f.data=P.data}function tw(f,u,m,b,P,N){if(P.width===0||P.height===0)return u;if(P.width>f.width||P.height>f.height||m.x>f.width-P.width||m.y>f.height-P.height)throw new RangeError("out of range source coordinates for image copy");if(P.width>u.width||P.height>u.height||b.x>u.width-P.width||b.y>u.height-P.height)throw new RangeError("out of range destination coordinates for image copy");const B=f.data,U=u.data;if(B===U)throw new Error("srcData equals dstData, so image is already copied");for(let Y=0;Y<P.height;Y++){const J=((m.y+Y)*f.width+m.x)*N,ne=((b.y+Y)*u.width+b.x)*N;for(let ae=0;ae<P.width*N;ae++)U[ne+ae]=B[J+ae]}return u}class Wm{constructor(u,m){Vm(this,u,1,m)}resize(u){ZE(this,u,1)}clone(){return new Wm({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,m,b,P,N){tw(u,m,b,P,N,1)}}class Xa{constructor(u,m){Vm(this,u,4,m)}resize(u){ZE(this,u,4)}replace(u,m){m?this.data.set(u):this.data=u instanceof Uint8ClampedArray?new Uint8Array(u.buffer):u}clone(){return new Xa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,m,b,P,N){tw(u,m,b,P,N,4)}}function Zf(f){const u={},m=f.resolution||256,b=f.clips?f.clips.length:1,P=f.image||new Xa({width:m,height:b});if(Math.log(m)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${m}`);const N=(B,U,Y)=>{u[f.evaluationKey]=Y;const J=f.expression.evaluate(u);P.data[B+U+0]=Math.floor(255*J.r/J.a),P.data[B+U+1]=Math.floor(255*J.g/J.a),P.data[B+U+2]=Math.floor(255*J.b/J.a),P.data[B+U+3]=Math.floor(255*J.a)};if(f.clips)for(let B=0,U=0;B<b;++B,U+=4*m)for(let Y=0,J=0;Y<m;Y++,J+=4){const ne=Y/(m-1),{start:ae,end:ye}=f.clips[B];N(U,J,ae*(1-ne)+ye*ne)}else for(let B=0,U=0;B<m;B++,U+=4)N(0,U,B/(m-1));return P}Sn("AlphaImage",Wm),Sn("RGBAImage",Xa);class dL extends go{createBucket(u){return new J1(u)}constructor(u){super(u,ew),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Zf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Jf;var JE={get paint(){return Jf=Jf||new so({"hillshade-illumination-direction":new zn(Je.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new zn(Je.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new zn(Je.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new zn(Je.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new zn(Je.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new zn(Je.paint_hillshade["hillshade-accent-color"])})}};class Ka extends go{constructor(u){super(u,JE)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const fL=Ci([{name:"a_pos",components:2,type:"Int16"}],4),{members:QE}=fL;var nw={exports:{}};function dx(f,u,m){m=m||2;var b,P,N,B,U,Y,J,ne=u&&u.length,ae=ne?u[0]*m:f.length,ye=rw(f,0,ae,m,!0),Se=[];if(!ye||ye.next===ye.prev)return Se;if(ne&&(ye=function(De,He,Ye,pt){var nt,xt,It,Yt=[];for(nt=0,xt=He.length;nt<xt;nt++)(It=rw(De,He[nt]*pt,nt<xt-1?He[nt+1]*pt:De.length,pt,!1))===It.next&&(It.steiner=!0),Yt.push(ow(It));for(Yt.sort(fx),nt=0;nt<Yt.length;nt++)Ye=np(Yt[nt],Ye);return Ye}(f,u,ye,m)),f.length>80*m){b=N=f[0],P=B=f[1];for(var Ee=m;Ee<ae;Ee+=m)(U=f[Ee])<b&&(b=U),(Y=f[Ee+1])<P&&(P=Y),U>N&&(N=U),Y>B&&(B=Y);J=(J=Math.max(N-b,B-P))!==0?32767/J:0}return lv(ye,Se,m,b,P,J,0),Se}function rw(f,u,m,b,P){var N,B;if(P===Q(f,u,m,b)>0)for(N=u;N<m;N+=b)B=E(N,f[N],f[N+1],B);else for(N=m-b;N>=u;N-=b)B=E(N,f[N],f[N+1],B);return B&&uv(B,B.next)&&($(B),B=B.next),B}function Qf(f,u){if(!f)return f;u||(u=f);var m,b=f;do if(m=!1,b.steiner||!uv(b,b.next)&&uo(b.prev,b,b.next)!==0)b=b.next;else{if($(b),(b=u=b.prev)===b.next)break;m=!0}while(m||b!==u);return u}function lv(f,u,m,b,P,N,B){if(f){!B&&N&&function(ne,ae,ye,Se){var Ee=ne;do Ee.z===0&&(Ee.z=cv(Ee.x,Ee.y,ae,ye,Se)),Ee.prevZ=Ee.prev,Ee.nextZ=Ee.next,Ee=Ee.next;while(Ee!==ne);Ee.prevZ.nextZ=null,Ee.prevZ=null,function(De){var He,Ye,pt,nt,xt,It,Yt,wn,Bn=1;do{for(Ye=De,De=null,xt=null,It=0;Ye;){for(It++,pt=Ye,Yt=0,He=0;He<Bn&&(Yt++,pt=pt.nextZ);He++);for(wn=Bn;Yt>0||wn>0&&pt;)Yt!==0&&(wn===0||!pt||Ye.z<=pt.z)?(nt=Ye,Ye=Ye.nextZ,Yt--):(nt=pt,pt=pt.nextZ,wn--),xt?xt.nextZ=nt:De=nt,nt.prevZ=xt,xt=nt;Ye=pt}xt.nextZ=null,Bn*=2}while(It>1)}(Ee)}(f,b,P,N);for(var U,Y,J=f;f.prev!==f.next;)if(U=f.prev,Y=f.next,N?iw(f,b,P,N):fc(f))u.push(U.i/m|0),u.push(f.i/m|0),u.push(Y.i/m|0),$(f),f=Y.next,J=Y.next;else if((f=Y)===J){B?B===1?lv(f=hL(Qf(f),u,m),u,m,b,P,N,2):B===2&&eh(f,u,m,b,P,N):lv(Qf(f),u,m,b,P,N,1);break}}}function fc(f){var u=f.prev,m=f,b=f.next;if(uo(u,m,b)>=0)return!1;for(var P=u.x,N=m.x,B=b.x,U=u.y,Y=m.y,J=b.y,ne=P<N?P<B?P:B:N<B?N:B,ae=U<Y?U<J?U:J:Y<J?Y:J,ye=P>N?P>B?P:B:N>B?N:B,Se=U>Y?U>J?U:J:Y>J?Y:J,Ee=b.next;Ee!==u;){if(Ee.x>=ne&&Ee.x<=ye&&Ee.y>=ae&&Ee.y<=Se&&Hm(P,U,N,Y,B,J,Ee.x,Ee.y)&&uo(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.next}return!0}function iw(f,u,m,b){var P=f.prev,N=f,B=f.next;if(uo(P,N,B)>=0)return!1;for(var U=P.x,Y=N.x,J=B.x,ne=P.y,ae=N.y,ye=B.y,Se=U<Y?U<J?U:J:Y<J?Y:J,Ee=ne<ae?ne<ye?ne:ye:ae<ye?ae:ye,De=U>Y?U>J?U:J:Y>J?Y:J,He=ne>ae?ne>ye?ne:ye:ae>ye?ae:ye,Ye=cv(Se,Ee,u,m,b),pt=cv(De,He,u,m,b),nt=f.prevZ,xt=f.nextZ;nt&&nt.z>=Ye&&xt&&xt.z<=pt;){if(nt.x>=Se&&nt.x<=De&&nt.y>=Ee&&nt.y<=He&&nt!==P&&nt!==B&&Hm(U,ne,Y,ae,J,ye,nt.x,nt.y)&&uo(nt.prev,nt,nt.next)>=0||(nt=nt.prevZ,xt.x>=Se&&xt.x<=De&&xt.y>=Ee&&xt.y<=He&&xt!==P&&xt!==B&&Hm(U,ne,Y,ae,J,ye,xt.x,xt.y)&&uo(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;nt&&nt.z>=Ye;){if(nt.x>=Se&&nt.x<=De&&nt.y>=Ee&&nt.y<=He&&nt!==P&&nt!==B&&Hm(U,ne,Y,ae,J,ye,nt.x,nt.y)&&uo(nt.prev,nt,nt.next)>=0)return!1;nt=nt.prevZ}for(;xt&&xt.z<=pt;){if(xt.x>=Se&&xt.x<=De&&xt.y>=Ee&&xt.y<=He&&xt!==P&&xt!==B&&Hm(U,ne,Y,ae,J,ye,xt.x,xt.y)&&uo(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function hL(f,u,m){var b=f;do{var P=b.prev,N=b.next.next;!uv(P,N)&&sw(P,b,b.next,N)&&dv(P,N)&&dv(N,P)&&(u.push(P.i/m|0),u.push(b.i/m|0),u.push(N.i/m|0),$(b),$(b.next),b=f=N),b=b.next}while(b!==f);return Qf(b)}function eh(f,u,m,b,P,N){var B=f;do{for(var U=B.next.next;U!==B.prev;){if(B.i!==U.i&&eT(B,U)){var Y=M(B,U);return B=Qf(B,B.next),Y=Qf(Y,Y.next),lv(B,u,m,b,P,N,0),void lv(Y,u,m,b,P,N,0)}U=U.next}B=B.next}while(B!==f)}function fx(f,u){return f.x-u.x}function np(f,u){var m=function(P,N){var B,U=N,Y=P.x,J=P.y,ne=-1/0;do{if(J<=U.y&&J>=U.next.y&&U.next.y!==U.y){var ae=U.x+(J-U.y)*(U.next.x-U.x)/(U.next.y-U.y);if(ae<=Y&&ae>ne&&(ne=ae,B=U.x<U.next.x?U:U.next,ae===Y))return B}U=U.next}while(U!==N);if(!B)return null;var ye,Se=B,Ee=B.x,De=B.y,He=1/0;U=B;do Y>=U.x&&U.x>=Ee&&Y!==U.x&&Hm(J<De?Y:ne,J,Ee,De,J<De?ne:Y,J,U.x,U.y)&&(ye=Math.abs(J-U.y)/(Y-U.x),dv(U,P)&&(ye<He||ye===He&&(U.x>B.x||U.x===B.x&&hx(B,U)))&&(B=U,He=ye)),U=U.next;while(U!==Se);return B}(f,u);if(!m)return u;var b=M(m,f);return Qf(b,b.next),Qf(m,m.next)}function hx(f,u){return uo(f.prev,f,u.prev)<0&&uo(u.next,f,f.next)<0}function cv(f,u,m,b,P){return(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f=(f-m)*P|0)|f<<8))|f<<4))|f<<2))|f<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-b)*P|0)|u<<8))|u<<4))|u<<2))|u<<1))<<1}function ow(f){var u=f,m=f;do(u.x<m.x||u.x===m.x&&u.y<m.y)&&(m=u),u=u.next;while(u!==f);return m}function Hm(f,u,m,b,P,N,B,U){return(P-B)*(u-U)>=(f-B)*(N-U)&&(f-B)*(b-U)>=(m-B)*(u-U)&&(m-B)*(N-U)>=(P-B)*(b-U)}function eT(f,u){return f.next.i!==u.i&&f.prev.i!==u.i&&!function(m,b){var P=m;do{if(P.i!==m.i&&P.next.i!==m.i&&P.i!==b.i&&P.next.i!==b.i&&sw(P,P.next,m,b))return!0;P=P.next}while(P!==m);return!1}(f,u)&&(dv(f,u)&&dv(u,f)&&function(m,b){var P=m,N=!1,B=(m.x+b.x)/2,U=(m.y+b.y)/2;do P.y>U!=P.next.y>U&&P.next.y!==P.y&&B<(P.next.x-P.x)*(U-P.y)/(P.next.y-P.y)+P.x&&(N=!N),P=P.next;while(P!==m);return N}(f,u)&&(uo(f.prev,f,u.prev)||uo(f,u.prev,u))||uv(f,u)&&uo(f.prev,f,f.next)>0&&uo(u.prev,u,u.next)>0)}function uo(f,u,m){return(u.y-f.y)*(m.x-u.x)-(u.x-f.x)*(m.y-u.y)}function uv(f,u){return f.x===u.x&&f.y===u.y}function sw(f,u,m,b){var P=px(uo(f,u,m)),N=px(uo(f,u,b)),B=px(uo(m,b,f)),U=px(uo(m,b,u));return P!==N&&B!==U||!(P!==0||!Gm(f,m,u))||!(N!==0||!Gm(f,b,u))||!(B!==0||!Gm(m,f,b))||!(U!==0||!Gm(m,u,b))}function Gm(f,u,m){return u.x<=Math.max(f.x,m.x)&&u.x>=Math.min(f.x,m.x)&&u.y<=Math.max(f.y,m.y)&&u.y>=Math.min(f.y,m.y)}function px(f){return f>0?1:f<0?-1:0}function dv(f,u){return uo(f.prev,f,f.next)<0?uo(f,u,f.next)>=0&&uo(f,f.prev,u)>=0:uo(f,u,f.prev)<0||uo(f,f.next,u)<0}function M(f,u){var m=new q(f.i,f.x,f.y),b=new q(u.i,u.x,u.y),P=f.next,N=u.prev;return f.next=u,u.prev=f,m.next=P,P.prev=m,b.next=m,m.prev=b,N.next=b,b.prev=N,b}function E(f,u,m,b){var P=new q(f,u,m);return b?(P.next=b.next,P.prev=b,b.next.prev=P,b.next=P):(P.prev=P,P.next=P),P}function $(f){f.next.prev=f.prev,f.prev.next=f.next,f.prevZ&&(f.prevZ.nextZ=f.nextZ),f.nextZ&&(f.nextZ.prevZ=f.prevZ)}function q(f,u,m){this.i=f,this.x=u,this.y=m,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Q(f,u,m,b){for(var P=0,N=u,B=m-b;N<m;N+=b)P+=(f[B]-f[N])*(f[N+1]+f[B+1]),B=N;return P}nw.exports=dx,nw.exports.default=dx,dx.deviation=function(f,u,m,b){var P=u&&u.length,N=Math.abs(Q(f,0,P?u[0]*m:f.length,m));if(P)for(var B=0,U=u.length;B<U;B++)N-=Math.abs(Q(f,u[B]*m,B<U-1?u[B+1]*m:f.length,m));var Y=0;for(B=0;B<b.length;B+=3){var J=b[B]*m,ne=b[B+1]*m,ae=b[B+2]*m;Y+=Math.abs((f[J]-f[ae])*(f[ne+1]-f[J+1])-(f[J]-f[ne])*(f[ae+1]-f[J+1]))}return N===0&&Y===0?0:Math.abs((Y-N)/N)},dx.flatten=function(f){for(var u=f[0][0].length,m={vertices:[],holes:[],dimensions:u},b=0,P=0;P<f.length;P++){for(var N=0;N<f[P].length;N++)for(var B=0;B<u;B++)m.vertices.push(f[P][N][B]);P>0&&m.holes.push(b+=f[P-1].length)}return m};var ue=c(nw.exports);function We(f,u,m,b,P){_t(f,u,m||0,b||f.length-1,P||yn)}function _t(f,u,m,b,P){for(;b>m;){if(b-m>600){var N=b-m+1,B=u-m+1,U=Math.log(N),Y=.5*Math.exp(2*U/3),J=.5*Math.sqrt(U*Y*(N-Y)/N)*(B-N/2<0?-1:1);_t(f,u,Math.max(m,Math.floor(u-B*Y/N+J)),Math.min(b,Math.floor(u+(N-B)*Y/N+J)),P)}var ne=f[u],ae=m,ye=b;for(Vt(f,m,u),P(f[b],ne)>0&&Vt(f,m,b);ae<ye;){for(Vt(f,ae,ye),ae++,ye--;P(f[ae],ne)<0;)ae++;for(;P(f[ye],ne)>0;)ye--}P(f[m],ne)===0?Vt(f,m,ye):Vt(f,++ye,b),ye<=u&&(m=ye+1),u<=ye&&(b=ye-1)}}function Vt(f,u,m){var b=f[u];f[u]=f[m],f[m]=b}function yn(f,u){return f<u?-1:f>u?1:0}function Wn(f,u){const m=f.length;if(m<=1)return[f];const b=[];let P,N;for(let B=0;B<m;B++){const U=fe(f[B]);U!==0&&(f[B].area=Math.abs(U),N===void 0&&(N=U<0),N===U<0?(P&&b.push(P),P=[f[B]]):P.push(f[B]))}if(P&&b.push(P),u>1)for(let B=0;B<b.length;B++)b[B].length<=u||(We(b[B],u,1,b[B].length-1,Cr),b[B]=b[B].slice(0,u));return b}function Cr(f,u){return u.area-f.area}function lr(f,u,m){const b=m.patternDependencies;let P=!1;for(const N of u){const B=N.paint.get(`${f}-pattern`);B.isConstant()||(P=!0);const U=B.constantOr(null);U&&(P=!0,b[U.to]=!0,b[U.from]=!0)}return P}function Pi(f,u,m,b,P){const N=P.patternDependencies;for(const B of u){const U=B.paint.get(`${f}-pattern`).value;if(U.kind!=="constant"){let Y=U.evaluate({zoom:b-1},m,{},P.availableImages),J=U.evaluate({zoom:b},m,{},P.availableImages),ne=U.evaluate({zoom:b+1},m,{},P.availableImages);Y=Y&&Y.name?Y.name:Y,J=J&&J.name?J.name:J,ne=ne&&ne.name?ne.name:ne,N[Y]=!0,N[J]=!0,N[ne]=!0,m.patterns[B.id]={min:Y,mid:J,max:ne}}}return m}class rr{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(m=>m.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pr,this.indexArray=new Fo,this.indexArray2=new yo,this.programConfigurations=new vo(u.layers,u.zoom),this.segments=new li,this.segments2=new li,this.stateDependentLayerIds=this.layers.filter(m=>m.isStateDependent()).map(m=>m.id)}populate(u,m,b){this.hasPattern=lr("fill",this.layers,m);const P=this.layers[0].layout.get("fill-sort-key"),N=!P.isConstant(),B=[];for(const{feature:U,id:Y,index:J,sourceLayerIndex:ne}of u){const ae=this.layers[0]._featureFilter.needGeometry,ye=jc(U,ae);if(!this.layers[0]._featureFilter.filter(new Ei(this.zoom),ye,b))continue;const Se=N?P.evaluate(ye,{},b,m.availableImages):void 0,Ee={id:Y,properties:U.properties,type:U.type,sourceLayerIndex:ne,index:J,geometry:ae?ye.geometry:Nd(U),patterns:{},sortKey:Se};B.push(Ee)}N&&B.sort((U,Y)=>U.sortKey-Y.sortKey);for(const U of B){const{geometry:Y,index:J,sourceLayerIndex:ne}=U;if(this.hasPattern){const ae=Pi("fill",this.layers,U,this.zoom,m);this.patternFeatures.push(ae)}else this.addFeature(U,Y,J,b,{});m.featureIndex.insert(u[J].feature,Y,J,ne,this.index)}}update(u,m,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,m,this.stateDependentLayers,b)}addFeatures(u,m,b){for(const P of this.patternFeatures)this.addFeature(P,P.geometry,P.index,m,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,QE),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.indexBuffer2=u.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(u,m,b,P,N){for(const B of Wn(m,500)){let U=0;for(const Se of B)U+=Se.length;const Y=this.segments.prepareSegment(U,this.layoutVertexArray,this.indexArray),J=Y.vertexLength,ne=[],ae=[];for(const Se of B){if(Se.length===0)continue;Se!==B[0]&&ae.push(ne.length/2);const Ee=this.segments2.prepareSegment(Se.length,this.layoutVertexArray,this.indexArray2),De=Ee.vertexLength;this.layoutVertexArray.emplaceBack(Se[0].x,Se[0].y),this.indexArray2.emplaceBack(De+Se.length-1,De),ne.push(Se[0].x),ne.push(Se[0].y);for(let He=1;He<Se.length;He++)this.layoutVertexArray.emplaceBack(Se[He].x,Se[He].y),this.indexArray2.emplaceBack(De+He-1,De+He),ne.push(Se[He].x),ne.push(Se[He].y);Ee.vertexLength+=Se.length,Ee.primitiveLength+=Se.length}const ye=ue(ne,ae);for(let Se=0;Se<ye.length;Se+=3)this.indexArray.emplaceBack(J+ye[Se],J+ye[Se+1],J+ye[Se+2]);Y.vertexLength+=U,Y.primitiveLength+=ye.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,b,N,P)}}let Xs,Pl;Sn("FillBucket",rr,{omit:["layers","patternFeatures"]});var Lt={get paint(){return Pl=Pl||new so({"fill-antialias":new zn(Je.paint_fill["fill-antialias"]),"fill-opacity":new nr(Je.paint_fill["fill-opacity"]),"fill-color":new nr(Je.paint_fill["fill-color"]),"fill-outline-color":new nr(Je.paint_fill["fill-outline-color"]),"fill-translate":new zn(Je.paint_fill["fill-translate"]),"fill-translate-anchor":new zn(Je.paint_fill["fill-translate-anchor"]),"fill-pattern":new Uf(Je.paint_fill["fill-pattern"])})},get layout(){return Xs=Xs||new so({"fill-sort-key":new nr(Je.layout_fill["fill-sort-key"])})}};class St extends go{constructor(u){super(u,Lt)}recalculate(u,m){super.recalculate(u,m);const b=this.paint._values["fill-outline-color"];b.value.kind==="constant"&&b.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new rr(u)}queryRadius(){return Ps(this.paint.get("fill-translate"))}queryIntersectsFeature(u,m,b,P,N,B,U){return rv(Uc(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),B.angle,U),P)}isTileClipped(){return!0}}const Bt=Ci([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Ln=Ci([{name:"a_centroid",components:2,type:"Int16"}],4),{members:or}=Bt;var wr={},Ar=h,ni=xo;function xo(f,u,m,b,P){this.properties={},this.extent=m,this.type=0,this._pbf=f,this._geometry=-1,this._keys=b,this._values=P,f.readFields(oi,this,u)}function oi(f,u,m){f==1?u.id=m.readVarint():f==2?function(b,P){for(var N=b.readVarint()+b.pos;b.pos<N;){var B=P._keys[b.readVarint()],U=P._values[b.readVarint()];P.properties[B]=U}}(m,u):f==3?u.type=m.readVarint():f==4&&(u._geometry=m.pos)}function th(f){for(var u,m,b=0,P=0,N=f.length,B=N-1;P<N;B=P++)b+=((m=f[B]).x-(u=f[P]).x)*(u.y+m.y);return b}xo.types=["Unknown","Point","LineString","Polygon"],xo.prototype.loadGeometry=function(){var f=this._pbf;f.pos=this._geometry;for(var u,m=f.readVarint()+f.pos,b=1,P=0,N=0,B=0,U=[];f.pos<m;){if(P<=0){var Y=f.readVarint();b=7&Y,P=Y>>3}if(P--,b===1||b===2)N+=f.readSVarint(),B+=f.readSVarint(),b===1&&(u&&U.push(u),u=[]),u.push(new Ar(N,B));else{if(b!==7)throw new Error("unknown command "+b);u&&u.push(u[0].clone())}}return u&&U.push(u),U},xo.prototype.bbox=function(){var f=this._pbf;f.pos=this._geometry;for(var u=f.readVarint()+f.pos,m=1,b=0,P=0,N=0,B=1/0,U=-1/0,Y=1/0,J=-1/0;f.pos<u;){if(b<=0){var ne=f.readVarint();m=7&ne,b=ne>>3}if(b--,m===1||m===2)(P+=f.readSVarint())<B&&(B=P),P>U&&(U=P),(N+=f.readSVarint())<Y&&(Y=N),N>J&&(J=N);else if(m!==7)throw new Error("unknown command "+m)}return[B,Y,U,J]},xo.prototype.toGeoJSON=function(f,u,m){var b,P,N=this.extent*Math.pow(2,m),B=this.extent*f,U=this.extent*u,Y=this.loadGeometry(),J=xo.types[this.type];function ne(Se){for(var Ee=0;Ee<Se.length;Ee++){var De=Se[Ee];Se[Ee]=[360*(De.x+B)/N-180,360/Math.PI*Math.atan(Math.exp((180-360*(De.y+U)/N)*Math.PI/180))-90]}}switch(this.type){case 1:var ae=[];for(b=0;b<Y.length;b++)ae[b]=Y[b][0];ne(Y=ae);break;case 2:for(b=0;b<Y.length;b++)ne(Y[b]);break;case 3:for(Y=function(Se){var Ee=Se.length;if(Ee<=1)return[Se];for(var De,He,Ye=[],pt=0;pt<Ee;pt++){var nt=th(Se[pt]);nt!==0&&(He===void 0&&(He=nt<0),He===nt<0?(De&&Ye.push(De),De=[Se[pt]]):De.push(Se[pt]))}return De&&Ye.push(De),Ye}(Y),b=0;b<Y.length;b++)for(P=0;P<Y[b].length;P++)ne(Y[b][P])}Y.length===1?Y=Y[0]:J="Multi"+J;var ye={type:"Feature",geometry:{type:J,coordinates:Y},properties:this.properties};return"id"in this&&(ye.id=this.id),ye};var pL=ni,R8=O8;function O8(f,u){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=f,this._keys=[],this._values=[],this._features=[],f.readFields(vfe,this,u),this.length=this._features.length}function vfe(f,u,m){f===15?u.version=m.readVarint():f===1?u.name=m.readString():f===5?u.extent=m.readVarint():f===2?u._features.push(m.pos):f===3?u._keys.push(m.readString()):f===4&&u._values.push(function(b){for(var P=null,N=b.readVarint()+b.pos;b.pos<N;){var B=b.readVarint()>>3;P=B===1?b.readString():B===2?b.readFloat():B===3?b.readDouble():B===4?b.readVarint64():B===5?b.readVarint():B===6?b.readSVarint():B===7?b.readBoolean():null}return P}(m))}O8.prototype.feature=function(f){if(f<0||f>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[f];var u=this._pbf.readVarint()+this._pbf.pos;return new pL(this._pbf,u,this.extent,this._keys,this._values)};var xfe=R8;function _fe(f,u,m){if(f===3){var b=new xfe(m,m.readVarint()+m.pos);b.length&&(u[b.name]=b)}}wr.VectorTile=function(f,u){this.layers=f.readFields(_fe,{},u)},wr.VectorTileFeature=ni,wr.VectorTileLayer=R8;const bfe=wr.VectorTileFeature.types,mL=Math.pow(2,13);function aw(f,u,m,b,P,N,B,U){f.emplaceBack(u,m,2*Math.floor(b*mL)+B,P*mL*2,N*mL*2,Math.round(U))}class gL{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(m=>m.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new dn,this.centroidVertexArray=new ln,this.indexArray=new Fo,this.programConfigurations=new vo(u.layers,u.zoom),this.segments=new li,this.stateDependentLayerIds=this.layers.filter(m=>m.isStateDependent()).map(m=>m.id)}populate(u,m,b){this.features=[],this.hasPattern=lr("fill-extrusion",this.layers,m);for(const{feature:P,id:N,index:B,sourceLayerIndex:U}of u){const Y=this.layers[0]._featureFilter.needGeometry,J=jc(P,Y);if(!this.layers[0]._featureFilter.filter(new Ei(this.zoom),J,b))continue;const ne={id:N,sourceLayerIndex:U,index:B,geometry:Y?J.geometry:Nd(P),properties:P.properties,type:P.type,patterns:{}};this.hasPattern?this.features.push(Pi("fill-extrusion",this.layers,ne,this.zoom,m)):this.addFeature(ne,ne.geometry,B,b,{}),m.featureIndex.insert(P,ne.geometry,B,U,this.index,!0)}}addFeatures(u,m,b){for(const P of this.features){const{geometry:N}=P;this.addFeature(P,N,P.index,m,b)}}update(u,m,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,m,this.stateDependentLayers,b)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,or),this.centroidVertexBuffer=u.createVertexBuffer(this.centroidVertexArray,Ln.members,!0),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(u,m,b,P,N){const B={x:0,y:0,vertexCount:0};for(const U of Wn(m,500)){let Y=0;for(const Ee of U)Y+=Ee.length;let J=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Ee of U){if(Ee.length===0||Sfe(Ee))continue;let De=0;for(let He=0;He<Ee.length;He++){const Ye=Ee[He];if(He>=1){const pt=Ee[He-1];if(!wfe(Ye,pt)){J.vertexLength+4>li.MAX_VERTEX_ARRAY_LENGTH&&(J=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const nt=Ye.sub(pt)._perp()._unit(),xt=pt.dist(Ye);De+xt>32768&&(De=0),aw(this.layoutVertexArray,Ye.x,Ye.y,nt.x,nt.y,0,0,De),aw(this.layoutVertexArray,Ye.x,Ye.y,nt.x,nt.y,0,1,De),B.x+=2*Ye.x,B.y+=2*Ye.y,B.vertexCount+=2,De+=xt,aw(this.layoutVertexArray,pt.x,pt.y,nt.x,nt.y,0,0,De),aw(this.layoutVertexArray,pt.x,pt.y,nt.x,nt.y,0,1,De),B.x+=2*pt.x,B.y+=2*pt.y,B.vertexCount+=2;const It=J.vertexLength;this.indexArray.emplaceBack(It,It+2,It+1),this.indexArray.emplaceBack(It+1,It+2,It+3),J.vertexLength+=4,J.primitiveLength+=2}}}}if(J.vertexLength+Y>li.MAX_VERTEX_ARRAY_LENGTH&&(J=this.segments.prepareSegment(Y,this.layoutVertexArray,this.indexArray)),bfe[u.type]!=="Polygon")continue;const ne=[],ae=[],ye=J.vertexLength;for(const Ee of U)if(Ee.length!==0){Ee!==U[0]&&ae.push(ne.length/2);for(let De=0;De<Ee.length;De++){const He=Ee[De];aw(this.layoutVertexArray,He.x,He.y,0,0,1,1,0),B.x+=He.x,B.y+=He.y,B.vertexCount+=1,ne.push(He.x),ne.push(He.y)}}const Se=ue(ne,ae);for(let Ee=0;Ee<Se.length;Ee+=3)this.indexArray.emplaceBack(ye+Se[Ee],ye+Se[Ee+2],ye+Se[Ee+1]);J.primitiveLength+=Se.length/3,J.vertexLength+=Y}for(let U=0;U<B.vertexCount;U++)this.centroidVertexArray.emplaceBack(Math.floor(B.x/B.vertexCount),Math.floor(B.y/B.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,b,N,P)}}function wfe(f,u){return f.x===u.x&&(f.x<0||f.x>Yi)||f.y===u.y&&(f.y<0||f.y>Yi)}function Sfe(f){return f.every(u=>u.x<0)||f.every(u=>u.x>Yi)||f.every(u=>u.y<0)||f.every(u=>u.y>Yi)}let L8;Sn("FillExtrusionBucket",gL,{omit:["layers","features"]});var Mfe={get paint(){return L8=L8||new so({"fill-extrusion-opacity":new zn(Je["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new nr(Je["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new zn(Je["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new zn(Je["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Uf(Je["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new nr(Je["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new nr(Je["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new zn(Je["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Efe extends go{constructor(u){super(u,Mfe)}createBucket(u){return new gL(u)}queryRadius(){return Ps(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(u,m,b,P,N,B,U,Y){const J=Uc(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),B.angle,U),ne=this.paint.get("fill-extrusion-height").evaluate(m,b),ae=this.paint.get("fill-extrusion-base").evaluate(m,b),ye=function(Ee,De,He,Ye){const pt=[];for(const nt of Ee){const xt=[nt.x,nt.y,0,1];av(xt,xt,De),pt.push(new g(xt[0]/xt[3],xt[1]/xt[3]))}return pt}(J,Y),Se=function(Ee,De,He,Ye){const pt=[],nt=[],xt=Ye[8]*De,It=Ye[9]*De,Yt=Ye[10]*De,wn=Ye[11]*De,Bn=Ye[8]*He,bn=Ye[9]*He,vn=Ye[10]*He,fn=Ye[11]*He;for(const In of Ee){const mn=[],on=[];for(const Qn of In){const Hn=Qn.x,Ir=Qn.y,Xi=Ye[0]*Hn+Ye[4]*Ir+Ye[12],io=Ye[1]*Hn+Ye[5]*Ir+Ye[13],fs=Ye[2]*Hn+Ye[6]*Ir+Ye[14],hc=Ye[3]*Hn+Ye[7]*Ir+Ye[15],Za=fs+Yt,Qo=hc+wn,Ks=Xi+Bn,aa=io+bn,Ja=fs+vn,Qa=hc+fn,hs=new g((Xi+xt)/Qo,(io+It)/Qo);hs.z=Za/Qo,mn.push(hs);const ps=new g(Ks/Qa,aa/Qa);ps.z=Ja/Qa,on.push(ps)}pt.push(mn),nt.push(on)}return[pt,nt]}(P,ae,ne,Y);return function(Ee,De,He){let Ye=1/0;rv(He,De)&&(Ye=D8(He,De[0]));for(let pt=0;pt<De.length;pt++){const nt=De[pt],xt=Ee[pt];for(let It=0;It<nt.length-1;It++){const Yt=nt[It],wn=[Yt,nt[It+1],xt[It+1],xt[It],Yt];lx(He,wn)&&(Ye=Math.min(Ye,D8(He,wn)))}}return Ye!==1/0&&Ye}(Se[0],Se[1],ye)}}function lw(f,u){return f.x*u.x+f.y*u.y}function D8(f,u){if(f.length===1){let m=0;const b=u[m++];let P;for(;!P||b.equals(P);)if(P=u[m++],!P)return 1/0;for(;m<u.length;m++){const N=u[m],B=f[0],U=P.sub(b),Y=N.sub(b),J=B.sub(b),ne=lw(U,U),ae=lw(U,Y),ye=lw(Y,Y),Se=lw(J,U),Ee=lw(J,Y),De=ne*ye-ae*ae,He=(ye*Se-ae*Ee)/De,Ye=(ne*Ee-ae*Se)/De,pt=b.z*(1-He-Ye)+P.z*He+N.z*Ye;if(isFinite(pt))return pt}return 1/0}{let m=1/0;for(const b of u)m=Math.min(m,b.z);return m}}const Tfe=Ci([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Cfe}=Tfe,Afe=Ci([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Pfe}=Afe,Ife=wr.VectorTileFeature.types,kfe=Math.cos(Math.PI/180*37.5),N8=Math.pow(2,14)/.5;class yL{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(m=>m.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(m=>{this.gradients[m.id]={}}),this.layoutVertexArray=new Jn,this.layoutVertexArray2=new On,this.indexArray=new Fo,this.programConfigurations=new vo(u.layers,u.zoom),this.segments=new li,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(m=>m.isStateDependent()).map(m=>m.id)}populate(u,m,b){this.hasPattern=lr("line",this.layers,m);const P=this.layers[0].layout.get("line-sort-key"),N=!P.isConstant(),B=[];for(const{feature:U,id:Y,index:J,sourceLayerIndex:ne}of u){const ae=this.layers[0]._featureFilter.needGeometry,ye=jc(U,ae);if(!this.layers[0]._featureFilter.filter(new Ei(this.zoom),ye,b))continue;const Se=N?P.evaluate(ye,{},b):void 0,Ee={id:Y,properties:U.properties,type:U.type,sourceLayerIndex:ne,index:J,geometry:ae?ye.geometry:Nd(U),patterns:{},sortKey:Se};B.push(Ee)}N&&B.sort((U,Y)=>U.sortKey-Y.sortKey);for(const U of B){const{geometry:Y,index:J,sourceLayerIndex:ne}=U;if(this.hasPattern){const ae=Pi("line",this.layers,U,this.zoom,m);this.patternFeatures.push(ae)}else this.addFeature(U,Y,J,b,{});m.featureIndex.insert(u[J].feature,Y,J,ne,this.index)}}update(u,m,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,m,this.stateDependentLayers,b)}addFeatures(u,m,b){for(const P of this.patternFeatures)this.addFeature(P,P.geometry,P.index,m,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=u.createVertexBuffer(this.layoutVertexArray2,Pfe)),this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Cfe),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(u){if(u.properties&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_end"))return{start:+u.properties.mapbox_clip_start,end:+u.properties.mapbox_clip_end}}addFeature(u,m,b,P,N){const B=this.layers[0].layout,U=B.get("line-join").evaluate(u,{}),Y=B.get("line-cap"),J=B.get("line-miter-limit"),ne=B.get("line-round-limit");this.lineClips=this.lineFeatureClips(u);for(const ae of m)this.addLine(ae,u,U,Y,J,ne);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,b,N,P)}addLine(u,m,b,P,N,B){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ye=0;Ye<u.length-1;Ye++)this.totalDistance+=u[Ye].dist(u[Ye+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const U=Ife[m.type]==="Polygon";let Y=u.length;for(;Y>=2&&u[Y-1].equals(u[Y-2]);)Y--;let J=0;for(;J<Y-1&&u[J].equals(u[J+1]);)J++;if(Y<(U?3:2))return;b==="bevel"&&(N=1.05);const ne=this.overscaling<=16?15*Yi/(512*this.overscaling):0,ae=this.segments.prepareSegment(10*Y,this.layoutVertexArray,this.indexArray);let ye,Se,Ee,De,He;this.e1=this.e2=-1,U&&(ye=u[Y-2],He=u[J].sub(ye)._unit()._perp());for(let Ye=J;Ye<Y;Ye++){if(Ee=Ye===Y-1?U?u[J+1]:void 0:u[Ye+1],Ee&&u[Ye].equals(Ee))continue;He&&(De=He),ye&&(Se=ye),ye=u[Ye],He=Ee?Ee.sub(ye)._unit()._perp():De,De=De||He;let pt=De.add(He);pt.x===0&&pt.y===0||pt._unit();const nt=De.x*He.x+De.y*He.y,xt=pt.x*He.x+pt.y*He.y,It=xt!==0?1/xt:1/0,Yt=2*Math.sqrt(2-2*xt),wn=xt<kfe&&Se&&Ee,Bn=De.x*He.y-De.y*He.x>0;if(wn&&Ye>J){const fn=ye.dist(Se);if(fn>2*ne){const In=ye.sub(ye.sub(Se)._mult(ne/fn)._round());this.updateDistance(Se,In),this.addCurrentVertex(In,De,0,0,ae),Se=In}}const bn=Se&&Ee;let vn=bn?b:U?"butt":P;if(bn&&vn==="round"&&(It<B?vn="miter":It<=2&&(vn="fakeround")),vn==="miter"&&It>N&&(vn="bevel"),vn==="bevel"&&(It>2&&(vn="flipbevel"),It<N&&(vn="miter")),Se&&this.updateDistance(Se,ye),vn==="miter")pt._mult(It),this.addCurrentVertex(ye,pt,0,0,ae);else if(vn==="flipbevel"){if(It>100)pt=He.mult(-1);else{const fn=It*De.add(He).mag()/De.sub(He).mag();pt._perp()._mult(fn*(Bn?-1:1))}this.addCurrentVertex(ye,pt,0,0,ae),this.addCurrentVertex(ye,pt.mult(-1),0,0,ae)}else if(vn==="bevel"||vn==="fakeround"){const fn=-Math.sqrt(It*It-1),In=Bn?fn:0,mn=Bn?0:fn;if(Se&&this.addCurrentVertex(ye,De,In,mn,ae),vn==="fakeround"){const on=Math.round(180*Yt/Math.PI/20);for(let Qn=1;Qn<on;Qn++){let Hn=Qn/on;if(Hn!==.5){const Xi=Hn-.5;Hn+=Hn*Xi*(Hn-1)*((1.0904+nt*(nt*(3.55645-1.43519*nt)-3.2452))*Xi*Xi+(.848013+nt*(.215638*nt-1.06021)))}const Ir=He.sub(De)._mult(Hn)._add(De)._unit()._mult(Bn?-1:1);this.addHalfVertex(ye,Ir.x,Ir.y,!1,Bn,0,ae)}}Ee&&this.addCurrentVertex(ye,He,-In,-mn,ae)}else if(vn==="butt")this.addCurrentVertex(ye,pt,0,0,ae);else if(vn==="square"){const fn=Se?1:-1;this.addCurrentVertex(ye,pt,fn,fn,ae)}else vn==="round"&&(Se&&(this.addCurrentVertex(ye,De,0,0,ae),this.addCurrentVertex(ye,De,1,1,ae,!0)),Ee&&(this.addCurrentVertex(ye,He,-1,-1,ae,!0),this.addCurrentVertex(ye,He,0,0,ae)));if(wn&&Ye<Y-1){const fn=ye.dist(Ee);if(fn>2*ne){const In=ye.add(Ee.sub(ye)._mult(ne/fn)._round());this.updateDistance(ye,In),this.addCurrentVertex(In,He,0,0,ae),ye=In}}}}addCurrentVertex(u,m,b,P,N,B=!1){const U=m.y*P-m.x,Y=-m.y-m.x*P;this.addHalfVertex(u,m.x+m.y*b,m.y-m.x*b,B,!1,b,N),this.addHalfVertex(u,U,Y,B,!0,-P,N),this.distance>N8/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(u,m,b,P,N,B))}addHalfVertex({x:u,y:m},b,P,N,B,U,Y){const J=.5*(this.lineClips?this.scaledDistance*(N8-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((u<<1)+(N?1:0),(m<<1)+(B?1:0),Math.round(63*b)+128,Math.round(63*P)+128,1+(U===0?0:U<0?-1:1)|(63&J)<<2,J>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const ne=Y.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,ne),Y.primitiveLength++),B?this.e2=ne:this.e1=ne}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(u,m){this.distance+=u.dist(m),this.updateScaledDistance()}}let z8,B8;Sn("LineBucket",yL,{omit:["layers","patternFeatures"]});var F8={get paint(){return B8=B8||new so({"line-opacity":new nr(Je.paint_line["line-opacity"]),"line-color":new nr(Je.paint_line["line-color"]),"line-translate":new zn(Je.paint_line["line-translate"]),"line-translate-anchor":new zn(Je.paint_line["line-translate-anchor"]),"line-width":new nr(Je.paint_line["line-width"]),"line-gap-width":new nr(Je.paint_line["line-gap-width"]),"line-offset":new nr(Je.paint_line["line-offset"]),"line-blur":new nr(Je.paint_line["line-blur"]),"line-dasharray":new Dm(Je.paint_line["line-dasharray"]),"line-pattern":new Uf(Je.paint_line["line-pattern"]),"line-gradient":new Nm(Je.paint_line["line-gradient"])})},get layout(){return z8=z8||new so({"line-cap":new zn(Je.layout_line["line-cap"]),"line-join":new nr(Je.layout_line["line-join"]),"line-miter-limit":new zn(Je.layout_line["line-miter-limit"]),"line-round-limit":new zn(Je.layout_line["line-round-limit"]),"line-sort-key":new nr(Je.layout_line["line-sort-key"])})}};class Rfe extends nr{possiblyEvaluate(u,m){return m=new Ei(Math.floor(m.zoom),{now:m.now,fadeDuration:m.fadeDuration,zoomHistory:m.zoomHistory,transition:m.transition}),super.possiblyEvaluate(u,m)}evaluate(u,m,b,P){return m=H({},m,{zoom:Math.floor(m.zoom)}),super.evaluate(u,m,b,P)}}let tT;class Ofe extends go{constructor(u){super(u,F8),this.gradientVersion=0,tT||(tT=new Rfe(F8.paint.properties["line-width"].specification),tT.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const m=this.gradientExpression();this.stepInterpolant=!!function(b){return b._styleExpression!==void 0}(m)&&m._styleExpression.expression instanceof Au,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(u,m){super.recalculate(u,m),this.paint._values["line-floorwidth"]=tT.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new yL(u)}queryRadius(u){const m=u,b=$8(Yf("line-width",this,m),Yf("line-gap-width",this,m)),P=Yf("line-offset",this,m);return b/2+Math.abs(P)+Ps(this.paint.get("line-translate"))}queryIntersectsFeature(u,m,b,P,N,B,U){const Y=Uc(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),B.angle,U),J=U/2*$8(this.paint.get("line-width").evaluate(m,b),this.paint.get("line-gap-width").evaluate(m,b)),ne=this.paint.get("line-offset").evaluate(m,b);return ne&&(P=function(ae,ye){const Se=[];for(let Ee=0;Ee<ae.length;Ee++){const De=ae[Ee],He=[];for(let Ye=0;Ye<De.length;Ye++){const pt=De[Ye-1],nt=De[Ye],xt=De[Ye+1],It=Ye===0?new g(0,0):nt.sub(pt)._unit()._perp(),Yt=Ye===De.length-1?new g(0,0):xt.sub(nt)._unit()._perp(),wn=It._add(Yt)._unit(),Bn=wn.x*Yt.x+wn.y*Yt.y;Bn!==0&&wn._mult(1/Bn),He.push(wn._mult(ye)._add(nt))}Se.push(He)}return Se}(P,ne*U)),function(ae,ye,Se){for(let Ee=0;Ee<ye.length;Ee++){const De=ye[Ee];if(ae.length>=3){for(let He=0;He<De.length;He++)if(qf(ae,De[He]))return!0}if(K1(ae,De,Se))return!0}return!1}(Y,P,J)}isTileClipped(){return!0}}function $8(f,u){return u>0?u+2*f:f}const Lfe=Ci([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Dfe=Ci([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ci([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Nfe=Ci([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ci([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const j8=Ci([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),zfe=Ci([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Bfe(f,u,m){return f.sections.forEach(b=>{b.text=function(P,N,B){const U=N.layout.get("text-transform").evaluate(B,{});return U==="uppercase"?P=P.toLocaleUpperCase():U==="lowercase"&&(P=P.toLocaleLowerCase()),Ta.applyArabicShaping&&(P=Ta.applyArabicShaping(P)),P}(b.text,u,m)}),f}Ci([{name:"triangle",components:3,type:"Uint16"}]),Ci([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ci([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Ci([{type:"Float32",name:"offsetX"}]),Ci([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Ci([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const cw={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var ds=24,U8=Ii,V8=function(f,u,m,b,P){var N,B,U=8*P-b-1,Y=(1<<U)-1,J=Y>>1,ne=-7,ae=m?P-1:0,ye=m?-1:1,Se=f[u+ae];for(ae+=ye,N=Se&(1<<-ne)-1,Se>>=-ne,ne+=U;ne>0;N=256*N+f[u+ae],ae+=ye,ne-=8);for(B=N&(1<<-ne)-1,N>>=-ne,ne+=b;ne>0;B=256*B+f[u+ae],ae+=ye,ne-=8);if(N===0)N=1-J;else{if(N===Y)return B?NaN:1/0*(Se?-1:1);B+=Math.pow(2,b),N-=J}return(Se?-1:1)*B*Math.pow(2,N-b)},W8=function(f,u,m,b,P,N){var B,U,Y,J=8*N-P-1,ne=(1<<J)-1,ae=ne>>1,ye=P===23?Math.pow(2,-24)-Math.pow(2,-77):0,Se=b?0:N-1,Ee=b?1:-1,De=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(U=isNaN(u)?1:0,B=ne):(B=Math.floor(Math.log(u)/Math.LN2),u*(Y=Math.pow(2,-B))<1&&(B--,Y*=2),(u+=B+ae>=1?ye/Y:ye*Math.pow(2,1-ae))*Y>=2&&(B++,Y/=2),B+ae>=ne?(U=0,B=ne):B+ae>=1?(U=(u*Y-1)*Math.pow(2,P),B+=ae):(U=u*Math.pow(2,ae-1)*Math.pow(2,P),B=0));P>=8;f[m+Se]=255&U,Se+=Ee,U/=256,P-=8);for(B=B<<P|U,J+=P;J>0;f[m+Se]=255&B,Se+=Ee,B/=256,J-=8);f[m+Se-Ee]|=128*De};function Ii(f){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(f)?f:new Uint8Array(f||0),this.pos=0,this.type=0,this.length=this.buf.length}Ii.Varint=0,Ii.Fixed64=1,Ii.Bytes=2,Ii.Fixed32=5;var vL=4294967296,H8=1/vL,G8=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function rp(f){return f.type===Ii.Bytes?f.readVarint()+f.pos:f.pos+1}function mx(f,u,m){return m?4294967296*u+(f>>>0):4294967296*(u>>>0)+(f>>>0)}function q8(f,u,m){var b=u<=16383?1:u<=2097151?2:u<=268435455?3:Math.floor(Math.log(u)/(7*Math.LN2));m.realloc(b);for(var P=m.pos-1;P>=f;P--)m.buf[P+b]=m.buf[P]}function Ffe(f,u){for(var m=0;m<f.length;m++)u.writeVarint(f[m])}function $fe(f,u){for(var m=0;m<f.length;m++)u.writeSVarint(f[m])}function jfe(f,u){for(var m=0;m<f.length;m++)u.writeFloat(f[m])}function Ufe(f,u){for(var m=0;m<f.length;m++)u.writeDouble(f[m])}function Vfe(f,u){for(var m=0;m<f.length;m++)u.writeBoolean(f[m])}function Wfe(f,u){for(var m=0;m<f.length;m++)u.writeFixed32(f[m])}function Hfe(f,u){for(var m=0;m<f.length;m++)u.writeSFixed32(f[m])}function Gfe(f,u){for(var m=0;m<f.length;m++)u.writeFixed64(f[m])}function qfe(f,u){for(var m=0;m<f.length;m++)u.writeSFixed64(f[m])}function nT(f,u){return(f[u]|f[u+1]<<8|f[u+2]<<16)+16777216*f[u+3]}function gx(f,u,m){f[m]=u,f[m+1]=u>>>8,f[m+2]=u>>>16,f[m+3]=u>>>24}function Y8(f,u){return(f[u]|f[u+1]<<8|f[u+2]<<16)+(f[u+3]<<24)}Ii.prototype={destroy:function(){this.buf=null},readFields:function(f,u,m){for(m=m||this.length;this.pos<m;){var b=this.readVarint(),P=b>>3,N=this.pos;this.type=7&b,f(P,u,this),this.pos===N&&this.skip(b)}return u},readMessage:function(f,u){return this.readFields(f,u,this.readVarint()+this.pos)},readFixed32:function(){var f=nT(this.buf,this.pos);return this.pos+=4,f},readSFixed32:function(){var f=Y8(this.buf,this.pos);return this.pos+=4,f},readFixed64:function(){var f=nT(this.buf,this.pos)+nT(this.buf,this.pos+4)*vL;return this.pos+=8,f},readSFixed64:function(){var f=nT(this.buf,this.pos)+Y8(this.buf,this.pos+4)*vL;return this.pos+=8,f},readFloat:function(){var f=V8(this.buf,this.pos,!0,23,4);return this.pos+=4,f},readDouble:function(){var f=V8(this.buf,this.pos,!0,52,8);return this.pos+=8,f},readVarint:function(f){var u,m,b=this.buf;return u=127&(m=b[this.pos++]),m<128?u:(u|=(127&(m=b[this.pos++]))<<7,m<128?u:(u|=(127&(m=b[this.pos++]))<<14,m<128?u:(u|=(127&(m=b[this.pos++]))<<21,m<128?u:function(P,N,B){var U,Y,J=B.buf;if(U=(112&(Y=J[B.pos++]))>>4,Y<128||(U|=(127&(Y=J[B.pos++]))<<3,Y<128)||(U|=(127&(Y=J[B.pos++]))<<10,Y<128)||(U|=(127&(Y=J[B.pos++]))<<17,Y<128)||(U|=(127&(Y=J[B.pos++]))<<24,Y<128)||(U|=(1&(Y=J[B.pos++]))<<31,Y<128))return mx(P,U,N);throw new Error("Expected varint not more than 10 bytes")}(u|=(15&(m=b[this.pos]))<<28,f,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var f=this.readVarint();return f%2==1?(f+1)/-2:f/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var f=this.readVarint()+this.pos,u=this.pos;return this.pos=f,f-u>=12&&G8?function(m,b,P){return G8.decode(m.subarray(b,P))}(this.buf,u,f):function(m,b,P){for(var N="",B=b;B<P;){var U,Y,J,ne=m[B],ae=null,ye=ne>239?4:ne>223?3:ne>191?2:1;if(B+ye>P)break;ye===1?ne<128&&(ae=ne):ye===2?(192&(U=m[B+1]))==128&&(ae=(31&ne)<<6|63&U)<=127&&(ae=null):ye===3?(Y=m[B+2],(192&(U=m[B+1]))==128&&(192&Y)==128&&((ae=(15&ne)<<12|(63&U)<<6|63&Y)<=2047||ae>=55296&&ae<=57343)&&(ae=null)):ye===4&&(Y=m[B+2],J=m[B+3],(192&(U=m[B+1]))==128&&(192&Y)==128&&(192&J)==128&&((ae=(15&ne)<<18|(63&U)<<12|(63&Y)<<6|63&J)<=65535||ae>=1114112)&&(ae=null)),ae===null?(ae=65533,ye=1):ae>65535&&(ae-=65536,N+=String.fromCharCode(ae>>>10&1023|55296),ae=56320|1023&ae),N+=String.fromCharCode(ae),B+=ye}return N}(this.buf,u,f)},readBytes:function(){var f=this.readVarint()+this.pos,u=this.buf.subarray(this.pos,f);return this.pos=f,u},readPackedVarint:function(f,u){if(this.type!==Ii.Bytes)return f.push(this.readVarint(u));var m=rp(this);for(f=f||[];this.pos<m;)f.push(this.readVarint(u));return f},readPackedSVarint:function(f){if(this.type!==Ii.Bytes)return f.push(this.readSVarint());var u=rp(this);for(f=f||[];this.pos<u;)f.push(this.readSVarint());return f},readPackedBoolean:function(f){if(this.type!==Ii.Bytes)return f.push(this.readBoolean());var u=rp(this);for(f=f||[];this.pos<u;)f.push(this.readBoolean());return f},readPackedFloat:function(f){if(this.type!==Ii.Bytes)return f.push(this.readFloat());var u=rp(this);for(f=f||[];this.pos<u;)f.push(this.readFloat());return f},readPackedDouble:function(f){if(this.type!==Ii.Bytes)return f.push(this.readDouble());var u=rp(this);for(f=f||[];this.pos<u;)f.push(this.readDouble());return f},readPackedFixed32:function(f){if(this.type!==Ii.Bytes)return f.push(this.readFixed32());var u=rp(this);for(f=f||[];this.pos<u;)f.push(this.readFixed32());return f},readPackedSFixed32:function(f){if(this.type!==Ii.Bytes)return f.push(this.readSFixed32());var u=rp(this);for(f=f||[];this.pos<u;)f.push(this.readSFixed32());return f},readPackedFixed64:function(f){if(this.type!==Ii.Bytes)return f.push(this.readFixed64());var u=rp(this);for(f=f||[];this.pos<u;)f.push(this.readFixed64());return f},readPackedSFixed64:function(f){if(this.type!==Ii.Bytes)return f.push(this.readSFixed64());var u=rp(this);for(f=f||[];this.pos<u;)f.push(this.readSFixed64());return f},skip:function(f){var u=7&f;if(u===Ii.Varint)for(;this.buf[this.pos++]>127;);else if(u===Ii.Bytes)this.pos=this.readVarint()+this.pos;else if(u===Ii.Fixed32)this.pos+=4;else{if(u!==Ii.Fixed64)throw new Error("Unimplemented type: "+u);this.pos+=8}},writeTag:function(f,u){this.writeVarint(f<<3|u)},realloc:function(f){for(var u=this.length||16;u<this.pos+f;)u*=2;if(u!==this.length){var m=new Uint8Array(u);m.set(this.buf),this.buf=m,this.length=u}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(f){this.realloc(4),gx(this.buf,f,this.pos),this.pos+=4},writeSFixed32:function(f){this.realloc(4),gx(this.buf,f,this.pos),this.pos+=4},writeFixed64:function(f){this.realloc(8),gx(this.buf,-1&f,this.pos),gx(this.buf,Math.floor(f*H8),this.pos+4),this.pos+=8},writeSFixed64:function(f){this.realloc(8),gx(this.buf,-1&f,this.pos),gx(this.buf,Math.floor(f*H8),this.pos+4),this.pos+=8},writeVarint:function(f){(f=+f||0)>268435455||f<0?function(u,m){var b,P;if(u>=0?(b=u%4294967296|0,P=u/4294967296|0):(P=~(-u/4294967296),4294967295^(b=~(-u%4294967296))?b=b+1|0:(b=0,P=P+1|0)),u>=18446744073709552e3||u<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");m.realloc(10),function(N,B,U){U.buf[U.pos++]=127&N|128,N>>>=7,U.buf[U.pos++]=127&N|128,N>>>=7,U.buf[U.pos++]=127&N|128,N>>>=7,U.buf[U.pos++]=127&N|128,U.buf[U.pos]=127&(N>>>=7)}(b,0,m),function(N,B){var U=(7&N)<<4;B.buf[B.pos++]|=U|((N>>>=3)?128:0),N&&(B.buf[B.pos++]=127&N|((N>>>=7)?128:0),N&&(B.buf[B.pos++]=127&N|((N>>>=7)?128:0),N&&(B.buf[B.pos++]=127&N|((N>>>=7)?128:0),N&&(B.buf[B.pos++]=127&N|((N>>>=7)?128:0),N&&(B.buf[B.pos++]=127&N)))))}(P,m)}(f,this):(this.realloc(4),this.buf[this.pos++]=127&f|(f>127?128:0),f<=127||(this.buf[this.pos++]=127&(f>>>=7)|(f>127?128:0),f<=127||(this.buf[this.pos++]=127&(f>>>=7)|(f>127?128:0),f<=127||(this.buf[this.pos++]=f>>>7&127))))},writeSVarint:function(f){this.writeVarint(f<0?2*-f-1:2*f)},writeBoolean:function(f){this.writeVarint(!!f)},writeString:function(f){f=String(f),this.realloc(4*f.length),this.pos++;var u=this.pos;this.pos=function(b,P,N){for(var B,U,Y=0;Y<P.length;Y++){if((B=P.charCodeAt(Y))>55295&&B<57344){if(!U){B>56319||Y+1===P.length?(b[N++]=239,b[N++]=191,b[N++]=189):U=B;continue}if(B<56320){b[N++]=239,b[N++]=191,b[N++]=189,U=B;continue}B=U-55296<<10|B-56320|65536,U=null}else U&&(b[N++]=239,b[N++]=191,b[N++]=189,U=null);B<128?b[N++]=B:(B<2048?b[N++]=B>>6|192:(B<65536?b[N++]=B>>12|224:(b[N++]=B>>18|240,b[N++]=B>>12&63|128),b[N++]=B>>6&63|128),b[N++]=63&B|128)}return N}(this.buf,f,this.pos);var m=this.pos-u;m>=128&&q8(u,m,this),this.pos=u-1,this.writeVarint(m),this.pos+=m},writeFloat:function(f){this.realloc(4),W8(this.buf,f,this.pos,!0,23,4),this.pos+=4},writeDouble:function(f){this.realloc(8),W8(this.buf,f,this.pos,!0,52,8),this.pos+=8},writeBytes:function(f){var u=f.length;this.writeVarint(u),this.realloc(u);for(var m=0;m<u;m++)this.buf[this.pos++]=f[m]},writeRawMessage:function(f,u){this.pos++;var m=this.pos;f(u,this);var b=this.pos-m;b>=128&&q8(m,b,this),this.pos=m-1,this.writeVarint(b),this.pos+=b},writeMessage:function(f,u,m){this.writeTag(f,Ii.Bytes),this.writeRawMessage(u,m)},writePackedVarint:function(f,u){u.length&&this.writeMessage(f,Ffe,u)},writePackedSVarint:function(f,u){u.length&&this.writeMessage(f,$fe,u)},writePackedBoolean:function(f,u){u.length&&this.writeMessage(f,Vfe,u)},writePackedFloat:function(f,u){u.length&&this.writeMessage(f,jfe,u)},writePackedDouble:function(f,u){u.length&&this.writeMessage(f,Ufe,u)},writePackedFixed32:function(f,u){u.length&&this.writeMessage(f,Wfe,u)},writePackedSFixed32:function(f,u){u.length&&this.writeMessage(f,Hfe,u)},writePackedFixed64:function(f,u){u.length&&this.writeMessage(f,Gfe,u)},writePackedSFixed64:function(f,u){u.length&&this.writeMessage(f,qfe,u)},writeBytesField:function(f,u){this.writeTag(f,Ii.Bytes),this.writeBytes(u)},writeFixed32Field:function(f,u){this.writeTag(f,Ii.Fixed32),this.writeFixed32(u)},writeSFixed32Field:function(f,u){this.writeTag(f,Ii.Fixed32),this.writeSFixed32(u)},writeFixed64Field:function(f,u){this.writeTag(f,Ii.Fixed64),this.writeFixed64(u)},writeSFixed64Field:function(f,u){this.writeTag(f,Ii.Fixed64),this.writeSFixed64(u)},writeVarintField:function(f,u){this.writeTag(f,Ii.Varint),this.writeVarint(u)},writeSVarintField:function(f,u){this.writeTag(f,Ii.Varint),this.writeSVarint(u)},writeStringField:function(f,u){this.writeTag(f,Ii.Bytes),this.writeString(u)},writeFloatField:function(f,u){this.writeTag(f,Ii.Fixed32),this.writeFloat(u)},writeDoubleField:function(f,u){this.writeTag(f,Ii.Fixed64),this.writeDouble(u)},writeBooleanField:function(f,u){this.writeVarintField(f,!!u)}};var xL=c(U8);const _L=3;function Yfe(f,u,m){f===1&&m.readMessage(Xfe,u)}function Xfe(f,u,m){if(f===3){const{id:b,bitmap:P,width:N,height:B,left:U,top:Y,advance:J}=m.readMessage(Kfe,{});u.push({id:b,bitmap:new Wm({width:N+2*_L,height:B+2*_L},P),metrics:{width:N,height:B,left:U,top:Y,advance:J}})}}function Kfe(f,u,m){f===1?u.id=m.readVarint():f===2?u.bitmap=m.readBytes():f===3?u.width=m.readVarint():f===4?u.height=m.readVarint():f===5?u.left=m.readSVarint():f===6?u.top=m.readSVarint():f===7&&(u.advance=m.readVarint())}const X8=_L;function K8(f){let u=0,m=0;for(const B of f)u+=B.w*B.h,m=Math.max(m,B.w);f.sort((B,U)=>U.h-B.h);const b=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(u/.95)),m),h:1/0}];let P=0,N=0;for(const B of f)for(let U=b.length-1;U>=0;U--){const Y=b[U];if(!(B.w>Y.w||B.h>Y.h)){if(B.x=Y.x,B.y=Y.y,N=Math.max(N,B.y+B.h),P=Math.max(P,B.x+B.w),B.w===Y.w&&B.h===Y.h){const J=b.pop();U<b.length&&(b[U]=J)}else B.h===Y.h?(Y.x+=B.w,Y.w-=B.w):B.w===Y.w?(Y.y+=B.h,Y.h-=B.h):(b.push({x:Y.x+B.w,y:Y.y,w:Y.w-B.w,h:B.h}),Y.y+=B.h,Y.h-=B.h);break}}return{w:P,h:N,fill:u/(P*N)||0}}const Il=1;class bL{constructor(u,{pixelRatio:m,version:b,stretchX:P,stretchY:N,content:B}){this.paddedRect=u,this.pixelRatio=m,this.stretchX=P,this.stretchY=N,this.content=B,this.version=b}get tl(){return[this.paddedRect.x+Il,this.paddedRect.y+Il]}get br(){return[this.paddedRect.x+this.paddedRect.w-Il,this.paddedRect.y+this.paddedRect.h-Il]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Il)/this.pixelRatio,(this.paddedRect.h-2*Il)/this.pixelRatio]}}class Z8{constructor(u,m){const b={},P={};this.haveRenderCallbacks=[];const N=[];this.addImages(u,b,N),this.addImages(m,P,N);const{w:B,h:U}=K8(N),Y=new Xa({width:B||1,height:U||1});for(const J in u){const ne=u[J],ae=b[J].paddedRect;Xa.copy(ne.data,Y,{x:0,y:0},{x:ae.x+Il,y:ae.y+Il},ne.data)}for(const J in m){const ne=m[J],ae=P[J].paddedRect,ye=ae.x+Il,Se=ae.y+Il,Ee=ne.data.width,De=ne.data.height;Xa.copy(ne.data,Y,{x:0,y:0},{x:ye,y:Se},ne.data),Xa.copy(ne.data,Y,{x:0,y:De-1},{x:ye,y:Se-1},{width:Ee,height:1}),Xa.copy(ne.data,Y,{x:0,y:0},{x:ye,y:Se+De},{width:Ee,height:1}),Xa.copy(ne.data,Y,{x:Ee-1,y:0},{x:ye-1,y:Se},{width:1,height:De}),Xa.copy(ne.data,Y,{x:0,y:0},{x:ye+Ee,y:Se},{width:1,height:De})}this.image=Y,this.iconPositions=b,this.patternPositions=P}addImages(u,m,b){for(const P in u){const N=u[P],B={x:0,y:0,w:N.data.width+2*Il,h:N.data.height+2*Il};b.push(B),m[P]=new bL(B,N),N.hasRenderCallback&&this.haveRenderCallbacks.push(P)}}patchUpdatedImages(u,m){u.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const b in u.updatedImages)this.patchUpdatedImage(this.iconPositions[b],u.getImage(b),m),this.patchUpdatedImage(this.patternPositions[b],u.getImage(b),m)}patchUpdatedImage(u,m,b){if(!u||!m||u.version===m.version)return;u.version=m.version;const[P,N]=u.tl;b.update(m.data,void 0,{x:P,y:N})}}var qm;Sn("ImagePosition",bL),Sn("ImageAtlas",Z8),s.ai=void 0,(qm=s.ai||(s.ai={}))[qm.none=0]="none",qm[qm.horizontal=1]="horizontal",qm[qm.vertical=2]="vertical",qm[qm.horizontalOnly=3]="horizontalOnly";const uw=-17;class dw{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(u,m){const b=new dw;return b.scale=u||1,b.fontStack=m,b}static forImage(u){const m=new dw;return m.imageName=u,m}}class yx{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(u,m){const b=new yx;for(let P=0;P<u.sections.length;P++){const N=u.sections[P];N.image?b.addImageSection(N):b.addTextSection(N,m)}return b}length(){return this.text.length}getSection(u){return this.sections[this.sectionIndex[u]]}getSectionIndex(u){return this.sectionIndex[u]}getCharCode(u){return this.text.charCodeAt(u)}verticalizePunctuation(){this.text=function(u){let m="";for(let b=0;b<u.length;b++){const P=u.charCodeAt(b+1)||null,N=u.charCodeAt(b-1)||null;m+=P&&Yy(P)&&!cw[u[b+1]]||N&&Yy(N)&&!cw[u[b-1]]||!cw[u[b]]?u[b]:cw[u[b]]}return m}(this.text)}trim(){let u=0;for(let b=0;b<this.text.length&&iT[this.text.charCodeAt(b)];b++)u++;let m=this.text.length;for(let b=this.text.length-1;b>=0&&b>=u&&iT[this.text.charCodeAt(b)];b--)m--;this.text=this.text.substring(u,m),this.sectionIndex=this.sectionIndex.slice(u,m)}substring(u,m){const b=new yx;return b.text=this.text.substring(u,m),b.sectionIndex=this.sectionIndex.slice(u,m),b.sections=this.sections,b}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((u,m)=>Math.max(u,this.sections[m].scale),0)}addTextSection(u,m){this.text+=u.text,this.sections.push(dw.forText(u.scale,u.fontStack||m));const b=this.sections.length-1;for(let P=0;P<u.text.length;++P)this.sectionIndex.push(b)}addImageSection(u){const m=u.image?u.image.name:"";if(m.length===0)return void ie("Can't add FormattedSection with an empty image.");const b=this.getNextImageSectionCharCode();b?(this.text+=String.fromCharCode(b),this.sections.push(dw.forImage(m)),this.sectionIndex.push(this.sections.length-1)):ie("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function rT(f,u,m,b,P,N,B,U,Y,J,ne,ae,ye,Se,Ee,De){const He=yx.fromFeature(f,P);let Ye;ae===s.ai.vertical&&He.verticalizePunctuation();const{processBidirectionalText:pt,processStyledBidirectionalText:nt}=Ta;if(pt&&He.sections.length===1){Ye=[];const Yt=pt(He.toString(),wL(He,J,N,u,b,Se,Ee));for(const wn of Yt){const Bn=new yx;Bn.text=wn,Bn.sections=He.sections;for(let bn=0;bn<wn.length;bn++)Bn.sectionIndex.push(0);Ye.push(Bn)}}else if(nt){Ye=[];const Yt=nt(He.text,He.sectionIndex,wL(He,J,N,u,b,Se,Ee));for(const wn of Yt){const Bn=new yx;Bn.text=wn[0],Bn.sectionIndex=wn[1],Bn.sections=He.sections,Ye.push(Bn)}}else Ye=function(Yt,wn){const Bn=[],bn=Yt.text;let vn=0;for(const fn of wn)Bn.push(Yt.substring(vn,fn)),vn=fn;return vn<bn.length&&Bn.push(Yt.substring(vn,bn.length)),Bn}(He,wL(He,J,N,u,b,Se,Ee));const xt=[],It={positionedLines:xt,text:He.toString(),top:ne[1],bottom:ne[1],left:ne[0],right:ne[0],writingMode:ae,iconsInText:!1,verticalizable:!1};return function(Yt,wn,Bn,bn,vn,fn,In,mn,on,Qn,Hn,Ir){let Xi=0,io=uw,fs=0,hc=0;const Za=mn==="right"?1:mn==="left"?0:.5;let Qo=0;for(const hs of vn){hs.trim();const ps=hs.getMaxScale(),Ca=(ps-1)*ds,el={positionedGlyphs:[],lineOffset:0};Yt.positionedLines[Qo]=el;const Aa=el.positionedGlyphs;let kl=0;if(!hs.length()){io+=fn,++Qo;continue}for(let ms=0;ms<hs.length();ms++){const Nr=hs.getSection(ms),Pa=hs.getSectionIndex(ms),la=hs.getCharCode(ms);let gs=0,Fu=null,zd=null,Bd=null,ip=ds;const $u=!(on===s.ai.horizontal||!Hn&&!Od(la)||Hn&&(iT[la]||(Ks=la,xn.Arabic(Ks)||xn["Arabic Supplement"](Ks)||xn["Arabic Extended-A"](Ks)||xn["Arabic Presentation Forms-A"](Ks)||xn["Arabic Presentation Forms-B"](Ks))));if(Nr.imageName){const Wc=bn[Nr.imageName];if(!Wc)continue;Bd=Nr.imageName,Yt.iconsInText=Yt.iconsInText||!0,zd=Wc.paddedRect;const Ol=Wc.displaySize;Nr.scale=Nr.scale*ds/Ir,Fu={width:Ol[0],height:Ol[1],left:Il,top:-X8,advance:$u?Ol[1]:Ol[0]},gs=Ca+(ds-Ol[1]*Nr.scale),ip=Fu.advance;const op=$u?Ol[0]*Nr.scale-ds*ps:Ol[1]*Nr.scale-ds*ps;op>0&&op>kl&&(kl=op)}else{const Wc=Bn[Nr.fontStack],Ol=Wc&&Wc[la];if(Ol&&Ol.rect)zd=Ol.rect,Fu=Ol.metrics;else{const op=wn[Nr.fontStack],gw=op&&op[la];if(!gw)continue;Fu=gw.metrics}gs=(ps-Nr.scale)*ds}$u?(Yt.verticalizable=!0,Aa.push({glyph:la,imageName:Bd,x:Xi,y:io+gs,vertical:$u,scale:Nr.scale,fontStack:Nr.fontStack,sectionIndex:Pa,metrics:Fu,rect:zd}),Xi+=ip*Nr.scale+Qn):(Aa.push({glyph:la,imageName:Bd,x:Xi,y:io+gs,vertical:$u,scale:Nr.scale,fontStack:Nr.fontStack,sectionIndex:Pa,metrics:Fu,rect:zd}),Xi+=Fu.advance*Nr.scale+Qn)}Aa.length!==0&&(fs=Math.max(Xi-Qn,fs),Qfe(Aa,0,Aa.length-1,Za,kl)),Xi=0;const Rl=fn*ps+kl;el.lineOffset=Math.max(kl,Ca),io+=Rl,hc=Math.max(Rl,hc),++Qo}var Ks;const aa=io-uw,{horizontalAlign:Ja,verticalAlign:Qa}=SL(In);(function(hs,ps,Ca,el,Aa,kl,Rl,ms,Nr){const Pa=(ps-Ca)*Aa;let la=0;la=kl!==Rl?-ms*el-uw:(-el*Nr+.5)*Rl;for(const gs of hs)for(const Fu of gs.positionedGlyphs)Fu.x+=Pa,Fu.y+=la})(Yt.positionedLines,Za,Ja,Qa,fs,hc,fn,aa,vn.length),Yt.top+=-Qa*aa,Yt.bottom=Yt.top+aa,Yt.left+=-Ja*fs,Yt.right=Yt.left+fs}(It,u,m,b,Ye,B,U,Y,ae,J,ye,De),!function(Yt){for(const wn of Yt)if(wn.positionedGlyphs.length!==0)return!1;return!0}(xt)&&It}const iT={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Zfe={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function J8(f,u,m,b,P,N){if(u.imageName){const B=b[u.imageName];return B?B.displaySize[0]*u.scale*ds/N+P:0}{const B=m[u.fontStack],U=B&&B[f];return U?U.metrics.advance*u.scale+P:0}}function Q8(f,u,m,b){const P=Math.pow(f-u,2);return b?f<u?P/2:2*P:P+Math.abs(m)*m}function Jfe(f,u,m){let b=0;return f===10&&(b-=1e4),m&&(b+=150),f!==40&&f!==65288||(b+=50),u!==41&&u!==65289||(b+=50),b}function eV(f,u,m,b,P,N){let B=null,U=Q8(u,m,P,N);for(const Y of b){const J=Q8(u-Y.x,m,P,N)+Y.badness;J<=U&&(B=Y,U=J)}return{index:f,x:u,priorBreak:B,badness:U}}function tV(f){return f?tV(f.priorBreak).concat(f.index):[]}function wL(f,u,m,b,P,N,B){if(N!=="point")return[];if(!f)return[];const U=[],Y=function(ye,Se,Ee,De,He,Ye){let pt=0;for(let nt=0;nt<ye.length();nt++){const xt=ye.getSection(nt);pt+=J8(ye.getCharCode(nt),xt,De,He,Se,Ye)}return pt/Math.max(1,Math.ceil(pt/Ee))}(f,u,m,b,P,B),J=f.text.indexOf("​")>=0;let ne=0;for(let ye=0;ye<f.length();ye++){const Se=f.getSection(ye),Ee=f.getCharCode(ye);if(iT[Ee]||(ne+=J8(Ee,Se,b,P,u,B)),ye<f.length()-1){const De=!((ae=Ee)<11904||!(xn["Bopomofo Extended"](ae)||xn.Bopomofo(ae)||xn["CJK Compatibility Forms"](ae)||xn["CJK Compatibility Ideographs"](ae)||xn["CJK Compatibility"](ae)||xn["CJK Radicals Supplement"](ae)||xn["CJK Strokes"](ae)||xn["CJK Symbols and Punctuation"](ae)||xn["CJK Unified Ideographs Extension A"](ae)||xn["CJK Unified Ideographs"](ae)||xn["Enclosed CJK Letters and Months"](ae)||xn["Halfwidth and Fullwidth Forms"](ae)||xn.Hiragana(ae)||xn["Ideographic Description Characters"](ae)||xn["Kangxi Radicals"](ae)||xn["Katakana Phonetic Extensions"](ae)||xn.Katakana(ae)||xn["Vertical Forms"](ae)||xn["Yi Radicals"](ae)||xn["Yi Syllables"](ae)));(Zfe[Ee]||De||Se.imageName)&&U.push(eV(ye+1,ne,Y,U,Jfe(Ee,f.getCharCode(ye+1),De&&J),!1))}}var ae;return tV(eV(f.length(),ne,Y,U,0,!0))}function SL(f){let u=.5,m=.5;switch(f){case"right":case"top-right":case"bottom-right":u=1;break;case"left":case"top-left":case"bottom-left":u=0}switch(f){case"bottom":case"bottom-right":case"bottom-left":m=1;break;case"top":case"top-right":case"top-left":m=0}return{horizontalAlign:u,verticalAlign:m}}function Qfe(f,u,m,b,P){if(!b&&!P)return;const N=f[m],B=(f[m].x+N.metrics.advance*N.scale)*b;for(let U=u;U<=m;U++)f[U].x-=B,f[U].y+=P}function ehe(f,u,m){const{horizontalAlign:b,verticalAlign:P}=SL(m),N=u[0]-f.displaySize[0]*b,B=u[1]-f.displaySize[1]*P;return{image:f,top:B,bottom:B+f.displaySize[1],left:N,right:N+f.displaySize[0]}}function nV(f,u,m,b,P,N){const B=f.image;let U;if(B.content){const He=B.content,Ye=B.pixelRatio||1;U=[He[0]/Ye,He[1]/Ye,B.displaySize[0]-He[2]/Ye,B.displaySize[1]-He[3]/Ye]}const Y=u.left*N,J=u.right*N;let ne,ae,ye,Se;m==="width"||m==="both"?(Se=P[0]+Y-b[3],ae=P[0]+J+b[1]):(Se=P[0]+(Y+J-B.displaySize[0])/2,ae=Se+B.displaySize[0]);const Ee=u.top*N,De=u.bottom*N;return m==="height"||m==="both"?(ne=P[1]+Ee-b[0],ye=P[1]+De+b[2]):(ne=P[1]+(Ee+De-B.displaySize[1])/2,ye=ne+B.displaySize[1]),{image:B,top:ne,right:ae,bottom:ye,left:Se,collisionPadding:U}}const fw=255,nh=128,Ym=fw*nh;function rV(f,u){const{expression:m}=u;if(m.kind==="constant")return{kind:"constant",layoutSize:m.evaluate(new Ei(f+1))};if(m.kind==="source")return{kind:"source"};{const{zoomStops:b,interpolationType:P}=m;let N=0;for(;N<b.length&&b[N]<=f;)N++;N=Math.max(0,N-1);let B=N;for(;B<b.length&&b[B]<f+1;)B++;B=Math.min(b.length-1,B);const U=b[N],Y=b[B];return m.kind==="composite"?{kind:"composite",minZoom:U,maxZoom:Y,interpolationType:P}:{kind:"camera",minZoom:U,maxZoom:Y,minSize:m.evaluate(new Ei(U)),maxSize:m.evaluate(new Ei(Y)),interpolationType:P}}}function ML(f,u,m){let b="never";const P=f.get(u);return P?b=P:f.get(m)&&(b="always"),b}const the=wr.VectorTileFeature.types,nhe=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function oT(f,u,m,b,P,N,B,U,Y,J,ne,ae,ye){const Se=U?Math.min(Ym,Math.round(U[0])):0,Ee=U?Math.min(Ym,Math.round(U[1])):0;f.emplaceBack(u,m,Math.round(32*b),Math.round(32*P),N,B,(Se<<1)+(Y?1:0),Ee,16*J,16*ne,256*ae,256*ye)}function EL(f,u,m){f.emplaceBack(u.x,u.y,m),f.emplaceBack(u.x,u.y,m),f.emplaceBack(u.x,u.y,m),f.emplaceBack(u.x,u.y,m)}function rhe(f){for(const u of f.sections)if(Xy(u.text))return!0;return!1}class TL{constructor(u){this.layoutVertexArray=new Er,this.indexArray=new Fo,this.programConfigurations=u,this.segments=new li,this.dynamicLayoutVertexArray=new vr,this.opacityVertexArray=new Tr,this.hasVisibleVertices=!1,this.placedSymbolArray=new at}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(u,m,b,P){this.isEmpty()||(b&&(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Lfe.members),this.indexBuffer=u.createIndexBuffer(this.indexArray,m),this.dynamicLayoutVertexBuffer=u.createVertexBuffer(this.dynamicLayoutVertexArray,Dfe.members,!0),this.opacityVertexBuffer=u.createVertexBuffer(this.opacityVertexArray,nhe,!0),this.opacityVertexBuffer.itemSize=1),(b||P)&&this.programConfigurations.upload(u))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Sn("SymbolBuffers",TL);class CL{constructor(u,m,b){this.layoutVertexArray=new u,this.layoutAttributes=m,this.indexArray=new b,this.segments=new li,this.collisionVertexArray=new gi}upload(u){this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=u.createVertexBuffer(this.collisionVertexArray,Nfe.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Sn("CollisionBuffers",CL);class vx{constructor(u){this.collisionBoxArray=u.collisionBoxArray,this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(B=>B.id),this.index=u.index,this.pixelRatio=u.pixelRatio,this.sourceLayerIndex=u.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sv([]),this.placementViewportMatrix=sv([]);const m=this.layers[0]._unevaluatedLayout._values;this.textSizeData=rV(this.zoom,m["text-size"]),this.iconSizeData=rV(this.zoom,m["icon-size"]);const b=this.layers[0].layout,P=b.get("symbol-sort-key"),N=b.get("symbol-z-order");this.canOverlap=ML(b,"text-overlap","text-allow-overlap")!=="never"||ML(b,"icon-overlap","icon-allow-overlap")!=="never"||b.get("text-ignore-placement")||b.get("icon-ignore-placement"),this.sortFeaturesByKey=N!=="viewport-y"&&!P.isConstant(),this.sortFeaturesByY=(N==="viewport-y"||N==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,b.get("symbol-placement")==="point"&&(this.writingModes=b.get("text-writing-mode").map(B=>s.ai[B])),this.stateDependentLayerIds=this.layers.filter(B=>B.isStateDependent()).map(B=>B.id),this.sourceID=u.sourceID}createArrays(){this.text=new TL(new vo(this.layers,this.zoom,u=>/^text/.test(u))),this.icon=new TL(new vo(this.layers,this.zoom,u=>/^icon/.test(u))),this.glyphOffsetArray=new ft,this.lineVertexArray=new At,this.symbolInstances=new Ge,this.textAnchorOffsets=new qt}calculateGlyphDependencies(u,m,b,P,N){for(let B=0;B<u.length;B++)if(m[u.charCodeAt(B)]=!0,(b||P)&&N){const U=cw[u.charAt(B)];U&&(m[U.charCodeAt(0)]=!0)}}populate(u,m,b){const P=this.layers[0],N=P.layout,B=N.get("text-font"),U=N.get("text-field"),Y=N.get("icon-image"),J=(U.value.kind!=="constant"||U.value.value instanceof Yr&&!U.value.value.isEmpty()||U.value.value.toString().length>0)&&(B.value.kind!=="constant"||B.value.value.length>0),ne=Y.value.kind!=="constant"||!!Y.value.value||Object.keys(Y.parameters).length>0,ae=N.get("symbol-sort-key");if(this.features=[],!J&&!ne)return;const ye=m.iconDependencies,Se=m.glyphDependencies,Ee=m.availableImages,De=new Ei(this.zoom);for(const{feature:He,id:Ye,index:pt,sourceLayerIndex:nt}of u){const xt=P._featureFilter.needGeometry,It=jc(He,xt);if(!P._featureFilter.filter(De,It,b))continue;let Yt,wn;if(xt||(It.geometry=Nd(He)),J){const bn=P.getValueAndResolveTokens("text-field",It,b,Ee),vn=Yr.factory(bn);rhe(vn)&&(this.hasRTLText=!0),(!this.hasRTLText||Om()==="unavailable"||this.hasRTLText&&Ta.isParsed())&&(Yt=Bfe(vn,P,It))}if(ne){const bn=P.getValueAndResolveTokens("icon-image",It,b,Ee);wn=bn instanceof tr?bn:tr.fromString(bn)}if(!Yt&&!wn)continue;const Bn=this.sortFeaturesByKey?ae.evaluate(It,{},b):void 0;if(this.features.push({id:Ye,text:Yt,icon:wn,index:pt,sourceLayerIndex:nt,geometry:It.geometry,properties:He.properties,type:the[He.type],sortKey:Bn}),wn&&(ye[wn.name]=!0),Yt){const bn=B.evaluate(It,{},b).join(","),vn=N.get("text-rotation-alignment")!=="viewport"&&N.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.ai.vertical)>=0;for(const fn of Yt.sections)if(fn.image)ye[fn.image.name]=!0;else{const In=Cm(Yt.toString()),mn=fn.fontStack||bn,on=Se[mn]=Se[mn]||{};this.calculateGlyphDependencies(fn.text,on,vn,this.allowVerticalPlacement,In)}}}N.get("symbol-placement")==="line"&&(this.features=function(He){const Ye={},pt={},nt=[];let xt=0;function It(bn){nt.push(He[bn]),xt++}function Yt(bn,vn,fn){const In=pt[bn];return delete pt[bn],pt[vn]=In,nt[In].geometry[0].pop(),nt[In].geometry[0]=nt[In].geometry[0].concat(fn[0]),In}function wn(bn,vn,fn){const In=Ye[vn];return delete Ye[vn],Ye[bn]=In,nt[In].geometry[0].shift(),nt[In].geometry[0]=fn[0].concat(nt[In].geometry[0]),In}function Bn(bn,vn,fn){const In=fn?vn[0][vn[0].length-1]:vn[0][0];return`${bn}:${In.x}:${In.y}`}for(let bn=0;bn<He.length;bn++){const vn=He[bn],fn=vn.geometry,In=vn.text?vn.text.toString():null;if(!In){It(bn);continue}const mn=Bn(In,fn),on=Bn(In,fn,!0);if(mn in pt&&on in Ye&&pt[mn]!==Ye[on]){const Qn=wn(mn,on,fn),Hn=Yt(mn,on,nt[Qn].geometry);delete Ye[mn],delete pt[on],pt[Bn(In,nt[Hn].geometry,!0)]=Hn,nt[Qn].geometry=null}else mn in pt?Yt(mn,on,fn):on in Ye?wn(mn,on,fn):(It(bn),Ye[mn]=xt-1,pt[on]=xt-1)}return nt.filter(bn=>bn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((He,Ye)=>He.sortKey-Ye.sortKey)}update(u,m,b){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(u,m,this.layers,b),this.icon.programConfigurations.updatePaintArrays(u,m,this.layers,b))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(u){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(u),this.iconCollisionBox.upload(u)),this.text.upload(u,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(u,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(u,m){const b=this.lineVertexArray.length;if(u.segment!==void 0){let P=u.dist(m[u.segment+1]),N=u.dist(m[u.segment]);const B={};for(let U=u.segment+1;U<m.length;U++)B[U]={x:m[U].x,y:m[U].y,tileUnitDistanceFromAnchor:P},U<m.length-1&&(P+=m[U+1].dist(m[U]));for(let U=u.segment||0;U>=0;U--)B[U]={x:m[U].x,y:m[U].y,tileUnitDistanceFromAnchor:N},U>0&&(N+=m[U-1].dist(m[U]));for(let U=0;U<m.length;U++){const Y=B[U];this.lineVertexArray.emplaceBack(Y.x,Y.y,Y.tileUnitDistanceFromAnchor)}}return{lineStartIndex:b,lineLength:this.lineVertexArray.length-b}}addSymbols(u,m,b,P,N,B,U,Y,J,ne,ae,ye){const Se=u.indexArray,Ee=u.layoutVertexArray,De=u.segments.prepareSegment(4*m.length,Ee,Se,this.canOverlap?B.sortKey:void 0),He=this.glyphOffsetArray.length,Ye=De.vertexLength,pt=this.allowVerticalPlacement&&U===s.ai.vertical?Math.PI/2:0,nt=B.text&&B.text.sections;for(let xt=0;xt<m.length;xt++){const{tl:It,tr:Yt,bl:wn,br:Bn,tex:bn,pixelOffsetTL:vn,pixelOffsetBR:fn,minFontScaleX:In,minFontScaleY:mn,glyphOffset:on,isSDF:Qn,sectionIndex:Hn}=m[xt],Ir=De.vertexLength,Xi=on[1];oT(Ee,Y.x,Y.y,It.x,Xi+It.y,bn.x,bn.y,b,Qn,vn.x,vn.y,In,mn),oT(Ee,Y.x,Y.y,Yt.x,Xi+Yt.y,bn.x+bn.w,bn.y,b,Qn,fn.x,vn.y,In,mn),oT(Ee,Y.x,Y.y,wn.x,Xi+wn.y,bn.x,bn.y+bn.h,b,Qn,vn.x,fn.y,In,mn),oT(Ee,Y.x,Y.y,Bn.x,Xi+Bn.y,bn.x+bn.w,bn.y+bn.h,b,Qn,fn.x,fn.y,In,mn),EL(u.dynamicLayoutVertexArray,Y,pt),Se.emplaceBack(Ir,Ir+1,Ir+2),Se.emplaceBack(Ir+1,Ir+2,Ir+3),De.vertexLength+=4,De.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(on[0]),xt!==m.length-1&&Hn===m[xt+1].sectionIndex||u.programConfigurations.populatePaintArrays(Ee.length,B,B.index,{},ye,nt&&nt[Hn])}u.placedSymbolArray.emplaceBack(Y.x,Y.y,He,this.glyphOffsetArray.length-He,Ye,J,ne,Y.segment,b?b[0]:0,b?b[1]:0,P[0],P[1],U,0,!1,0,ae)}_addCollisionDebugVertex(u,m,b,P,N,B){return m.emplaceBack(0,0),u.emplaceBack(b.x,b.y,P,N,Math.round(B.x),Math.round(B.y))}addCollisionDebugVertices(u,m,b,P,N,B,U){const Y=N.segments.prepareSegment(4,N.layoutVertexArray,N.indexArray),J=Y.vertexLength,ne=N.layoutVertexArray,ae=N.collisionVertexArray,ye=U.anchorX,Se=U.anchorY;this._addCollisionDebugVertex(ne,ae,B,ye,Se,new g(u,m)),this._addCollisionDebugVertex(ne,ae,B,ye,Se,new g(b,m)),this._addCollisionDebugVertex(ne,ae,B,ye,Se,new g(b,P)),this._addCollisionDebugVertex(ne,ae,B,ye,Se,new g(u,P)),Y.vertexLength+=4;const Ee=N.indexArray;Ee.emplaceBack(J,J+1),Ee.emplaceBack(J+1,J+2),Ee.emplaceBack(J+2,J+3),Ee.emplaceBack(J+3,J),Y.primitiveLength+=4}addDebugCollisionBoxes(u,m,b,P){for(let N=u;N<m;N++){const B=this.collisionBoxArray.get(N);this.addCollisionDebugVertices(B.x1,B.y1,B.x2,B.y2,P?this.textCollisionBox:this.iconCollisionBox,B.anchorPoint,b)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new CL(ro,j8.members,yo),this.iconCollisionBox=new CL(ro,j8.members,yo);for(let u=0;u<this.symbolInstances.length;u++){const m=this.symbolInstances.get(u);this.addDebugCollisionBoxes(m.textBoxStartIndex,m.textBoxEndIndex,m,!0),this.addDebugCollisionBoxes(m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m,!0),this.addDebugCollisionBoxes(m.iconBoxStartIndex,m.iconBoxEndIndex,m,!1),this.addDebugCollisionBoxes(m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex,m,!1)}}_deserializeCollisionBoxesForSymbol(u,m,b,P,N,B,U,Y,J){const ne={};for(let ae=m;ae<b;ae++){const ye=u.get(ae);ne.textBox={x1:ye.x1,y1:ye.y1,x2:ye.x2,y2:ye.y2,anchorPointX:ye.anchorPointX,anchorPointY:ye.anchorPointY},ne.textFeatureIndex=ye.featureIndex;break}for(let ae=P;ae<N;ae++){const ye=u.get(ae);ne.verticalTextBox={x1:ye.x1,y1:ye.y1,x2:ye.x2,y2:ye.y2,anchorPointX:ye.anchorPointX,anchorPointY:ye.anchorPointY},ne.verticalTextFeatureIndex=ye.featureIndex;break}for(let ae=B;ae<U;ae++){const ye=u.get(ae);ne.iconBox={x1:ye.x1,y1:ye.y1,x2:ye.x2,y2:ye.y2,anchorPointX:ye.anchorPointX,anchorPointY:ye.anchorPointY},ne.iconFeatureIndex=ye.featureIndex;break}for(let ae=Y;ae<J;ae++){const ye=u.get(ae);ne.verticalIconBox={x1:ye.x1,y1:ye.y1,x2:ye.x2,y2:ye.y2,anchorPointX:ye.anchorPointX,anchorPointY:ye.anchorPointY},ne.verticalIconFeatureIndex=ye.featureIndex;break}return ne}deserializeCollisionBoxes(u){this.collisionArrays=[];for(let m=0;m<this.symbolInstances.length;m++){const b=this.symbolInstances.get(m);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(u,b.textBoxStartIndex,b.textBoxEndIndex,b.verticalTextBoxStartIndex,b.verticalTextBoxEndIndex,b.iconBoxStartIndex,b.iconBoxEndIndex,b.verticalIconBoxStartIndex,b.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(u,m){const b=u.placedSymbolArray.get(m),P=b.vertexStartIndex+4*b.numGlyphs;for(let N=b.vertexStartIndex;N<P;N+=4)u.indexArray.emplaceBack(N,N+1,N+2),u.indexArray.emplaceBack(N+1,N+2,N+3)}getSortedSymbolIndexes(u){if(this.sortedAngle===u&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const m=Math.sin(u),b=Math.cos(u),P=[],N=[],B=[];for(let U=0;U<this.symbolInstances.length;++U){B.push(U);const Y=this.symbolInstances.get(U);P.push(0|Math.round(m*Y.anchorX+b*Y.anchorY)),N.push(Y.featureIndex)}return B.sort((U,Y)=>P[U]-P[Y]||N[Y]-N[U]),B}addToSortKeyRanges(u,m){const b=this.sortKeyRanges[this.sortKeyRanges.length-1];b&&b.sortKey===m?b.symbolInstanceEnd=u+1:this.sortKeyRanges.push({sortKey:m,symbolInstanceStart:u,symbolInstanceEnd:u+1})}sortFeatures(u){if(this.sortFeaturesByY&&this.sortedAngle!==u&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(u),this.sortedAngle=u,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const m of this.symbolInstanceIndexes){const b=this.symbolInstances.get(m);this.featureSortOrder.push(b.featureIndex),[b.rightJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.leftJustifiedTextSymbolIndex].forEach((P,N,B)=>{P>=0&&B.indexOf(P)===N&&this.addIndicesForPlacedSymbol(this.text,P)}),b.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,b.verticalPlacedTextSymbolIndex),b.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.placedIconSymbolIndex),b.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let iV,oV;Sn("SymbolBucket",vx,{omit:["layers","collisionBoxArray","features","compareText"]}),vx.MAX_GLYPHS=65535,vx.addDynamicAttributes=EL;var AL={get paint(){return oV=oV||new so({"icon-opacity":new nr(Je.paint_symbol["icon-opacity"]),"icon-color":new nr(Je.paint_symbol["icon-color"]),"icon-halo-color":new nr(Je.paint_symbol["icon-halo-color"]),"icon-halo-width":new nr(Je.paint_symbol["icon-halo-width"]),"icon-halo-blur":new nr(Je.paint_symbol["icon-halo-blur"]),"icon-translate":new zn(Je.paint_symbol["icon-translate"]),"icon-translate-anchor":new zn(Je.paint_symbol["icon-translate-anchor"]),"text-opacity":new nr(Je.paint_symbol["text-opacity"]),"text-color":new nr(Je.paint_symbol["text-color"],{runtimeType:en,getOverride:f=>f.textColor,hasOverride:f=>!!f.textColor}),"text-halo-color":new nr(Je.paint_symbol["text-halo-color"]),"text-halo-width":new nr(Je.paint_symbol["text-halo-width"]),"text-halo-blur":new nr(Je.paint_symbol["text-halo-blur"]),"text-translate":new zn(Je.paint_symbol["text-translate"]),"text-translate-anchor":new zn(Je.paint_symbol["text-translate-anchor"])})},get layout(){return iV=iV||new so({"symbol-placement":new zn(Je.layout_symbol["symbol-placement"]),"symbol-spacing":new zn(Je.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new zn(Je.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new nr(Je.layout_symbol["symbol-sort-key"]),"symbol-z-order":new zn(Je.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new zn(Je.layout_symbol["icon-allow-overlap"]),"icon-overlap":new zn(Je.layout_symbol["icon-overlap"]),"icon-ignore-placement":new zn(Je.layout_symbol["icon-ignore-placement"]),"icon-optional":new zn(Je.layout_symbol["icon-optional"]),"icon-rotation-alignment":new zn(Je.layout_symbol["icon-rotation-alignment"]),"icon-size":new nr(Je.layout_symbol["icon-size"]),"icon-text-fit":new zn(Je.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new zn(Je.layout_symbol["icon-text-fit-padding"]),"icon-image":new nr(Je.layout_symbol["icon-image"]),"icon-rotate":new nr(Je.layout_symbol["icon-rotate"]),"icon-padding":new nr(Je.layout_symbol["icon-padding"]),"icon-keep-upright":new zn(Je.layout_symbol["icon-keep-upright"]),"icon-offset":new nr(Je.layout_symbol["icon-offset"]),"icon-anchor":new nr(Je.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new zn(Je.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new zn(Je.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new zn(Je.layout_symbol["text-rotation-alignment"]),"text-field":new nr(Je.layout_symbol["text-field"]),"text-font":new nr(Je.layout_symbol["text-font"]),"text-size":new nr(Je.layout_symbol["text-size"]),"text-max-width":new nr(Je.layout_symbol["text-max-width"]),"text-line-height":new zn(Je.layout_symbol["text-line-height"]),"text-letter-spacing":new nr(Je.layout_symbol["text-letter-spacing"]),"text-justify":new nr(Je.layout_symbol["text-justify"]),"text-radial-offset":new nr(Je.layout_symbol["text-radial-offset"]),"text-variable-anchor":new zn(Je.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new nr(Je.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new nr(Je.layout_symbol["text-anchor"]),"text-max-angle":new zn(Je.layout_symbol["text-max-angle"]),"text-writing-mode":new zn(Je.layout_symbol["text-writing-mode"]),"text-rotate":new nr(Je.layout_symbol["text-rotate"]),"text-padding":new zn(Je.layout_symbol["text-padding"]),"text-keep-upright":new zn(Je.layout_symbol["text-keep-upright"]),"text-transform":new nr(Je.layout_symbol["text-transform"]),"text-offset":new nr(Je.layout_symbol["text-offset"]),"text-allow-overlap":new zn(Je.layout_symbol["text-allow-overlap"]),"text-overlap":new zn(Je.layout_symbol["text-overlap"]),"text-ignore-placement":new zn(Je.layout_symbol["text-ignore-placement"]),"text-optional":new zn(Je.layout_symbol["text-optional"])})}};class sV{constructor(u){if(u.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=u.property.overrides?u.property.overrides.runtimeType:ke,this.defaultValue=u}evaluate(u){if(u.formattedSection){const m=this.defaultValue.property.overrides;if(m&&m.hasOverride(u.formattedSection))return m.getOverride(u.formattedSection)}return u.feature&&u.featureState?this.defaultValue.evaluate(u.feature,u.featureState):this.defaultValue.property.specification.default}eachChild(u){this.defaultValue.isConstant()||u(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Sn("FormatSectionOverride",sV,{omit:["defaultValue"]});class sT extends go{constructor(u){super(u,AL)}recalculate(u,m){if(super.recalculate(u,m),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const b=this.layout.get("text-writing-mode");if(b){const P=[];for(const N of b)P.indexOf(N)<0&&P.push(N);this.layout._values["text-writing-mode"]=P}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(u,m,b,P){const N=this.layout.get(u).evaluate(m,{},b,P),B=this._unevaluatedLayout._values[u];return B.isDataDriven()||Ha(B.value)||!N?N:function(U,Y){return Y.replace(/{([^{}]+)}/g,(J,ne)=>U&&ne in U?String(U[ne]):"")}(m.properties,N)}createBucket(u){return new vx(u)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const u of AL.paint.overridableProperties){if(!sT.hasPaintOverride(this.layout,u))continue;const m=this.paint.get(u),b=new sV(m),P=new El(b,m.property.specification);let N=null;N=m.value.kind==="constant"||m.value.kind==="source"?new Sm("source",P):new Nf("composite",P,m.value.zoomStops),this.paint._values[u]=new Hs(m.property,N,m.parameters)}}_handleOverridablePaintPropertyUpdate(u,m,b){return!(!this.layout||m.isDataDriven()||b.isDataDriven())&&sT.hasPaintOverride(this.layout,u)}static hasPaintOverride(u,m){const b=u.get("text-field"),P=AL.paint.properties[m];let N=!1;const B=U=>{for(const Y of U)if(P.overrides&&P.overrides.hasOverride(Y))return void(N=!0)};if(b.value.kind==="constant"&&b.value.value instanceof Yr)B(b.value.value.sections);else if(b.value.kind==="source"){const U=J=>{N||(J instanceof Si&&Ur(J.value)===we?B(J.value.sections):J instanceof Of?B(J.sections):J.eachChild(U))},Y=b.value;Y._styleExpression&&U(Y._styleExpression.expression)}return N}}let aV;var ihe={get paint(){return aV=aV||new so({"background-color":new zn(Je.paint_background["background-color"]),"background-pattern":new Dm(Je.paint_background["background-pattern"]),"background-opacity":new zn(Je.paint_background["background-opacity"])})}};class ohe extends go{constructor(u){super(u,ihe)}}let lV;var she={get paint(){return lV=lV||new so({"raster-opacity":new zn(Je.paint_raster["raster-opacity"]),"raster-hue-rotate":new zn(Je.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new zn(Je.paint_raster["raster-brightness-min"]),"raster-brightness-max":new zn(Je.paint_raster["raster-brightness-max"]),"raster-saturation":new zn(Je.paint_raster["raster-saturation"]),"raster-contrast":new zn(Je.paint_raster["raster-contrast"]),"raster-resampling":new zn(Je.paint_raster["raster-resampling"]),"raster-fade-duration":new zn(Je.paint_raster["raster-fade-duration"])})}};class ahe extends go{constructor(u){super(u,she)}}class lhe extends go{constructor(u){super(u,{}),this.onAdd=m=>{this.implementation.onAdd&&this.implementation.onAdd(m,m.painter.context.gl)},this.onRemove=m=>{this.implementation.onRemove&&this.implementation.onRemove(m,m.painter.context.gl)},this.implementation=u}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class che{constructor(u){this._callback=u,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const PL=63710088e-1;class Xm{constructor(u,m){if(isNaN(u)||isNaN(m))throw new Error(`Invalid LngLat object: (${u}, ${m})`);if(this.lng=+u,this.lat=+m,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Xm(F(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(u){const m=Math.PI/180,b=this.lat*m,P=u.lat*m,N=Math.sin(b)*Math.sin(P)+Math.cos(b)*Math.cos(P)*Math.cos((u.lng-this.lng)*m);return PL*Math.acos(Math.min(N,1))}static convert(u){if(u instanceof Xm)return u;if(Array.isArray(u)&&(u.length===2||u.length===3))return new Xm(Number(u[0]),Number(u[1]));if(!Array.isArray(u)&&typeof u=="object"&&u!==null)return new Xm(Number("lng"in u?u.lng:u.lon),Number(u.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const cV=2*Math.PI*PL;function uV(f){return cV*Math.cos(f*Math.PI/180)}function dV(f){return(180+f)/360}function fV(f){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f*Math.PI/360)))/360}function hV(f,u){return f/uV(u)}function pV(f){return 360*f-180}function IL(f){return 360/Math.PI*Math.atan(Math.exp((180-360*f)*Math.PI/180))-90}class aT{constructor(u,m,b=0){this.x=+u,this.y=+m,this.z=+b}static fromLngLat(u,m=0){const b=Xm.convert(u);return new aT(dV(b.lng),fV(b.lat),hV(m,b.lat))}toLngLat(){return new Xm(pV(this.x),IL(this.y))}toAltitude(){return this.z*uV(IL(this.y))}meterInMercatorCoordinateUnits(){return 1/cV*(u=IL(this.y),1/Math.cos(u*Math.PI/180));var u}}function mV(f,u,m){var b=2*Math.PI*6378137/256/Math.pow(2,m);return[f*b-2*Math.PI*6378137/2,u*b-2*Math.PI*6378137/2]}class kL{constructor(u,m,b){if(u<0||u>25||b<0||b>=Math.pow(2,u)||m<0||m>=Math.pow(2,u))throw new Error(`x=${m}, y=${b}, z=${u} outside of bounds. 0<=x<${Math.pow(2,u)}, 0<=y<${Math.pow(2,u)} 0<=z<=25 `);this.z=u,this.x=m,this.y=b,this.key=hw(0,u,u,m,b)}equals(u){return this.z===u.z&&this.x===u.x&&this.y===u.y}url(u,m,b){const P=(B=this.y,U=this.z,Y=mV(256*(N=this.x),256*(B=Math.pow(2,U)-B-1),U),J=mV(256*(N+1),256*(B+1),U),Y[0]+","+Y[1]+","+J[0]+","+J[1]);var N,B,U,Y,J;const ne=function(ae,ye,Se){let Ee,De="";for(let He=ae;He>0;He--)Ee=1<<He-1,De+=(ye&Ee?1:0)+(Se&Ee?2:0);return De}(this.z,this.x,this.y);return u[(this.x+this.y)%u.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(b==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,m>1?"@2x":"").replace(/{quadkey}/g,ne).replace(/{bbox-epsg-3857}/g,P)}isChildOf(u){const m=this.z-u.z;return m>0&&u.x===this.x>>m&&u.y===this.y>>m}getTilePoint(u){const m=Math.pow(2,this.z);return new g((u.x*m-this.x)*Yi,(u.y*m-this.y)*Yi)}toString(){return`${this.z}/${this.x}/${this.y}`}}class gV{constructor(u,m){this.wrap=u,this.canonical=m,this.key=hw(u,m.z,m.z,m.x,m.y)}}class Vc{constructor(u,m,b,P,N){if(u<b)throw new Error(`overscaledZ should be >= z; overscaledZ = ${u}; z = ${b}`);this.overscaledZ=u,this.wrap=m,this.canonical=new kL(b,+P,+N),this.key=hw(m,u,b,P,N)}clone(){return new Vc(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(u){return this.overscaledZ===u.overscaledZ&&this.wrap===u.wrap&&this.canonical.equals(u.canonical)}scaledTo(u){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-u;return u>this.canonical.z?new Vc(u,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Vc(u,this.wrap,u,this.canonical.x>>m,this.canonical.y>>m)}calculateScaledKey(u,m){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const b=this.canonical.z-u;return u>this.canonical.z?hw(this.wrap*+m,u,this.canonical.z,this.canonical.x,this.canonical.y):hw(this.wrap*+m,u,u,this.canonical.x>>b,this.canonical.y>>b)}isChildOf(u){if(u.wrap!==this.wrap)return!1;const m=this.canonical.z-u.canonical.z;return u.overscaledZ===0||u.overscaledZ<this.overscaledZ&&u.canonical.x===this.canonical.x>>m&&u.canonical.y===this.canonical.y>>m}children(u){if(this.overscaledZ>=u)return[new Vc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const m=this.canonical.z+1,b=2*this.canonical.x,P=2*this.canonical.y;return[new Vc(m,this.wrap,m,b,P),new Vc(m,this.wrap,m,b+1,P),new Vc(m,this.wrap,m,b,P+1),new Vc(m,this.wrap,m,b+1,P+1)]}isLessThan(u){return this.wrap<u.wrap||!(this.wrap>u.wrap)&&(this.overscaledZ<u.overscaledZ||!(this.overscaledZ>u.overscaledZ)&&(this.canonical.x<u.canonical.x||!(this.canonical.x>u.canonical.x)&&this.canonical.y<u.canonical.y))}wrapped(){return new Vc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(u){return new Vc(this.overscaledZ,u,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new gV(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(u){return this.canonical.getTilePoint(new aT(u.x-this.wrap,u.y))}}function hw(f,u,m,b,P){(f*=2)<0&&(f=-1*f-1);const N=1<<m;return(N*N*f+N*P+b).toString(36)+m.toString(36)+u.toString(36)}Sn("CanonicalTileID",kL),Sn("OverscaledTileID",Vc,{omit:["posMatrix"]});class yV{constructor(u,m,b,P=1,N=1,B=1,U=0){if(this.uid=u,m.height!==m.width)throw new RangeError("DEM tiles must be square");if(b&&!["mapbox","terrarium","custom"].includes(b))return void ie(`"${b}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=m.height;const Y=this.dim=m.height-2;switch(this.data=new Uint32Array(m.data.buffer),b){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=P,this.greenFactor=N,this.blueFactor=B,this.baseShift=U;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let J=0;J<Y;J++)this.data[this._idx(-1,J)]=this.data[this._idx(0,J)],this.data[this._idx(Y,J)]=this.data[this._idx(Y-1,J)],this.data[this._idx(J,-1)]=this.data[this._idx(J,0)],this.data[this._idx(J,Y)]=this.data[this._idx(J,Y-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(Y,-1)]=this.data[this._idx(Y-1,0)],this.data[this._idx(-1,Y)]=this.data[this._idx(0,Y-1)],this.data[this._idx(Y,Y)]=this.data[this._idx(Y-1,Y-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let J=0;J<Y;J++)for(let ne=0;ne<Y;ne++){const ae=this.get(J,ne);ae>this.max&&(this.max=ae),ae<this.min&&(this.min=ae)}}get(u,m){const b=new Uint8Array(this.data.buffer),P=4*this._idx(u,m);return this.unpack(b[P],b[P+1],b[P+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(u,m){if(u<-1||u>=this.dim+1||m<-1||m>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(m+1)*this.stride+(u+1)}unpack(u,m,b){return u*this.redFactor+m*this.greenFactor+b*this.blueFactor-this.baseShift}getPixels(){return new Xa({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(u,m,b){if(this.dim!==u.dim)throw new Error("dem dimension mismatch");let P=m*this.dim,N=m*this.dim+this.dim,B=b*this.dim,U=b*this.dim+this.dim;switch(m){case-1:P=N-1;break;case 1:N=P+1}switch(b){case-1:B=U-1;break;case 1:U=B+1}const Y=-m*this.dim,J=-b*this.dim;for(let ne=B;ne<U;ne++)for(let ae=P;ae<N;ae++)this.data[this._idx(ae,ne)]=u.data[this._idx(ae+Y,ne+J)]}}Sn("DEMData",yV);class vV{constructor(u){this._stringToNumber={},this._numberToString=[];for(let m=0;m<u.length;m++){const b=u[m];this._stringToNumber[b]=m,this._numberToString[m]=b}}encode(u){return this._stringToNumber[u]}decode(u){if(u>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${u} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[u]}}class xV{constructor(u,m,b,P,N){this.type="Feature",this._vectorTileFeature=u,u._z=m,u._x=b,u._y=P,this.properties=u.properties,this.id=N}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(u){this._geometry=u}toJSON(){const u={geometry:this.geometry};for(const m in this)m!=="_geometry"&&m!=="_vectorTileFeature"&&(u[m]=this[m]);return u}}class _V{constructor(u,m){this.tileID=u,this.x=u.canonical.x,this.y=u.canonical.y,this.z=u.canonical.z,this.grid=new Us(Yi,16,0),this.grid3D=new Us(Yi,16,0),this.featureIndexArray=new Kt,this.promoteId=m}insert(u,m,b,P,N,B){const U=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(b,P,N);const Y=B?this.grid3D:this.grid;for(let J=0;J<m.length;J++){const ne=m[J],ae=[1/0,1/0,-1/0,-1/0];for(let ye=0;ye<ne.length;ye++){const Se=ne[ye];ae[0]=Math.min(ae[0],Se.x),ae[1]=Math.min(ae[1],Se.y),ae[2]=Math.max(ae[2],Se.x),ae[3]=Math.max(ae[3],Se.y)}ae[0]<Yi&&ae[1]<Yi&&ae[2]>=0&&ae[3]>=0&&Y.insert(U,ae[0],ae[1],ae[2],ae[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new wr.VectorTile(new xL(this.rawTileData)).layers,this.sourceLayerCoder=new vV(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(u,m,b,P){this.loadVTLayers();const N=u.params||{},B=Yi/u.tileSize/u.scale,U=wa(N.filter),Y=u.queryGeometry,J=u.queryPadding*B,ne=wV(Y),ae=this.grid.query(ne.minX-J,ne.minY-J,ne.maxX+J,ne.maxY+J),ye=wV(u.cameraQueryGeometry),Se=this.grid3D.query(ye.minX-J,ye.minY-J,ye.maxX+J,ye.maxY+J,(He,Ye,pt,nt)=>function(xt,It,Yt,wn,Bn){for(const vn of xt)if(It<=vn.x&&Yt<=vn.y&&wn>=vn.x&&Bn>=vn.y)return!0;const bn=[new g(It,Yt),new g(It,Bn),new g(wn,Bn),new g(wn,Yt)];if(xt.length>2){for(const vn of bn)if(qf(xt,vn))return!0}for(let vn=0;vn<xt.length-1;vn++)if(ux(xt[vn],xt[vn+1],bn))return!0;return!1}(u.cameraQueryGeometry,He-J,Ye-J,pt+J,nt+J));for(const He of Se)ae.push(He);ae.sort(uhe);const Ee={};let De;for(let He=0;He<ae.length;He++){const Ye=ae[He];if(Ye===De)continue;De=Ye;const pt=this.featureIndexArray.get(Ye);let nt=null;this.loadMatchingFeature(Ee,pt.bucketIndex,pt.sourceLayerIndex,pt.featureIndex,U,N.layers,N.availableImages,m,b,P,(xt,It,Yt)=>(nt||(nt=Nd(xt)),It.queryIntersectsFeature(Y,xt,Yt,nt,this.z,u.transform,B,u.pixelPosMatrix)))}return Ee}loadMatchingFeature(u,m,b,P,N,B,U,Y,J,ne,ae){const ye=this.bucketLayerIDs[m];if(B&&!function(He,Ye){for(let pt=0;pt<He.length;pt++)if(Ye.indexOf(He[pt])>=0)return!0;return!1}(B,ye))return;const Se=this.sourceLayerCoder.decode(b),Ee=this.vtLayers[Se].feature(P);if(N.needGeometry){const He=jc(Ee,!0);if(!N.filter(new Ei(this.tileID.overscaledZ),He,this.tileID.canonical))return}else if(!N.filter(new Ei(this.tileID.overscaledZ),Ee))return;const De=this.getId(Ee,Se);for(let He=0;He<ye.length;He++){const Ye=ye[He];if(B&&B.indexOf(Ye)<0)continue;const pt=Y[Ye];if(!pt)continue;let nt={};De&&ne&&(nt=ne.getState(pt.sourceLayer||"_geojsonTileLayer",De));const xt=H({},J[Ye]);xt.paint=bV(xt.paint,pt.paint,Ee,nt,U),xt.layout=bV(xt.layout,pt.layout,Ee,nt,U);const It=!ae||ae(Ee,pt,nt);if(!It)continue;const Yt=new xV(Ee,this.z,this.x,this.y,De);Yt.layer=xt;let wn=u[Ye];wn===void 0&&(wn=u[Ye]=[]),wn.push({featureIndex:P,feature:Yt,intersectionZ:It})}}lookupSymbolFeatures(u,m,b,P,N,B,U,Y){const J={};this.loadVTLayers();const ne=wa(N);for(const ae of u)this.loadMatchingFeature(J,b,P,ae,ne,B,U,Y,m);return J}hasLayer(u){for(const m of this.bucketLayerIDs)for(const b of m)if(u===b)return!0;return!1}getId(u,m){let b=u.id;return this.promoteId&&(b=u.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[m]],typeof b=="boolean"&&(b=Number(b))),b}}function bV(f,u,m,b,P){return j(f,(N,B)=>{const U=u instanceof jf?u.get(B):null;return U&&U.evaluate?U.evaluate(m,b,P):U})}function wV(f){let u=1/0,m=1/0,b=-1/0,P=-1/0;for(const N of f)u=Math.min(u,N.x),m=Math.min(m,N.y),b=Math.max(b,N.x),P=Math.max(P,N.y);return{minX:u,minY:m,maxX:b,maxY:P}}function uhe(f,u){return u-f}function SV(f,u,m,b,P){const N=[];for(let B=0;B<f.length;B++){const U=f[B];let Y;for(let J=0;J<U.length-1;J++){let ne=U[J],ae=U[J+1];ne.x<u&&ae.x<u||(ne.x<u?ne=new g(u,ne.y+(u-ne.x)/(ae.x-ne.x)*(ae.y-ne.y))._round():ae.x<u&&(ae=new g(u,ne.y+(u-ne.x)/(ae.x-ne.x)*(ae.y-ne.y))._round()),ne.y<m&&ae.y<m||(ne.y<m?ne=new g(ne.x+(m-ne.y)/(ae.y-ne.y)*(ae.x-ne.x),m)._round():ae.y<m&&(ae=new g(ne.x+(m-ne.y)/(ae.y-ne.y)*(ae.x-ne.x),m)._round()),ne.x>=b&&ae.x>=b||(ne.x>=b?ne=new g(b,ne.y+(b-ne.x)/(ae.x-ne.x)*(ae.y-ne.y))._round():ae.x>=b&&(ae=new g(b,ne.y+(b-ne.x)/(ae.x-ne.x)*(ae.y-ne.y))._round()),ne.y>=P&&ae.y>=P||(ne.y>=P?ne=new g(ne.x+(P-ne.y)/(ae.y-ne.y)*(ae.x-ne.x),P)._round():ae.y>=P&&(ae=new g(ne.x+(P-ne.y)/(ae.y-ne.y)*(ae.x-ne.x),P)._round()),Y&&ne.equals(Y[Y.length-1])||(Y=[ne],N.push(Y)),Y.push(ae)))))}}return N}Sn("FeatureIndex",_V,{omit:["rawTileData","sourceLayerCoder"]});class Km extends g{constructor(u,m,b,P){super(u,m),this.angle=b,P!==void 0&&(this.segment=P)}clone(){return new Km(this.x,this.y,this.angle,this.segment)}}function MV(f,u,m,b,P){if(u.segment===void 0||m===0)return!0;let N=u,B=u.segment+1,U=0;for(;U>-m/2;){if(B--,B<0)return!1;U-=f[B].dist(N),N=f[B]}U+=f[B].dist(f[B+1]),B++;const Y=[];let J=0;for(;U<m/2;){const ne=f[B],ae=f[B+1];if(!ae)return!1;let ye=f[B-1].angleTo(ne)-ne.angleTo(ae);for(ye=Math.abs((ye+3*Math.PI)%(2*Math.PI)-Math.PI),Y.push({distance:U,angleDelta:ye}),J+=ye;U-Y[0].distance>b;)J-=Y.shift().angleDelta;if(J>P)return!1;B++,U+=ne.dist(ae)}return!0}function EV(f){let u=0;for(let m=0;m<f.length-1;m++)u+=f[m].dist(f[m+1]);return u}function TV(f,u,m){return f?.6*u*m:0}function CV(f,u){return Math.max(f?f.right-f.left:0,u?u.right-u.left:0)}function dhe(f,u,m,b,P,N){const B=TV(m,P,N),U=CV(m,b)*N;let Y=0;const J=EV(f)/2;for(let ne=0;ne<f.length-1;ne++){const ae=f[ne],ye=f[ne+1],Se=ae.dist(ye);if(Y+Se>J){const Ee=(J-Y)/Se,De=Cs.number(ae.x,ye.x,Ee),He=Cs.number(ae.y,ye.y,Ee),Ye=new Km(De,He,ye.angleTo(ae),ne);return Ye._round(),!B||MV(f,Ye,U,B,u)?Ye:void 0}Y+=Se}}function fhe(f,u,m,b,P,N,B,U,Y){const J=TV(b,N,B),ne=CV(b,P),ae=ne*B,ye=f[0].x===0||f[0].x===Y||f[0].y===0||f[0].y===Y;return u-ae<u/4&&(u=ae+u/4),AV(f,ye?u/2*U%u:(ne/2+2*N)*B*U%u,u,J,m,ae,ye,!1,Y)}function AV(f,u,m,b,P,N,B,U,Y){const J=N/2,ne=EV(f);let ae=0,ye=u-m,Se=[];for(let Ee=0;Ee<f.length-1;Ee++){const De=f[Ee],He=f[Ee+1],Ye=De.dist(He),pt=He.angleTo(De);for(;ye+m<ae+Ye;){ye+=m;const nt=(ye-ae)/Ye,xt=Cs.number(De.x,He.x,nt),It=Cs.number(De.y,He.y,nt);if(xt>=0&&xt<Y&&It>=0&&It<Y&&ye-J>=0&&ye+J<=ne){const Yt=new Km(xt,It,pt,Ee);Yt._round(),b&&!MV(f,Yt,N,b,P)||Se.push(Yt)}}ae+=Ye}return U||Se.length||B||(Se=AV(f,ae/2,m,b,P,N,B,!0,Y)),Se}Sn("Anchor",Km);const xx=Il;function PV(f,u,m,b){const P=[],N=f.image,B=N.pixelRatio,U=N.paddedRect.w-2*xx,Y=N.paddedRect.h-2*xx,J=f.right-f.left,ne=f.bottom-f.top,ae=N.stretchX||[[0,U]],ye=N.stretchY||[[0,Y]],Se=(fn,In)=>fn+In[1]-In[0],Ee=ae.reduce(Se,0),De=ye.reduce(Se,0),He=U-Ee,Ye=Y-De;let pt=0,nt=Ee,xt=0,It=De,Yt=0,wn=He,Bn=0,bn=Ye;if(N.content&&b){const fn=N.content;pt=lT(ae,0,fn[0]),xt=lT(ye,0,fn[1]),nt=lT(ae,fn[0],fn[2]),It=lT(ye,fn[1],fn[3]),Yt=fn[0]-pt,Bn=fn[1]-xt,wn=fn[2]-fn[0]-nt,bn=fn[3]-fn[1]-It}const vn=(fn,In,mn,on)=>{const Qn=cT(fn.stretch-pt,nt,J,f.left),Hn=uT(fn.fixed-Yt,wn,fn.stretch,Ee),Ir=cT(In.stretch-xt,It,ne,f.top),Xi=uT(In.fixed-Bn,bn,In.stretch,De),io=cT(mn.stretch-pt,nt,J,f.left),fs=uT(mn.fixed-Yt,wn,mn.stretch,Ee),hc=cT(on.stretch-xt,It,ne,f.top),Za=uT(on.fixed-Bn,bn,on.stretch,De),Qo=new g(Qn,Ir),Ks=new g(io,Ir),aa=new g(io,hc),Ja=new g(Qn,hc),Qa=new g(Hn/B,Xi/B),hs=new g(fs/B,Za/B),ps=u*Math.PI/180;if(ps){const Aa=Math.sin(ps),kl=Math.cos(ps),Rl=[kl,-Aa,Aa,kl];Qo._matMult(Rl),Ks._matMult(Rl),Ja._matMult(Rl),aa._matMult(Rl)}const Ca=fn.stretch+fn.fixed,el=In.stretch+In.fixed;return{tl:Qo,tr:Ks,bl:Ja,br:aa,tex:{x:N.paddedRect.x+xx+Ca,y:N.paddedRect.y+xx+el,w:mn.stretch+mn.fixed-Ca,h:on.stretch+on.fixed-el},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Qa,pixelOffsetBR:hs,minFontScaleX:wn/B/J,minFontScaleY:bn/B/ne,isSDF:m}};if(b&&(N.stretchX||N.stretchY)){const fn=IV(ae,He,Ee),In=IV(ye,Ye,De);for(let mn=0;mn<fn.length-1;mn++){const on=fn[mn],Qn=fn[mn+1];for(let Hn=0;Hn<In.length-1;Hn++)P.push(vn(on,In[Hn],Qn,In[Hn+1]))}}else P.push(vn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:U+1},{fixed:0,stretch:Y+1}));return P}function lT(f,u,m){let b=0;for(const P of f)b+=Math.max(u,Math.min(m,P[1]))-Math.max(u,Math.min(m,P[0]));return b}function IV(f,u,m){const b=[{fixed:-xx,stretch:0}];for(const[P,N]of f){const B=b[b.length-1];b.push({fixed:P-B.stretch,stretch:B.stretch}),b.push({fixed:P-B.stretch,stretch:B.stretch+(N-P)})}return b.push({fixed:u+xx,stretch:m}),b}function cT(f,u,m,b){return f/u*m+b}function uT(f,u,m,b){return f-u*m/b}class dT{constructor(u,m,b,P,N,B,U,Y,J,ne){if(this.boxStartIndex=u.length,J){let ae=B.top,ye=B.bottom;const Se=B.collisionPadding;Se&&(ae-=Se[1],ye+=Se[3]);let Ee=ye-ae;Ee>0&&(Ee=Math.max(10,Ee),this.circleDiameter=Ee)}else{let ae=B.top*U-Y[0],ye=B.bottom*U+Y[2],Se=B.left*U-Y[3],Ee=B.right*U+Y[1];const De=B.collisionPadding;if(De&&(Se-=De[0]*U,ae-=De[1]*U,Ee+=De[2]*U,ye+=De[3]*U),ne){const He=new g(Se,ae),Ye=new g(Ee,ae),pt=new g(Se,ye),nt=new g(Ee,ye),xt=ne*Math.PI/180;He._rotate(xt),Ye._rotate(xt),pt._rotate(xt),nt._rotate(xt),Se=Math.min(He.x,Ye.x,pt.x,nt.x),Ee=Math.max(He.x,Ye.x,pt.x,nt.x),ae=Math.min(He.y,Ye.y,pt.y,nt.y),ye=Math.max(He.y,Ye.y,pt.y,nt.y)}u.emplaceBack(m.x,m.y,Se,ae,Ee,ye,b,P,N)}this.boxEndIndex=u.length}}class hhe{constructor(u=[],m=phe){if(this.data=u,this.length=this.data.length,this.compare=m,this.length>0)for(let b=(this.length>>1)-1;b>=0;b--)this._down(b)}push(u){this.data.push(u),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const u=this.data[0],m=this.data.pop();return this.length--,this.length>0&&(this.data[0]=m,this._down(0)),u}peek(){return this.data[0]}_up(u){const{data:m,compare:b}=this,P=m[u];for(;u>0;){const N=u-1>>1,B=m[N];if(b(P,B)>=0)break;m[u]=B,u=N}m[u]=P}_down(u){const{data:m,compare:b}=this,P=this.length>>1,N=m[u];for(;u<P;){let B=1+(u<<1),U=m[B];const Y=B+1;if(Y<this.length&&b(m[Y],U)<0&&(B=Y,U=m[Y]),b(U,N)>=0)break;m[u]=U,u=B}m[u]=N}}function phe(f,u){return f<u?-1:f>u?1:0}function mhe(f,u=1,m=!1){let b=1/0,P=1/0,N=-1/0,B=-1/0;const U=f[0];for(let Se=0;Se<U.length;Se++){const Ee=U[Se];(!Se||Ee.x<b)&&(b=Ee.x),(!Se||Ee.y<P)&&(P=Ee.y),(!Se||Ee.x>N)&&(N=Ee.x),(!Se||Ee.y>B)&&(B=Ee.y)}const Y=Math.min(N-b,B-P);let J=Y/2;const ne=new hhe([],ghe);if(Y===0)return new g(b,P);for(let Se=b;Se<N;Se+=Y)for(let Ee=P;Ee<B;Ee+=Y)ne.push(new _x(Se+J,Ee+J,J,f));let ae=function(Se){let Ee=0,De=0,He=0;const Ye=Se[0];for(let pt=0,nt=Ye.length,xt=nt-1;pt<nt;xt=pt++){const It=Ye[pt],Yt=Ye[xt],wn=It.x*Yt.y-Yt.x*It.y;De+=(It.x+Yt.x)*wn,He+=(It.y+Yt.y)*wn,Ee+=3*wn}return new _x(De/Ee,He/Ee,0,Se)}(f),ye=ne.length;for(;ne.length;){const Se=ne.pop();(Se.d>ae.d||!ae.d)&&(ae=Se,m&&console.log("found best %d after %d probes",Math.round(1e4*Se.d)/1e4,ye)),Se.max-ae.d<=u||(J=Se.h/2,ne.push(new _x(Se.p.x-J,Se.p.y-J,J,f)),ne.push(new _x(Se.p.x+J,Se.p.y-J,J,f)),ne.push(new _x(Se.p.x-J,Se.p.y+J,J,f)),ne.push(new _x(Se.p.x+J,Se.p.y+J,J,f)),ye+=4)}return m&&(console.log(`num probes: ${ye}`),console.log(`best distance: ${ae.d}`)),ae.p}function ghe(f,u){return u.max-f.max}function _x(f,u,m,b){this.p=new g(f,u),this.h=m,this.d=function(P,N){let B=!1,U=1/0;for(let Y=0;Y<N.length;Y++){const J=N[Y];for(let ne=0,ae=J.length,ye=ae-1;ne<ae;ye=ne++){const Se=J[ne],Ee=J[ye];Se.y>P.y!=Ee.y>P.y&&P.x<(Ee.x-Se.x)*(P.y-Se.y)/(Ee.y-Se.y)+Se.x&&(B=!B),U=Math.min(U,iv(P,Se,Ee))}}return(B?1:-1)*Math.sqrt(U)}(this.p,b),this.max=this.d+this.h*Math.SQRT2}var sa;s.aq=void 0,(sa=s.aq||(s.aq={}))[sa.center=1]="center",sa[sa.left=2]="left",sa[sa.right=3]="right",sa[sa.top=4]="top",sa[sa.bottom=5]="bottom",sa[sa["top-left"]=6]="top-left",sa[sa["top-right"]=7]="top-right",sa[sa["bottom-left"]=8]="bottom-left",sa[sa["bottom-right"]=9]="bottom-right";const Zm=7,RL=Number.POSITIVE_INFINITY;function kV(f,u){return u[1]!==RL?function(m,b,P){let N=0,B=0;switch(b=Math.abs(b),P=Math.abs(P),m){case"top-right":case"top-left":case"top":B=P-Zm;break;case"bottom-right":case"bottom-left":case"bottom":B=-P+Zm}switch(m){case"top-right":case"bottom-right":case"right":N=-b;break;case"top-left":case"bottom-left":case"left":N=b}return[N,B]}(f,u[0],u[1]):function(m,b){let P=0,N=0;b<0&&(b=0);const B=b/Math.SQRT2;switch(m){case"top-right":case"top-left":N=B-Zm;break;case"bottom-right":case"bottom-left":N=-B+Zm;break;case"bottom":N=-b+Zm;break;case"top":N=b-Zm}switch(m){case"top-right":case"bottom-right":P=-B;break;case"top-left":case"bottom-left":P=B;break;case"left":P=b;break;case"right":P=-b}return[P,N]}(f,u[0])}function RV(f,u,m){var b;const P=f.layout,N=(b=P.get("text-variable-anchor-offset"))===null||b===void 0?void 0:b.evaluate(u,{},m);if(N){const U=N.values,Y=[];for(let J=0;J<U.length;J+=2){const ne=Y[J]=U[J],ae=U[J+1].map(ye=>ye*ds);ne.startsWith("top")?ae[1]-=Zm:ne.startsWith("bottom")&&(ae[1]+=Zm),Y[J+1]=ae}return new to(Y)}const B=P.get("text-variable-anchor");if(B){let U;U=f._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[P.get("text-radial-offset").evaluate(u,{},m)*ds,RL]:P.get("text-offset").evaluate(u,{},m).map(J=>J*ds);const Y=[];for(const J of B)Y.push(J,kV(J,U));return new to(Y)}return null}function OL(f){switch(f){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function yhe(f,u,m,b,P,N,B,U,Y,J,ne){let ae=N.textMaxSize.evaluate(u,{});ae===void 0&&(ae=B);const ye=f.layers[0].layout,Se=ye.get("icon-offset").evaluate(u,{},ne),Ee=LV(m.horizontal),De=B/24,He=f.tilePixelRatio*De,Ye=f.tilePixelRatio*ae/24,pt=f.tilePixelRatio*U,nt=f.tilePixelRatio*ye.get("symbol-spacing"),xt=ye.get("text-padding")*f.tilePixelRatio,It=function(on,Qn,Hn,Ir=1){const Xi=on.get("icon-padding").evaluate(Qn,{},Hn),io=Xi&&Xi.values;return[io[0]*Ir,io[1]*Ir,io[2]*Ir,io[3]*Ir]}(ye,u,ne,f.tilePixelRatio),Yt=ye.get("text-max-angle")/180*Math.PI,wn=ye.get("text-rotation-alignment")!=="viewport"&&ye.get("symbol-placement")!=="point",Bn=ye.get("icon-rotation-alignment")==="map"&&ye.get("symbol-placement")!=="point",bn=ye.get("symbol-placement"),vn=nt/2,fn=ye.get("icon-text-fit");let In;b&&fn!=="none"&&(f.allowVerticalPlacement&&m.vertical&&(In=nV(b,m.vertical,fn,ye.get("icon-text-fit-padding"),Se,De)),Ee&&(b=nV(b,Ee,fn,ye.get("icon-text-fit-padding"),Se,De)));const mn=(on,Qn)=>{Qn.x<0||Qn.x>=Yi||Qn.y<0||Qn.y>=Yi||function(Hn,Ir,Xi,io,fs,hc,Za,Qo,Ks,aa,Ja,Qa,hs,ps,Ca,el,Aa,kl,Rl,ms,Nr,Pa,la,gs,Fu){const zd=Hn.addToLineVertexArray(Ir,Xi);let Bd,ip,$u,Wc,Ol=0,op=0,gw=0,BV=0,jL=-1,UL=-1;const sp={};let FV=uc("");if(Hn.allowVerticalPlacement&&io.vertical){const Ia=Qo.layout.get("text-rotate").evaluate(Nr,{},gs)+90;$u=new dT(Ks,Ir,aa,Ja,Qa,io.vertical,hs,ps,Ca,Ia),Za&&(Wc=new dT(Ks,Ir,aa,Ja,Qa,Za,Aa,kl,Ca,Ia))}if(fs){const Ia=Qo.layout.get("icon-rotate").evaluate(Nr,{}),Hc=Qo.layout.get("icon-text-fit")!=="none",fv=PV(fs,Ia,la,Hc),$d=Za?PV(Za,Ia,la,Hc):void 0;ip=new dT(Ks,Ir,aa,Ja,Qa,fs,Aa,kl,!1,Ia),Ol=4*fv.length;const hv=Hn.iconSizeData;let rh=null;hv.kind==="source"?(rh=[nh*Qo.layout.get("icon-size").evaluate(Nr,{})],rh[0]>Ym&&ie(`${Hn.layerIds[0]}: Value for "icon-size" is >= ${fw}. Reduce your "icon-size".`)):hv.kind==="composite"&&(rh=[nh*Pa.compositeIconSizes[0].evaluate(Nr,{},gs),nh*Pa.compositeIconSizes[1].evaluate(Nr,{},gs)],(rh[0]>Ym||rh[1]>Ym)&&ie(`${Hn.layerIds[0]}: Value for "icon-size" is >= ${fw}. Reduce your "icon-size".`)),Hn.addSymbols(Hn.icon,fv,rh,ms,Rl,Nr,s.ai.none,Ir,zd.lineStartIndex,zd.lineLength,-1,gs),jL=Hn.icon.placedSymbolArray.length-1,$d&&(op=4*$d.length,Hn.addSymbols(Hn.icon,$d,rh,ms,Rl,Nr,s.ai.vertical,Ir,zd.lineStartIndex,zd.lineLength,-1,gs),UL=Hn.icon.placedSymbolArray.length-1)}const $V=Object.keys(io.horizontal);for(const Ia of $V){const Hc=io.horizontal[Ia];if(!Bd){FV=uc(Hc.text);const $d=Qo.layout.get("text-rotate").evaluate(Nr,{},gs);Bd=new dT(Ks,Ir,aa,Ja,Qa,Hc,hs,ps,Ca,$d)}const fv=Hc.positionedLines.length===1;if(gw+=OV(Hn,Ir,Hc,hc,Qo,Ca,Nr,el,zd,io.vertical?s.ai.horizontal:s.ai.horizontalOnly,fv?$V:[Ia],sp,jL,Pa,gs),fv)break}io.vertical&&(BV+=OV(Hn,Ir,io.vertical,hc,Qo,Ca,Nr,el,zd,s.ai.vertical,["vertical"],sp,UL,Pa,gs));const _he=Bd?Bd.boxStartIndex:Hn.collisionBoxArray.length,bhe=Bd?Bd.boxEndIndex:Hn.collisionBoxArray.length,whe=$u?$u.boxStartIndex:Hn.collisionBoxArray.length,She=$u?$u.boxEndIndex:Hn.collisionBoxArray.length,Mhe=ip?ip.boxStartIndex:Hn.collisionBoxArray.length,Ehe=ip?ip.boxEndIndex:Hn.collisionBoxArray.length,The=Wc?Wc.boxStartIndex:Hn.collisionBoxArray.length,Che=Wc?Wc.boxEndIndex:Hn.collisionBoxArray.length;let Fd=-1;const hT=(Ia,Hc)=>Ia&&Ia.circleDiameter?Math.max(Ia.circleDiameter,Hc):Hc;Fd=hT(Bd,Fd),Fd=hT($u,Fd),Fd=hT(ip,Fd),Fd=hT(Wc,Fd);const jV=Fd>-1?1:0;jV&&(Fd*=Fu/ds),Hn.glyphOffsetArray.length>=vx.MAX_GLYPHS&&ie("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Nr.sortKey!==void 0&&Hn.addToSortKeyRanges(Hn.symbolInstances.length,Nr.sortKey);const Ahe=RV(Qo,Nr,gs),[Phe,Ihe]=function(Ia,Hc){const fv=Ia.length,$d=Hc==null?void 0:Hc.values;if(($d==null?void 0:$d.length)>0)for(let hv=0;hv<$d.length;hv+=2){const rh=$d[hv+1];Ia.emplaceBack(s.aq[$d[hv]],rh[0],rh[1])}return[fv,Ia.length]}(Hn.textAnchorOffsets,Ahe);Hn.symbolInstances.emplaceBack(Ir.x,Ir.y,sp.right>=0?sp.right:-1,sp.center>=0?sp.center:-1,sp.left>=0?sp.left:-1,sp.vertical||-1,jL,UL,FV,_he,bhe,whe,She,Mhe,Ehe,The,Che,aa,gw,BV,Ol,op,jV,0,hs,Fd,Phe,Ihe)}(f,Qn,on,m,b,P,In,f.layers[0],f.collisionBoxArray,u.index,u.sourceLayerIndex,f.index,He,[xt,xt,xt,xt],wn,Y,pt,It,Bn,Se,u,N,J,ne,B)};if(bn==="line")for(const on of SV(u.geometry,0,0,Yi,Yi)){const Qn=fhe(on,nt,Yt,m.vertical||Ee,b,24,Ye,f.overscaling,Yi);for(const Hn of Qn)Ee&&vhe(f,Ee.text,vn,Hn)||mn(on,Hn)}else if(bn==="line-center"){for(const on of u.geometry)if(on.length>1){const Qn=dhe(on,Yt,m.vertical||Ee,b,24,Ye);Qn&&mn(on,Qn)}}else if(u.type==="Polygon")for(const on of Wn(u.geometry,0)){const Qn=mhe(on,16);mn(on[0],new Km(Qn.x,Qn.y,0))}else if(u.type==="LineString")for(const on of u.geometry)mn(on,new Km(on[0].x,on[0].y,0));else if(u.type==="Point")for(const on of u.geometry)for(const Qn of on)mn([Qn],new Km(Qn.x,Qn.y,0))}function OV(f,u,m,b,P,N,B,U,Y,J,ne,ae,ye,Se,Ee){const De=function(pt,nt,xt,It,Yt,wn,Bn,bn){const vn=It.layout.get("text-rotate").evaluate(wn,{})*Math.PI/180,fn=[];for(const In of nt.positionedLines)for(const mn of In.positionedGlyphs){if(!mn.rect)continue;const on=mn.rect||{};let Qn=X8+1,Hn=!0,Ir=1,Xi=0;const io=(Yt||bn)&&mn.vertical,fs=mn.metrics.advance*mn.scale/2;if(bn&&nt.verticalizable&&(Xi=In.lineOffset/2-(mn.imageName?-(ds-mn.metrics.width*mn.scale)/2:(mn.scale-1)*ds)),mn.imageName){const ms=Bn[mn.imageName];Hn=ms.sdf,Ir=ms.pixelRatio,Qn=Il/Ir}const hc=Yt?[mn.x+fs,mn.y]:[0,0];let Za=Yt?[0,0]:[mn.x+fs+xt[0],mn.y+xt[1]-Xi],Qo=[0,0];io&&(Qo=Za,Za=[0,0]);const Ks=mn.metrics.isDoubleResolution?2:1,aa=(mn.metrics.left-Qn)*mn.scale-fs+Za[0],Ja=(-mn.metrics.top-Qn)*mn.scale+Za[1],Qa=aa+on.w/Ks*mn.scale/Ir,hs=Ja+on.h/Ks*mn.scale/Ir,ps=new g(aa,Ja),Ca=new g(Qa,Ja),el=new g(aa,hs),Aa=new g(Qa,hs);if(io){const ms=new g(-fs,fs-uw),Nr=-Math.PI/2,Pa=ds/2-fs,la=new g(5-uw-Pa,-(mn.imageName?Pa:0)),gs=new g(...Qo);ps._rotateAround(Nr,ms)._add(la)._add(gs),Ca._rotateAround(Nr,ms)._add(la)._add(gs),el._rotateAround(Nr,ms)._add(la)._add(gs),Aa._rotateAround(Nr,ms)._add(la)._add(gs)}if(vn){const ms=Math.sin(vn),Nr=Math.cos(vn),Pa=[Nr,-ms,ms,Nr];ps._matMult(Pa),Ca._matMult(Pa),el._matMult(Pa),Aa._matMult(Pa)}const kl=new g(0,0),Rl=new g(0,0);fn.push({tl:ps,tr:Ca,bl:el,br:Aa,tex:on,writingMode:nt.writingMode,glyphOffset:hc,sectionIndex:mn.sectionIndex,isSDF:Hn,pixelOffsetTL:kl,pixelOffsetBR:Rl,minFontScaleX:0,minFontScaleY:0})}return fn}(0,m,U,P,N,B,b,f.allowVerticalPlacement),He=f.textSizeData;let Ye=null;He.kind==="source"?(Ye=[nh*P.layout.get("text-size").evaluate(B,{})],Ye[0]>Ym&&ie(`${f.layerIds[0]}: Value for "text-size" is >= ${fw}. Reduce your "text-size".`)):He.kind==="composite"&&(Ye=[nh*Se.compositeTextSizes[0].evaluate(B,{},Ee),nh*Se.compositeTextSizes[1].evaluate(B,{},Ee)],(Ye[0]>Ym||Ye[1]>Ym)&&ie(`${f.layerIds[0]}: Value for "text-size" is >= ${fw}. Reduce your "text-size".`)),f.addSymbols(f.text,De,Ye,U,N,B,J,u,Y.lineStartIndex,Y.lineLength,ye,Ee);for(const pt of ne)ae[pt]=f.text.placedSymbolArray.length-1;return 4*De.length}function LV(f){for(const u in f)return f[u];return null}function vhe(f,u,m,b){const P=f.compareText;if(u in P){const N=P[u];for(let B=N.length-1;B>=0;B--)if(b.dist(N[B])<m)return!0}else P[u]=[];return P[u].push(b),!1}const DV=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class LL{static from(u){if(!(u instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[m,b]=new Uint8Array(u,0,2);if(m!==219)throw new Error("Data does not appear to be in a KDBush format.");const P=b>>4;if(P!==1)throw new Error(`Got v${P} data when expected v1.`);const N=DV[15&b];if(!N)throw new Error("Unrecognized array type.");const[B]=new Uint16Array(u,2,1),[U]=new Uint32Array(u,4,1);return new LL(U,B,N,u)}constructor(u,m=64,b=Float64Array,P){if(isNaN(u)||u<0)throw new Error(`Unpexpected numItems value: ${u}.`);this.numItems=+u,this.nodeSize=Math.min(Math.max(+m,2),65535),this.ArrayType=b,this.IndexArrayType=u<65536?Uint16Array:Uint32Array;const N=DV.indexOf(this.ArrayType),B=2*u*this.ArrayType.BYTES_PER_ELEMENT,U=u*this.IndexArrayType.BYTES_PER_ELEMENT,Y=(8-U%8)%8;if(N<0)throw new Error(`Unexpected typed array class: ${b}.`);P&&P instanceof ArrayBuffer?(this.data=P,this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+U+Y,2*u),this._pos=2*u,this._finished=!0):(this.data=new ArrayBuffer(8+B+U+Y),this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+U+Y,2*u),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+N]),new Uint16Array(this.data,2,1)[0]=m,new Uint32Array(this.data,4,1)[0]=u)}add(u,m){const b=this._pos>>1;return this.ids[b]=b,this.coords[this._pos++]=u,this.coords[this._pos++]=m,b}finish(){const u=this._pos>>1;if(u!==this.numItems)throw new Error(`Added ${u} items when expected ${this.numItems}.`);return DL(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(u,m,b,P){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:N,coords:B,nodeSize:U}=this,Y=[0,N.length-1,0],J=[];for(;Y.length;){const ne=Y.pop()||0,ae=Y.pop()||0,ye=Y.pop()||0;if(ae-ye<=U){for(let He=ye;He<=ae;He++){const Ye=B[2*He],pt=B[2*He+1];Ye>=u&&Ye<=b&&pt>=m&&pt<=P&&J.push(N[He])}continue}const Se=ye+ae>>1,Ee=B[2*Se],De=B[2*Se+1];Ee>=u&&Ee<=b&&De>=m&&De<=P&&J.push(N[Se]),(ne===0?u<=Ee:m<=De)&&(Y.push(ye),Y.push(Se-1),Y.push(1-ne)),(ne===0?b>=Ee:P>=De)&&(Y.push(Se+1),Y.push(ae),Y.push(1-ne))}return J}within(u,m,b){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:P,coords:N,nodeSize:B}=this,U=[0,P.length-1,0],Y=[],J=b*b;for(;U.length;){const ne=U.pop()||0,ae=U.pop()||0,ye=U.pop()||0;if(ae-ye<=B){for(let He=ye;He<=ae;He++)zV(N[2*He],N[2*He+1],u,m)<=J&&Y.push(P[He]);continue}const Se=ye+ae>>1,Ee=N[2*Se],De=N[2*Se+1];zV(Ee,De,u,m)<=J&&Y.push(P[Se]),(ne===0?u-b<=Ee:m-b<=De)&&(U.push(ye),U.push(Se-1),U.push(1-ne)),(ne===0?u+b>=Ee:m+b>=De)&&(U.push(Se+1),U.push(ae),U.push(1-ne))}return Y}}function DL(f,u,m,b,P,N){if(P-b<=m)return;const B=b+P>>1;NV(f,u,B,b,P,N),DL(f,u,m,b,B-1,1-N),DL(f,u,m,B+1,P,1-N)}function NV(f,u,m,b,P,N){for(;P>b;){if(P-b>600){const J=P-b+1,ne=m-b+1,ae=Math.log(J),ye=.5*Math.exp(2*ae/3),Se=.5*Math.sqrt(ae*ye*(J-ye)/J)*(ne-J/2<0?-1:1);NV(f,u,m,Math.max(b,Math.floor(m-ne*ye/J+Se)),Math.min(P,Math.floor(m+(J-ne)*ye/J+Se)),N)}const B=u[2*m+N];let U=b,Y=P;for(pw(f,u,b,m),u[2*P+N]>B&&pw(f,u,b,P);U<Y;){for(pw(f,u,U,Y),U++,Y--;u[2*U+N]<B;)U++;for(;u[2*Y+N]>B;)Y--}u[2*b+N]===B?pw(f,u,b,Y):(Y++,pw(f,u,Y,P)),Y<=m&&(b=Y+1),m<=Y&&(P=Y-1)}}function pw(f,u,m,b){NL(f,m,b),NL(u,2*m,2*b),NL(u,2*m+1,2*b+1)}function NL(f,u,m){const b=f[u];f[u]=f[m],f[m]=b}function zV(f,u,m,b){const P=f-m,N=u-b;return P*P+N*N}var zL;s.bh=void 0,(zL=s.bh||(s.bh={})).create="create",zL.load="load",zL.fullLoad="fullLoad";let fT=null,mw=[];const BL=1e3/60,FL="loadTime",$L="fullLoadTime",xhe={mark(f){performance.mark(f)},frame(f){const u=f;fT!=null&&mw.push(u-fT),fT=u},clearMetrics(){fT=null,mw=[],performance.clearMeasures(FL),performance.clearMeasures($L);for(const f in s.bh)performance.clearMarks(s.bh[f])},getPerformanceMetrics(){performance.measure(FL,s.bh.create,s.bh.load),performance.measure($L,s.bh.create,s.bh.fullLoad);const f=performance.getEntriesByName(FL)[0].duration,u=performance.getEntriesByName($L)[0].duration,m=mw.length,b=1/(mw.reduce((N,B)=>N+B,0)/m/1e3),P=mw.filter(N=>N>BL).reduce((N,B)=>N+(B-BL)/BL,0);return{loadTime:f,fullLoadTime:u,fps:b,percentDroppedFrames:P/(m+P)*100,totalFrames:m}}};s.$=function(f,u,m){var b,P,N,B,U,Y,J,ne,ae,ye,Se,Ee,De=m[0],He=m[1],Ye=m[2];return u===f?(f[12]=u[0]*De+u[4]*He+u[8]*Ye+u[12],f[13]=u[1]*De+u[5]*He+u[9]*Ye+u[13],f[14]=u[2]*De+u[6]*He+u[10]*Ye+u[14],f[15]=u[3]*De+u[7]*He+u[11]*Ye+u[15]):(P=u[1],N=u[2],B=u[3],U=u[4],Y=u[5],J=u[6],ne=u[7],ae=u[8],ye=u[9],Se=u[10],Ee=u[11],f[0]=b=u[0],f[1]=P,f[2]=N,f[3]=B,f[4]=U,f[5]=Y,f[6]=J,f[7]=ne,f[8]=ae,f[9]=ye,f[10]=Se,f[11]=Ee,f[12]=b*De+U*He+ae*Ye+u[12],f[13]=P*De+Y*He+ye*Ye+u[13],f[14]=N*De+J*He+Se*Ye+u[14],f[15]=B*De+ne*He+Ee*Ye+u[15]),f},s.A=Xf,s.B=Cs,s.C=class{constructor(f,u,m){this.receive=b=>{const P=b.data,N=P.id;if(N&&(!P.targetMapId||this.mapId===P.targetMapId))if(P.type==="<cancel>"){delete this.tasks[N];const B=this.cancelCallbacks[N];delete this.cancelCallbacks[N],B&&B()}else xe()||P.mustQueue?(this.tasks[N]=P,this.taskQueue.push(N),this.invoker.trigger()):this.processTask(N,P)},this.process=()=>{if(!this.taskQueue.length)return;const b=this.taskQueue.shift(),P=this.tasks[b];delete this.tasks[b],this.taskQueue.length&&this.invoker.trigger(),P&&this.processTask(b,P)},this.target=f,this.parent=u,this.mapId=m,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new che(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=xe()?f:window}send(f,u,m,b,P=!1){const N=Math.round(1e18*Math.random()).toString(36).substring(0,10);m&&(this.callbacks[N]=m);const B=[],U={id:N,type:f,hasCallback:!!m,targetMapId:b,mustQueue:P,sourceMapId:this.mapId,data:Nc(u,B)};return this.target.postMessage(U,{transfer:B}),{cancel:()=>{m&&delete this.callbacks[N],this.target.postMessage({id:N,type:"<cancel>",targetMapId:b,sourceMapId:this.mapId})}}}processTask(f,u){if(u.type==="<response>"){const m=this.callbacks[f];delete this.callbacks[f],m&&(u.error?m(Rd(u.error)):m(null,Rd(u.data)))}else{let m=!1;const b=[],P=u.hasCallback?(U,Y)=>{m=!0,delete this.cancelCallbacks[f];const J={id:f,type:"<response>",sourceMapId:this.mapId,error:U?Nc(U):null,data:Nc(Y,b)};this.target.postMessage(J,{transfer:b})}:U=>{m=!0};let N=null;const B=Rd(u.data);if(this.parent[u.type])N=this.parent[u.type](u.sourceMapId,B,P);else if("getWorkerSource"in this.parent){const U=u.type.split(".");N=this.parent.getWorkerSource(u.sourceMapId,U[0],B.source)[U[1]](B,P)}else P(new Error(`Could not find function ${u.type}`));!m&&N&&N.cancel&&(this.cancelCallbacks[f]=N.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.D=zn,s.E=sn,s.F=function(f,u){const m={};for(let b=0;b<u.length;b++){const P=u[b];P in f&&(m[P]=f[P])}return m},s.G=dV,s.H=fV,s.I=bL,s.J=C,s.K=T,s.L=Xm,s.M=ze,s.N=Yi,s.O=Vc,s.P=g,s.Q=Ci,s.R=Xa,s.S=li,s.T=Ky,s.U=aT,s.V=class extends ao{},s.W=kL,s.X=function(f,u){const m=window.document.createElement("video");m.muted=!0,m.onloadstart=function(){u(null,m)};for(let b=0;b<f.length;b++){const P=window.document.createElement("source");ot(f[b])||(m.crossOrigin="Anonymous"),P.src=f[b],m.appendChild(P)}return{cancel:()=>{}}},s.Y=mt,s.Z=function(){var f=new Xf(16);return Xf!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0),f[0]=1,f[5]=1,f[10]=1,f[15]=1,f},s._=l,s.a=he,s.a$=class extends be{},s.a0=function(f,u,m){var b=m[0],P=m[1],N=m[2];return f[0]=u[0]*b,f[1]=u[1]*b,f[2]=u[2]*b,f[3]=u[3]*b,f[4]=u[4]*P,f[5]=u[5]*P,f[6]=u[6]*P,f[7]=u[7]*P,f[8]=u[8]*N,f[9]=u[9]*N,f[10]=u[10]*N,f[11]=u[11]*N,f[12]=u[12],f[13]=u[13],f[14]=u[14],f[15]=u[15],f},s.a1=XE,s.a2=function(){return Z++},s.a3=$e,s.a4=vx,s.a5=function(){Ta.isLoading()||Ta.isLoaded()||Om()!=="deferred"||sx()},s.a6=wa,s.a7=jc,s.a8=Ei,s.a9=xV,s.aA=$f,s.aB=function(f){f=f.slice();const u=Object.create(null);for(let m=0;m<f.length;m++)u[f[m].id]=f[m];for(let m=0;m<f.length;m++)"ref"in f[m]&&(f[m]=_e(f[m],u[f[m].ref]));return f},s.aC=function(f){if(f.type==="custom")return new lhe(f);switch(f.type){case"background":return new ohe(f);case"circle":return new Z1(f);case"fill":return new St(f);case"fill-extrusion":return new Efe(f);case"heatmap":return new dL(f);case"hillshade":return new Ka(f);case"line":return new Ofe(f);case"raster":return new ahe(f);case"symbol":return new sT(f)}},s.aD=le,s.aE=function(f,u){if(!f)return[{command:dt.setStyle,args:[u]}];let m=[];try{if(!ht(f.version,u.version))return[{command:dt.setStyle,args:[u]}];ht(f.center,u.center)||m.push({command:dt.setCenter,args:[u.center]}),ht(f.zoom,u.zoom)||m.push({command:dt.setZoom,args:[u.zoom]}),ht(f.bearing,u.bearing)||m.push({command:dt.setBearing,args:[u.bearing]}),ht(f.pitch,u.pitch)||m.push({command:dt.setPitch,args:[u.pitch]}),ht(f.sprite,u.sprite)||m.push({command:dt.setSprite,args:[u.sprite]}),ht(f.glyphs,u.glyphs)||m.push({command:dt.setGlyphs,args:[u.glyphs]}),ht(f.transition,u.transition)||m.push({command:dt.setTransition,args:[u.transition]}),ht(f.light,u.light)||m.push({command:dt.setLight,args:[u.light]});const b={},P=[];(function(B,U,Y,J){let ne;for(ne in U=U||{},B=B||{})Object.prototype.hasOwnProperty.call(B,ne)&&(Object.prototype.hasOwnProperty.call(U,ne)||jt(ne,Y,J));for(ne in U)Object.prototype.hasOwnProperty.call(U,ne)&&(Object.prototype.hasOwnProperty.call(B,ne)?ht(B[ne],U[ne])||(B[ne].type==="geojson"&&U[ne].type==="geojson"&&cn(B,U,ne)?Y.push({command:dt.setGeoJSONSourceData,args:[ne,U[ne].data]}):Mn(ne,U,Y,J)):Wt(ne,U,Y))})(f.sources,u.sources,P,b);const N=[];f.layers&&f.layers.forEach(B=>{b[B.source]?m.push({command:dt.removeLayer,args:[B.id]}):N.push(B)}),m=m.concat(P),function(B,U,Y){U=U||[];const J=(B=B||[]).map(nn),ne=U.map(nn),ae=B.reduce(Pn,{}),ye=U.reduce(Pn,{}),Se=J.slice(),Ee=Object.create(null);let De,He,Ye,pt,nt,xt,It;for(De=0,He=0;De<J.length;De++)Ye=J[De],Object.prototype.hasOwnProperty.call(ye,Ye)?He++:(Y.push({command:dt.removeLayer,args:[Ye]}),Se.splice(Se.indexOf(Ye,He),1));for(De=0,He=0;De<ne.length;De++)Ye=ne[ne.length-1-De],Se[Se.length-1-De]!==Ye&&(Object.prototype.hasOwnProperty.call(ae,Ye)?(Y.push({command:dt.removeLayer,args:[Ye]}),Se.splice(Se.lastIndexOf(Ye,Se.length-He),1)):He++,xt=Se[Se.length-De],Y.push({command:dt.addLayer,args:[ye[Ye],xt]}),Se.splice(Se.length-De,0,Ye),Ee[Ye]=!0);for(De=0;De<ne.length;De++)if(Ye=ne[De],pt=ae[Ye],nt=ye[Ye],!Ee[Ye]&&!ht(pt,nt))if(ht(pt.source,nt.source)&&ht(pt["source-layer"],nt["source-layer"])&&ht(pt.type,nt.type)){for(It in Rt(pt.layout,nt.layout,Y,Ye,null,dt.setLayoutProperty),Rt(pt.paint,nt.paint,Y,Ye,null,dt.setPaintProperty),ht(pt.filter,nt.filter)||Y.push({command:dt.setFilter,args:[Ye,nt.filter]}),ht(pt.minzoom,nt.minzoom)&&ht(pt.maxzoom,nt.maxzoom)||Y.push({command:dt.setLayerZoomRange,args:[Ye,nt.minzoom,nt.maxzoom]}),pt)Object.prototype.hasOwnProperty.call(pt,It)&&It!=="layout"&&It!=="paint"&&It!=="filter"&&It!=="metadata"&&It!=="minzoom"&&It!=="maxzoom"&&(It.indexOf("paint.")===0?Rt(pt[It],nt[It],Y,Ye,It.slice(6),dt.setPaintProperty):ht(pt[It],nt[It])||Y.push({command:dt.setLayerProperty,args:[Ye,It,nt[It]]}));for(It in nt)Object.prototype.hasOwnProperty.call(nt,It)&&!Object.prototype.hasOwnProperty.call(pt,It)&&It!=="layout"&&It!=="paint"&&It!=="filter"&&It!=="metadata"&&It!=="minzoom"&&It!=="maxzoom"&&(It.indexOf("paint.")===0?Rt(pt[It],nt[It],Y,Ye,It.slice(6),dt.setPaintProperty):ht(pt[It],nt[It])||Y.push({command:dt.setLayerProperty,args:[Ye,It,nt[It]]}))}else Y.push({command:dt.removeLayer,args:[Ye]}),xt=Se[Se.lastIndexOf(Ye)+1],Y.push({command:dt.addLayer,args:[nt,xt]})}(N,u.layers,m)}catch(b){console.warn("Unable to compute style diff:",b),m=[{command:dt.setStyle,args:[u]}]}return m},s.aF=function(f){const u=[],m=f.id;return m===void 0&&u.push({message:`layers.${m}: missing required property "id"`}),f.render===void 0&&u.push({message:`layers.${m}: missing required method "render"`}),f.renderingMode&&f.renderingMode!=="2d"&&f.renderingMode!=="3d"&&u.push({message:`layers.${m}: property "renderingMode" must be either "2d" or "3d"`}),u},s.aG=function f(u,m){if(Array.isArray(u)){if(!Array.isArray(m)||u.length!==m.length)return!1;for(let b=0;b<u.length;b++)if(!f(u[b],m[b]))return!1;return!0}if(typeof u=="object"&&u!==null&&m!==null){if(typeof m!="object"||Object.keys(u).length!==Object.keys(m).length)return!1;for(const b in u)if(!f(u[b],m[b]))return!1;return!0}return u===m},s.aH=j,s.aI=X,s.aJ=Qh,s.aK=function(f){return f({pluginStatus:Ws,pluginURL:ac}),Qh.on("pluginStateChange",f),f},s.aL=class extends $c{constructor(f,u){super(f,u),this.current=0}set(f){this.current!==f&&(this.current=f,this.gl.uniform1i(this.location,f))}},s.aM=Wf,s.aN=class extends $c{constructor(f,u){super(f,u),this.current=X1}set(f){if(f[12]!==this.current[12]||f[0]!==this.current[0])return this.current=f,void this.gl.uniformMatrix4fv(this.location,!1,f);for(let u=1;u<16;u++)if(f[u]!==this.current[u]){this.current=f,this.gl.uniformMatrix4fv(this.location,!1,f);break}}},s.aO=ev,s.aP=class extends $c{constructor(f,u){super(f,u),this.current=[0,0,0]}set(f){f[0]===this.current[0]&&f[1]===this.current[1]&&f[2]===this.current[2]||(this.current=f,this.gl.uniform3f(this.location,f[0],f[1],f[2]))}},s.aQ=class extends $c{constructor(f,u){super(f,u),this.current=[0,0]}set(f){f[0]===this.current[0]&&f[1]===this.current[1]||(this.current=f,this.gl.uniform2f(this.location,f[0],f[1]))}},s.aR=Fm,s.aS=function(f,u,m,b,P,N,B){var U=1/(u-m),Y=1/(b-P),J=1/(N-B);return f[0]=-2*U,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=-2*Y,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=2*J,f[11]=0,f[12]=(u+m)*U,f[13]=(P+b)*Y,f[14]=(B+N)*J,f[15]=1,f},s.aT=ar,s.aU=KE,s.aV=class extends A{},s.aW=zfe,s.aX=class extends D{},s.aY=function(f){return f<=1?1:Math.pow(2,Math.ceil(Math.log(f)/Math.LN2))},s.aZ=Zf,s.a_=ln,s.aa=function(f){const u={};if(f.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(m,b,P,N)=>{const B=P||N;return u[b]=!B||B.toLowerCase(),""}),u["max-age"]){const m=parseInt(u["max-age"],10);isNaN(m)?delete u["max-age"]:u["max-age"]=m}return u},s.ab=function(f,u){const m=[];for(const b in f)b in u||m.push(b);return m},s.ac=function(f){if(te==null){const u=f.navigator?f.navigator.userAgent:null;te=!!f.safari||!(!u||!(/\b(iPad|iPhone|iPod)\b/.test(u)||u.match("Safari")&&!u.match("Chrome")))}return te},s.ad=L,s.ae=function(f,u,m){var b=Math.sin(m),P=Math.cos(m),N=u[0],B=u[1],U=u[2],Y=u[3],J=u[4],ne=u[5],ae=u[6],ye=u[7];return u!==f&&(f[8]=u[8],f[9]=u[9],f[10]=u[10],f[11]=u[11],f[12]=u[12],f[13]=u[13],f[14]=u[14],f[15]=u[15]),f[0]=N*P+J*b,f[1]=B*P+ne*b,f[2]=U*P+ae*b,f[3]=Y*P+ye*b,f[4]=J*P-N*b,f[5]=ne*P-B*b,f[6]=ae*P-U*b,f[7]=ye*P-Y*b,f},s.af=function(f){var u=new Xf(16);return u[0]=f[0],u[1]=f[1],u[2]=f[2],u[3]=f[3],u[4]=f[4],u[5]=f[5],u[6]=f[6],u[7]=f[7],u[8]=f[8],u[9]=f[9],u[10]=f[10],u[11]=f[11],u[12]=f[12],u[13]=f[13],u[14]=f[14],u[15]=f[15],u},s.ag=av,s.ah=function(f,u){let m=0,b=0;if(f.kind==="constant")b=f.layoutSize;else if(f.kind!=="source"){const{interpolationType:P,minZoom:N,maxZoom:B}=f,U=P?L(zs.interpolationFactor(P,u,N,B),0,1):0;f.kind==="camera"?b=Cs.number(f.minSize,f.maxSize,U):m=U}return{uSizeT:m,uSize:b}},s.aj=function(f,{uSize:u,uSizeT:m},{lowerSize:b,upperSize:P}){return f.kind==="source"?b/nh:f.kind==="composite"?Cs.number(b/nh,P/nh,m):u},s.ak=EL,s.al=function(f,u,m,b){const P=u.y-f.y,N=u.x-f.x,B=b.y-m.y,U=b.x-m.x,Y=B*N-U*P;if(Y===0)return null;const J=(U*(f.y-m.y)-B*(f.x-m.x))/Y;return new g(f.x+J*N,f.y+J*P)},s.am=SV,s.an=lx,s.ao=sv,s.ap=ds,s.ar=ML,s.as=function(f,u){var m=u[0],b=u[1],P=u[2],N=u[3],B=u[4],U=u[5],Y=u[6],J=u[7],ne=u[8],ae=u[9],ye=u[10],Se=u[11],Ee=u[12],De=u[13],He=u[14],Ye=u[15],pt=m*U-b*B,nt=m*Y-P*B,xt=m*J-N*B,It=b*Y-P*U,Yt=b*J-N*U,wn=P*J-N*Y,Bn=ne*De-ae*Ee,bn=ne*He-ye*Ee,vn=ne*Ye-Se*Ee,fn=ae*He-ye*De,In=ae*Ye-Se*De,mn=ye*Ye-Se*He,on=pt*mn-nt*In+xt*fn+It*vn-Yt*bn+wn*Bn;return on?(f[0]=(U*mn-Y*In+J*fn)*(on=1/on),f[1]=(P*In-b*mn-N*fn)*on,f[2]=(De*wn-He*Yt+Ye*It)*on,f[3]=(ye*Yt-ae*wn-Se*It)*on,f[4]=(Y*vn-B*mn-J*bn)*on,f[5]=(m*mn-P*vn+N*bn)*on,f[6]=(He*xt-Ee*wn-Ye*nt)*on,f[7]=(ne*wn-ye*xt+Se*nt)*on,f[8]=(B*In-U*vn+J*Bn)*on,f[9]=(b*vn-m*In-N*Bn)*on,f[10]=(Ee*Yt-De*xt+Ye*pt)*on,f[11]=(ae*xt-ne*Yt-Se*pt)*on,f[12]=(U*bn-B*fn-Y*Bn)*on,f[13]=(m*fn-b*bn+P*Bn)*on,f[14]=(De*nt-Ee*It-He*pt)*on,f[15]=(ne*It-ae*nt+ye*pt)*on,f):null},s.at=OL,s.au=SL,s.av=LL,s.aw=function(){const f={},u=Je.$version;for(const m in Je.$root){const b=Je.$root[m];if(b.required){let P=null;P=m==="version"?u:b.type==="array"?[]:{},P!=null&&(f[m]=P)}}return f},s.ax=dt,s.ay=Gy,s.az=Be,s.b=function(f,u){const m=new Blob([new Uint8Array(f)],{type:"image/png"});createImageBitmap(m).then(b=>{u(null,b)}).catch(b=>{u(new Error(`Could not load image because of ${b.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},s.b0=Fo,s.b1=function(f,u){var m=f[0],b=f[1],P=f[2],N=f[3],B=f[4],U=f[5],Y=f[6],J=f[7],ne=f[8],ae=f[9],ye=f[10],Se=f[11],Ee=f[12],De=f[13],He=f[14],Ye=f[15],pt=u[0],nt=u[1],xt=u[2],It=u[3],Yt=u[4],wn=u[5],Bn=u[6],bn=u[7],vn=u[8],fn=u[9],In=u[10],mn=u[11],on=u[12],Qn=u[13],Hn=u[14],Ir=u[15];return Math.abs(m-pt)<=Ys*Math.max(1,Math.abs(m),Math.abs(pt))&&Math.abs(b-nt)<=Ys*Math.max(1,Math.abs(b),Math.abs(nt))&&Math.abs(P-xt)<=Ys*Math.max(1,Math.abs(P),Math.abs(xt))&&Math.abs(N-It)<=Ys*Math.max(1,Math.abs(N),Math.abs(It))&&Math.abs(B-Yt)<=Ys*Math.max(1,Math.abs(B),Math.abs(Yt))&&Math.abs(U-wn)<=Ys*Math.max(1,Math.abs(U),Math.abs(wn))&&Math.abs(Y-Bn)<=Ys*Math.max(1,Math.abs(Y),Math.abs(Bn))&&Math.abs(J-bn)<=Ys*Math.max(1,Math.abs(J),Math.abs(bn))&&Math.abs(ne-vn)<=Ys*Math.max(1,Math.abs(ne),Math.abs(vn))&&Math.abs(ae-fn)<=Ys*Math.max(1,Math.abs(ae),Math.abs(fn))&&Math.abs(ye-In)<=Ys*Math.max(1,Math.abs(ye),Math.abs(In))&&Math.abs(Se-mn)<=Ys*Math.max(1,Math.abs(Se),Math.abs(mn))&&Math.abs(Ee-on)<=Ys*Math.max(1,Math.abs(Ee),Math.abs(on))&&Math.abs(De-Qn)<=Ys*Math.max(1,Math.abs(De),Math.abs(Qn))&&Math.abs(He-Hn)<=Ys*Math.max(1,Math.abs(He),Math.abs(Hn))&&Math.abs(Ye-Ir)<=Ys*Math.max(1,Math.abs(Ye),Math.abs(Ir))},s.b2=function(f,u){return f[0]=u[0],f[1]=u[1],f[2]=u[2],f[3]=u[3],f[4]=u[4],f[5]=u[5],f[6]=u[6],f[7]=u[7],f[8]=u[8],f[9]=u[9],f[10]=u[10],f[11]=u[11],f[12]=u[12],f[13]=u[13],f[14]=u[14],f[15]=u[15],f},s.b3=function(f,u,m){return f[0]=u[0]*m[0],f[1]=u[1]*m[1],f[2]=u[2]*m[2],f[3]=u[3]*m[3],f},s.b4=function(f,u){return f[0]*u[0]+f[1]*u[1]+f[2]*u[2]+f[3]*u[3]},s.b5=F,s.b6=gV,s.b7=hV,s.b8=function(f,u,m,b,P){var N,B=1/Math.tan(u/2);return f[0]=B/m,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=B,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,P!=null&&P!==1/0?(f[10]=(P+b)*(N=1/(b-P)),f[14]=2*P*b*N):(f[10]=-1,f[14]=-2*b),f},s.b9=function(f,u,m){var b=Math.sin(m),P=Math.cos(m),N=u[4],B=u[5],U=u[6],Y=u[7],J=u[8],ne=u[9],ae=u[10],ye=u[11];return u!==f&&(f[0]=u[0],f[1]=u[1],f[2]=u[2],f[3]=u[3],f[12]=u[12],f[13]=u[13],f[14]=u[14],f[15]=u[15]),f[4]=N*P+J*b,f[5]=B*P+ne*b,f[6]=U*P+ae*b,f[7]=Y*P+ye*b,f[8]=J*P-N*b,f[9]=ne*P-B*b,f[10]=ae*P-U*b,f[11]=ye*P-Y*b,f},s.bA=h,s.bB=U8,s.bC=ic,s.bD=Ta,s.ba=k,s.bb=R,s.bc=function(f,u){return f[0]=u[0],f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=u[1],f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=u[2],f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f},s.bd=class extends Bc{},s.be=PL,s.bf=pV,s.bg=xhe,s.bi=zt,s.bj=function(f,u,m=!1){if(Ws===Ld||Ws===Pm||Ws===Im)throw new Error("setRTLTextPlugin cannot be called multiple times.");ac=ct.resolveURL(f),Ws=Ld,km=u,Rm(),m||sx()},s.bk=Om,s.bl=function(f,u){const m={};for(let P=0;P<f.length;P++){const N=u&&u[f[P].id]||Ru(f[P]);u&&(u[f[P].id]=N);let B=m[N];B||(B=m[N]=[]),B.push(f[P])}const b=[];for(const P in m)b.push(m[P]);return b},s.bm=Sn,s.bn=vV,s.bo=_V,s.bp=Z8,s.bq=function(f){f.bucket.createArrays(),f.bucket.tilePixelRatio=Yi/(512*f.bucket.overscaling),f.bucket.compareText={},f.bucket.iconsNeedLinear=!1;const u=f.bucket.layers[0],m=u.layout,b=u._unevaluatedLayout._values,P={layoutIconSize:b["icon-size"].possiblyEvaluate(new Ei(f.bucket.zoom+1),f.canonical),layoutTextSize:b["text-size"].possiblyEvaluate(new Ei(f.bucket.zoom+1),f.canonical),textMaxSize:b["text-size"].possiblyEvaluate(new Ei(18))};if(f.bucket.textSizeData.kind==="composite"){const{minZoom:J,maxZoom:ne}=f.bucket.textSizeData;P.compositeTextSizes=[b["text-size"].possiblyEvaluate(new Ei(J),f.canonical),b["text-size"].possiblyEvaluate(new Ei(ne),f.canonical)]}if(f.bucket.iconSizeData.kind==="composite"){const{minZoom:J,maxZoom:ne}=f.bucket.iconSizeData;P.compositeIconSizes=[b["icon-size"].possiblyEvaluate(new Ei(J),f.canonical),b["icon-size"].possiblyEvaluate(new Ei(ne),f.canonical)]}const N=m.get("text-line-height")*ds,B=m.get("text-rotation-alignment")!=="viewport"&&m.get("symbol-placement")!=="point",U=m.get("text-keep-upright"),Y=m.get("text-size");for(const J of f.bucket.features){const ne=m.get("text-font").evaluate(J,{},f.canonical).join(","),ae=Y.evaluate(J,{},f.canonical),ye=P.layoutTextSize.evaluate(J,{},f.canonical),Se=P.layoutIconSize.evaluate(J,{},f.canonical),Ee={horizontal:{},vertical:void 0},De=J.text;let He,Ye=[0,0];if(De){const xt=De.toString(),It=m.get("text-letter-spacing").evaluate(J,{},f.canonical)*ds,Yt=Am(xt)?It:0,wn=m.get("text-anchor").evaluate(J,{},f.canonical),Bn=RV(u,J,f.canonical);if(!Bn){const mn=m.get("text-radial-offset").evaluate(J,{},f.canonical);Ye=mn?kV(wn,[mn*ds,RL]):m.get("text-offset").evaluate(J,{},f.canonical).map(on=>on*ds)}let bn=B?"center":m.get("text-justify").evaluate(J,{},f.canonical);const vn=m.get("symbol-placement"),fn=vn==="point"?m.get("text-max-width").evaluate(J,{},f.canonical)*ds:0,In=()=>{f.bucket.allowVerticalPlacement&&Cm(xt)&&(Ee.vertical=rT(De,f.glyphMap,f.glyphPositions,f.imagePositions,ne,fn,N,wn,"left",Yt,Ye,s.ai.vertical,!0,vn,ye,ae))};if(!B&&Bn){const mn=new Set;if(bn==="auto")for(let Qn=0;Qn<Bn.values.length;Qn+=2)mn.add(OL(Bn.values[Qn]));else mn.add(bn);let on=!1;for(const Qn of mn)if(!Ee.horizontal[Qn])if(on)Ee.horizontal[Qn]=Ee.horizontal[0];else{const Hn=rT(De,f.glyphMap,f.glyphPositions,f.imagePositions,ne,fn,N,"center",Qn,Yt,Ye,s.ai.horizontal,!1,vn,ye,ae);Hn&&(Ee.horizontal[Qn]=Hn,on=Hn.positionedLines.length===1)}In()}else{bn==="auto"&&(bn=OL(wn));const mn=rT(De,f.glyphMap,f.glyphPositions,f.imagePositions,ne,fn,N,wn,bn,Yt,Ye,s.ai.horizontal,!1,vn,ye,ae);mn&&(Ee.horizontal[bn]=mn),In(),Cm(xt)&&B&&U&&(Ee.vertical=rT(De,f.glyphMap,f.glyphPositions,f.imagePositions,ne,fn,N,wn,bn,Yt,Ye,s.ai.vertical,!1,vn,ye,ae))}}let pt=!1;if(J.icon&&J.icon.name){const xt=f.imageMap[J.icon.name];xt&&(He=ehe(f.imagePositions[J.icon.name],m.get("icon-offset").evaluate(J,{},f.canonical),m.get("icon-anchor").evaluate(J,{},f.canonical)),pt=!!xt.sdf,f.bucket.sdfIcons===void 0?f.bucket.sdfIcons=pt:f.bucket.sdfIcons!==pt&&ie("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xt.pixelRatio!==f.bucket.pixelRatio||m.get("icon-rotate").constantOr(1)!==0)&&(f.bucket.iconsNeedLinear=!0))}const nt=LV(Ee.horizontal)||Ee.vertical;f.bucket.iconsInText=!!nt&&nt.iconsInText,(nt||He)&&yhe(f.bucket,J,Ee,He,f.imageMap,P,ye,Se,Ye,pt,f.canonical)}f.showCollisionBoxes&&f.bucket.generateCollisionDebugBuffers()},s.br=yL,s.bs=rr,s.bt=gL,s.bu=class{constructor(f){this._marks={start:[f.url,"start"].join("#"),end:[f.url,"end"].join("#"),measure:f.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let f=performance.getEntriesByName(this._marks.measure);return f.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),f=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),f}},s.bv=xL,s.bw=wr,s.bx=function(f,u,m,b,P){return l(this,void 0,void 0,function*(){if(T())try{return yield ze(f,u,m,b,P)}catch{}return function(N,B,U,Y,J){const ne=N.width,ae=N.height;Ue&&rt||(Ue=new OffscreenCanvas(ne,ae),rt=Ue.getContext("2d",{willReadFrequently:!0})),Ue.width=ne,Ue.height=ae,rt.drawImage(N,0,0,ne,ae);const ye=rt.getImageData(B,U,Y,J);return rt.clearRect(0,0,ne,ae),ye.data}(f,u,m,b,P)})},s.by=yV,s.bz=c,s.c=Dt,s.d=function(f,u){const m=new Image;m.onload=()=>{u(null,m),URL.revokeObjectURL(m.src),m.onload=null,window.requestAnimationFrame(()=>{m.src=ve})},m.onerror=()=>u(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const b=new Blob([new Uint8Array(f)],{type:"image/png"});m.src=f.byteLength?URL.createObjectURL(b):ve},s.e=H,s.f=function(f,u){return ge(H(f,{type:"json"}),u)},s.g=lt,s.h=ct,s.i=xe,s.j=Gt,s.k=Ft,s.l=et,s.m=ge,s.n=function(f){return new xL(f).readFields(Yfe,[])},s.o=function(f,u,m){if(!f.length)return m(null,[]);let b=f.length;const P=new Array(f.length);let N=null;f.forEach((B,U)=>{u(B,(Y,J)=>{Y&&(N=Y),P[U]=J,--b==0&&m(N,P)})})},s.p=K8,s.q=Wm,s.r=so,s.s=ot,s.t=Hy,s.u=xn,s.v=Je,s.w=ie,s.x=Ga,s.y=Gi,s.z=function([f,u,m]){return u+=90,u*=Math.PI/180,m*=Math.PI/180,{x:f*Math.cos(u)*Math.sin(m),y:f*Math.sin(u)*Math.sin(m),z:f*Math.cos(m)}}}),o(["./shared"],function(s){class l{constructor(oe){this.keyCache={},oe&&this.replace(oe)}replace(oe){this._layerConfigs={},this._layers={},this.update(oe,[])}update(oe,pe){for(const Pe of oe){this._layerConfigs[Pe.id]=Pe;const Ne=this._layers[Pe.id]=s.aC(Pe);Ne._featureFilter=s.a6(Ne.filter),this.keyCache[Pe.id]&&delete this.keyCache[Pe.id]}for(const Pe of pe)delete this.keyCache[Pe],delete this._layerConfigs[Pe],delete this._layers[Pe];this.familiesBySource={};const Te=s.bl(Object.values(this._layerConfigs),this.keyCache);for(const Pe of Te){const Ne=Pe.map(Ut=>this._layers[Ut.id]),Ke=Ne[0];if(Ke.visibility==="none")continue;const qe=Ke.source||"";let je=this.familiesBySource[qe];je||(je=this.familiesBySource[qe]={});const tt=Ke.sourceLayer||"_geojsonTileLayer";let Nt=je[tt];Nt||(Nt=je[tt]=[]),Nt.push(Ne)}}}class c{constructor(oe){const pe={},Te=[];for(const qe in oe){const je=oe[qe],tt=pe[qe]={};for(const Nt in je){const Ut=je[+Nt];if(!Ut||Ut.bitmap.width===0||Ut.bitmap.height===0)continue;const $t={x:0,y:0,w:Ut.bitmap.width+2,h:Ut.bitmap.height+2};Te.push($t),tt[Nt]={rect:$t,metrics:Ut.metrics}}}const{w:Pe,h:Ne}=s.p(Te),Ke=new s.q({width:Pe||1,height:Ne||1});for(const qe in oe){const je=oe[qe];for(const tt in je){const Nt=je[+tt];if(!Nt||Nt.bitmap.width===0||Nt.bitmap.height===0)continue;const Ut=pe[qe][tt].rect;s.q.copy(Nt.bitmap,Ke,{x:0,y:0},{x:Ut.x+1,y:Ut.y+1},Nt.bitmap)}}this.image=Ke,this.positions=pe}}s.bm("GlyphAtlas",c);class h{constructor(oe){this.tileID=new s.O(oe.tileID.overscaledZ,oe.tileID.wrap,oe.tileID.canonical.z,oe.tileID.canonical.x,oe.tileID.canonical.y),this.uid=oe.uid,this.zoom=oe.zoom,this.pixelRatio=oe.pixelRatio,this.tileSize=oe.tileSize,this.source=oe.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=oe.showCollisionBoxes,this.collectResourceTiming=!!oe.collectResourceTiming,this.returnDependencies=!!oe.returnDependencies,this.promoteId=oe.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(oe,pe,Te,Pe,Ne){this.status="parsing",this.data=oe,this.collisionBoxArray=new s.a3;const Ke=new s.bn(Object.keys(oe.layers).sort()),qe=new s.bo(this.tileID,this.promoteId);qe.bucketLayerIDs=[];const je={},tt={featureIndex:qe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Te},Nt=pe.familiesBySource[this.source];for(const ut in Nt){const bt=oe.layers[ut];if(!bt)continue;bt.version===1&&s.w(`Vector tile source "${this.source}" layer "${ut}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const yt=Ke.encode(ut),vt=[];for(let pn=0;pn<bt.length;pn++){const An=bt.feature(pn),Kn=qe.getId(An,ut);vt.push({feature:An,id:Kn,index:pn,sourceLayerIndex:yt})}for(const pn of Nt[ut]){const An=pn[0];An.source!==this.source&&s.w(`layer.source = ${An.source} does not equal this.source = ${this.source}`),An.minzoom&&this.zoom<Math.floor(An.minzoom)||An.maxzoom&&this.zoom>=An.maxzoom||An.visibility!=="none"&&(p(pn,this.zoom,Te),(je[An.id]=An.createBucket({index:qe.bucketLayerIDs.length,layers:pn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:yt,sourceID:this.source})).populate(vt,tt,this.tileID.canonical),qe.bucketLayerIDs.push(pn.map(Kn=>Kn.id)))}}let Ut,$t,kn,er;const Tn=s.aH(tt.glyphDependencies,ut=>Object.keys(ut).map(Number));this.inFlightDependencies.forEach(ut=>ut==null?void 0:ut.cancel()),this.inFlightDependencies=[];const Vn=++this.dependencySentinel;Object.keys(Tn).length?this.inFlightDependencies.push(Pe.send("getGlyphs",{uid:this.uid,stacks:Tn,source:this.source,tileID:this.tileID,type:"glyphs"},(ut,bt)=>{Vn===this.dependencySentinel&&(Ut||(Ut=ut,$t=bt,Ae.call(this)))})):$t={};const sr=Object.keys(tt.iconDependencies);sr.length?this.inFlightDependencies.push(Pe.send("getImages",{icons:sr,source:this.source,tileID:this.tileID,type:"icons"},(ut,bt)=>{Vn===this.dependencySentinel&&(Ut||(Ut=ut,kn=bt,Ae.call(this)))})):kn={};const $r=Object.keys(tt.patternDependencies);function Ae(){if(Ut)return Ne(Ut);if($t&&kn&&er){const ut=new c($t),bt=new s.bp(kn,er);for(const yt in je){const vt=je[yt];vt instanceof s.a4?(p(vt.layers,this.zoom,Te),s.bq({bucket:vt,glyphMap:$t,glyphPositions:ut.positions,imageMap:kn,imagePositions:bt.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):vt.hasPattern&&(vt instanceof s.br||vt instanceof s.bs||vt instanceof s.bt)&&(p(vt.layers,this.zoom,Te),vt.addFeatures(tt,this.tileID.canonical,bt.patternPositions))}this.status="done",Ne(null,{buckets:Object.values(je).filter(yt=>!yt.isEmpty()),featureIndex:qe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ut.image,imageAtlas:bt,glyphMap:this.returnDependencies?$t:null,iconMap:this.returnDependencies?kn:null,glyphPositions:this.returnDependencies?ut.positions:null})}}$r.length?this.inFlightDependencies.push(Pe.send("getImages",{icons:$r,source:this.source,tileID:this.tileID,type:"patterns"},(ut,bt)=>{Vn===this.dependencySentinel&&(Ut||(Ut=ut,er=bt,Ae.call(this)))})):er={},Ae.call(this)}}function p(we,oe,pe){const Te=new s.a8(oe);for(const Pe of we)Pe.recalculate(Te,pe)}function g(we,oe){const pe=s.l(we.request,(Te,Pe,Ne,Ke)=>{if(Te)oe(Te);else if(Pe)try{const qe=new s.bw.VectorTile(new s.bv(Pe));oe(null,{vectorTile:qe,rawData:Pe,cacheControl:Ne,expires:Ke})}catch(qe){const je=new Uint8Array(Pe);let tt=`Unable to parse the tile at ${we.request.url}, `;tt+=je[0]===31&&je[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${qe.messge}`,oe(new Error(tt))}});return()=>{pe.cancel(),oe()}}class v{constructor(oe,pe,Te,Pe){this.actor=oe,this.layerIndex=pe,this.availableImages=Te,this.loadVectorData=Pe||g,this.fetching={},this.loading={},this.loaded={}}loadTile(oe,pe){const Te=oe.uid;this.loading||(this.loading={});const Pe=!!(oe&&oe.request&&oe.request.collectResourceTiming)&&new s.bu(oe.request),Ne=this.loading[Te]=new h(oe);Ne.abort=this.loadVectorData(oe,(Ke,qe)=>{if(delete this.loading[Te],Ke||!qe)return Ne.status="done",this.loaded[Te]=Ne,pe(Ke);const je=qe.rawData,tt={};qe.expires&&(tt.expires=qe.expires),qe.cacheControl&&(tt.cacheControl=qe.cacheControl);const Nt={};if(Pe){const Ut=Pe.finish();Ut&&(Nt.resourceTiming=JSON.parse(JSON.stringify(Ut)))}Ne.vectorTile=qe.vectorTile,Ne.parse(qe.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ut,$t)=>{if(delete this.fetching[Te],Ut||!$t)return pe(Ut);pe(null,s.e({rawTileData:je.slice(0)},$t,tt,Nt))}),this.loaded=this.loaded||{},this.loaded[Te]=Ne,this.fetching[Te]={rawTileData:je,cacheControl:tt,resourceTiming:Nt}})}reloadTile(oe,pe){const Te=this.loaded,Pe=oe.uid;if(Te&&Te[Pe]){const Ne=Te[Pe];Ne.showCollisionBoxes=oe.showCollisionBoxes,Ne.status==="parsing"?Ne.parse(Ne.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ke,qe)=>{if(Ke||!qe)return pe(Ke,qe);let je;if(this.fetching[Pe]){const{rawTileData:tt,cacheControl:Nt,resourceTiming:Ut}=this.fetching[Pe];delete this.fetching[Pe],je=s.e({rawTileData:tt.slice(0)},qe,Nt,Ut)}else je=qe;pe(null,je)}):Ne.status==="done"&&(Ne.vectorTile?Ne.parse(Ne.vectorTile,this.layerIndex,this.availableImages,this.actor,pe):pe())}}abortTile(oe,pe){const Te=this.loading,Pe=oe.uid;Te&&Te[Pe]&&Te[Pe].abort&&(Te[Pe].abort(),delete Te[Pe]),pe()}removeTile(oe,pe){const Te=this.loaded,Pe=oe.uid;Te&&Te[Pe]&&delete Te[Pe],pe()}}class x{constructor(){this.loaded={}}loadTile(oe,pe){return s._(this,void 0,void 0,function*(){const{uid:Te,encoding:Pe,rawImageData:Ne,redFactor:Ke,greenFactor:qe,blueFactor:je,baseShift:tt}=oe,Nt=Ne.width+2,Ut=Ne.height+2,$t=s.a(Ne)?new s.R({width:Nt,height:Ut},yield s.bx(Ne,-1,-1,Nt,Ut)):Ne,kn=new s.by(Te,$t,Pe,Ke,qe,je,tt);this.loaded=this.loaded||{},this.loaded[Te]=kn,pe(null,kn)})}removeTile(oe){const pe=this.loaded,Te=oe.uid;pe&&pe[Te]&&delete pe[Te]}}function _(we,oe){if(we.length!==0){S(we[0],oe);for(var pe=1;pe<we.length;pe++)S(we[pe],!oe)}}function S(we,oe){for(var pe=0,Te=0,Pe=0,Ne=we.length,Ke=Ne-1;Pe<Ne;Ke=Pe++){var qe=(we[Pe][0]-we[Ke][0])*(we[Ke][1]+we[Pe][1]),je=pe+qe;Te+=Math.abs(pe)>=Math.abs(qe)?pe-je+qe:qe-je+pe,pe=je}pe+Te>=0!=!!oe&&we.reverse()}var w=s.bz(function we(oe,pe){var Te,Pe=oe&&oe.type;if(Pe==="FeatureCollection")for(Te=0;Te<oe.features.length;Te++)we(oe.features[Te],pe);else if(Pe==="GeometryCollection")for(Te=0;Te<oe.geometries.length;Te++)we(oe.geometries[Te],pe);else if(Pe==="Feature")we(oe.geometry,pe);else if(Pe==="Polygon")_(oe.coordinates,pe);else if(Pe==="MultiPolygon")for(Te=0;Te<oe.coordinates.length;Te++)_(oe.coordinates[Te],pe);return oe});const C=s.bw.VectorTileFeature.prototype.toGeoJSON;var T={exports:{}},k=s.bA,R=s.bw.VectorTileFeature,L=F;function F(we,oe){this.options=oe||{},this.features=we,this.length=we.length}function H(we,oe){this.id=typeof we.id=="number"?we.id:void 0,this.type=we.type,this.rawGeometry=we.type===1?[we.geometry]:we.geometry,this.properties=we.tags,this.extent=oe||4096}F.prototype.feature=function(we){return new H(this.features[we],this.options.extent)},H.prototype.loadGeometry=function(){var we=this.rawGeometry;this.geometry=[];for(var oe=0;oe<we.length;oe++){for(var pe=we[oe],Te=[],Pe=0;Pe<pe.length;Pe++)Te.push(new k(pe[Pe][0],pe[Pe][1]));this.geometry.push(Te)}return this.geometry},H.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var we=this.geometry,oe=1/0,pe=-1/0,Te=1/0,Pe=-1/0,Ne=0;Ne<we.length;Ne++)for(var Ke=we[Ne],qe=0;qe<Ke.length;qe++){var je=Ke[qe];oe=Math.min(oe,je.x),pe=Math.max(pe,je.x),Te=Math.min(Te,je.y),Pe=Math.max(Pe,je.y)}return[oe,Te,pe,Pe]},H.prototype.toGeoJSON=R.prototype.toGeoJSON;var Z=s.bB,j=L;function X(we){var oe=new Z;return function(pe,Te){for(var Pe in pe.layers)Te.writeMessage(3,le,pe.layers[Pe])}(we,oe),oe.finish()}function le(we,oe){var pe;oe.writeVarintField(15,we.version||1),oe.writeStringField(1,we.name||""),oe.writeVarintField(5,we.extent||4096);var Te={keys:[],values:[],keycache:{},valuecache:{}};for(pe=0;pe<we.length;pe++)Te.feature=we.feature(pe),oe.writeMessage(2,me,Te);var Pe=Te.keys;for(pe=0;pe<Pe.length;pe++)oe.writeStringField(3,Pe[pe]);var Ne=Te.values;for(pe=0;pe<Ne.length;pe++)oe.writeMessage(4,te,Ne[pe])}function me(we,oe){var pe=we.feature;pe.id!==void 0&&oe.writeVarintField(1,pe.id),oe.writeMessage(2,ie,we),oe.writeVarintField(3,pe.type),oe.writeMessage(4,xe,pe)}function ie(we,oe){var pe=we.feature,Te=we.keys,Pe=we.values,Ne=we.keycache,Ke=we.valuecache;for(var qe in pe.properties){var je=pe.properties[qe],tt=Ne[qe];if(je!==null){tt===void 0&&(Te.push(qe),Ne[qe]=tt=Te.length-1),oe.writeVarint(tt);var Nt=typeof je;Nt!=="string"&&Nt!=="boolean"&&Nt!=="number"&&(je=JSON.stringify(je));var Ut=Nt+":"+je,$t=Ke[Ut];$t===void 0&&(Pe.push(je),Ke[Ut]=$t=Pe.length-1),oe.writeVarint($t)}}}function ce(we,oe){return(oe<<3)+(7&we)}function fe(we){return we<<1^we>>31}function xe(we,oe){for(var pe=we.loadGeometry(),Te=we.type,Pe=0,Ne=0,Ke=pe.length,qe=0;qe<Ke;qe++){var je=pe[qe],tt=1;Te===1&&(tt=je.length),oe.writeVarint(ce(1,tt));for(var Nt=Te===3?je.length-1:je.length,Ut=0;Ut<Nt;Ut++){Ut===1&&Te!==1&&oe.writeVarint(ce(2,Nt-1));var $t=je[Ut].x-Pe,kn=je[Ut].y-Ne;oe.writeVarint(fe($t)),oe.writeVarint(fe(kn)),Pe+=$t,Ne+=kn}Te===3&&oe.writeVarint(ce(7,1))}}function te(we,oe){var pe=typeof we;pe==="string"?oe.writeStringField(1,we):pe==="boolean"?oe.writeBooleanField(7,we):pe==="number"&&(we%1!=0?oe.writeDoubleField(3,we):we<0?oe.writeSVarintField(6,we):oe.writeVarintField(5,we))}T.exports=X,T.exports.fromVectorTileJs=X,T.exports.fromGeojsonVt=function(we,oe){oe=oe||{};var pe={};for(var Te in we)pe[Te]=new j(we[Te].features,oe),pe[Te].name=Te,pe[Te].version=oe.version,pe[Te].extent=oe.extent;return X({layers:pe})},T.exports.GeoJSONWrapper=j;var he=s.bz(T.exports);const ve={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:we=>we},ze=Math.fround||(Ue=new Float32Array(1),we=>(Ue[0]=+we,Ue[0]));var Ue;const rt=3,Fe=5,st=6;class ct{constructor(oe){this.options=Object.assign(Object.create(ve),oe),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(oe){const{log:pe,minZoom:Te,maxZoom:Pe}=this.options;pe&&console.time("total time");const Ne=`prepare ${oe.length} points`;pe&&console.time(Ne),this.points=oe;const Ke=[];for(let je=0;je<oe.length;je++){const tt=oe[je];if(!tt.geometry)continue;const[Nt,Ut]=tt.geometry.coordinates,$t=ze(Be(Nt)),kn=ze(lt(Ut));Ke.push($t,kn,1/0,je,-1,1),this.options.reduce&&Ke.push(0)}let qe=this.trees[Pe+1]=this._createTree(Ke);pe&&console.timeEnd(Ne);for(let je=Pe;je>=Te;je--){const tt=+Date.now();qe=this.trees[je]=this._createTree(this._cluster(qe,je)),pe&&console.log("z%d: %d clusters in %dms",je,qe.numItems,+Date.now()-tt)}return pe&&console.timeEnd("total time"),this}getClusters(oe,pe){let Te=((oe[0]+180)%360+360)%360-180;const Pe=Math.max(-90,Math.min(90,oe[1]));let Ne=oe[2]===180?180:((oe[2]+180)%360+360)%360-180;const Ke=Math.max(-90,Math.min(90,oe[3]));if(oe[2]-oe[0]>=360)Te=-180,Ne=180;else if(Te>Ne){const Ut=this.getClusters([Te,Pe,180,Ke],pe),$t=this.getClusters([-180,Pe,Ne,Ke],pe);return Ut.concat($t)}const qe=this.trees[this._limitZoom(pe)],je=qe.range(Be(Te),lt(Ke),Be(Ne),lt(Pe)),tt=qe.data,Nt=[];for(const Ut of je){const $t=this.stride*Ut;Nt.push(tt[$t+Fe]>1?Dt(tt,$t,this.clusterProps):this.points[tt[$t+rt]])}return Nt}getChildren(oe){const pe=this._getOriginId(oe),Te=this._getOriginZoom(oe),Pe="No cluster with the specified id.",Ne=this.trees[Te];if(!Ne)throw new Error(Pe);const Ke=Ne.data;if(pe*this.stride>=Ke.length)throw new Error(Pe);const qe=this.options.radius/(this.options.extent*Math.pow(2,Te-1)),je=Ne.within(Ke[pe*this.stride],Ke[pe*this.stride+1],qe),tt=[];for(const Nt of je){const Ut=Nt*this.stride;Ke[Ut+4]===oe&&tt.push(Ke[Ut+Fe]>1?Dt(Ke,Ut,this.clusterProps):this.points[Ke[Ut+rt]])}if(tt.length===0)throw new Error(Pe);return tt}getLeaves(oe,pe,Te){const Pe=[];return this._appendLeaves(Pe,oe,pe=pe||10,Te=Te||0,0),Pe}getTile(oe,pe,Te){const Pe=this.trees[this._limitZoom(oe)],Ne=Math.pow(2,oe),{extent:Ke,radius:qe}=this.options,je=qe/Ke,tt=(Te-je)/Ne,Nt=(Te+1+je)/Ne,Ut={features:[]};return this._addTileFeatures(Pe.range((pe-je)/Ne,tt,(pe+1+je)/Ne,Nt),Pe.data,pe,Te,Ne,Ut),pe===0&&this._addTileFeatures(Pe.range(1-je/Ne,tt,1,Nt),Pe.data,Ne,Te,Ne,Ut),pe===Ne-1&&this._addTileFeatures(Pe.range(0,tt,je/Ne,Nt),Pe.data,-1,Te,Ne,Ut),Ut.features.length?Ut:null}getClusterExpansionZoom(oe){let pe=this._getOriginZoom(oe)-1;for(;pe<=this.options.maxZoom;){const Te=this.getChildren(oe);if(pe++,Te.length!==1)break;oe=Te[0].properties.cluster_id}return pe}_appendLeaves(oe,pe,Te,Pe,Ne){const Ke=this.getChildren(pe);for(const qe of Ke){const je=qe.properties;if(je&&je.cluster?Ne+je.point_count<=Pe?Ne+=je.point_count:Ne=this._appendLeaves(oe,je.cluster_id,Te,Pe,Ne):Ne<Pe?Ne++:oe.push(qe),oe.length===Te)break}return Ne}_createTree(oe){const pe=new s.av(oe.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Te=0;Te<oe.length;Te+=this.stride)pe.add(oe[Te],oe[Te+1]);return pe.finish(),pe.data=oe,pe}_addTileFeatures(oe,pe,Te,Pe,Ne,Ke){for(const qe of oe){const je=qe*this.stride,tt=pe[je+Fe]>1;let Nt,Ut,$t;if(tt)Nt=zt(pe,je,this.clusterProps),Ut=pe[je],$t=pe[je+1];else{const Tn=this.points[pe[je+rt]];Nt=Tn.properties;const[Vn,sr]=Tn.geometry.coordinates;Ut=Be(Vn),$t=lt(sr)}const kn={type:1,geometry:[[Math.round(this.options.extent*(Ut*Ne-Te)),Math.round(this.options.extent*($t*Ne-Pe))]],tags:Nt};let er;er=tt||this.options.generateId?pe[je+rt]:this.points[pe[je+rt]].id,er!==void 0&&(kn.id=er),Ke.features.push(kn)}}_limitZoom(oe){return Math.max(this.options.minZoom,Math.min(Math.floor(+oe),this.options.maxZoom+1))}_cluster(oe,pe){const{radius:Te,extent:Pe,reduce:Ne,minPoints:Ke}=this.options,qe=Te/(Pe*Math.pow(2,pe)),je=oe.data,tt=[],Nt=this.stride;for(let Ut=0;Ut<je.length;Ut+=Nt){if(je[Ut+2]<=pe)continue;je[Ut+2]=pe;const $t=je[Ut],kn=je[Ut+1],er=oe.within(je[Ut],je[Ut+1],qe),Tn=je[Ut+Fe];let Vn=Tn;for(const sr of er){const $r=sr*Nt;je[$r+2]>pe&&(Vn+=je[$r+Fe])}if(Vn>Tn&&Vn>=Ke){let sr,$r=$t*Tn,Ae=kn*Tn,ut=-1;const bt=((Ut/Nt|0)<<5)+(pe+1)+this.points.length;for(const yt of er){const vt=yt*Nt;if(je[vt+2]<=pe)continue;je[vt+2]=pe;const pn=je[vt+Fe];$r+=je[vt]*pn,Ae+=je[vt+1]*pn,je[vt+4]=bt,Ne&&(sr||(sr=this._map(je,Ut,!0),ut=this.clusterProps.length,this.clusterProps.push(sr)),Ne(sr,this._map(je,vt)))}je[Ut+4]=bt,tt.push($r/Vn,Ae/Vn,1/0,bt,-1,Vn),Ne&&tt.push(ut)}else{for(let sr=0;sr<Nt;sr++)tt.push(je[Ut+sr]);if(Vn>1)for(const sr of er){const $r=sr*Nt;if(!(je[$r+2]<=pe)){je[$r+2]=pe;for(let Ae=0;Ae<Nt;Ae++)tt.push(je[$r+Ae])}}}}return tt}_getOriginId(oe){return oe-this.points.length>>5}_getOriginZoom(oe){return(oe-this.points.length)%32}_map(oe,pe,Te){if(oe[pe+Fe]>1){const Ke=this.clusterProps[oe[pe+st]];return Te?Object.assign({},Ke):Ke}const Pe=this.points[oe[pe+rt]].properties,Ne=this.options.map(Pe);return Te&&Ne===Pe?Object.assign({},Ne):Ne}}function Dt(we,oe,pe){return{type:"Feature",id:we[oe+rt],properties:zt(we,oe,pe),geometry:{type:"Point",coordinates:[(Te=we[oe],360*(Te-.5)),Qe(we[oe+1])]}};var Te}function zt(we,oe,pe){const Te=we[oe+Fe],Pe=Te>=1e4?`${Math.round(Te/1e3)}k`:Te>=1e3?Math.round(Te/100)/10+"k":Te,Ne=we[oe+st],Ke=Ne===-1?{}:Object.assign({},pe[Ne]);return Object.assign(Ke,{cluster:!0,cluster_id:we[oe+rt],point_count:Te,point_count_abbreviated:Pe})}function Be(we){return we/360+.5}function lt(we){const oe=Math.sin(we*Math.PI/180),pe=.5-.25*Math.log((1+oe)/(1-oe))/Math.PI;return pe<0?0:pe>1?1:pe}function Qe(we){const oe=(180-360*we)*Math.PI/180;return 360*Math.atan(Math.exp(oe))/Math.PI-90}function ge(we,oe,pe,Te){for(var Pe,Ne=Te,Ke=pe-oe>>1,qe=pe-oe,je=we[oe],tt=we[oe+1],Nt=we[pe],Ut=we[pe+1],$t=oe+3;$t<pe;$t+=3){var kn=et(we[$t],we[$t+1],je,tt,Nt,Ut);if(kn>Ne)Pe=$t,Ne=kn;else if(kn===Ne){var er=Math.abs($t-Ke);er<qe&&(Pe=$t,qe=er)}}Ne>Te&&(Pe-oe>3&&ge(we,oe,Pe,Te),we[Pe+2]=Ne,pe-Pe>3&&ge(we,Pe,pe,Te))}function et(we,oe,pe,Te,Pe,Ne){var Ke=Pe-pe,qe=Ne-Te;if(Ke!==0||qe!==0){var je=((we-pe)*Ke+(oe-Te)*qe)/(Ke*Ke+qe*qe);je>1?(pe=Pe,Te=Ne):je>0&&(pe+=Ke*je,Te+=qe*je)}return(Ke=we-pe)*Ke+(qe=oe-Te)*qe}function ot(we,oe,pe,Te){var Pe={id:we===void 0?null:we,type:oe,geometry:pe,tags:Te,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ne){var Ke=Ne.geometry,qe=Ne.type;if(qe==="Point"||qe==="MultiPoint"||qe==="LineString")Tt(Ne,Ke);else if(qe==="Polygon"||qe==="MultiLineString")for(var je=0;je<Ke.length;je++)Tt(Ne,Ke[je]);else if(qe==="MultiPolygon")for(je=0;je<Ke.length;je++)for(var tt=0;tt<Ke[je].length;tt++)Tt(Ne,Ke[je][tt])}(Pe),Pe}function Tt(we,oe){for(var pe=0;pe<oe.length;pe+=3)we.minX=Math.min(we.minX,oe[pe]),we.minY=Math.min(we.minY,oe[pe+1]),we.maxX=Math.max(we.maxX,oe[pe]),we.maxY=Math.max(we.maxY,oe[pe+1])}function Ct(we,oe,pe,Te){if(oe.geometry){var Pe=oe.geometry.coordinates,Ne=oe.geometry.type,Ke=Math.pow(pe.tolerance/((1<<pe.maxZoom)*pe.extent),2),qe=[],je=oe.id;if(pe.promoteId?je=oe.properties[pe.promoteId]:pe.generateId&&(je=Te||0),Ne==="Point")Ft(Pe,qe);else if(Ne==="MultiPoint")for(var tt=0;tt<Pe.length;tt++)Ft(Pe[tt],qe);else if(Ne==="LineString")Gt(Pe,qe,Ke,!1);else if(Ne==="MultiLineString"){if(pe.lineMetrics){for(tt=0;tt<Pe.length;tt++)Gt(Pe[tt],qe=[],Ke,!1),we.push(ot(je,"LineString",qe,oe.properties));return}sn(Pe,qe,Ke,!1)}else if(Ne==="Polygon")sn(Pe,qe,Ke,!0);else{if(Ne!=="MultiPolygon"){if(Ne==="GeometryCollection"){for(tt=0;tt<oe.geometry.geometries.length;tt++)Ct(we,{id:je,geometry:oe.geometry.geometries[tt],properties:oe.properties},pe,Te);return}throw new Error("Input data is not a valid GeoJSON object.")}for(tt=0;tt<Pe.length;tt++){var Nt=[];sn(Pe[tt],Nt,Ke,!0),qe.push(Nt)}}we.push(ot(je,Ne,qe,oe.properties))}}function Ft(we,oe){oe.push(Je(we[0])),oe.push(Ce(we[1])),oe.push(0)}function Gt(we,oe,pe,Te){for(var Pe,Ne,Ke=0,qe=0;qe<we.length;qe++){var je=Je(we[qe][0]),tt=Ce(we[qe][1]);oe.push(je),oe.push(tt),oe.push(0),qe>0&&(Ke+=Te?(Pe*tt-je*Ne)/2:Math.sqrt(Math.pow(je-Pe,2)+Math.pow(tt-Ne,2))),Pe=je,Ne=tt}var Nt=oe.length-3;oe[2]=1,ge(oe,0,Nt,pe),oe[Nt+2]=1,oe.size=Math.abs(Ke),oe.start=0,oe.end=oe.size}function sn(we,oe,pe,Te){for(var Pe=0;Pe<we.length;Pe++){var Ne=[];Gt(we[Pe],Ne,pe,Te),oe.push(Ne)}}function Je(we){return we/360+.5}function Ce(we){var oe=Math.sin(we*Math.PI/180),pe=.5-.25*Math.log((1+oe)/(1-oe))/Math.PI;return pe<0?0:pe>1?1:pe}function _e(we,oe,pe,Te,Pe,Ne,Ke,qe){if(Te/=oe,Ne>=(pe/=oe)&&Ke<Te)return we;if(Ke<pe||Ne>=Te)return null;for(var je=[],tt=0;tt<we.length;tt++){var Nt=we[tt],Ut=Nt.geometry,$t=Nt.type,kn=Pe===0?Nt.minX:Nt.minY,er=Pe===0?Nt.maxX:Nt.maxY;if(kn>=pe&&er<Te)je.push(Nt);else if(!(er<pe||kn>=Te)){var Tn=[];if($t==="Point"||$t==="MultiPoint")ht(Ut,Tn,pe,Te,Pe);else if($t==="LineString")dt(Ut,Tn,pe,Te,Pe,!1,qe.lineMetrics);else if($t==="MultiLineString")jt(Ut,Tn,pe,Te,Pe,!1);else if($t==="Polygon")jt(Ut,Tn,pe,Te,Pe,!0);else if($t==="MultiPolygon")for(var Vn=0;Vn<Ut.length;Vn++){var sr=[];jt(Ut[Vn],sr,pe,Te,Pe,!0),sr.length&&Tn.push(sr)}if(Tn.length){if(qe.lineMetrics&&$t==="LineString"){for(Vn=0;Vn<Tn.length;Vn++)je.push(ot(Nt.id,$t,Tn[Vn],Nt.tags));continue}$t!=="LineString"&&$t!=="MultiLineString"||(Tn.length===1?($t="LineString",Tn=Tn[0]):$t="MultiLineString"),$t!=="Point"&&$t!=="MultiPoint"||($t=Tn.length===3?"Point":"MultiPoint"),je.push(ot(Nt.id,$t,Tn,Nt.tags))}}}return je.length?je:null}function ht(we,oe,pe,Te,Pe){for(var Ne=0;Ne<we.length;Ne+=3){var Ke=we[Ne+Pe];Ke>=pe&&Ke<=Te&&(oe.push(we[Ne]),oe.push(we[Ne+1]),oe.push(we[Ne+2]))}}function dt(we,oe,pe,Te,Pe,Ne,Ke){for(var qe,je,tt=Wt(we),Nt=Pe===0?cn:Rt,Ut=we.start,$t=0;$t<we.length-3;$t+=3){var kn=we[$t],er=we[$t+1],Tn=we[$t+2],Vn=we[$t+3],sr=we[$t+4],$r=Pe===0?kn:er,Ae=Pe===0?Vn:sr,ut=!1;Ke&&(qe=Math.sqrt(Math.pow(kn-Vn,2)+Math.pow(er-sr,2))),$r<pe?Ae>pe&&(je=Nt(tt,kn,er,Vn,sr,pe),Ke&&(tt.start=Ut+qe*je)):$r>Te?Ae<Te&&(je=Nt(tt,kn,er,Vn,sr,Te),Ke&&(tt.start=Ut+qe*je)):Mn(tt,kn,er,Tn),Ae<pe&&$r>=pe&&(je=Nt(tt,kn,er,Vn,sr,pe),ut=!0),Ae>Te&&$r<=Te&&(je=Nt(tt,kn,er,Vn,sr,Te),ut=!0),!Ne&&ut&&(Ke&&(tt.end=Ut+qe*je),oe.push(tt),tt=Wt(we)),Ke&&(Ut+=qe)}var bt=we.length-3;kn=we[bt],er=we[bt+1],Tn=we[bt+2],($r=Pe===0?kn:er)>=pe&&$r<=Te&&Mn(tt,kn,er,Tn),bt=tt.length-3,Ne&&bt>=3&&(tt[bt]!==tt[0]||tt[bt+1]!==tt[1])&&Mn(tt,tt[0],tt[1],tt[2]),tt.length&&oe.push(tt)}function Wt(we){var oe=[];return oe.size=we.size,oe.start=we.start,oe.end=we.end,oe}function jt(we,oe,pe,Te,Pe,Ne){for(var Ke=0;Ke<we.length;Ke++)dt(we[Ke],oe,pe,Te,Pe,Ne,!1)}function Mn(we,oe,pe,Te){we.push(oe),we.push(pe),we.push(Te)}function cn(we,oe,pe,Te,Pe,Ne){var Ke=(Ne-oe)/(Te-oe);return we.push(Ne),we.push(pe+(Pe-pe)*Ke),we.push(1),Ke}function Rt(we,oe,pe,Te,Pe,Ne){var Ke=(Ne-pe)/(Pe-pe);return we.push(oe+(Te-oe)*Ke),we.push(Ne),we.push(1),Ke}function nn(we,oe){for(var pe=[],Te=0;Te<we.length;Te++){var Pe,Ne=we[Te],Ke=Ne.type;if(Ke==="Point"||Ke==="MultiPoint"||Ke==="LineString")Pe=Pn(Ne.geometry,oe);else if(Ke==="MultiLineString"||Ke==="Polygon"){Pe=[];for(var qe=0;qe<Ne.geometry.length;qe++)Pe.push(Pn(Ne.geometry[qe],oe))}else if(Ke==="MultiPolygon")for(Pe=[],qe=0;qe<Ne.geometry.length;qe++){for(var je=[],tt=0;tt<Ne.geometry[qe].length;tt++)je.push(Pn(Ne.geometry[qe][tt],oe));Pe.push(je)}pe.push(ot(Ne.id,Ke,Pe,Ne.tags))}return pe}function Pn(we,oe){var pe=[];pe.size=we.size,we.start!==void 0&&(pe.start=we.start,pe.end=we.end);for(var Te=0;Te<we.length;Te+=3)pe.push(we[Te]+oe,we[Te+1],we[Te+2]);return pe}function mt(we,oe){if(we.transformed)return we;var pe,Te,Pe,Ne=1<<we.z,Ke=we.x,qe=we.y;for(pe=0;pe<we.features.length;pe++){var je=we.features[pe],tt=je.geometry,Nt=je.type;if(je.geometry=[],Nt===1)for(Te=0;Te<tt.length;Te+=2)je.geometry.push(un(tt[Te],tt[Te+1],oe,Ne,Ke,qe));else for(Te=0;Te<tt.length;Te++){var Ut=[];for(Pe=0;Pe<tt[Te].length;Pe+=2)Ut.push(un(tt[Te][Pe],tt[Te][Pe+1],oe,Ne,Ke,qe));je.geometry.push(Ut)}}return we.transformed=!0,we}function un(we,oe,pe,Te,Pe,Ne){return[Math.round(pe*(we*Te-Pe)),Math.round(pe*(oe*Te-Ne))]}function an(we,oe,pe,Te,Pe){for(var Ne=oe===Pe.maxZoom?0:Pe.tolerance/((1<<oe)*Pe.extent),Ke={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:pe,y:Te,z:oe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},qe=0;qe<we.length;qe++){Ke.numFeatures++,Ot(Ke,we[qe],Ne,Pe);var je=we[qe].minX,tt=we[qe].minY,Nt=we[qe].maxX,Ut=we[qe].maxY;je<Ke.minX&&(Ke.minX=je),tt<Ke.minY&&(Ke.minY=tt),Nt>Ke.maxX&&(Ke.maxX=Nt),Ut>Ke.maxY&&(Ke.maxY=Ut)}return Ke}function Ot(we,oe,pe,Te){var Pe=oe.geometry,Ne=oe.type,Ke=[];if(Ne==="Point"||Ne==="MultiPoint")for(var qe=0;qe<Pe.length;qe+=3)Ke.push(Pe[qe]),Ke.push(Pe[qe+1]),we.numPoints++,we.numSimplified++;else if(Ne==="LineString")ke(Ke,Pe,we,pe,!1,!1);else if(Ne==="MultiLineString"||Ne==="Polygon")for(qe=0;qe<Pe.length;qe++)ke(Ke,Pe[qe],we,pe,Ne==="Polygon",qe===0);else if(Ne==="MultiPolygon")for(var je=0;je<Pe.length;je++){var tt=Pe[je];for(qe=0;qe<tt.length;qe++)ke(Ke,tt[qe],we,pe,!0,qe===0)}if(Ke.length){var Nt=oe.tags||null;if(Ne==="LineString"&&Te.lineMetrics){for(var Ut in Nt={},oe.tags)Nt[Ut]=oe.tags[Ut];Nt.mapbox_clip_start=Pe.start/Pe.size,Nt.mapbox_clip_end=Pe.end/Pe.size}var $t={geometry:Ke,type:Ne==="Polygon"||Ne==="MultiPolygon"?3:Ne==="LineString"||Ne==="MultiLineString"?2:1,tags:Nt};oe.id!==null&&($t.id=oe.id),we.features.push($t)}}function ke(we,oe,pe,Te,Pe,Ne){var Ke=Te*Te;if(Te>0&&oe.size<(Pe?Ke:Te))pe.numPoints+=oe.length/3;else{for(var qe=[],je=0;je<oe.length;je+=3)(Te===0||oe[je+2]>Ke)&&(pe.numSimplified++,qe.push(oe[je]),qe.push(oe[je+1])),pe.numPoints++;Pe&&function(tt,Nt){for(var Ut=0,$t=0,kn=tt.length,er=kn-2;$t<kn;er=$t,$t+=2)Ut+=(tt[$t]-tt[er])*(tt[$t+1]+tt[er+1]);if(Ut>0===Nt)for($t=0,kn=tt.length;$t<kn/2;$t+=2){var Tn=tt[$t],Vn=tt[$t+1];tt[$t]=tt[kn-2-$t],tt[$t+1]=tt[kn-1-$t],tt[kn-2-$t]=Tn,tt[kn-1-$t]=Vn}}(qe,Ne),we.push(qe)}}function Ve(we,oe){var pe=(oe=this.options=function(Pe,Ne){for(var Ke in Ne)Pe[Ke]=Ne[Ke];return Pe}(Object.create(this.options),oe)).debug;if(pe&&console.time("preprocess data"),oe.maxZoom<0||oe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(oe.promoteId&&oe.generateId)throw new Error("promoteId and generateId cannot be used together.");var Te=function(Pe,Ne){var Ke=[];if(Pe.type==="FeatureCollection")for(var qe=0;qe<Pe.features.length;qe++)Ct(Ke,Pe.features[qe],Ne,qe);else Ct(Ke,Pe.type==="Feature"?Pe:{geometry:Pe},Ne);return Ke}(we,oe);this.tiles={},this.tileCoords=[],pe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",oe.indexMaxZoom,oe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Te=function(Pe,Ne){var Ke=Ne.buffer/Ne.extent,qe=Pe,je=_e(Pe,1,-1-Ke,Ke,0,-1,2,Ne),tt=_e(Pe,1,1-Ke,2+Ke,0,-1,2,Ne);return(je||tt)&&(qe=_e(Pe,1,-Ke,1+Ke,0,-1,2,Ne)||[],je&&(qe=nn(je,1).concat(qe)),tt&&(qe=qe.concat(nn(tt,-1)))),qe}(Te,oe),Te.length&&this.splitTile(Te,0,0,0),pe&&(Te.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Me(we,oe,pe){return 32*((1<<we)*pe+oe)+we}function it(we,oe){return oe?we.properties[oe]:we.id}function en(we,oe){if(we==null)return!0;if(we.type==="Feature")return it(we,oe)!=null;if(we.type==="FeatureCollection"){const pe=new Set;for(const Te of we.features){const Pe=it(Te,oe);if(Pe==null||pe.has(Pe))return!1;pe.add(Pe)}return!0}return!1}function Xe(we,oe){const pe=new Map;if(we!=null)if(we.type==="Feature")pe.set(it(we,oe),we);else for(const Te of we.features)pe.set(it(Te,oe),Te);return pe}Ve.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ve.prototype.splitTile=function(we,oe,pe,Te,Pe,Ne,Ke){for(var qe=[we,oe,pe,Te],je=this.options,tt=je.debug;qe.length;){Te=qe.pop(),pe=qe.pop(),oe=qe.pop(),we=qe.pop();var Nt=1<<oe,Ut=Me(oe,pe,Te),$t=this.tiles[Ut];if(!$t&&(tt>1&&console.time("creation"),$t=this.tiles[Ut]=an(we,oe,pe,Te,je),this.tileCoords.push({z:oe,x:pe,y:Te}),tt)){tt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",oe,pe,Te,$t.numFeatures,$t.numPoints,$t.numSimplified),console.timeEnd("creation"));var kn="z"+oe;this.stats[kn]=(this.stats[kn]||0)+1,this.total++}if($t.source=we,Pe){if(oe===je.maxZoom||oe===Pe)continue;var er=1<<Pe-oe;if(pe!==Math.floor(Ne/er)||Te!==Math.floor(Ke/er))continue}else if(oe===je.indexMaxZoom||$t.numPoints<=je.indexMaxPoints)continue;if($t.source=null,we.length!==0){tt>1&&console.time("clipping");var Tn,Vn,sr,$r,Ae,ut,bt=.5*je.buffer/je.extent,yt=.5-bt,vt=.5+bt,pn=1+bt;Tn=Vn=sr=$r=null,Ae=_e(we,Nt,pe-bt,pe+vt,0,$t.minX,$t.maxX,je),ut=_e(we,Nt,pe+yt,pe+pn,0,$t.minX,$t.maxX,je),we=null,Ae&&(Tn=_e(Ae,Nt,Te-bt,Te+vt,1,$t.minY,$t.maxY,je),Vn=_e(Ae,Nt,Te+yt,Te+pn,1,$t.minY,$t.maxY,je),Ae=null),ut&&(sr=_e(ut,Nt,Te-bt,Te+vt,1,$t.minY,$t.maxY,je),$r=_e(ut,Nt,Te+yt,Te+pn,1,$t.minY,$t.maxY,je),ut=null),tt>1&&console.timeEnd("clipping"),qe.push(Tn||[],oe+1,2*pe,2*Te),qe.push(Vn||[],oe+1,2*pe,2*Te+1),qe.push(sr||[],oe+1,2*pe+1,2*Te),qe.push($r||[],oe+1,2*pe+1,2*Te+1)}}},Ve.prototype.getTile=function(we,oe,pe){var Te=this.options,Pe=Te.extent,Ne=Te.debug;if(we<0||we>24)return null;var Ke=1<<we,qe=Me(we,oe=(oe%Ke+Ke)%Ke,pe);if(this.tiles[qe])return mt(this.tiles[qe],Pe);Ne>1&&console.log("drilling down to z%d-%d-%d",we,oe,pe);for(var je,tt=we,Nt=oe,Ut=pe;!je&&tt>0;)tt--,Nt=Math.floor(Nt/2),Ut=Math.floor(Ut/2),je=this.tiles[Me(tt,Nt,Ut)];return je&&je.source?(Ne>1&&console.log("found parent tile z%d-%d-%d",tt,Nt,Ut),Ne>1&&console.time("drilling down"),this.splitTile(je.source,tt,Nt,Ut,we,oe,pe),Ne>1&&console.timeEnd("drilling down"),this.tiles[qe]?mt(this.tiles[qe],Pe):null):null};class kt extends v{constructor(oe,pe,Te,Pe){super(oe,pe,Te),this._dataUpdateable=new Map,this.loadGeoJSON=(Ne,Ke)=>{const{promoteId:qe}=Ne;if(Ne.request)return s.f(Ne.request,(je,tt,Nt,Ut)=>{this._dataUpdateable=en(tt,qe)?Xe(tt,qe):void 0,Ke(je,tt,Nt,Ut)});if(typeof Ne.data=="string")try{const je=JSON.parse(Ne.data);this._dataUpdateable=en(je,qe)?Xe(je,qe):void 0,Ke(null,je)}catch{Ke(new Error(`Input data given to '${Ne.source}' is not a valid GeoJSON object.`))}else Ne.dataDiff?this._dataUpdateable?(function(je,tt,Nt){var Ut,$t,kn,er;if(tt.removeAll&&je.clear(),tt.remove)for(const Tn of tt.remove)je.delete(Tn);if(tt.add)for(const Tn of tt.add){const Vn=it(Tn,Nt);Vn!=null&&je.set(Vn,Tn)}if(tt.update)for(const Tn of tt.update){let Vn=je.get(Tn.id);if(Vn==null)continue;const sr=!Tn.removeAllProperties&&(((Ut=Tn.removeProperties)===null||Ut===void 0?void 0:Ut.length)>0||(($t=Tn.addOrUpdateProperties)===null||$t===void 0?void 0:$t.length)>0);if((Tn.newGeometry||Tn.removeAllProperties||sr)&&(Vn=Object.assign({},Vn),je.set(Tn.id,Vn),sr&&(Vn.properties=Object.assign({},Vn.properties))),Tn.newGeometry&&(Vn.geometry=Tn.newGeometry),Tn.removeAllProperties)Vn.properties={};else if(((kn=Tn.removeProperties)===null||kn===void 0?void 0:kn.length)>0)for(const $r of Tn.removeProperties)Object.prototype.hasOwnProperty.call(Vn.properties,$r)&&delete Vn.properties[$r];if(((er=Tn.addOrUpdateProperties)===null||er===void 0?void 0:er.length)>0)for(const{key:$r,value:Ae}of Tn.addOrUpdateProperties)Vn.properties[$r]=Ae}}(this._dataUpdateable,Ne.dataDiff,qe),Ke(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Ke(new Error(`Cannot update existing geojson data in ${Ne.source}`)):Ke(new Error(`Input data given to '${Ne.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,Pe&&(this.loadGeoJSON=Pe)}loadGeoJSONTile(oe,pe){const Te=oe.tileID.canonical;if(!this._geoJSONIndex)return pe(null,null);const Pe=this._geoJSONIndex.getTile(Te.z,Te.x,Te.y);if(!Pe)return pe(null,null);const Ne=new class{constructor(qe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.N,this.length=qe.length,this._features=qe}feature(qe){return new class{constructor(je){this._feature=je,this.extent=s.N,this.type=je.type,this.properties=je.tags,"id"in je&&!isNaN(je.id)&&(this.id=parseInt(je.id,10))}loadGeometry(){if(this._feature.type===1){const je=[];for(const tt of this._feature.geometry)je.push([new s.P(tt[0],tt[1])]);return je}{const je=[];for(const tt of this._feature.geometry){const Nt=[];for(const Ut of tt)Nt.push(new s.P(Ut[0],Ut[1]));je.push(Nt)}return je}}toGeoJSON(je,tt,Nt){return C.call(this,je,tt,Nt)}}(this._features[qe])}}(Pe.features);let Ke=he(Ne);Ke.byteOffset===0&&Ke.byteLength===Ke.buffer.byteLength||(Ke=new Uint8Array(Ke)),pe(null,{vectorTile:Ne,rawData:Ke.buffer})}loadData(oe,pe){var Te;(Te=this._pendingRequest)===null||Te===void 0||Te.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const Pe=!!(oe&&oe.request&&oe.request.collectResourceTiming)&&new s.bu(oe.request);this._pendingCallback=pe,this._pendingRequest=this.loadGeoJSON(oe,(Ne,Ke)=>{if(delete this._pendingCallback,delete this._pendingRequest,Ne||!Ke)return pe(Ne);if(typeof Ke!="object")return pe(new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`));{w(Ke,!0);try{if(oe.filter){const je=s.bC(oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(je.result==="error")throw new Error(je.value.map(Nt=>`${Nt.key}: ${Nt.message}`).join(", "));Ke={type:"FeatureCollection",features:Ke.features.filter(Nt=>je.value.evaluate({zoom:0},Nt))}}this._geoJSONIndex=oe.cluster?new ct(function({superclusterOptions:je,clusterProperties:tt}){if(!tt||!je)return je;const Nt={},Ut={},$t={accumulated:null,zoom:0},kn={properties:null},er=Object.keys(tt);for(const Tn of er){const[Vn,sr]=tt[Tn],$r=s.bC(sr),Ae=s.bC(typeof Vn=="string"?[Vn,["accumulated"],["get",Tn]]:Vn);Nt[Tn]=$r.value,Ut[Tn]=Ae.value}return je.map=Tn=>{kn.properties=Tn;const Vn={};for(const sr of er)Vn[sr]=Nt[sr].evaluate($t,kn);return Vn},je.reduce=(Tn,Vn)=>{kn.properties=Vn;for(const sr of er)$t.accumulated=Tn[sr],Tn[sr]=Ut[sr].evaluate($t,kn)},je}(oe)).load(Ke.features):function(je,tt){return new Ve(je,tt)}(Ke,oe.geojsonVtOptions)}catch(je){return pe(je)}this.loaded={};const qe={};if(Pe){const je=Pe.finish();je&&(qe.resourceTiming={},qe.resourceTiming[oe.source]=JSON.parse(JSON.stringify(je)))}pe(null,qe)}})}reloadTile(oe,pe){const Te=this.loaded;return Te&&Te[oe.uid]?super.reloadTile(oe,pe):this.loadTile(oe,pe)}removeSource(oe,pe){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),pe()}getClusterExpansionZoom(oe,pe){try{pe(null,this._geoJSONIndex.getClusterExpansionZoom(oe.clusterId))}catch(Te){pe(Te)}}getClusterChildren(oe,pe){try{pe(null,this._geoJSONIndex.getChildren(oe.clusterId))}catch(Te){pe(Te)}}getClusterLeaves(oe,pe){try{pe(null,this._geoJSONIndex.getLeaves(oe.clusterId,oe.limit,oe.offset))}catch(Te){pe(Te)}}}class Et{constructor(oe){this.self=oe,this.actor=new s.C(oe,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:v,geojson:kt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(pe,Te)=>{if(this.workerSourceTypes[pe])throw new Error(`Worker source with name "${pe}" already registered.`);this.workerSourceTypes[pe]=Te},this.self.registerRTLTextPlugin=pe=>{if(s.bD.isParsed())throw new Error("RTL text plugin already registered.");s.bD.applyArabicShaping=pe.applyArabicShaping,s.bD.processBidirectionalText=pe.processBidirectionalText,s.bD.processStyledBidirectionalText=pe.processStyledBidirectionalText}}setReferrer(oe,pe){this.referrer=pe}setImages(oe,pe,Te){this.availableImages[oe]=pe;for(const Pe in this.workerSources[oe]){const Ne=this.workerSources[oe][Pe];for(const Ke in Ne)Ne[Ke].availableImages=pe}Te()}setLayers(oe,pe,Te){this.getLayerIndex(oe).replace(pe),Te()}updateLayers(oe,pe,Te){this.getLayerIndex(oe).update(pe.layers,pe.removedIds),Te()}loadTile(oe,pe,Te){this.getWorkerSource(oe,pe.type,pe.source).loadTile(pe,Te)}loadDEMTile(oe,pe,Te){this.getDEMWorkerSource(oe,pe.source).loadTile(pe,Te)}reloadTile(oe,pe,Te){this.getWorkerSource(oe,pe.type,pe.source).reloadTile(pe,Te)}abortTile(oe,pe,Te){this.getWorkerSource(oe,pe.type,pe.source).abortTile(pe,Te)}removeTile(oe,pe,Te){this.getWorkerSource(oe,pe.type,pe.source).removeTile(pe,Te)}removeDEMTile(oe,pe){this.getDEMWorkerSource(oe,pe.source).removeTile(pe)}removeSource(oe,pe,Te){if(!this.workerSources[oe]||!this.workerSources[oe][pe.type]||!this.workerSources[oe][pe.type][pe.source])return;const Pe=this.workerSources[oe][pe.type][pe.source];delete this.workerSources[oe][pe.type][pe.source],Pe.removeSource!==void 0?Pe.removeSource(pe,Te):Te()}loadWorkerSource(oe,pe,Te){try{this.self.importScripts(pe.url),Te()}catch(Pe){Te(Pe.toString())}}syncRTLPluginState(oe,pe,Te){try{s.bD.setState(pe);const Pe=s.bD.getPluginURL();if(s.bD.isLoaded()&&!s.bD.isParsed()&&Pe!=null){this.self.importScripts(Pe);const Ne=s.bD.isParsed();Te(Ne?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Pe}`),Ne)}}catch(Pe){Te(Pe.toString())}}getAvailableImages(oe){let pe=this.availableImages[oe];return pe||(pe=[]),pe}getLayerIndex(oe){let pe=this.layerIndexes[oe];return pe||(pe=this.layerIndexes[oe]=new l),pe}getWorkerSource(oe,pe,Te){return this.workerSources[oe]||(this.workerSources[oe]={}),this.workerSources[oe][pe]||(this.workerSources[oe][pe]={}),this.workerSources[oe][pe][Te]||(this.workerSources[oe][pe][Te]=new this.workerSourceTypes[pe]({send:(Pe,Ne,Ke)=>{this.actor.send(Pe,Ne,Ke,oe)}},this.getLayerIndex(oe),this.getAvailableImages(oe))),this.workerSources[oe][pe][Te]}getDEMWorkerSource(oe,pe){return this.demWorkerSources[oe]||(this.demWorkerSources[oe]={}),this.demWorkerSources[oe][pe]||(this.demWorkerSources[oe][pe]=new x),this.demWorkerSources[oe][pe]}}return s.i()&&(self.worker=new Et(self)),Et}),o(["./shared"],function(s){var l="3.6.2";class c{static testProp(d){if(!c.docStyle)return d[0];for(let y=0;y<d.length;y++)if(d[y]in c.docStyle)return d[y];return d[0]}static create(d,y,A){const I=window.document.createElement(d);return y!==void 0&&(I.className=y),A&&A.appendChild(I),I}static createNS(d,y){return window.document.createElementNS(d,y)}static disableDrag(){c.docStyle&&c.selectProp&&(c.userSelect=c.docStyle[c.selectProp],c.docStyle[c.selectProp]="none")}static enableDrag(){c.docStyle&&c.selectProp&&(c.docStyle[c.selectProp]=c.userSelect)}static setTransform(d,y){d.style[c.transformProp]=y}static addEventListener(d,y,A,I={}){d.addEventListener(y,A,"passive"in I?I:I.capture)}static removeEventListener(d,y,A,I={}){d.removeEventListener(y,A,"passive"in I?I:I.capture)}static suppressClickInternal(d){d.preventDefault(),d.stopPropagation(),window.removeEventListener("click",c.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",c.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",c.suppressClickInternal,!0)},0)}static mousePos(d,y){const A=d.getBoundingClientRect();return new s.P(y.clientX-A.left-d.clientLeft,y.clientY-A.top-d.clientTop)}static touchPos(d,y){const A=d.getBoundingClientRect(),I=[];for(let D=0;D<y.length;D++)I.push(new s.P(y[D].clientX-A.left-d.clientLeft,y[D].clientY-A.top-d.clientTop));return I}static mouseButton(d){return d.button}static remove(d){d.parentNode&&d.parentNode.removeChild(d)}}c.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,c.selectProp=c.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),c.transformProp=c.testProp(["transform","WebkitTransform"]);const h={supported:!1,testSupport:function(O){!v&&g&&(x?_(O):p=O)}};let p,g,v=!1,x=!1;function _(O){const d=O.createTexture();O.bindTexture(O.TEXTURE_2D,d);try{if(O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,g),O.isContextLost())return;h.supported=!0}catch{}O.deleteTexture(d),v=!0}var S,w;typeof document<"u"&&(g=document.createElement("img"),g.onload=function(){p&&_(p),p=null,x=!0},g.onerror=function(){v=!0,p=null},g.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(O){let d,y,A,I;O.resetRequestQueue=()=>{d=[],y=0,A=0,I={}},O.addThrottleControl=ee=>{const re=A++;return I[re]=ee,re},O.removeThrottleControl=ee=>{delete I[ee],G()},O.getImage=(ee,re,se=!0)=>{h.supported&&(ee.headers||(ee.headers={}),ee.headers.accept="image/webp,*/*");const be={requestParameters:ee,supportImageRefresh:se,callback:re,cancelled:!1,completed:!1,cancel:()=>{be.completed||be.cancelled||(be.cancelled=!0,be.innerRequest&&(be.innerRequest.cancel(),y--),G())}};return d.push(be),G(),be};const D=ee=>{const{requestParameters:re,supportImageRefresh:se,callback:be}=ee;return s.e(re,{type:"image"}),(se!==!1||s.i()||s.g(re.url)||re.headers&&!Object.keys(re.headers).reduce((Le,Re)=>Le&&Re==="accept",!0)?s.m:K)(re,(Le,Re,$e,Ie)=>{W(ee,be,Le,Re,$e,Ie)})},W=(ee,re,se,be,Le,Re)=>{se?re(se):be instanceof HTMLImageElement||s.a(be)?re(null,be):be&&(($e,Ie)=>{typeof createImageBitmap=="function"?s.b($e,Ie):s.d($e,Ie)})(be,($e,Ie)=>{$e!=null?re($e):Ie!=null&&re(null,Ie,{cacheControl:Le,expires:Re})}),ee.cancelled||(ee.completed=!0,y--,G())},G=()=>{const ee=(()=>{const re=Object.keys(I);let se=!1;if(re.length>0){for(const be of re)if(se=I[be](),se)break}return se})()?s.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let re=y;re<ee&&d.length>0;re++){const se=d.shift();if(se.cancelled){re--;continue}const be=D(se);y++,se.innerRequest=be}},K=(ee,re)=>{const se=new Image,be=ee.url;let Le=!1;const Re=ee.credentials;return Re&&Re==="include"?se.crossOrigin="use-credentials":(Re&&Re==="same-origin"||!s.s(be))&&(se.crossOrigin="anonymous"),se.fetchPriority="high",se.onload=()=>{re(null,se),se.onerror=se.onload=null},se.onerror=()=>{Le||re(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),se.onerror=se.onload=null},se.src=be,{cancel:()=>{Le=!0,se.src=""}}}}(S||(S={})),S.resetRequestQueue(),function(O){O.Glyphs="Glyphs",O.Image="Image",O.Source="Source",O.SpriteImage="SpriteImage",O.SpriteJSON="SpriteJSON",O.Style="Style",O.Tile="Tile",O.Unknown="Unknown"}(w||(w={}));class C{constructor(d){this._transformRequestFn=d}transformRequest(d,y){return this._transformRequestFn&&this._transformRequestFn(d,y)||{url:d}}normalizeSpriteURL(d,y,A){const I=function(D){const W=D.match(T);if(!W)throw new Error(`Unable to parse URL "${D}"`);return{protocol:W[1],authority:W[2],path:W[3]||"/",params:W[4]?W[4].split("&"):[]}}(d);return I.path+=`${y}${A}`,function(D){const W=D.params.length?`?${D.params.join("&")}`:"";return`${D.protocol}://${D.authority}${D.path}${W}`}(I)}setTransformRequest(d){this._transformRequestFn=d}}const T=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function k(O){var d=new s.A(3);return d[0]=O[0],d[1]=O[1],d[2]=O[2],d}var R,L=function(O,d,y){return O[0]=d[0]-y[0],O[1]=d[1]-y[1],O[2]=d[2]-y[2],O};R=new s.A(3),s.A!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0);var F=function(O){var d=O[0],y=O[1];return d*d+y*y};function H(O){const d=[];if(typeof O=="string")d.push({id:"default",url:O});else if(O&&O.length>0){const y=[];for(const{id:A,url:I}of O){const D=`${A}${I}`;y.indexOf(D)===-1&&(y.push(D),d.push({id:A,url:I}))}}return d}function Z(O,d,y,A,I){if(A)return void O(A);if(I!==Object.values(d).length||I!==Object.values(y).length)return;const D={};for(const W in d){D[W]={};const G=s.h.getImageCanvasContext(y[W]),K=d[W];for(const ee in K){const{width:re,height:se,x:be,y:Le,sdf:Re,pixelRatio:$e,stretchX:Ie,stretchY:at,content:Mt}=K[ee];D[W][ee]={data:null,pixelRatio:$e,sdf:Re,stretchX:Ie,stretchY:at,content:Mt,spriteData:{width:re,height:se,x:be,y:Le,context:G}}}}O(null,D)}(function(){var O=new s.A(2);s.A!=Float32Array&&(O[0]=0,O[1]=0)})();class j{constructor(d,y,A,I){this.context=d,this.format=A,this.texture=d.gl.createTexture(),this.update(y,I)}update(d,y,A){const{width:I,height:D}=d,W=!(this.size&&this.size[0]===I&&this.size[1]===D||A),{context:G}=this,{gl:K}=G;if(this.useMipmap=!!(y&&y.useMipmap),K.bindTexture(K.TEXTURE_2D,this.texture),G.pixelStoreUnpackFlipY.set(!1),G.pixelStoreUnpack.set(1),G.pixelStoreUnpackPremultiplyAlpha.set(this.format===K.RGBA&&(!y||y.premultiply!==!1)),W)this.size=[I,D],d instanceof HTMLImageElement||d instanceof HTMLCanvasElement||d instanceof HTMLVideoElement||d instanceof ImageData||s.a(d)?K.texImage2D(K.TEXTURE_2D,0,this.format,this.format,K.UNSIGNED_BYTE,d):K.texImage2D(K.TEXTURE_2D,0,this.format,I,D,0,this.format,K.UNSIGNED_BYTE,d.data);else{const{x:ee,y:re}=A||{x:0,y:0};d instanceof HTMLImageElement||d instanceof HTMLCanvasElement||d instanceof HTMLVideoElement||d instanceof ImageData||s.a(d)?K.texSubImage2D(K.TEXTURE_2D,0,ee,re,K.RGBA,K.UNSIGNED_BYTE,d):K.texSubImage2D(K.TEXTURE_2D,0,ee,re,I,D,K.RGBA,K.UNSIGNED_BYTE,d.data)}this.useMipmap&&this.isSizePowerOfTwo()&&K.generateMipmap(K.TEXTURE_2D)}bind(d,y,A){const{context:I}=this,{gl:D}=I;D.bindTexture(D.TEXTURE_2D,this.texture),A!==D.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(A=D.LINEAR),d!==this.filter&&(D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,d),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,A||d),this.filter=d),y!==this.wrap&&(D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,y),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,y),this.wrap=y)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:d}=this.context;d.deleteTexture(this.texture),this.texture=null}}function X(O){const{userImage:d}=O;return!!(d&&d.render&&d.render())&&(O.data.replace(new Uint8Array(d.data.buffer)),!0)}class le extends s.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(d){if(this.loaded!==d&&(this.loaded=d,d)){for(const{ids:y,callback:A}of this.requestors)this._notify(y,A);this.requestors=[]}}getImage(d){const y=this.images[d];if(y&&!y.data&&y.spriteData){const A=y.spriteData;y.data=new s.R({width:A.width,height:A.height},A.context.getImageData(A.x,A.y,A.width,A.height).data),y.spriteData=null}return y}addImage(d,y){if(this.images[d])throw new Error(`Image id ${d} already exist, use updateImage instead`);this._validate(d,y)&&(this.images[d]=y)}_validate(d,y){let A=!0;const I=y.data||y.spriteData;return this._validateStretch(y.stretchX,I&&I.width)||(this.fire(new s.j(new Error(`Image "${d}" has invalid "stretchX" value`))),A=!1),this._validateStretch(y.stretchY,I&&I.height)||(this.fire(new s.j(new Error(`Image "${d}" has invalid "stretchY" value`))),A=!1),this._validateContent(y.content,y)||(this.fire(new s.j(new Error(`Image "${d}" has invalid "content" value`))),A=!1),A}_validateStretch(d,y){if(!d)return!0;let A=0;for(const I of d){if(I[0]<A||I[1]<I[0]||y<I[1])return!1;A=I[1]}return!0}_validateContent(d,y){if(!d)return!0;if(d.length!==4)return!1;const A=y.spriteData,I=A&&A.width||y.data.width,D=A&&A.height||y.data.height;return!(d[0]<0||I<d[0]||d[1]<0||D<d[1]||d[2]<0||I<d[2]||d[3]<0||D<d[3]||d[2]<d[0]||d[3]<d[1])}updateImage(d,y,A=!0){const I=this.getImage(d);if(A&&(I.data.width!==y.data.width||I.data.height!==y.data.height))throw new Error(`size mismatch between old image (${I.data.width}x${I.data.height}) and new image (${y.data.width}x${y.data.height}).`);y.version=I.version+1,this.images[d]=y,this.updatedImages[d]=!0}removeImage(d){const y=this.images[d];delete this.images[d],delete this.patterns[d],y.userImage&&y.userImage.onRemove&&y.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(d,y){let A=!0;if(!this.isLoaded())for(const I of d)this.images[I]||(A=!1);this.isLoaded()||A?this._notify(d,y):this.requestors.push({ids:d,callback:y})}_notify(d,y){const A={};for(const I of d){let D=this.getImage(I);D||(this.fire(new s.k("styleimagemissing",{id:I})),D=this.getImage(I)),D?A[I]={data:D.data.clone(),pixelRatio:D.pixelRatio,sdf:D.sdf,version:D.version,stretchX:D.stretchX,stretchY:D.stretchY,content:D.content,hasRenderCallback:!!(D.userImage&&D.userImage.render)}:s.w(`Image "${I}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}y(null,A)}getPixelSize(){const{width:d,height:y}=this.atlasImage;return{width:d,height:y}}getPattern(d){const y=this.patterns[d],A=this.getImage(d);if(!A)return null;if(y&&y.position.version===A.version)return y.position;if(y)y.position.version=A.version;else{const I={w:A.data.width+2,h:A.data.height+2,x:0,y:0},D=new s.I(I,A);this.patterns[d]={bin:I,position:D}}return this._updatePatternAtlas(),this.patterns[d].position}bind(d){const y=d.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new j(d,this.atlasImage,y.RGBA),this.atlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE)}_updatePatternAtlas(){const d=[];for(const D in this.patterns)d.push(this.patterns[D].bin);const{w:y,h:A}=s.p(d),I=this.atlasImage;I.resize({width:y||1,height:A||1});for(const D in this.patterns){const{bin:W}=this.patterns[D],G=W.x+1,K=W.y+1,ee=this.getImage(D).data,re=ee.width,se=ee.height;s.R.copy(ee,I,{x:0,y:0},{x:G,y:K},{width:re,height:se}),s.R.copy(ee,I,{x:0,y:se-1},{x:G,y:K-1},{width:re,height:1}),s.R.copy(ee,I,{x:0,y:0},{x:G,y:K+se},{width:re,height:1}),s.R.copy(ee,I,{x:re-1,y:0},{x:G-1,y:K},{width:1,height:se}),s.R.copy(ee,I,{x:0,y:0},{x:G+re,y:K},{width:1,height:se})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(d){for(const y of d){if(this.callbackDispatchedThisFrame[y])continue;this.callbackDispatchedThisFrame[y]=!0;const A=this.getImage(y);A||s.w(`Image with ID: "${y}" was not found`),X(A)&&this.updateImage(y,A)}}}const me=1e20;function ie(O,d,y,A,I,D,W,G,K){for(let ee=d;ee<d+A;ee++)ce(O,y*D+ee,D,I,W,G,K);for(let ee=y;ee<y+I;ee++)ce(O,ee*D+d,1,A,W,G,K)}function ce(O,d,y,A,I,D,W){D[0]=0,W[0]=-me,W[1]=me,I[0]=O[d];for(let G=1,K=0,ee=0;G<A;G++){I[G]=O[d+G*y];const re=G*G;do{const se=D[K];ee=(I[G]-I[se]+re-se*se)/(G-se)/2}while(ee<=W[K]&&--K>-1);K++,D[K]=G,W[K]=ee,W[K+1]=me}for(let G=0,K=0;G<A;G++){for(;W[K+1]<G;)K++;const ee=D[K],re=G-ee;O[d+G*y]=I[ee]+re*re}}class fe{constructor(d,y){this.requestManager=d,this.localIdeographFontFamily=y,this.entries={}}setURL(d){this.url=d}getGlyphs(d,y){const A=[];for(const I in d)for(const D of d[I])A.push({stack:I,id:D});s.o(A,({stack:I,id:D},W)=>{let G=this.entries[I];G||(G=this.entries[I]={glyphs:{},requests:{},ranges:{}});let K=G.glyphs[D];if(K!==void 0)return void W(null,{stack:I,id:D,glyph:K});if(K=this._tinySDF(G,I,D),K)return G.glyphs[D]=K,void W(null,{stack:I,id:D,glyph:K});const ee=Math.floor(D/256);if(256*ee>65535)return void W(new Error("glyphs > 65535 not supported"));if(G.ranges[ee])return void W(null,{stack:I,id:D,glyph:K});if(!this.url)return void W(new Error("glyphsUrl is not set"));let re=G.requests[ee];re||(re=G.requests[ee]=[],fe.loadGlyphRange(I,ee,this.url,this.requestManager,(se,be)=>{if(be){for(const Le in be)this._doesCharSupportLocalGlyph(+Le)||(G.glyphs[+Le]=be[+Le]);G.ranges[ee]=!0}for(const Le of re)Le(se,be);delete G.requests[ee]})),re.push((se,be)=>{se?W(se):be&&W(null,{stack:I,id:D,glyph:be[D]||null})})},(I,D)=>{if(I)y(I);else if(D){const W={};for(const{stack:G,id:K,glyph:ee}of D)(W[G]||(W[G]={}))[K]=ee&&{id:ee.id,bitmap:ee.bitmap.clone(),metrics:ee.metrics};y(null,W)}})}_doesCharSupportLocalGlyph(d){return!!this.localIdeographFontFamily&&(s.u["CJK Unified Ideographs"](d)||s.u["Hangul Syllables"](d)||s.u.Hiragana(d)||s.u.Katakana(d))}_tinySDF(d,y,A){const I=this.localIdeographFontFamily;if(!I||!this._doesCharSupportLocalGlyph(A))return;let D=d.tinySDF;if(!D){let G="400";/bold/i.test(y)?G="900":/medium/i.test(y)?G="500":/light/i.test(y)&&(G="200"),D=d.tinySDF=new fe.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:I,fontWeight:G})}const W=D.draw(String.fromCharCode(A));return{id:A,bitmap:new s.q({width:W.width||60,height:W.height||60},W.data),metrics:{width:W.glyphWidth/2||24,height:W.glyphHeight/2||24,left:W.glyphLeft/2+.5||0,top:W.glyphTop/2-27.5||-8,advance:W.glyphAdvance/2||24,isDoubleResolution:!0}}}}fe.loadGlyphRange=function(O,d,y,A,I){const D=256*d,W=D+255,G=A.transformRequest(y.replace("{fontstack}",O).replace("{range}",`${D}-${W}`),w.Glyphs);s.l(G,(K,ee)=>{if(K)I(K);else if(ee){const re={};for(const se of s.n(ee))re[se.id]=se;I(null,re)}})},fe.TinySDF=class{constructor({fontSize:O=24,buffer:d=3,radius:y=8,cutoff:A=.25,fontFamily:I="sans-serif",fontWeight:D="normal",fontStyle:W="normal"}={}){this.buffer=d,this.cutoff=A,this.radius=y;const G=this.size=O+4*d,K=this._createCanvas(G),ee=this.ctx=K.getContext("2d",{willReadFrequently:!0});ee.font=`${W} ${D} ${O}px ${I}`,ee.textBaseline="alphabetic",ee.textAlign="left",ee.fillStyle="black",this.gridOuter=new Float64Array(G*G),this.gridInner=new Float64Array(G*G),this.f=new Float64Array(G),this.z=new Float64Array(G+1),this.v=new Uint16Array(G)}_createCanvas(O){const d=document.createElement("canvas");return d.width=d.height=O,d}draw(O){const{width:d,actualBoundingBoxAscent:y,actualBoundingBoxDescent:A,actualBoundingBoxLeft:I,actualBoundingBoxRight:D}=this.ctx.measureText(O),W=Math.ceil(y),G=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(D-I))),K=Math.min(this.size-this.buffer,W+Math.ceil(A)),ee=G+2*this.buffer,re=K+2*this.buffer,se=Math.max(ee*re,0),be=new Uint8ClampedArray(se),Le={data:be,width:ee,height:re,glyphWidth:G,glyphHeight:K,glyphTop:W,glyphLeft:0,glyphAdvance:d};if(G===0||K===0)return Le;const{ctx:Re,buffer:$e,gridInner:Ie,gridOuter:at}=this;Re.clearRect($e,$e,G,K),Re.fillText(O,$e,$e+W);const Mt=Re.getImageData($e,$e,G,K);at.fill(me,0,se),Ie.fill(0,0,se);for(let Ge=0;Ge<K;Ge++)for(let ft=0;ft<G;ft++){const At=Mt.data[4*(Ge*G+ft)+3]/255;if(At===0)continue;const Pt=(Ge+$e)*ee+ft+$e;if(At===1)at[Pt]=0,Ie[Pt]=me;else{const qt=.5-At;at[Pt]=qt>0?qt*qt:0,Ie[Pt]=qt<0?qt*qt:0}}ie(at,0,0,ee,re,ee,this.f,this.v,this.z),ie(Ie,$e,$e,G,K,ee,this.f,this.v,this.z);for(let Ge=0;Ge<se;Ge++){const ft=Math.sqrt(at[Ge])-Math.sqrt(Ie[Ge]);be[Ge]=Math.round(255-255*(ft/this.radius+this.cutoff))}return Le}};class xe{constructor(){this.specification=s.v.light.position}possiblyEvaluate(d,y){return s.z(d.expression.evaluate(y))}interpolate(d,y,A){return{x:s.B.number(d.x,y.x,A),y:s.B.number(d.y,y.y,A),z:s.B.number(d.z,y.z,A)}}}let te;class he extends s.E{constructor(d){super(),te=te||new s.r({anchor:new s.D(s.v.light.anchor),position:new xe,color:new s.D(s.v.light.color),intensity:new s.D(s.v.light.intensity)}),this._transitionable=new s.T(te),this.setLight(d),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(d,y={}){if(!this._validate(s.t,d,y))for(const A in d){const I=d[A];A.endsWith("-transition")?this._transitionable.setTransition(A.slice(0,-11),I):this._transitionable.setValue(A,I)}}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,y,A){return(!A||A.validate!==!1)&&s.x(this,d.call(s.y,s.e({value:y,style:{glyphs:!0,sprite:!0},styleSpec:s.v})))}}class ve{constructor(d,y){this.width=d,this.height=y,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(d,y){const A=d.join(",")+String(y);return this.dashEntry[A]||(this.dashEntry[A]=this.addDash(d,y)),this.dashEntry[A]}getDashRanges(d,y,A){const I=[];let D=d.length%2==1?-d[d.length-1]*A:0,W=d[0]*A,G=!0;I.push({left:D,right:W,isDash:G,zeroLength:d[0]===0});let K=d[0];for(let ee=1;ee<d.length;ee++){G=!G;const re=d[ee];D=K*A,K+=re,W=K*A,I.push({left:D,right:W,isDash:G,zeroLength:re===0})}return I}addRoundDash(d,y,A){const I=y/2;for(let D=-A;D<=A;D++){const W=this.width*(this.nextRow+A+D);let G=0,K=d[G];for(let ee=0;ee<this.width;ee++){ee/K.right>1&&(K=d[++G]);const re=Math.abs(ee-K.left),se=Math.abs(ee-K.right),be=Math.min(re,se);let Le;const Re=D/A*(I+1);if(K.isDash){const $e=I-Math.abs(Re);Le=Math.sqrt(be*be+$e*$e)}else Le=I-Math.sqrt(be*be+Re*Re);this.data[W+ee]=Math.max(0,Math.min(255,Le+128))}}}addRegularDash(d){for(let G=d.length-1;G>=0;--G){const K=d[G],ee=d[G+1];K.zeroLength?d.splice(G,1):ee&&ee.isDash===K.isDash&&(ee.left=K.left,d.splice(G,1))}const y=d[0],A=d[d.length-1];y.isDash===A.isDash&&(y.left=A.left-this.width,A.right=y.right+this.width);const I=this.width*this.nextRow;let D=0,W=d[D];for(let G=0;G<this.width;G++){G/W.right>1&&(W=d[++D]);const K=Math.abs(G-W.left),ee=Math.abs(G-W.right),re=Math.min(K,ee);this.data[I+G]=Math.max(0,Math.min(255,(W.isDash?re:-re)+128))}}addDash(d,y){const A=y?7:0,I=2*A+1;if(this.nextRow+I>this.height)return s.w("LineAtlas out of space"),null;let D=0;for(let G=0;G<d.length;G++)D+=d[G];if(D!==0){const G=this.width/D,K=this.getDashRanges(d,this.width,G);y?this.addRoundDash(K,G,A):this.addRegularDash(K)}const W={y:(this.nextRow+A+.5)/this.height,height:2*A/this.height,width:D};return this.nextRow+=I,this.dirty=!0,W}bind(d){const y=d.gl;this.texture?(y.bindTexture(y.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,y.texSubImage2D(y.TEXTURE_2D,0,0,0,this.width,this.height,y.ALPHA,y.UNSIGNED_BYTE,this.data))):(this.texture=y.createTexture(),y.bindTexture(y.TEXTURE_2D,this.texture),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.REPEAT),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.REPEAT),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.LINEAR),y.texImage2D(y.TEXTURE_2D,0,y.ALPHA,this.width,this.height,0,y.ALPHA,y.UNSIGNED_BYTE,this.data))}}class ze{constructor(d,y,A){this.workerPool=d,this.actors=[],this.currentActor=0,this.id=A;const I=this.workerPool.acquire(A);for(let D=0;D<I.length;D++){const W=new s.C(I[D],y,A);W.name=`Worker ${D}`,this.actors.push(W)}if(!this.actors.length)throw new Error("No actors found")}broadcast(d,y,A){s.o(this.actors,(I,D)=>{I.send(d,y,D)},A=A||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(d=!0){this.actors.forEach(y=>{y.remove()}),this.actors=[],d&&this.workerPool.release(this.id)}}function Ue(O,d,y){const A=function(I,D){if(I)return y(I);if(D){const W=s.F(s.e(D,O),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);D.vector_layers&&(W.vectorLayers=D.vector_layers,W.vectorLayerIds=W.vectorLayers.map(G=>G.id)),y(null,W)}};return O.url?s.f(d.transformRequest(O.url,w.Source),A):s.h.frame(()=>A(null,O))}class rt{constructor(d,y){d&&(y?this.setSouthWest(d).setNorthEast(y):Array.isArray(d)&&(d.length===4?this.setSouthWest([d[0],d[1]]).setNorthEast([d[2],d[3]]):this.setSouthWest(d[0]).setNorthEast(d[1])))}setNorthEast(d){return this._ne=d instanceof s.L?new s.L(d.lng,d.lat):s.L.convert(d),this}setSouthWest(d){return this._sw=d instanceof s.L?new s.L(d.lng,d.lat):s.L.convert(d),this}extend(d){const y=this._sw,A=this._ne;let I,D;if(d instanceof s.L)I=d,D=d;else{if(!(d instanceof rt))return Array.isArray(d)?d.length===4||d.every(Array.isArray)?this.extend(rt.convert(d)):this.extend(s.L.convert(d)):d&&("lng"in d||"lon"in d)&&"lat"in d?this.extend(s.L.convert(d)):this;if(I=d._sw,D=d._ne,!I||!D)return this}return y||A?(y.lng=Math.min(I.lng,y.lng),y.lat=Math.min(I.lat,y.lat),A.lng=Math.max(D.lng,A.lng),A.lat=Math.max(D.lat,A.lat)):(this._sw=new s.L(I.lng,I.lat),this._ne=new s.L(D.lng,D.lat)),this}getCenter(){return new s.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new s.L(this.getWest(),this.getNorth())}getSouthEast(){return new s.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(d){const{lng:y,lat:A}=s.L.convert(d);let I=this._sw.lng<=y&&y<=this._ne.lng;return this._sw.lng>this._ne.lng&&(I=this._sw.lng>=y&&y>=this._ne.lng),this._sw.lat<=A&&A<=this._ne.lat&&I}static convert(d){return d instanceof rt?d:d&&new rt(d)}static fromLngLat(d,y=0){const A=360*y/40075017,I=A/Math.cos(Math.PI/180*d.lat);return new rt(new s.L(d.lng-I,d.lat-A),new s.L(d.lng+I,d.lat+A))}}class Fe{constructor(d,y,A){this.bounds=rt.convert(this.validateBounds(d)),this.minzoom=y||0,this.maxzoom=A||24}validateBounds(d){return Array.isArray(d)&&d.length===4?[Math.max(-180,d[0]),Math.max(-90,d[1]),Math.min(180,d[2]),Math.min(90,d[3])]:[-180,-90,180,90]}contains(d){const y=Math.pow(2,d.z),A=Math.floor(s.G(this.bounds.getWest())*y),I=Math.floor(s.H(this.bounds.getNorth())*y),D=Math.ceil(s.G(this.bounds.getEast())*y),W=Math.ceil(s.H(this.bounds.getSouth())*y);return d.x>=A&&d.x<D&&d.y>=I&&d.y<W}}class st extends s.E{constructor(d,y,A,I){if(super(),this.load=()=>{this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this._tileJSONRequest=Ue(this._options,this.map._requestManager,(D,W)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),D?this.fire(new s.j(D)):W&&(s.e(this,W),W.bounds&&(this.tileBounds=new Fe(W.bounds,this.minzoom,this.maxzoom)),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>s.e({},this._options),this.id=d,this.dispatcher=A,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.e(this,s.F(y,["url","scheme","tileSize","promoteId"])),this._options=s.e({type:"vector"},y),this._collectResourceTiming=y.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(I)}loaded(){return this._loaded}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}onAdd(d){this.map=d,this.load()}setSourceProperty(d){this._tileJSONRequest&&this._tileJSONRequest.cancel(),d(),this.load()}setTiles(d){return this.setSourceProperty(()=>{this._options.tiles=d}),this}setUrl(d){return this.setSourceProperty(()=>{this.url=d,this._options.url=d}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(d,y){const A=d.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),I={request:this.map._requestManager.transformRequest(A,w.Tile),uid:d.uid,tileID:d.tileID,zoom:d.tileID.overscaledZ,tileSize:this.tileSize*d.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function D(W,G){return delete d.request,d.aborted?y(null):W&&W.status!==404?y(W):(G&&G.resourceTiming&&(d.resourceTiming=G.resourceTiming),this.map._refreshExpiredTiles&&G&&d.setExpiryData(G),d.loadVectorData(G,this.map.painter),y(null),void(d.reloadCallback&&(this.loadTile(d,d.reloadCallback),d.reloadCallback=null)))}I.request.collectResourceTiming=this._collectResourceTiming,d.actor&&d.state!=="expired"?d.state==="loading"?d.reloadCallback=y:d.request=d.actor.send("reloadTile",I,D.bind(this)):(d.actor=this.dispatcher.getActor(),d.request=d.actor.send("loadTile",I,D.bind(this)))}abortTile(d){d.request&&(d.request.cancel(),delete d.request),d.actor&&d.actor.send("abortTile",{uid:d.uid,type:this.type,source:this.id},void 0)}unloadTile(d){d.unloadVectorData(),d.actor&&d.actor.send("removeTile",{uid:d.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class ct extends s.E{constructor(d,y,A,I){super(),this.id=d,this.dispatcher=A,this.setEventedParent(I),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.e({type:"raster"},y),s.e(this,s.F(y,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this._tileJSONRequest=Ue(this._options,this.map._requestManager,(d,y)=>{this._tileJSONRequest=null,this._loaded=!0,d?this.fire(new s.j(d)):y&&(s.e(this,y),y.bounds&&(this.tileBounds=new Fe(y.bounds,this.minzoom,this.maxzoom)),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(d){this.map=d,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(d){this._tileJSONRequest&&this._tileJSONRequest.cancel(),d(),this.load()}setTiles(d){return this.setSourceProperty(()=>{this._options.tiles=d}),this}serialize(){return s.e({},this._options)}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}loadTile(d,y){const A=d.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);d.request=S.getImage(this.map._requestManager.transformRequest(A,w.Tile),(I,D,W)=>{if(delete d.request,d.aborted)d.state="unloaded",y(null);else if(I)d.state="errored",y(I);else if(D){this.map._refreshExpiredTiles&&W&&d.setExpiryData(W);const G=this.map.painter.context,K=G.gl;d.texture=this.map.painter.getTileTexture(D.width),d.texture?d.texture.update(D,{useMipmap:!0}):(d.texture=new j(G,D,K.RGBA,{useMipmap:!0}),d.texture.bind(K.LINEAR,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),G.extTextureFilterAnisotropic&&K.texParameterf(K.TEXTURE_2D,G.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,G.extTextureFilterAnisotropicMax)),d.state="loaded",y(null)}},this.map._refreshExpiredTiles)}abortTile(d,y){d.request&&(d.request.cancel(),delete d.request),y()}unloadTile(d,y){d.texture&&this.map.painter.saveTileTexture(d.texture),y()}hasTransition(){return!1}}class Dt extends ct{constructor(d,y,A,I){super(d,y,A,I),this.type="raster-dem",this.maxzoom=22,this._options=s.e({type:"raster-dem"},y),this.encoding=y.encoding||"mapbox",this.redFactor=y.redFactor,this.greenFactor=y.greenFactor,this.blueFactor=y.blueFactor,this.baseShift=y.baseShift}loadTile(d,y){const A=d.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),I=this.map._requestManager.transformRequest(A,w.Tile);function D(W,G){W&&(d.state="errored",y(W)),G&&(d.dem=G,d.needsHillshadePrepare=!0,d.needsTerrainPrepare=!0,d.state="loaded",y(null))}d.neighboringTiles=this._getNeighboringTiles(d.tileID),d.request=S.getImage(I,(W,G,K)=>s._(this,void 0,void 0,function*(){if(delete d.request,d.aborted)d.state="unloaded",y(null);else if(W)d.state="errored",y(W);else if(G){this.map._refreshExpiredTiles&&d.setExpiryData(K);const ee=s.a(G)&&s.J()?G:yield function(se){return s._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&s.K()){const be=se.width+2,Le=se.height+2;try{return new s.R({width:be,height:Le},yield s.M(se,-1,-1,be,Le))}catch{}}return s.h.getImageData(se,1)})}(G),re={uid:d.uid,coord:d.tileID,source:this.id,rawImageData:ee,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};d.actor&&d.state!=="expired"||(d.actor=this.dispatcher.getActor(),d.actor.send("loadDEMTile",re,D))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(d){const y=d.canonical,A=Math.pow(2,y.z),I=(y.x-1+A)%A,D=y.x===0?d.wrap-1:d.wrap,W=(y.x+1+A)%A,G=y.x+1===A?d.wrap+1:d.wrap,K={};return K[new s.O(d.overscaledZ,D,y.z,I,y.y).key]={backfilled:!1},K[new s.O(d.overscaledZ,G,y.z,W,y.y).key]={backfilled:!1},y.y>0&&(K[new s.O(d.overscaledZ,D,y.z,I,y.y-1).key]={backfilled:!1},K[new s.O(d.overscaledZ,d.wrap,y.z,y.x,y.y-1).key]={backfilled:!1},K[new s.O(d.overscaledZ,G,y.z,W,y.y-1).key]={backfilled:!1}),y.y+1<A&&(K[new s.O(d.overscaledZ,D,y.z,I,y.y+1).key]={backfilled:!1},K[new s.O(d.overscaledZ,d.wrap,y.z,y.x,y.y+1).key]={backfilled:!1},K[new s.O(d.overscaledZ,G,y.z,W,y.y+1).key]={backfilled:!1}),K}unloadTile(d){d.demTexture&&this.map.painter.saveTileTexture(d.demTexture),d.fbo&&(d.fbo.destroy(),delete d.fbo),d.dem&&delete d.dem,delete d.neighboringTiles,d.state="unloaded",d.actor&&d.actor.send("removeDEMTile",{uid:d.uid,source:this.id})}}class zt extends s.E{constructor(d,y,A,I){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>s.e({},this._options,{type:this.type,data:this._data}),this.id=d,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=A.getActor(),this.setEventedParent(I),this._data=y.data,this._options=s.e({},y),this._collectResourceTiming=y.collectResourceTiming,y.maxzoom!==void 0&&(this.maxzoom=y.maxzoom),y.type&&(this.type=y.type),y.attribution&&(this.attribution=y.attribution),this.promoteId=y.promoteId;const D=s.N/this.tileSize;this.workerOptions=s.e({source:this.id,cluster:y.cluster||!1,geojsonVtOptions:{buffer:(y.buffer!==void 0?y.buffer:128)*D,tolerance:(y.tolerance!==void 0?y.tolerance:.375)*D,extent:s.N,maxZoom:this.maxzoom,lineMetrics:y.lineMetrics||!1,generateId:y.generateId||!1},superclusterOptions:{maxZoom:y.clusterMaxZoom!==void 0?y.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,y.clusterMinPoints||2),extent:s.N,radius:(y.clusterRadius||50)*D,log:!1,generateId:y.generateId||!1},clusterProperties:y.clusterProperties,filter:y.filter},y.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(d){this.map=d,this.load()}setData(d){return this._data=d,this._updateWorkerData(),this}updateData(d){return this._updateWorkerData(d),this}setClusterOptions(d){return this.workerOptions.cluster=d.cluster,d&&(d.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=d.clusterRadius),d.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=d.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(d,y){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:d,source:this.id},y),this}getClusterChildren(d,y){return this.actor.send("geojson.getClusterChildren",{clusterId:d,source:this.id},y),this}getClusterLeaves(d,y,A,I){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:d,limit:y,offset:A},I),this}_updateWorkerData(d){const y=s.e({},this.workerOptions);d?y.dataDiff=d:typeof this._data=="string"?(y.request=this.map._requestManager.transformRequest(s.h.resolveURL(this._data),w.Source),y.request.collectResourceTiming=this._collectResourceTiming):y.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new s.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,y,(A,I)=>{if(this._pendingLoads--,this._removed||I&&I.abandoned)return void this.fire(new s.k("dataabort",{dataType:"source"}));let D=null;if(I&&I.resourceTiming&&I.resourceTiming[this.id]&&(D=I.resourceTiming[this.id].slice(0)),A)return void this.fire(new s.j(A));const W={dataType:"source"};this._collectResourceTiming&&D&&D.length>0&&s.e(W,{resourceTiming:D}),this.fire(new s.k("data",Object.assign(Object.assign({},W),{sourceDataType:"metadata"}))),this.fire(new s.k("data",Object.assign(Object.assign({},W),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(d,y){const A=d.actor?"reloadTile":"loadTile";d.actor=this.actor;const I={type:this.type,uid:d.uid,tileID:d.tileID,zoom:d.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};d.request=this.actor.send(A,I,(D,W)=>(delete d.request,d.unloadVectorData(),d.aborted?y(null):D?y(D):(d.loadVectorData(W,this.map.painter,A==="reloadTile"),y(null))))}abortTile(d){d.request&&(d.request.cancel(),delete d.request),d.aborted=!0}unloadTile(d){d.unloadVectorData(),this.actor.send("removeTile",{uid:d.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Be=s.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class lt extends s.E{constructor(d,y,A,I){super(),this.load=(D,W)=>{this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=S.getImage(this.map._requestManager.transformRequest(this.url,w.Image),(G,K)=>{this._request=null,this._loaded=!0,G?this.fire(new s.j(G)):K&&(this.image=K,D&&(this.coordinates=D),W&&W(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const D=this.map.painter.context,W=D.gl;this.boundsBuffer||(this.boundsBuffer=D.createVertexBuffer(this._boundsArray,Be.members)),this.boundsSegments||(this.boundsSegments=s.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new j(D,this.image,W.RGBA),this.texture.bind(W.LINEAR,W.CLAMP_TO_EDGE));let G=!1;for(const K in this.tiles){const ee=this.tiles[K];ee.state!=="loaded"&&(ee.state="loaded",ee.texture=this.texture,G=!0)}G&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=d,this.dispatcher=A,this.coordinates=y.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(I),this.options=y}loaded(){return this._loaded}updateImage(d){return d.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=d.url,this.load(d.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(d){this.map=d,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(d){this.coordinates=d;const y=d.map(s.U.fromLngLat);this.tileID=function(I){let D=1/0,W=1/0,G=-1/0,K=-1/0;for(const be of I)D=Math.min(D,be.x),W=Math.min(W,be.y),G=Math.max(G,be.x),K=Math.max(K,be.y);const ee=Math.max(G-D,K-W),re=Math.max(0,Math.floor(-Math.log(ee)/Math.LN2)),se=Math.pow(2,re);return new s.W(re,Math.floor((D+G)/2*se),Math.floor((W+K)/2*se))}(y),this.minzoom=this.maxzoom=this.tileID.z;const A=y.map(I=>this.tileID.getTilePoint(I)._round());return this._boundsArray=new s.V,this._boundsArray.emplaceBack(A[0].x,A[0].y,0,0),this._boundsArray.emplaceBack(A[1].x,A[1].y,s.N,0),this._boundsArray.emplaceBack(A[3].x,A[3].y,0,s.N),this._boundsArray.emplaceBack(A[2].x,A[2].y,s.N,s.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(d,y){this.tileID&&this.tileID.equals(d.tileID.canonical)?(this.tiles[String(d.tileID.wrap)]=d,d.buckets={},y(null)):(d.state="errored",y(null))}hasTransition(){return!1}}class Qe extends lt{constructor(d,y,A,I){super(d,y,A,I),this.load=()=>{this._loaded=!1;const D=this.options;this.urls=[];for(const W of D.urls)this.urls.push(this.map._requestManager.transformRequest(W,w.Source).url);s.X(this.urls,(W,G)=>{this._loaded=!0,W?this.fire(new s.j(W)):G&&(this.video=G,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const D=this.map.painter.context,W=D.gl;this.boundsBuffer||(this.boundsBuffer=D.createVertexBuffer(this._boundsArray,Be.members)),this.boundsSegments||(this.boundsSegments=s.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(W.LINEAR,W.CLAMP_TO_EDGE),W.texSubImage2D(W.TEXTURE_2D,0,0,0,W.RGBA,W.UNSIGNED_BYTE,this.video)):(this.texture=new j(D,this.video,W.RGBA),this.texture.bind(W.LINEAR,W.CLAMP_TO_EDGE));let G=!1;for(const K in this.tiles){const ee=this.tiles[K];ee.state!=="loaded"&&(ee.state="loaded",ee.texture=this.texture,G=!0)}G&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=y}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(d){if(this.video){const y=this.video.seekable;d<y.start(0)||d>y.end(0)?this.fire(new s.j(new s.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${y.start(0)} and ${y.end(0)}-second mark.`))):this.video.currentTime=d}}getVideo(){return this.video}onAdd(d){this.map||(this.map=d,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class ge extends lt{constructor(d,y,A,I){super(d,y,A,I),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let D=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,D=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,D=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const W=this.map.painter.context,G=W.gl;this.boundsBuffer||(this.boundsBuffer=W.createVertexBuffer(this._boundsArray,Be.members)),this.boundsSegments||(this.boundsSegments=s.S.simpleSegment(0,0,4,2)),this.texture?(D||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new j(W,this.canvas,G.RGBA,{premultiply:!0});let K=!1;for(const ee in this.tiles){const re=this.tiles[ee];re.state!=="loaded"&&(re.state="loaded",re.texture=this.texture,K=!0)}K&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),y.coordinates?Array.isArray(y.coordinates)&&y.coordinates.length===4&&!y.coordinates.some(D=>!Array.isArray(D)||D.length!==2||D.some(W=>typeof W!="number"))||this.fire(new s.j(new s.Y(`sources.${d}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.j(new s.Y(`sources.${d}`,null,'missing required property "coordinates"'))),y.animate&&typeof y.animate!="boolean"&&this.fire(new s.j(new s.Y(`sources.${d}`,null,'optional "animate" property must be a boolean value'))),y.canvas?typeof y.canvas=="string"||y.canvas instanceof HTMLCanvasElement||this.fire(new s.j(new s.Y(`sources.${d}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.j(new s.Y(`sources.${d}`,null,'missing required property "canvas"'))),this.options=y,this.animate=y.animate===void 0||y.animate}getCanvas(){return this.canvas}onAdd(d){this.map=d,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const d of[this.canvas.width,this.canvas.height])if(isNaN(d)||d<=0)return!0;return!1}}const et={},ot=O=>{switch(O){case"geojson":return zt;case"image":return lt;case"raster":return ct;case"raster-dem":return Dt;case"vector":return st;case"video":return Qe;case"canvas":return ge}return et[O]};function Tt(O,d){const y=s.Z();return s.$(y,y,[1,1,0]),s.a0(y,y,[.5*O.width,.5*O.height,1]),s.a1(y,y,O.calculatePosMatrix(d.toUnwrapped()))}function Ct(O,d,y,A,I,D){const W=function(se,be,Le){if(se)for(const Re of se){const $e=be[Re];if($e&&$e.source===Le&&$e.type==="fill-extrusion")return!0}else for(const Re in be){const $e=be[Re];if($e.source===Le&&$e.type==="fill-extrusion")return!0}return!1}(I&&I.layers,d,O.id),G=D.maxPitchScaleFactor(),K=O.tilesIn(A,G,W);K.sort(Ft);const ee=[];for(const se of K)ee.push({wrappedTileID:se.tileID.wrapped().key,queryResults:se.tile.queryRenderedFeatures(d,y,O._state,se.queryGeometry,se.cameraQueryGeometry,se.scale,I,D,G,Tt(O.transform,se.tileID))});const re=function(se){const be={},Le={};for(const Re of se){const $e=Re.queryResults,Ie=Re.wrappedTileID,at=Le[Ie]=Le[Ie]||{};for(const Mt in $e){const Ge=$e[Mt],ft=at[Mt]=at[Mt]||{},At=be[Mt]=be[Mt]||[];for(const Pt of Ge)ft[Pt.featureIndex]||(ft[Pt.featureIndex]=!0,At.push(Pt))}}return be}(ee);for(const se in re)re[se].forEach(be=>{const Le=be.feature,Re=O.getFeatureState(Le.layer["source-layer"],Le.id);Le.source=Le.layer.source,Le.layer["source-layer"]&&(Le.sourceLayer=Le.layer["source-layer"]),Le.state=Re});return re}function Ft(O,d){const y=O.tileID,A=d.tileID;return y.overscaledZ-A.overscaledZ||y.canonical.y-A.canonical.y||y.wrap-A.wrap||y.canonical.x-A.canonical.x}class Gt{constructor(d,y){this.timeAdded=0,this.fadeEndTime=0,this.tileID=d,this.uid=s.a2(),this.uses=0,this.tileSize=y,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(d){const y=d+this.timeAdded;y<this.fadeEndTime||(this.fadeEndTime=y)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(d){this.demTexture&&d.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(d,y,A){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",d){d.featureIndex&&(this.latestFeatureIndex=d.featureIndex,d.rawTileData?(this.latestRawTileData=d.rawTileData,this.latestFeatureIndex.rawTileData=d.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=d.collisionBoxArray,this.buckets=function(I,D){const W={};if(!D)return W;for(const G of I){const K=G.layerIds.map(ee=>D.getLayer(ee)).filter(Boolean);if(K.length!==0){G.layers=K,G.stateDependentLayerIds&&(G.stateDependentLayers=G.stateDependentLayerIds.map(ee=>K.filter(re=>re.id===ee)[0]));for(const ee of K)W[ee.id]=G}}return W}(d.buckets,y.style),this.hasSymbolBuckets=!1;for(const I in this.buckets){const D=this.buckets[I];if(D instanceof s.a4){if(this.hasSymbolBuckets=!0,!A)break;D.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const I in this.buckets){const D=this.buckets[I];if(D instanceof s.a4&&D.hasRTLText){this.hasRTLText=!0,s.a5();break}}this.queryPadding=0;for(const I in this.buckets){const D=this.buckets[I];this.queryPadding=Math.max(this.queryPadding,y.style.getLayer(I).queryRadius(D))}d.imageAtlas&&(this.imageAtlas=d.imageAtlas),d.glyphAtlasImage&&(this.glyphAtlasImage=d.glyphAtlasImage)}else this.collisionBoxArray=new s.a3}unloadVectorData(){for(const d in this.buckets)this.buckets[d].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(d){return this.buckets[d.id]}upload(d){for(const A in this.buckets){const I=this.buckets[A];I.uploadPending()&&I.upload(d)}const y=d.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new j(d,this.imageAtlas.image,y.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new j(d,this.glyphAtlasImage,y.ALPHA),this.glyphAtlasImage=null)}prepare(d){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(d,this.imageAtlasTexture)}queryRenderedFeatures(d,y,A,I,D,W,G,K,ee,re){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:I,cameraQueryGeometry:D,scale:W,tileSize:this.tileSize,pixelPosMatrix:re,transform:K,params:G,queryPadding:this.queryPadding*ee},d,y,A):{}}querySourceFeatures(d,y){const A=this.latestFeatureIndex;if(!A||!A.rawTileData)return;const I=A.loadVTLayers(),D=y&&y.sourceLayer?y.sourceLayer:"",W=I._geojsonTileLayer||I[D];if(!W)return;const G=s.a6(y&&y.filter),{z:K,x:ee,y:re}=this.tileID.canonical,se={z:K,x:ee,y:re};for(let be=0;be<W.length;be++){const Le=W.feature(be);if(G.needGeometry){const Ie=s.a7(Le,!0);if(!G.filter(new s.a8(this.tileID.overscaledZ),Ie,this.tileID.canonical))continue}else if(!G.filter(new s.a8(this.tileID.overscaledZ),Le))continue;const Re=A.getId(Le,D),$e=new s.a9(Le,K,ee,re,Re);$e.tile=se,d.push($e)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(d){const y=this.expirationTime;if(d.cacheControl){const A=s.aa(d.cacheControl);A["max-age"]&&(this.expirationTime=Date.now()+1e3*A["max-age"])}else d.expires&&(this.expirationTime=new Date(d.expires).getTime());if(this.expirationTime){const A=Date.now();let I=!1;if(this.expirationTime>A)I=!1;else if(y)if(this.expirationTime<y)I=!0;else{const D=this.expirationTime-y;D?this.expirationTime=A+Math.max(D,3e4):I=!0}else I=!0;I?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(d,y){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(d).length===0)return;const A=this.latestFeatureIndex.loadVTLayers();for(const I in this.buckets){if(!y.style.hasLayer(I))continue;const D=this.buckets[I],W=D.layers[0].sourceLayer||"_geojsonTileLayer",G=A[W],K=d[W];if(!G||!K||Object.keys(K).length===0)continue;D.update(K,G,this.imageAtlas&&this.imageAtlas.patternPositions||{});const ee=y&&y.style&&y.style.getLayer(I);ee&&(this.queryPadding=Math.max(this.queryPadding,ee.queryRadius(D)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<s.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(d){this.symbolFadeHoldUntil=s.h.now()+d}setDependencies(d,y){const A={};for(const I of y)A[I]=!0;this.dependencies[d]=A}hasDependency(d,y){for(const A of d){const I=this.dependencies[A];if(I){for(const D of y)if(I[D])return!0}}return!1}}class sn{constructor(d,y){this.max=d,this.onRemove=y,this.reset()}reset(){for(const d in this.data)for(const y of this.data[d])y.timeout&&clearTimeout(y.timeout),this.onRemove(y.value);return this.data={},this.order=[],this}add(d,y,A){const I=d.wrapped().key;this.data[I]===void 0&&(this.data[I]=[]);const D={value:y,timeout:void 0};if(A!==void 0&&(D.timeout=setTimeout(()=>{this.remove(d,D)},A)),this.data[I].push(D),this.order.push(I),this.order.length>this.max){const W=this._getAndRemoveByKey(this.order[0]);W&&this.onRemove(W)}return this}has(d){return d.wrapped().key in this.data}getAndRemove(d){return this.has(d)?this._getAndRemoveByKey(d.wrapped().key):null}_getAndRemoveByKey(d){const y=this.data[d].shift();return y.timeout&&clearTimeout(y.timeout),this.data[d].length===0&&delete this.data[d],this.order.splice(this.order.indexOf(d),1),y.value}getByKey(d){const y=this.data[d];return y?y[0].value:null}get(d){return this.has(d)?this.data[d.wrapped().key][0].value:null}remove(d,y){if(!this.has(d))return this;const A=d.wrapped().key,I=y===void 0?0:this.data[A].indexOf(y),D=this.data[A][I];return this.data[A].splice(I,1),D.timeout&&clearTimeout(D.timeout),this.data[A].length===0&&delete this.data[A],this.onRemove(D.value),this.order.splice(this.order.indexOf(A),1),this}setMaxSize(d){for(this.max=d;this.order.length>this.max;){const y=this._getAndRemoveByKey(this.order[0]);y&&this.onRemove(y)}return this}filter(d){const y=[];for(const A in this.data)for(const I of this.data[A])d(I.value)||y.push(I);for(const A of y)this.remove(A.value.tileID,A)}}class Je{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(d,y,A){const I=String(y);if(this.stateChanges[d]=this.stateChanges[d]||{},this.stateChanges[d][I]=this.stateChanges[d][I]||{},s.e(this.stateChanges[d][I],A),this.deletedStates[d]===null){this.deletedStates[d]={};for(const D in this.state[d])D!==I&&(this.deletedStates[d][D]=null)}else if(this.deletedStates[d]&&this.deletedStates[d][I]===null){this.deletedStates[d][I]={};for(const D in this.state[d][I])A[D]||(this.deletedStates[d][I][D]=null)}else for(const D in A)this.deletedStates[d]&&this.deletedStates[d][I]&&this.deletedStates[d][I][D]===null&&delete this.deletedStates[d][I][D]}removeFeatureState(d,y,A){if(this.deletedStates[d]===null)return;const I=String(y);if(this.deletedStates[d]=this.deletedStates[d]||{},A&&y!==void 0)this.deletedStates[d][I]!==null&&(this.deletedStates[d][I]=this.deletedStates[d][I]||{},this.deletedStates[d][I][A]=null);else if(y!==void 0)if(this.stateChanges[d]&&this.stateChanges[d][I])for(A in this.deletedStates[d][I]={},this.stateChanges[d][I])this.deletedStates[d][I][A]=null;else this.deletedStates[d][I]=null;else this.deletedStates[d]=null}getState(d,y){const A=String(y),I=s.e({},(this.state[d]||{})[A],(this.stateChanges[d]||{})[A]);if(this.deletedStates[d]===null)return{};if(this.deletedStates[d]){const D=this.deletedStates[d][y];if(D===null)return{};for(const W in D)delete I[W]}return I}initializeTileState(d,y){d.setFeatureState(this.state,y)}coalesceChanges(d,y){const A={};for(const I in this.stateChanges){this.state[I]=this.state[I]||{};const D={};for(const W in this.stateChanges[I])this.state[I][W]||(this.state[I][W]={}),s.e(this.state[I][W],this.stateChanges[I][W]),D[W]=this.state[I][W];A[I]=D}for(const I in this.deletedStates){this.state[I]=this.state[I]||{};const D={};if(this.deletedStates[I]===null)for(const W in this.state[I])D[W]={},this.state[I][W]={};else for(const W in this.deletedStates[I]){if(this.deletedStates[I][W]===null)this.state[I][W]={};else for(const G of Object.keys(this.deletedStates[I][W]))delete this.state[I][W][G];D[W]=this.state[I][W]}A[I]=A[I]||{},s.e(A[I],D)}if(this.stateChanges={},this.deletedStates={},Object.keys(A).length!==0)for(const I in d)d[I].setFeatureState(A,y)}}class Ce extends s.E{constructor(d,y,A){super(),this.id=d,this.dispatcher=A,this.on("data",I=>{I.dataType==="source"&&I.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&I.dataType==="source"&&I.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((I,D,W,G)=>{const K=new(ot(D.type))(I,D,W,G);if(K.id!==I)throw new Error(`Expected Source id to be ${I} instead of ${K.id}`);return K})(d,y,A,this),this._tiles={},this._cache=new sn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Je,this._didEmitContent=!1,this._updated=!1}onAdd(d){this.map=d,this._maxTileCacheSize=d?d._maxTileCacheSize:null,this._maxTileCacheZoomLevels=d?d._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(d)}onRemove(d){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(d)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const d in this._tiles){const y=this._tiles[d];if(y.state!=="loaded"&&y.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const d=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,d&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(d,y){return this._source.loadTile(d,y)}_unloadTile(d){if(this._source.unloadTile)return this._source.unloadTile(d,()=>{})}_abortTile(d){this._source.abortTile&&this._source.abortTile(d,()=>{}),this._source.fire(new s.k("dataabort",{tile:d,coord:d.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(d){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const y in this._tiles){const A=this._tiles[y];A.upload(d),A.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(d=>d.tileID).sort(_e).map(d=>d.key)}getRenderableIds(d){const y=[];for(const A in this._tiles)this._isIdRenderable(A,d)&&y.push(this._tiles[A]);return d?y.sort((A,I)=>{const D=A.tileID,W=I.tileID,G=new s.P(D.canonical.x,D.canonical.y)._rotate(this.transform.angle),K=new s.P(W.canonical.x,W.canonical.y)._rotate(this.transform.angle);return D.overscaledZ-W.overscaledZ||K.y-G.y||K.x-G.x}).map(A=>A.tileID.key):y.map(A=>A.tileID).sort(_e).map(A=>A.key)}hasRenderableParent(d){const y=this.findLoadedParent(d,0);return!!y&&this._isIdRenderable(y.tileID.key)}_isIdRenderable(d,y){return this._tiles[d]&&this._tiles[d].hasData()&&!this._coveredTiles[d]&&(y||!this._tiles[d].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const d in this._tiles)this._tiles[d].state!=="errored"&&this._reloadTile(d,"reloading")}}_reloadTile(d,y){const A=this._tiles[d];A&&(A.state!=="loading"&&(A.state=y),this._loadTile(A,this._tileLoaded.bind(this,A,d,y)))}_tileLoaded(d,y,A,I){if(I)return d.state="errored",void(I.status!==404?this._source.fire(new s.j(I,{tile:d})):this.update(this.transform,this.terrain));d.timeAdded=s.h.now(),A==="expired"&&(d.refreshedUponExpiration=!0),this._setTileReloadTimer(y,d),this.getSource().type==="raster-dem"&&d.dem&&this._backfillDEM(d),this._state.initializeTileState(d,this.map?this.map.painter:null),d.aborted||this._source.fire(new s.k("data",{dataType:"source",tile:d,coord:d.tileID}))}_backfillDEM(d){const y=this.getRenderableIds();for(let I=0;I<y.length;I++){const D=y[I];if(d.neighboringTiles&&d.neighboringTiles[D]){const W=this.getTileByID(D);A(d,W),A(W,d)}}function A(I,D){I.needsHillshadePrepare=!0,I.needsTerrainPrepare=!0;let W=D.tileID.canonical.x-I.tileID.canonical.x;const G=D.tileID.canonical.y-I.tileID.canonical.y,K=Math.pow(2,I.tileID.canonical.z),ee=D.tileID.key;W===0&&G===0||Math.abs(G)>1||(Math.abs(W)>1&&(Math.abs(W+K)===1?W+=K:Math.abs(W-K)===1&&(W-=K)),D.dem&&I.dem&&(I.dem.backfillBorder(D.dem,W,G),I.neighboringTiles&&I.neighboringTiles[ee]&&(I.neighboringTiles[ee].backfilled=!0)))}}getTile(d){return this.getTileByID(d.key)}getTileByID(d){return this._tiles[d]}_retainLoadedChildren(d,y,A,I){for(const D in this._tiles){let W=this._tiles[D];if(I[D]||!W.hasData()||W.tileID.overscaledZ<=y||W.tileID.overscaledZ>A)continue;let G=W.tileID;for(;W&&W.tileID.overscaledZ>y+1;){const ee=W.tileID.scaledTo(W.tileID.overscaledZ-1);W=this._tiles[ee.key],W&&W.hasData()&&(G=ee)}let K=G;for(;K.overscaledZ>y;)if(K=K.scaledTo(K.overscaledZ-1),d[K.key]){I[G.key]=G;break}}}findLoadedParent(d,y){if(d.key in this._loadedParentTiles){const A=this._loadedParentTiles[d.key];return A&&A.tileID.overscaledZ>=y?A:null}for(let A=d.overscaledZ-1;A>=y;A--){const I=d.scaledTo(A),D=this._getLoadedTile(I);if(D)return D}}_getLoadedTile(d){const y=this._tiles[d.key];return y&&y.hasData()?y:this._cache.getByKey(d.wrapped().key)}updateCacheSize(d){const y=Math.ceil(d.width/this._source.tileSize)+1,A=Math.ceil(d.height/this._source.tileSize)+1,I=Math.floor(y*A*(this._maxTileCacheZoomLevels===null?s.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),D=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,I):I;this._cache.setMaxSize(D)}handleWrapJump(d){const y=Math.round((d-(this._prevLng===void 0?d:this._prevLng))/360);if(this._prevLng=d,y){const A={};for(const I in this._tiles){const D=this._tiles[I];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+y),A[D.tileID.key]=D}this._tiles=A;for(const I in this._timers)clearTimeout(this._timers[I]),delete this._timers[I];for(const I in this._tiles)this._setTileReloadTimer(I,this._tiles[I])}}update(d,y){if(this.transform=d,this.terrain=y,!this._sourceLoaded||this._paused)return;let A;this.updateCacheSize(d),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?A=d.getVisibleUnwrappedCoordinates(this._source.tileID).map(re=>new s.O(re.canonical.z,re.wrap,re.canonical.z,re.canonical.x,re.canonical.y)):(A=d.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:y}),this._source.hasTile&&(A=A.filter(re=>this._source.hasTile(re)))):A=[];const I=d.coveringZoomLevel(this._source),D=Math.max(I-Ce.maxOverzooming,this._source.minzoom),W=Math.max(I+Ce.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const re={};for(const se of A)if(se.canonical.z>this._source.minzoom){const be=se.scaledTo(se.canonical.z-1);re[be.key]=be;const Le=se.scaledTo(Math.max(this._source.minzoom,Math.min(se.canonical.z,5)));re[Le.key]=Le}A=A.concat(Object.values(re))}const G=A.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,G&&this.fire(new s.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const K=this._updateRetainedTiles(A,I);if(ht(this._source.type)){const re={},se={},be=Object.keys(K),Le=s.h.now();for(const Re of be){const $e=K[Re],Ie=this._tiles[Re];if(!Ie||Ie.fadeEndTime!==0&&Ie.fadeEndTime<=Le)continue;const at=this.findLoadedParent($e,D);at&&(this._addTile(at.tileID),re[at.tileID.key]=at.tileID),se[Re]=$e}this._retainLoadedChildren(se,I,W,K);for(const Re in re)K[Re]||(this._coveredTiles[Re]=!0,K[Re]=re[Re]);if(y){const Re={},$e={};for(const Ie of A)this._tiles[Ie.key].hasData()?Re[Ie.key]=Ie:$e[Ie.key]=Ie;for(const Ie in $e){const at=$e[Ie].children(this._source.maxzoom);this._tiles[at[0].key]&&this._tiles[at[1].key]&&this._tiles[at[2].key]&&this._tiles[at[3].key]&&(Re[at[0].key]=K[at[0].key]=at[0],Re[at[1].key]=K[at[1].key]=at[1],Re[at[2].key]=K[at[2].key]=at[2],Re[at[3].key]=K[at[3].key]=at[3],delete $e[Ie])}for(const Ie in $e){const at=this.findLoadedParent($e[Ie],this._source.minzoom);if(at){Re[at.tileID.key]=K[at.tileID.key]=at.tileID;for(const Mt in Re)Re[Mt].isChildOf(at.tileID)&&delete Re[Mt]}}for(const Ie in this._tiles)Re[Ie]||(this._coveredTiles[Ie]=!0)}}for(const re in K)this._tiles[re].clearFadeHold();const ee=s.ab(this._tiles,K);for(const re of ee){const se=this._tiles[re];se.hasSymbolBuckets&&!se.holdingForFade()?se.setHoldDuration(this.map._fadeDuration):se.hasSymbolBuckets&&!se.symbolFadeFinished()||this._removeTile(re)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const d in this._tiles)this._tiles[d].holdingForFade()&&this._removeTile(d)}_updateRetainedTiles(d,y){const A={},I={},D=Math.max(y-Ce.maxOverzooming,this._source.minzoom),W=Math.max(y+Ce.maxUnderzooming,this._source.minzoom),G={};for(const K of d){const ee=this._addTile(K);A[K.key]=K,ee.hasData()||y<this._source.maxzoom&&(G[K.key]=K)}this._retainLoadedChildren(G,y,W,A);for(const K of d){let ee=this._tiles[K.key];if(ee.hasData())continue;if(y+1>this._source.maxzoom){const se=K.children(this._source.maxzoom)[0],be=this.getTile(se);if(be&&be.hasData()){A[se.key]=se;continue}}else{const se=K.children(this._source.maxzoom);if(A[se[0].key]&&A[se[1].key]&&A[se[2].key]&&A[se[3].key])continue}let re=ee.wasRequested();for(let se=K.overscaledZ-1;se>=D;--se){const be=K.scaledTo(se);if(I[be.key])break;if(I[be.key]=!0,ee=this.getTile(be),!ee&&re&&(ee=this._addTile(be)),ee){const Le=ee.hasData();if((re||Le)&&(A[be.key]=be),re=ee.wasRequested(),Le)break}}}return A}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const d in this._tiles){const y=[];let A,I=this._tiles[d].tileID;for(;I.overscaledZ>0;){if(I.key in this._loadedParentTiles){A=this._loadedParentTiles[I.key];break}y.push(I.key);const D=I.scaledTo(I.overscaledZ-1);if(A=this._getLoadedTile(D),A)break;I=D}for(const D of y)this._loadedParentTiles[D]=A}}_addTile(d){let y=this._tiles[d.key];if(y)return y;y=this._cache.getAndRemove(d),y&&(this._setTileReloadTimer(d.key,y),y.tileID=d,this._state.initializeTileState(y,this.map?this.map.painter:null),this._cacheTimers[d.key]&&(clearTimeout(this._cacheTimers[d.key]),delete this._cacheTimers[d.key],this._setTileReloadTimer(d.key,y)));const A=y;return y||(y=new Gt(d,this._source.tileSize*d.overscaleFactor()),this._loadTile(y,this._tileLoaded.bind(this,y,d.key,y.state))),y.uses++,this._tiles[d.key]=y,A||this._source.fire(new s.k("dataloading",{tile:y,coord:y.tileID,dataType:"source"})),y}_setTileReloadTimer(d,y){d in this._timers&&(clearTimeout(this._timers[d]),delete this._timers[d]);const A=y.getExpiryTimeout();A&&(this._timers[d]=setTimeout(()=>{this._reloadTile(d,"expired"),delete this._timers[d]},A))}_removeTile(d){const y=this._tiles[d];y&&(y.uses--,delete this._tiles[d],this._timers[d]&&(clearTimeout(this._timers[d]),delete this._timers[d]),y.uses>0||(y.hasData()&&y.state!=="reloading"?this._cache.add(y.tileID,y,y.getExpiryTimeout()):(y.aborted=!0,this._abortTile(y),this._unloadTile(y))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const d in this._tiles)this._removeTile(d);this._cache.reset()}tilesIn(d,y,A){const I=[],D=this.transform;if(!D)return I;const W=A?D.getCameraQueryGeometry(d):d,G=d.map(Re=>D.pointCoordinate(Re,this.terrain)),K=W.map(Re=>D.pointCoordinate(Re,this.terrain)),ee=this.getIds();let re=1/0,se=1/0,be=-1/0,Le=-1/0;for(const Re of K)re=Math.min(re,Re.x),se=Math.min(se,Re.y),be=Math.max(be,Re.x),Le=Math.max(Le,Re.y);for(let Re=0;Re<ee.length;Re++){const $e=this._tiles[ee[Re]];if($e.holdingForFade())continue;const Ie=$e.tileID,at=Math.pow(2,D.zoom-$e.tileID.overscaledZ),Mt=y*$e.queryPadding*s.N/$e.tileSize/at,Ge=[Ie.getTilePoint(new s.U(re,se)),Ie.getTilePoint(new s.U(be,Le))];if(Ge[0].x-Mt<s.N&&Ge[0].y-Mt<s.N&&Ge[1].x+Mt>=0&&Ge[1].y+Mt>=0){const ft=G.map(Pt=>Ie.getTilePoint(Pt)),At=K.map(Pt=>Ie.getTilePoint(Pt));I.push({tile:$e,tileID:Ie,queryGeometry:ft,cameraQueryGeometry:At,scale:at})}}return I}getVisibleCoordinates(d){const y=this.getRenderableIds(d).map(A=>this._tiles[A].tileID);for(const A of y)A.posMatrix=this.transform.calculatePosMatrix(A.toUnwrapped());return y}hasTransition(){if(this._source.hasTransition())return!0;if(ht(this._source.type)){const d=s.h.now();for(const y in this._tiles)if(this._tiles[y].fadeEndTime>=d)return!0}return!1}setFeatureState(d,y,A){this._state.updateState(d=d||"_geojsonTileLayer",y,A)}removeFeatureState(d,y,A){this._state.removeFeatureState(d=d||"_geojsonTileLayer",y,A)}getFeatureState(d,y){return this._state.getState(d=d||"_geojsonTileLayer",y)}setDependencies(d,y,A){const I=this._tiles[d];I&&I.setDependencies(y,A)}reloadTilesForDependencies(d,y){for(const A in this._tiles)this._tiles[A].hasDependency(d,y)&&this._reloadTile(A,"reloading");this._cache.filter(A=>!A.hasDependency(d,y))}}function _e(O,d){const y=Math.abs(2*O.wrap)-+(O.wrap<0),A=Math.abs(2*d.wrap)-+(d.wrap<0);return O.overscaledZ-d.overscaledZ||A-y||d.canonical.y-O.canonical.y||d.canonical.x-O.canonical.x}function ht(O){return O==="raster"||O==="image"||O==="video"}Ce.maxOverzooming=10,Ce.maxUnderzooming=3;const dt="mapboxgl_preloaded_worker_pool";class Wt{constructor(){this.active={}}acquire(d){if(!this.workers)for(this.workers=[];this.workers.length<Wt.workerCount;)this.workers.push(new Worker(s.c.WORKER_URL));return this.active[d]=!0,this.workers.slice()}release(d){delete this.active[d],this.numActive()===0&&(this.workers.forEach(y=>{y.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[dt]}numActive(){return Object.keys(this.active).length}}const jt=Math.floor(s.h.hardwareConcurrency/2);let Mn;function cn(){return Mn||(Mn=new Wt),Mn}Wt.workerCount=s.ac(globalThis)?Math.max(Math.min(jt,3),1):1;class Rt{constructor(d,y){this.reset(d,y)}reset(d,y){this.points=d||[],this._distances=[0];for(let A=1;A<this.points.length;A++)this._distances[A]=this._distances[A-1]+this.points[A].dist(this.points[A-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(y||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(d){if(this.points.length===1)return this.points[0];d=s.ad(d,0,1);let y=1,A=this._distances[y];const I=d*this.paddedLength+this.padding;for(;A<I&&y<this._distances.length;)A=this._distances[++y];const D=y-1,W=this._distances[D],G=A-W,K=G>0?(I-W)/G:0;return this.points[D].mult(1-K).add(this.points[y].mult(K))}}function nn(O,d){let y=!0;return O==="always"||O!=="never"&&d!=="never"||(y=!1),y}class Pn{constructor(d,y,A){const I=this.boxCells=[],D=this.circleCells=[];this.xCellCount=Math.ceil(d/A),this.yCellCount=Math.ceil(y/A);for(let W=0;W<this.xCellCount*this.yCellCount;W++)I.push([]),D.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=d,this.height=y,this.xScale=this.xCellCount/d,this.yScale=this.yCellCount/y,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(d,y,A,I,D){this._forEachCell(y,A,I,D,this._insertBoxCell,this.boxUid++),this.boxKeys.push(d),this.bboxes.push(y),this.bboxes.push(A),this.bboxes.push(I),this.bboxes.push(D)}insertCircle(d,y,A,I){this._forEachCell(y-I,A-I,y+I,A+I,this._insertCircleCell,this.circleUid++),this.circleKeys.push(d),this.circles.push(y),this.circles.push(A),this.circles.push(I)}_insertBoxCell(d,y,A,I,D,W){this.boxCells[D].push(W)}_insertCircleCell(d,y,A,I,D,W){this.circleCells[D].push(W)}_query(d,y,A,I,D,W,G){if(A<0||d>this.width||I<0||y>this.height)return[];const K=[];if(d<=0&&y<=0&&this.width<=A&&this.height<=I){if(D)return[{key:null,x1:d,y1:y,x2:A,y2:I}];for(let ee=0;ee<this.boxKeys.length;ee++)K.push({key:this.boxKeys[ee],x1:this.bboxes[4*ee],y1:this.bboxes[4*ee+1],x2:this.bboxes[4*ee+2],y2:this.bboxes[4*ee+3]});for(let ee=0;ee<this.circleKeys.length;ee++){const re=this.circles[3*ee],se=this.circles[3*ee+1],be=this.circles[3*ee+2];K.push({key:this.circleKeys[ee],x1:re-be,y1:se-be,x2:re+be,y2:se+be})}}else this._forEachCell(d,y,A,I,this._queryCell,K,{hitTest:D,overlapMode:W,seenUids:{box:{},circle:{}}},G);return K}query(d,y,A,I){return this._query(d,y,A,I,!1,null)}hitTest(d,y,A,I,D,W){return this._query(d,y,A,I,!0,D,W).length>0}hitTestCircle(d,y,A,I,D){const W=d-A,G=d+A,K=y-A,ee=y+A;if(G<0||W>this.width||ee<0||K>this.height)return!1;const re=[];return this._forEachCell(W,K,G,ee,this._queryCellCircle,re,{hitTest:!0,overlapMode:I,circle:{x:d,y,radius:A},seenUids:{box:{},circle:{}}},D),re.length>0}_queryCell(d,y,A,I,D,W,G,K){const{seenUids:ee,hitTest:re,overlapMode:se}=G,be=this.boxCells[D];if(be!==null){const Re=this.bboxes;for(const $e of be)if(!ee.box[$e]){ee.box[$e]=!0;const Ie=4*$e,at=this.boxKeys[$e];if(d<=Re[Ie+2]&&y<=Re[Ie+3]&&A>=Re[Ie+0]&&I>=Re[Ie+1]&&(!K||K(at))&&(!re||!nn(se,at.overlapMode))&&(W.push({key:at,x1:Re[Ie],y1:Re[Ie+1],x2:Re[Ie+2],y2:Re[Ie+3]}),re))return!0}}const Le=this.circleCells[D];if(Le!==null){const Re=this.circles;for(const $e of Le)if(!ee.circle[$e]){ee.circle[$e]=!0;const Ie=3*$e,at=this.circleKeys[$e];if(this._circleAndRectCollide(Re[Ie],Re[Ie+1],Re[Ie+2],d,y,A,I)&&(!K||K(at))&&(!re||!nn(se,at.overlapMode))){const Mt=Re[Ie],Ge=Re[Ie+1],ft=Re[Ie+2];if(W.push({key:at,x1:Mt-ft,y1:Ge-ft,x2:Mt+ft,y2:Ge+ft}),re)return!0}}}return!1}_queryCellCircle(d,y,A,I,D,W,G,K){const{circle:ee,seenUids:re,overlapMode:se}=G,be=this.boxCells[D];if(be!==null){const Re=this.bboxes;for(const $e of be)if(!re.box[$e]){re.box[$e]=!0;const Ie=4*$e,at=this.boxKeys[$e];if(this._circleAndRectCollide(ee.x,ee.y,ee.radius,Re[Ie+0],Re[Ie+1],Re[Ie+2],Re[Ie+3])&&(!K||K(at))&&!nn(se,at.overlapMode))return W.push(!0),!0}}const Le=this.circleCells[D];if(Le!==null){const Re=this.circles;for(const $e of Le)if(!re.circle[$e]){re.circle[$e]=!0;const Ie=3*$e,at=this.circleKeys[$e];if(this._circlesCollide(Re[Ie],Re[Ie+1],Re[Ie+2],ee.x,ee.y,ee.radius)&&(!K||K(at))&&!nn(se,at.overlapMode))return W.push(!0),!0}}}_forEachCell(d,y,A,I,D,W,G,K){const ee=this._convertToXCellCoord(d),re=this._convertToYCellCoord(y),se=this._convertToXCellCoord(A),be=this._convertToYCellCoord(I);for(let Le=ee;Le<=se;Le++)for(let Re=re;Re<=be;Re++)if(D.call(this,d,y,A,I,this.xCellCount*Re+Le,W,G,K))return}_convertToXCellCoord(d){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(d*this.xScale)))}_convertToYCellCoord(d){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(d*this.yScale)))}_circlesCollide(d,y,A,I,D,W){const G=I-d,K=D-y,ee=A+W;return ee*ee>G*G+K*K}_circleAndRectCollide(d,y,A,I,D,W,G){const K=(W-I)/2,ee=Math.abs(d-(I+K));if(ee>K+A)return!1;const re=(G-D)/2,se=Math.abs(y-(D+re));if(se>re+A)return!1;if(ee<=K||se<=re)return!0;const be=ee-K,Le=se-re;return be*be+Le*Le<=A*A}}function mt(O,d,y,A,I){const D=s.Z();return d?(s.a0(D,D,[1/I,1/I,1]),y||s.ae(D,D,A.angle)):s.a1(D,A.labelPlaneMatrix,O),D}function un(O,d,y,A,I){if(d){const D=s.af(O);return s.a0(D,D,[I,I,1]),y||s.ae(D,D,-A.angle),D}return A.glCoordMatrix}function an(O,d,y){let A;y?(A=[O.x,O.y,y(O.x,O.y),1],s.ag(A,A,d)):(A=[O.x,O.y,0,1],Pe(A,A,d));const I=A[3];return{point:new s.P(A[0]/I,A[1]/I),signedDistanceFromCamera:I}}function Ot(O,d){return .5+O/d*.5}function ke(O,d){const y=O[0]/O[3],A=O[1]/O[3];return y>=-d[0]&&y<=d[0]&&A>=-d[1]&&A<=d[1]}function Ve(O,d,y,A,I,D,W,G,K,ee){const re=A?O.textSizeData:O.iconSizeData,se=s.ah(re,y.transform.zoom),be=[256/y.width*2+1,256/y.height*2+1],Le=A?O.text.dynamicLayoutVertexArray:O.icon.dynamicLayoutVertexArray;Le.clear();const Re=O.lineVertexArray,$e=A?O.text.placedSymbolArray:O.icon.placedSymbolArray,Ie=y.transform.width/y.transform.height;let at=!1;for(let Mt=0;Mt<$e.length;Mt++){const Ge=$e.get(Mt);if(Ge.hidden||Ge.writingMode===s.ai.vertical&&!at){Te(Ge.numGlyphs,Le);continue}let ft;if(at=!1,ee?(ft=[Ge.anchorX,Ge.anchorY,ee(Ge.anchorX,Ge.anchorY),1],s.ag(ft,ft,d)):(ft=[Ge.anchorX,Ge.anchorY,0,1],Pe(ft,ft,d)),!ke(ft,be)){Te(Ge.numGlyphs,Le);continue}const At=Ot(y.transform.cameraToCenterDistance,ft[3]),Pt=s.aj(re,se,Ge),qt=W?Pt/At:Pt*At,wt=new s.P(Ge.anchorX,Ge.anchorY),Kt=an(wt,I,ee).point,ln={projections:{},offsets:{}},Rn=en(Ge,qt,!1,G,d,I,D,O.glyphOffsetArray,Re,Le,Kt,wt,ln,Ie,K,ee);at=Rn.useVertical,(Rn.notEnoughRoom||at||Rn.needsFlipping&&en(Ge,qt,!0,G,d,I,D,O.glyphOffsetArray,Re,Le,Kt,wt,ln,Ie,K,ee).notEnoughRoom)&&Te(Ge.numGlyphs,Le)}A?O.text.dynamicLayoutVertexBuffer.updateData(Le):O.icon.dynamicLayoutVertexBuffer.updateData(Le)}function Me(O,d,y,A,I,D,W,G,K,ee,re,se,be){const Le=G.glyphStartIndex+G.numGlyphs,Re=G.lineStartIndex,$e=G.lineStartIndex+G.lineLength,Ie=d.getoffsetX(G.glyphStartIndex),at=d.getoffsetX(Le-1),Mt=oe(O*Ie,y,A,I,D,W,G.segment,Re,$e,K,ee,re,se,be);if(!Mt)return null;const Ge=oe(O*at,y,A,I,D,W,G.segment,Re,$e,K,ee,re,se,be);return Ge?{first:Mt,last:Ge}:null}function it(O,d,y,A){return O===s.ai.horizontal&&Math.abs(y.y-d.y)>Math.abs(y.x-d.x)*A?{useVertical:!0}:(O===s.ai.vertical?d.y<y.y:d.x>y.x)?{needsFlipping:!0}:null}function en(O,d,y,A,I,D,W,G,K,ee,re,se,be,Le,Re,$e){const Ie=d/24,at=O.lineOffsetX*Ie,Mt=O.lineOffsetY*Ie;let Ge;if(O.numGlyphs>1){const ft=O.glyphStartIndex+O.numGlyphs,At=O.lineStartIndex,Pt=O.lineStartIndex+O.lineLength,qt=Me(Ie,G,at,Mt,y,re,se,O,K,D,be,Re,$e);if(!qt)return{notEnoughRoom:!0};const wt=an(qt.first.point,W,$e).point,Kt=an(qt.last.point,W,$e).point;if(A&&!y){const ln=it(O.writingMode,wt,Kt,Le);if(ln)return ln}Ge=[qt.first];for(let ln=O.glyphStartIndex+1;ln<ft-1;ln++)Ge.push(oe(Ie*G.getoffsetX(ln),at,Mt,y,re,se,O.segment,At,Pt,K,D,be,Re,$e));Ge.push(qt.last)}else{if(A&&!y){const At=an(se,I,$e).point,Pt=O.lineStartIndex+O.segment+1,qt=new s.P(K.getx(Pt),K.gety(Pt)),wt=an(qt,I,$e),Kt=wt.signedDistanceFromCamera>0?wt.point:Xe(se,qt,At,1,I,$e),ln=it(O.writingMode,At,Kt,Le);if(ln)return ln}const ft=oe(Ie*G.getoffsetX(O.glyphStartIndex),at,Mt,y,re,se,O.segment,O.lineStartIndex,O.lineStartIndex+O.lineLength,K,D,be,Re,$e);if(!ft)return{notEnoughRoom:!0};Ge=[ft]}for(const ft of Ge)s.ak(ee,ft.point,ft.angle);return{}}function Xe(O,d,y,A,I,D){const W=an(O.add(O.sub(d)._unit()),I,D).point,G=y.sub(W);return y.add(G._mult(A/G.mag()))}function kt(O,d){const{projectionCache:y,lineVertexArray:A,labelPlaneMatrix:I,tileAnchorPoint:D,distanceFromAnchor:W,getElevation:G,previousVertex:K,direction:ee,absOffsetX:re}=d;if(y.projections[O])return y.projections[O];const se=new s.P(A.getx(O),A.gety(O)),be=an(se,I,G);if(be.signedDistanceFromCamera>0)return y.projections[O]=be.point,be.point;const Le=O-ee;return Xe(W===0?D:new s.P(A.getx(Le),A.gety(Le)),se,K,re-W+1,I,G)}function Et(O,d,y){return O._unit()._perp()._mult(d*y)}function we(O,d,y,A,I,D,W,G){const{projectionCache:K,direction:ee}=G;if(K.offsets[O])return K.offsets[O];const re=y.add(d);if(O+ee<A||O+ee>=I)return K.offsets[O]=re,re;const se=kt(O+ee,G),be=Et(se.sub(y),W,ee),Le=y.add(be),Re=se.add(be);return K.offsets[O]=s.al(D,re,Le,Re)||re,K.offsets[O]}function oe(O,d,y,A,I,D,W,G,K,ee,re,se,be,Le){const Re=A?O-d:O+d;let $e=Re>0?1:-1,Ie=0;A&&($e*=-1,Ie=Math.PI),$e<0&&(Ie+=Math.PI);let at,Mt,Ge=$e>0?G+W:G+W+1,ft=I,At=I,Pt=0,qt=0;const wt=Math.abs(Re),Kt=[];let ln;for(;Pt+qt<=wt;){if(Ge+=$e,Ge<G||Ge>=K)return null;Pt+=qt,At=ft,Mt=at;const dn={projectionCache:se,lineVertexArray:ee,labelPlaneMatrix:re,tileAnchorPoint:D,distanceFromAnchor:Pt,getElevation:Le,previousVertex:At,direction:$e,absOffsetX:wt};if(ft=kt(Ge,dn),y===0)Kt.push(At),ln=ft.sub(At);else{let Jn;const On=ft.sub(At);Jn=On.mag()===0?Et(kt(Ge+$e,dn).sub(ft),y,$e):Et(On,y,$e),Mt||(Mt=At.add(Jn)),at=we(Ge,Jn,ft,G,K,Mt,y,dn),Kt.push(Mt),ln=at.sub(Mt)}qt=ln.mag()}const Rn=ln._mult((wt-Pt)/qt)._add(Mt||At),Pr=Ie+Math.atan2(ft.y-At.y,ft.x-At.x);return Kt.push(Rn),{point:Rn,angle:be?Pr:0,path:Kt}}const pe=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Te(O,d){for(let y=0;y<O;y++){const A=d.length;d.resize(A+4),d.float32.set(pe,3*A)}}function Pe(O,d,y){const A=d[0],I=d[1];return O[0]=y[0]*A+y[4]*I+y[12],O[1]=y[1]*A+y[5]*I+y[13],O[3]=y[3]*A+y[7]*I+y[15],O}const Ne=100;class Ke{constructor(d,y=new Pn(d.width+200,d.height+200,25),A=new Pn(d.width+200,d.height+200,25)){this.transform=d,this.grid=y,this.ignoredGrid=A,this.pitchfactor=Math.cos(d._pitch)*d.cameraToCenterDistance,this.screenRightBoundary=d.width+Ne,this.screenBottomBoundary=d.height+Ne,this.gridRightBoundary=d.width+200,this.gridBottomBoundary=d.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(d,y,A,I,D,W){const G=this.projectAndGetPerspectiveRatio(I,d.anchorPointX,d.anchorPointY,W),K=A*G.perspectiveRatio,ee=d.x1*K+G.point.x,re=d.y1*K+G.point.y,se=d.x2*K+G.point.x,be=d.y2*K+G.point.y;return!this.isInsideGrid(ee,re,se,be)||y!=="always"&&this.grid.hitTest(ee,re,se,be,y,D)||G.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[ee,re,se,be],offscreen:this.isOffscreen(ee,re,se,be)}}placeCollisionCircles(d,y,A,I,D,W,G,K,ee,re,se,be,Le,Re){const $e=[],Ie=new s.P(y.anchorX,y.anchorY),at=an(Ie,W,Re),Mt=Ot(this.transform.cameraToCenterDistance,at.signedDistanceFromCamera),Ge=(re?D/Mt:D*Mt)/s.ap,ft=an(Ie,G,Re).point,At=Me(Ge,I,y.lineOffsetX*Ge,y.lineOffsetY*Ge,!1,ft,Ie,y,A,G,{projections:{},offsets:{}},!1,Re);let Pt=!1,qt=!1,wt=!0;if(At){const Kt=.5*be*Mt+Le,ln=new s.P(-100,-100),Rn=new s.P(this.screenRightBoundary,this.screenBottomBoundary),Pr=new Rt,dn=At.first,Jn=At.last;let On=[];for(let vr=dn.path.length-1;vr>=1;vr--)On.push(dn.path[vr]);for(let vr=1;vr<Jn.path.length;vr++)On.push(Jn.path[vr]);const ei=2.5*Kt;if(K){const vr=On.map(Tr=>an(Tr,K,Re));On=vr.some(Tr=>Tr.signedDistanceFromCamera<=0)?[]:vr.map(Tr=>Tr.point)}let Er=[];if(On.length>0){const vr=On[0].clone(),Tr=On[0].clone();for(let ro=1;ro<On.length;ro++)vr.x=Math.min(vr.x,On[ro].x),vr.y=Math.min(vr.y,On[ro].y),Tr.x=Math.max(Tr.x,On[ro].x),Tr.y=Math.max(Tr.y,On[ro].y);Er=vr.x>=ln.x&&Tr.x<=Rn.x&&vr.y>=ln.y&&Tr.y<=Rn.y?[On]:Tr.x<ln.x||vr.x>Rn.x||Tr.y<ln.y||vr.y>Rn.y?[]:s.am([On],ln.x,ln.y,Rn.x,Rn.y)}for(const vr of Er){Pr.reset(vr,.25*Kt);let Tr=0;Tr=Pr.length<=.5*Kt?1:Math.ceil(Pr.paddedLength/ei)+1;for(let ro=0;ro<Tr;ro++){const gi=ro/Math.max(Tr-1,1),Fo=Pr.lerp(gi),yo=Fo.x+Ne,lo=Fo.y+Ne;$e.push(yo,lo,Kt,0);const Gs=yo-Kt,li=lo-Kt,lc=yo+Kt,cc=lo+Kt;if(wt=wt&&this.isOffscreen(Gs,li,lc,cc),qt=qt||this.isInsideGrid(Gs,li,lc,cc),d!=="always"&&this.grid.hitTestCircle(yo,lo,Kt,d,se)&&(Pt=!0,!ee))return{circles:[],offscreen:!1,collisionDetected:Pt}}}}return{circles:!ee&&Pt||!qt||Mt<this.perspectiveRatioCutoff?[]:$e,offscreen:wt,collisionDetected:Pt}}queryRenderedSymbols(d){if(d.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const y=[];let A=1/0,I=1/0,D=-1/0,W=-1/0;for(const re of d){const se=new s.P(re.x+Ne,re.y+Ne);A=Math.min(A,se.x),I=Math.min(I,se.y),D=Math.max(D,se.x),W=Math.max(W,se.y),y.push(se)}const G=this.grid.query(A,I,D,W).concat(this.ignoredGrid.query(A,I,D,W)),K={},ee={};for(const re of G){const se=re.key;if(K[se.bucketInstanceId]===void 0&&(K[se.bucketInstanceId]={}),K[se.bucketInstanceId][se.featureIndex])continue;const be=[new s.P(re.x1,re.y1),new s.P(re.x2,re.y1),new s.P(re.x2,re.y2),new s.P(re.x1,re.y2)];s.an(y,be)&&(K[se.bucketInstanceId][se.featureIndex]=!0,ee[se.bucketInstanceId]===void 0&&(ee[se.bucketInstanceId]=[]),ee[se.bucketInstanceId].push(se.featureIndex))}return ee}insertCollisionBox(d,y,A,I,D,W){(A?this.ignoredGrid:this.grid).insert({bucketInstanceId:I,featureIndex:D,collisionGroupID:W,overlapMode:y},d[0],d[1],d[2],d[3])}insertCollisionCircles(d,y,A,I,D,W){const G=A?this.ignoredGrid:this.grid,K={bucketInstanceId:I,featureIndex:D,collisionGroupID:W,overlapMode:y};for(let ee=0;ee<d.length;ee+=4)G.insertCircle(K,d[ee],d[ee+1],d[ee+2])}projectAndGetPerspectiveRatio(d,y,A,I){let D;return I?(D=[y,A,I(y,A),1],s.ag(D,D,d)):(D=[y,A,0,1],Pe(D,D,d)),{point:new s.P((D[0]/D[3]+1)/2*this.transform.width+Ne,(-D[1]/D[3]+1)/2*this.transform.height+Ne),perspectiveRatio:.5+this.transform.cameraToCenterDistance/D[3]*.5}}isOffscreen(d,y,A,I){return A<Ne||d>=this.screenRightBoundary||I<Ne||y>this.screenBottomBoundary}isInsideGrid(d,y,A,I){return A>=0&&d<this.gridRightBoundary&&I>=0&&y<this.gridBottomBoundary}getViewportMatrix(){const d=s.ao([]);return s.$(d,d,[-100,-100,0]),d}}function qe(O,d,y){return d*(s.N/(O.tileSize*Math.pow(2,y-O.tileID.overscaledZ)))}class je{constructor(d,y,A,I){this.opacity=d?Math.max(0,Math.min(1,d.opacity+(d.placed?y:-y))):I&&A?1:0,this.placed=A}isHidden(){return this.opacity===0&&!this.placed}}class tt{constructor(d,y,A,I,D){this.text=new je(d?d.text:null,y,A,D),this.icon=new je(d?d.icon:null,y,I,D)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Nt{constructor(d,y,A){this.text=d,this.icon=y,this.skipFade=A}}class Ut{constructor(){this.invProjMatrix=s.Z(),this.viewportMatrix=s.Z(),this.circles=[]}}class $t{constructor(d,y,A,I,D){this.bucketInstanceId=d,this.featureIndex=y,this.sourceLayerIndex=A,this.bucketIndex=I,this.tileID=D}}class kn{constructor(d){this.crossSourceCollisions=d,this.maxGroupID=0,this.collisionGroups={}}get(d){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[d]){const y=++this.maxGroupID;this.collisionGroups[d]={ID:y,predicate:A=>A.collisionGroupID===y}}return this.collisionGroups[d]}}function er(O,d,y,A,I){const{horizontalAlign:D,verticalAlign:W}=s.au(O);return new s.P(-(D-.5)*d+A[0]*I,-(W-.5)*y+A[1]*I)}function Tn(O,d,y,A,I,D){const{x1:W,x2:G,y1:K,y2:ee,anchorPointX:re,anchorPointY:se}=O,be=new s.P(d,y);return A&&be._rotate(I?D:-D),{x1:W+be.x,y1:K+be.y,x2:G+be.x,y2:ee+be.y,anchorPointX:re,anchorPointY:se}}class Vn{constructor(d,y,A,I,D){this.transform=d.clone(),this.terrain=y,this.collisionIndex=new Ke(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=A,this.retainedQueryData={},this.collisionGroups=new kn(I),this.collisionCircleArrays={},this.prevPlacement=D,D&&(D.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(d,y,A,I){const D=A.getBucket(y),W=A.latestFeatureIndex;if(!D||!W||y.id!==D.layerIds[0])return;const G=A.collisionBoxArray,K=D.layers[0].layout,ee=Math.pow(2,this.transform.zoom-A.tileID.overscaledZ),re=A.tileSize/s.N,se=this.transform.calculatePosMatrix(A.tileID.toUnwrapped()),be=K.get("text-pitch-alignment")==="map",Le=K.get("text-rotation-alignment")==="map",Re=qe(A,1,this.transform.zoom),$e=mt(se,be,Le,this.transform,Re);let Ie=null;if(be){const Mt=un(se,be,Le,this.transform,Re);Ie=s.a1([],this.transform.labelPlaneMatrix,Mt)}this.retainedQueryData[D.bucketInstanceId]=new $t(D.bucketInstanceId,W,D.sourceLayerIndex,D.index,A.tileID);const at={bucket:D,layout:K,posMatrix:se,textLabelPlaneMatrix:$e,labelToScreenMatrix:Ie,scale:ee,textPixelRatio:re,holdingForFade:A.holdingForFade(),collisionBoxArray:G,partiallyEvaluatedTextSize:s.ah(D.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(D.sourceID)};if(I)for(const Mt of D.sortKeyRanges){const{sortKey:Ge,symbolInstanceStart:ft,symbolInstanceEnd:At}=Mt;d.push({sortKey:Ge,symbolInstanceStart:ft,symbolInstanceEnd:At,parameters:at})}else d.push({symbolInstanceStart:0,symbolInstanceEnd:D.symbolInstances.length,parameters:at})}attemptAnchorPlacement(d,y,A,I,D,W,G,K,ee,re,se,be,Le,Re,$e,Ie){const at=s.aq[d.textAnchor],Mt=[d.textOffset0,d.textOffset1],Ge=er(at,A,I,Mt,D),ft=this.collisionIndex.placeCollisionBox(Tn(y,Ge.x,Ge.y,W,G,this.transform.angle),se,K,ee,re.predicate,Ie);if((!$e||this.collisionIndex.placeCollisionBox(Tn($e,Ge.x,Ge.y,W,G,this.transform.angle),se,K,ee,re.predicate,Ie).box.length!==0)&&ft.box.length>0){let At;if(this.prevPlacement&&this.prevPlacement.variableOffsets[be.crossTileID]&&this.prevPlacement.placements[be.crossTileID]&&this.prevPlacement.placements[be.crossTileID].text&&(At=this.prevPlacement.variableOffsets[be.crossTileID].anchor),be.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[be.crossTileID]={textOffset:Mt,width:A,height:I,anchor:at,textBoxScale:D,prevAnchor:At},this.markUsedJustification(Le,at,be,Re),Le.allowVerticalPlacement&&(this.markUsedOrientation(Le,Re,be),this.placedOrientations[be.crossTileID]=Re),{shift:Ge,placedGlyphBoxes:ft}}}placeLayerBucketPart(d,y,A){const{bucket:I,layout:D,posMatrix:W,textLabelPlaneMatrix:G,labelToScreenMatrix:K,textPixelRatio:ee,holdingForFade:re,collisionBoxArray:se,partiallyEvaluatedTextSize:be,collisionGroup:Le}=d.parameters,Re=D.get("text-optional"),$e=D.get("icon-optional"),Ie=s.ar(D,"text-overlap","text-allow-overlap"),at=Ie==="always",Mt=s.ar(D,"icon-overlap","icon-allow-overlap"),Ge=Mt==="always",ft=D.get("text-rotation-alignment")==="map",At=D.get("text-pitch-alignment")==="map",Pt=D.get("icon-text-fit")!=="none",qt=D.get("symbol-z-order")==="viewport-y",wt=at&&(Ge||!I.hasIconData()||$e),Kt=Ge&&(at||!I.hasTextData()||Re);!I.collisionArrays&&se&&I.deserializeCollisionBoxes(se);const ln=this.retainedQueryData[I.bucketInstanceId].tileID,Rn=this.terrain?(dn,Jn)=>this.terrain.getElevation(ln,dn,Jn):null,Pr=(dn,Jn)=>{var On,ei;if(y[dn.crossTileID])return;if(re)return void(this.placements[dn.crossTileID]=new Nt(!1,!1,!1));let Er=!1,vr=!1,Tr=!0,ro=null,gi={box:null,offscreen:null},Fo={box:null,offscreen:null},yo=null,lo=null,Gs=null,li=0,lc=0,cc=0;Jn.textFeatureIndex?li=Jn.textFeatureIndex:dn.useRuntimeCollisionCircles&&(li=dn.featureIndex),Jn.verticalTextFeatureIndex&&(lc=Jn.verticalTextFeatureIndex);const Fc=Jn.textBox;if(Fc){const us=Di=>{let co=s.ai.horizontal;if(I.allowVerticalPlacement&&!Di&&this.prevPlacement){const Zo=this.prevPlacement.placedOrientations[dn.crossTileID];Zo&&(this.placedOrientations[dn.crossTileID]=Zo,co=Zo,this.markUsedOrientation(I,co,dn))}return co},Co=(Di,co)=>{if(I.allowVerticalPlacement&&dn.numVerticalGlyphVertices>0&&Jn.verticalTextBox){for(const Zo of I.writingModes)if(Zo===s.ai.vertical?(gi=co(),Fo=gi):gi=Di(),gi&&gi.box&&gi.box.length)break}else gi=Di()},Ko=dn.textAnchorOffsetStartIndex,uc=dn.textAnchorOffsetEndIndex;if(uc===Ko){const Di=(co,Zo)=>{const qi=this.collisionIndex.placeCollisionBox(co,Ie,ee,W,Le.predicate,Rn);return qi&&qi.box&&qi.box.length&&(this.markUsedOrientation(I,Zo,dn),this.placedOrientations[dn.crossTileID]=Zo),qi};Co(()=>Di(Fc,s.ai.horizontal),()=>{const co=Jn.verticalTextBox;return I.allowVerticalPlacement&&dn.numVerticalGlyphVertices>0&&co?Di(co,s.ai.vertical):{box:null,offscreen:null}}),us(gi&&gi.box&&gi.box.length)}else{let Di=s.aq[(ei=(On=this.prevPlacement)===null||On===void 0?void 0:On.variableOffsets[dn.crossTileID])===null||ei===void 0?void 0:ei.anchor];const co=(qi,$c,Wf)=>{const ev=qi.x2-qi.x1,Fm=qi.y2-qi.y1,X1=dn.textBoxScale,Hf=Pt&&Mt==="never"?$c:null;let qa={box:[],offscreen:!1},Ai=Ie==="never"?1:2,mr="never";Di&&Ai++;for(let ti=0;ti<Ai;ti++){for(let ci=Ko;ci<uc;ci++){const $o=I.textAnchorOffsets.get(ci);if(Di&&$o.textAnchor!==Di)continue;const vo=this.attemptAnchorPlacement($o,qi,ev,Fm,X1,ft,At,ee,W,Le,mr,dn,I,Wf,Hf,Rn);if(vo&&(qa=vo.placedGlyphBoxes,qa&&qa.box&&qa.box.length))return Er=!0,ro=vo.shift,qa}Di?Di=null:mr=Ie}return qa};Co(()=>co(Fc,Jn.iconBox,s.ai.horizontal),()=>{const qi=Jn.verticalTextBox;return I.allowVerticalPlacement&&!(gi&&gi.box&&gi.box.length)&&dn.numVerticalGlyphVertices>0&&qi?co(qi,Jn.verticalIconBox,s.ai.vertical):{box:null,offscreen:null}}),gi&&(Er=gi.box,Tr=gi.offscreen);const Zo=us(gi&&gi.box);if(!Er&&this.prevPlacement){const qi=this.prevPlacement.variableOffsets[dn.crossTileID];qi&&(this.variableOffsets[dn.crossTileID]=qi,this.markUsedJustification(I,qi.anchor,dn,Zo))}}}if(yo=gi,Er=yo&&yo.box&&yo.box.length>0,Tr=yo&&yo.offscreen,dn.useRuntimeCollisionCircles){const us=I.text.placedSymbolArray.get(dn.centerJustifiedTextSymbolIndex),Co=s.aj(I.textSizeData,be,us),Ko=D.get("text-padding");lo=this.collisionIndex.placeCollisionCircles(Ie,us,I.lineVertexArray,I.glyphOffsetArray,Co,W,G,K,A,At,Le.predicate,dn.collisionCircleDiameter,Ko,Rn),lo.circles.length&&lo.collisionDetected&&!A&&s.w("Collisions detected, but collision boxes are not shown"),Er=at||lo.circles.length>0&&!lo.collisionDetected,Tr=Tr&&lo.offscreen}if(Jn.iconFeatureIndex&&(cc=Jn.iconFeatureIndex),Jn.iconBox){const us=Co=>{const Ko=Pt&&ro?Tn(Co,ro.x,ro.y,ft,At,this.transform.angle):Co;return this.collisionIndex.placeCollisionBox(Ko,Mt,ee,W,Le.predicate,Rn)};Fo&&Fo.box&&Fo.box.length&&Jn.verticalIconBox?(Gs=us(Jn.verticalIconBox),vr=Gs.box.length>0):(Gs=us(Jn.iconBox),vr=Gs.box.length>0),Tr=Tr&&Gs.offscreen}const Nu=Re||dn.numHorizontalGlyphVertices===0&&dn.numVerticalGlyphVertices===0,Dd=$e||dn.numIconVertices===0;if(Nu||Dd?Dd?Nu||(vr=vr&&Er):Er=vr&&Er:vr=Er=vr&&Er,Er&&yo&&yo.box&&this.collisionIndex.insertCollisionBox(yo.box,Ie,D.get("text-ignore-placement"),I.bucketInstanceId,Fo&&Fo.box&&lc?lc:li,Le.ID),vr&&Gs&&this.collisionIndex.insertCollisionBox(Gs.box,Mt,D.get("icon-ignore-placement"),I.bucketInstanceId,cc,Le.ID),lo&&(Er&&this.collisionIndex.insertCollisionCircles(lo.circles,Ie,D.get("text-ignore-placement"),I.bucketInstanceId,li,Le.ID),A)){const us=I.bucketInstanceId;let Co=this.collisionCircleArrays[us];Co===void 0&&(Co=this.collisionCircleArrays[us]=new Ut);for(let Ko=0;Ko<lo.circles.length;Ko+=4)Co.circles.push(lo.circles[Ko+0]),Co.circles.push(lo.circles[Ko+1]),Co.circles.push(lo.circles[Ko+2]),Co.circles.push(lo.collisionDetected?1:0)}if(dn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(I.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[dn.crossTileID]=new Nt(Er||wt,vr||Kt,Tr||I.justReloaded),y[dn.crossTileID]=!0};if(qt){if(d.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const dn=I.getSortedSymbolIndexes(this.transform.angle);for(let Jn=dn.length-1;Jn>=0;--Jn){const On=dn[Jn];Pr(I.symbolInstances.get(On),I.collisionArrays[On])}}else for(let dn=d.symbolInstanceStart;dn<d.symbolInstanceEnd;dn++)Pr(I.symbolInstances.get(dn),I.collisionArrays[dn]);if(A&&I.bucketInstanceId in this.collisionCircleArrays){const dn=this.collisionCircleArrays[I.bucketInstanceId];s.as(dn.invProjMatrix,W),dn.viewportMatrix=this.collisionIndex.getViewportMatrix()}I.justReloaded=!1}markUsedJustification(d,y,A,I){let D;D=I===s.ai.vertical?A.verticalPlacedTextSymbolIndex:{left:A.leftJustifiedTextSymbolIndex,center:A.centerJustifiedTextSymbolIndex,right:A.rightJustifiedTextSymbolIndex}[s.at(y)];const W=[A.leftJustifiedTextSymbolIndex,A.centerJustifiedTextSymbolIndex,A.rightJustifiedTextSymbolIndex,A.verticalPlacedTextSymbolIndex];for(const G of W)G>=0&&(d.text.placedSymbolArray.get(G).crossTileID=D>=0&&G!==D?0:A.crossTileID)}markUsedOrientation(d,y,A){const I=y===s.ai.horizontal||y===s.ai.horizontalOnly?y:0,D=y===s.ai.vertical?y:0,W=[A.leftJustifiedTextSymbolIndex,A.centerJustifiedTextSymbolIndex,A.rightJustifiedTextSymbolIndex];for(const G of W)d.text.placedSymbolArray.get(G).placedOrientation=I;A.verticalPlacedTextSymbolIndex&&(d.text.placedSymbolArray.get(A.verticalPlacedTextSymbolIndex).placedOrientation=D)}commit(d){this.commitTime=d,this.zoomAtLastRecencyCheck=this.transform.zoom;const y=this.prevPlacement;let A=!1;this.prevZoomAdjustment=y?y.zoomAdjustment(this.transform.zoom):0;const I=y?y.symbolFadeChange(d):1,D=y?y.opacities:{},W=y?y.variableOffsets:{},G=y?y.placedOrientations:{};for(const K in this.placements){const ee=this.placements[K],re=D[K];re?(this.opacities[K]=new tt(re,I,ee.text,ee.icon),A=A||ee.text!==re.text.placed||ee.icon!==re.icon.placed):(this.opacities[K]=new tt(null,I,ee.text,ee.icon,ee.skipFade),A=A||ee.text||ee.icon)}for(const K in D){const ee=D[K];if(!this.opacities[K]){const re=new tt(ee,I,!1,!1);re.isHidden()||(this.opacities[K]=re,A=A||ee.text.placed||ee.icon.placed)}}for(const K in W)this.variableOffsets[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.variableOffsets[K]=W[K]);for(const K in G)this.placedOrientations[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.placedOrientations[K]=G[K]);if(y&&y.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");A?this.lastPlacementChangeTime=d:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=y?y.lastPlacementChangeTime:d)}updateLayerOpacities(d,y){const A={};for(const I of y){const D=I.getBucket(d);D&&I.latestFeatureIndex&&d.id===D.layerIds[0]&&this.updateBucketOpacities(D,A,I.collisionBoxArray)}}updateBucketOpacities(d,y,A){d.hasTextData()&&(d.text.opacityVertexArray.clear(),d.text.hasVisibleVertices=!1),d.hasIconData()&&(d.icon.opacityVertexArray.clear(),d.icon.hasVisibleVertices=!1),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexArray.clear(),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexArray.clear();const I=d.layers[0],D=I.layout,W=new tt(null,0,!1,!1,!0),G=D.get("text-allow-overlap"),K=D.get("icon-allow-overlap"),ee=I._unevaluatedLayout.hasValue("text-variable-anchor")||I._unevaluatedLayout.hasValue("text-variable-anchor-offset"),re=D.get("text-rotation-alignment")==="map",se=D.get("text-pitch-alignment")==="map",be=D.get("icon-text-fit")!=="none",Le=new tt(null,0,G&&(K||!d.hasIconData()||D.get("icon-optional")),K&&(G||!d.hasTextData()||D.get("text-optional")),!0);!d.collisionArrays&&A&&(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData())&&d.deserializeCollisionBoxes(A);const Re=($e,Ie,at)=>{for(let Mt=0;Mt<Ie/4;Mt++)$e.opacityVertexArray.emplaceBack(at);$e.hasVisibleVertices=$e.hasVisibleVertices||at!==Kn};for(let $e=0;$e<d.symbolInstances.length;$e++){const Ie=d.symbolInstances.get($e),{numHorizontalGlyphVertices:at,numVerticalGlyphVertices:Mt,crossTileID:Ge}=Ie;let ft=this.opacities[Ge];y[Ge]?ft=W:ft||(ft=Le,this.opacities[Ge]=ft),y[Ge]=!0;const At=Ie.numIconVertices>0,Pt=this.placedOrientations[Ie.crossTileID],qt=Pt===s.ai.vertical,wt=Pt===s.ai.horizontal||Pt===s.ai.horizontalOnly;if(at>0||Mt>0){const Kt=An(ft.text);Re(d.text,at,qt?Kn:Kt),Re(d.text,Mt,wt?Kn:Kt);const ln=ft.text.isHidden();[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(dn=>{dn>=0&&(d.text.placedSymbolArray.get(dn).hidden=ln||qt?1:0)}),Ie.verticalPlacedTextSymbolIndex>=0&&(d.text.placedSymbolArray.get(Ie.verticalPlacedTextSymbolIndex).hidden=ln||wt?1:0);const Rn=this.variableOffsets[Ie.crossTileID];Rn&&this.markUsedJustification(d,Rn.anchor,Ie,Pt);const Pr=this.placedOrientations[Ie.crossTileID];Pr&&(this.markUsedJustification(d,"left",Ie,Pr),this.markUsedOrientation(d,Pr,Ie))}if(At){const Kt=An(ft.icon),ln=!(be&&Ie.verticalPlacedIconSymbolIndex&&qt);Ie.placedIconSymbolIndex>=0&&(Re(d.icon,Ie.numIconVertices,ln?Kt:Kn),d.icon.placedSymbolArray.get(Ie.placedIconSymbolIndex).hidden=ft.icon.isHidden()),Ie.verticalPlacedIconSymbolIndex>=0&&(Re(d.icon,Ie.numVerticalIconVertices,ln?Kn:Kt),d.icon.placedSymbolArray.get(Ie.verticalPlacedIconSymbolIndex).hidden=ft.icon.isHidden())}if(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData()){const Kt=d.collisionArrays[$e];if(Kt){let ln=new s.P(0,0);if(Kt.textBox||Kt.verticalTextBox){let Pr=!0;if(ee){const dn=this.variableOffsets[Ge];dn?(ln=er(dn.anchor,dn.width,dn.height,dn.textOffset,dn.textBoxScale),re&&ln._rotate(se?this.transform.angle:-this.transform.angle)):Pr=!1}Kt.textBox&&sr(d.textCollisionBox.collisionVertexArray,ft.text.placed,!Pr||qt,ln.x,ln.y),Kt.verticalTextBox&&sr(d.textCollisionBox.collisionVertexArray,ft.text.placed,!Pr||wt,ln.x,ln.y)}const Rn=!!(!wt&&Kt.verticalIconBox);Kt.iconBox&&sr(d.iconCollisionBox.collisionVertexArray,ft.icon.placed,Rn,be?ln.x:0,be?ln.y:0),Kt.verticalIconBox&&sr(d.iconCollisionBox.collisionVertexArray,ft.icon.placed,!Rn,be?ln.x:0,be?ln.y:0)}}}if(d.sortFeatures(this.transform.angle),this.retainedQueryData[d.bucketInstanceId]&&(this.retainedQueryData[d.bucketInstanceId].featureSortOrder=d.featureSortOrder),d.hasTextData()&&d.text.opacityVertexBuffer&&d.text.opacityVertexBuffer.updateData(d.text.opacityVertexArray),d.hasIconData()&&d.icon.opacityVertexBuffer&&d.icon.opacityVertexBuffer.updateData(d.icon.opacityVertexArray),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexBuffer&&d.iconCollisionBox.collisionVertexBuffer.updateData(d.iconCollisionBox.collisionVertexArray),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexBuffer&&d.textCollisionBox.collisionVertexBuffer.updateData(d.textCollisionBox.collisionVertexArray),d.text.opacityVertexArray.length!==d.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${d.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${d.text.layoutVertexArray.length}) / 4`);if(d.icon.opacityVertexArray.length!==d.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${d.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${d.icon.layoutVertexArray.length}) / 4`);if(d.bucketInstanceId in this.collisionCircleArrays){const $e=this.collisionCircleArrays[d.bucketInstanceId];d.placementInvProjMatrix=$e.invProjMatrix,d.placementViewportMatrix=$e.viewportMatrix,d.collisionCircleArray=$e.circles,delete this.collisionCircleArrays[d.bucketInstanceId]}}symbolFadeChange(d){return this.fadeDuration===0?1:(d-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(d){return Math.max(0,(this.transform.zoom-d)/1.5)}hasTransitions(d){return this.stale||d-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(d,y){const A=this.zoomAtLastRecencyCheck===y?1-this.zoomAdjustment(y):1;return this.zoomAtLastRecencyCheck=y,this.commitTime+this.fadeDuration*A>d}setStale(){this.stale=!0}}function sr(O,d,y,A,I){O.emplaceBack(d?1:0,y?1:0,A||0,I||0),O.emplaceBack(d?1:0,y?1:0,A||0,I||0),O.emplaceBack(d?1:0,y?1:0,A||0,I||0),O.emplaceBack(d?1:0,y?1:0,A||0,I||0)}const $r=Math.pow(2,25),Ae=Math.pow(2,24),ut=Math.pow(2,17),bt=Math.pow(2,16),yt=Math.pow(2,9),vt=Math.pow(2,8),pn=Math.pow(2,1);function An(O){if(O.opacity===0&&!O.placed)return 0;if(O.opacity===1&&O.placed)return 4294967295;const d=O.placed?1:0,y=Math.floor(127*O.opacity);return y*$r+d*Ae+y*ut+d*bt+y*yt+d*vt+y*pn+d}const Kn=0;class dr{constructor(d){this._sortAcrossTiles=d.layout.get("symbol-z-order")!=="viewport-y"&&!d.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(d,y,A,I,D){const W=this._bucketParts;for(;this._currentTileIndex<d.length;)if(y.getBucketParts(W,I,d[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,D())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,W.sort((G,K)=>G.sortKey-K.sortKey));this._currentPartIndex<W.length;)if(y.placeLayerBucketPart(W[this._currentPartIndex],this._seenCrossTileIDs,A),this._currentPartIndex++,D())return!0;return!1}}class fr{constructor(d,y,A,I,D,W,G,K){this.placement=new Vn(d,y,W,G,K),this._currentPlacementIndex=A.length-1,this._forceFullPlacement=I,this._showCollisionBoxes=D,this._done=!1}isDone(){return this._done}continuePlacement(d,y,A){const I=s.h.now(),D=()=>!this._forceFullPlacement&&s.h.now()-I>2;for(;this._currentPlacementIndex>=0;){const W=y[d[this._currentPlacementIndex]],G=this.placement.collisionIndex.transform.zoom;if(W.type==="symbol"&&(!W.minzoom||W.minzoom<=G)&&(!W.maxzoom||W.maxzoom>G)){if(this._inProgressLayer||(this._inProgressLayer=new dr(W)),this._inProgressLayer.continuePlacement(A[W.source],this.placement,this._showCollisionBoxes,W,D))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(d){return this.placement.commit(d),this.placement}}const cr=512/s.N/2;class br{constructor(d,y,A){this.tileID=d,this.bucketInstanceId=A,this._symbolsByKey={};const I=new Map;for(let D=0;D<y.length;D++){const W=y.get(D),G=W.key,K=I.get(G);K?K.push(W):I.set(G,[W])}for(const[D,W]of I){const G={positions:W.map(K=>({x:Math.floor(K.anchorX*cr),y:Math.floor(K.anchorY*cr)})),crossTileIDs:W.map(K=>K.crossTileID)};if(G.positions.length>128){const K=new s.av(G.positions.length,16,Uint16Array);for(const{x:ee,y:re}of G.positions)K.add(ee,re);K.finish(),delete G.positions,G.index=K}this._symbolsByKey[D]=G}}getScaledCoordinates(d,y){const{x:A,y:I,z:D}=this.tileID.canonical,{x:W,y:G,z:K}=y.canonical,ee=cr/Math.pow(2,K-D),re=(G*s.N+d.anchorY)*ee,se=I*s.N*cr;return{x:Math.floor((W*s.N+d.anchorX)*ee-A*s.N*cr),y:Math.floor(re-se)}}findMatches(d,y,A){const I=this.tileID.canonical.z<y.canonical.z?1:Math.pow(2,this.tileID.canonical.z-y.canonical.z);for(let D=0;D<d.length;D++){const W=d.get(D);if(W.crossTileID)continue;const G=this._symbolsByKey[W.key];if(!G)continue;const K=this.getScaledCoordinates(W,y);if(G.index){const ee=G.index.range(K.x-I,K.y-I,K.x+I,K.y+I).sort();for(const re of ee){const se=G.crossTileIDs[re];if(!A[se]){A[se]=!0,W.crossTileID=se;break}}}else if(G.positions)for(let ee=0;ee<G.positions.length;ee++){const re=G.positions[ee],se=G.crossTileIDs[ee];if(Math.abs(re.x-K.x)<=I&&Math.abs(re.y-K.y)<=I&&!A[se]){A[se]=!0,W.crossTileID=se;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:d})=>d)}}class ar{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class No{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(d){const y=Math.round((d-this.lng)/360);if(y!==0)for(const A in this.indexes){const I=this.indexes[A],D={};for(const W in I){const G=I[W];G.tileID=G.tileID.unwrapTo(G.tileID.wrap+y),D[G.tileID.key]=G}this.indexes[A]=D}this.lng=d}addBucket(d,y,A){if(this.indexes[d.overscaledZ]&&this.indexes[d.overscaledZ][d.key]){if(this.indexes[d.overscaledZ][d.key].bucketInstanceId===y.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(d.overscaledZ,this.indexes[d.overscaledZ][d.key])}for(let D=0;D<y.symbolInstances.length;D++)y.symbolInstances.get(D).crossTileID=0;this.usedCrossTileIDs[d.overscaledZ]||(this.usedCrossTileIDs[d.overscaledZ]={});const I=this.usedCrossTileIDs[d.overscaledZ];for(const D in this.indexes){const W=this.indexes[D];if(Number(D)>d.overscaledZ)for(const G in W){const K=W[G];K.tileID.isChildOf(d)&&K.findMatches(y.symbolInstances,d,I)}else{const G=W[d.scaledTo(Number(D)).key];G&&G.findMatches(y.symbolInstances,d,I)}}for(let D=0;D<y.symbolInstances.length;D++){const W=y.symbolInstances.get(D);W.crossTileID||(W.crossTileID=A.generate(),I[W.crossTileID]=!0)}return this.indexes[d.overscaledZ]===void 0&&(this.indexes[d.overscaledZ]={}),this.indexes[d.overscaledZ][d.key]=new br(d,y.symbolInstances,y.bucketInstanceId),!0}removeBucketCrossTileIDs(d,y){for(const A of y.getCrossTileIDsLists())for(const I of A)delete this.usedCrossTileIDs[d][I]}removeStaleBuckets(d){let y=!1;for(const A in this.indexes){const I=this.indexes[A];for(const D in I)d[I[D].bucketInstanceId]||(this.removeBucketCrossTileIDs(A,I[D]),delete I[D],y=!0)}return y}}class hi{constructor(){this.layerIndexes={},this.crossTileIDs=new ar,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(d,y,A){let I=this.layerIndexes[d.id];I===void 0&&(I=this.layerIndexes[d.id]=new No);let D=!1;const W={};I.handleWrapJump(A);for(const G of y){const K=G.getBucket(d);K&&d.id===K.layerIds[0]&&(K.bucketInstanceId||(K.bucketInstanceId=++this.maxBucketInstanceId),I.addBucket(G.tileID,K,this.crossTileIDs)&&(D=!0),W[K.bucketInstanceId]=!0)}return I.removeStaleBuckets(W)&&(D=!0),D}pruneUnusedLayers(d){const y={};d.forEach(A=>{y[A]=!0});for(const A in this.layerIndexes)y[A]||delete this.layerIndexes[A]}}const Yr=(O,d)=>s.x(O,d&&d.filter(y=>y.identifier!=="source.canvas")),Zn=s.F(s.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Nn=s.F(s.ax,["setCenter","setZoom","setBearing","setPitch"]),to=s.aw();class tr extends s.E{constructor(d,y={}){super(),this.map=d,this.dispatcher=new ze(cn(),this,d._getMapId()),this.imageManager=new le,this.imageManager.setEventedParent(this),this.glyphManager=new fe(d._requestManager,y.localIdeographFontFamily),this.lineAtlas=new ve(256,512),this.crossTileSymbolIndex=new hi,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.az());const A=this;this._rtlTextPluginCallback=tr.registerForPluginStateChange(I=>{A.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:I.pluginStatus,pluginURL:I.pluginURL},(D,W)=>{if(s.aA(D),W&&W.every(G=>G))for(const G in A.sourceCaches){const K=A.sourceCaches[G].getSource().type;K!=="vector"&&K!=="geojson"||A.sourceCaches[G].reload()}})}),this.on("data",I=>{if(I.dataType!=="source"||I.sourceDataType!=="metadata")return;const D=this.sourceCaches[I.sourceId];if(!D)return;const W=D.getSource();if(W&&W.vectorLayerIds)for(const G in this._layers){const K=this._layers[G];K.source===W.id&&this._validateLayer(K)}})}loadURL(d,y={},A){this.fire(new s.k("dataloading",{dataType:"style"})),y.validate=typeof y.validate!="boolean"||y.validate;const I=this.map._requestManager.transformRequest(d,w.Style);this._request=s.f(I,(D,W)=>{this._request=null,D?this.fire(new s.j(D)):W&&this._load(W,y,A)})}loadJSON(d,y={},A){this.fire(new s.k("dataloading",{dataType:"style"})),this._request=s.h.frame(()=>{this._request=null,y.validate=y.validate!==!1,this._load(d,y,A)})}loadEmpty(){this.fire(new s.k("dataloading",{dataType:"style"})),this._load(to,{validate:!1})}_load(d,y,A){var I;const D=y.transformStyle?y.transformStyle(A,d):d;if(!y.validate||!Yr(this,s.y(D))){this._loaded=!0,this.stylesheet=D;for(const W in D.sources)this.addSource(W,D.sources[W],{validate:!1});D.sprite?this._loadSprite(D.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(D.glyphs),this._createLayers(),this.light=new he(this.stylesheet.light),this.map.setTerrain((I=this.stylesheet.terrain)!==null&&I!==void 0?I:null),this.fire(new s.k("data",{dataType:"style"})),this.fire(new s.k("style.load"))}}_createLayers(){const d=s.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",d),this._order=d.map(y=>y.id),this._layers={},this._serializedLayers=null;for(const y of d){const A=s.aC(y);A.setEventedParent(this,{layer:{id:y.id}}),this._layers[y.id]=A}}_loadSprite(d,y=!1,A=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(I,D,W,G){const K=H(I),ee=K.length,re=W>1?"@2x":"",se={},be={},Le={};for(const{id:Re,url:$e}of K){const Ie=D.transformRequest(D.normalizeSpriteURL($e,re,".json"),w.SpriteJSON),at=`${Re}_${Ie.url}`;se[at]=s.f(Ie,(ft,At)=>{delete se[at],be[Re]=At,Z(G,be,Le,ft,ee)});const Mt=D.transformRequest(D.normalizeSpriteURL($e,re,".png"),w.SpriteImage),Ge=`${Re}_${Mt.url}`;se[Ge]=S.getImage(Mt,(ft,At)=>{delete se[Ge],Le[Re]=At,Z(G,be,Le,ft,ee)})}return{cancel(){for(const Re of Object.values(se))Re.cancel()}}}(d,this.map._requestManager,this.map.getPixelRatio(),(I,D)=>{if(this._spriteRequest=null,I)this.fire(new s.j(I));else if(D)for(const W in D){this._spritesImagesIds[W]=[];const G=this._spritesImagesIds[W]?this._spritesImagesIds[W].filter(K=>!(K in D)):[];for(const K of G)this.imageManager.removeImage(K),this._changedImages[K]=!0;for(const K in D[W]){const ee=W==="default"?K:`${W}:${K}`;this._spritesImagesIds[W].push(ee),ee in this.imageManager.images?this.imageManager.updateImage(ee,D[W][K],!1):this.imageManager.addImage(ee,D[W][K]),y&&(this._changedImages[ee]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),y&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"})),A&&A(I)})}_unloadSprite(){for(const d of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(d),this._changedImages[d]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}_validateLayer(d){const y=this.sourceCaches[d.source];if(!y)return;const A=d.sourceLayer;if(!A)return;const I=y.getSource();(I.type==="geojson"||I.vectorLayerIds&&I.vectorLayerIds.indexOf(A)===-1)&&this.fire(new s.j(new Error(`Source layer "${A}" does not exist on source "${I.id}" as specified by style layer "${d.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const d in this.sourceCaches)if(!this.sourceCaches[d].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(d){const y=this._serializedAllLayers();if(!d||d.length===0)return Object.values(y);const A=[];for(const I of d)y[I]&&A.push(y[I]);return A}_serializedAllLayers(){let d=this._serializedLayers;if(d)return d;d=this._serializedLayers={};const y=Object.keys(this._layers);for(const A of y){const I=this._layers[A];I.type!=="custom"&&(d[A]=I.serialize())}return d}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const d in this.sourceCaches)if(this.sourceCaches[d].hasTransition())return!0;for(const d in this._layers)if(this._layers[d].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(d){if(!this._loaded)return;const y=this._changed;if(this._changed){const I=Object.keys(this._updatedLayers),D=Object.keys(this._removedLayers);(I.length||D.length)&&this._updateWorkerLayers(I,D);for(const W in this._updatedSources){const G=this._updatedSources[W];if(G==="reload")this._reloadSource(W);else{if(G!=="clear")throw new Error(`Invalid action ${G}`);this._clearSource(W)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const W in this._updatedPaintProps)this._layers[W].updateTransitions(d);this.light.updateTransitions(d),this._resetUpdates()}const A={};for(const I in this.sourceCaches){const D=this.sourceCaches[I];A[I]=D.used,D.used=!1}for(const I of this._order){const D=this._layers[I];D.recalculate(d,this._availableImages),!D.isHidden(d.zoom)&&D.source&&(this.sourceCaches[D.source].used=!0)}for(const I in A){const D=this.sourceCaches[I];A[I]!==D.used&&D.fire(new s.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:I}))}this.light.recalculate(d),this.z=d.zoom,y&&this.fire(new s.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const d=Object.keys(this._changedImages);if(d.length){for(const y in this.sourceCaches)this.sourceCaches[y].reloadTilesForDependencies(["icons","patterns"],d);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(d,y){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(d),removedIds:y})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(d,y={}){this._checkLoaded();const A=this.serialize();if(d=y.transformStyle?y.transformStyle(A,d):d,Yr(this,s.y(d)))return!1;(d=s.aD(d)).layers=s.aB(d.layers);const I=s.aE(A,d).filter(W=>!(W.command in Nn));if(I.length===0)return!1;const D=I.filter(W=>!(W.command in Zn));if(D.length>0)throw new Error(`Unimplemented: ${D.map(W=>W.command).join(", ")}.`);for(const W of I)W.command!=="setTransition"&&this[W.command].apply(this,W.args);return this.stylesheet=d,this._serializedLayers=null,!0}addImage(d,y){if(this.getImage(d))return this.fire(new s.j(new Error(`An image named "${d}" already exists.`)));this.imageManager.addImage(d,y),this._afterImageUpdated(d)}updateImage(d,y){this.imageManager.updateImage(d,y)}getImage(d){return this.imageManager.getImage(d)}removeImage(d){if(!this.getImage(d))return this.fire(new s.j(new Error(`An image named "${d}" does not exist.`)));this.imageManager.removeImage(d),this._afterImageUpdated(d)}_afterImageUpdated(d){this._availableImages=this.imageManager.listImages(),this._changedImages[d]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(d,y,A={}){if(this._checkLoaded(),this.sourceCaches[d]!==void 0)throw new Error(`Source "${d}" already exists.`);if(!y.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(y).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(y.type)>=0&&this._validate(s.y.source,`sources.${d}`,y,null,A))return;this.map&&this.map._collectResourceTiming&&(y.collectResourceTiming=!0);const I=this.sourceCaches[d]=new Ce(d,y,this.dispatcher);I.style=this,I.setEventedParent(this,()=>({isSourceLoaded:I.loaded(),source:I.serialize(),sourceId:d})),I.onAdd(this.map),this._changed=!0}removeSource(d){if(this._checkLoaded(),this.sourceCaches[d]===void 0)throw new Error("There is no source with this ID");for(const A in this._layers)if(this._layers[A].source===d)return this.fire(new s.j(new Error(`Source "${d}" cannot be removed while layer "${A}" is using it.`)));const y=this.sourceCaches[d];delete this.sourceCaches[d],delete this._updatedSources[d],y.fire(new s.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:d})),y.setEventedParent(null),y.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(d,y){if(this._checkLoaded(),this.sourceCaches[d]===void 0)throw new Error(`There is no source with this ID=${d}`);const A=this.sourceCaches[d].getSource();if(A.type!=="geojson")throw new Error(`geojsonSource.type is ${A.type}, which is !== 'geojson`);A.setData(y),this._changed=!0}getSource(d){return this.sourceCaches[d]&&this.sourceCaches[d].getSource()}addLayer(d,y,A={}){this._checkLoaded();const I=d.id;if(this.getLayer(I))return void this.fire(new s.j(new Error(`Layer "${I}" already exists on this map.`)));let D;if(d.type==="custom"){if(Yr(this,s.aF(d)))return;D=s.aC(d)}else{if("source"in d&&typeof d.source=="object"&&(this.addSource(I,d.source),d=s.aD(d),d=s.e(d,{source:I})),this._validate(s.y.layer,`layers.${I}`,d,{arrayIndex:-1},A))return;D=s.aC(d),this._validateLayer(D),D.setEventedParent(this,{layer:{id:I}})}const W=y?this._order.indexOf(y):this._order.length;if(y&&W===-1)this.fire(new s.j(new Error(`Cannot add layer "${I}" before non-existing layer "${y}".`)));else{if(this._order.splice(W,0,I),this._layerOrderChanged=!0,this._layers[I]=D,this._removedLayers[I]&&D.source&&D.type!=="custom"){const G=this._removedLayers[I];delete this._removedLayers[I],G.type!==D.type?this._updatedSources[D.source]="clear":(this._updatedSources[D.source]="reload",this.sourceCaches[D.source].pause())}this._updateLayer(D),D.onAdd&&D.onAdd(this.map)}}moveLayer(d,y){if(this._checkLoaded(),this._changed=!0,!this._layers[d])return void this.fire(new s.j(new Error(`The layer '${d}' does not exist in the map's style and cannot be moved.`)));if(d===y)return;const A=this._order.indexOf(d);this._order.splice(A,1);const I=y?this._order.indexOf(y):this._order.length;y&&I===-1?this.fire(new s.j(new Error(`Cannot move layer "${d}" before non-existing layer "${y}".`))):(this._order.splice(I,0,d),this._layerOrderChanged=!0)}removeLayer(d){this._checkLoaded();const y=this._layers[d];if(!y)return void this.fire(new s.j(new Error(`Cannot remove non-existing layer "${d}".`)));y.setEventedParent(null);const A=this._order.indexOf(d);this._order.splice(A,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[d]=y,delete this._layers[d],this._serializedLayers&&delete this._serializedLayers[d],delete this._updatedLayers[d],delete this._updatedPaintProps[d],y.onRemove&&y.onRemove(this.map)}getLayer(d){return this._layers[d]}getLayersOrder(){return[...this._order]}hasLayer(d){return d in this._layers}setLayerZoomRange(d,y,A){this._checkLoaded();const I=this.getLayer(d);I?I.minzoom===y&&I.maxzoom===A||(y!=null&&(I.minzoom=y),A!=null&&(I.maxzoom=A),this._updateLayer(I)):this.fire(new s.j(new Error(`Cannot set the zoom range of non-existing layer "${d}".`)))}setFilter(d,y,A={}){this._checkLoaded();const I=this.getLayer(d);if(I){if(!s.aG(I.filter,y))return y==null?(I.filter=void 0,void this._updateLayer(I)):void(this._validate(s.y.filter,`layers.${I.id}.filter`,y,null,A)||(I.filter=s.aD(y),this._updateLayer(I)))}else this.fire(new s.j(new Error(`Cannot filter non-existing layer "${d}".`)))}getFilter(d){return s.aD(this.getLayer(d).filter)}setLayoutProperty(d,y,A,I={}){this._checkLoaded();const D=this.getLayer(d);D?s.aG(D.getLayoutProperty(y),A)||(D.setLayoutProperty(y,A,I),this._updateLayer(D)):this.fire(new s.j(new Error(`Cannot style non-existing layer "${d}".`)))}getLayoutProperty(d,y){const A=this.getLayer(d);if(A)return A.getLayoutProperty(y);this.fire(new s.j(new Error(`Cannot get style of non-existing layer "${d}".`)))}setPaintProperty(d,y,A,I={}){this._checkLoaded();const D=this.getLayer(d);D?s.aG(D.getPaintProperty(y),A)||(D.setPaintProperty(y,A,I)&&this._updateLayer(D),this._changed=!0,this._updatedPaintProps[d]=!0):this.fire(new s.j(new Error(`Cannot style non-existing layer "${d}".`)))}getPaintProperty(d,y){return this.getLayer(d).getPaintProperty(y)}setFeatureState(d,y){this._checkLoaded();const A=d.source,I=d.sourceLayer,D=this.sourceCaches[A];if(D===void 0)return void this.fire(new s.j(new Error(`The source '${A}' does not exist in the map's style.`)));const W=D.getSource().type;W==="geojson"&&I?this.fire(new s.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):W!=="vector"||I?(d.id===void 0&&this.fire(new s.j(new Error("The feature id parameter must be provided."))),D.setFeatureState(I,d.id,y)):this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(d,y){this._checkLoaded();const A=d.source,I=this.sourceCaches[A];if(I===void 0)return void this.fire(new s.j(new Error(`The source '${A}' does not exist in the map's style.`)));const D=I.getSource().type,W=D==="vector"?d.sourceLayer:void 0;D!=="vector"||W?y&&typeof d.id!="string"&&typeof d.id!="number"?this.fire(new s.j(new Error("A feature id is required to remove its specific state property."))):I.removeFeatureState(W,d.id,y):this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(d){this._checkLoaded();const y=d.source,A=d.sourceLayer,I=this.sourceCaches[y];if(I!==void 0)return I.getSource().type!=="vector"||A?(d.id===void 0&&this.fire(new s.j(new Error("The feature id parameter must be provided."))),I.getFeatureState(A,d.id)):void this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.j(new Error(`The source '${y}' does not exist in the map's style.`)))}getTransition(){return s.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const d=s.aH(this.sourceCaches,D=>D.serialize()),y=this._serializeByIds(this._order),A=this.map.getTerrain()||void 0,I=this.stylesheet;return s.aI({version:I.version,name:I.name,metadata:I.metadata,light:I.light,center:I.center,zoom:I.zoom,bearing:I.bearing,pitch:I.pitch,sprite:I.sprite,glyphs:I.glyphs,transition:I.transition,sources:d,layers:y,terrain:A},D=>D!==void 0)}_updateLayer(d){this._updatedLayers[d.id]=!0,d.source&&!this._updatedSources[d.source]&&this.sourceCaches[d.source].getSource().type!=="raster"&&(this._updatedSources[d.source]="reload",this.sourceCaches[d.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(d){const y=W=>this._layers[W].type==="fill-extrusion",A={},I=[];for(let W=this._order.length-1;W>=0;W--){const G=this._order[W];if(y(G)){A[G]=W;for(const K of d){const ee=K[G];if(ee)for(const re of ee)I.push(re)}}}I.sort((W,G)=>G.intersectionZ-W.intersectionZ);const D=[];for(let W=this._order.length-1;W>=0;W--){const G=this._order[W];if(y(G))for(let K=I.length-1;K>=0;K--){const ee=I[K].feature;if(A[ee.layer.id]<W)break;D.push(ee),I.pop()}else for(const K of d){const ee=K[G];if(ee)for(const re of ee)D.push(re.feature)}}return D}queryRenderedFeatures(d,y,A){y&&y.filter&&this._validate(s.y.filter,"queryRenderedFeatures.filter",y.filter,null,y);const I={};if(y&&y.layers){if(!Array.isArray(y.layers))return this.fire(new s.j(new Error("parameters.layers must be an Array."))),[];for(const G of y.layers){const K=this._layers[G];if(!K)return this.fire(new s.j(new Error(`The layer '${G}' does not exist in the map's style and cannot be queried for features.`))),[];I[K.source]=!0}}const D=[];y.availableImages=this._availableImages;const W=this._serializedAllLayers();for(const G in this.sourceCaches)y.layers&&!I[G]||D.push(Ct(this.sourceCaches[G],this._layers,W,d,y,A));return this.placement&&D.push(function(G,K,ee,re,se,be,Le){const Re={},$e=be.queryRenderedSymbols(re),Ie=[];for(const at of Object.keys($e).map(Number))Ie.push(Le[at]);Ie.sort(Ft);for(const at of Ie){const Mt=at.featureIndex.lookupSymbolFeatures($e[at.bucketInstanceId],K,at.bucketIndex,at.sourceLayerIndex,se.filter,se.layers,se.availableImages,G);for(const Ge in Mt){const ft=Re[Ge]=Re[Ge]||[],At=Mt[Ge];At.sort((Pt,qt)=>{const wt=at.featureSortOrder;if(wt){const Kt=wt.indexOf(Pt.featureIndex);return wt.indexOf(qt.featureIndex)-Kt}return qt.featureIndex-Pt.featureIndex});for(const Pt of At)ft.push(Pt)}}for(const at in Re)Re[at].forEach(Mt=>{const Ge=Mt.feature,ft=ee[G[at].source].getFeatureState(Ge.layer["source-layer"],Ge.id);Ge.source=Ge.layer.source,Ge.layer["source-layer"]&&(Ge.sourceLayer=Ge.layer["source-layer"]),Ge.state=ft});return Re}(this._layers,W,this.sourceCaches,d,y,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(D)}querySourceFeatures(d,y){y&&y.filter&&this._validate(s.y.filter,"querySourceFeatures.filter",y.filter,null,y);const A=this.sourceCaches[d];return A?function(I,D){const W=I.getRenderableIds().map(ee=>I.getTileByID(ee)),G=[],K={};for(let ee=0;ee<W.length;ee++){const re=W[ee],se=re.tileID.canonical.key;K[se]||(K[se]=!0,re.querySourceFeatures(G,D))}return G}(A,y):[]}addSourceType(d,y,A){return ot(d)?A(new Error(`A source type called "${d}" already exists.`)):(((I,D)=>{et[I]=D})(d,y),y.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:d,url:y.workerSourceURL},A):A(null,null))}getLight(){return this.light.getLight()}setLight(d,y={}){this._checkLoaded();const A=this.light.getLight();let I=!1;for(const W in d)if(!s.aG(d[W],A[W])){I=!0;break}if(!I)return;const D={now:s.h.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(d,y),this.light.updateTransitions(D)}_validate(d,y,A,I,D={}){return(!D||D.validate!==!1)&&Yr(this,d.call(s.y,s.e({key:y,style:this.serialize(),value:A,styleSpec:s.v},I)))}_remove(d=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const y in this._layers)this._layers[y].setEventedParent(null);for(const y in this.sourceCaches){const A=this.sourceCaches[y];A.setEventedParent(null),A.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(d)}_clearSource(d){this.sourceCaches[d].clearTiles()}_reloadSource(d){this.sourceCaches[d].resume(),this.sourceCaches[d].reload()}_updateSources(d){for(const y in this.sourceCaches)this.sourceCaches[y].update(d,this.map.terrain)}_generateCollisionBoxes(){for(const d in this.sourceCaches)this._reloadSource(d)}_updatePlacement(d,y,A,I,D=!1){let W=!1,G=!1;const K={};for(const ee of this._order){const re=this._layers[ee];if(re.type!=="symbol")continue;if(!K[re.source]){const be=this.sourceCaches[re.source];K[re.source]=be.getRenderableIds(!0).map(Le=>be.getTileByID(Le)).sort((Le,Re)=>Re.tileID.overscaledZ-Le.tileID.overscaledZ||(Le.tileID.isLessThan(Re.tileID)?-1:1))}const se=this.crossTileSymbolIndex.addLayer(re,K[re.source],d.center.lng);W=W||se}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((D=D||this._layerOrderChanged||A===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.h.now(),d.zoom))&&(this.pauseablePlacement=new fr(d,this.map.terrain,this._order,D,y,A,I,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,K),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.h.now()),G=!0),W&&this.pauseablePlacement.placement.setStale()),G||W)for(const ee of this._order){const re=this._layers[ee];re.type==="symbol"&&this.placement.updateLayerOpacities(re,K[re.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.h.now())}_releaseSymbolFadeTiles(){for(const d in this.sourceCaches)this.sourceCaches[d].releaseSymbolFadeTiles()}getImages(d,y,A){this.imageManager.getImages(y.icons,A),this._updateTilesForChangedImages();const I=this.sourceCaches[y.source];I&&I.setDependencies(y.tileID.key,y.type,y.icons)}getGlyphs(d,y,A){this.glyphManager.getGlyphs(y.stacks,A);const I=this.sourceCaches[y.source];I&&I.setDependencies(y.tileID.key,y.type,[""])}getResource(d,y,A){return s.m(y,A)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(d,y={}){this._checkLoaded(),d&&this._validate(s.y.glyphs,"glyphs",d,null,y)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=d,this.glyphManager.entries={},this.glyphManager.setURL(d))}addSprite(d,y,A={},I){this._checkLoaded();const D=[{id:d,url:y}],W=[...H(this.stylesheet.sprite),...D];this._validate(s.y.sprite,"sprite",W,null,A)||(this.stylesheet.sprite=W,this._loadSprite(D,!0,I))}removeSprite(d){this._checkLoaded();const y=H(this.stylesheet.sprite);if(y.find(A=>A.id===d)){if(this._spritesImagesIds[d])for(const A of this._spritesImagesIds[d])this.imageManager.removeImage(A),this._changedImages[A]=!0;y.splice(y.findIndex(A=>A.id===d),1),this.stylesheet.sprite=y.length>0?y:void 0,delete this._spritesImagesIds[d],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}else this.fire(new s.j(new Error(`Sprite "${d}" doesn't exists on this map.`)))}getSprite(){return H(this.stylesheet.sprite)}setSprite(d,y={},A){this._checkLoaded(),d&&this._validate(s.y.sprite,"sprite",d,null,y)||(this.stylesheet.sprite=d,d?this._loadSprite(d,!0,A):(this._unloadSprite(),A&&A(null)))}}tr.registerForPluginStateChange=s.aK;var Li=s.Q([{name:"a_pos",type:"Int16",components:2}]),Ns="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Ur={prelude:hr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:hr(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:hr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:hr(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:hr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:hr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:hr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:hr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:hr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:hr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:hr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:hr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:hr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:hr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:hr(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:hr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:hr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:hr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:hr(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:hr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:hr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:hr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:hr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:hr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:hr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:hr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:hr("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Ns),terrainDepth:hr("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Ns),terrainCoords:hr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Ns)};function hr(O,d){const y=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,A=d.match(/attribute ([\w]+) ([\w]+)/g),I=O.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=d.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),W=D?D.concat(I):I,G={};return{fragmentSource:O=O.replace(y,(K,ee,re,se,be)=>(G[be]=!0,ee==="define"?`
#ifndef HAS_UNIFORM_u_${be}
varying ${re} ${se} ${be};
#else
uniform ${re} ${se} u_${be};
#endif
`:`
#ifdef HAS_UNIFORM_u_${be}
    ${re} ${se} ${be} = u_${be};
#endif
`)),vertexSource:d=d.replace(y,(K,ee,re,se,be)=>{const Le=se==="float"?"vec2":"vec4",Re=be.match(/color/)?"color":Le;return G[be]?ee==="define"?`
#ifndef HAS_UNIFORM_u_${be}
uniform lowp float u_${be}_t;
attribute ${re} ${Le} a_${be};
varying ${re} ${se} ${be};
#else
uniform ${re} ${se} u_${be};
#endif
`:Re==="vec4"?`
#ifndef HAS_UNIFORM_u_${be}
    ${be} = a_${be};
#else
    ${re} ${se} ${be} = u_${be};
#endif
`:`
#ifndef HAS_UNIFORM_u_${be}
    ${be} = unpack_mix_${Re}(a_${be}, u_${be}_t);
#else
    ${re} ${se} ${be} = u_${be};
#endif
`:ee==="define"?`
#ifndef HAS_UNIFORM_u_${be}
uniform lowp float u_${be}_t;
attribute ${re} ${Le} a_${be};
#else
uniform ${re} ${se} u_${be};
#endif
`:Re==="vec4"?`
#ifndef HAS_UNIFORM_u_${be}
    ${re} ${se} ${be} = a_${be};
#else
    ${re} ${se} ${be} = u_${be};
#endif
`:`
#ifndef HAS_UNIFORM_u_${be}
    ${re} ${se} ${be} = unpack_mix_${Re}(a_${be}, u_${be}_t);
#else
    ${re} ${se} ${be} = u_${be};
#endif
`}),staticAttributes:A,staticUniforms:W}}class Si{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(d,y,A,I,D,W,G,K,ee){this.context=d;let re=this.boundPaintVertexBuffers.length!==I.length;for(let se=0;!re&&se<I.length;se++)this.boundPaintVertexBuffers[se]!==I[se]&&(re=!0);!this.vao||this.boundProgram!==y||this.boundLayoutVertexBuffer!==A||re||this.boundIndexBuffer!==D||this.boundVertexOffset!==W||this.boundDynamicVertexBuffer!==G||this.boundDynamicVertexBuffer2!==K||this.boundDynamicVertexBuffer3!==ee?this.freshBind(y,A,I,D,W,G,K,ee):(d.bindVertexArray.set(this.vao),G&&G.bind(),D&&D.dynamicDraw&&D.bind(),K&&K.bind(),ee&&ee.bind())}freshBind(d,y,A,I,D,W,G,K){const ee=d.numAttributes,re=this.context,se=re.gl;this.vao&&this.destroy(),this.vao=re.createVertexArray(),re.bindVertexArray.set(this.vao),this.boundProgram=d,this.boundLayoutVertexBuffer=y,this.boundPaintVertexBuffers=A,this.boundIndexBuffer=I,this.boundVertexOffset=D,this.boundDynamicVertexBuffer=W,this.boundDynamicVertexBuffer2=G,this.boundDynamicVertexBuffer3=K,y.enableAttributes(se,d);for(const be of A)be.enableAttributes(se,d);W&&W.enableAttributes(se,d),G&&G.enableAttributes(se,d),K&&K.enableAttributes(se,d),y.bind(),y.setVertexAttribPointers(se,d,D);for(const be of A)be.bind(),be.setVertexAttribPointers(se,d,D);W&&(W.bind(),W.setVertexAttribPointers(se,d,D)),I&&I.bind(),G&&(G.bind(),G.setVertexAttribPointers(se,d,D)),K&&(K.bind(),K.setVertexAttribPointers(se,d,D)),re.currentNumAttributes=ee}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Zr(O){const d=[];for(let y=0;y<O.length;y++){if(O[y]===null)continue;const A=O[y].split(" ");d.push(A.pop())}return d}class Rc{constructor(d,y,A,I,D,W){const G=d.gl;this.program=G.createProgram();const K=Zr(y.staticAttributes),ee=A?A.getBinderAttributes():[],re=K.concat(ee),se=Ur.prelude.staticUniforms?Zr(Ur.prelude.staticUniforms):[],be=y.staticUniforms?Zr(y.staticUniforms):[],Le=A?A.getBinderUniforms():[],Re=se.concat(be).concat(Le),$e=[];for(const Pt of Re)$e.indexOf(Pt)<0&&$e.push(Pt);const Ie=A?A.defines():[];D&&Ie.push("#define OVERDRAW_INSPECTOR;"),W&&Ie.push("#define TERRAIN3D;");const at=Ie.concat(Ur.prelude.fragmentSource,y.fragmentSource).join(`
`),Mt=Ie.concat(Ur.prelude.vertexSource,y.vertexSource).join(`
`),Ge=G.createShader(G.FRAGMENT_SHADER);if(G.isContextLost())return void(this.failedToCreate=!0);if(G.shaderSource(Ge,at),G.compileShader(Ge),!G.getShaderParameter(Ge,G.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${G.getShaderInfoLog(Ge)}`);G.attachShader(this.program,Ge);const ft=G.createShader(G.VERTEX_SHADER);if(G.isContextLost())return void(this.failedToCreate=!0);if(G.shaderSource(ft,Mt),G.compileShader(ft),!G.getShaderParameter(ft,G.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${G.getShaderInfoLog(ft)}`);G.attachShader(this.program,ft),this.attributes={};const At={};this.numAttributes=re.length;for(let Pt=0;Pt<this.numAttributes;Pt++)re[Pt]&&(G.bindAttribLocation(this.program,Pt,re[Pt]),this.attributes[re[Pt]]=Pt);if(G.linkProgram(this.program),!G.getProgramParameter(this.program,G.LINK_STATUS))throw new Error(`Program failed to link: ${G.getProgramInfoLog(this.program)}`);G.deleteShader(ft),G.deleteShader(Ge);for(let Pt=0;Pt<$e.length;Pt++){const qt=$e[Pt];if(qt&&!At[qt]){const wt=G.getUniformLocation(this.program,qt);wt&&(At[qt]=wt)}}this.fixedUniforms=I(d,At),this.terrainUniforms=((Pt,qt)=>({u_depth:new s.aL(Pt,qt.u_depth),u_terrain:new s.aL(Pt,qt.u_terrain),u_terrain_dim:new s.aM(Pt,qt.u_terrain_dim),u_terrain_matrix:new s.aN(Pt,qt.u_terrain_matrix),u_terrain_unpack:new s.aO(Pt,qt.u_terrain_unpack),u_terrain_exaggeration:new s.aM(Pt,qt.u_terrain_exaggeration)}))(d,At),this.binderUniforms=A?A.getUniforms(d,At):[]}draw(d,y,A,I,D,W,G,K,ee,re,se,be,Le,Re,$e,Ie,at,Mt){const Ge=d.gl;if(this.failedToCreate)return;if(d.program.set(this.program),d.setDepthMode(A),d.setStencilMode(I),d.setColorMode(D),d.setCullFace(W),K){d.activeTexture.set(Ge.TEXTURE2),Ge.bindTexture(Ge.TEXTURE_2D,K.depthTexture),d.activeTexture.set(Ge.TEXTURE3),Ge.bindTexture(Ge.TEXTURE_2D,K.texture);for(const At in this.terrainUniforms)this.terrainUniforms[At].set(K[At])}for(const At in this.fixedUniforms)this.fixedUniforms[At].set(G[At]);$e&&$e.setUniforms(d,this.binderUniforms,Le,{zoom:Re});let ft=0;switch(y){case Ge.LINES:ft=2;break;case Ge.TRIANGLES:ft=3;break;case Ge.LINE_STRIP:ft=1}for(const At of be.get()){const Pt=At.vaos||(At.vaos={});(Pt[ee]||(Pt[ee]=new Si)).bind(d,this,re,$e?$e.getPaintVertexBuffers():[],se,At.vertexOffset,Ie,at,Mt),Ge.drawElements(y,At.primitiveLength*ft,Ge.UNSIGNED_SHORT,At.primitiveOffset*ft*2)}}}function pi(O,d,y){const A=1/qe(y,1,d.transform.tileZoom),I=Math.pow(2,y.tileID.overscaledZ),D=y.tileSize*Math.pow(2,d.transform.tileZoom)/I,W=D*(y.tileID.canonical.x+y.tileID.wrap*I),G=D*y.tileID.canonical.y;return{u_image:0,u_texsize:y.imageAtlasTexture.size,u_scale:[A,O.fromScale,O.toScale],u_fade:O.t,u_pixel_coord_upper:[W>>16,G>>16],u_pixel_coord_lower:[65535&W,65535&G]}}const Eu=(O,d,y,A)=>{const I=d.style.light,D=I.properties.get("position"),W=[D.x,D.y,D.z],G=function(){var ee=new s.A(9);return s.A!=Float32Array&&(ee[1]=0,ee[2]=0,ee[3]=0,ee[5]=0,ee[6]=0,ee[7]=0),ee[0]=1,ee[4]=1,ee[8]=1,ee}();I.properties.get("anchor")==="viewport"&&function(ee,re){var se=Math.sin(re),be=Math.cos(re);ee[0]=be,ee[1]=se,ee[2]=0,ee[3]=-se,ee[4]=be,ee[5]=0,ee[6]=0,ee[7]=0,ee[8]=1}(G,-d.transform.angle),function(ee,re,se){var be=re[0],Le=re[1],Re=re[2];ee[0]=be*se[0]+Le*se[3]+Re*se[6],ee[1]=be*se[1]+Le*se[4]+Re*se[7],ee[2]=be*se[2]+Le*se[5]+Re*se[8]}(W,W,G);const K=I.properties.get("color");return{u_matrix:O,u_lightpos:W,u_lightintensity:I.properties.get("intensity"),u_lightcolor:[K.r,K.g,K.b],u_vertical_gradient:+y,u_opacity:A}},To=(O,d,y,A,I,D,W)=>s.e(Eu(O,d,y,A),pi(D,d,W),{u_height_factor:-Math.pow(2,I.overscaledZ)/W.tileSize/8}),jh=O=>({u_matrix:O}),Ry=(O,d,y,A)=>s.e(jh(O),pi(y,d,A)),hm=(O,d)=>({u_matrix:O,u_world:d}),Sd=(O,d,y,A,I)=>s.e(Ry(O,d,y,A),{u_world:I}),Sl=(O,d,y,A)=>{const I=O.transform;let D,W;if(A.paint.get("circle-pitch-alignment")==="map"){const G=qe(y,1,I.zoom);D=!0,W=[G,G]}else D=!1,W=I.pixelsToGLUnits;return{u_camera_to_center_distance:I.cameraToCenterDistance,u_scale_with_map:+(A.paint.get("circle-pitch-scale")==="map"),u_matrix:O.translatePosMatrix(d.posMatrix,y,A.paint.get("circle-translate"),A.paint.get("circle-translate-anchor")),u_pitch_with_map:+D,u_device_pixel_ratio:O.pixelRatio,u_extrude_scale:W}},Md=(O,d,y)=>{const A=qe(y,1,d.zoom),I=Math.pow(2,d.zoom-y.tileID.overscaledZ),D=y.tileID.overscaleFactor();return{u_matrix:O,u_camera_to_center_distance:d.cameraToCenterDistance,u_pixels_to_tile_units:A,u_extrude_scale:[d.pixelsToGLUnits[0]/(A*I),d.pixelsToGLUnits[1]/(A*I)],u_overscale_factor:D}},Tu=(O,d,y=1)=>({u_matrix:O,u_color:d,u_overlay:0,u_overlay_scale:y}),rx=O=>({u_matrix:O}),G1=(O,d,y,A)=>({u_matrix:O,u_extrude_scale:qe(d,1,y),u_intensity:A});function Uh(O,d){const y=Math.pow(2,d.canonical.z),A=d.canonical.y;return[new s.U(0,A/y).toLngLat().lat,new s.U(0,(A+1)/y).toLngLat().lat]}const Vh=(O,d,y,A)=>{const I=O.transform;return{u_matrix:Wh(O,d,y,A),u_ratio:1/qe(d,1,I.zoom),u_device_pixel_ratio:O.pixelRatio,u_units_to_pixels:[1/I.pixelsToGLUnits[0],1/I.pixelsToGLUnits[1]]}},Tf=(O,d,y,A,I)=>s.e(Vh(O,d,y,I),{u_image:0,u_image_height:A}),q1=(O,d,y,A,I)=>{const D=O.transform,W=Xr(d,D);return{u_matrix:Wh(O,d,y,I),u_texsize:d.imageAtlasTexture.size,u_ratio:1/qe(d,1,D.zoom),u_device_pixel_ratio:O.pixelRatio,u_image:0,u_scale:[W,A.fromScale,A.toScale],u_fade:A.t,u_units_to_pixels:[1/D.pixelsToGLUnits[0],1/D.pixelsToGLUnits[1]]}},pm=(O,d,y,A,I,D)=>{const W=O.lineAtlas,G=Xr(d,O.transform),K=y.layout.get("line-cap")==="round",ee=W.getDash(A.from,K),re=W.getDash(A.to,K),se=ee.width*I.fromScale,be=re.width*I.toScale;return s.e(Vh(O,d,y,D),{u_patternscale_a:[G/se,-ee.height/2],u_patternscale_b:[G/be,-re.height/2],u_sdfgamma:W.width/(256*Math.min(se,be)*O.pixelRatio)/2,u_image:0,u_tex_y_a:ee.y,u_tex_y_b:re.y,u_mix:I.t})};function Xr(O,d){return 1/qe(O,1,d.tileZoom)}function Wh(O,d,y,A){return O.translatePosMatrix(A?A.posMatrix:d.tileID.posMatrix,d,y.paint.get("line-translate"),y.paint.get("line-translate-anchor"))}const mm=(O,d,y,A,I)=>{return{u_matrix:O,u_tl_parent:d,u_scale_parent:y,u_buffer_scale:1,u_fade_t:A.mix,u_opacity:A.opacity*I.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:I.paint.get("raster-brightness-min"),u_brightness_high:I.paint.get("raster-brightness-max"),u_saturation_factor:(W=I.paint.get("raster-saturation"),W>0?1-1/(1.001-W):-W),u_contrast_factor:(D=I.paint.get("raster-contrast"),D>0?1/(1-D):1+D),u_spin_weights:Oy(I.paint.get("raster-hue-rotate"))};var D,W};function Oy(O){O*=Math.PI/180;const d=Math.sin(O),y=Math.cos(O);return[(2*y+1)/3,(-Math.sqrt(3)*d-y+1)/3,(Math.sqrt(3)*d-y+1)/3]}const Ly=(O,d,y,A,I,D,W,G,K,ee)=>{const re=I.transform;return{u_is_size_zoom_constant:+(O==="constant"||O==="source"),u_is_size_feature_constant:+(O==="constant"||O==="camera"),u_size_t:d?d.uSizeT:0,u_size:d?d.uSize:0,u_camera_to_center_distance:re.cameraToCenterDistance,u_pitch:re.pitch/360*2*Math.PI,u_rotate_symbol:+y,u_aspect_ratio:re.width/re.height,u_fade_change:I.options.fadeDuration?I.symbolFadeChange:1,u_matrix:D,u_label_plane_matrix:W,u_coord_matrix:G,u_is_text:+K,u_pitch_with_map:+A,u_texsize:ee,u_texture:0}},Dy=(O,d,y,A,I,D,W,G,K,ee,re)=>{const se=I.transform;return s.e(Ly(O,d,y,A,I,D,W,G,K,ee),{u_gamma_scale:A?Math.cos(se._pitch)*se.cameraToCenterDistance:1,u_device_pixel_ratio:I.pixelRatio,u_is_halo:+re})},Ui=(O,d,y,A,I,D,W,G,K,ee)=>s.e(Dy(O,d,y,A,I,D,W,G,!0,K,!0),{u_texsize_icon:ee,u_texture_icon:1}),Cf=(O,d,y)=>({u_matrix:O,u_opacity:d,u_color:y}),Ua=(O,d,y,A,I,D)=>s.e(function(W,G,K,ee){const re=K.imageManager.getPattern(W.from.toString()),se=K.imageManager.getPattern(W.to.toString()),{width:be,height:Le}=K.imageManager.getPixelSize(),Re=Math.pow(2,ee.tileID.overscaledZ),$e=ee.tileSize*Math.pow(2,K.transform.tileZoom)/Re,Ie=$e*(ee.tileID.canonical.x+ee.tileID.wrap*Re),at=$e*ee.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:re.tl,u_pattern_br_a:re.br,u_pattern_tl_b:se.tl,u_pattern_br_b:se.br,u_texsize:[be,Le],u_mix:G.t,u_pattern_size_a:re.displaySize,u_pattern_size_b:se.displaySize,u_scale_a:G.fromScale,u_scale_b:G.toScale,u_tile_units_to_pixels:1/qe(ee,1,K.transform.tileZoom),u_pixel_coord_upper:[Ie>>16,at>>16],u_pixel_coord_lower:[65535&Ie,65535&at]}}(A,D,y,I),{u_matrix:O,u_opacity:d}),Af={fillExtrusion:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_lightpos:new s.aP(O,d.u_lightpos),u_lightintensity:new s.aM(O,d.u_lightintensity),u_lightcolor:new s.aP(O,d.u_lightcolor),u_vertical_gradient:new s.aM(O,d.u_vertical_gradient),u_opacity:new s.aM(O,d.u_opacity)}),fillExtrusionPattern:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_lightpos:new s.aP(O,d.u_lightpos),u_lightintensity:new s.aM(O,d.u_lightintensity),u_lightcolor:new s.aP(O,d.u_lightcolor),u_vertical_gradient:new s.aM(O,d.u_vertical_gradient),u_height_factor:new s.aM(O,d.u_height_factor),u_image:new s.aL(O,d.u_image),u_texsize:new s.aQ(O,d.u_texsize),u_pixel_coord_upper:new s.aQ(O,d.u_pixel_coord_upper),u_pixel_coord_lower:new s.aQ(O,d.u_pixel_coord_lower),u_scale:new s.aP(O,d.u_scale),u_fade:new s.aM(O,d.u_fade),u_opacity:new s.aM(O,d.u_opacity)}),fill:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix)}),fillPattern:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_image:new s.aL(O,d.u_image),u_texsize:new s.aQ(O,d.u_texsize),u_pixel_coord_upper:new s.aQ(O,d.u_pixel_coord_upper),u_pixel_coord_lower:new s.aQ(O,d.u_pixel_coord_lower),u_scale:new s.aP(O,d.u_scale),u_fade:new s.aM(O,d.u_fade)}),fillOutline:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_world:new s.aQ(O,d.u_world)}),fillOutlinePattern:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_world:new s.aQ(O,d.u_world),u_image:new s.aL(O,d.u_image),u_texsize:new s.aQ(O,d.u_texsize),u_pixel_coord_upper:new s.aQ(O,d.u_pixel_coord_upper),u_pixel_coord_lower:new s.aQ(O,d.u_pixel_coord_lower),u_scale:new s.aP(O,d.u_scale),u_fade:new s.aM(O,d.u_fade)}),circle:(O,d)=>({u_camera_to_center_distance:new s.aM(O,d.u_camera_to_center_distance),u_scale_with_map:new s.aL(O,d.u_scale_with_map),u_pitch_with_map:new s.aL(O,d.u_pitch_with_map),u_extrude_scale:new s.aQ(O,d.u_extrude_scale),u_device_pixel_ratio:new s.aM(O,d.u_device_pixel_ratio),u_matrix:new s.aN(O,d.u_matrix)}),collisionBox:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_camera_to_center_distance:new s.aM(O,d.u_camera_to_center_distance),u_pixels_to_tile_units:new s.aM(O,d.u_pixels_to_tile_units),u_extrude_scale:new s.aQ(O,d.u_extrude_scale),u_overscale_factor:new s.aM(O,d.u_overscale_factor)}),collisionCircle:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_inv_matrix:new s.aN(O,d.u_inv_matrix),u_camera_to_center_distance:new s.aM(O,d.u_camera_to_center_distance),u_viewport_size:new s.aQ(O,d.u_viewport_size)}),debug:(O,d)=>({u_color:new s.aR(O,d.u_color),u_matrix:new s.aN(O,d.u_matrix),u_overlay:new s.aL(O,d.u_overlay),u_overlay_scale:new s.aM(O,d.u_overlay_scale)}),clippingMask:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix)}),heatmap:(O,d)=>({u_extrude_scale:new s.aM(O,d.u_extrude_scale),u_intensity:new s.aM(O,d.u_intensity),u_matrix:new s.aN(O,d.u_matrix)}),heatmapTexture:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_world:new s.aQ(O,d.u_world),u_image:new s.aL(O,d.u_image),u_color_ramp:new s.aL(O,d.u_color_ramp),u_opacity:new s.aM(O,d.u_opacity)}),hillshade:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_image:new s.aL(O,d.u_image),u_latrange:new s.aQ(O,d.u_latrange),u_light:new s.aQ(O,d.u_light),u_shadow:new s.aR(O,d.u_shadow),u_highlight:new s.aR(O,d.u_highlight),u_accent:new s.aR(O,d.u_accent)}),hillshadePrepare:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_image:new s.aL(O,d.u_image),u_dimension:new s.aQ(O,d.u_dimension),u_zoom:new s.aM(O,d.u_zoom),u_unpack:new s.aO(O,d.u_unpack)}),line:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_ratio:new s.aM(O,d.u_ratio),u_device_pixel_ratio:new s.aM(O,d.u_device_pixel_ratio),u_units_to_pixels:new s.aQ(O,d.u_units_to_pixels)}),lineGradient:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_ratio:new s.aM(O,d.u_ratio),u_device_pixel_ratio:new s.aM(O,d.u_device_pixel_ratio),u_units_to_pixels:new s.aQ(O,d.u_units_to_pixels),u_image:new s.aL(O,d.u_image),u_image_height:new s.aM(O,d.u_image_height)}),linePattern:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_texsize:new s.aQ(O,d.u_texsize),u_ratio:new s.aM(O,d.u_ratio),u_device_pixel_ratio:new s.aM(O,d.u_device_pixel_ratio),u_image:new s.aL(O,d.u_image),u_units_to_pixels:new s.aQ(O,d.u_units_to_pixels),u_scale:new s.aP(O,d.u_scale),u_fade:new s.aM(O,d.u_fade)}),lineSDF:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_ratio:new s.aM(O,d.u_ratio),u_device_pixel_ratio:new s.aM(O,d.u_device_pixel_ratio),u_units_to_pixels:new s.aQ(O,d.u_units_to_pixels),u_patternscale_a:new s.aQ(O,d.u_patternscale_a),u_patternscale_b:new s.aQ(O,d.u_patternscale_b),u_sdfgamma:new s.aM(O,d.u_sdfgamma),u_image:new s.aL(O,d.u_image),u_tex_y_a:new s.aM(O,d.u_tex_y_a),u_tex_y_b:new s.aM(O,d.u_tex_y_b),u_mix:new s.aM(O,d.u_mix)}),raster:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_tl_parent:new s.aQ(O,d.u_tl_parent),u_scale_parent:new s.aM(O,d.u_scale_parent),u_buffer_scale:new s.aM(O,d.u_buffer_scale),u_fade_t:new s.aM(O,d.u_fade_t),u_opacity:new s.aM(O,d.u_opacity),u_image0:new s.aL(O,d.u_image0),u_image1:new s.aL(O,d.u_image1),u_brightness_low:new s.aM(O,d.u_brightness_low),u_brightness_high:new s.aM(O,d.u_brightness_high),u_saturation_factor:new s.aM(O,d.u_saturation_factor),u_contrast_factor:new s.aM(O,d.u_contrast_factor),u_spin_weights:new s.aP(O,d.u_spin_weights)}),symbolIcon:(O,d)=>({u_is_size_zoom_constant:new s.aL(O,d.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aL(O,d.u_is_size_feature_constant),u_size_t:new s.aM(O,d.u_size_t),u_size:new s.aM(O,d.u_size),u_camera_to_center_distance:new s.aM(O,d.u_camera_to_center_distance),u_pitch:new s.aM(O,d.u_pitch),u_rotate_symbol:new s.aL(O,d.u_rotate_symbol),u_aspect_ratio:new s.aM(O,d.u_aspect_ratio),u_fade_change:new s.aM(O,d.u_fade_change),u_matrix:new s.aN(O,d.u_matrix),u_label_plane_matrix:new s.aN(O,d.u_label_plane_matrix),u_coord_matrix:new s.aN(O,d.u_coord_matrix),u_is_text:new s.aL(O,d.u_is_text),u_pitch_with_map:new s.aL(O,d.u_pitch_with_map),u_texsize:new s.aQ(O,d.u_texsize),u_texture:new s.aL(O,d.u_texture)}),symbolSDF:(O,d)=>({u_is_size_zoom_constant:new s.aL(O,d.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aL(O,d.u_is_size_feature_constant),u_size_t:new s.aM(O,d.u_size_t),u_size:new s.aM(O,d.u_size),u_camera_to_center_distance:new s.aM(O,d.u_camera_to_center_distance),u_pitch:new s.aM(O,d.u_pitch),u_rotate_symbol:new s.aL(O,d.u_rotate_symbol),u_aspect_ratio:new s.aM(O,d.u_aspect_ratio),u_fade_change:new s.aM(O,d.u_fade_change),u_matrix:new s.aN(O,d.u_matrix),u_label_plane_matrix:new s.aN(O,d.u_label_plane_matrix),u_coord_matrix:new s.aN(O,d.u_coord_matrix),u_is_text:new s.aL(O,d.u_is_text),u_pitch_with_map:new s.aL(O,d.u_pitch_with_map),u_texsize:new s.aQ(O,d.u_texsize),u_texture:new s.aL(O,d.u_texture),u_gamma_scale:new s.aM(O,d.u_gamma_scale),u_device_pixel_ratio:new s.aM(O,d.u_device_pixel_ratio),u_is_halo:new s.aL(O,d.u_is_halo)}),symbolTextAndIcon:(O,d)=>({u_is_size_zoom_constant:new s.aL(O,d.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aL(O,d.u_is_size_feature_constant),u_size_t:new s.aM(O,d.u_size_t),u_size:new s.aM(O,d.u_size),u_camera_to_center_distance:new s.aM(O,d.u_camera_to_center_distance),u_pitch:new s.aM(O,d.u_pitch),u_rotate_symbol:new s.aL(O,d.u_rotate_symbol),u_aspect_ratio:new s.aM(O,d.u_aspect_ratio),u_fade_change:new s.aM(O,d.u_fade_change),u_matrix:new s.aN(O,d.u_matrix),u_label_plane_matrix:new s.aN(O,d.u_label_plane_matrix),u_coord_matrix:new s.aN(O,d.u_coord_matrix),u_is_text:new s.aL(O,d.u_is_text),u_pitch_with_map:new s.aL(O,d.u_pitch_with_map),u_texsize:new s.aQ(O,d.u_texsize),u_texsize_icon:new s.aQ(O,d.u_texsize_icon),u_texture:new s.aL(O,d.u_texture),u_texture_icon:new s.aL(O,d.u_texture_icon),u_gamma_scale:new s.aM(O,d.u_gamma_scale),u_device_pixel_ratio:new s.aM(O,d.u_device_pixel_ratio),u_is_halo:new s.aL(O,d.u_is_halo)}),background:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_opacity:new s.aM(O,d.u_opacity),u_color:new s.aR(O,d.u_color)}),backgroundPattern:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_opacity:new s.aM(O,d.u_opacity),u_image:new s.aL(O,d.u_image),u_pattern_tl_a:new s.aQ(O,d.u_pattern_tl_a),u_pattern_br_a:new s.aQ(O,d.u_pattern_br_a),u_pattern_tl_b:new s.aQ(O,d.u_pattern_tl_b),u_pattern_br_b:new s.aQ(O,d.u_pattern_br_b),u_texsize:new s.aQ(O,d.u_texsize),u_mix:new s.aM(O,d.u_mix),u_pattern_size_a:new s.aQ(O,d.u_pattern_size_a),u_pattern_size_b:new s.aQ(O,d.u_pattern_size_b),u_scale_a:new s.aM(O,d.u_scale_a),u_scale_b:new s.aM(O,d.u_scale_b),u_pixel_coord_upper:new s.aQ(O,d.u_pixel_coord_upper),u_pixel_coord_lower:new s.aQ(O,d.u_pixel_coord_lower),u_tile_units_to_pixels:new s.aM(O,d.u_tile_units_to_pixels)}),terrain:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_texture:new s.aL(O,d.u_texture),u_ele_delta:new s.aM(O,d.u_ele_delta)}),terrainDepth:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_ele_delta:new s.aM(O,d.u_ele_delta)}),terrainCoords:(O,d)=>({u_matrix:new s.aN(O,d.u_matrix),u_texture:new s.aL(O,d.u_texture),u_terrain_coords_id:new s.aM(O,d.u_terrain_coords_id),u_ele_delta:new s.aM(O,d.u_ele_delta)})};class gm{constructor(d,y,A){this.context=d;const I=d.gl;this.buffer=I.createBuffer(),this.dynamicDraw=!!A,this.context.unbindVAO(),d.bindElementBuffer.set(this.buffer),I.bufferData(I.ELEMENT_ARRAY_BUFFER,y.arrayBuffer,this.dynamicDraw?I.DYNAMIC_DRAW:I.STATIC_DRAW),this.dynamicDraw||delete y.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(d){const y=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),y.bufferSubData(y.ELEMENT_ARRAY_BUFFER,0,d.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Cu={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class va{constructor(d,y,A,I){this.length=y.length,this.attributes=A,this.itemSize=y.bytesPerElement,this.dynamicDraw=I,this.context=d;const D=d.gl;this.buffer=D.createBuffer(),d.bindVertexBuffer.set(this.buffer),D.bufferData(D.ARRAY_BUFFER,y.arrayBuffer,this.dynamicDraw?D.DYNAMIC_DRAW:D.STATIC_DRAW),this.dynamicDraw||delete y.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(d){if(d.length!==this.length)throw new Error(`Length of new data is ${d.length}, which doesn't match current length of ${this.length}`);const y=this.context.gl;this.bind(),y.bufferSubData(y.ARRAY_BUFFER,0,d.arrayBuffer)}enableAttributes(d,y){for(let A=0;A<this.attributes.length;A++){const I=y.attributes[this.attributes[A].name];I!==void 0&&d.enableVertexAttribArray(I)}}setVertexAttribPointers(d,y,A){for(let I=0;I<this.attributes.length;I++){const D=this.attributes[I],W=y.attributes[D.name];W!==void 0&&d.vertexAttribPointer(W,D.components,d[Cu[D.type]],!1,this.itemSize,D.offset+this.itemSize*(A||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Pf=new WeakMap;function Au(O){var d;if(Pf.has(O))return Pf.get(O);{const y=(d=O.getParameter(O.VERSION))===null||d===void 0?void 0:d.startsWith("WebGL 2.0");return Pf.set(O,y),y}}class yr{constructor(d){this.gl=d.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(d){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Va extends yr{getDefault(){return s.aT.transparent}set(d){const y=this.current;(d.r!==y.r||d.g!==y.g||d.b!==y.b||d.a!==y.a||this.dirty)&&(this.gl.clearColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class Cs extends yr{getDefault(){return 1}set(d){(d!==this.current||this.dirty)&&(this.gl.clearDepth(d),this.current=d,this.dirty=!1)}}class zs extends yr{getDefault(){return 0}set(d){(d!==this.current||this.dirty)&&(this.gl.clearStencil(d),this.current=d,this.dirty=!1)}}class ym extends yr{getDefault(){return[!0,!0,!0,!0]}set(d){const y=this.current;(d[0]!==y[0]||d[1]!==y[1]||d[2]!==y[2]||d[3]!==y[3]||this.dirty)&&(this.gl.colorMask(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class vm extends yr{getDefault(){return!0}set(d){(d!==this.current||this.dirty)&&(this.gl.depthMask(d),this.current=d,this.dirty=!1)}}class xa extends yr{getDefault(){return 255}set(d){(d!==this.current||this.dirty)&&(this.gl.stencilMask(d),this.current=d,this.dirty=!1)}}class Ny extends yr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(d){const y=this.current;(d.func!==y.func||d.ref!==y.ref||d.mask!==y.mask||this.dirty)&&(this.gl.stencilFunc(d.func,d.ref,d.mask),this.current=d,this.dirty=!1)}}class If extends yr{getDefault(){const d=this.gl;return[d.KEEP,d.KEEP,d.KEEP]}set(d){const y=this.current;(d[0]!==y[0]||d[1]!==y[1]||d[2]!==y[2]||this.dirty)&&(this.gl.stencilOp(d[0],d[1],d[2]),this.current=d,this.dirty=!1)}}class xm extends yr{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;d?y.enable(y.STENCIL_TEST):y.disable(y.STENCIL_TEST),this.current=d,this.dirty=!1}}class _a extends yr{getDefault(){return[0,1]}set(d){const y=this.current;(d[0]!==y[0]||d[1]!==y[1]||this.dirty)&&(this.gl.depthRange(d[0],d[1]),this.current=d,this.dirty=!1)}}class kf extends yr{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;d?y.enable(y.DEPTH_TEST):y.disable(y.DEPTH_TEST),this.current=d,this.dirty=!1}}class Ed extends yr{getDefault(){return this.gl.LESS}set(d){(d!==this.current||this.dirty)&&(this.gl.depthFunc(d),this.current=d,this.dirty=!1)}}class Td extends yr{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;d?y.enable(y.BLEND):y.disable(y.BLEND),this.current=d,this.dirty=!1}}class _m extends yr{getDefault(){const d=this.gl;return[d.ONE,d.ZERO]}set(d){const y=this.current;(d[0]!==y[0]||d[1]!==y[1]||this.dirty)&&(this.gl.blendFunc(d[0],d[1]),this.current=d,this.dirty=!1)}}class Pu extends yr{getDefault(){return s.aT.transparent}set(d){const y=this.current;(d.r!==y.r||d.g!==y.g||d.b!==y.b||d.a!==y.a||this.dirty)&&(this.gl.blendColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class ix extends yr{getDefault(){return this.gl.FUNC_ADD}set(d){(d!==this.current||this.dirty)&&(this.gl.blendEquation(d),this.current=d,this.dirty=!1)}}class zy extends yr{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;d?y.enable(y.CULL_FACE):y.disable(y.CULL_FACE),this.current=d,this.dirty=!1}}class By extends yr{getDefault(){return this.gl.BACK}set(d){(d!==this.current||this.dirty)&&(this.gl.cullFace(d),this.current=d,this.dirty=!1)}}class Rf extends yr{getDefault(){return this.gl.CCW}set(d){(d!==this.current||this.dirty)&&(this.gl.frontFace(d),this.current=d,this.dirty=!1)}}class Wa extends yr{getDefault(){return null}set(d){(d!==this.current||this.dirty)&&(this.gl.useProgram(d),this.current=d,this.dirty=!1)}}class ec extends yr{getDefault(){return this.gl.TEXTURE0}set(d){(d!==this.current||this.dirty)&&(this.gl.activeTexture(d),this.current=d,this.dirty=!1)}}class tc extends yr{getDefault(){const d=this.gl;return[0,0,d.drawingBufferWidth,d.drawingBufferHeight]}set(d){const y=this.current;(d[0]!==y[0]||d[1]!==y[1]||d[2]!==y[2]||d[3]!==y[3]||this.dirty)&&(this.gl.viewport(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class Of extends yr{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,d),this.current=d,this.dirty=!1}}class bm extends yr{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;y.bindRenderbuffer(y.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class Ml extends yr{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;y.bindTexture(y.TEXTURE_2D,d),this.current=d,this.dirty=!1}}class ba extends yr{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;y.bindBuffer(y.ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class Hh extends yr{getDefault(){return null}set(d){const y=this.gl;y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class Fy extends yr{getDefault(){return null}set(d){var y;if(d===this.current&&!this.dirty)return;const A=this.gl;Au(A)?A.bindVertexArray(d):(y=A.getExtension("OES_vertex_array_object"))===null||y===void 0||y.bindVertexArrayOES(d),this.current=d,this.dirty=!1}}class Lf extends yr{getDefault(){return 4}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;y.pixelStorei(y.UNPACK_ALIGNMENT,d),this.current=d,this.dirty=!1}}class Iu extends yr{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d),this.current=d,this.dirty=!1}}class $y extends yr{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const y=this.gl;y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,d),this.current=d,this.dirty=!1}}class nc extends yr{constructor(d,y){super(d),this.context=d,this.parent=y}getDefault(){return null}}class Oc extends nc{setDirty(){this.dirty=!0}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const y=this.gl;y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class jy extends nc{set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const y=this.gl;y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class wm extends nc{set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const y=this.gl;y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class Wr{constructor(d,y,A,I,D){this.context=d,this.width=y,this.height=A;const W=d.gl,G=this.framebuffer=W.createFramebuffer();if(this.colorAttachment=new Oc(d,G),I)this.depthAttachment=D?new wm(d,G):new jy(d,G);else if(D)throw new Error("Stencil cannot be setted without depth");if(W.checkFramebufferStatus(W.FRAMEBUFFER)!==W.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const d=this.context.gl,y=this.colorAttachment.get();if(y&&d.deleteTexture(y),this.depthAttachment){const A=this.depthAttachment.get();A&&d.deleteRenderbuffer(A)}d.deleteFramebuffer(this.framebuffer)}}class Oi{constructor(d,y,A){this.blendFunction=d,this.blendColor=y,this.mask=A}}Oi.Replace=[1,0],Oi.disabled=new Oi(Oi.Replace,s.aT.transparent,[!1,!1,!1,!1]),Oi.unblended=new Oi(Oi.Replace,s.aT.transparent,[!0,!0,!0,!0]),Oi.alphaBlended=new Oi([1,771],s.aT.transparent,[!0,!0,!0,!0]);class Df{constructor(d){var y,A;if(this.gl=d,this.clearColor=new Va(this),this.clearDepth=new Cs(this),this.clearStencil=new zs(this),this.colorMask=new ym(this),this.depthMask=new vm(this),this.stencilMask=new xa(this),this.stencilFunc=new Ny(this),this.stencilOp=new If(this),this.stencilTest=new xm(this),this.depthRange=new _a(this),this.depthTest=new kf(this),this.depthFunc=new Ed(this),this.blend=new Td(this),this.blendFunc=new _m(this),this.blendColor=new Pu(this),this.blendEquation=new ix(this),this.cullFace=new zy(this),this.cullFaceSide=new By(this),this.frontFace=new Rf(this),this.program=new Wa(this),this.activeTexture=new ec(this),this.viewport=new tc(this),this.bindFramebuffer=new Of(this),this.bindRenderbuffer=new bm(this),this.bindTexture=new Ml(this),this.bindVertexBuffer=new ba(this),this.bindElementBuffer=new Hh(this),this.bindVertexArray=new Fy(this),this.pixelStoreUnpack=new Lf(this),this.pixelStoreUnpackPremultiplyAlpha=new Iu(this),this.pixelStoreUnpackFlipY=new $y(this),this.extTextureFilterAnisotropic=d.getExtension("EXT_texture_filter_anisotropic")||d.getExtension("MOZ_EXT_texture_filter_anisotropic")||d.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=d.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE),Au(d)){this.HALF_FLOAT=d.HALF_FLOAT;const I=d.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(y=d.RGBA16F)!==null&&y!==void 0?y:I==null?void 0:I.RGBA16F_EXT,this.RGB16F=(A=d.RGB16F)!==null&&A!==void 0?A:I==null?void 0:I.RGB16F_EXT,d.getExtension("EXT_color_buffer_float")}else{d.getExtension("EXT_color_buffer_half_float"),d.getExtension("OES_texture_half_float_linear");const I=d.getExtension("OES_texture_half_float");this.HALF_FLOAT=I==null?void 0:I.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(d,y){return new gm(this,d,y)}createVertexBuffer(d,y,A){return new va(this,d,y,A)}createRenderbuffer(d,y,A){const I=this.gl,D=I.createRenderbuffer();return this.bindRenderbuffer.set(D),I.renderbufferStorage(I.RENDERBUFFER,d,y,A),this.bindRenderbuffer.set(null),D}createFramebuffer(d,y,A,I){return new Wr(this,d,y,A,I)}clear({color:d,depth:y,stencil:A}){const I=this.gl;let D=0;d&&(D|=I.COLOR_BUFFER_BIT,this.clearColor.set(d),this.colorMask.set([!0,!0,!0,!0])),y!==void 0&&(D|=I.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(y),this.depthMask.set(!0)),A!==void 0&&(D|=I.STENCIL_BUFFER_BIT,this.clearStencil.set(A),this.stencilMask.set(255)),I.clear(D)}setCullFace(d){d.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(d.mode),this.frontFace.set(d.frontFace))}setDepthMode(d){d.func!==this.gl.ALWAYS||d.mask?(this.depthTest.set(!0),this.depthFunc.set(d.func),this.depthMask.set(d.mask),this.depthRange.set(d.range)):this.depthTest.set(!1)}setStencilMode(d){d.test.func!==this.gl.ALWAYS||d.mask?(this.stencilTest.set(!0),this.stencilMask.set(d.mask),this.stencilOp.set([d.fail,d.depthFail,d.pass]),this.stencilFunc.set({func:d.test.func,ref:d.ref,mask:d.test.mask})):this.stencilTest.set(!1)}setColorMode(d){s.aG(d.blendFunction,Oi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(d.blendFunction),this.blendColor.set(d.blendColor)),this.colorMask.set(d.mask)}createVertexArray(){var d;return Au(this.gl)?this.gl.createVertexArray():(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.createVertexArrayOES()}deleteVertexArray(d){var y;return Au(this.gl)?this.gl.deleteVertexArray(d):(y=this.gl.getExtension("OES_vertex_array_object"))===null||y===void 0?void 0:y.deleteVertexArrayOES(d)}unbindVAO(){this.bindVertexArray.set(null)}}class Sr{constructor(d,y,A){this.func=d,this.mask=y,this.range=A}}Sr.ReadOnly=!1,Sr.ReadWrite=!0,Sr.disabled=new Sr(519,Sr.ReadOnly,[0,1]);const rc=7680;class Mi{constructor(d,y,A,I,D,W){this.test=d,this.ref=y,this.mask=A,this.fail=I,this.depthFail=D,this.pass=W}}Mi.disabled=new Mi({func:519,mask:0},0,0,rc,rc,rc);class jr{constructor(d,y,A){this.enable=d,this.mode=y,this.frontFace=A}}let As;function ku(O,d,y,A,I,D,W){const G=O.context,K=G.gl,ee=O.useProgram("collisionBox"),re=[];let se=0,be=0;for(let Ge=0;Ge<A.length;Ge++){const ft=A[Ge],At=d.getTile(ft),Pt=At.getBucket(y);if(!Pt)continue;let qt=ft.posMatrix;I[0]===0&&I[1]===0||(qt=O.translatePosMatrix(ft.posMatrix,At,I,D));const wt=W?Pt.textCollisionBox:Pt.iconCollisionBox,Kt=Pt.collisionCircleArray;if(Kt.length>0){const ln=s.Z(),Rn=qt;s.aU(ln,Pt.placementInvProjMatrix,O.transform.glCoordMatrix),s.aU(ln,ln,Pt.placementViewportMatrix),re.push({circleArray:Kt,circleOffset:be,transform:Rn,invTransform:ln,coord:ft}),se+=Kt.length/4,be=se}wt&&ee.draw(G,K.LINES,Sr.disabled,Mi.disabled,O.colorModeForRenderPass(),jr.disabled,Md(qt,O.transform,At),O.style.map.terrain&&O.style.map.terrain.getTerrainData(ft),y.id,wt.layoutVertexBuffer,wt.indexBuffer,wt.segments,null,O.transform.zoom,null,null,wt.collisionVertexBuffer)}if(!W||!re.length)return;const Le=O.useProgram("collisionCircle"),Re=new s.aV;Re.resize(4*se),Re._trim();let $e=0;for(const Ge of re)for(let ft=0;ft<Ge.circleArray.length/4;ft++){const At=4*ft,Pt=Ge.circleArray[At+0],qt=Ge.circleArray[At+1],wt=Ge.circleArray[At+2],Kt=Ge.circleArray[At+3];Re.emplace($e++,Pt,qt,wt,Kt,0),Re.emplace($e++,Pt,qt,wt,Kt,1),Re.emplace($e++,Pt,qt,wt,Kt,2),Re.emplace($e++,Pt,qt,wt,Kt,3)}(!As||As.length<2*se)&&(As=function(Ge){const ft=2*Ge,At=new s.aX;At.resize(ft),At._trim();for(let Pt=0;Pt<ft;Pt++){const qt=6*Pt;At.uint16[qt+0]=4*Pt+0,At.uint16[qt+1]=4*Pt+1,At.uint16[qt+2]=4*Pt+2,At.uint16[qt+3]=4*Pt+2,At.uint16[qt+4]=4*Pt+3,At.uint16[qt+5]=4*Pt+0}return At}(se));const Ie=G.createIndexBuffer(As,!0),at=G.createVertexBuffer(Re,s.aW.members,!0);for(const Ge of re){const ft={u_matrix:Ge.transform,u_inv_matrix:Ge.invTransform,u_camera_to_center_distance:(Mt=O.transform).cameraToCenterDistance,u_viewport_size:[Mt.width,Mt.height]};Le.draw(G,K.TRIANGLES,Sr.disabled,Mi.disabled,O.colorModeForRenderPass(),jr.disabled,ft,O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ge.coord),y.id,at,Ie,s.S.simpleSegment(0,2*Ge.circleOffset,Ge.circleArray.length,Ge.circleArray.length/2),null,O.transform.zoom,null,null,null)}var Mt;at.destroy(),Ie.destroy()}jr.disabled=new jr(!1,1029,2305),jr.backCCW=new jr(!0,1029,2305);const El=s.ao(new Float32Array(16));function Ha(O,d,y,A,I,D){const{horizontalAlign:W,verticalAlign:G}=s.au(O);return new s.P((-(W-.5)*d/I+A[0])*D,(-(G-.5)*y/I+A[1])*D)}function ic(O,d,y,A,I,D,W,G,K,ee,re){const se=O.text.placedSymbolArray,be=O.text.dynamicLayoutVertexArray,Le=O.icon.dynamicLayoutVertexArray,Re={};be.clear();for(let $e=0;$e<se.length;$e++){const Ie=se.get($e),at=Ie.hidden||!Ie.crossTileID||O.allowVerticalPlacement&&!Ie.placedOrientation?null:A[Ie.crossTileID];if(at){const Mt=new s.P(Ie.anchorX,Ie.anchorY),Ge=an(Mt,y?W:D,re),ft=Ot(I.cameraToCenterDistance,Ge.signedDistanceFromCamera);let At=s.aj(O.textSizeData,K,Ie)*ft/s.ap;y&&(At*=O.tilePixelRatio/G);const{width:Pt,height:qt,anchor:wt,textOffset:Kt,textBoxScale:ln}=at,Rn=Ha(wt,Pt,qt,Kt,ln,At),Pr=y?an(Mt.add(Rn),D,re).point:Ge.point.add(d?Rn.rotate(-I.angle):Rn),dn=O.allowVerticalPlacement&&Ie.placedOrientation===s.ai.vertical?Math.PI/2:0;for(let Jn=0;Jn<Ie.numGlyphs;Jn++)s.ak(be,Pr,dn);ee&&Ie.associatedIconIndex>=0&&(Re[Ie.associatedIconIndex]={shiftedAnchor:Pr,angle:dn})}else Te(Ie.numGlyphs,be)}if(ee){Le.clear();const $e=O.icon.placedSymbolArray;for(let Ie=0;Ie<$e.length;Ie++){const at=$e.get(Ie);if(at.hidden)Te(at.numGlyphs,Le);else{const Mt=Re[Ie];if(Mt)for(let Ge=0;Ge<at.numGlyphs;Ge++)s.ak(Le,Mt.shiftedAnchor,Mt.angle);else Te(at.numGlyphs,Le)}}O.icon.dynamicLayoutVertexBuffer.updateData(Le)}O.text.dynamicLayoutVertexBuffer.updateData(be)}function Sm(O,d,y){return y.iconsInText&&d?"symbolTextAndIcon":O?"symbolSDF":"symbolIcon"}function Nf(O,d,y,A,I,D,W,G,K,ee,re,se){const be=O.context,Le=be.gl,Re=O.transform,$e=G==="map",Ie=K==="map",at=G!=="viewport"&&y.layout.get("symbol-placement")!=="point",Mt=$e&&!Ie&&!at,Ge=!y.layout.get("symbol-sort-key").isConstant();let ft=!1;const At=O.depthModeForSublayer(0,Sr.ReadOnly),Pt=y._unevaluatedLayout.hasValue("text-variable-anchor")||y._unevaluatedLayout.hasValue("text-variable-anchor-offset"),qt=[];for(const wt of A){const Kt=d.getTile(wt),ln=Kt.getBucket(y);if(!ln)continue;const Rn=I?ln.text:ln.icon;if(!Rn||!Rn.segments.get().length||!Rn.hasVisibleVertices)continue;const Pr=Rn.programConfigurations.get(y.id),dn=I||ln.sdfIcons,Jn=I?ln.textSizeData:ln.iconSizeData,On=Ie||Re.pitch!==0,ei=O.useProgram(Sm(dn,I,ln),Pr),Er=s.ah(Jn,Re.zoom),vr=O.style.map.terrain&&O.style.map.terrain.getTerrainData(wt);let Tr,ro,gi,Fo,yo=[0,0],lo=null;if(I)ro=Kt.glyphAtlasTexture,gi=Le.LINEAR,Tr=Kt.glyphAtlasTexture.size,ln.iconsInText&&(yo=Kt.imageAtlasTexture.size,lo=Kt.imageAtlasTexture,Fo=On||O.options.rotating||O.options.zooming||Jn.kind==="composite"||Jn.kind==="camera"?Le.LINEAR:Le.NEAREST);else{const Di=y.layout.get("icon-size").constantOr(0)!==1||ln.iconsNeedLinear;ro=Kt.imageAtlasTexture,gi=dn||O.options.rotating||O.options.zooming||Di||On?Le.LINEAR:Le.NEAREST,Tr=Kt.imageAtlasTexture.size}const Gs=qe(Kt,1,O.transform.zoom),li=mt(wt.posMatrix,Ie,$e,O.transform,Gs),lc=un(wt.posMatrix,Ie,$e,O.transform,Gs),cc=Pt&&ln.hasTextData(),Fc=y.layout.get("icon-text-fit")!=="none"&&cc&&ln.hasIconData();if(at){const Di=O.style.map.terrain?(Zo,qi)=>O.style.map.terrain.getElevation(wt,Zo,qi):null,co=y.layout.get("text-rotation-alignment")==="map";Ve(ln,wt.posMatrix,O,I,li,lc,Ie,ee,co,Di)}const Nu=O.translatePosMatrix(wt.posMatrix,Kt,D,W),Dd=at||I&&Pt||Fc?El:li,us=O.translatePosMatrix(lc,Kt,D,W,!0),Co=dn&&y.paint.get(I?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ko;Ko=dn?ln.iconsInText?Ui(Jn.kind,Er,Mt,Ie,O,Nu,Dd,us,Tr,yo):Dy(Jn.kind,Er,Mt,Ie,O,Nu,Dd,us,I,Tr,!0):Ly(Jn.kind,Er,Mt,Ie,O,Nu,Dd,us,I,Tr);const uc={program:ei,buffers:Rn,uniformValues:Ko,atlasTexture:ro,atlasTextureIcon:lo,atlasInterpolation:gi,atlasInterpolationIcon:Fo,isSDF:dn,hasHalo:Co};if(Ge&&ln.canOverlap){ft=!0;const Di=Rn.segments.get();for(const co of Di)qt.push({segments:new s.S([co]),sortKey:co.sortKey,state:uc,terrainData:vr})}else qt.push({segments:Rn.segments,sortKey:0,state:uc,terrainData:vr})}ft&&qt.sort((wt,Kt)=>wt.sortKey-Kt.sortKey);for(const wt of qt){const Kt=wt.state;if(be.activeTexture.set(Le.TEXTURE0),Kt.atlasTexture.bind(Kt.atlasInterpolation,Le.CLAMP_TO_EDGE),Kt.atlasTextureIcon&&(be.activeTexture.set(Le.TEXTURE1),Kt.atlasTextureIcon&&Kt.atlasTextureIcon.bind(Kt.atlasInterpolationIcon,Le.CLAMP_TO_EDGE)),Kt.isSDF){const ln=Kt.uniformValues;Kt.hasHalo&&(ln.u_is_halo=1,Gh(Kt.buffers,wt.segments,y,O,Kt.program,At,re,se,ln,wt.terrainData)),ln.u_is_halo=0}Gh(Kt.buffers,wt.segments,y,O,Kt.program,At,re,se,Kt.uniformValues,wt.terrainData)}}function Gh(O,d,y,A,I,D,W,G,K,ee){const re=A.context;I.draw(re,re.gl.TRIANGLES,D,W,G,jr.disabled,K,ee,y.id,O.layoutVertexBuffer,O.indexBuffer,d,y.paint,A.transform.zoom,O.programConfigurations.get(y.id),O.dynamicLayoutVertexBuffer,O.opacityVertexBuffer)}function as(O,d,y,A,I){if(!y||!A||!A.imageAtlas)return;const D=A.imageAtlas.patternPositions;let W=D[y.to.toString()],G=D[y.from.toString()];if(!W&&G&&(W=G),!G&&W&&(G=W),!W||!G){const K=I.getPaintProperty(d);W=D[K],G=D[K]}W&&G&&O.setConstantPatternPositions(W,G)}function ls(O,d,y,A,I,D,W){const G=O.context.gl,K="fill-pattern",ee=y.paint.get(K),re=ee&&ee.constantOr(1),se=y.getCrossfadeParameters();let be,Le,Re,$e,Ie;W?(Le=re&&!y.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",be=G.LINES):(Le=re?"fillPattern":"fill",be=G.TRIANGLES);const at=ee.constantOr(null);for(const Mt of A){const Ge=d.getTile(Mt);if(re&&!Ge.patternsLoaded())continue;const ft=Ge.getBucket(y);if(!ft)continue;const At=ft.programConfigurations.get(y.id),Pt=O.useProgram(Le,At),qt=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Mt);re&&(O.context.activeTexture.set(G.TEXTURE0),Ge.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),At.updatePaintBuffers(se)),as(At,K,at,Ge,y);const wt=qt?Mt:null,Kt=O.translatePosMatrix(wt?wt.posMatrix:Mt.posMatrix,Ge,y.paint.get("fill-translate"),y.paint.get("fill-translate-anchor"));if(W){$e=ft.indexBuffer2,Ie=ft.segments2;const ln=[G.drawingBufferWidth,G.drawingBufferHeight];Re=Le==="fillOutlinePattern"&&re?Sd(Kt,O,se,Ge,ln):hm(Kt,ln)}else $e=ft.indexBuffer,Ie=ft.segments,Re=re?Ry(Kt,O,se,Ge):jh(Kt);Pt.draw(O.context,be,I,O.stencilModeForClipping(Mt),D,jr.disabled,Re,qt,y.id,ft.layoutVertexBuffer,$e,Ie,y.paint,O.transform.zoom,At)}}function mi(O,d,y,A,I,D,W){const G=O.context,K=G.gl,ee="fill-extrusion-pattern",re=y.paint.get(ee),se=re.constantOr(1),be=y.getCrossfadeParameters(),Le=y.paint.get("fill-extrusion-opacity"),Re=re.constantOr(null);for(const $e of A){const Ie=d.getTile($e),at=Ie.getBucket(y);if(!at)continue;const Mt=O.style.map.terrain&&O.style.map.terrain.getTerrainData($e),Ge=at.programConfigurations.get(y.id),ft=O.useProgram(se?"fillExtrusionPattern":"fillExtrusion",Ge);se&&(O.context.activeTexture.set(K.TEXTURE0),Ie.imageAtlasTexture.bind(K.LINEAR,K.CLAMP_TO_EDGE),Ge.updatePaintBuffers(be)),as(Ge,ee,Re,Ie,y);const At=O.translatePosMatrix($e.posMatrix,Ie,y.paint.get("fill-extrusion-translate"),y.paint.get("fill-extrusion-translate-anchor")),Pt=y.paint.get("fill-extrusion-vertical-gradient"),qt=se?To(At,O,Pt,Le,$e,be,Ie):Eu(At,O,Pt,Le);ft.draw(G,G.gl.TRIANGLES,I,D,W,jr.backCCW,qt,Mt,y.id,at.layoutVertexBuffer,at.indexBuffer,at.segments,y.paint,O.transform.zoom,Ge,O.style.map.terrain&&at.centroidVertexBuffer)}}function qh(O,d,y,A,I,D,W){const G=O.context,K=G.gl,ee=y.fbo;if(!ee)return;const re=O.useProgram("hillshade"),se=O.style.map.terrain&&O.style.map.terrain.getTerrainData(d);G.activeTexture.set(K.TEXTURE0),K.bindTexture(K.TEXTURE_2D,ee.colorAttachment.get()),re.draw(G,K.TRIANGLES,I,D,W,jr.disabled,((be,Le,Re,$e)=>{const Ie=Re.paint.get("hillshade-shadow-color"),at=Re.paint.get("hillshade-highlight-color"),Mt=Re.paint.get("hillshade-accent-color");let Ge=Re.paint.get("hillshade-illumination-direction")*(Math.PI/180);Re.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ge-=be.transform.angle);const ft=!be.options.moving;return{u_matrix:$e?$e.posMatrix:be.transform.calculatePosMatrix(Le.tileID.toUnwrapped(),ft),u_image:0,u_latrange:Uh(0,Le.tileID),u_light:[Re.paint.get("hillshade-exaggeration"),Ge],u_shadow:Ie,u_highlight:at,u_accent:Mt}})(O,y,A,se?d:null),se,A.id,O.rasterBoundsBuffer,O.quadTriangleIndexBuffer,O.rasterBoundsSegments)}function wa(O,d,y,A,I,D){const W=O.context,G=W.gl,K=d.dem;if(K&&K.data){const ee=K.dim,re=K.stride,se=K.getPixels();if(W.activeTexture.set(G.TEXTURE1),W.pixelStoreUnpackPremultiplyAlpha.set(!1),d.demTexture=d.demTexture||O.getTileTexture(re),d.demTexture){const Le=d.demTexture;Le.update(se,{premultiply:!1}),Le.bind(G.NEAREST,G.CLAMP_TO_EDGE)}else d.demTexture=new j(W,se,G.RGBA,{premultiply:!1}),d.demTexture.bind(G.NEAREST,G.CLAMP_TO_EDGE);W.activeTexture.set(G.TEXTURE0);let be=d.fbo;if(!be){const Le=new j(W,{width:ee,height:ee,data:null},G.RGBA);Le.bind(G.LINEAR,G.CLAMP_TO_EDGE),be=d.fbo=W.createFramebuffer(ee,ee,!0,!1),be.colorAttachment.set(Le.texture)}W.bindFramebuffer.set(be.framebuffer),W.viewport.set([0,0,ee,ee]),O.useProgram("hillshadePrepare").draw(W,G.TRIANGLES,A,I,D,jr.disabled,((Le,Re)=>{const $e=Re.stride,Ie=s.Z();return s.aS(Ie,0,s.N,-s.N,0,0,1),s.$(Ie,Ie,[0,-s.N,0]),{u_matrix:Ie,u_image:1,u_dimension:[$e,$e],u_zoom:Le.overscaledZ,u_unpack:Re.getUnpackVector()}})(d.tileID,K),null,y.id,O.rasterBoundsBuffer,O.quadTriangleIndexBuffer,O.rasterBoundsSegments),d.needsHillshadePrepare=!1}}function ox(O,d,y,A,I,D){const W=A.paint.get("raster-fade-duration");if(!D&&W>0){const G=s.h.now(),K=(G-O.timeAdded)/W,ee=d?(G-d.timeAdded)/W:-1,re=y.getSource(),se=I.coveringZoomLevel({tileSize:re.tileSize,roundZoom:re.roundZoom}),be=!d||Math.abs(d.tileID.overscaledZ-se)>Math.abs(O.tileID.overscaledZ-se),Le=be&&O.refreshedUponExpiration?1:s.ad(be?K:1-ee,0,1);return O.refreshedUponExpiration&&K>=1&&(O.refreshedUponExpiration=!1),d?{opacity:1,mix:1-Le}:{opacity:Le,mix:0}}return{opacity:1,mix:0}}const Uy=new s.aT(1,0,0,1),zf=new s.aT(0,1,0,1),Yh=new s.aT(0,0,1,1),Vy=new s.aT(1,0,1,1),Bf=new s.aT(0,1,1,1);function oc(O,d,y,A){Ru(O,0,d+y/2,O.transform.width,y,A)}function Ff(O,d,y,A){Ru(O,d-y/2,0,y,O.transform.height,A)}function Ru(O,d,y,A,I,D){const W=O.context,G=W.gl;G.enable(G.SCISSOR_TEST),G.scissor(d*O.pixelRatio,y*O.pixelRatio,A*O.pixelRatio,I*O.pixelRatio),W.clear({color:D}),G.disable(G.SCISSOR_TEST)}function Xh(O,d,y){const A=O.context,I=A.gl,D=y.posMatrix,W=O.useProgram("debug"),G=Sr.disabled,K=Mi.disabled,ee=O.colorModeForRenderPass(),re="$debug",se=O.style.map.terrain&&O.style.map.terrain.getTerrainData(y);A.activeTexture.set(I.TEXTURE0);const be=d.getTileByID(y.key).latestRawTileData,Le=Math.floor((be&&be.byteLength||0)/1024),Re=d.getTile(y).tileSize,$e=512/Math.min(Re,512)*(y.overscaledZ/O.transform.zoom)*.5;let Ie=y.canonical.toString();y.overscaledZ!==y.canonical.z&&(Ie+=` => ${y.overscaledZ}`),function(at,Mt){at.initDebugOverlayCanvas();const Ge=at.debugOverlayCanvas,ft=at.context.gl,At=at.debugOverlayCanvas.getContext("2d");At.clearRect(0,0,Ge.width,Ge.height),At.shadowColor="white",At.shadowBlur=2,At.lineWidth=1.5,At.strokeStyle="white",At.textBaseline="top",At.font="bold 36px Open Sans, sans-serif",At.fillText(Mt,5,5),At.strokeText(Mt,5,5),at.debugOverlayTexture.update(Ge),at.debugOverlayTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE)}(O,`${Ie} ${Le}kB`),W.draw(A,I.TRIANGLES,G,K,Oi.alphaBlended,jr.disabled,Tu(D,s.aT.transparent,$e),null,re,O.debugBuffer,O.quadTriangleIndexBuffer,O.debugSegments),W.draw(A,I.LINE_STRIP,G,K,ee,jr.disabled,Tu(D,s.aT.red),se,re,O.debugBuffer,O.tileBorderIndexBuffer,O.debugSegments)}function Vi(O,d,y){const A=O.context,I=A.gl,D=O.colorModeForRenderPass(),W=new Sr(I.LEQUAL,Sr.ReadWrite,O.depthRangeFor3D),G=O.useProgram("terrain"),K=d.getTerrainMesh();A.bindFramebuffer.set(null),A.viewport.set([0,0,O.width,O.height]);for(const ee of y){const re=O.renderToTexture.getTexture(ee),se=d.getTerrainData(ee.tileID);A.activeTexture.set(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,re.texture);const be={u_matrix:O.transform.calculatePosMatrix(ee.tileID.toUnwrapped()),u_texture:0,u_ele_delta:d.getMeshFrameDelta(O.transform.zoom)};G.draw(A,I.TRIANGLES,W,Mi.disabled,D,jr.backCCW,be,se,"terrain",K.vertexBuffer,K.indexBuffer,K.segments)}}class Ou{constructor(d,y){this.context=new Df(d),this.transform=y,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.Z(),renderTime:0},this.setup(),this.numSublayers=Ce.maxUnderzooming+Ce.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new hi}resize(d,y,A){if(this.width=Math.floor(d*A),this.height=Math.floor(y*A),this.pixelRatio=A,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const I of this.style._order)this.style._layers[I].resize()}setup(){const d=this.context,y=new s.a_;y.emplaceBack(0,0),y.emplaceBack(s.N,0),y.emplaceBack(0,s.N),y.emplaceBack(s.N,s.N),this.tileExtentBuffer=d.createVertexBuffer(y,Li.members),this.tileExtentSegments=s.S.simpleSegment(0,0,4,2);const A=new s.a_;A.emplaceBack(0,0),A.emplaceBack(s.N,0),A.emplaceBack(0,s.N),A.emplaceBack(s.N,s.N),this.debugBuffer=d.createVertexBuffer(A,Li.members),this.debugSegments=s.S.simpleSegment(0,0,4,5);const I=new s.V;I.emplaceBack(0,0,0,0),I.emplaceBack(s.N,0,s.N,0),I.emplaceBack(0,s.N,0,s.N),I.emplaceBack(s.N,s.N,s.N,s.N),this.rasterBoundsBuffer=d.createVertexBuffer(I,Be.members),this.rasterBoundsSegments=s.S.simpleSegment(0,0,4,2);const D=new s.a_;D.emplaceBack(0,0),D.emplaceBack(1,0),D.emplaceBack(0,1),D.emplaceBack(1,1),this.viewportBuffer=d.createVertexBuffer(D,Li.members),this.viewportSegments=s.S.simpleSegment(0,0,4,2);const W=new s.a$;W.emplaceBack(0),W.emplaceBack(1),W.emplaceBack(3),W.emplaceBack(2),W.emplaceBack(0),this.tileBorderIndexBuffer=d.createIndexBuffer(W);const G=new s.b0;G.emplaceBack(0,1,2),G.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=d.createIndexBuffer(G);const K=this.context.gl;this.stencilClearMode=new Mi({func:K.ALWAYS,mask:0},0,255,K.ZERO,K.ZERO,K.ZERO)}clearStencil(){const d=this.context,y=d.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const A=s.Z();s.aS(A,0,this.width,this.height,0,0,1),s.a0(A,A,[y.drawingBufferWidth,y.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(d,y.TRIANGLES,Sr.disabled,this.stencilClearMode,Oi.disabled,jr.disabled,rx(A),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(d,y){if(this.currentStencilSource===d.source||!d.isTileClipped()||!y||!y.length)return;this.currentStencilSource=d.source;const A=this.context,I=A.gl;this.nextStencilID+y.length>256&&this.clearStencil(),A.setColorMode(Oi.disabled),A.setDepthMode(Sr.disabled);const D=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const W of y){const G=this._tileClippingMaskIDs[W.key]=this.nextStencilID++,K=this.style.map.terrain&&this.style.map.terrain.getTerrainData(W);D.draw(A,I.TRIANGLES,Sr.disabled,new Mi({func:I.ALWAYS,mask:0},G,255,I.KEEP,I.KEEP,I.REPLACE),Oi.disabled,jr.disabled,rx(W.posMatrix),K,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const d=this.nextStencilID++,y=this.context.gl;return new Mi({func:y.NOTEQUAL,mask:255},d,255,y.KEEP,y.KEEP,y.REPLACE)}stencilModeForClipping(d){const y=this.context.gl;return new Mi({func:y.EQUAL,mask:255},this._tileClippingMaskIDs[d.key],0,y.KEEP,y.KEEP,y.REPLACE)}stencilConfigForOverlap(d){const y=this.context.gl,A=d.sort((W,G)=>G.overscaledZ-W.overscaledZ),I=A[A.length-1].overscaledZ,D=A[0].overscaledZ-I+1;if(D>1){this.currentStencilSource=void 0,this.nextStencilID+D>256&&this.clearStencil();const W={};for(let G=0;G<D;G++)W[G+I]=new Mi({func:y.GEQUAL,mask:255},G+this.nextStencilID,255,y.KEEP,y.KEEP,y.REPLACE);return this.nextStencilID+=D,[W,A]}return[{[I]:Mi.disabled},A]}colorModeForRenderPass(){const d=this.context.gl;return this._showOverdrawInspector?new Oi([d.CONSTANT_COLOR,d.ONE],new s.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Oi.unblended:Oi.alphaBlended}depthModeForSublayer(d,y,A){if(!this.opaquePassEnabledForLayer())return Sr.disabled;const I=1-((1+this.currentLayer)*this.numSublayers+d)*this.depthEpsilon;return new Sr(A||this.context.gl.LEQUAL,y,[I,I])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(d,y){this.style=d,this.options=y,this.lineAtlas=d.lineAtlas,this.imageManager=d.imageManager,this.glyphManager=d.glyphManager,this.symbolFadeChange=d.placement.symbolFadeChange(s.h.now()),this.imageManager.beginFrame();const A=this.style._order,I=this.style.sourceCaches,D={},W={},G={};for(const K in I){const ee=I[K];ee.used&&ee.prepare(this.context),D[K]=ee.getVisibleCoordinates(),W[K]=D[K].slice().reverse(),G[K]=ee.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let K=0;K<A.length;K++)if(this.style._layers[A[K]].is3D()){this.opaquePassCutoff=K;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const K=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!s.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||K.length)&&(s.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(ee,re){const se=ee.context,be=se.gl,Le=Oi.unblended,Re=new Sr(be.LEQUAL,Sr.ReadWrite,[0,1]),$e=re.getTerrainMesh(),Ie=re.sourceCache.getRenderableTiles(),at=ee.useProgram("terrainDepth");se.bindFramebuffer.set(re.getFramebuffer("depth").framebuffer),se.viewport.set([0,0,ee.width/devicePixelRatio,ee.height/devicePixelRatio]),se.clear({color:s.aT.transparent,depth:1});for(const Mt of Ie){const Ge=re.getTerrainData(Mt.tileID),ft={u_matrix:ee.transform.calculatePosMatrix(Mt.tileID.toUnwrapped()),u_ele_delta:re.getMeshFrameDelta(ee.transform.zoom)};at.draw(se,be.TRIANGLES,Re,Mi.disabled,Le,jr.backCCW,ft,Ge,"terrain",$e.vertexBuffer,$e.indexBuffer,$e.segments)}se.bindFramebuffer.set(null),se.viewport.set([0,0,ee.width,ee.height])}(this,this.style.map.terrain),function(ee,re){const se=ee.context,be=se.gl,Le=Oi.unblended,Re=new Sr(be.LEQUAL,Sr.ReadWrite,[0,1]),$e=re.getTerrainMesh(),Ie=re.getCoordsTexture(),at=re.sourceCache.getRenderableTiles(),Mt=ee.useProgram("terrainCoords");se.bindFramebuffer.set(re.getFramebuffer("coords").framebuffer),se.viewport.set([0,0,ee.width/devicePixelRatio,ee.height/devicePixelRatio]),se.clear({color:s.aT.transparent,depth:1}),re.coordsIndex=[];for(const Ge of at){const ft=re.getTerrainData(Ge.tileID);se.activeTexture.set(be.TEXTURE0),be.bindTexture(be.TEXTURE_2D,Ie.texture);const At={u_matrix:ee.transform.calculatePosMatrix(Ge.tileID.toUnwrapped()),u_terrain_coords_id:(255-re.coordsIndex.length)/255,u_texture:0,u_ele_delta:re.getMeshFrameDelta(ee.transform.zoom)};Mt.draw(se,be.TRIANGLES,Re,Mi.disabled,Le,jr.backCCW,At,ft,"terrain",$e.vertexBuffer,$e.indexBuffer,$e.segments),re.coordsIndex.push(Ge.tileID.key)}se.bindFramebuffer.set(null),se.viewport.set([0,0,ee.width,ee.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const K of A){const ee=this.style._layers[K];if(!ee.hasOffscreenPass()||ee.isHidden(this.transform.zoom))continue;const re=W[ee.source];(ee.type==="custom"||re.length)&&this.renderLayer(this,I[ee.source],ee,re)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:y.showOverdrawInspector?s.aT.black:s.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=y.showOverdrawInspector,this.depthRangeFor3D=[0,1-(d._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=A.length-1;this.currentLayer>=0;this.currentLayer--){const K=this.style._layers[A[this.currentLayer]],ee=I[K.source],re=D[K.source];this._renderTileClippingMasks(K,re),this.renderLayer(this,ee,K,re)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<A.length;this.currentLayer++){const K=this.style._layers[A[this.currentLayer]],ee=I[K.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(K))continue;const re=(K.type==="symbol"?G:W)[K.source];this._renderTileClippingMasks(K,D[K.source]),this.renderLayer(this,ee,K,re)}if(this.options.showTileBoundaries){const K=function(ee,re){let se=null;const be=Object.values(ee._layers).flatMap(Ie=>Ie.source&&!Ie.isHidden(re)?[ee.sourceCaches[Ie.source]]:[]),Le=be.filter(Ie=>Ie.getSource().type==="vector"),Re=be.filter(Ie=>Ie.getSource().type!=="vector"),$e=Ie=>{(!se||se.getSource().maxzoom<Ie.getSource().maxzoom)&&(se=Ie)};return Le.forEach(Ie=>$e(Ie)),se||Re.forEach(Ie=>$e(Ie)),se}(this.style,this.transform.zoom);K&&function(ee,re,se){for(let be=0;be<se.length;be++)Xh(ee,re,se[be])}(this,K,K.getVisibleCoordinates())}this.options.showPadding&&function(K){const ee=K.transform.padding;oc(K,K.transform.height-(ee.top||0),3,Uy),oc(K,ee.bottom||0,3,zf),Ff(K,ee.left||0,3,Yh),Ff(K,K.transform.width-(ee.right||0),3,Vy);const re=K.transform.centerPoint;(function(se,be,Le,Re){Ru(se,be-1,Le-10,2,20,Re),Ru(se,be-10,Le-1,20,2,Re)})(K,re.x,K.transform.height-re.y,Bf)}(this),this.context.setDefault()}renderLayer(d,y,A,I){if(!A.isHidden(this.transform.zoom)&&(A.type==="background"||A.type==="custom"||(I||[]).length))switch(this.id=A.id,A.type){case"symbol":(function(D,W,G,K,ee){if(D.renderPass!=="translucent")return;const re=Mi.disabled,se=D.colorModeForRenderPass();(G._unevaluatedLayout.hasValue("text-variable-anchor")||G._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(be,Le,Re,$e,Ie,at,Mt){const Ge=Le.transform,ft=Ie==="map",At=at==="map";for(const Pt of be){const qt=$e.getTile(Pt),wt=qt.getBucket(Re);if(!wt||!wt.text||!wt.text.segments.get().length)continue;const Kt=s.ah(wt.textSizeData,Ge.zoom),ln=qe(qt,1,Le.transform.zoom),Rn=mt(Pt.posMatrix,At,ft,Le.transform,ln),Pr=Re.layout.get("icon-text-fit")!=="none"&&wt.hasIconData();if(Kt){const dn=Math.pow(2,Ge.zoom-qt.tileID.overscaledZ);ic(wt,ft,At,Mt,Ge,Rn,Pt.posMatrix,dn,Kt,Pr,Le.style.map.terrain?(Jn,On)=>Le.style.map.terrain.getElevation(Pt,Jn,On):null)}}}(K,D,G,W,G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),ee),G.paint.get("icon-opacity").constantOr(1)!==0&&Nf(D,W,G,K,!1,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),G.layout.get("icon-rotation-alignment"),G.layout.get("icon-pitch-alignment"),G.layout.get("icon-keep-upright"),re,se),G.paint.get("text-opacity").constantOr(1)!==0&&Nf(D,W,G,K,!0,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),G.layout.get("text-keep-upright"),re,se),W.map.showCollisionBoxes&&(ku(D,W,G,K,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),!0),ku(D,W,G,K,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),!1))})(d,y,A,I,this.style.placement.variableOffsets);break;case"circle":(function(D,W,G,K){if(D.renderPass!=="translucent")return;const ee=G.paint.get("circle-opacity"),re=G.paint.get("circle-stroke-width"),se=G.paint.get("circle-stroke-opacity"),be=!G.layout.get("circle-sort-key").isConstant();if(ee.constantOr(1)===0&&(re.constantOr(1)===0||se.constantOr(1)===0))return;const Le=D.context,Re=Le.gl,$e=D.depthModeForSublayer(0,Sr.ReadOnly),Ie=Mi.disabled,at=D.colorModeForRenderPass(),Mt=[];for(let Ge=0;Ge<K.length;Ge++){const ft=K[Ge],At=W.getTile(ft),Pt=At.getBucket(G);if(!Pt)continue;const qt=Pt.programConfigurations.get(G.id),wt=D.useProgram("circle",qt),Kt=Pt.layoutVertexBuffer,ln=Pt.indexBuffer,Rn=D.style.map.terrain&&D.style.map.terrain.getTerrainData(ft),Pr={programConfiguration:qt,program:wt,layoutVertexBuffer:Kt,indexBuffer:ln,uniformValues:Sl(D,ft,At,G),terrainData:Rn};if(be){const dn=Pt.segments.get();for(const Jn of dn)Mt.push({segments:new s.S([Jn]),sortKey:Jn.sortKey,state:Pr})}else Mt.push({segments:Pt.segments,sortKey:0,state:Pr})}be&&Mt.sort((Ge,ft)=>Ge.sortKey-ft.sortKey);for(const Ge of Mt){const{programConfiguration:ft,program:At,layoutVertexBuffer:Pt,indexBuffer:qt,uniformValues:wt,terrainData:Kt}=Ge.state;At.draw(Le,Re.TRIANGLES,$e,Ie,at,jr.disabled,wt,Kt,G.id,Pt,qt,Ge.segments,G.paint,D.transform.zoom,ft)}})(d,y,A,I);break;case"heatmap":(function(D,W,G,K){if(G.paint.get("heatmap-opacity")!==0)if(D.renderPass==="offscreen"){const ee=D.context,re=ee.gl,se=Mi.disabled,be=new Oi([re.ONE,re.ONE],s.aT.transparent,[!0,!0,!0,!0]);(function(Le,Re,$e){const Ie=Le.gl;Le.activeTexture.set(Ie.TEXTURE1),Le.viewport.set([0,0,Re.width/4,Re.height/4]);let at=$e.heatmapFbo;if(at)Ie.bindTexture(Ie.TEXTURE_2D,at.colorAttachment.get()),Le.bindFramebuffer.set(at.framebuffer);else{const Mt=Ie.createTexture();Ie.bindTexture(Ie.TEXTURE_2D,Mt),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_S,Ie.CLAMP_TO_EDGE),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_T,Ie.CLAMP_TO_EDGE),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MIN_FILTER,Ie.LINEAR),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MAG_FILTER,Ie.LINEAR),at=$e.heatmapFbo=Le.createFramebuffer(Re.width/4,Re.height/4,!1,!1),function(Ge,ft,At,Pt){var qt,wt;const Kt=Ge.gl,ln=(qt=Ge.HALF_FLOAT)!==null&&qt!==void 0?qt:Kt.UNSIGNED_BYTE,Rn=(wt=Ge.RGBA16F)!==null&&wt!==void 0?wt:Kt.RGBA;Kt.texImage2D(Kt.TEXTURE_2D,0,Rn,ft.width/4,ft.height/4,0,Kt.RGBA,ln,null),Pt.colorAttachment.set(At)}(Le,Re,Mt,at)}})(ee,D,G),ee.clear({color:s.aT.transparent});for(let Le=0;Le<K.length;Le++){const Re=K[Le];if(W.hasRenderableParent(Re))continue;const $e=W.getTile(Re),Ie=$e.getBucket(G);if(!Ie)continue;const at=Ie.programConfigurations.get(G.id),Mt=D.useProgram("heatmap",at),{zoom:Ge}=D.transform;Mt.draw(ee,re.TRIANGLES,Sr.disabled,se,be,jr.disabled,G1(Re.posMatrix,$e,Ge,G.paint.get("heatmap-intensity")),null,G.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,G.paint,D.transform.zoom,at)}ee.viewport.set([0,0,D.width,D.height])}else D.renderPass==="translucent"&&(D.context.setColorMode(D.colorModeForRenderPass()),function(ee,re){const se=ee.context,be=se.gl,Le=re.heatmapFbo;if(!Le)return;se.activeTexture.set(be.TEXTURE0),be.bindTexture(be.TEXTURE_2D,Le.colorAttachment.get()),se.activeTexture.set(be.TEXTURE1);let Re=re.colorRampTexture;Re||(Re=re.colorRampTexture=new j(se,re.colorRamp,be.RGBA)),Re.bind(be.LINEAR,be.CLAMP_TO_EDGE),ee.useProgram("heatmapTexture").draw(se,be.TRIANGLES,Sr.disabled,Mi.disabled,ee.colorModeForRenderPass(),jr.disabled,(($e,Ie,at,Mt)=>{const Ge=s.Z();s.aS(Ge,0,$e.width,$e.height,0,0,1);const ft=$e.context.gl;return{u_matrix:Ge,u_world:[ft.drawingBufferWidth,ft.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Ie.paint.get("heatmap-opacity")}})(ee,re),null,re.id,ee.viewportBuffer,ee.quadTriangleIndexBuffer,ee.viewportSegments,re.paint,ee.transform.zoom)}(D,G))})(d,y,A,I);break;case"line":(function(D,W,G,K){if(D.renderPass!=="translucent")return;const ee=G.paint.get("line-opacity"),re=G.paint.get("line-width");if(ee.constantOr(1)===0||re.constantOr(1)===0)return;const se=D.depthModeForSublayer(0,Sr.ReadOnly),be=D.colorModeForRenderPass(),Le=G.paint.get("line-dasharray"),Re=G.paint.get("line-pattern"),$e=Re.constantOr(1),Ie=G.paint.get("line-gradient"),at=G.getCrossfadeParameters(),Mt=$e?"linePattern":Le?"lineSDF":Ie?"lineGradient":"line",Ge=D.context,ft=Ge.gl;let At=!0;for(const Pt of K){const qt=W.getTile(Pt);if($e&&!qt.patternsLoaded())continue;const wt=qt.getBucket(G);if(!wt)continue;const Kt=wt.programConfigurations.get(G.id),ln=D.context.program.get(),Rn=D.useProgram(Mt,Kt),Pr=At||Rn.program!==ln,dn=D.style.map.terrain&&D.style.map.terrain.getTerrainData(Pt),Jn=Re.constantOr(null);if(Jn&&qt.imageAtlas){const Er=qt.imageAtlas,vr=Er.patternPositions[Jn.to.toString()],Tr=Er.patternPositions[Jn.from.toString()];vr&&Tr&&Kt.setConstantPatternPositions(vr,Tr)}const On=dn?Pt:null,ei=$e?q1(D,qt,G,at,On):Le?pm(D,qt,G,Le,at,On):Ie?Tf(D,qt,G,wt.lineClipsArray.length,On):Vh(D,qt,G,On);if($e)Ge.activeTexture.set(ft.TEXTURE0),qt.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Kt.updatePaintBuffers(at);else if(Le&&(Pr||D.lineAtlas.dirty))Ge.activeTexture.set(ft.TEXTURE0),D.lineAtlas.bind(Ge);else if(Ie){const Er=wt.gradients[G.id];let vr=Er.texture;if(G.gradientVersion!==Er.version){let Tr=256;if(G.stepInterpolant){const ro=W.getSource().maxzoom,gi=Pt.canonical.z===ro?Math.ceil(1<<D.transform.maxZoom-Pt.canonical.z):1;Tr=s.ad(s.aY(wt.maxLineLength/s.N*1024*gi),256,Ge.maxTextureSize)}Er.gradient=s.aZ({expression:G.gradientExpression(),evaluationKey:"lineProgress",resolution:Tr,image:Er.gradient||void 0,clips:wt.lineClipsArray}),Er.texture?Er.texture.update(Er.gradient):Er.texture=new j(Ge,Er.gradient,ft.RGBA),Er.version=G.gradientVersion,vr=Er.texture}Ge.activeTexture.set(ft.TEXTURE0),vr.bind(G.stepInterpolant?ft.NEAREST:ft.LINEAR,ft.CLAMP_TO_EDGE)}Rn.draw(Ge,ft.TRIANGLES,se,D.stencilModeForClipping(Pt),be,jr.disabled,ei,dn,G.id,wt.layoutVertexBuffer,wt.indexBuffer,wt.segments,G.paint,D.transform.zoom,Kt,wt.layoutVertexBuffer2),At=!1}})(d,y,A,I);break;case"fill":(function(D,W,G,K){const ee=G.paint.get("fill-color"),re=G.paint.get("fill-opacity");if(re.constantOr(1)===0)return;const se=D.colorModeForRenderPass(),be=G.paint.get("fill-pattern"),Le=D.opaquePassEnabledForLayer()&&!be.constantOr(1)&&ee.constantOr(s.aT.transparent).a===1&&re.constantOr(0)===1?"opaque":"translucent";if(D.renderPass===Le){const Re=D.depthModeForSublayer(1,D.renderPass==="opaque"?Sr.ReadWrite:Sr.ReadOnly);ls(D,W,G,K,Re,se,!1)}if(D.renderPass==="translucent"&&G.paint.get("fill-antialias")){const Re=D.depthModeForSublayer(G.getPaintProperty("fill-outline-color")?2:0,Sr.ReadOnly);ls(D,W,G,K,Re,se,!0)}})(d,y,A,I);break;case"fill-extrusion":(function(D,W,G,K){const ee=G.paint.get("fill-extrusion-opacity");if(ee!==0&&D.renderPass==="translucent"){const re=new Sr(D.context.gl.LEQUAL,Sr.ReadWrite,D.depthRangeFor3D);if(ee!==1||G.paint.get("fill-extrusion-pattern").constantOr(1))mi(D,W,G,K,re,Mi.disabled,Oi.disabled),mi(D,W,G,K,re,D.stencilModeFor3D(),D.colorModeForRenderPass());else{const se=D.colorModeForRenderPass();mi(D,W,G,K,re,Mi.disabled,se)}}})(d,y,A,I);break;case"hillshade":(function(D,W,G,K){if(D.renderPass!=="offscreen"&&D.renderPass!=="translucent")return;const ee=D.context,re=D.depthModeForSublayer(0,Sr.ReadOnly),se=D.colorModeForRenderPass(),[be,Le]=D.renderPass==="translucent"?D.stencilConfigForOverlap(K):[{},K];for(const Re of Le){const $e=W.getTile(Re);$e.needsHillshadePrepare!==void 0&&$e.needsHillshadePrepare&&D.renderPass==="offscreen"?wa(D,$e,G,re,Mi.disabled,se):D.renderPass==="translucent"&&qh(D,Re,$e,G,re,be[Re.overscaledZ],se)}ee.viewport.set([0,0,D.width,D.height])})(d,y,A,I);break;case"raster":(function(D,W,G,K){if(D.renderPass!=="translucent"||G.paint.get("raster-opacity")===0||!K.length)return;const ee=D.context,re=ee.gl,se=W.getSource(),be=D.useProgram("raster"),Le=D.colorModeForRenderPass(),[Re,$e]=se instanceof lt?[{},K]:D.stencilConfigForOverlap(K),Ie=$e[$e.length-1].overscaledZ,at=!D.options.moving;for(const Mt of $e){const Ge=D.depthModeForSublayer(Mt.overscaledZ-Ie,G.paint.get("raster-opacity")===1?Sr.ReadWrite:Sr.ReadOnly,re.LESS),ft=W.getTile(Mt);ft.registerFadeDuration(G.paint.get("raster-fade-duration"));const At=W.findLoadedParent(Mt,0),Pt=ox(ft,At,W,G,D.transform,D.style.map.terrain);let qt,wt;const Kt=G.paint.get("raster-resampling")==="nearest"?re.NEAREST:re.LINEAR;ee.activeTexture.set(re.TEXTURE0),ft.texture.bind(Kt,re.CLAMP_TO_EDGE,re.LINEAR_MIPMAP_NEAREST),ee.activeTexture.set(re.TEXTURE1),At?(At.texture.bind(Kt,re.CLAMP_TO_EDGE,re.LINEAR_MIPMAP_NEAREST),qt=Math.pow(2,At.tileID.overscaledZ-ft.tileID.overscaledZ),wt=[ft.tileID.canonical.x*qt%1,ft.tileID.canonical.y*qt%1]):ft.texture.bind(Kt,re.CLAMP_TO_EDGE,re.LINEAR_MIPMAP_NEAREST);const ln=D.style.map.terrain&&D.style.map.terrain.getTerrainData(Mt),Rn=ln?Mt:null,Pr=Rn?Rn.posMatrix:D.transform.calculatePosMatrix(Mt.toUnwrapped(),at),dn=mm(Pr,wt||[0,0],qt||1,Pt,G);se instanceof lt?be.draw(ee,re.TRIANGLES,Ge,Mi.disabled,Le,jr.disabled,dn,ln,G.id,se.boundsBuffer,D.quadTriangleIndexBuffer,se.boundsSegments):be.draw(ee,re.TRIANGLES,Ge,Re[Mt.overscaledZ],Le,jr.disabled,dn,ln,G.id,D.rasterBoundsBuffer,D.quadTriangleIndexBuffer,D.rasterBoundsSegments)}})(d,y,A,I);break;case"background":(function(D,W,G,K){const ee=G.paint.get("background-color"),re=G.paint.get("background-opacity");if(re===0)return;const se=D.context,be=se.gl,Le=D.transform,Re=Le.tileSize,$e=G.paint.get("background-pattern");if(D.isPatternMissing($e))return;const Ie=!$e&&ee.a===1&&re===1&&D.opaquePassEnabledForLayer()?"opaque":"translucent";if(D.renderPass!==Ie)return;const at=Mi.disabled,Mt=D.depthModeForSublayer(0,Ie==="opaque"?Sr.ReadWrite:Sr.ReadOnly),Ge=D.colorModeForRenderPass(),ft=D.useProgram($e?"backgroundPattern":"background"),At=K||Le.coveringTiles({tileSize:Re,terrain:D.style.map.terrain});$e&&(se.activeTexture.set(be.TEXTURE0),D.imageManager.bind(D.context));const Pt=G.getCrossfadeParameters();for(const qt of At){const wt=K?qt.posMatrix:D.transform.calculatePosMatrix(qt.toUnwrapped()),Kt=$e?Ua(wt,re,D,$e,{tileID:qt,tileSize:Re},Pt):Cf(wt,re,ee),ln=D.style.map.terrain&&D.style.map.terrain.getTerrainData(qt);ft.draw(se,be.TRIANGLES,Mt,at,Ge,jr.disabled,Kt,ln,G.id,D.tileExtentBuffer,D.quadTriangleIndexBuffer,D.tileExtentSegments)}})(d,0,A,I);break;case"custom":(function(D,W,G){const K=D.context,ee=G.implementation;if(D.renderPass==="offscreen"){const re=ee.prerender;re&&(D.setCustomLayerDefaults(),K.setColorMode(D.colorModeForRenderPass()),re.call(ee,K.gl,D.transform.customLayerMatrix()),K.setDirty(),D.setBaseState())}else if(D.renderPass==="translucent"){D.setCustomLayerDefaults(),K.setColorMode(D.colorModeForRenderPass()),K.setStencilMode(Mi.disabled);const re=ee.renderingMode==="3d"?new Sr(D.context.gl.LEQUAL,Sr.ReadWrite,D.depthRangeFor3D):D.depthModeForSublayer(0,Sr.ReadOnly);K.setDepthMode(re),ee.render(K.gl,D.transform.customLayerMatrix()),K.setDirty(),D.setBaseState(),K.bindFramebuffer.set(null)}})(d,0,A)}}translatePosMatrix(d,y,A,I,D){if(!A[0]&&!A[1])return d;const W=D?I==="map"?this.transform.angle:0:I==="viewport"?-this.transform.angle:0;if(W){const ee=Math.sin(W),re=Math.cos(W);A=[A[0]*re-A[1]*ee,A[0]*ee+A[1]*re]}const G=[D?A[0]:qe(y,A[0],this.transform.zoom),D?A[1]:qe(y,A[1],this.transform.zoom),0],K=new Float32Array(16);return s.$(K,d,G),K}saveTileTexture(d){const y=this._tileTextures[d.size[0]];y?y.push(d):this._tileTextures[d.size[0]]=[d]}getTileTexture(d){const y=this._tileTextures[d];return y&&y.length>0?y.pop():null}isPatternMissing(d){if(!d)return!1;if(!d.from||!d.to)return!0;const y=this.imageManager.getPattern(d.from.toString()),A=this.imageManager.getPattern(d.to.toString());return!y||!A}useProgram(d,y){this.cache=this.cache||{};const A=d+(y?y.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[A]||(this.cache[A]=new Rc(this.context,Ur[d],y,Af[d],this._showOverdrawInspector,this.style.map.terrain)),this.cache[A]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const d=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(d.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new j(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:d,drawingBufferHeight:y}=this.context.gl;return this.width!==d||this.height!==y}}class zo{constructor(d,y){this.points=d,this.planes=y}static fromInvProjectionMatrix(d,y,A){const I=Math.pow(2,A),D=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(G=>{const K=1/(G=s.ag([],G,d))[3]/y*I;return s.b3(G,G,[K,K,1/G[3],K])}),W=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(G=>{const K=function(be,Le){var Re=Le[0],$e=Le[1],Ie=Le[2],at=Re*Re+$e*$e+Ie*Ie;return at>0&&(at=1/Math.sqrt(at)),be[0]=Le[0]*at,be[1]=Le[1]*at,be[2]=Le[2]*at,be}([],function(be,Le,Re){var $e=Le[0],Ie=Le[1],at=Le[2],Mt=Re[0],Ge=Re[1],ft=Re[2];return be[0]=Ie*ft-at*Ge,be[1]=at*Mt-$e*ft,be[2]=$e*Ge-Ie*Mt,be}([],L([],D[G[0]],D[G[1]]),L([],D[G[2]],D[G[1]]))),ee=-((re=K)[0]*(se=D[G[1]])[0]+re[1]*se[1]+re[2]*se[2]);var re,se;return K.concat(ee)});return new zo(D,W)}}class Cd{constructor(d,y){this.min=d,this.max=y,this.center=function(A,I,D){return A[0]=.5*I[0],A[1]=.5*I[1],A[2]=.5*I[2],A}([],function(A,I,D){return A[0]=I[0]+D[0],A[1]=I[1]+D[1],A[2]=I[2]+D[2],A}([],this.min,this.max))}quadrant(d){const y=[d%2==0,d<2],A=k(this.min),I=k(this.max);for(let D=0;D<y.length;D++)A[D]=y[D]?this.min[D]:this.center[D],I[D]=y[D]?this.center[D]:this.max[D];return I[2]=this.max[2],new Cd(A,I)}distanceX(d){return Math.max(Math.min(this.max[0],d[0]),this.min[0])-d[0]}distanceY(d){return Math.max(Math.min(this.max[1],d[1]),this.min[1])-d[1]}intersects(d){const y=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let A=!0;for(let I=0;I<d.planes.length;I++){const D=d.planes[I];let W=0;for(let G=0;G<y.length;G++)s.b4(D,y[G])>=0&&W++;if(W===0)return 0;W!==y.length&&(A=!1)}if(A)return 2;for(let I=0;I<3;I++){let D=Number.MAX_VALUE,W=-Number.MAX_VALUE;for(let G=0;G<d.points.length;G++){const K=d.points[G][I]-this.min[I];D=Math.min(D,K),W=Math.max(W,K)}if(W<0||D>this.max[I]-this.min[I])return 0}return 1}}class Lc{constructor(d=0,y=0,A=0,I=0){if(isNaN(d)||d<0||isNaN(y)||y<0||isNaN(A)||A<0||isNaN(I)||I<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=d,this.bottom=y,this.left=A,this.right=I}interpolate(d,y,A){return y.top!=null&&d.top!=null&&(this.top=s.B.number(d.top,y.top,A)),y.bottom!=null&&d.bottom!=null&&(this.bottom=s.B.number(d.bottom,y.bottom,A)),y.left!=null&&d.left!=null&&(this.left=s.B.number(d.left,y.left,A)),y.right!=null&&d.right!=null&&(this.right=s.B.number(d.right,y.right,A)),this}getCenter(d,y){const A=s.ad((this.left+d-this.right)/2,0,d),I=s.ad((this.top+y-this.bottom)/2,0,y);return new s.P(A,I)}equals(d){return this.top===d.top&&this.bottom===d.bottom&&this.left===d.left&&this.right===d.right}clone(){return new Lc(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Bs{constructor(d,y,A,I,D){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=D===void 0||!!D,this._minZoom=d||0,this._maxZoom=y||22,this._minPitch=A??0,this._maxPitch=I??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Lc,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const d=new Bs(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return d.apply(this),d}apply(d){this.tileSize=d.tileSize,this.latRange=d.latRange,this.width=d.width,this.height=d.height,this._center=d._center,this._elevation=d._elevation,this._minEleveationForCurrentTile=d._minEleveationForCurrentTile,this.zoom=d.zoom,this.angle=d.angle,this._fov=d._fov,this._pitch=d._pitch,this._unmodified=d._unmodified,this._edgeInsets=d._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(d){this._minZoom!==d&&(this._minZoom=d,this.zoom=Math.max(this.zoom,d))}get maxZoom(){return this._maxZoom}set maxZoom(d){this._maxZoom!==d&&(this._maxZoom=d,this.zoom=Math.min(this.zoom,d))}get minPitch(){return this._minPitch}set minPitch(d){this._minPitch!==d&&(this._minPitch=d,this.pitch=Math.max(this.pitch,d))}get maxPitch(){return this._maxPitch}set maxPitch(d){this._maxPitch!==d&&(this._maxPitch=d,this.pitch=Math.min(this.pitch,d))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(d){d===void 0?d=!0:d===null&&(d=!1),this._renderWorldCopies=d}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(d){const y=-s.b5(d,-180,180)*Math.PI/180;this.angle!==y&&(this._unmodified=!1,this.angle=y,this._calcMatrices(),this.rotationMatrix=function(){var A=new s.A(4);return s.A!=Float32Array&&(A[1]=0,A[2]=0),A[0]=1,A[3]=1,A}(),function(A,I,D){var W=I[0],G=I[1],K=I[2],ee=I[3],re=Math.sin(D),se=Math.cos(D);A[0]=W*se+K*re,A[1]=G*se+ee*re,A[2]=W*-re+K*se,A[3]=G*-re+ee*se}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(d){const y=s.ad(d,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==y&&(this._unmodified=!1,this._pitch=y,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(d){d=Math.max(.01,Math.min(60,d)),this._fov!==d&&(this._unmodified=!1,this._fov=d/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(d){const y=Math.min(Math.max(d,this.minZoom),this.maxZoom);this._zoom!==y&&(this._unmodified=!1,this._zoom=y,this.tileZoom=Math.max(0,Math.floor(y)),this.scale=this.zoomScale(y),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(d){d.lat===this._center.lat&&d.lng===this._center.lng||(this._unmodified=!1,this._center=d,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(d){d!==this._elevation&&(this._elevation=d,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(d){this._edgeInsets.equals(d)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,d,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(d){return this._edgeInsets.equals(d)}interpolatePadding(d,y,A){this._unmodified=!1,this._edgeInsets.interpolate(d,y,A),this._constrain(),this._calcMatrices()}coveringZoomLevel(d){const y=(d.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/d.tileSize));return Math.max(0,y)}getVisibleUnwrappedCoordinates(d){const y=[new s.b6(0,d)];if(this._renderWorldCopies){const A=this.pointCoordinate(new s.P(0,0)),I=this.pointCoordinate(new s.P(this.width,0)),D=this.pointCoordinate(new s.P(this.width,this.height)),W=this.pointCoordinate(new s.P(0,this.height)),G=Math.floor(Math.min(A.x,I.x,D.x,W.x)),K=Math.floor(Math.max(A.x,I.x,D.x,W.x)),ee=1;for(let re=G-ee;re<=K+ee;re++)re!==0&&y.push(new s.b6(re,d))}return y}coveringTiles(d){var y,A;let I=this.coveringZoomLevel(d);const D=I;if(d.minzoom!==void 0&&I<d.minzoom)return[];d.maxzoom!==void 0&&I>d.maxzoom&&(I=d.maxzoom);const W=this.pointCoordinate(this.getCameraPoint()),G=s.U.fromLngLat(this.center),K=Math.pow(2,I),ee=[K*W.x,K*W.y,0],re=[K*G.x,K*G.y,0],se=zo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,I);let be=d.minzoom||0;!d.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(be=I);const Le=d.terrain?2/Math.min(this.tileSize,d.tileSize)*this.tileSize:3,Re=Ge=>({aabb:new Cd([Ge*K,0,0],[(Ge+1)*K,K,0]),zoom:0,x:0,y:0,wrap:Ge,fullyVisible:!1}),$e=[],Ie=[],at=I,Mt=d.reparseOverscaled?D:I;if(this._renderWorldCopies)for(let Ge=1;Ge<=3;Ge++)$e.push(Re(-Ge)),$e.push(Re(Ge));for($e.push(Re(0));$e.length>0;){const Ge=$e.pop(),ft=Ge.x,At=Ge.y;let Pt=Ge.fullyVisible;if(!Pt){const Rn=Ge.aabb.intersects(se);if(Rn===0)continue;Pt=Rn===2}const qt=d.terrain?ee:re,wt=Ge.aabb.distanceX(qt),Kt=Ge.aabb.distanceY(qt),ln=Math.max(Math.abs(wt),Math.abs(Kt));if(Ge.zoom===at||ln>Le+(1<<at-Ge.zoom)-2&&Ge.zoom>=be){const Rn=at-Ge.zoom,Pr=ee[0]-.5-(ft<<Rn),dn=ee[1]-.5-(At<<Rn);Ie.push({tileID:new s.O(Ge.zoom===at?Mt:Ge.zoom,Ge.wrap,Ge.zoom,ft,At),distanceSq:F([re[0]-.5-ft,re[1]-.5-At]),tileDistanceToCamera:Math.sqrt(Pr*Pr+dn*dn)})}else for(let Rn=0;Rn<4;Rn++){const Pr=(ft<<1)+Rn%2,dn=(At<<1)+(Rn>>1),Jn=Ge.zoom+1;let On=Ge.aabb.quadrant(Rn);if(d.terrain){const ei=new s.O(Jn,Ge.wrap,Jn,Pr,dn),Er=d.terrain.getMinMaxElevation(ei),vr=(y=Er.minElevation)!==null&&y!==void 0?y:this.elevation,Tr=(A=Er.maxElevation)!==null&&A!==void 0?A:this.elevation;On=new Cd([On.min[0],On.min[1],vr],[On.max[0],On.max[1],Tr])}$e.push({aabb:On,zoom:Jn,x:Pr,y:dn,wrap:Ge.wrap,fullyVisible:Pt})}}return Ie.sort((Ge,ft)=>Ge.distanceSq-ft.distanceSq).map(Ge=>Ge.tileID)}resize(d,y){this.width=d,this.height=y,this.pixelsToGLUnits=[2/d,-2/y],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(d){return Math.pow(2,d)}scaleZoom(d){return Math.log(d)/Math.LN2}project(d){const y=s.ad(d.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s.P(s.G(d.lng)*this.worldSize,s.H(y)*this.worldSize)}unproject(d){return new s.U(d.x/this.worldSize,d.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(d){const y=this.pointLocation(this.centerPoint,d),A=d.getElevationForLngLatZoom(y,this.tileZoom);if(!(this.elevation-A))return;const I=this.getCameraPosition(),D=s.U.fromLngLat(I.lngLat,I.altitude),W=s.U.fromLngLat(y,A),G=D.x-W.x,K=D.y-W.y,ee=D.z-W.z,re=Math.sqrt(G*G+K*K+ee*ee),se=this.scaleZoom(this.cameraToCenterDistance/re/this.tileSize);this._elevation=A,this._center=y,this.zoom=se}setLocationAtPoint(d,y){const A=this.pointCoordinate(y),I=this.pointCoordinate(this.centerPoint),D=this.locationCoordinate(d),W=new s.U(D.x-(A.x-I.x),D.y-(A.y-I.y));this.center=this.coordinateLocation(W),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(d,y){return y?this.coordinatePoint(this.locationCoordinate(d),y.getElevationForLngLatZoom(d,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(d))}pointLocation(d,y){return this.coordinateLocation(this.pointCoordinate(d,y))}locationCoordinate(d){return s.U.fromLngLat(d)}coordinateLocation(d){return d&&d.toLngLat()}pointCoordinate(d,y){if(y){const be=y.pointCoordinate(d);if(be!=null)return be}const A=[d.x,d.y,0,1],I=[d.x,d.y,1,1];s.ag(A,A,this.pixelMatrixInverse),s.ag(I,I,this.pixelMatrixInverse);const D=A[3],W=I[3],G=A[1]/D,K=I[1]/W,ee=A[2]/D,re=I[2]/W,se=ee===re?0:(0-ee)/(re-ee);return new s.U(s.B.number(A[0]/D,I[0]/W,se)/this.worldSize,s.B.number(G,K,se)/this.worldSize)}coordinatePoint(d,y=0,A=this.pixelMatrix){const I=[d.x*this.worldSize,d.y*this.worldSize,y,1];return s.ag(I,I,A),new s.P(I[0]/I[3],I[1]/I[3])}getBounds(){const d=Math.max(0,this.height/2-this.getHorizon());return new rt().extend(this.pointLocation(new s.P(0,d))).extend(this.pointLocation(new s.P(this.width,d))).extend(this.pointLocation(new s.P(this.width,this.height))).extend(this.pointLocation(new s.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new rt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(d){d?(this.lngRange=[d.getWest(),d.getEast()],this.latRange=[d.getSouth(),d.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(d,y=!1){const A=d.key,I=y?this._alignedPosMatrixCache:this._posMatrixCache;if(I[A])return I[A];const D=d.canonical,W=this.worldSize/this.zoomScale(D.z),G=D.x+Math.pow(2,D.z)*d.wrap,K=s.ao(new Float64Array(16));return s.$(K,K,[G*W,D.y*W,0]),s.a0(K,K,[W/s.N,W/s.N,1]),s.a1(K,y?this.alignedProjMatrix:this.projMatrix,K),I[A]=new Float32Array(K),I[A]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let d,y,A,I,D=-90,W=90,G=-180,K=180;const ee=this.size,re=this._unmodified;if(this.latRange){const Le=this.latRange;D=s.H(Le[1])*this.worldSize,W=s.H(Le[0])*this.worldSize,d=W-D<ee.y?ee.y/(W-D):0}if(this.lngRange){const Le=this.lngRange;G=s.b5(s.G(Le[0])*this.worldSize,0,this.worldSize),K=s.b5(s.G(Le[1])*this.worldSize,0,this.worldSize),K<G&&(K+=this.worldSize),y=K-G<ee.x?ee.x/(K-G):0}const se=this.point,be=Math.max(y||0,d||0);if(be)return this.center=this.unproject(new s.P(y?(K+G)/2:se.x,d?(W+D)/2:se.y)),this.zoom+=this.scaleZoom(be),this._unmodified=re,void(this._constraining=!1);if(this.latRange){const Le=se.y,Re=ee.y/2;Le-Re<D&&(I=D+Re),Le+Re>W&&(I=W-Re)}if(this.lngRange){const Le=(G+K)/2,Re=s.b5(se.x,Le-this.worldSize/2,Le+this.worldSize/2),$e=ee.x/2;Re-$e<G&&(A=G+$e),Re+$e>K&&(A=K-$e)}A===void 0&&I===void 0||(this.center=this.unproject(new s.P(A!==void 0?A:se.x,I!==void 0?I:se.y)).wrap()),this._unmodified=re,this._constraining=!1}_calcMatrices(){if(!this.height)return;const d=this.centerOffset,y=this.point.x,A=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=s.b7(1,this.center.lat)*this.worldSize;let I=s.ao(new Float64Array(16));s.a0(I,I,[this.width/2,-this.height/2,1]),s.$(I,I,[1,-1,0]),this.labelPlaneMatrix=I,I=s.ao(new Float64Array(16)),s.a0(I,I,[1,-1,1]),s.$(I,I,[-1,-1,0]),s.a0(I,I,[2/this.width,2/this.height,1]),this.glCoordMatrix=I;const D=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),W=Math.min(this.elevation,this._minEleveationForCurrentTile),G=D-W*this._pixelPerMeter/Math.cos(this._pitch),K=W<0?G:D,ee=Math.PI/2+this._pitch,re=this._fov*(.5+d.y/this.height),se=Math.sin(re)*K/Math.sin(s.ad(Math.PI-ee-re,.01,Math.PI-.01)),be=this.getHorizon(),Le=2*Math.atan(be/this.cameraToCenterDistance)*(.5+d.y/(2*be)),Re=Math.sin(Le)*K/Math.sin(s.ad(Math.PI-ee-Le,.01,Math.PI-.01)),$e=Math.min(se,Re),Ie=1.01*(Math.cos(Math.PI/2-this._pitch)*$e+K),at=this.height/50;I=new Float64Array(16),s.b8(I,this._fov,this.width/this.height,at,Ie),I[8]=2*-d.x/this.width,I[9]=2*d.y/this.height,s.a0(I,I,[1,-1,1]),s.$(I,I,[0,0,-this.cameraToCenterDistance]),s.b9(I,I,this._pitch),s.ae(I,I,this.angle),s.$(I,I,[-y,-A,0]),this.mercatorMatrix=s.a0([],I,[this.worldSize,this.worldSize,this.worldSize]),s.a0(I,I,[1,1,this._pixelPerMeter]),this.pixelMatrix=s.a1(new Float64Array(16),this.labelPlaneMatrix,I),s.$(I,I,[0,0,-this.elevation]),this.projMatrix=I,this.invProjMatrix=s.as([],I),this.pixelMatrix3D=s.a1(new Float64Array(16),this.labelPlaneMatrix,I);const Mt=this.width%2/2,Ge=this.height%2/2,ft=Math.cos(this.angle),At=Math.sin(this.angle),Pt=y-Math.round(y)+ft*Mt+At*Ge,qt=A-Math.round(A)+ft*Ge+At*Mt,wt=new Float64Array(I);if(s.$(wt,wt,[Pt>.5?Pt-1:Pt,qt>.5?qt-1:qt,0]),this.alignedProjMatrix=wt,I=s.as(new Float64Array(16),this.pixelMatrix),!I)throw new Error("failed to invert matrix");this.pixelMatrixInverse=I,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const d=this.pointCoordinate(new s.P(0,0)),y=[d.x*this.worldSize,d.y*this.worldSize,0,1];return s.ag(y,y,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const d=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(0,d))}getCameraQueryGeometry(d){const y=this.getCameraPoint();if(d.length===1)return[d[0],y];{let A=y.x,I=y.y,D=y.x,W=y.y;for(const G of d)A=Math.min(A,G.x),I=Math.min(I,G.y),D=Math.max(D,G.x),W=Math.max(W,G.y);return[new s.P(A,I),new s.P(D,I),new s.P(D,W),new s.P(A,W),new s.P(A,I)]}}}function Tl(O,d){let y,A=!1,I=null,D=null;const W=()=>{I=null,A&&(O.apply(D,y),I=setTimeout(W,d),A=!1)};return(...G)=>(A=!0,D=this,y=G,I||W(),I)}class sc{constructor(d){this._getCurrentHash=()=>{const y=window.location.hash.replace("#","");if(this._hashName){let A;return y.split("&").map(I=>I.split("=")).forEach(I=>{I[0]===this._hashName&&(A=I)}),(A&&A[1]||"").split("/")}return y.split("/")},this._onHashChange=()=>{const y=this._getCurrentHash();if(y.length>=3&&!y.some(A=>isNaN(A))){const A=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(y[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+y[2],+y[1]],zoom:+y[0],bearing:A,pitch:+(y[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const y=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,y)}catch{}},this._updateHash=Tl(this._updateHashUnthrottled,300),this._hashName=d&&encodeURIComponent(d)}addTo(d){return this._map=d,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(d){const y=this._map.getCenter(),A=Math.round(100*this._map.getZoom())/100,I=Math.ceil((A*Math.LN2+Math.log(512/360/.5))/Math.LN10),D=Math.pow(10,I),W=Math.round(y.lng*D)/D,G=Math.round(y.lat*D)/D,K=this._map.getBearing(),ee=this._map.getPitch();let re="";if(re+=d?`/${W}/${G}/${A}`:`${A}/${G}/${W}`,(K||ee)&&(re+="/"+Math.round(10*K)/10),ee&&(re+=`/${Math.round(ee)}`),this._hashName){const se=this._hashName;let be=!1;const Le=window.location.hash.slice(1).split("&").map(Re=>{const $e=Re.split("=")[0];return $e===se?(be=!0,`${$e}=${re}`):Re}).filter(Re=>Re);return be||Le.push(`${se}=${re}`),`#${Le.join("&")}`}return`#${re}`}}const Fs={linearity:.3,easing:s.ba(0,0,.3,1)},Mm=s.e({deceleration:2500,maxSpeed:1400},Fs),Ad=s.e({deceleration:20,maxSpeed:1400},Fs),Wy=s.e({deceleration:1e3,maxSpeed:360},Fs),Em=s.e({deceleration:1e3,maxSpeed:90},Fs);class Wi{constructor(d){this._map=d,this.clear()}clear(){this._inertiaBuffer=[]}record(d){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.h.now(),settings:d})}_drainInertiaBuffer(){const d=this._inertiaBuffer,y=s.h.now();for(;d.length>0&&y-d[0].time>160;)d.shift()}_onMoveEnd(d){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const y={zoom:0,bearing:0,pitch:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:D}of this._inertiaBuffer)y.zoom+=D.zoomDelta||0,y.bearing+=D.bearingDelta||0,y.pitch+=D.pitchDelta||0,D.panDelta&&y.pan._add(D.panDelta),D.around&&(y.around=D.around),D.pinchAround&&(y.pinchAround=D.pinchAround);const A=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,I={};if(y.pan.mag()){const D=Pd(y.pan.mag(),A,s.e({},Mm,d||{}));I.offset=y.pan.mult(D.amount/y.pan.mag()),I.center=this._map.transform.center,Sa(I,D)}if(y.zoom){const D=Pd(y.zoom,A,Ad);I.zoom=this._map.transform.zoom+D.amount,Sa(I,D)}if(y.bearing){const D=Pd(y.bearing,A,Wy);I.bearing=this._map.transform.bearing+s.ad(D.amount,-179,179),Sa(I,D)}if(y.pitch){const D=Pd(y.pitch,A,Em);I.pitch=this._map.transform.pitch+D.amount,Sa(I,D)}if(I.zoom||I.bearing){const D=y.pinchAround===void 0?y.around:y.pinchAround;I.around=D?this._map.unproject(D):this._map.getCenter()}return this.clear(),s.e(I,{noMoveStart:!0})}}function Sa(O,d){(!O.duration||O.duration<d.duration)&&(O.duration=d.duration,O.easing=d.easing)}function Pd(O,d,y){const{maxSpeed:A,linearity:I,deceleration:D}=y,W=s.ad(O*I/(d/1e3),-A,A),G=Math.abs(W)/(D*I);return{easing:y.easing,duration:1e3*G,amount:W*(G/2)}}class $s extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,y,A,I={}){const D=c.mousePos(y.getCanvasContainer(),A),W=y.unproject(D);super(d,s.e({point:D,lngLat:W,originalEvent:A},I)),this._defaultPrevented=!1,this.target=y}}class Lu extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,y,A){const I=d==="touchend"?A.changedTouches:A.touches,D=c.touchPos(y.getCanvasContainer(),I),W=D.map(K=>y.unproject(K)),G=D.reduce((K,ee,re,se)=>K.add(ee.div(se.length)),new s.P(0,0));super(d,{points:D,point:G,lngLats:W,lngLat:y.unproject(G),originalEvent:A}),this._defaultPrevented=!1}}class Ma extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,y,A){super(d,{originalEvent:A}),this._defaultPrevented=!1}}class Id{constructor(d,y){this._map=d,this._clickTolerance=y.clickTolerance}reset(){delete this._mousedownPos}wheel(d){return this._firePreventable(new Ma(d.type,this._map,d))}mousedown(d,y){return this._mousedownPos=y,this._firePreventable(new $s(d.type,this._map,d))}mouseup(d){this._map.fire(new $s(d.type,this._map,d))}click(d,y){this._mousedownPos&&this._mousedownPos.dist(y)>=this._clickTolerance||this._map.fire(new $s(d.type,this._map,d))}dblclick(d){return this._firePreventable(new $s(d.type,this._map,d))}mouseover(d){this._map.fire(new $s(d.type,this._map,d))}mouseout(d){this._map.fire(new $s(d.type,this._map,d))}touchstart(d){return this._firePreventable(new Lu(d.type,this._map,d))}touchmove(d){this._map.fire(new Lu(d.type,this._map,d))}touchend(d){this._map.fire(new Lu(d.type,this._map,d))}touchcancel(d){this._map.fire(new Lu(d.type,this._map,d))}_firePreventable(d){if(this._map.fire(d),d.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class no{constructor(d){this._map=d}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(d){this._map.fire(new $s(d.type,this._map,d))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new $s("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(d){this._delayContextMenu?this._contextMenuEvent=d:this._ignoreContextMenu||this._map.fire(new $s(d.type,this._map,d)),this._map.listens("contextmenu")&&d.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Hi{constructor(d){this._map=d}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(d){return this.transform.pointLocation(s.P.convert(d),this._map.terrain)}}class Bo{constructor(d,y){this._map=d,this._tr=new Hi(d),this._el=d.getCanvasContainer(),this._container=d.getContainer(),this._clickTolerance=y.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(d,y){this.isEnabled()&&d.shiftKey&&d.button===0&&(c.disableDrag(),this._startPos=this._lastPos=y,this._active=!0)}mousemoveWindow(d,y){if(!this._active)return;const A=y;if(this._lastPos.equals(A)||!this._box&&A.dist(this._startPos)<this._clickTolerance)return;const I=this._startPos;this._lastPos=A,this._box||(this._box=c.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",d));const D=Math.min(I.x,A.x),W=Math.max(I.x,A.x),G=Math.min(I.y,A.y),K=Math.max(I.y,A.y);c.setTransform(this._box,`translate(${D}px,${G}px)`),this._box.style.width=W-D+"px",this._box.style.height=K-G+"px"}mouseupWindow(d,y){if(!this._active||d.button!==0)return;const A=this._startPos,I=y;if(this.reset(),c.suppressClick(),A.x!==I.x||A.y!==I.y)return this._map.fire(new s.k("boxzoomend",{originalEvent:d})),{cameraAnimation:D=>D.fitScreenCoordinates(A,I,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",d)}keydown(d){this._active&&d.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",d))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(c.remove(this._box),this._box=null),c.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(d,y){return this._map.fire(new s.k(d,{originalEvent:y}))}}function js(O,d){if(O.length!==d.length)throw new Error(`The number of touches and points are not equal - touches ${O.length}, points ${d.length}`);const y={};for(let A=0;A<O.length;A++)y[O[A].identifier]=d[A];return y}class Ea{constructor(d){this.reset(),this.numTouches=d.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(d,y,A){(this.centroid||A.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=d.timeStamp),A.length===this.numTouches&&(this.centroid=function(I){const D=new s.P(0,0);for(const W of I)D._add(W);return D.div(I.length)}(y),this.touches=js(A,y)))}touchmove(d,y,A){if(this.aborted||!this.centroid)return;const I=js(A,y);for(const D in this.touches){const W=I[D];(!W||W.dist(this.touches[D])>30)&&(this.aborted=!0)}}touchend(d,y,A){if((!this.centroid||d.timeStamp-this.startTime>500)&&(this.aborted=!0),A.length===0){const I=!this.aborted&&this.centroid;if(this.reset(),I)return I}}}class Du{constructor(d){this.singleTap=new Ea(d),this.numTaps=d.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(d,y,A){this.singleTap.touchstart(d,y,A)}touchmove(d,y,A){this.singleTap.touchmove(d,y,A)}touchend(d,y,A){const I=this.singleTap.touchend(d,y,A);if(I){const D=d.timeStamp-this.lastTime<500,W=!this.lastTap||this.lastTap.dist(I)<30;if(D&&W||this.reset(),this.count++,this.lastTime=d.timeStamp,this.lastTap=I,this.count===this.numTaps)return this.reset(),I}}}class Dc{constructor(d){this._tr=new Hi(d),this._zoomIn=new Du({numTouches:1,numTaps:2}),this._zoomOut=new Du({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(d,y,A){this._zoomIn.touchstart(d,y,A),this._zoomOut.touchstart(d,y,A)}touchmove(d,y,A){this._zoomIn.touchmove(d,y,A),this._zoomOut.touchmove(d,y,A)}touchend(d,y,A){const I=this._zoomIn.touchend(d,y,A),D=this._zoomOut.touchend(d,y,A),W=this._tr;return I?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:G=>G.easeTo({duration:300,zoom:W.zoom+1,around:W.unproject(I)},{originalEvent:d})}):D?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:G=>G.easeTo({duration:300,zoom:W.zoom-1,around:W.unproject(D)},{originalEvent:d})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gi{constructor(d){this._enabled=!!d.enable,this._moveStateManager=d.moveStateManager,this._clickTolerance=d.clickTolerance||1,this._moveFunction=d.move,this._activateOnStart=!!d.activateOnStart,d.assignEvents(this),this.reset()}reset(d){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(d)}_move(...d){const y=this._moveFunction(...d);if(y.bearingDelta||y.pitchDelta||y.around||y.panDelta)return this._active=!0,y}dragStart(d,y){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(d)&&(this._moveStateManager.startMove(d),this._lastPoint=y.length?y[0]:y,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(d,y){if(!this.isEnabled())return;const A=this._lastPoint;if(!A)return;if(d.preventDefault(),!this._moveStateManager.isValidMoveEvent(d))return void this.reset(d);const I=y.length?y[0]:y;return!this._moved&&I.dist(A)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=I,this._move(A,I))}dragEnd(d){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(d)&&(this._moved&&c.suppressClick(),this.reset(d))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Hy={0:1,2:2};class Kh{constructor(d){this._correctEvent=d.checkCorrectEvent}startMove(d){const y=c.mouseButton(d);this._eventButton=y}endMove(d){delete this._eventButton}isValidStartEvent(d){return this._correctEvent(d)}isValidMoveEvent(d){return!function(y,A){const I=Hy[A];return y.buttons===void 0||(y.buttons&I)!==I}(d,this._eventButton)}isValidEndEvent(d){return c.mouseButton(d)===this._eventButton}}class Tm{constructor(){this._firstTouch=void 0}_isOneFingerTouch(d){return d.targetTouches.length===1}_isSameTouchEvent(d){return d.targetTouches[0].identifier===this._firstTouch}startMove(d){this._firstTouch=d.targetTouches[0].identifier}endMove(d){delete this._firstTouch}isValidStartEvent(d){return this._isOneFingerTouch(d)}isValidMoveEvent(d){return this._isOneFingerTouch(d)&&this._isSameTouchEvent(d)}isValidEndEvent(d){return this._isOneFingerTouch(d)&&this._isSameTouchEvent(d)}}const Ga=O=>{O.mousedown=O.dragStart,O.mousemoveWindow=O.dragMove,O.mouseup=O.dragEnd,O.contextmenu=function(d){d.preventDefault()}},Us=({enable:O,clickTolerance:d,bearingDegreesPerPixelMoved:y=.8})=>{const A=new Kh({checkCorrectEvent:I=>c.mouseButton(I)===0&&I.ctrlKey||c.mouseButton(I)===2});return new Gi({clickTolerance:d,move:(I,D)=>({bearingDelta:(D.x-I.x)*y}),moveStateManager:A,enable:O,assignEvents:Ga})},Vs=({enable:O,clickTolerance:d,pitchDegreesPerPixelMoved:y=-.5})=>{const A=new Kh({checkCorrectEvent:I=>c.mouseButton(I)===0&&I.ctrlKey||c.mouseButton(I)===2});return new Gi({clickTolerance:d,move:(I,D)=>({pitchDelta:(D.y-I.y)*y}),moveStateManager:A,enable:O,assignEvents:Ga})};class Sn{constructor(d,y){this._minTouches=d.cooperativeGestures?2:1,this._clickTolerance=d.clickTolerance||1,this._map=y,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(d,y,A){return this._calculateTransform(d,y,A)}touchmove(d,y,A){if(this._map._cooperativeGestures&&(this._minTouches===2&&A.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(d,!1,A.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(A.length<this._minTouches))return d.preventDefault(),this._calculateTransform(d,y,A)}touchend(d,y,A){this._calculateTransform(d,y,A),this._active&&A.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(d,y,A){A.length>0&&(this._active=!0);const I=js(A,y),D=new s.P(0,0),W=new s.P(0,0);let G=0;for(const ee in I){const re=I[ee],se=this._touches[ee];se&&(D._add(re),W._add(re.sub(se)),G++,I[ee]=re)}if(this._touches=I,G<this._minTouches||!W.mag())return;const K=W.div(G);return this._sum._add(K),this._sum.mag()<this._clickTolerance?void 0:{around:D.div(G),panDelta:K}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class kd{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(d,y,A){this._firstTwoTouches||A.length<2||(this._firstTwoTouches=[A[0].identifier,A[1].identifier],this._start([y[0],y[1]]))}touchmove(d,y,A){if(!this._firstTwoTouches)return;d.preventDefault();const[I,D]=this._firstTwoTouches,W=Nc(A,y,I),G=Nc(A,y,D);if(!W||!G)return;const K=this._aroundCenter?null:W.add(G).div(2);return this._move([W,G],K,d)}touchend(d,y,A){if(!this._firstTwoTouches)return;const[I,D]=this._firstTwoTouches,W=Nc(A,y,I),G=Nc(A,y,D);W&&G||(this._active&&c.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(d){this._enabled=!0,this._aroundCenter=!!d&&d.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Nc(O,d,y){for(let A=0;A<O.length;A++)if(O[A].identifier===y)return d[A]}function Rd(O,d){return Math.log(O/d)/Math.LN2}class Gy extends kd{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(d){this._startDistance=this._distance=d[0].dist(d[1])}_move(d,y){const A=this._distance;if(this._distance=d[0].dist(d[1]),this._active||!(Math.abs(Rd(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Rd(this._distance,A),pinchAround:y}}}function xn(O,d){return 180*O.angleWith(d)/Math.PI}class Cm extends kd{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(d){this._startVector=this._vector=d[0].sub(d[1]),this._minDiameter=d[0].dist(d[1])}_move(d,y){const A=this._vector;if(this._vector=d[0].sub(d[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:xn(this._vector,A),pinchAround:y}}_isBelowThreshold(d){this._minDiameter=Math.min(this._minDiameter,d.mag());const y=25/(Math.PI*this._minDiameter)*360,A=xn(d,this._startVector);return Math.abs(A)<y}}function Am(O){return Math.abs(O.y)>Math.abs(O.x)}class qy extends kd{constructor(d){super(),this._map=d}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(d,y,A){super.touchstart(d,y,A),this._currentTouchCount=A.length}_start(d){this._lastPoints=d,Am(d[0].sub(d[1]))&&(this._valid=!1)}_move(d,y,A){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const I=d[0].sub(this._lastPoints[0]),D=d[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(I,D,A.timeStamp),this._valid?(this._lastPoints=d,this._active=!0,{pitchDelta:(I.y+D.y)/2*-.5}):void 0}gestureBeginsVertically(d,y,A){if(this._valid!==void 0)return this._valid;const I=d.mag()>=2,D=y.mag()>=2;if(!I&&!D)return;if(!I||!D)return this._firstMove===void 0&&(this._firstMove=A),A-this._firstMove<100&&void 0;const W=d.y>0==y.y>0;return Am(d)&&Am(y)&&W}}const Od={panStep:100,bearingStep:15,pitchStep:10};class Yy{constructor(d){this._tr=new Hi(d);const y=Od;this._panStep=y.panStep,this._bearingStep=y.bearingStep,this._pitchStep=y.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(d){if(d.altKey||d.ctrlKey||d.metaKey)return;let y=0,A=0,I=0,D=0,W=0;switch(d.keyCode){case 61:case 107:case 171:case 187:y=1;break;case 189:case 109:case 173:y=-1;break;case 37:d.shiftKey?A=-1:(d.preventDefault(),D=-1);break;case 39:d.shiftKey?A=1:(d.preventDefault(),D=1);break;case 38:d.shiftKey?I=1:(d.preventDefault(),W=-1);break;case 40:d.shiftKey?I=-1:(d.preventDefault(),W=1);break;default:return}return this._rotationDisabled&&(A=0,I=0),{cameraAnimation:G=>{const K=this._tr;G.easeTo({duration:300,easeId:"keyboardHandler",easing:Zh,zoom:y?Math.round(K.zoom)+y*(d.shiftKey?2:1):K.zoom,bearing:K.bearing+A*this._bearingStep,pitch:K.pitch+I*this._pitchStep,offset:[-D*this._panStep,-W*this._panStep],center:K.center},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Zh(O){return O*(2-O)}const Jh=4.000244140625;class Xy{constructor(d,y){this._onTimeout=A=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(A)},this._map=d,this._tr=new Hi(d),this._el=d.getCanvasContainer(),this._triggerRenderFrame=y,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(d){this._defaultZoomRate=d}setWheelZoomRate(d){this._wheelZoomRate=d}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(d){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!d&&d.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(d){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!d[this._map._metaKey])return;d.preventDefault()}let y=d.deltaMode===WheelEvent.DOM_DELTA_LINE?40*d.deltaY:d.deltaY;const A=s.h.now(),I=A-(this._lastWheelEventTime||0);this._lastWheelEventTime=A,y!==0&&y%Jh==0?this._type="wheel":y!==0&&Math.abs(y)<4?this._type="trackpad":I>400?(this._type=null,this._lastValue=y,this._timeout=setTimeout(this._onTimeout,40,d)):this._type||(this._type=Math.abs(I*y)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,y+=this._lastValue)),d.shiftKey&&y&&(y/=4),this._type&&(this._lastWheelEvent=d,this._delta-=y,this._active||this._start(d)),d.preventDefault()}_start(d){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const y=c.mousePos(this._el,d),A=this._tr;this._around=s.L.convert(this._aroundCenter?A.center:A.unproject(y)),this._aroundPoint=A.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const d=this._tr.transform;if(this._delta!==0){const G=this._type==="wheel"&&Math.abs(this._delta)>Jh?this._wheelZoomRate:this._defaultZoomRate;let K=2/(1+Math.exp(-Math.abs(this._delta*G)));this._delta<0&&K!==0&&(K=1/K);const ee=typeof this._targetZoom=="number"?d.zoomScale(this._targetZoom):d.scale;this._targetZoom=Math.min(d.maxZoom,Math.max(d.minZoom,d.scaleZoom(ee*K))),this._type==="wheel"&&(this._startZoom=d.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const y=typeof this._targetZoom=="number"?this._targetZoom:d.zoom,A=this._startZoom,I=this._easing;let D,W=!1;if(this._type==="wheel"&&A&&I){const G=Math.min((s.h.now()-this._lastWheelEventTime)/200,1),K=I(G);D=s.B.number(A,y,K),G<1?this._frameId||(this._frameId=!0):W=!0}else D=y,W=!0;return this._active=!0,W&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!W,zoomDelta:D-d.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(d){let y=s.bb;if(this._prevEase){const A=this._prevEase,I=(s.h.now()-A.start)/A.duration,D=A.easing(I+.01)-A.easing(I),W=.27/Math.sqrt(D*D+1e-4)*.01,G=Math.sqrt(.0729-W*W);y=s.ba(W,G,.25,1)}return this._prevEase={start:s.h.now(),duration:d,easing:y},y}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Ld{constructor(d,y){this._clickZoom=d,this._tapZoom=y}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Pm{constructor(d){this._tr=new Hi(d),this.reset()}reset(){this._active=!1}dblclick(d,y){return d.preventDefault(),{cameraAnimation:A=>{A.easeTo({duration:300,zoom:this._tr.zoom+(d.shiftKey?-1:1),around:this._tr.unproject(y)},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Im{constructor(){this._tap=new Du({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(d,y,A){if(!this._swipePoint)if(this._tapTime){const I=y[0],D=d.timeStamp-this._tapTime<500,W=this._tapPoint.dist(I)<30;D&&W?A.length>0&&(this._swipePoint=I,this._swipeTouch=A[0].identifier):this.reset()}else this._tap.touchstart(d,y,A)}touchmove(d,y,A){if(this._tapTime){if(this._swipePoint){if(A[0].identifier!==this._swipeTouch)return;const I=y[0],D=I.y-this._swipePoint.y;return this._swipePoint=I,d.preventDefault(),this._active=!0,{zoomDelta:D/128}}}else this._tap.touchmove(d,y,A)}touchend(d,y,A){if(this._tapTime)this._swipePoint&&A.length===0&&this.reset();else{const I=this._tap.touchend(d,y,A);I&&(this._tapTime=d.timeStamp,this._tapPoint=I)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class km{constructor(d,y,A){this._el=d,this._mousePan=y,this._touchPan=A}enable(d){this._inertiaOptions=d||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ws{constructor(d,y,A){this._pitchWithRotate=d.pitchWithRotate,this._mouseRotate=y,this._mousePitch=A}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class ac{constructor(d,y,A,I){this._el=d,this._touchZoom=y,this._touchRotate=A,this._tapDragZoom=I,this._rotationDisabled=!1,this._enabled=!0}enable(d){this._touchZoom.enable(d),this._rotationDisabled||this._touchRotate.enable(d),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const $f=O=>O.zoom||O.drag||O.pitch||O.rotate;class Rm extends s.k{}function Qh(O){return O.panDelta&&O.panDelta.mag()||O.zoomDelta||O.bearingDelta||O.pitchDelta}class Om{constructor(d,y){this.handleWindowEvent=I=>{this.handleEvent(I,`${I.type}Window`)},this.handleEvent=(I,D)=>{if(I.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const W=I.type==="renderFrame"?void 0:I,G={needsRenderFrame:!1},K={},ee={},re=I.touches,se=re?this._getMapTouches(re):void 0,be=se?c.touchPos(this._el,se):c.mousePos(this._el,I);for(const{handlerName:$e,handler:Ie,allowed:at}of this._handlers){if(!Ie.isEnabled())continue;let Mt;this._blockedByActive(ee,at,$e)?Ie.reset():Ie[D||I.type]&&(Mt=Ie[D||I.type](I,be,se),this.mergeHandlerResult(G,K,Mt,$e,W),Mt&&Mt.needsRenderFrame&&this._triggerRenderFrame()),(Mt||Ie.isActive())&&(ee[$e]=Ie)}const Le={};for(const $e in this._previousActiveHandlers)ee[$e]||(Le[$e]=W);this._previousActiveHandlers=ee,(Object.keys(Le).length||Qh(G))&&(this._changes.push([G,K,Le]),this._triggerRenderFrame()),(Object.keys(ee).length||Qh(G))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Re}=G;Re&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Re(this._map))},this._map=d,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Wi(d),this._bearingSnap=y.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(y);const A=this._el;this._listeners=[[A,"touchstart",{passive:!0}],[A,"touchmove",{passive:!1}],[A,"touchend",void 0],[A,"touchcancel",void 0],[A,"mousedown",void 0],[A,"mousemove",void 0],[A,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[A,"mouseover",void 0],[A,"mouseout",void 0],[A,"dblclick",void 0],[A,"click",void 0],[A,"keydown",{capture:!1}],[A,"keyup",void 0],[A,"wheel",{passive:!1}],[A,"contextmenu",void 0],[window,"blur",void 0]];for(const[I,D,W]of this._listeners)c.addEventListener(I,D,I===document?this.handleWindowEvent:this.handleEvent,W)}destroy(){for(const[d,y,A]of this._listeners)c.removeEventListener(d,y,d===document?this.handleWindowEvent:this.handleEvent,A)}_addDefaultHandlers(d){const y=this._map,A=y.getCanvasContainer();this._add("mapEvent",new Id(y,d));const I=y.boxZoom=new Bo(y,d);this._add("boxZoom",I),d.interactive&&d.boxZoom&&I.enable();const D=new Dc(y),W=new Pm(y);y.doubleClickZoom=new Ld(W,D),this._add("tapZoom",D),this._add("clickZoom",W),d.interactive&&d.doubleClickZoom&&y.doubleClickZoom.enable();const G=new Im;this._add("tapDragZoom",G);const K=y.touchPitch=new qy(y);this._add("touchPitch",K),d.interactive&&d.touchPitch&&y.touchPitch.enable(d.touchPitch);const ee=Us(d),re=Vs(d);y.dragRotate=new Ws(d,ee,re),this._add("mouseRotate",ee,["mousePitch"]),this._add("mousePitch",re,["mouseRotate"]),d.interactive&&d.dragRotate&&y.dragRotate.enable();const se=(({enable:at,clickTolerance:Mt})=>{const Ge=new Kh({checkCorrectEvent:ft=>c.mouseButton(ft)===0&&!ft.ctrlKey});return new Gi({clickTolerance:Mt,move:(ft,At)=>({around:At,panDelta:At.sub(ft)}),activateOnStart:!0,moveStateManager:Ge,enable:at,assignEvents:Ga})})(d),be=new Sn(d,y);y.dragPan=new km(A,se,be),this._add("mousePan",se),this._add("touchPan",be,["touchZoom","touchRotate"]),d.interactive&&d.dragPan&&y.dragPan.enable(d.dragPan);const Le=new Cm,Re=new Gy;y.touchZoomRotate=new ac(A,Re,Le,G),this._add("touchRotate",Le,["touchPan","touchZoom"]),this._add("touchZoom",Re,["touchPan","touchRotate"]),d.interactive&&d.touchZoomRotate&&y.touchZoomRotate.enable(d.touchZoomRotate);const $e=y.scrollZoom=new Xy(y,()=>this._triggerRenderFrame());this._add("scrollZoom",$e,["mousePan"]),d.interactive&&d.scrollZoom&&y.scrollZoom.enable(d.scrollZoom);const Ie=y.keyboard=new Yy(y);this._add("keyboard",Ie),d.interactive&&d.keyboard&&y.keyboard.enable(),this._add("blockableMapEvent",new no(y))}_add(d,y,A){this._handlers.push({handlerName:d,handler:y,allowed:A}),this._handlersById[d]=y}stop(d){if(!this._updatingCamera){for(const{handler:y}of this._handlers)y.reset();this._inertia.clear(),this._fireEvents({},{},d),this._changes=[]}}isActive(){for(const{handler:d}of this._handlers)if(d.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!$f(this._eventsInProgress)||this.isZooming()}_blockedByActive(d,y,A){for(const I in d)if(I!==A&&(!y||y.indexOf(I)<0))return!0;return!1}_getMapTouches(d){const y=[];for(const A of d)this._el.contains(A.target)&&y.push(A);return y}mergeHandlerResult(d,y,A,I,D){if(!A)return;s.e(d,A);const W={handlerName:I,originalEvent:A.originalEvent||D};A.zoomDelta!==void 0&&(y.zoom=W),A.panDelta!==void 0&&(y.drag=W),A.pitchDelta!==void 0&&(y.pitch=W),A.bearingDelta!==void 0&&(y.rotate=W)}_applyChanges(){const d={},y={},A={};for(const[I,D,W]of this._changes)I.panDelta&&(d.panDelta=(d.panDelta||new s.P(0,0))._add(I.panDelta)),I.zoomDelta&&(d.zoomDelta=(d.zoomDelta||0)+I.zoomDelta),I.bearingDelta&&(d.bearingDelta=(d.bearingDelta||0)+I.bearingDelta),I.pitchDelta&&(d.pitchDelta=(d.pitchDelta||0)+I.pitchDelta),I.around!==void 0&&(d.around=I.around),I.pinchAround!==void 0&&(d.pinchAround=I.pinchAround),I.noInertia&&(d.noInertia=I.noInertia),s.e(y,D),s.e(A,W);this._updateMapTransform(d,y,A),this._changes=[]}_updateMapTransform(d,y,A){const I=this._map,D=I._getTransformForUpdate(),W=I.terrain;if(!(Qh(d)||W&&this._terrainMovement))return this._fireEvents(y,A,!0);let{panDelta:G,zoomDelta:K,bearingDelta:ee,pitchDelta:re,around:se,pinchAround:be}=d;be!==void 0&&(se=be),I._stop(!0),se=se||I.transform.centerPoint;const Le=D.pointLocation(G?se.sub(G):se);ee&&(D.bearing+=ee),re&&(D.pitch+=re),K&&(D.zoom+=K),W?this._terrainMovement||!y.drag&&!y.zoom?y.drag&&this._terrainMovement?D.center=D.pointLocation(D.centerPoint.sub(G)):D.setLocationAtPoint(Le,se):(this._terrainMovement=!0,this._map._elevationFreeze=!0,D.setLocationAtPoint(Le,se),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,D.recalculateZoom(I.terrain)})):D.setLocationAtPoint(Le,se),I._applyUpdatedTransform(D),this._map._update(),d.noInertia||this._inertia.record(d),this._fireEvents(y,A,!0)}_fireEvents(d,y,A){const I=$f(this._eventsInProgress),D=$f(d),W={};for(const re in d){const{originalEvent:se}=d[re];this._eventsInProgress[re]||(W[`${re}start`]=se),this._eventsInProgress[re]=d[re]}!I&&D&&this._fireEvent("movestart",D.originalEvent);for(const re in W)this._fireEvent(re,W[re]);D&&this._fireEvent("move",D.originalEvent);for(const re in d){const{originalEvent:se}=d[re];this._fireEvent(re,se)}const G={};let K;for(const re in this._eventsInProgress){const{handlerName:se,originalEvent:be}=this._eventsInProgress[re];this._handlersById[se].isActive()||(delete this._eventsInProgress[re],K=y[se]||be,G[`${re}end`]=K)}for(const re in G)this._fireEvent(re,G[re]);const ee=$f(this._eventsInProgress);if(A&&(I||D)&&!ee){this._updatingCamera=!0;const re=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),se=be=>be!==0&&-this._bearingSnap<be&&be<this._bearingSnap;!re||!re.essential&&s.h.prefersReducedMotion?(this._map.fire(new s.k("moveend",{originalEvent:K})),se(this._map.getBearing())&&this._map.resetNorth()):(se(re.bearing||this._map.getBearing())&&(re.bearing=0),re.freezeElevation=!0,this._map.easeTo(re,{originalEvent:K})),this._updatingCamera=!1}}_fireEvent(d,y){this._map.fire(new s.k(d,y?{originalEvent:y}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(d=>{delete this._frameId,this.handleEvent(new Rm("renderFrame",{timeStamp:d})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class sx extends s.E{constructor(d,y){super(),this._renderFrameCallback=()=>{const A=Math.min((s.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(A)),A<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=d,this._bearingSnap=y.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new s.L(this.transform.center.lng,this.transform.center.lat)}setCenter(d,y){return this.jumpTo({center:d},y)}panBy(d,y,A){return d=s.P.convert(d).mult(-1),this.panTo(this.transform.center,s.e({offset:d},y),A)}panTo(d,y,A){return this.easeTo(s.e({center:d},y),A)}getZoom(){return this.transform.zoom}setZoom(d,y){return this.jumpTo({zoom:d},y),this}zoomTo(d,y,A){return this.easeTo(s.e({zoom:d},y),A)}zoomIn(d,y){return this.zoomTo(this.getZoom()+1,d,y),this}zoomOut(d,y){return this.zoomTo(this.getZoom()-1,d,y),this}getBearing(){return this.transform.bearing}setBearing(d,y){return this.jumpTo({bearing:d},y),this}getPadding(){return this.transform.padding}setPadding(d,y){return this.jumpTo({padding:d},y),this}rotateTo(d,y,A){return this.easeTo(s.e({bearing:d},y),A)}resetNorth(d,y){return this.rotateTo(0,s.e({duration:1e3},d),y),this}resetNorthPitch(d,y){return this.easeTo(s.e({bearing:0,pitch:0,duration:1e3},d),y),this}snapToNorth(d,y){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(d,y):this}getPitch(){return this.transform.pitch}setPitch(d,y){return this.jumpTo({pitch:d},y),this}cameraForBounds(d,y){d=rt.convert(d);const A=y&&y.bearing||0;return this._cameraForBoxAndBearing(d.getNorthWest(),d.getSouthEast(),A,y)}_cameraForBoxAndBearing(d,y,A,I){const D={top:0,bottom:0,right:0,left:0};if(typeof(I=s.e({padding:D,offset:[0,0],maxZoom:this.transform.maxZoom},I)).padding=="number"){const At=I.padding;I.padding={top:At,bottom:At,right:At,left:At}}I.padding=s.e(D,I.padding);const W=this.transform,G=W.padding,K=W.project(s.L.convert(d)),ee=W.project(s.L.convert(y)),re=K.rotate(-A*Math.PI/180),se=ee.rotate(-A*Math.PI/180),be=new s.P(Math.max(re.x,se.x),Math.max(re.y,se.y)),Le=new s.P(Math.min(re.x,se.x),Math.min(re.y,se.y)),Re=be.sub(Le),$e=(W.width-(G.left+G.right+I.padding.left+I.padding.right))/Re.x,Ie=(W.height-(G.top+G.bottom+I.padding.top+I.padding.bottom))/Re.y;if(Ie<0||$e<0)return void s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const at=Math.min(W.scaleZoom(W.scale*Math.min($e,Ie)),I.maxZoom),Mt=s.P.convert(I.offset),Ge=new s.P((I.padding.left-I.padding.right)/2,(I.padding.top-I.padding.bottom)/2).rotate(A*Math.PI/180),ft=Mt.add(Ge).mult(W.scale/W.zoomScale(at));return{center:W.unproject(K.add(ee).div(2).sub(ft)),zoom:at,bearing:A}}fitBounds(d,y,A){return this._fitInternal(this.cameraForBounds(d,y),y,A)}fitScreenCoordinates(d,y,A,I,D){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.P.convert(d)),this.transform.pointLocation(s.P.convert(y)),A,I),I,D)}_fitInternal(d,y,A){return d?(delete(y=s.e(d,y)).padding,y.linear?this.easeTo(y,A):this.flyTo(y,A)):this}jumpTo(d,y){this.stop();const A=this._getTransformForUpdate();let I=!1,D=!1,W=!1;return"zoom"in d&&A.zoom!==+d.zoom&&(I=!0,A.zoom=+d.zoom),d.center!==void 0&&(A.center=s.L.convert(d.center)),"bearing"in d&&A.bearing!==+d.bearing&&(D=!0,A.bearing=+d.bearing),"pitch"in d&&A.pitch!==+d.pitch&&(W=!0,A.pitch=+d.pitch),d.padding==null||A.isPaddingEqual(d.padding)||(A.padding=d.padding),this._applyUpdatedTransform(A),this.fire(new s.k("movestart",y)).fire(new s.k("move",y)),I&&this.fire(new s.k("zoomstart",y)).fire(new s.k("zoom",y)).fire(new s.k("zoomend",y)),D&&this.fire(new s.k("rotatestart",y)).fire(new s.k("rotate",y)).fire(new s.k("rotateend",y)),W&&this.fire(new s.k("pitchstart",y)).fire(new s.k("pitch",y)).fire(new s.k("pitchend",y)),this.fire(new s.k("moveend",y))}calculateCameraOptionsFromTo(d,y,A,I=0){const D=s.U.fromLngLat(d,y),W=s.U.fromLngLat(A,I),G=W.x-D.x,K=W.y-D.y,ee=W.z-D.z,re=Math.hypot(G,K,ee);if(re===0)throw new Error("Can't calculate camera options with same From and To");const se=Math.hypot(G,K),be=this.transform.scaleZoom(this.transform.cameraToCenterDistance/re/this.transform.tileSize),Le=180*Math.atan2(G,-K)/Math.PI;let Re=180*Math.acos(se/re)/Math.PI;return Re=ee<0?90-Re:90+Re,{center:W.toLngLat(),zoom:be,pitch:Re,bearing:Le}}easeTo(d,y){this._stop(!1,d.easeId),((d=s.e({offset:[0,0],duration:500,easing:s.bb},d)).animate===!1||!d.essential&&s.h.prefersReducedMotion)&&(d.duration=0);const A=this._getTransformForUpdate(),I=this.getZoom(),D=this.getBearing(),W=this.getPitch(),G=this.getPadding(),K="zoom"in d?+d.zoom:I,ee="bearing"in d?this._normalizeBearing(d.bearing,D):D,re="pitch"in d?+d.pitch:W,se="padding"in d?d.padding:A.padding,be=s.P.convert(d.offset);let Le=A.centerPoint.add(be);const Re=A.pointLocation(Le),$e=s.L.convert(d.center||Re);this._normalizeCenter($e);const Ie=A.project(Re),at=A.project($e).sub(Ie),Mt=A.zoomScale(K-I);let Ge,ft;d.around&&(Ge=s.L.convert(d.around),ft=A.locationPoint(Ge));const At={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||K!==I,this._rotating=this._rotating||D!==ee,this._pitching=this._pitching||re!==W,this._padding=!A.isPaddingEqual(se),this._easeId=d.easeId,this._prepareEase(y,d.noMoveStart,At),this.terrain&&this._prepareElevation($e),this._ease(Pt=>{if(this._zooming&&(A.zoom=s.B.number(I,K,Pt)),this._rotating&&(A.bearing=s.B.number(D,ee,Pt)),this._pitching&&(A.pitch=s.B.number(W,re,Pt)),this._padding&&(A.interpolatePadding(G,se,Pt),Le=A.centerPoint.add(be)),this.terrain&&!d.freezeElevation&&this._updateElevation(Pt),Ge)A.setLocationAtPoint(Ge,ft);else{const qt=A.zoomScale(A.zoom-I),wt=K>I?Math.min(2,Mt):Math.max(.5,Mt),Kt=Math.pow(wt,1-Pt),ln=A.unproject(Ie.add(at.mult(Pt*Kt)).mult(qt));A.setLocationAtPoint(A.renderWorldCopies?ln.wrap():ln,Le)}this._applyUpdatedTransform(A),this._fireMoveEvents(y)},Pt=>{this.terrain&&this._finalizeElevation(),this._afterEase(y,Pt)},d),this}_prepareEase(d,y,A={}){this._moving=!0,y||A.moving||this.fire(new s.k("movestart",d)),this._zooming&&!A.zooming&&this.fire(new s.k("zoomstart",d)),this._rotating&&!A.rotating&&this.fire(new s.k("rotatestart",d)),this._pitching&&!A.pitching&&this.fire(new s.k("pitchstart",d))}_prepareElevation(d){this._elevationCenter=d,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(d){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const y=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(d<1&&y!==this._elevationTarget){const A=this._elevationTarget-this._elevationStart;this._elevationStart+=d*(A-(y-(A*d+this._elevationStart))/(1-d)),this._elevationTarget=y}this.transform.elevation=s.B.number(this._elevationStart,this._elevationTarget,d)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(d){if(!this.transformCameraUpdate)return;const y=d.clone(),{center:A,zoom:I,pitch:D,bearing:W,elevation:G}=this.transformCameraUpdate(y);A&&(y.center=A),I!==void 0&&(y.zoom=I),D!==void 0&&(y.pitch=D),W!==void 0&&(y.bearing=W),G!==void 0&&(y.elevation=G),this.transform.apply(y)}_fireMoveEvents(d){this.fire(new s.k("move",d)),this._zooming&&this.fire(new s.k("zoom",d)),this._rotating&&this.fire(new s.k("rotate",d)),this._pitching&&this.fire(new s.k("pitch",d))}_afterEase(d,y){if(this._easeId&&y&&this._easeId===y)return;delete this._easeId;const A=this._zooming,I=this._rotating,D=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,A&&this.fire(new s.k("zoomend",d)),I&&this.fire(new s.k("rotateend",d)),D&&this.fire(new s.k("pitchend",d)),this.fire(new s.k("moveend",d))}flyTo(d,y){if(!d.essential&&s.h.prefersReducedMotion){const On=s.F(d,["center","zoom","bearing","pitch","around"]);return this.jumpTo(On,y)}this.stop(),d=s.e({offset:[0,0],speed:1.2,curve:1.42,easing:s.bb},d);const A=this._getTransformForUpdate(),I=this.getZoom(),D=this.getBearing(),W=this.getPitch(),G=this.getPadding(),K="zoom"in d?s.ad(+d.zoom,A.minZoom,A.maxZoom):I,ee="bearing"in d?this._normalizeBearing(d.bearing,D):D,re="pitch"in d?+d.pitch:W,se="padding"in d?d.padding:A.padding,be=A.zoomScale(K-I),Le=s.P.convert(d.offset);let Re=A.centerPoint.add(Le);const $e=A.pointLocation(Re),Ie=s.L.convert(d.center||$e);this._normalizeCenter(Ie);const at=A.project($e),Mt=A.project(Ie).sub(at);let Ge=d.curve;const ft=Math.max(A.width,A.height),At=ft/be,Pt=Mt.mag();if("minZoom"in d){const On=s.ad(Math.min(d.minZoom,I,K),A.minZoom,A.maxZoom),ei=ft/A.zoomScale(On-I);Ge=Math.sqrt(ei/Pt*2)}const qt=Ge*Ge;function wt(On){const ei=(At*At-ft*ft+(On?-1:1)*qt*qt*Pt*Pt)/(2*(On?At:ft)*qt*Pt);return Math.log(Math.sqrt(ei*ei+1)-ei)}function Kt(On){return(Math.exp(On)-Math.exp(-On))/2}function ln(On){return(Math.exp(On)+Math.exp(-On))/2}const Rn=wt(!1);let Pr=function(On){return ln(Rn)/ln(Rn+Ge*On)},dn=function(On){return ft*((ln(Rn)*(Kt(ei=Rn+Ge*On)/ln(ei))-Kt(Rn))/qt)/Pt;var ei},Jn=(wt(!0)-Rn)/Ge;if(Math.abs(Pt)<1e-6||!isFinite(Jn)){if(Math.abs(ft-At)<1e-6)return this.easeTo(d,y);const On=At<ft?-1:1;Jn=Math.abs(Math.log(At/ft))/Ge,dn=function(){return 0},Pr=function(ei){return Math.exp(On*Ge*ei)}}return d.duration="duration"in d?+d.duration:1e3*Jn/("screenSpeed"in d?+d.screenSpeed/Ge:+d.speed),d.maxDuration&&d.duration>d.maxDuration&&(d.duration=0),this._zooming=!0,this._rotating=D!==ee,this._pitching=re!==W,this._padding=!A.isPaddingEqual(se),this._prepareEase(y,!1),this.terrain&&this._prepareElevation(Ie),this._ease(On=>{const ei=On*Jn,Er=1/Pr(ei);A.zoom=On===1?K:I+A.scaleZoom(Er),this._rotating&&(A.bearing=s.B.number(D,ee,On)),this._pitching&&(A.pitch=s.B.number(W,re,On)),this._padding&&(A.interpolatePadding(G,se,On),Re=A.centerPoint.add(Le)),this.terrain&&!d.freezeElevation&&this._updateElevation(On);const vr=On===1?Ie:A.unproject(at.add(Mt.mult(dn(ei))).mult(Er));A.setLocationAtPoint(A.renderWorldCopies?vr.wrap():vr,Re),this._applyUpdatedTransform(A),this._fireMoveEvents(y)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(y)},d),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(d,y){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const A=this._onEaseEnd;delete this._onEaseEnd,A.call(this,y)}if(!d){const A=this.handlers;A&&A.stop(!1)}return this}_ease(d,y,A){A.animate===!1||A.duration===0?(d(1),y()):(this._easeStart=s.h.now(),this._easeOptions=A,this._onEaseFrame=d,this._onEaseEnd=y,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(d,y){d=s.b5(d,-180,180);const A=Math.abs(d-y);return Math.abs(d-360-y)<A&&(d-=360),Math.abs(d+360-y)<A&&(d+=360),d}_normalizeCenter(d){const y=this.transform;if(!y.renderWorldCopies||y.lngRange)return;const A=d.lng-y.center.lng;d.lng+=A>180?-360:A<-180?360:0}queryTerrainElevation(d){return this.terrain?this.terrain.getElevationForLngLatZoom(s.L.convert(d),this.transform.tileZoom)-this.transform.elevation:null}}class Ta{constructor(d={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=y=>{!y||y.sourceDataType!=="metadata"&&y.sourceDataType!=="visibility"&&y.dataType!=="style"&&y.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=d}getDefaultPosition(){return"bottom-right"}onAdd(d){return this._map=d,this._compact=this.options&&this.options.compact,this._container=c.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=c.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=c.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){c.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(d,y){const A=this._map._getUIString(`AttributionControl.${y}`);d.title=A,d.setAttribute("aria-label",A)}_updateAttributions(){if(!this._map.style)return;let d=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?d=d.concat(this.options.customAttribution.map(I=>typeof I!="string"?"":I)):typeof this.options.customAttribution=="string"&&d.push(this.options.customAttribution)),this._map.style.stylesheet){const I=this._map.style.stylesheet;this.styleOwner=I.owner,this.styleId=I.id}const y=this._map.style.sourceCaches;for(const I in y){const D=y[I];if(D.used||D.usedForTerrain){const W=D.getSource();W.attribution&&d.indexOf(W.attribution)<0&&d.push(W.attribution)}}d=d.filter(I=>String(I).trim()),d.sort((I,D)=>I.length-D.length),d=d.filter((I,D)=>{for(let W=D+1;W<d.length;W++)if(d[W].indexOf(I)>=0)return!1;return!0});const A=d.join(" | ");A!==this._attribHTML&&(this._attribHTML=A,d.length?(this._innerContainer.innerHTML=A,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Ei{constructor(d={}){this._updateCompact=()=>{const y=this._container.children;if(y.length){const A=y[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&A.classList.add("maplibregl-compact"):A.classList.remove("maplibregl-compact")}},this.options=d}getDefaultPosition(){return"bottom-left"}onAdd(d){this._map=d,this._compact=this.options&&this.options.compact,this._container=c.create("div","maplibregl-ctrl");const y=c.create("a","maplibregl-ctrl-logo");return y.target="_blank",y.rel="noopener nofollow",y.href="https://maplibre.org/",y.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),y.setAttribute("rel","noopener nofollow"),this._container.appendChild(y),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){c.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class ep{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(d){const y=++this._id;return this._queue.push({callback:d,id:y,cancelled:!1}),y}remove(d){const y=this._currentlyRunning,A=y?this._queue.concat(y):this._queue;for(const I of A)if(I.id===d)return void(I.cancelled=!0)}run(d=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const y=this._currentlyRunning=this._queue;this._queue=[];for(const A of y)if(!A.cancelled&&(A.callback(d),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Lm={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Ky=s.Q([{name:"a_pos3d",type:"Int16",components:3}]);class tp extends s.E{constructor(d){super(),this.sourceCache=d,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,d.usedForTerrain=!0,d.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(d,y){this.sourceCache.update(d,y),this._renderableTilesKeys=[];const A={};for(const I of d.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:y}))A[I.key]=!0,this._renderableTilesKeys.push(I.key),this._tiles[I.key]||(I.posMatrix=new Float64Array(16),s.aS(I.posMatrix,0,s.N,0,s.N,0,1),this._tiles[I.key]=new Gt(I,this.tileSize));for(const I in this._tiles)A[I]||delete this._tiles[I]}freeRtt(d){for(const y in this._tiles){const A=this._tiles[y];(!d||A.tileID.equals(d)||A.tileID.isChildOf(d)||d.isChildOf(A.tileID))&&(A.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(d=>this.getTileByID(d))}getTileByID(d){return this._tiles[d]}getTerrainCoords(d){const y={};for(const A of this._renderableTilesKeys){const I=this._tiles[A].tileID;if(I.canonical.equals(d.canonical)){const D=d.clone();D.posMatrix=new Float64Array(16),s.aS(D.posMatrix,0,s.N,0,s.N,0,1),y[A]=D}else if(I.canonical.isChildOf(d.canonical)){const D=d.clone();D.posMatrix=new Float64Array(16);const W=I.canonical.z-d.canonical.z,G=I.canonical.x-(I.canonical.x>>W<<W),K=I.canonical.y-(I.canonical.y>>W<<W),ee=s.N>>W;s.aS(D.posMatrix,0,ee,0,ee,0,1),s.$(D.posMatrix,D.posMatrix,[-G*ee,-K*ee,0]),y[A]=D}else if(d.canonical.isChildOf(I.canonical)){const D=d.clone();D.posMatrix=new Float64Array(16);const W=d.canonical.z-I.canonical.z,G=d.canonical.x-(d.canonical.x>>W<<W),K=d.canonical.y-(d.canonical.y>>W<<W),ee=s.N>>W;s.aS(D.posMatrix,0,s.N,0,s.N,0,1),s.$(D.posMatrix,D.posMatrix,[G*ee,K*ee,0]),s.a0(D.posMatrix,D.posMatrix,[1/2**W,1/2**W,0]),y[A]=D}}return y}getSourceTile(d,y){const A=this.sourceCache._source;let I=d.overscaledZ-this.deltaZoom;if(I>A.maxzoom&&(I=A.maxzoom),I<A.minzoom)return null;this._sourceTileCache[d.key]||(this._sourceTileCache[d.key]=d.scaledTo(I).key);let D=this.sourceCache.getTileByID(this._sourceTileCache[d.key]);if((!D||!D.dem)&&y)for(;I>=A.minzoom&&(!D||!D.dem);)D=this.sourceCache.getTileByID(d.scaledTo(I--).key);return D}tilesAfterTime(d=Date.now()){return Object.values(this._tiles).filter(y=>y.timeAdded>=d)}}class ax{constructor(d,y,A){this.painter=d,this.sourceCache=new tp(y),this.options=A,this.exaggeration=typeof A.exaggeration=="number"?A.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(d,y,A,I=s.N){var D;if(!(y>=0&&y<I&&A>=0&&A<I))return 0;const W=this.getTerrainData(d),G=(D=W.tile)===null||D===void 0?void 0:D.dem;if(!G)return 0;const K=function(Re,$e,Ie){var at=$e[0],Mt=$e[1];return Re[0]=Ie[0]*at+Ie[4]*Mt+Ie[12],Re[1]=Ie[1]*at+Ie[5]*Mt+Ie[13],Re}([],[y/I*s.N,A/I*s.N],W.u_terrain_matrix),ee=[K[0]*G.dim,K[1]*G.dim],re=Math.floor(ee[0]),se=Math.floor(ee[1]),be=ee[0]-re,Le=ee[1]-se;return G.get(re,se)*(1-be)*(1-Le)+G.get(re+1,se)*be*(1-Le)+G.get(re,se+1)*(1-be)*Le+G.get(re+1,se+1)*be*Le}getElevationForLngLatZoom(d,y){const{tileID:A,mercatorX:I,mercatorY:D}=this._getOverscaledTileIDFromLngLatZoom(d,y);return this.getElevation(A,I%s.N,D%s.N,s.N)}getElevation(d,y,A,I=s.N){return this.getDEMElevation(d,y,A,I)*this.exaggeration}getTerrainData(d){if(!this._emptyDemTexture){const I=this.painter.context,D=new s.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new j(I,D,I.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new j(I,new s.R({width:1,height:1}),I.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(I.gl.NEAREST,I.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.ao([])}const y=this.sourceCache.getSourceTile(d,!0);if(y&&y.dem&&(!y.demTexture||y.needsTerrainPrepare)){const I=this.painter.context;y.demTexture=this.painter.getTileTexture(y.dem.stride),y.demTexture?y.demTexture.update(y.dem.getPixels(),{premultiply:!1}):y.demTexture=new j(I,y.dem.getPixels(),I.gl.RGBA,{premultiply:!1}),y.demTexture.bind(I.gl.NEAREST,I.gl.CLAMP_TO_EDGE),y.needsTerrainPrepare=!1}const A=y&&y+y.tileID.key+d.key;if(A&&!this._demMatrixCache[A]){const I=this.sourceCache.sourceCache._source.maxzoom;let D=d.canonical.z-y.tileID.canonical.z;d.overscaledZ>d.canonical.z&&(d.canonical.z>=I?D=d.canonical.z-I:s.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const W=d.canonical.x-(d.canonical.x>>D<<D),G=d.canonical.y-(d.canonical.y>>D<<D),K=s.bc(new Float64Array(16),[1/(s.N<<D),1/(s.N<<D),0]);s.$(K,K,[W*s.N,G*s.N,0]),this._demMatrixCache[d.key]={matrix:K,coord:d}}return{u_depth:2,u_terrain:3,u_terrain_dim:y&&y.dem&&y.dem.dim||1,u_terrain_matrix:A?this._demMatrixCache[d.key].matrix:this._emptyDemMatrix,u_terrain_unpack:y&&y.dem&&y.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(y&&y.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:y}}getFramebuffer(d){const y=this.painter,A=y.width/devicePixelRatio,I=y.height/devicePixelRatio;return!this._fbo||this._fbo.width===A&&this._fbo.height===I||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new j(y.context,{width:A,height:I,data:null},y.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(y.context.gl.NEAREST,y.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new j(y.context,{width:A,height:I,data:null},y.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(y.context.gl.NEAREST,y.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=y.context.createFramebuffer(A,I,!0,!1),this._fbo.depthAttachment.set(y.context.createRenderbuffer(y.context.gl.DEPTH_COMPONENT16,A,I))),this._fbo.colorAttachment.set(d==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const d=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const y=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let D=0,W=0;D<this._coordsTextureSize;D++)for(let G=0;G<this._coordsTextureSize;G++,W+=4)y[W+0]=255&G,y[W+1]=255&D,y[W+2]=G>>8<<4|D>>8,y[W+3]=0;const A=new s.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(y.buffer)),I=new j(d,A,d.gl.RGBA,{premultiply:!1});return I.bind(d.gl.NEAREST,d.gl.CLAMP_TO_EDGE),this._coordsTexture=I,I}pointCoordinate(d){const y=new Uint8Array(4),A=this.painter.context,I=A.gl;A.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),I.readPixels(d.x,this.painter.height/devicePixelRatio-d.y-1,1,1,I.RGBA,I.UNSIGNED_BYTE,y),A.bindFramebuffer.set(null);const D=y[0]+(y[2]>>4<<8),W=y[1]+((15&y[2])<<8),G=this.coordsIndex[255-y[3]],K=G&&this.sourceCache.getTileByID(G);if(!K)return null;const ee=this._coordsTextureSize,re=(1<<K.tileID.canonical.z)*ee;return new s.U(this._allowMercatorOverflow(d,(K.tileID.canonical.x*ee+D)/re),(K.tileID.canonical.y*ee+W)/re,this.getElevation(K.tileID,D,W,ee))}getTerrainMesh(){if(this._mesh)return this._mesh;const d=this.painter.context,y=new s.bd,A=new s.b0,I=this.meshSize,D=s.N/I,W=I*I;for(let se=0;se<=I;se++)for(let be=0;be<=I;be++)y.emplaceBack(be*D,se*D,0);for(let se=0;se<W;se+=I+1)for(let be=0;be<I;be++)A.emplaceBack(be+se,I+be+se+1,I+be+se+2),A.emplaceBack(be+se,I+be+se+2,be+se+1);const G=y.length,K=G+2*(I+1);for(const se of[0,1])for(let be=0;be<=I;be++)for(const Le of[0,1])y.emplaceBack(be*D,se*s.N,Le);for(let se=0;se<2*I;se+=2)A.emplaceBack(K+se,K+se+1,K+se+3),A.emplaceBack(K+se,K+se+3,K+se+2),A.emplaceBack(G+se,G+se+3,G+se+1),A.emplaceBack(G+se,G+se+2,G+se+3);const ee=y.length,re=ee+2*(I+1);for(const se of[0,1])for(let be=0;be<=I;be++)for(const Le of[0,1])y.emplaceBack(se*s.N,be*D,Le);for(let se=0;se<2*I;se+=2)A.emplaceBack(ee+se,ee+se+1,ee+se+3),A.emplaceBack(ee+se,ee+se+3,ee+se+2),A.emplaceBack(re+se,re+se+3,re+se+1),A.emplaceBack(re+se,re+se+2,re+se+3);return this._mesh={indexBuffer:d.createIndexBuffer(A),vertexBuffer:d.createVertexBuffer(y,Ky.members),segments:s.S.simpleSegment(0,0,y.length,A.length)},this._mesh}getMeshFrameDelta(d){return 2*Math.PI*s.be/Math.pow(2,d)/5}getMinTileElevationForLngLatZoom(d,y){var A;const{tileID:I}=this._getOverscaledTileIDFromLngLatZoom(d,y);return(A=this.getMinMaxElevation(I).minElevation)!==null&&A!==void 0?A:0}getMinMaxElevation(d){const y=this.getTerrainData(d).tile,A={minElevation:null,maxElevation:null};return y&&y.dem&&(A.minElevation=y.dem.min*this.exaggeration,A.maxElevation=y.dem.max*this.exaggeration),A}_getOverscaledTileIDFromLngLatZoom(d,y){const A=s.U.fromLngLat(d.wrap()),I=(1<<y)*s.N,D=A.x*I,W=A.y*I,G=Math.floor(D/s.N),K=Math.floor(W/s.N);return{tileID:new s.O(y,0,y,G,K),mercatorX:D,mercatorY:W}}_allowMercatorOverflow(d,y){const A=d.x<this.painter.width/2;let I=s.bf(y);const D=this.painter.transform.center.lng;return A&&Math.sign(I)>0&&Math.sign(D)<0||!A&&Math.sign(I)<0&&Math.sign(D)>0?(I=360*Math.sign(D)+I,s.G(I)):y}}class Y1{constructor(d,y,A){this._context=d,this._size=y,this._tileSize=A,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const d of this._objects)d.texture.destroy(),d.fbo.destroy()}_createObject(d){const y=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),A=new j(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return A.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),y.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),y.colorAttachment.set(A.texture),{id:d,fbo:y,texture:A,stamp:-1,inUse:!1}}getObjectForId(d){return this._objects[d]}useObject(d){d.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(y=>d.id!==y),this._recentlyUsed.push(d.id)}stampObject(d){d.stamp=++this._stamp}getOrCreateFreeObject(){for(const y of this._recentlyUsed)if(!this._objects[y].inUse)return this._objects[y];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const d=this._createObject(this._objects.length);return this._objects.push(d),d}freeObject(d){d.inUse=!1}freeAllObjects(){for(const d of this._objects)this.freeObject(d)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(d=>!d.inUse)===!1}}const Hs={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class jf{constructor(d,y){this.painter=d,this.terrain=y,this.pool=new Y1(d.context,30,y.sourceCache.tileSize*y.qualityFactor)}destruct(){this.pool.destruct()}getTexture(d){return this.pool.getObjectForId(d.rtt[this._stacks.length-1].id).texture}prepareForRender(d,y){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=d._order.filter(A=>!d._layers[A].isHidden(y)),this._coordsDescendingInv={};for(const A in d.sourceCaches){this._coordsDescendingInv[A]={};const I=d.sourceCaches[A].getVisibleCoordinates();for(const D of I){const W=this.terrain.sourceCache.getTerrainCoords(D);for(const G in W)this._coordsDescendingInv[A][G]||(this._coordsDescendingInv[A][G]=[]),this._coordsDescendingInv[A][G].push(W[G])}}this._coordsDescendingInvStr={};for(const A of d._order){const I=d._layers[A],D=I.source;if(Hs[I.type]&&!this._coordsDescendingInvStr[D]){this._coordsDescendingInvStr[D]={};for(const W in this._coordsDescendingInv[D])this._coordsDescendingInvStr[D][W]=this._coordsDescendingInv[D][W].map(G=>G.key).sort().join()}}for(const A of this._renderableTiles)for(const I in this._coordsDescendingInvStr){const D=this._coordsDescendingInvStr[I][A.tileID.key];D&&D!==A.rttCoords[I]&&(A.rtt=[])}}renderLayer(d){if(d.isHidden(this.painter.transform.zoom))return!1;const y=d.type,A=this.painter,I=this._renderableLayerIds[this._renderableLayerIds.length-1]===d.id;if(Hs[y]&&(this._prevType&&Hs[this._prevType]||this._stacks.push([]),this._prevType=y,this._stacks[this._stacks.length-1].push(d.id),!I))return!0;if(Hs[this._prevType]||Hs[y]&&I){this._prevType=y;const D=this._stacks.length-1,W=this._stacks[D]||[];for(const G of this._renderableTiles){if(this.pool.isFull()&&(Vi(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(G),G.rtt[D]){const ee=this.pool.getObjectForId(G.rtt[D].id);if(ee.stamp===G.rtt[D].stamp){this.pool.useObject(ee);continue}}const K=this.pool.getOrCreateFreeObject();this.pool.useObject(K),this.pool.stampObject(K),G.rtt[D]={id:K.id,stamp:K.stamp},A.context.bindFramebuffer.set(K.fbo.framebuffer),A.context.clear({color:s.aT.transparent,stencil:0}),A.currentStencilSource=void 0;for(let ee=0;ee<W.length;ee++){const re=A.style._layers[W[ee]],se=re.source?this._coordsDescendingInv[re.source][G.tileID.key]:[G.tileID];A.context.viewport.set([0,0,K.fbo.width,K.fbo.height]),A._renderTileClippingMasks(re,se),A.renderLayer(A,A.style.sourceCaches[re.source],re,se),re.source&&(G.rttCoords[re.source]=this._coordsDescendingInvStr[re.source][G.tileID.key])}}return Vi(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Hs[y]}return!1}}const zn=l,nr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:s.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Uf=O=>{O.touchstart=O.dragStart,O.touchmoveWindow=O.dragMove,O.touchend=O.dragEnd},Dm={showCompass:!0,showZoom:!0,visualizePitch:!1};class Nm{constructor(d,y,A=!1){this.mousedown=W=>{this.startMouse(s.e({},W,{ctrlKey:!0,preventDefault:()=>W.preventDefault()}),c.mousePos(this.element,W)),c.addEventListener(window,"mousemove",this.mousemove),c.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=W=>{this.moveMouse(W,c.mousePos(this.element,W))},this.mouseup=W=>{this.mouseRotate.dragEnd(W),this.mousePitch&&this.mousePitch.dragEnd(W),this.offTemp()},this.touchstart=W=>{W.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=c.touchPos(this.element,W.targetTouches)[0],this.startTouch(W,this._startPos),c.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),c.addEventListener(window,"touchend",this.touchend))},this.touchmove=W=>{W.targetTouches.length!==1?this.reset():(this._lastPos=c.touchPos(this.element,W.targetTouches)[0],this.moveTouch(W,this._lastPos))},this.touchend=W=>{W.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const I=d.dragRotate._mouseRotate.getClickTolerance(),D=d.dragRotate._mousePitch.getClickTolerance();this.element=y,this.mouseRotate=Us({clickTolerance:I,enable:!0}),this.touchRotate=(({enable:W,clickTolerance:G,bearingDegreesPerPixelMoved:K=.8})=>{const ee=new Tm;return new Gi({clickTolerance:G,move:(re,se)=>({bearingDelta:(se.x-re.x)*K}),moveStateManager:ee,enable:W,assignEvents:Uf})})({clickTolerance:I,enable:!0}),this.map=d,A&&(this.mousePitch=Vs({clickTolerance:D,enable:!0}),this.touchPitch=(({enable:W,clickTolerance:G,pitchDegreesPerPixelMoved:K=-.5})=>{const ee=new Tm;return new Gi({clickTolerance:G,move:(re,se)=>({pitchDelta:(se.y-re.y)*K}),moveStateManager:ee,enable:W,assignEvents:Uf})})({clickTolerance:D,enable:!0})),c.addEventListener(y,"mousedown",this.mousedown),c.addEventListener(y,"touchstart",this.touchstart,{passive:!1}),c.addEventListener(y,"touchcancel",this.reset)}startMouse(d,y){this.mouseRotate.dragStart(d,y),this.mousePitch&&this.mousePitch.dragStart(d,y),c.disableDrag()}startTouch(d,y){this.touchRotate.dragStart(d,y),this.touchPitch&&this.touchPitch.dragStart(d,y),c.disableDrag()}moveMouse(d,y){const A=this.map,{bearingDelta:I}=this.mouseRotate.dragMove(d,y)||{};if(I&&A.setBearing(A.getBearing()+I),this.mousePitch){const{pitchDelta:D}=this.mousePitch.dragMove(d,y)||{};D&&A.setPitch(A.getPitch()+D)}}moveTouch(d,y){const A=this.map,{bearingDelta:I}=this.touchRotate.dragMove(d,y)||{};if(I&&A.setBearing(A.getBearing()+I),this.touchPitch){const{pitchDelta:D}=this.touchPitch.dragMove(d,y)||{};D&&A.setPitch(A.getPitch()+D)}}off(){const d=this.element;c.removeEventListener(d,"mousedown",this.mousedown),c.removeEventListener(d,"touchstart",this.touchstart,{passive:!1}),c.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),c.removeEventListener(window,"touchend",this.touchend),c.removeEventListener(d,"touchcancel",this.reset),this.offTemp()}offTemp(){c.enableDrag(),c.removeEventListener(window,"mousemove",this.mousemove),c.removeEventListener(window,"mouseup",this.mouseup),c.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),c.removeEventListener(window,"touchend",this.touchend)}}let so;function zm(O,d,y){if(O=new s.L(O.lng,O.lat),d){const A=new s.L(O.lng-360,O.lat),I=new s.L(O.lng+360,O.lat),D=y.locationPoint(O).distSqr(d);y.locationPoint(A).distSqr(d)<D?O=A:y.locationPoint(I).distSqr(d)<D&&(O=I)}for(;Math.abs(O.lng-y.center.lng)>180;){const A=y.locationPoint(O);if(A.x>=0&&A.y>=0&&A.x<=y.width&&A.y<=y.height)break;O.lng>y.center.lng?O.lng-=360:O.lng+=360}return O}const go={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Zy(O,d,y){const A=O.classList;for(const I in go)A.remove(`maplibregl-${y}-anchor-${I}`);A.add(`maplibregl-${y}-anchor-${d}`)}class Cl extends s.E{constructor(d){if(super(),this._onKeyPress=y=>{const A=y.code,I=y.charCode||y.keyCode;A!=="Space"&&A!=="Enter"&&I!==32&&I!==13||this.togglePopup()},this._onMapClick=y=>{const A=y.originalEvent.target,I=this._element;this._popup&&(A===I||I.contains(A))&&this.togglePopup()},this._update=y=>{if(!this._map)return;const A=this._map.loaded()&&!this._map.isMoving();((y==null?void 0:y.type)==="terrain"||(y==null?void 0:y.type)==="render"&&!A)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=zm(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let I="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?I=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(I=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let D="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?D="rotateX(0deg)":this._pitchAlignment==="map"&&(D=`rotateX(${this._map.getPitch()}deg)`),y&&y.type!=="moveend"||(this._pos=this._pos.round()),c.setTransform(this._element,`${go[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${D} ${I}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const W=this._map.unproject(this._pos),G=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=W.distanceTo(this._lngLat)>20*G?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=y=>{if(!this._isDragging){const A=this._clickTolerance||this._map._clickTolerance;this._isDragging=y.point.dist(this._pointerdownPos)>=A}this._isDragging&&(this._pos=y.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.k("dragstart"))),this.fire(new s.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.k("dragend")),this._state="inactive"},this._addDragHandler=y=>{this._element.contains(y.originalEvent.target)&&(y.preventDefault(),this._positionDelta=y.point.sub(this._pos).add(this._offset),this._pointerdownPos=y.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=d&&d.anchor||"center",this._color=d&&d.color||"#3FB1CE",this._scale=d&&d.scale||1,this._draggable=d&&d.draggable||!1,this._clickTolerance=d&&d.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=d&&d.rotation||0,this._rotationAlignment=d&&d.rotationAlignment||"auto",this._pitchAlignment=d&&d.pitchAlignment&&d.pitchAlignment!=="auto"?d.pitchAlignment:this._rotationAlignment,d&&d.element)this._element=d.element,this._offset=s.P.convert(d&&d.offset||[0,0]);else{this._defaultMarker=!0,this._element=c.create("div"),this._element.setAttribute("aria-label","Map marker");const y=c.createNS("http://www.w3.org/2000/svg","svg"),A=41,I=27;y.setAttributeNS(null,"display","block"),y.setAttributeNS(null,"height",`${A}px`),y.setAttributeNS(null,"width",`${I}px`),y.setAttributeNS(null,"viewBox",`0 0 ${I} ${A}`);const D=c.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"stroke","none"),D.setAttributeNS(null,"stroke-width","1"),D.setAttributeNS(null,"fill","none"),D.setAttributeNS(null,"fill-rule","evenodd");const W=c.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"fill-rule","nonzero");const G=c.createNS("http://www.w3.org/2000/svg","g");G.setAttributeNS(null,"transform","translate(3.0, 29.0)"),G.setAttributeNS(null,"fill","#000000");const K=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const at of K){const Mt=c.createNS("http://www.w3.org/2000/svg","ellipse");Mt.setAttributeNS(null,"opacity","0.04"),Mt.setAttributeNS(null,"cx","10.5"),Mt.setAttributeNS(null,"cy","5.80029008"),Mt.setAttributeNS(null,"rx",at.rx),Mt.setAttributeNS(null,"ry",at.ry),G.appendChild(Mt)}const ee=c.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"fill",this._color);const re=c.createNS("http://www.w3.org/2000/svg","path");re.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ee.appendChild(re);const se=c.createNS("http://www.w3.org/2000/svg","g");se.setAttributeNS(null,"opacity","0.25"),se.setAttributeNS(null,"fill","#000000");const be=c.createNS("http://www.w3.org/2000/svg","path");be.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),se.appendChild(be);const Le=c.createNS("http://www.w3.org/2000/svg","g");Le.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Le.setAttributeNS(null,"fill","#FFFFFF");const Re=c.createNS("http://www.w3.org/2000/svg","g");Re.setAttributeNS(null,"transform","translate(8.0, 8.0)");const $e=c.createNS("http://www.w3.org/2000/svg","circle");$e.setAttributeNS(null,"fill","#000000"),$e.setAttributeNS(null,"opacity","0.25"),$e.setAttributeNS(null,"cx","5.5"),$e.setAttributeNS(null,"cy","5.5"),$e.setAttributeNS(null,"r","5.4999962");const Ie=c.createNS("http://www.w3.org/2000/svg","circle");Ie.setAttributeNS(null,"fill","#FFFFFF"),Ie.setAttributeNS(null,"cx","5.5"),Ie.setAttributeNS(null,"cy","5.5"),Ie.setAttributeNS(null,"r","5.4999962"),Re.appendChild($e),Re.appendChild(Ie),W.appendChild(G),W.appendChild(ee),W.appendChild(se),W.appendChild(Le),W.appendChild(Re),y.appendChild(W),y.setAttributeNS(null,"height",A*this._scale+"px"),y.setAttributeNS(null,"width",I*this._scale+"px"),this._element.appendChild(y),this._offset=s.P.convert(d&&d.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",y=>{y.preventDefault()}),this._element.addEventListener("mousedown",y=>{y.preventDefault()}),Zy(this._element,this._anchor,"marker"),d&&d.className)for(const y of d.className.split(" "))this._element.classList.add(y);this._popup=null}addTo(d){return this.remove(),this._map=d,d.getCanvasContainer().appendChild(this._element),d.on("move",this._update),d.on("moveend",this._update),d.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),c.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(d){return this._lngLat=s.L.convert(d),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(d){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),d){if(!("offset"in d.options)){const I=Math.abs(13.5)/Math.SQRT2;d.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[I,-1*(38.1-13.5+I)],"bottom-right":[-I,-1*(38.1-13.5+I)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=d,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const d=this._popup;return d?(d.isOpen()?d.remove():d.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(d){return this._offset=s.P.convert(d),this._update(),this}addClassName(d){this._element.classList.add(d)}removeClassName(d){this._element.classList.remove(d)}toggleClassName(d){return this._element.classList.toggle(d)}setDraggable(d){return this._draggable=!!d,this._map&&(d?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(d){return this._rotation=d||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(d){return this._rotationAlignment=d||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(d){return this._pitchAlignment=d&&d!=="auto"?d:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Ti={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Ci=0,zc=!1;const Vf={maxWidth:100,unit:"metric"};function Bc(O,d,y){const A=y&&y.maxWidth||100,I=O._container.clientHeight/2,D=O.unproject([0,I]),W=O.unproject([A,I]),G=D.distanceTo(W);if(y&&y.unit==="imperial"){const K=3.2808*G;K>5280?ao(d,A,K/5280,O._getUIString("ScaleControl.Miles")):ao(d,A,K,O._getUIString("ScaleControl.Feet"))}else y&&y.unit==="nautical"?ao(d,A,G/1852,O._getUIString("ScaleControl.NauticalMiles")):G>=1e3?ao(d,A,G/1e3,O._getUIString("ScaleControl.Kilometers")):ao(d,A,G,O._getUIString("ScaleControl.Meters"))}function ao(O,d,y,A){const I=function(D){const W=Math.pow(10,`${Math.floor(D)}`.length-1);let G=D/W;return G=G>=10?10:G>=5?5:G>=3?3:G>=2?2:G>=1?1:function(K){const ee=Math.pow(10,Math.ceil(-Math.log(K)/Math.LN10));return Math.round(K*ee)/ee}(G),W*G}(y);O.style.width=d*(I/y)+"px",O.innerHTML=`${I}&nbsp;${A}`}const Jy={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Qy=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Xo(O){if(O){if(typeof O=="number"){const d=Math.round(Math.abs(O)/Math.SQRT2);return{center:new s.P(0,0),top:new s.P(0,O),"top-left":new s.P(d,d),"top-right":new s.P(-d,d),bottom:new s.P(0,-O),"bottom-left":new s.P(d,-d),"bottom-right":new s.P(-d,-d),left:new s.P(O,0),right:new s.P(-O,0)}}if(O instanceof s.P||Array.isArray(O)){const d=s.P.convert(O);return{center:d,top:d,"top-left":d,"top-right":d,bottom:d,"bottom-left":d,"bottom-right":d,left:d,right:d}}return{center:s.P.convert(O.center||[0,0]),top:s.P.convert(O.top||[0,0]),"top-left":s.P.convert(O["top-left"]||[0,0]),"top-right":s.P.convert(O["top-right"]||[0,0]),bottom:s.P.convert(O.bottom||[0,0]),"bottom-left":s.P.convert(O["bottom-left"]||[0,0]),"bottom-right":s.P.convert(O["bottom-right"]||[0,0]),left:s.P.convert(O.left||[0,0]),right:s.P.convert(O.right||[0,0])}}return Xo(new s.P(0,0))}const cs={extend:(O,...d)=>s.e(O,...d),run(O){O()},logToElement(O,d=!1,y="log"){const A=window.document.getElementById(y);A&&(d&&(A.innerHTML=""),A.innerHTML+=`<br>${O}`)}},Bm=l;class Hr{static get version(){return Bm}static get workerCount(){return Wt.workerCount}static set workerCount(d){Wt.workerCount=d}static get maxParallelImageRequests(){return s.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(d){s.c.MAX_PARALLEL_IMAGE_REQUESTS=d}static get workerUrl(){return s.c.WORKER_URL}static set workerUrl(d){s.c.WORKER_URL=d}static addProtocol(d,y){s.c.REGISTERED_PROTOCOLS[d]=y}static removeProtocol(d){delete s.c.REGISTERED_PROTOCOLS[d]}}return Hr.Map=class extends sx{constructor(O){if(s.bg.mark(s.bh.create),(O=s.e({},nr,O)).minZoom!=null&&O.maxZoom!=null&&O.minZoom>O.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(O.minPitch!=null&&O.maxPitch!=null&&O.minPitch>O.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(O.minPitch!=null&&O.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(O.maxPitch!=null&&O.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Bs(O.minZoom,O.maxZoom,O.minPitch,O.maxPitch,O.renderWorldCopies),{bearingSnap:O.bearingSnap}),this._cooperativeGesturesOnWheel=d=>{this._onCooperativeGesture(d,d[this._metaKey],1)},this._contextLost=d=>{d.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.k("webglcontextlost",{originalEvent:d}))},this._contextRestored=d=>{this._setupPainter(),this.resize(),this._update(),this.fire(new s.k("webglcontextrestored",{originalEvent:d}))},this._onMapScroll=d=>{if(d.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=O.interactive,this._cooperativeGestures=O.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=O.maxTileCacheSize,this._maxTileCacheZoomLevels=O.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=O.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=O.preserveDrawingBuffer,this._antialias=O.antialias,this._trackResize=O.trackResize,this._bearingSnap=O.bearingSnap,this._refreshExpiredTiles=O.refreshExpiredTiles,this._fadeDuration=O.fadeDuration,this._crossSourceCollisions=O.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=O.collectResourceTiming,this._renderTaskQueue=new ep,this._controls=[],this._mapId=s.a2(),this._locale=s.e({},Lm,O.locale),this._clickTolerance=O.clickTolerance,this._overridePixelRatio=O.pixelRatio,this._maxCanvasSize=O.maxCanvasSize,this.transformCameraUpdate=O.transformCameraUpdate,this._imageQueueHandle=S.addThrottleControl(()=>this.isMoving()),this._requestManager=new C(O.transformRequest),typeof O.container=="string"){if(this._container=document.getElementById(O.container),!this._container)throw new Error(`Container '${O.container}' not found.`)}else{if(!(O.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=O.container}if(O.maxBounds&&this.setMaxBounds(O.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let d=!1;const y=Tl(A=>{this._trackResize&&!this._removed&&this.resize(A)._update()},50);this._resizeObserver=new ResizeObserver(A=>{d?y(A):d=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Om(this,O),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=O.hash&&new sc(typeof O.hash=="string"&&O.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:O.center,zoom:O.zoom,bearing:O.bearing,pitch:O.pitch}),O.bounds&&(this.resize(),this.fitBounds(O.bounds,s.e({},O.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=O.localIdeographFontFamily,this._validateStyle=O.validateStyle,O.style&&this.setStyle(O.style,{localIdeographFontFamily:O.localIdeographFontFamily}),O.attributionControl&&this.addControl(new Ta({customAttribution:O.customAttribution})),O.maplibreLogo&&this.addControl(new Ei,O.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",d=>{this._update(d.dataType==="style"),this.fire(new s.k(`${d.dataType}data`,d))}),this.on("dataloading",d=>{this.fire(new s.k(`${d.dataType}dataloading`,d))}),this.on("dataabort",d=>{this.fire(new s.k("sourcedataabort",d))})}_getMapId(){return this._mapId}addControl(O,d){if(d===void 0&&(d=O.getDefaultPosition?O.getDefaultPosition():"top-right"),!O||!O.onAdd)return this.fire(new s.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const y=O.onAdd(this);this._controls.push(O);const A=this._controlPositions[d];return d.indexOf("bottom")!==-1?A.insertBefore(y,A.firstChild):A.appendChild(y),this}removeControl(O){if(!O||!O.onRemove)return this.fire(new s.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const d=this._controls.indexOf(O);return d>-1&&this._controls.splice(d,1),O.onRemove(this),this}hasControl(O){return this._controls.indexOf(O)>-1}calculateCameraOptionsFromTo(O,d,y,A){return A==null&&this.terrain&&(A=this.terrain.getElevationForLngLatZoom(y,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(O,d,y,A)}resize(O){var d;const y=this._containerDimensions(),A=y[0],I=y[1],D=this._getClampedPixelRatio(A,I);if(this._resizeCanvas(A,I,D),this.painter.resize(A,I,D),this.painter.overLimit()){const G=this.painter.context.gl;this._maxCanvasSize=[G.drawingBufferWidth,G.drawingBufferHeight];const K=this._getClampedPixelRatio(A,I);this._resizeCanvas(A,I,K),this.painter.resize(A,I,K)}this.transform.resize(A,I),(d=this._requestedCameraState)===null||d===void 0||d.resize(A,I);const W=!this._moving;return W&&(this.stop(),this.fire(new s.k("movestart",O)).fire(new s.k("move",O))),this.fire(new s.k("resize",O)),W&&this.fire(new s.k("moveend",O)),this}_getClampedPixelRatio(O,d){const{0:y,1:A}=this._maxCanvasSize,I=this.getPixelRatio(),D=O*I,W=d*I;return Math.min(D>y?y/D:1,W>A?A/W:1)*I}getPixelRatio(){var O;return(O=this._overridePixelRatio)!==null&&O!==void 0?O:devicePixelRatio}setPixelRatio(O){this._overridePixelRatio=O,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(O){return this.transform.setMaxBounds(rt.convert(O)),this._update()}setMinZoom(O){if((O=O??-2)>=-2&&O<=this.transform.maxZoom)return this.transform.minZoom=O,this._update(),this.getZoom()<O&&this.setZoom(O),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(O){if((O=O??22)>=this.transform.minZoom)return this.transform.maxZoom=O,this._update(),this.getZoom()>O&&this.setZoom(O),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(O){if((O=O??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(O>=0&&O<=this.transform.maxPitch)return this.transform.minPitch=O,this._update(),this.getPitch()<O&&this.setPitch(O),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(O){if((O=O??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(O>=this.transform.minPitch)return this.transform.maxPitch=O,this._update(),this.getPitch()>O&&this.setPitch(O),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(O){return this.transform.renderWorldCopies=O,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(O){return this._cooperativeGestures=O,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(O){return this.transform.locationPoint(s.L.convert(O),this.style&&this.terrain)}unproject(O){return this.transform.pointLocation(s.P.convert(O),this.terrain)}isMoving(){var O;return this._moving||((O=this.handlers)===null||O===void 0?void 0:O.isMoving())}isZooming(){var O;return this._zooming||((O=this.handlers)===null||O===void 0?void 0:O.isZooming())}isRotating(){var O;return this._rotating||((O=this.handlers)===null||O===void 0?void 0:O.isRotating())}_createDelegatedListener(O,d,y){if(O==="mouseenter"||O==="mouseover"){let A=!1;return{layer:d,listener:y,delegates:{mousemove:D=>{const W=this.getLayer(d)?this.queryRenderedFeatures(D.point,{layers:[d]}):[];W.length?A||(A=!0,y.call(this,new $s(O,this,D.originalEvent,{features:W}))):A=!1},mouseout:()=>{A=!1}}}}if(O==="mouseleave"||O==="mouseout"){let A=!1;return{layer:d,listener:y,delegates:{mousemove:W=>{(this.getLayer(d)?this.queryRenderedFeatures(W.point,{layers:[d]}):[]).length?A=!0:A&&(A=!1,y.call(this,new $s(O,this,W.originalEvent)))},mouseout:W=>{A&&(A=!1,y.call(this,new $s(O,this,W.originalEvent)))}}}}{const A=I=>{const D=this.getLayer(d)?this.queryRenderedFeatures(I.point,{layers:[d]}):[];D.length&&(I.features=D,y.call(this,I),delete I.features)};return{layer:d,listener:y,delegates:{[O]:A}}}}on(O,d,y){if(y===void 0)return super.on(O,d);const A=this._createDelegatedListener(O,d,y);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[O]=this._delegatedListeners[O]||[],this._delegatedListeners[O].push(A);for(const I in A.delegates)this.on(I,A.delegates[I]);return this}once(O,d,y){if(y===void 0)return super.once(O,d);const A=this._createDelegatedListener(O,d,y);for(const I in A.delegates)this.once(I,A.delegates[I]);return this}off(O,d,y){return y===void 0?super.off(O,d):(this._delegatedListeners&&this._delegatedListeners[O]&&(A=>{const I=this._delegatedListeners[O];for(let D=0;D<I.length;D++){const W=I[D];if(W.layer===d&&W.listener===y){for(const G in W.delegates)this.off(G,W.delegates[G]);return I.splice(D,1),this}}})(),this)}queryRenderedFeatures(O,d){if(!this.style)return[];let y;const A=O instanceof s.P||Array.isArray(O),I=A?O:[[0,0],[this.transform.width,this.transform.height]];if(d=d||(A?{}:O)||{},I instanceof s.P||typeof I[0]=="number")y=[s.P.convert(I)];else{const D=s.P.convert(I[0]),W=s.P.convert(I[1]);y=[D,new s.P(W.x,D.y),W,new s.P(D.x,W.y),D]}return this.style.queryRenderedFeatures(y,d,this.transform)}querySourceFeatures(O,d){return this.style.querySourceFeatures(O,d)}setStyle(O,d){return(d=s.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},d)).diff!==!1&&d.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&O?(this._diffStyle(O,d),this):(this._localIdeographFontFamily=d.localIdeographFontFamily,this._updateStyle(O,d))}setTransformRequest(O){return this._requestManager.setTransformRequest(O),this}_getUIString(O){const d=this._locale[O];if(d==null)throw new Error(`Missing UI string '${O}'`);return d}_updateStyle(O,d){if(d.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(O,d));const y=this.style&&d.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!O)),O?(this.style=new tr(this,d||{}),this.style.setEventedParent(this,{style:this.style}),typeof O=="string"?this.style.loadURL(O,d,y):this.style.loadJSON(O,d,y),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new tr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(O,d){if(typeof O=="string"){const y=this._requestManager.transformRequest(O,w.Style);s.f(y,(A,I)=>{A?this.fire(new s.j(A)):I&&this._updateDiff(I,d)})}else typeof O=="object"&&this._updateDiff(O,d)}_updateDiff(O,d){try{this.style.setState(O,d)&&this._update(!0)}catch(y){s.w(`Unable to perform style diff: ${y.message||y.error||y}.  Rebuilding the style from scratch.`),this._updateStyle(O,d)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.w("There is no style added to the map.")}addSource(O,d){return this._lazyInitEmptyStyle(),this.style.addSource(O,d),this._update(!0)}isSourceLoaded(O){const d=this.style&&this.style.sourceCaches[O];if(d!==void 0)return d.loaded();this.fire(new s.j(new Error(`There is no source with ID '${O}'`)))}setTerrain(O){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),O){const d=this.style.sourceCaches[O.source];if(!d)throw new Error(`cannot load terrain, because there exists no source with ID: ${O.source}`);for(const y in this.style._layers){const A=this.style._layers[y];A.type==="hillshade"&&A.source===O.source&&s.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new ax(this.painter,d,O),this.painter.renderToTexture=new jf(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=y=>{y.dataType==="style"?this.terrain.sourceCache.freeRtt():y.dataType==="source"&&y.tile&&(y.sourceId!==O.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(y.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new s.k("terrain",{terrain:O})),this}getTerrain(){var O,d;return(d=(O=this.terrain)===null||O===void 0?void 0:O.options)!==null&&d!==void 0?d:null}areTilesLoaded(){const O=this.style&&this.style.sourceCaches;for(const d in O){const y=O[d]._tiles;for(const A in y){const I=y[A];if(I.state!=="loaded"&&I.state!=="errored")return!1}}return!0}addSourceType(O,d,y){return this._lazyInitEmptyStyle(),this.style.addSourceType(O,d,y)}removeSource(O){return this.style.removeSource(O),this._update(!0)}getSource(O){return this.style.getSource(O)}addImage(O,d,y={}){const{pixelRatio:A=1,sdf:I=!1,stretchX:D,stretchY:W,content:G}=y;if(this._lazyInitEmptyStyle(),!(d instanceof HTMLImageElement||s.a(d))){if(d.width===void 0||d.height===void 0)return this.fire(new s.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:K,height:ee,data:re}=d,se=d;return this.style.addImage(O,{data:new s.R({width:K,height:ee},new Uint8Array(re)),pixelRatio:A,stretchX:D,stretchY:W,content:G,sdf:I,version:0,userImage:se}),se.onAdd&&se.onAdd(this,O),this}}{const{width:K,height:ee,data:re}=s.h.getImageData(d);this.style.addImage(O,{data:new s.R({width:K,height:ee},re),pixelRatio:A,stretchX:D,stretchY:W,content:G,sdf:I,version:0})}}updateImage(O,d){const y=this.style.getImage(O);if(!y)return this.fire(new s.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const A=d instanceof HTMLImageElement||s.a(d)?s.h.getImageData(d):d,{width:I,height:D,data:W}=A;if(I===void 0||D===void 0)return this.fire(new s.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(I!==y.data.width||D!==y.data.height)return this.fire(new s.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const G=!(d instanceof HTMLImageElement||s.a(d));return y.data.replace(W,G),this.style.updateImage(O,y),this}getImage(O){return this.style.getImage(O)}hasImage(O){return O?!!this.style.getImage(O):(this.fire(new s.j(new Error("Missing required image id"))),!1)}removeImage(O){this.style.removeImage(O)}loadImage(O,d){S.getImage(this._requestManager.transformRequest(O,w.Image),d)}listImages(){return this.style.listImages()}addLayer(O,d){return this._lazyInitEmptyStyle(),this.style.addLayer(O,d),this._update(!0)}moveLayer(O,d){return this.style.moveLayer(O,d),this._update(!0)}removeLayer(O){return this.style.removeLayer(O),this._update(!0)}getLayer(O){return this.style.getLayer(O)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(O,d,y){return this.style.setLayerZoomRange(O,d,y),this._update(!0)}setFilter(O,d,y={}){return this.style.setFilter(O,d,y),this._update(!0)}getFilter(O){return this.style.getFilter(O)}setPaintProperty(O,d,y,A={}){return this.style.setPaintProperty(O,d,y,A),this._update(!0)}getPaintProperty(O,d){return this.style.getPaintProperty(O,d)}setLayoutProperty(O,d,y,A={}){return this.style.setLayoutProperty(O,d,y,A),this._update(!0)}getLayoutProperty(O,d){return this.style.getLayoutProperty(O,d)}setGlyphs(O,d={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(O,d),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(O,d,y={}){return this._lazyInitEmptyStyle(),this.style.addSprite(O,d,y,A=>{A||this._update(!0)}),this}removeSprite(O){return this._lazyInitEmptyStyle(),this.style.removeSprite(O),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(O,d={}){return this._lazyInitEmptyStyle(),this.style.setSprite(O,d,y=>{y||this._update(!0)}),this}setLight(O,d={}){return this._lazyInitEmptyStyle(),this.style.setLight(O,d),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(O,d){return this.style.setFeatureState(O,d),this._update()}removeFeatureState(O,d){return this.style.removeFeatureState(O,d),this._update()}getFeatureState(O){return this.style.getFeatureState(O)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let O=0,d=0;return this._container&&(O=this._container.clientWidth||400,d=this._container.clientHeight||300),[O,d]}_setupContainer(){const O=this._container;O.classList.add("maplibregl-map");const d=this._canvasContainer=c.create("div","maplibregl-canvas-container",O);this._interactive&&d.classList.add("maplibregl-interactive"),this._canvas=c.create("canvas","maplibregl-canvas",d),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const y=this._containerDimensions(),A=this._getClampedPixelRatio(y[0],y[1]);this._resizeCanvas(y[0],y[1],A);const I=this._controlContainer=c.create("div","maplibregl-control-container",O),D=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(W=>{D[W]=c.create("div",`maplibregl-ctrl-${W} `,I)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=c.create("div","maplibregl-cooperative-gesture-screen",this._container);let O=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(O=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${O}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){c.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(O,d,y){this._canvas.width=Math.floor(y*O),this._canvas.height=Math.floor(y*d),this._canvas.style.width=`${O}px`,this._canvas.style.height=`${d}px`}_setupPainter(){const O={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let d=null;this._canvas.addEventListener("webglcontextcreationerror",A=>{d={requestedAttributes:O},A&&(d.statusMessage=A.statusMessage,d.type=A.type)},{once:!0});const y=this._canvas.getContext("webgl2",O)||this._canvas.getContext("webgl",O);if(!y){const A="Failed to initialize WebGL";throw d?(d.message=A,new Error(JSON.stringify(d))):new Error(A)}this.painter=new Ou(y,this.transform),h.testSupport(y)}_onCooperativeGesture(O,d,y){return!d&&y<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(O){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||O,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(O){return this._update(),this._renderTaskQueue.add(O)}_cancelRenderFrame(O){this._renderTaskQueue.remove(O)}_render(O){const d=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(O),this._removed)return;let y=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const I=this.transform.zoom,D=s.h.now();this.style.zoomHistory.update(I,D);const W=new s.a8(I,{now:D,fadeDuration:d,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),G=W.crossFadingFactor();G===1&&G===this._crossFadingFactor||(y=!0,this._crossFadingFactor=G),this.style.update(W)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,d,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:d,showPadding:this.showPadding}),this.fire(new s.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.bg.mark(s.bh.load),this.fire(new s.k("load"))),this.style&&(this.style.hasTransitions()||y)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const A=this._sourcesDirty||this._styleDirty||this._placementDirty;return A||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.k("idle")),!this._loaded||this._fullyLoaded||A||(this._fullyLoaded=!0,s.bg.mark(s.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var O;this._hash&&this._hash.remove();for(const y of this._controls)y.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),S.removeThrottleControl(this._imageQueueHandle),(O=this._resizeObserver)===null||O===void 0||O.disconnect();const d=this.painter.context.gl.getExtension("WEBGL_lose_context");d&&d.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),c.remove(this._canvasContainer),c.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),s.bg.clearMetrics(),this._removed=!0,this.fire(new s.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=s.h.frame(O=>{s.bg.frame(O),this._frame=null,this._render(O)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(O){this._showTileBoundaries!==O&&(this._showTileBoundaries=O,this._update())}get showPadding(){return!!this._showPadding}set showPadding(O){this._showPadding!==O&&(this._showPadding=O,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(O){this._showCollisionBoxes!==O&&(this._showCollisionBoxes=O,O?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(O){this._showOverdrawInspector!==O&&(this._showOverdrawInspector=O,this._update())}get repaint(){return!!this._repaint}set repaint(O){this._repaint!==O&&(this._repaint=O,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(O){this._vertices=O,this._update()}get version(){return zn}getCameraTargetElevation(){return this.transform.elevation}},Hr.NavigationControl=class{constructor(O){this._updateZoomButtons=()=>{const d=this._map.getZoom(),y=d===this._map.getMaxZoom(),A=d===this._map.getMinZoom();this._zoomInButton.disabled=y,this._zoomOutButton.disabled=A,this._zoomInButton.setAttribute("aria-disabled",y.toString()),this._zoomOutButton.setAttribute("aria-disabled",A.toString())},this._rotateCompassArrow=()=>{const d=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=d},this._setButtonTitle=(d,y)=>{const A=this._map._getUIString(`NavigationControl.${y}`);d.title=A,d.setAttribute("aria-label",A)},this.options=s.e({},Dm,O),this._container=c.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",d=>d.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",d=>this._map.zoomIn({},{originalEvent:d})),c.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",d=>this._map.zoomOut({},{originalEvent:d})),c.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",d=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:d}):this._map.resetNorth({},{originalEvent:d})}),this._compassIcon=c.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(O){return this._map=O,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Nm(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){c.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(O,d){const y=c.create("button",O,this._container);return y.type="button",y.addEventListener("click",d),y}},Hr.GeolocateControl=class extends s.E{constructor(O){super(),this._onSuccess=d=>{if(this._map){if(this._isOutOfMapMaxBounds(d))return this._setErrorState(),this.fire(new s.k("outofmaxbounds",d)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=d,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(d),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(d),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.k("geolocate",d)),this._finish()}},this._updateCamera=d=>{const y=new s.L(d.coords.longitude,d.coords.latitude),A=d.coords.accuracy,I=this._map.getBearing(),D=s.e({bearing:I},this.options.fitBoundsOptions),W=rt.fromLngLat(y,A);this._map.fitBounds(W,D,{geolocateSource:!0})},this._updateMarker=d=>{if(d){const y=new s.L(d.coords.longitude,d.coords.latitude);this._accuracyCircleMarker.setLngLat(y).addTo(this._map),this._userLocationDotMarker.setLngLat(y).addTo(this._map),this._accuracy=d.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=d=>{if(this._map){if(this.options.trackUserLocation)if(d.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(d.code===3&&zc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.k("error",d)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=d=>{if(this._map){if(this._container.addEventListener("contextmenu",y=>y.preventDefault()),this._geolocateButton=c.create("button","maplibregl-ctrl-geolocate",this._container),c.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",d===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const y=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y)}else{const y=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=y,this._geolocateButton.setAttribute("aria-label",y)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=c.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Cl({element:this._dotElement}),this._circleElement=c.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Cl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",y=>{y.geolocateSource||this._watchState!=="ACTIVE_LOCK"||y.originalEvent&&y.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.k("trackuserlocationend")))})}},this.options=s.e({},Ti,O)}onAdd(O){return this._map=O,this._container=c.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(d,y=!1){so===void 0||y?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(A=>{so=A.state!=="denied",d(so)}).catch(()=>{so=!!window.navigator.geolocation,d(so)}):(so=!!window.navigator.geolocation,d(so)):d(so)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),c.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ci=0,zc=!1}_isOutOfMapMaxBounds(O){const d=this._map.getMaxBounds(),y=O.coords;return d&&(y.longitude<d.getWest()||y.longitude>d.getEast()||y.latitude<d.getSouth()||y.latitude>d.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const O=this._map.getBounds(),d=O.getSouthEast(),y=O.getNorthEast(),A=d.distanceTo(y),I=Math.ceil(this._accuracy/(A/this._map._container.clientHeight)*2);this._circleElement.style.width=`${I}px`,this._circleElement.style.height=`${I}px`}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ci--,zc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let O;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ci++,Ci>1?(O={maximumAge:6e5,timeout:0},zc=!0):(O=this.options.positionOptions,zc=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,O)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Hr.AttributionControl=Ta,Hr.LogoControl=Ei,Hr.ScaleControl=class{constructor(O){this._onMove=()=>{Bc(this._map,this._container,this.options)},this.setUnit=d=>{this.options.unit=d,Bc(this._map,this._container,this.options)},this.options=s.e({},Vf,O)}getDefaultPosition(){return"bottom-left"}onAdd(O){return this._map=O,this._container=c.create("div","maplibregl-ctrl maplibregl-ctrl-scale",O.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){c.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Hr.FullscreenControl=class extends s.E{constructor(O={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,O&&O.container&&(O.container instanceof HTMLElement?this._container=O.container:s.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(O){return this._map=O,this._container||(this._container=this._map.getContainer()),this._controlContainer=c.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){c.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const O=this._fullscreenButton=c.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);c.create("span","maplibregl-ctrl-icon",O).setAttribute("aria-hidden","true"),O.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const O=this._getTitle();this._fullscreenButton.setAttribute("aria-label",O),this._fullscreenButton.title=O}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new s.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new s.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Hr.TerrainControl=class{constructor(O){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=O}onAdd(O){return this._map=O,this._container=c.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=c.create("button","maplibregl-ctrl-terrain",this._container),c.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){c.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Hr.Popup=class extends s.E{constructor(O){super(),this.remove=()=>(this._content&&c.remove(this._content),this._container&&(c.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new s.k("close")),this),this._onMouseUp=d=>{this._update(d.point)},this._onMouseMove=d=>{this._update(d.point)},this._onDrag=d=>{this._update(d.point)},this._update=d=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=c.create("div","maplibregl-popup",this._map.getContainer()),this._tip=c.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const W of this.options.className.split(" "))this._container.classList.add(W);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=zm(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!d)return;const y=this._pos=this._trackPointer&&d?d:this._map.project(this._lngLat);let A=this.options.anchor;const I=Xo(this.options.offset);if(!A){const W=this._container.offsetWidth,G=this._container.offsetHeight;let K;K=y.y+I.bottom.y<G?["top"]:y.y>this._map.transform.height-G?["bottom"]:[],y.x<W/2?K.push("left"):y.x>this._map.transform.width-W/2&&K.push("right"),A=K.length===0?"bottom":K.join("-")}const D=y.add(I[A]).round();c.setTransform(this._container,`${go[A]} translate(${D.x}px,${D.y}px)`),Zy(this._container,A,"popup")},this._onClose=()=>{this.remove()},this.options=s.e(Object.create(Jy),O)}addTo(O){return this._map&&this.remove(),this._map=O,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(O){return this._lngLat=s.L.convert(O),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(O){return this.setDOMContent(document.createTextNode(O))}setHTML(O){const d=document.createDocumentFragment(),y=document.createElement("body");let A;for(y.innerHTML=O;A=y.firstChild,A;)d.appendChild(A);return this.setDOMContent(d)}getMaxWidth(){var O;return(O=this._container)===null||O===void 0?void 0:O.style.maxWidth}setMaxWidth(O){return this.options.maxWidth=O,this._update(),this}setDOMContent(O){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=c.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(O),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(O){this._container&&this._container.classList.add(O)}removeClassName(O){this._container&&this._container.classList.remove(O)}setOffset(O){return this.options.offset=O,this._update(),this}toggleClassName(O){if(this._container)return this._container.classList.toggle(O)}_createCloseButton(){this.options.closeButton&&(this._closeButton=c.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const O=this._container.querySelector(Qy);O&&O.focus()}},Hr.Marker=Cl,Hr.Style=tr,Hr.LngLat=s.L,Hr.LngLatBounds=rt,Hr.Point=s.P,Hr.MercatorCoordinate=s.U,Hr.Evented=s.E,Hr.AJAXError=s.bi,Hr.config=s.c,Hr.CanvasSource=ge,Hr.GeoJSONSource=zt,Hr.ImageSource=lt,Hr.RasterDEMTileSource=Dt,Hr.RasterTileSource=ct,Hr.VectorTileSource=st,Hr.VideoSource=Qe,Hr.setRTLTextPlugin=s.bj,Hr.getRTLTextPluginStatus=s.bk,Hr.prewarm=function(){cn().acquire(dt)},Hr.clearPrewarmedResources=function(){const O=Mn;O&&(O.isPreloaded()&&O.numActive()===1?(O.release(dt),Mn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},cs.extend(Hr,{isSafari:s.ac,getPerformanceMetrics:s.bg.getPerformanceMetrics}),Hr});var a=i;return a})})(Yre);var WDe=Yre.exports;const v1=bi(WDe);class HDe{constructor(e,n,r){this.onBeforeSwitch=e,this.onSwitch=n,this.onAfterSwitch=r,this.onDocumentClick=this.onDocumentClick.bind(this),this.styles=[],this.currentStyle=null}getDefaultPosition(){return"top-right"}updateStyles(e,n){this.styles=e;let r=null;for(const o of this.styles)if(o.id===(this.currentStyle||n)){r=o.id;break}for(r||(r=this.styles[0].id);this.mapStyleContainer.firstChild;)this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);let i;for(const o of this.styles){const a=document.createElement("button");a.type="button",a.innerText=o.title,a.dataset.id=o.id,a.dataset.style=JSON.stringify(o.style),a.addEventListener("click",s=>{const{target:l}=s;l.classList.contains("active")||this.onSelectStyle(l)}),o.id===r&&(i=a,a.classList.add("active")),this.mapStyleContainer.appendChild(a)}this.currentStyle!==r&&(this.onSelectStyle(i),this.currentStyle=r)}onSelectStyle(e){this.onBeforeSwitch();const n=this.styles.find(i=>i.id===e.dataset.id);this.map.setStyle(n.style,{diff:!1}),this.map.setTransformRequest(n.transformRequest),this.onSwitch(e.dataset.id),this.mapStyleContainer.style.display="none",this.styleButton.style.display="block";const r=this.mapStyleContainer.getElementsByClassName("active");for(;r[0];)r[0].classList.remove("active");e.classList.add("active"),this.currentStyle=e.dataset.id,this.onAfterSwitch()}onAdd(e){return this.map=e,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("maplibregl-ctrl"),this.controlContainer.classList.add("maplibregl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("maplibregl-style-list"),this.styleButton.classList.add("maplibregl-ctrl-icon"),this.styleButton.classList.add("maplibregl-style-switcher"),this.styleButton.addEventListener("click",()=>{this.styleButton.style.display="none",this.mapStyleContainer.style.display="block"}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}onDocumentClick(e){this.controlContainer&&!this.controlContainer.contains(e.target)&&this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}}const Og=(t,e)=>t.hasOwnProperty(e)&&t[e]!==null,kA=(t,e)=>xr(n=>n.session.server.forceSettings?Og(n.session.server,t)?n.session.server[t]:Og(n.session.user,t)?n.session.user[t]:e:Og(n.session.user,t)?n.session.user[t]:Og(n.session.server,t)?n.session.server[t]:e),GDe=(t,e)=>xr(n=>n.session.server.forceSettings?Og(n.session.server.attributes,t)?n.session.server.attributes[t]:Og(n.session.user.attributes,t)?n.session.user.attributes[t]:e:Og(n.session.user.attributes,t)?n.session.user.attributes[t]:Og(n.session.server.attributes,t)?n.session.server.attributes[t]:e),Kre=(t,e)=>{window.localStorage.setItem(t,JSON.stringify(e))},RA=(t,e)=>{const[n,r]=V.useState(()=>{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e});return V.useEffect(()=>{n!==e?Kre(t,n):window.localStorage.removeItem(t)},[t,n]),[n,r]},rl=({tiles:t,minZoom:e,maxZoom:n,attribution:r,glyphs:i})=>{const o={type:"raster",tiles:t,attribution:r,tileSize:256,minzoom:e,maxzoom:n};return Object.keys(o).forEach(a=>o[a]===void 0&&delete o[a]),{version:8,sources:{custom:o},glyphs:i,layers:[{id:"custom",type:"raster",source:"custom"}]}},qDe=()=>{const t="mykey",e="pk.0f147952a41c555a5b70614039fd148b",n="mykey",r="mykey",i="mykey",o="mykey";let a=window.location.origin.slice(0,-5),s=8484,l=GDe("glyphs",!1)?`${a}:${s}/map/fonts/{fontstack}/{range}.pbf`:"https://cdn.traccar.com/map/fonts/{fontstack}/{range}.pbf";return[{id:"osm",title:"mapOsm",style:rl({tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],maxZoom:19,attribution:'© <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',glyphs:l}),available:!0},{id:"locationIqStreets",title:"mapLocationIqStreets",style:`https://tiles.locationiq.com/v3/streets/vector.json?key=${e}`,available:!0},{id:"locationIqDark",title:"mapLocationIqDark",style:`https://tiles.locationiq.com/v3/dark/vector.json?key=${e}`,available:!0},{id:"openTopoMap",title:"mapOpenTopoMap",style:rl({tiles:["a","b","c"].map(c=>`https://${c}.tile.opentopomap.org/{z}/{x}/{y}.png`),maxZoom:17,glyphs:l}),available:!0},{id:"carto",title:"mapCarto",style:rl({tiles:["a","b","c","d"].map(c=>`https://${c}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png`),maxZoom:22,attribution:'© <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, © <a target="_top" rel="noopener" href="https://carto.com/attribution">CARTO</a>',glyphs:l}),available:!0},{id:"googleRoad",title:"mapGoogleRoad",style:rl({tiles:[0,1,2,3].map(c=>`https://mt${c}.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:"© Google",glyphs:l}),available:!0},{id:"googleSatellite",title:"mapGoogleSatellite",style:rl({tiles:[0,1,2,3].map(c=>`https://mt${c}.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:"© Google",glyphs:l}),available:!0},{id:"googleHybrid",title:"mapGoogleHybrid",style:rl({tiles:[0,1,2,3].map(c=>`https://mt${c}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:"© Google",glyphs:l}),available:!0},{id:"mapTilerBasic",title:"mapMapTilerBasic",style:`https://api.maptiler.com/maps/basic/style.json?key=${t}`,available:!!t,attribute:"mapTilerKey"},{id:"mapTilerHybrid",title:"mapMapTilerHybrid",style:`https://api.maptiler.com/maps/hybrid/style.json?key=${t}`,available:!!t,attribute:"mapTilerKey"},{id:"bingRoad",title:"mapBingRoad",style:rl({tiles:[0,1,2,3].map(c=>`https://t${c}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=G,L&shading=hill&og=1885&n=z`),maxZoom:21,glyphs:l}),available:!!n,attribute:"bingMapsKey"},{id:"bingAerial",title:"mapBingAerial",style:rl({tiles:[0,1,2,3].map(c=>`https://ecn.t${c}.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=12327`),maxZoom:19,glyphs:l}),available:!!n,attribute:"bingMapsKey"},{id:"bingHybrid",title:"mapBingHybrid",style:rl({tiles:[0,1,2,3].map(c=>`https://t${c}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=A,G,L&og=1885&n=z`),maxZoom:19,glyphs:l}),available:!!n,attribute:"bingMapsKey"},{id:"tomTomBasic",title:"mapTomTomBasic",style:`https://api.tomtom.com/map/1/style/20.0.0-8/basic_main.json?key=${r}`,available:!!r,attribute:"tomTomKey"},{id:"hereBasic",title:"mapHereBasic",style:`https://assets.vector.hereapi.com/styles/berlin/base/mapbox/tilezen?apikey=${i}`,available:!!i,attribute:"hereKey"},{id:"hereHybrid",title:"mapHereHybrid",style:rl({tiles:[1,2,3,4].map(c=>`https://${c}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:20,glyphs:l}),available:!!i,attribute:"hereKey"},{id:"hereSatellite",title:"mapHereSatellite",style:rl({tiles:[1,2,3,4].map(c=>`https://${c}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:19,glyphs:l}),available:!!i,attribute:"hereKey"},{id:"autoNavi",title:"mapAutoNavi",style:rl({tiles:[1,2,3,4].map(c=>`https://webrd0${c}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`),minZoom:3,maxZoom:18,glyphs:l}),available:!0},{id:"ordnanceSurvey",title:"mapOrdnanceSurvey",style:"https://api.os.uk/maps/vector/v1/vts/resources/styles?key=EAZ8p83u72FTGiLjLC2MsTAl1ko6XQHC",transformRequest:c=>({url:`${c}&srs=3857`}),available:!0},{id:"mapboxStreets",title:"mapMapboxStreets",style:rl({tiles:[`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22,glyphs:l}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxOutdoors",title:"mapMapboxOutdoors",style:rl({tiles:[`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22,glyphs:l}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxSatelliteStreet",title:"mapMapboxSatellite",style:rl({tiles:[`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22,glyphs:l}),available:!!o,attribute:"mapboxAccessToken"},{id:"custom",title:"mapCustom",style:rl({tiles:["http://localhost:8080/tile/{z}/{x}/{y}.png"],maxZoom:19,glyphs:l}),available:!0}]},kb=document.createElement("div");kb.style.width="100%";kb.style.height="100%";kb.style.boxSizing="initial";const gt=new v1.Map({container:kb,attributionControl:!1,zoom:14});let lj=!1;const cj=new Set,YDe=t=>{cj.add(t),t(lj)},XDe=t=>{cj.delete(t)},Zre=t=>{lj=t,cj.forEach(e=>e(t))},KDe=async()=>{lj||(gt.hasImage("background")||Object.entries(gp).forEach(([t,e])=>{gt.addImage(t,e,{pixelRatio:window.devicePixelRatio})}),Zre(!0))};gt.addControl(new v1.NavigationControl);const Jre=new HDe(()=>Zre(!1),t=>Kre("selectedMapStyle",t),()=>{gt.once("styledata",()=>{const t=()=>{gt.loaded()?KDe():setTimeout(t,33)};t()})});gt.addControl(Jre);const uj=({children:t})=>{const e=V.useRef(null),[n,r]=V.useState(!1),i=qDe(),o="osm,locationIqStreets,carto,custom",[a]=RA("selectedMapStyle",kA("map","osm")),s="my tocken",l=21;return V.useEffect(()=>{gt.setMaxZoom(l)},[l]),V.useEffect(()=>{v1.accessToken=s},[s]),V.useEffect(()=>{const c=i.filter(p=>p.available&&o.includes(p.id)),h=c.length?c:i.filter(p=>p.id==="osm");Jre.updateStyles(h,a)},[i,a]),V.useEffect(()=>{const c=h=>r(h);return YDe(c),()=>{XDe(c)}},[]),V.useLayoutEffect(()=>{const c=e.current;return c.appendChild(kb),gt.resize(),()=>{c.removeChild(kb)}},[e]),z.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},ref:e,children:n&&t})},dj=Symbol.for("yaml.alias"),OB=Symbol.for("yaml.document"),Kg=Symbol.for("yaml.map"),Qre=Symbol.for("yaml.pair"),Yp=Symbol.for("yaml.scalar"),x1=Symbol.for("yaml.seq"),md=Symbol.for("yaml.node.type"),q0=t=>!!t&&typeof t=="object"&&t[md]===dj,_1=t=>!!t&&typeof t=="object"&&t[md]===OB,b1=t=>!!t&&typeof t=="object"&&t[md]===Kg,Do=t=>!!t&&typeof t=="object"&&t[md]===Qre,mo=t=>!!t&&typeof t=="object"&&t[md]===Yp,w1=t=>!!t&&typeof t=="object"&&t[md]===x1;function Wo(t){if(t&&typeof t=="object")switch(t[md]){case Kg:case x1:return!0}return!1}function Ms(t){if(t&&typeof t=="object")switch(t[md]){case dj:case Kg:case Yp:case x1:return!0}return!1}const ZDe=t=>(mo(t)||Wo(t))&&!!t.anchor,xc=Symbol("break visit"),eie=Symbol("skip children"),wh=Symbol("remove node");function ly(t,e){const n=tie(e);_1(t)?P_(null,t.contents,n,Object.freeze([t]))===wh&&(t.contents=null):P_(null,t,n,Object.freeze([]))}ly.BREAK=xc;ly.SKIP=eie;ly.REMOVE=wh;function P_(t,e,n,r){const i=nie(t,e,n,r);if(Ms(i)||Do(i))return rie(t,r,i),P_(t,i,n,r);if(typeof i!="symbol"){if(Wo(e)){r=Object.freeze(r.concat(e));for(let o=0;o<e.items.length;++o){const a=P_(o,e.items[o],n,r);if(typeof a=="number")o=a-1;else{if(a===xc)return xc;a===wh&&(e.items.splice(o,1),o-=1)}}}else if(Do(e)){r=Object.freeze(r.concat(e));const o=P_("key",e.key,n,r);if(o===xc)return xc;o===wh&&(e.key=null);const a=P_("value",e.value,n,r);if(a===xc)return xc;a===wh&&(e.value=null)}}return i}async function _R(t,e){const n=tie(e);_1(t)?await I_(null,t.contents,n,Object.freeze([t]))===wh&&(t.contents=null):await I_(null,t,n,Object.freeze([]))}_R.BREAK=xc;_R.SKIP=eie;_R.REMOVE=wh;async function I_(t,e,n,r){const i=await nie(t,e,n,r);if(Ms(i)||Do(i))return rie(t,r,i),I_(t,i,n,r);if(typeof i!="symbol"){if(Wo(e)){r=Object.freeze(r.concat(e));for(let o=0;o<e.items.length;++o){const a=await I_(o,e.items[o],n,r);if(typeof a=="number")o=a-1;else{if(a===xc)return xc;a===wh&&(e.items.splice(o,1),o-=1)}}}else if(Do(e)){r=Object.freeze(r.concat(e));const o=await I_("key",e.key,n,r);if(o===xc)return xc;o===wh&&(e.key=null);const a=await I_("value",e.value,n,r);if(a===xc)return xc;a===wh&&(e.value=null)}}return i}function tie(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function nie(t,e,n,r){var i,o,a,s,l;if(typeof n=="function")return n(t,e,r);if(b1(e))return(i=n.Map)==null?void 0:i.call(n,t,e,r);if(w1(e))return(o=n.Seq)==null?void 0:o.call(n,t,e,r);if(Do(e))return(a=n.Pair)==null?void 0:a.call(n,t,e,r);if(mo(e))return(s=n.Scalar)==null?void 0:s.call(n,t,e,r);if(q0(e))return(l=n.Alias)==null?void 0:l.call(n,t,e,r)}function rie(t,e,n){const r=e[e.length-1];if(Wo(r))r.items[t]=n;else if(Do(r))t==="key"?r.key=n:r.value=n;else if(_1(r))r.contents=n;else{const i=q0(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const JDe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},QDe=t=>t.replace(/[!,[\]{}]/g,e=>JDe[e]);class jl{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},jl.defaultYaml,e),this.tags=Object.assign({},jl.defaultTags,n)}clone(){const e=new jl(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new jl(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:jl.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},jl.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:jl.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},jl.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,a]=r;return this.tags[o]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const a=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,a),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const a=e.slice(2,-1);return a==="!"||a==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),a)}const[,r,i]=e.match(/^(.*!)([^!]*)$/s);i||n(`The ${e} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(a){return n(String(a)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+QDe(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(e&&r.length>0&&Ms(e.contents)){const o={};ly(e.contents,(a,s)=>{Ms(s)&&s.tag&&(o[s.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,a]of r)o==="!!"&&a==="tag:yaml.org,2002:"||(!e||i.some(s=>s.startsWith(a)))&&n.push(`%TAG ${o} ${a}`);return n.join(`
`)}}jl.defaultYaml={explicit:!1,version:"1.2"};jl.defaultTags={"!!":"tag:yaml.org,2002:"};function iie(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function oie(t){const e=new Set;return ly(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function sie(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function e3e(t,e){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i||(i=oie(t));const a=sie(e,i);return i.add(a),a},setAnchors:()=>{for(const o of n){const a=r.get(o);if(typeof a=="object"&&a.anchor&&(mo(a.node)||Wo(a.node)))a.node.anchor=a.anchor;else{const s=new Error("Failed to resolve repeated object (this should not happen)");throw s.source=o,s}}},sourceObjects:r}}function k_(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const a=r[i],s=k_(t,r,String(i),a);s===void 0?delete r[i]:s!==a&&(r[i]=s)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),a=k_(t,r,i,o);a===void 0?r.delete(i):a!==o&&r.set(i,a)}else if(r instanceof Set)for(const i of Array.from(r)){const o=k_(t,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const a=k_(t,r,i,o);a===void 0?delete r[i]:a!==o&&(r[i]=a)}return t.call(e,n,r)}function sd(t,e,n){if(Array.isArray(t))return t.map((r,i)=>sd(r,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!ZDe(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class fj{constructor(e){Object.defineProperty(this,md,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!_1(e))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},s=sd(this,"",a);if(typeof i=="function")for(const{count:l,res:c}of a.anchors.values())i(c,l);return typeof o=="function"?k_(o,{"":s},"",s):s}}class bR extends fj{constructor(e){super(dj),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return ly(e,{Node:(r,i)=>{if(i===this)return ly.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,a=this.resolve(i);if(!a){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let s=r.get(a);if(s||(sd(a,null,n),s=r.get(a)),!s||s.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(o>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=OA(i,a,r)),s.count*s.aliasCount>o)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return s.res}toString(e,n,r){const i=`*${this.source}`;if(e){if(iie(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(e.implicitKey)return`${i} `}return i}}function OA(t,e,n){if(q0(e)){const r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Wo(e)){let r=0;for(const i of e.items){const o=OA(t,i,n);o>r&&(r=o)}return r}else if(Do(e)){const r=OA(t,e.key,n),i=OA(t,e.value,n);return Math.max(r,i)}return 1}const aie=t=>!t||typeof t!="function"&&typeof t!="object";class Or extends fj{constructor(e){super(Yp),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:sd(this.value,e,n)}toString(){return String(this.value)}}Or.BLOCK_FOLDED="BLOCK_FOLDED";Or.BLOCK_LITERAL="BLOCK_LITERAL";Or.PLAIN="PLAIN";Or.QUOTE_DOUBLE="QUOTE_DOUBLE";Or.QUOTE_SINGLE="QUOTE_SINGLE";const t3e="tag:yaml.org,2002:";function n3e(t,e,n){if(e){const r=n.filter(o=>o.tag===e),i=r.find(o=>!o.format)??r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,t))&&!r.format})}function DM(t,e,n){var p,g,v;if(_1(t)&&(t=t.contents),Ms(t))return t;if(Do(t)){const x=(g=(p=n.schema[Kg]).createNode)==null?void 0:g.call(p,n.schema,null,n);return x.items.push(t),x}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:a,sourceObjects:s}=n;let l;if(r&&t&&typeof t=="object"){if(l=s.get(t),l)return l.anchor||(l.anchor=i(t)),new bR(l.anchor);l={anchor:null,node:null},s.set(t,l)}e!=null&&e.startsWith("!!")&&(e=t3e+e.slice(2));let c=n3e(t,e,a.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const x=new Or(t);return l&&(l.node=x),x}c=t instanceof Map?a[Kg]:Symbol.iterator in Object(t)?a[x1]:a[Kg]}o&&(o(c),delete n.onTagObj);const h=c!=null&&c.createNode?c.createNode(n.schema,t,n):typeof((v=c==null?void 0:c.nodeClass)==null?void 0:v.from)=="function"?c.nodeClass.from(n.schema,t,n):new Or(t);return e?h.tag=e:c.default||(h.tag=c.tag),l&&(l.node=h),h}function WP(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){const o=e[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const a=[];a[o]=r,r=a}else r=new Map([[o,r]])}return DM(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const wS=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class wR extends fj{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>Ms(r)||Do(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(wS(e))this.add(n);else{const[r,...i]=e,o=this.get(r,!0);if(Wo(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,WP(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Wo(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...i]=e,o=this.get(r,!0);return i.length===0?!n&&mo(o)?o.value:o:Wo(o)?o.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Do(n))return!1;const r=n.value;return r==null||e&&mo(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Wo(i)?i.hasIn(r):!1}setIn(e,n){const[r,...i]=e;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(Wo(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,WP(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}wR.maxFlowStringSingleLineLength=60;const r3e=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Tp(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Lg=(t,e,n)=>t.endsWith(`
`)?Tp(n,e):n.includes(`
`)?`
`+Tp(n,e):(t.endsWith(" ")?"":" ")+n,lie="flow",LB="block",LA="quoted";function SR(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:a,onOverflow:s}={}){if(!i||i<0)return t;const l=Math.max(1+o,1+i-e.length);if(t.length<=l)return t;const c=[],h={};let p=i-e.length;typeof r=="number"&&(r>i-Math.max(2,o)?c.push(0):p=i-r);let g,v,x=!1,_=-1,S=-1,w=-1;n===LB&&(_=UG(t,_),_!==-1&&(p=_+l));for(let T;T=t[_+=1];){if(n===LA&&T==="\\"){switch(S=_,t[_+1]){case"x":_+=3;break;case"u":_+=5;break;case"U":_+=9;break;default:_+=1}w=_}if(T===`
`)n===LB&&(_=UG(t,_)),p=_+l,g=void 0;else{if(T===" "&&v&&v!==" "&&v!==`
`&&v!=="	"){const k=t[_+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(g=_)}if(_>=p)if(g)c.push(g),p=g+l,g=void 0;else if(n===LA){for(;v===" "||v==="	";)v=T,T=t[_+=1],x=!0;const k=_>w+1?_-2:S-1;if(h[k])return t;c.push(k),h[k]=!0,p=k+l,g=void 0}else x=!0}v=T}if(x&&s&&s(),c.length===0)return t;a&&a();let C=t.slice(0,c[0]);for(let T=0;T<c.length;++T){const k=c[T],R=c[T+1]||t.length;k===0?C=`
${e}${t.slice(0,R)}`:(n===LA&&h[k]&&(C+=`${t[k]}\\`),C+=`
${e}${t.slice(k+1,R)}`)}return C}function UG(t,e){let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e}const MR=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ER=t=>/^(%|---|\.\.\.)/m.test(t);function i3e(t,e,n){if(!e||e<0)return!1;const r=e-n,i=t.length;if(i<=r)return!1;for(let o=0,a=0;o<i;++o)if(t[o]===`
`){if(o-a>r)return!0;if(a=o+1,i-a<=r)return!1}return!0}function WS(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,o=e.indent||(ER(t)?"  ":"");let a="",s=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(a+=n.slice(s,l)+"\\ ",l+=1,s=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{a+=n.slice(s,l);const h=n.substr(l+2,4);switch(h){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:h.substr(0,2)==="00"?a+="\\x"+h.substr(2):a+=n.substr(l,6)}l+=5,s=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(a+=n.slice(s,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)a+=`
`,l+=2;a+=o,n[l+2]===" "&&(a+="\\"),l+=1,s=l+1}break;default:l+=1}return a=s?a+n.slice(s):n,r?a:SR(a,o,LA,MR(e,!1))}function DB(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return WS(t,e);const n=e.indent||(ER(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:SR(r,n,lie,MR(e,!1))}function R_(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=WS;else{const i=t.includes('"'),o=t.includes("'");i&&!o?r=DB:o&&!i?r=WS:r=n?DB:WS}return r(t,e)}let NB;try{NB=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{NB=/\n+(?!\n|$)/g}function DA({comment:t,type:e,value:n},r,i,o){const{blockQuote:a,commentString:s,lineWidth:l}=r.options;if(!a||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return R_(n,r);const c=r.indent||(r.forceBlockIndent||ER(n)?"  ":""),h=a==="literal"?!0:a==="folded"||e===Or.BLOCK_FOLDED?!1:e===Or.BLOCK_LITERAL?!0:!i3e(n,l,c.length);if(!n)return h?`|
`:`>
`;let p,g;for(g=n.length;g>0;--g){const L=n[g-1];if(L!==`
`&&L!=="	"&&L!==" ")break}let v=n.substring(g);const x=v.indexOf(`
`);x===-1?p="-":n===v||x!==v.length-1?(p="+",o&&o()):p="",v&&(n=n.slice(0,-v.length),v[v.length-1]===`
`&&(v=v.slice(0,-1)),v=v.replace(NB,`$&${c}`));let _=!1,S,w=-1;for(S=0;S<n.length;++S){const L=n[S];if(L===" ")_=!0;else if(L===`
`)w=S;else break}let C=n.substring(0,w<S?w+1:S);C&&(n=n.substring(C.length),C=C.replace(/\n+/g,`$&${c}`));let k=(h?"|":">")+(_?c?"2":"1":"")+p;if(t&&(k+=" "+s(t.replace(/ ?[\r\n]+/g," ")),i&&i()),h)return n=n.replace(/\n+/g,`$&${c}`),`${k}
${c}${C}${n}${v}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const R=SR(`${C}${n}${v}`,c,LB,MR(r,!0));return`${k}
${c}${R}`}function o3e(t,e,n,r){const{type:i,value:o}=t,{actualString:a,implicitKey:s,indent:l,indentStep:c,inFlow:h}=e;if(s&&o.includes(`
`)||h&&/[[\]{},]/.test(o))return R_(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return s||h||!o.includes(`
`)?R_(o,e):DA(t,e,n,r);if(!s&&!h&&i!==Or.PLAIN&&o.includes(`
`))return DA(t,e,n,r);if(ER(o)){if(l==="")return e.forceBlockIndent=!0,DA(t,e,n,r);if(s&&l===c)return R_(o,e)}const p=o.replace(/\n+/g,`$&
${l}`);if(a){const g=_=>{var S;return _.default&&_.tag!=="tag:yaml.org,2002:str"&&((S=_.test)==null?void 0:S.test(p))},{compat:v,tags:x}=e.doc.schema;if(x.some(g)||v!=null&&v.some(g))return R_(o,e)}return s?p:SR(p,l,lie,MR(e,!1))}function vE(t,e,n,r){const{implicitKey:i,inFlow:o}=e,a=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:s}=t;s!==Or.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(s=Or.QUOTE_DOUBLE);const l=h=>{switch(h){case Or.BLOCK_FOLDED:case Or.BLOCK_LITERAL:return i||o?R_(a.value,e):DA(a,e,n,r);case Or.QUOTE_DOUBLE:return WS(a.value,e);case Or.QUOTE_SINGLE:return DB(a.value,e);case Or.PLAIN:return o3e(a,e,n,r);default:return null}};let c=l(s);if(c===null){const{defaultKeyType:h,defaultStringType:p}=e.options,g=i&&h||p;if(c=l(g),c===null)throw new Error(`Unsupported default string type ${g}`)}return c}function cie(t,e){const n=Object.assign({blockQuote:!0,commentString:r3e,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function s3e(t,e){var i;if(e.tag){const o=t.filter(a=>a.tag===e.tag);if(o.length>0)return o.find(a=>a.format===e.format)??o[0]}let n,r;if(mo(e)){r=e.value;const o=t.filter(a=>{var s;return(s=a.identify)==null?void 0:s.call(a,r)});n=o.find(a=>a.format===e.format)??o.find(a=>!a.format)}else r=e,n=t.find(o=>o.nodeClass&&r instanceof o.nodeClass);if(!n){const o=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${o} value`)}return n}function a3e(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(mo(t)||Wo(t))&&t.anchor;o&&iie(o)&&(n.add(o),i.push(`&${o}`));const a=t.tag?t.tag:e.default?null:e.tag;return a&&i.push(r.directives.tagString(a)),i.join(" ")}function Rb(t,e,n,r){var l;if(Do(t))return t.toString(e,n,r);if(q0(t)){if(e.doc.directives)return t.toString(e);if((l=e.resolvedAliases)!=null&&l.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const o=Ms(t)?t:e.doc.createNode(t,{onTagObj:c=>i=c});i||(i=s3e(e.doc.schema.tags,o));const a=a3e(o,i,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);const s=typeof i.stringify=="function"?i.stringify(o,e,n,r):mo(o)?vE(o,e,n,r):o.toString(e,n,r);return a?mo(o)||s[0]==="{"||s[0]==="["?`${a} ${s}`:`${a}
${e.indent}${s}`:s}function l3e({key:t,value:e},n,r,i){const{allNullValues:o,doc:a,indent:s,indentStep:l,options:{commentString:c,indentSeq:h,simpleKeys:p}}=n;let g=Ms(t)&&t.comment||null;if(p){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(Wo(t)){const F="With simple keys, collection cannot be used as a key value";throw new Error(F)}}let v=!p&&(!t||g&&e==null&&!n.inFlow||Wo(t)||(mo(t)?t.type===Or.BLOCK_FOLDED||t.type===Or.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!v&&(p||!o),indent:s+l});let x=!1,_=!1,S=Rb(t,n,()=>x=!0,()=>_=!0);if(!v&&!n.inFlow&&S.length>1024){if(p)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");v=!0}if(n.inFlow){if(o||e==null)return x&&r&&r(),S===""?"?":v?`? ${S}`:S}else if(o&&!p||e==null&&v)return S=`? ${S}`,g&&!x?S+=Lg(S,n.indent,c(g)):_&&i&&i(),S;x&&(g=null),v?(g&&(S+=Lg(S,n.indent,c(g))),S=`? ${S}
${s}:`):(S=`${S}:`,g&&(S+=Lg(S,n.indent,c(g))));let w,C,T;Ms(e)?(w=!!e.spaceBefore,C=e.commentBefore,T=e.comment):(w=!1,C=null,T=null,e&&typeof e=="object"&&(e=a.createNode(e))),n.implicitKey=!1,!v&&!g&&mo(e)&&(n.indentAtStart=S.length+1),_=!1,!h&&l.length>=2&&!n.inFlow&&!v&&w1(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let k=!1;const R=Rb(e,n,()=>k=!0,()=>_=!0);let L=" ";if(g||w||C){if(L=w?`
`:"",C){const F=c(C);L+=`
${Tp(F,n.indent)}`}R===""&&!n.inFlow?L===`
`&&(L=`

`):L+=`
${n.indent}`}else if(!v&&Wo(e)){const F=R[0],H=R.indexOf(`
`),Z=H!==-1,j=n.inFlow??e.flow??e.items.length===0;if(Z||!j){let X=!1;if(Z&&(F==="&"||F==="!")){let le=R.indexOf(" ");F==="&"&&le!==-1&&le<H&&R[le+1]==="!"&&(le=R.indexOf(" ",le+1)),(le===-1||H<le)&&(X=!0)}X||(L=`
${n.indent}`)}}else(R===""||R[0]===`
`)&&(L="");return S+=L+R,n.inFlow?k&&r&&r():T&&!k?S+=Lg(S,n.indent,c(T)):_&&i&&i(),S}function uie(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const VG="<<";function die(t,e,{key:n,value:r}){if(t!=null&&t.doc.schema.merge&&c3e(n))if(r=q0(r)?r.resolve(t.doc):r,w1(r))for(const i of r.items)r3(t,e,i);else if(Array.isArray(r))for(const i of r)r3(t,e,i);else r3(t,e,r);else{const i=sd(n,"",t);if(e instanceof Map)e.set(i,sd(r,i,t));else if(e instanceof Set)e.add(i);else{const o=u3e(n,i,t),a=sd(r,o,t);o in e?Object.defineProperty(e,o,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[o]=a}}return e}const c3e=t=>t===VG||mo(t)&&t.value===VG&&(!t.type||t.type===Or.PLAIN);function r3(t,e,n){const r=t&&q0(n)?n.resolve(t.doc):n;if(!b1(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,t,Map);for(const[o,a]of i)e instanceof Map?e.has(o)||e.set(o,a):e instanceof Set?e.add(o):Object.prototype.hasOwnProperty.call(e,o)||Object.defineProperty(e,o,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function u3e(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(Ms(t)&&(n!=null&&n.doc)){const r=cie(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=t.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),uie(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function hj(t,e,n){const r=DM(t,void 0,n),i=DM(e,void 0,n);return new yl(r,i)}class yl{constructor(e,n=null){Object.defineProperty(this,md,{value:Qre}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return Ms(n)&&(n=n.clone(e)),Ms(r)&&(r=r.clone(e)),new yl(n,r)}toJSON(e,n){const r=n!=null&&n.mapAsMap?new Map:{};return die(n,r,this)}toString(e,n,r){return e!=null&&e.doc?l3e(this,e,n,r):JSON.stringify(this)}}function fie(t,e,n){return(e.inFlow??t.flow?f3e:d3e)(t,e,n)}function d3e({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:a,onComment:s}){const{indent:l,options:{commentString:c}}=n,h=Object.assign({},n,{indent:o,type:null});let p=!1;const g=[];for(let x=0;x<e.length;++x){const _=e[x];let S=null;if(Ms(_))!p&&_.spaceBefore&&g.push(""),HP(n,g,_.commentBefore,p),_.comment&&(S=_.comment);else if(Do(_)){const C=Ms(_.key)?_.key:null;C&&(!p&&C.spaceBefore&&g.push(""),HP(n,g,C.commentBefore,p))}p=!1;let w=Rb(_,h,()=>S=null,()=>p=!0);S&&(w+=Lg(w,o,c(S))),p&&S&&(p=!1),g.push(r+w)}let v;if(g.length===0)v=i.start+i.end;else{v=g[0];for(let x=1;x<g.length;++x){const _=g[x];v+=_?`
${l}${_}`:`
`}}return t?(v+=`
`+Tp(c(t),l),s&&s()):p&&a&&a(),v}function f3e({comment:t,items:e},n,{flowChars:r,itemIndent:i,onComment:o}){const{indent:a,indentStep:s,flowCollectionPadding:l,options:{commentString:c}}=n;i+=s;const h=Object.assign({},n,{indent:i,inFlow:!0,type:null});let p=!1,g=0;const v=[];for(let w=0;w<e.length;++w){const C=e[w];let T=null;if(Ms(C))C.spaceBefore&&v.push(""),HP(n,v,C.commentBefore,!1),C.comment&&(T=C.comment);else if(Do(C)){const R=Ms(C.key)?C.key:null;R&&(R.spaceBefore&&v.push(""),HP(n,v,R.commentBefore,!1),R.comment&&(p=!0));const L=Ms(C.value)?C.value:null;L?(L.comment&&(T=L.comment),L.commentBefore&&(p=!0)):C.value==null&&(R!=null&&R.comment)&&(T=R.comment)}T&&(p=!0);let k=Rb(C,h,()=>T=null);w<e.length-1&&(k+=","),T&&(k+=Lg(k,i,c(T))),!p&&(v.length>g||k.includes(`
`))&&(p=!0),v.push(k),g=v.length}let x;const{start:_,end:S}=r;if(v.length===0)x=_+S;else if(p||(p=v.reduce((C,T)=>C+T.length+2,2)>wR.maxFlowStringSingleLineLength),p){x=_;for(const w of v)x+=w?`
${s}${a}${w}`:`
`;x+=`
${a}${S}`}else x=`${_}${l}${v.join(" ")}${l}${S}`;return t&&(x+=Lg(x,a,c(t)),o&&o()),x}function HP({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Tp(e(r),t);n.push(o.trimStart())}}function Jv(t,e){const n=mo(e)?e.value:e;for(const r of t)if(Do(r)&&(r.key===e||r.key===n||mo(r.key)&&r.key.value===n))return r}class ru extends wR{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Kg,e),this.items=[]}static from(e,n,r){const{keepUndefined:i,replacer:o}=r,a=new this(e),s=(l,c)=>{if(typeof o=="function")c=o.call(n,l,c);else if(Array.isArray(o)&&!o.includes(l))return;(c!==void 0||i)&&a.items.push(hj(l,c,r))};if(n instanceof Map)for(const[l,c]of n)s(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))s(l,n[l]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,n){var a;let r;Do(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new yl(e,e==null?void 0:e.value):r=new yl(e.key,e.value);const i=Jv(this.items,r.key),o=(a=this.schema)==null?void 0:a.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);mo(i.value)&&aie(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const s=this.items.findIndex(l=>o(r,l)<0);s===-1?this.items.push(r):this.items.splice(s,0,r)}else this.items.push(r)}delete(e){const n=Jv(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=Jv(this.items,e),i=r==null?void 0:r.value;return(!n&&mo(i)?i.value:i)??void 0}has(e){return!!Jv(this.items,e)}set(e,n){this.add(new yl(e,n),!0)}toJSON(e,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const o of this.items)die(n,i,o);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(const i of this.items)if(!Do(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),fie(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const S1={collection:"map",default:!0,nodeClass:ru,tag:"tag:yaml.org,2002:map",resolve(t,e){return b1(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>ru.from(t,e,n)};class cy extends wR{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(x1,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=JT(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=JT(e);if(typeof r!="number")return;const i=this.items[r];return!n&&mo(i)?i.value:i}has(e){const n=JT(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=JT(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[r];mo(i)&&aie(n)?i.value=n:this.items[r]=n}toJSON(e,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push(sd(o,String(i++),n));return r}toString(e,n,r){return e?fie(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:i}=r,o=new this(e);if(n&&Symbol.iterator in Object(n)){let a=0;for(let s of n){if(typeof i=="function"){const l=n instanceof Set?s:String(a++);s=i.call(n,l,s)}o.items.push(DM(s,void 0,r))}}return o}}function JT(t){let e=mo(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const M1={collection:"seq",default:!0,nodeClass:cy,tag:"tag:yaml.org,2002:seq",resolve(t,e){return w1(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>cy.from(t,e,n)},TR={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),vE(t,e,n,r)}},CR={identify:t=>t==null,createNode:()=>new Or(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Or(null),stringify:({source:t},e)=>typeof t=="string"&&CR.test.test(t)?t:e.options.nullStr},pj={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Or(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&pj.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function _f({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let a=o.indexOf(".");a<0&&(a=o.length,o+=".");let s=e-(o.length-a-1);for(;s-- >0;)o+="0"}return o}const hie={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_f},pie={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():_f(t)}},mie={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Or(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:_f},AR=t=>typeof t=="bigint"||Number.isInteger(t),mj=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function gie(t,e,n){const{value:r}=t;return AR(r)&&r>=0?n+r.toString(e):_f(t)}const yie={identify:t=>AR(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>mj(t,2,8,n),stringify:t=>gie(t,8,"0o")},vie={identify:AR,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>mj(t,0,10,n),stringify:_f},xie={identify:t=>AR(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>mj(t,2,16,n),stringify:t=>gie(t,16,"0x")},h3e=[S1,M1,TR,CR,pj,yie,vie,xie,hie,pie,mie];function WG(t){return typeof t=="bigint"||Number.isInteger(t)}const QT=({value:t})=>JSON.stringify(t),p3e=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:QT},{identify:t=>t==null,createNode:()=>new Or(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:QT},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:QT},{identify:WG,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>WG(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:QT}],m3e={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},g3e=[S1,M1].concat(p3e,m3e),gj={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,i,o){const a=n;let s;if(typeof Buffer=="function")s=a instanceof Buffer?a.toString("base64"):Buffer.from(a.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);s=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Or.BLOCK_LITERAL),e!==Or.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),c=Math.ceil(s.length/l),h=new Array(c);for(let p=0,g=0;p<c;++p,g+=l)h[p]=s.substr(g,l);s=h.join(e===Or.BLOCK_LITERAL?`
`:" ")}return vE({comment:t,type:e,value:s},r,i,o)}};function _ie(t,e){if(w1(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!Do(r)){if(b1(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const i=r.items[0]||new yl(new Or(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}t.items[n]=Do(r)?r:new yl(r)}}else e("Expected a sequence for this tag");return t}function bie(t,e,n){const{replacer:r}=n,i=new cy(t);i.tag="tag:yaml.org,2002:pairs";let o=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof r=="function"&&(a=r.call(e,String(o++),a));let s,l;if(Array.isArray(a))if(a.length===2)s=a[0],l=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const c=Object.keys(a);if(c.length===1)s=c[0],l=a[s];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else s=a;i.items.push(hj(s,l,n))}return i}const yj={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:_ie,createNode:bie};class tb extends cy{constructor(){super(),this.add=ru.prototype.add.bind(this),this.delete=ru.prototype.delete.bind(this),this.get=ru.prototype.get.bind(this),this.has=ru.prototype.has.bind(this),this.set=ru.prototype.set.bind(this),this.tag=tb.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let o,a;if(Do(i)?(o=sd(i.key,"",n),a=sd(i.value,o,n)):o=sd(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,a)}return r}static from(e,n,r){const i=bie(e,n,r),o=new this;return o.items=i.items,o}}tb.tag="tag:yaml.org,2002:omap";const vj={collection:"seq",identify:t=>t instanceof Map,nodeClass:tb,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=_ie(t,e),r=[];for(const{key:i}of n.items)mo(i)&&(r.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new tb,n)},createNode:(t,e,n)=>tb.from(t,e,n)};function wie({value:t,source:e},n){return e&&(t?Sie:Mie).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Sie={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Or(!0),stringify:wie},Mie={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Or(!1),stringify:wie},y3e={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_f},v3e={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():_f(t)}},x3e={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Or(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:_f},xE=t=>typeof t=="bigint"||Number.isInteger(t);function PR(t,e,n,{intAsBigInt:r}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const a=BigInt(t);return i==="-"?BigInt(-1)*a:a}const o=parseInt(t,n);return i==="-"?-1*o:o}function xj(t,e,n){const{value:r}=t;if(xE(r)){const i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return _f(t)}const _3e={identify:xE,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>PR(t,2,2,n),stringify:t=>xj(t,2,"0b")},b3e={identify:xE,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>PR(t,1,8,n),stringify:t=>xj(t,8,"0")},w3e={identify:xE,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>PR(t,0,10,n),stringify:_f},S3e={identify:xE,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>PR(t,2,16,n),stringify:t=>xj(t,16,"0x")};class nb extends ru{constructor(e){super(e),this.tag=nb.tag}add(e){let n;Do(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new yl(e.key,null):n=new yl(e,null),Jv(this.items,n.key)||this.items.push(n)}get(e,n){const r=Jv(this.items,e);return!n&&Do(r)?mo(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Jv(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new yl(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:i}=r,o=new this(e);if(n&&Symbol.iterator in Object(n))for(let a of n)typeof i=="function"&&(a=i.call(n,a,a)),o.items.push(hj(a,null,r));return o}}nb.tag="tag:yaml.org,2002:set";const _j={collection:"map",identify:t=>t instanceof Set,nodeClass:nb,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>nb.from(t,e,n),resolve(t,e){if(b1(t)){if(t.hasAllNullValues(!0))return Object.assign(new nb,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function bj(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,i=a=>e?BigInt(a):Number(a),o=r.replace(/_/g,"").split(":").reduce((a,s)=>a*i(60)+i(s),i(0));return n==="-"?i(-1)*o:o}function Eie(t){let{value:e}=t,n=a=>a;if(typeof e=="bigint")n=a=>BigInt(a);else if(isNaN(e)||!isFinite(e))return _f(t);let r="";e<0&&(r="-",e*=n(-1));const i=n(60),o=[e%i];return e<60?o.unshift(0):(e=(e-o[0])/i,o.unshift(e%i),e>=60&&(e=(e-o[0])/i,o.unshift(e))),r+o.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Tie={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>bj(t,n),stringify:Eie},Cie={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>bj(t,!1),stringify:Eie},IR={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(IR.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,a,s]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,r-1,i,o||0,a||0,s||0,l);const h=e[8];if(h&&h!=="Z"){let p=bj(h,!1);Math.abs(p)<30&&(p*=60),c-=6e4*p}return new Date(c)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},HG=[S1,M1,TR,CR,Sie,Mie,_3e,b3e,w3e,S3e,y3e,v3e,x3e,gj,vj,yj,_j,Tie,Cie,IR],GG=new Map([["core",h3e],["failsafe",[S1,M1,TR]],["json",g3e],["yaml11",HG],["yaml-1.1",HG]]),qG={binary:gj,bool:pj,float:mie,floatExp:pie,floatNaN:hie,floatTime:Cie,int:vie,intHex:xie,intOct:yie,intTime:Tie,map:S1,null:CR,omap:vj,pairs:yj,seq:M1,set:_j,timestamp:IR},M3e={"tag:yaml.org,2002:binary":gj,"tag:yaml.org,2002:omap":vj,"tag:yaml.org,2002:pairs":yj,"tag:yaml.org,2002:set":_j,"tag:yaml.org,2002:timestamp":IR};function i3(t,e){let n=GG.get(e);if(!n)if(Array.isArray(t))n=[];else{const r=Array.from(GG.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${r} or define customTags array`)}if(Array.isArray(t))for(const r of t)n=n.concat(r);else typeof t=="function"&&(n=t(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=qG[r];if(i)return i;const o=Object.keys(qG).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${o}`)})}const E3e=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class kR{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:a,toStringDefaults:s}){this.compat=Array.isArray(e)?i3(e,"compat"):e?i3(null,e):null,this.merge=!!r,this.name=typeof o=="string"&&o||"core",this.knownTags=i?M3e:{},this.tags=i3(n,this.name),this.toStringOptions=s??null,Object.defineProperty(this,Kg,{value:S1}),Object.defineProperty(this,Yp,{value:TR}),Object.defineProperty(this,x1,{value:M1}),this.sortMapEntries=typeof a=="function"?a:a===!0?E3e:null}clone(){const e=Object.create(kR.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function T3e(t,e){var l;const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const c=t.directives.toString(t);c?(n.push(c),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const i=cie(t,e),{commentString:o}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const c=o(t.commentBefore);n.unshift(Tp(c,""))}let a=!1,s=null;if(t.contents){if(Ms(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const p=o(t.contents.commentBefore);n.push(Tp(p,""))}i.forceBlockIndent=!!t.comment,s=t.contents.comment}const c=s?void 0:()=>a=!0;let h=Rb(t.contents,i,()=>s=null,c);s&&(h+=Lg(h,"",o(s))),(h[0]==="|"||h[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${h}`:n.push(h)}else n.push(Rb(t.contents,i));if((l=t.directives)!=null&&l.docEnd)if(t.comment){const c=o(t.comment);c.includes(`
`)?(n.push("..."),n.push(Tp(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&a&&(c=c.replace(/^\n+/,"")),c&&((!a||s)&&n[n.length-1]!==""&&n.push(""),n.push(Tp(o(c),"")))}return n.join(`
`)+`
`}class E1{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,md,{value:OB});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:a}=o;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new jl({version:a}),this.setSchema(a,r),this.contents=e===void 0?null:this.createNode(e,i,r)}clone(){const e=Object.create(E1.prototype,{[md]:{value:OB}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Ms(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Rx(this.contents)&&this.contents.add(e)}addIn(e,n){Rx(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=oie(this);e.anchor=!n||r.has(n)?sie(n||"a",r):n}return new bR(e.anchor)}createNode(e,n,r){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const S=C=>typeof C=="number"||C instanceof String||C instanceof Number,w=n.filter(S).map(String);w.length>0&&(n=n.concat(w)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:a,flow:s,keepUndefined:l,onTagObj:c,tag:h}=r??{},{onAnchor:p,setAnchors:g,sourceObjects:v}=e3e(this,a||"a"),x={aliasDuplicateObjects:o??!0,keepUndefined:l??!1,onAnchor:p,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:v},_=DM(e,h,x);return s&&Wo(_)&&(_.flow=!0),g(),_}createPair(e,n,r={}){const i=this.createNode(e,null,r),o=this.createNode(n,null,r);return new yl(i,o)}delete(e){return Rx(this.contents)?this.contents.delete(e):!1}deleteIn(e){return wS(e)?this.contents==null?!1:(this.contents=null,!0):Rx(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Wo(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return wS(e)?!n&&mo(this.contents)?this.contents.value:this.contents:Wo(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Wo(this.contents)?this.contents.has(e):!1}hasIn(e){return wS(e)?this.contents!==void 0:Wo(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=WP(this.schema,[e],n):Rx(this.contents)&&this.contents.set(e,n)}setIn(e,n){wS(e)?this.contents=n:this.contents==null?this.contents=WP(this.schema,Array.from(e),n):Rx(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new jl({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new jl({version:e}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new kR(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:a}={}){const s={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=sd(this.contents,n??"",s);if(typeof o=="function")for(const{count:c,res:h}of s.anchors.values())o(h,c);return typeof a=="function"?k_(a,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return T3e(this,e)}}function Rx(t){if(Wo(t))return!0;throw new Error("Expected a YAML collection as document contents")}class wj extends Error{constructor(e,n,r,i){super(),this.name=e,this.code=r,this.message=i,this.pos=n}}class Qv extends wj{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class Aie extends wj{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const GP=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(s=>e.linePos(s));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,a=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&a.length>80){const s=Math.min(o-39,a.length-79);a="…"+a.substring(s),o-=s-1}if(a.length>80&&(a=a.substring(0,79)+"…"),r>1&&/^ *$/.test(a.substring(0,o))){let s=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);s.length>80&&(s=s.substring(0,79)+`…
`),a=s+a}if(/[^ ]/.test(a)){let s=1;const l=n.linePos[1];l&&l.line===r&&l.col>i&&(s=Math.max(1,Math.min(l.col-i,80-o)));const c=" ".repeat(o)+"^".repeat(s);n.message+=`:

${a}
${c}
`}};function Ob(t,{flow:e,indicator:n,next:r,offset:i,onError:o,startOnNewline:a}){let s=!1,l=a,c=a,h="",p="",g=!1,v=!1,x=!1,_=null,S=null,w=null,C=null,T=null;for(const L of t)switch(x&&(L.type!=="space"&&L.type!=="newline"&&L.type!=="comma"&&o(L.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),x=!1),L.type){case"space":!e&&l&&n!=="doc-start"&&L.source[0]==="	"&&o(L,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||o(L,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const F=L.source.substring(1)||" ";h?h+=p+F:h=F,p="",l=!1;break}case"newline":l?h?h+=L.source:s=!0:p+=L.source,l=!0,g=!0,(_||S)&&(v=!0),c=!0;break;case"anchor":_&&o(L,"MULTIPLE_ANCHORS","A node can have at most one anchor"),L.source.endsWith(":")&&o(L.offset+L.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),_=L,T===null&&(T=L.offset),l=!1,c=!1,x=!0;break;case"tag":{S&&o(L,"MULTIPLE_TAGS","A node can have at most one tag"),S=L,T===null&&(T=L.offset),l=!1,c=!1,x=!0;break}case n:(_||S)&&o(L,"BAD_PROP_ORDER",`Anchors and tags must be after the ${L.source} indicator`),C&&o(L,"UNEXPECTED_TOKEN",`Unexpected ${L.source} in ${e??"collection"}`),C=L,l=!1,c=!1;break;case"comma":if(e){w&&o(L,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),w=L,l=!1,c=!1;break}default:o(L,"UNEXPECTED_TOKEN",`Unexpected ${L.type} token`),l=!1,c=!1}const k=t[t.length-1],R=k?k.offset+k.source.length:i;return x&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:w,found:C,spaceBefore:s,comment:h,hasNewline:g,hasNewlineAfterProp:v,anchor:_,tag:S,end:R,start:T??R}}function NM(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(NM(e.key)||NM(e.value))return!0}return!1;default:return!0}}function zB(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&NM(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Pie(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const i=typeof r=="function"?r:(o,a)=>o===a||mo(o)&&mo(a)&&o.value===a.value&&!(o.value==="<<"&&t.schema.merge);return e.some(o=>i(o.key,n))}const YG="All mapping items must start at the same column";function C3e({composeNode:t,composeEmptyNode:e},n,r,i,o){var h;const a=(o==null?void 0:o.nodeClass)??ru,s=new a(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const p of r.items){const{start:g,key:v,sep:x,value:_}=p,S=Ob(g,{indicator:"explicit-key-ind",next:v??(x==null?void 0:x[0]),offset:l,onError:i,startOnNewline:!0}),w=!S.found;if(w){if(v&&(v.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in v&&v.indent!==r.indent&&i(l,"BAD_INDENT",YG)),!S.anchor&&!S.tag&&!x){c=S.end,S.comment&&(s.comment?s.comment+=`
`+S.comment:s.comment=S.comment);continue}(S.hasNewlineAfterProp||NM(v))&&i(v??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((h=S.found)==null?void 0:h.indent)!==r.indent&&i(l,"BAD_INDENT",YG);const C=S.end,T=v?t(n,v,S,i):e(n,C,g,null,S,i);n.schema.compat&&zB(r.indent,v,i),Pie(n,s.items,T)&&i(C,"DUPLICATE_KEY","Map keys must be unique");const k=Ob(x??[],{indicator:"map-value-ind",next:_,offset:T.range[2],onError:i,startOnNewline:!v||v.type==="block-scalar"});if(l=k.end,k.found){w&&((_==null?void 0:_.type)==="block-map"&&!k.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&S.start<k.found.offset-1024&&i(T.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const R=_?t(n,_,k,i):e(n,l,x,null,k,i);n.schema.compat&&zB(r.indent,_,i),l=R.range[2];const L=new yl(T,R);n.options.keepSourceTokens&&(L.srcToken=p),s.items.push(L)}else{w&&i(T.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),k.comment&&(T.comment?T.comment+=`
`+k.comment:T.comment=k.comment);const R=new yl(T);n.options.keepSourceTokens&&(R.srcToken=p),s.items.push(R)}}return c&&c<l&&i(c,"IMPOSSIBLE","Map comment with trailing content"),s.range=[r.offset,l,c??l],s}function A3e({composeNode:t,composeEmptyNode:e},n,r,i,o){const a=(o==null?void 0:o.nodeClass)??cy,s=new a(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const{start:h,value:p}of r.items){const g=Ob(h,{indicator:"seq-item-ind",next:p,offset:l,onError:i,startOnNewline:!0});if(!g.found)if(g.anchor||g.tag||p)p&&p.type==="block-seq"?i(g.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{c=g.end,g.comment&&(s.comment=g.comment);continue}const v=p?t(n,p,g,i):e(n,g.end,h,null,g,i);n.schema.compat&&zB(r.indent,p,i),l=v.range[2],s.items.push(v)}return s.range=[r.offset,l,c??l],s}function _E(t,e,n,r){let i="";if(t){let o=!1,a="";for(const s of t){const{source:l,type:c}=s;switch(c){case"space":o=!0;break;case"comment":{n&&!o&&r(s,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const h=l.substring(1)||" ";i?i+=a+h:i=h,a="";break}case"newline":i&&(a+=l),o=!0;break;default:r(s,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:i,offset:e}}const o3="Block collections are not allowed within flow collections",s3=t=>t&&(t.type==="block-map"||t.type==="block-seq");function P3e({composeNode:t,composeEmptyNode:e},n,r,i,o){const a=r.start.source==="{",s=a?"flow map":"flow sequence",l=(o==null?void 0:o.nodeClass)??(a?ru:cy),c=new l(n.schema);c.flow=!0;const h=n.atRoot;h&&(n.atRoot=!1);let p=r.offset+r.start.source.length;for(let S=0;S<r.items.length;++S){const w=r.items[S],{start:C,key:T,sep:k,value:R}=w,L=Ob(C,{flow:s,indicator:"explicit-key-ind",next:T??(k==null?void 0:k[0]),offset:p,onError:i,startOnNewline:!1});if(!L.found){if(!L.anchor&&!L.tag&&!k&&!R){S===0&&L.comma?i(L.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`):S<r.items.length-1&&i(L.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${s}`),L.comment&&(c.comment?c.comment+=`
`+L.comment:c.comment=L.comment),p=L.end;continue}!a&&n.options.strict&&NM(T)&&i(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(S===0)L.comma&&i(L.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`);else if(L.comma||i(L.start,"MISSING_CHAR",`Missing , between ${s} items`),L.comment){let F="";e:for(const H of C)switch(H.type){case"comma":case"space":break;case"comment":F=H.source.substring(1);break e;default:break e}if(F){let H=c.items[c.items.length-1];Do(H)&&(H=H.value??H.key),H.comment?H.comment+=`
`+F:H.comment=F,L.comment=L.comment.substring(F.length+1)}}if(!a&&!k&&!L.found){const F=R?t(n,R,L,i):e(n,L.end,k,null,L,i);c.items.push(F),p=F.range[2],s3(R)&&i(F.range,"BLOCK_IN_FLOW",o3)}else{const F=L.end,H=T?t(n,T,L,i):e(n,F,C,null,L,i);s3(T)&&i(H.range,"BLOCK_IN_FLOW",o3);const Z=Ob(k??[],{flow:s,indicator:"map-value-ind",next:R,offset:H.range[2],onError:i,startOnNewline:!1});if(Z.found){if(!a&&!L.found&&n.options.strict){if(k)for(const le of k){if(le===Z.found)break;if(le.type==="newline"){i(le,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}L.start<Z.found.offset-1024&&i(Z.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else R&&("source"in R&&R.source&&R.source[0]===":"?i(R,"MISSING_CHAR",`Missing space after : in ${s}`):i(Z.start,"MISSING_CHAR",`Missing , or : between ${s} items`));const j=R?t(n,R,Z,i):Z.found?e(n,Z.end,k,null,Z,i):null;j?s3(R)&&i(j.range,"BLOCK_IN_FLOW",o3):Z.comment&&(H.comment?H.comment+=`
`+Z.comment:H.comment=Z.comment);const X=new yl(H,j);if(n.options.keepSourceTokens&&(X.srcToken=w),a){const le=c;Pie(n,le.items,H)&&i(F,"DUPLICATE_KEY","Map keys must be unique"),le.items.push(X)}else{const le=new ru(n.schema);le.flow=!0,le.items.push(X),c.items.push(le)}p=j?j.range[2]:Z.end}}const g=a?"}":"]",[v,...x]=r.end;let _=p;if(v&&v.source===g)_=v.offset+v.source.length;else{const S=s[0].toUpperCase()+s.substring(1),w=h?`${S} must end with a ${g}`:`${S} in block collection must be sufficiently indented and end with a ${g}`;i(p,h?"MISSING_CHAR":"BAD_INDENT",w),v&&v.source.length!==1&&x.unshift(v)}if(x.length>0){const S=_E(x,_,n.options.strict,i);S.comment&&(c.comment?c.comment+=`
`+S.comment:c.comment=S.comment),c.range=[r.offset,_,S.offset]}else c.range=[r.offset,_,_];return c}function a3(t,e,n,r,i,o){const a=n.type==="block-map"?C3e(t,e,n,r,o):n.type==="block-seq"?A3e(t,e,n,r,o):P3e(t,e,n,r,o),s=a.constructor;return i==="!"||i===s.tagName?(a.tag=s.tagName,a):(i&&(a.tag=i),a)}function I3e(t,e,n,r,i){var p;const o=r?e.directives.tagName(r.source,g=>i(r,"TAG_RESOLVE_FAILED",g)):null,a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===ru.tagName&&a==="map"||o===cy.tagName&&a==="seq"||!a)return a3(t,e,n,i,o);let s=e.schema.tags.find(g=>g.tag===o&&g.collection===a);if(!s){const g=e.schema.knownTags[o];if(g&&g.collection===a)e.schema.tags.push(Object.assign({},g,{default:!1})),s=g;else return g!=null&&g.collection?i(r,"BAD_COLLECTION_TYPE",`${g.tag} used for ${a} collection, but expects ${g.collection}`,!0):i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),a3(t,e,n,i,o)}const l=a3(t,e,n,i,o,s),c=((p=s.resolve)==null?void 0:p.call(s,l,g=>i(r,"TAG_RESOLVE_FAILED",g),e.options))??l,h=Ms(c)?c:new Or(c);return h.range=l.range,h.tag=o,s!=null&&s.format&&(h.format=s.format),h}function Iie(t,e,n){const r=t.offset,i=k3e(t,e,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=i.mode===">"?Or.BLOCK_FOLDED:Or.BLOCK_LITERAL,a=t.source?R3e(t.source):[];let s=a.length;for(let _=a.length-1;_>=0;--_){const S=a[_][1];if(S===""||S==="\r")s=_;else break}if(s===0){const _=i.chomp==="+"&&a.length>0?`
`.repeat(Math.max(1,a.length-1)):"";let S=r+i.length;return t.source&&(S+=t.source.length),{value:_,type:o,comment:i.comment,range:[r,S,S]}}let l=t.indent+i.indent,c=t.offset+i.length,h=0;for(let _=0;_<s;++_){const[S,w]=a[_];if(w===""||w==="\r")i.indent===0&&S.length>l&&(l=S.length);else{if(S.length<l){const C="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(c+S.length,"MISSING_CHAR",C)}i.indent===0&&(l=S.length),h=_;break}c+=S.length+w.length+1}for(let _=a.length-1;_>=s;--_)a[_][0].length>l&&(s=_+1);let p="",g="",v=!1;for(let _=0;_<h;++_)p+=a[_][0].slice(l)+`
`;for(let _=h;_<s;++_){let[S,w]=a[_];c+=S.length+w.length+1;const C=w[w.length-1]==="\r";if(C&&(w=w.slice(0,-1)),w&&S.length<l){const k=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(c-w.length-(C?2:1),"BAD_INDENT",k),S=""}o===Or.BLOCK_LITERAL?(p+=g+S.slice(l)+w,g=`
`):S.length>l||w[0]==="	"?(g===" "?g=`
`:!v&&g===`
`&&(g=`

`),p+=g+S.slice(l)+w,g=`
`,v=!0):w===""?g===`
`?p+=`
`:g=`
`:(p+=g+w,g=" ",v=!1)}switch(i.chomp){case"-":break;case"+":for(let _=s;_<a.length;++_)p+=`
`+a[_][0].slice(l);p[p.length-1]!==`
`&&(p+=`
`);break;default:p+=`
`}const x=r+i.length+t.source.length;return{value:p,type:o,comment:i.comment,range:[r,x,x]}}function k3e({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],o=i[0];let a=0,s="",l=-1;for(let g=1;g<i.length;++g){const v=i[g];if(!s&&(v==="-"||v==="+"))s=v;else{const x=Number(v);!a&&x?a=x:l===-1&&(l=t+g)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let c=!1,h="",p=i.length;for(let g=1;g<e.length;++g){const v=e[g];switch(v.type){case"space":c=!0;case"newline":p+=v.source.length;break;case"comment":n&&!c&&r(v,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),p+=v.source.length,h=v.source.substring(1);break;case"error":r(v,"UNEXPECTED_TOKEN",v.message),p+=v.source.length;break;default:{const x=`Unexpected token in block scalar header: ${v.type}`;r(v,"UNEXPECTED_TOKEN",x);const _=v.source;_&&typeof _=="string"&&(p+=_.length)}}}return{mode:o,indent:a,chomp:s,comment:h,length:p}}function R3e(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),o=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let a=1;a<e.length;a+=2)o.push([e[a],e[a+1]]);return o}function kie(t,e,n){const{offset:r,type:i,source:o,end:a}=t;let s,l;const c=(g,v,x)=>n(r+g,v,x);switch(i){case"scalar":s=Or.PLAIN,l=O3e(o,c);break;case"single-quoted-scalar":s=Or.QUOTE_SINGLE,l=L3e(o,c);break;case"double-quoted-scalar":s=Or.QUOTE_DOUBLE,l=D3e(o,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const h=r+o.length,p=_E(a,h,e,n);return{value:l,type:s,comment:p.comment,range:[r,h,p.offset]}}function O3e(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Rie(t)}function L3e(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),Rie(t.slice(1,-1)).replace(/''/g,"'")}function Rie(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let i=r[1],o=" ",a=e.lastIndex;for(n.lastIndex=a;r=n.exec(t);)r[1]===""?o===`
`?i+=o:o=`
`:(i+=o+r[1],o=" "),a=n.lastIndex;const s=/[ \t]*(.*)/sy;return s.lastIndex=a,r=s.exec(t),i+o+((r==null?void 0:r[1])??"")}function D3e(t,e){let n="";for(let r=1;r<t.length-1;++r){const i=t[r];if(!(i==="\r"&&t[r+1]===`
`))if(i===`
`){const{fold:o,offset:a}=N3e(t,r);n+=o,r=a}else if(i==="\\"){let o=t[++r];const a=z3e[o];if(a)n+=a;else if(o===`
`)for(o=t[r+1];o===" "||o==="	";)o=t[++r+1];else if(o==="\r"&&t[r+1]===`
`)for(o=t[++r+1];o===" "||o==="	";)o=t[++r+1];else if(o==="x"||o==="u"||o==="U"){const s={x:2,u:4,U:8}[o];n+=B3e(t,r+1,s,e),r+=s}else{const s=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),n+=s}}else if(i===" "||i==="	"){const o=r;let a=t[r+1];for(;a===" "||a==="	";)a=t[++r+1];a!==`
`&&!(a==="\r"&&t[r+2]===`
`)&&(n+=r>o?t.slice(o,r+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function N3e(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const z3e={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function B3e(t,e,n,r){const i=t.substr(e,n),a=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(a)){const s=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),s}return String.fromCodePoint(a)}function Oie(t,e,n,r){const{value:i,type:o,comment:a,range:s}=e.type==="block-scalar"?Iie(e,t.options.strict,r):kie(e,t.options.strict,r),l=n?t.directives.tagName(n.source,p=>r(n,"TAG_RESOLVE_FAILED",p)):null,c=n&&l?F3e(t.schema,i,l,n,r):e.type==="scalar"?$3e(t,i,e,r):t.schema[Yp];let h;try{const p=c.resolve(i,g=>r(n??e,"TAG_RESOLVE_FAILED",g),t.options);h=mo(p)?p:new Or(p)}catch(p){const g=p instanceof Error?p.message:String(p);r(n??e,"TAG_RESOLVE_FAILED",g),h=new Or(i)}return h.range=s,h.source=i,o&&(h.type=o),l&&(h.tag=l),c.format&&(h.format=c.format),a&&(h.comment=a),h}function F3e(t,e,n,r,i){var s;if(n==="!")return t[Yp];const o=[];for(const l of t.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)o.push(l);else return l;for(const l of o)if((s=l.test)!=null&&s.test(e))return l;const a=t.knownTags[n];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Yp])}function $3e({directives:t,schema:e},n,r,i){const o=e.tags.find(a=>{var s;return a.default&&((s=a.test)==null?void 0:s.test(n))})||e[Yp];if(e.compat){const a=e.compat.find(s=>{var l;return s.default&&((l=s.test)==null?void 0:l.test(n))})??e[Yp];if(o.tag!==a.tag){const s=t.tagString(o.tag),l=t.tagString(a.tag),c=`Value may be parsed as either ${s} or ${l}`;i(r,"TAG_RESOLVE_FAILED",c,!0)}}return o}function j3e(t,e,n){if(e){n===null&&(n=e.length);for(let r=n-1;r>=0;--r){let i=e[r];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++r];(i==null?void 0:i.type)==="space";)t+=i.source.length,i=e[++r];break}}return t}const U3e={composeNode:Lie,composeEmptyNode:Sj};function Lie(t,e,n,r){const{spaceBefore:i,comment:o,anchor:a,tag:s}=n;let l,c=!0;switch(e.type){case"alias":l=V3e(t,e,r),(a||s)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=Oie(t,e,s,r),a&&(l.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=I3e(U3e,t,e,s,r),a&&(l.anchor=a.source.substring(1));break;default:{const h=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",h),l=Sj(t,e.offset,void 0,null,n,r),c=!1}}return a&&l.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(l.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?l.comment=o:l.commentBefore=o),t.options.keepSourceTokens&&c&&(l.srcToken=e),l}function Sj(t,e,n,r,{spaceBefore:i,comment:o,anchor:a,tag:s,end:l},c){const h={type:"scalar",offset:j3e(e,n,r),indent:-1,source:""},p=Oie(t,h,s,c);return a&&(p.anchor=a.source.substring(1),p.anchor===""&&c(a,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(p.spaceBefore=!0),o&&(p.comment=o,p.range[2]=l),p}function V3e({options:t},{offset:e,source:n,end:r},i){const o=new bR(n.substring(1));o.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const a=e+n.length,s=_E(r,a,t.strict,i);return o.range=[e,a,s.offset],s.comment&&(o.comment=s.comment),o}function W3e(t,e,{offset:n,start:r,value:i,end:o},a){const s=Object.assign({_directives:e},t),l=new E1(void 0,s),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},h=Ob(r,{indicator:"doc-start",next:i??(o==null?void 0:o[0]),offset:n,onError:a,startOnNewline:!0});h.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!h.hasNewline&&a(h.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?Lie(c,i,h,a):Sj(c,h.end,r,null,h,a);const p=l.contents.range[2],g=_E(o,p,!1,a);return g.comment&&(l.comment=g.comment),l.range=[n,p,g.offset],l}function $w(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function XG(t){var i;let e="",n=!1,r=!1;for(let o=0;o<t.length;++o){const a=t[o];switch(a[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(a.substring(1)||" "),n=!0,r=!1;break;case"%":((i=t[o+1])==null?void 0:i[0])!=="#"&&(o+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class Mj{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,o)=>{const a=$w(n);o?this.warnings.push(new Aie(a,r,i)):this.errors.push(new Qv(a,r,i))},this.directives=new jl({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:i}=XG(this.prelude);if(r){const o=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(i||e.directives.docStart||!o)e.commentBefore=r;else if(Wo(o)&&!o.flow&&o.items.length>0){let a=o.items[0];Do(a)&&(a=a.key);const s=a.commentBefore;a.commentBefore=s?`${r}
${s}`:r}else{const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:XG(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const i of e)yield*this.next(i);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,i)=>{const o=$w(e);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=W3e(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Qv($w(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Qv($w(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=_E(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Qv($w(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),i=new E1(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function H3e(t,e=!0,n){if(t){const r=(i,o,a)=>{const s=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(s,o,a);else throw new Qv([s,s+1],o,a)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return kie(t,e,r);case"block-scalar":return Iie(t,e,r)}}return null}function G3e(t,e){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:o=-1,type:a="PLAIN"}=e,s=vE({type:a,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(s[0]){case"|":case">":{const c=s.indexOf(`
`),h=s.substring(0,c),p=s.substring(c+1)+`
`,g=[{type:"block-scalar-header",offset:o,indent:r,source:h}];return Die(g,l)||g.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:o,indent:r,props:g,source:p}}case'"':return{type:"double-quoted-scalar",offset:o,indent:r,source:s,end:l};case"'":return{type:"single-quoted-scalar",offset:o,indent:r,source:s,end:l};default:return{type:"scalar",offset:o,indent:r,source:s,end:l}}}function q3e(t,e,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:o=!1,type:a}=n,s="indent"in t?t.indent:null;if(r&&typeof s=="number"&&(s+=2),!a)switch(t.type){case"single-quoted-scalar":a="QUOTE_SINGLE";break;case"double-quoted-scalar":a="QUOTE_DOUBLE";break;case"block-scalar":{const c=t.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:a="PLAIN"}const l=vE({type:a,value:e},{implicitKey:i||s===null,indent:s!==null&&s>0?" ".repeat(s):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Y3e(t,l);break;case'"':l3(t,l,"double-quoted-scalar");break;case"'":l3(t,l,"single-quoted-scalar");break;default:l3(t,l,"scalar")}}function Y3e(t,e){const n=e.indexOf(`
`),r=e.substring(0,n),i=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const o=t.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=r,t.source=i}else{const{offset:o}=t,a="indent"in t?t.indent:-1,s=[{type:"block-scalar-header",offset:o,indent:a,source:r}];Die(s,"end"in t?t.end:void 0)||s.push({type:"newline",offset:-1,indent:a,source:`
`});for(const l of Object.keys(t))l!=="type"&&l!=="offset"&&delete t[l];Object.assign(t,{type:"block-scalar",indent:a,props:s,source:i})}}function Die(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function l3(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const r=t.props.slice(1);let i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(const o of r)o.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[i]});break}default:{const r="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(t))o!=="type"&&o!=="offset"&&delete t[o];Object.assign(t,{type:n,indent:r,source:e,end:i})}}}const X3e=t=>"type"in t?qP(t):NA(t);function qP(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=qP(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=NA(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=NA(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=NA(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function NA({start:t,key:e,sep:n,value:r}){let i="";for(const o of t)i+=o.source;if(e&&(i+=qP(e)),n)for(const o of n)i+=o.source;return r&&(i+=qP(r)),i}const BB=Symbol("break visit"),K3e=Symbol("skip children"),Nie=Symbol("remove item");function z0(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),zie(Object.freeze([]),t,e)}z0.BREAK=BB;z0.SKIP=K3e;z0.REMOVE=Nie;z0.itemAtPath=(t,e)=>{let n=t;for(const[r,i]of e){const o=n==null?void 0:n[r];if(o&&"items"in o)n=o.items[i];else return}return n};z0.parentCollection=(t,e)=>{const n=z0.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function zie(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(const i of["key","value"]){const o=e[i];if(o&&"items"in o){for(let a=0;a<o.items.length;++a){const s=zie(Object.freeze(t.concat([[i,a]])),o.items[a],n);if(typeof s=="number")a=s-1;else{if(s===BB)return BB;s===Nie&&(o.items.splice(a,1),a-=1)}}typeof r=="function"&&i==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}const RR="\uFEFF",OR="",LR="",zM="",Z3e=t=>!!t&&"items"in t,J3e=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function Q3e(t){switch(t){case RR:return"<BOM>";case OR:return"<DOC>";case LR:return"<FLOW_END>";case zM:return"<SCALAR>";default:return JSON.stringify(t)}}function Bie(t){switch(t){case RR:return"byte-order-mark";case OR:return"doc-mode";case LR:return"flow-error-end";case zM:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const eNe=Object.freeze(Object.defineProperty({__proto__:null,BOM:RR,DOCUMENT:OR,FLOW_END:LR,SCALAR:zM,createScalarToken:G3e,isCollection:Z3e,isScalar:J3e,prettyToken:Q3e,resolveAsScalar:H3e,setScalarValue:q3e,stringify:X3e,tokenType:Bie,visit:z0},Symbol.toStringTag,{value:"Module"}));function ju(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const KG="0123456789ABCDEFabcdef".split(""),tNe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),c3=",[]{}".split(""),nNe=` ,[]{}
\r	`.split(""),u3=t=>!t||nNe.includes(t);class Fie{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const i=this.buffer[r+e+1];if(i===`
`||!i&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&ju(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===RR&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length;const r=e.indexOf("#");if(r!==-1){const o=e[r-1];(o===" "||o==="	")&&(n=r-1)}for(;;){const o=e[n-1];if(o===" "||o==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield OR,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&ju(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&ju(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ju(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&ju(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(u3),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&ju(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield LR,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(u3),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const a=this.charAt(1);if(this.flowKey||ju(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=r.indexOf(`
`,o)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ju(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let i=e-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const a=i;for(;o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>a)e=i;else break}while(!0);return yield zM,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const o=this.buffer[r+1];if(ju(o)||e&&o===",")break;n=r}else if(ju(i)){let o=this.buffer[r+1];if(i==="\r"&&(o===`
`?(r+=1,i=`
`,o=this.buffer[r+1]):n=r),o==="#"||e&&c3.includes(o))break;if(i===`
`){const a=this.continueScalar(r+1);if(a===-1)break;r=Math.max(r,a-2)}}else{if(e&&c3.includes(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield zM,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(u3))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(ju(n)||e&&c3.includes(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!ju(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(tNe.includes(n))n=this.buffer[++e];else if(n==="%"&&KG.includes(this.buffer[e+1])&&KG.includes(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class $ie{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const o=n+r>>1;this.lineStarts[o]<e?n=o+1:r=o}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}}function qd(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function ZG(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function jie(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function eC(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Ox(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function JG(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!qd(e.start,"explicit-key-ind")&&!qd(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,jie(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Ej{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Fie,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=Bie(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&JG(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!qd(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&ZG(i.start)===-1&&(n.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}else{const r="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:r}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{ZG(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=eC(this.peek(2)),r=Ox(n);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent&&n.sep;let o=[];if(i&&n.sep&&!n.value){const a=[];for(let s=0;s<n.sep.length;++s){const l=n.sep[s];switch(l.type){case"newline":a.push(s);break;case"space":break;case"comment":l.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!qd(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(o.push(this.sourceToken),e.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(qd(n.start,"explicit-key-ind"))if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(qd(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(jie(n.key)&&!qd(n.sep,"newline")){const a=Ox(n.start),s=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:s,sep:l}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(qd(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=Ox(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:o,key:null,sep:[this.sourceToken]}):qd(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);i||n.value?(e.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){i&&a.type!=="block-seq"&&qd(n.start,"explicit-key-ind")&&e.items.push({start:o}),this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||qd(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=eC(r),o=Ox(i);JG(e);const a=e.end.splice(1,e.end.length);a.push(this.sourceToken);const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:o,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=eC(e),r=Ox(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=eC(e),r=Ox(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Uie(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new $ie||null,prettyErrors:e}}function rNe(t,e={}){const{lineCounter:n,prettyErrors:r}=Uie(e),i=new Ej(n==null?void 0:n.addNewLine),o=new Mj(e),a=Array.from(o.compose(i.parse(t)));if(r&&n)for(const s of a)s.errors.forEach(GP(t,n)),s.warnings.forEach(GP(t,n));return a.length>0?a:Object.assign([],{empty:!0},o.streamInfo())}function Vie(t,e={}){const{lineCounter:n,prettyErrors:r}=Uie(e),i=new Ej(n==null?void 0:n.addNewLine),o=new Mj(e);let a=null;for(const s of o.compose(i.parse(t),!0,t.length))if(!a)a=s;else if(a.options.logLevel!=="silent"){a.errors.push(new Qv(s.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(a.errors.forEach(GP(t,n)),a.warnings.forEach(GP(t,n))),a}function iNe(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);const i=Vie(t,n);if(!i)return null;if(i.warnings.forEach(o=>uie(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function oNe(t,e,n){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){const{keepUndefined:i}=n??e??{};if(!i)return}return new E1(t,r,n).toString(n)}const YP=Object.freeze(Object.defineProperty({__proto__:null,Alias:bR,CST:eNe,Composer:Mj,Document:E1,Lexer:Fie,LineCounter:$ie,Pair:yl,Parser:Ej,Scalar:Or,Schema:kR,YAMLError:wj,YAMLMap:ru,YAMLParseError:Qv,YAMLSeq:cy,YAMLWarning:Aie,isAlias:q0,isCollection:Wo,isDocument:_1,isMap:b1,isNode:Ms,isPair:Do,isScalar:mo,isSeq:w1,parse:iNe,parseAllDocuments:rNe,parseDocument:Vie,stringify:oNe,visit:ly,visitAsync:_R},Symbol.toStringTag,{value:"Module"})),uy=Ze.createContext();var QG="";const bE=({children:t,notification:e})=>{const n=xr(T=>T.devices.items),r=xr(T=>T.mission),i=xr(T=>T.session.server.rosState),o=Zl(),[a,s]=V.useState(!1),[l,c]=V.useState(!1);V.useState(""),V.useEffect(()=>{s(i)},[i]);const h=async T=>{try{const k=await fetch("/api/rosConnect",{method:"POST",body:new URLSearchParams(`rosState=${encodeURIComponent(a)}`)});if(k.ok){let R=await k.json();R.state==="connect"&&(e("success",R.msg),s(!0)),R.state==="error"&&(s(!1),e("danger",R.msg)),R.state==="disconnect"&&(e("danger",R.msg),s(!1)),console.log(R)}else throw Error(await k.text())}catch{s(!1)}},p=async T=>{console.log(T.name+"-"+T.category);try{const k=await fetch("/api/devices",{method:"POST",body:JSON.stringify(T),headers:{"Content-Type":"application/json"}});if(k.ok){let R=await k.json();R.state==="connect"&&e("success",R.msg),R.state==="error"&&e("danger",R.msg),console.log(R)}else throw Error(await k.text())}catch{}},g=async()=>{try{const T=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"loadMission",attributes:r.route}),headers:{"Content-Type":"application/json"}});if(T.ok){let k=await T.json();k.state==="connect"&&e("success",k.msg),k.state==="error"&&e("danger",k.msg),console.log(k)}else throw Error(await T.text())}catch(T){console.log(T)}},v=async()=>{let T=null,R=r.route.map(L=>L.uav).map(L=>Object.values(n).find(F=>F.name==L).id);console.log("command mission "),R&&R.length>0&&(T=R);try{const L=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:T||-1,type:"commandMission"}),headers:{"Content-Type":"application/json"}});if(L.ok){const F=await L.json();F.state==="connect"&&e("success",F.msg),F.state==="error"&&e("danger",F.msg),console.log(F)}else throw Error(await L.text())}catch(L){console.log(L)}},x=(T,k)=>{if(T.endsWith(".yaml"))QG=YP.parse(k),o(fh.updateMission({...QG,name:T.slice(0,-5)}));else if(T.endsWith(".waypoints")){let L=k.split(`
`).map(Z=>Z.split("	")),F={uav_n:1,uav_1:{}},H=0;L.forEach(Z=>{Z[3]=="16"&&(F.uav_1["wp_"+H]=[Z[8],Z[9],Z[10]],H=H+1)}),F.uav_1.wp_n=H,o(fh.updateMission({...F,name:T.slice(0,-10)}))}else if(T.endsWith(".kml")){let L=new DOMParser().parseFromString(k,"text/xml").getElementsByTagName("coordinates"),F=Object.values(L).map(j=>j.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(" ").map(le=>le.split(","))),H={uav_n:F.length},Z=1;F.forEach(j=>{console.log(j);let X=0;H["uav_"+Z]={},j.forEach(le=>{le.length==3&&(H["uav_"+Z]["wp_"+X]=[le[1],le[0],le[2]],X=X+1)}),H["uav_"+Z].wp_n=X,Z=Z+1}),console.log(H),o(fh.updateMission({...H,name:T.slice(0,-4)}))}else if(T.endsWith(".plan")){let R=JSON.parse(k),L={uav_n:1,uav_1:{}},F=0;R.mission.items.forEach(H=>{L.uav_1["wp_"+F]=[H.params[4],H.params[5],H.Altitude],F=F+1}),L.uav_1.wp_n=F,o(fh.updateMission({...L,name:T.slice(0,-5)}))}else e("danger","Formato de mission no compatible")},_=()=>{h()};async function S(T){a?p(T):alert(`
Ros no está conectado.

 Por favor conéctelo primero.`)}function w(){g()}function C(){v()}return z.jsx("div",{style:{width:"100%",height:"100%"},children:z.jsx(uy.Provider,{value:{rosConnect:_,rosState:a,openMision:x,connectAddUav:S,commandMission:C,loadMission:w,confirmMission:l,setconfirmMission:c},children:t})})};var Tj={},d3={};const sNe=Rh(Y1e);var e7;function fi(){return e7||(e7=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=sNe}(d3)),d3}var aNe=ii;Object.defineProperty(Tj,"__esModule",{value:!0});var Cj=Tj.default=void 0,lNe=aNe(fi()),cNe=z;Cj=Tj.default=(0,lNe.default)((0,cNe.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");const uNe=Qr(t=>({input:{display:"none"},parent:{alignItems:"center",justifyContent:"center",padding:"6px 16px"}})),Wie=({title:t,readFile:e,typefiles:n=".yaml, .plan, .waypoint, .kml"})=>{const r=uNe();return z.jsx("div",{className:r.parent,children:z.jsxs("label",{htmlFor:"upload-gpx",children:[z.jsx("input",{accept:n,id:"upload-gpx",type:"file",className:r.input,onChange:e}),t?z.jsx(_n,{children:t}):z.jsx(gr,{edge:"end",component:"span",onClick:()=>{},children:z.jsx(Cj,{})})]})})},Hie=({items:t,depthLevel:e})=>{const[n,r]=V.useState(null),i=!!n,o=s=>{r(s.currentTarget)},a=()=>{r(null)};return z.jsxs("div",{children:[z.jsx(Gr,{id:"fade-button","aria-controls":i?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,onClick:o,sx:{color:"#FFFFFF",fontSize:16},style:{textTransform:"none"},children:t.title}),t.submenu&&z.jsx(K$,{id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:n,open:i,onClose:a,TransitionComponent:Gne,children:t.submenu.map((s,l)=>s.input?z.jsx(Wie,{title:s.title,readFile:c=>{s.input(c)},typefiles:s.type},"men"+l):z.jsx(lu,{onClick:()=>{a(),s.action&&s.action()},children:s.title},"men"+l))})]})},DR=({SetAddUAVOpen:t})=>{const e=Zl(),n=Oh(),r=V.useContext(uy),i=[{title:"ROS",submenu:[{title:"Connect ROS",action:()=>r.rosConnect()},{title:"Show Topics",action:()=>n("/topics")},{title:"Show Services"}]},{title:"Devices",submenu:[{title:"Connect Devices",action:()=>c()},{title:"Load Mission all",action:()=>r.loadMission()},{title:"Command Mission All",action:()=>r.commandMission()}]},{title:"Mission",submenu:[{title:" Open Mission",input:h=>a(h)},{title:"Clear mission",action:()=>o()},{title:"Edit mission",action:()=>n("/mission")},{title:"Planning",action:()=>n("/planning")}]},{title:"View",submenu:[{title:"Enviroment Features"},{title:"add elements",input:h=>s(h),type:".kml"},{title:"Camera view",action:()=>n("/camera")},{title:"3D view",action:()=>n("/3Dmission")}]},{title:"Report",submenu:[{title:"Missions",action:()=>n("reports/mission")},{title:"events",action:()=>n("reports/events")}]}],o=()=>{e(fh.clearMission({}))},a=h=>{const p=h.target.files[0];if(!p)return;const g=new FileReader;g.readAsText(p),g.onload=()=>{r.openMision(p.name,g.result)},g.onerror=()=>{console.log("error"),console.log(g.error)}},s=h=>{const p=h.target.files[0];if(!p)return;const g=new FileReader;g.readAsText(p),g.onload=()=>{console.log(g.result);let v=new DOMParser().parseFromString(g.result,"text/xml");console.log(v);let x=v.getElementsByTagName("Point");console.log(x);let _=Object.values(x).map(k=>k.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(","));console.log(_);let S=v.getElementsByTagName("coordinates");console.log(S);const w=Object.values(S).map(k=>k.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(" ")),C=w.map(k=>k.map(R=>R.split(",")));console.log(w),console.log(C);let T=[];if(_.length)return console.log("add markers"),T=_.map((k,R,L)=>({latitude:Number(k[1]),longitude:Number(k[0]),image:"base"})),console.log(T),e(ef.addMarkerBase(T)),null;C.length&&(console.log("add towers markers"),C.map(k=>{console.log(k);const R=[];k.map(L=>(console.log(L),L.length>1&&R.push({latitude:Number(L[1]),longitude:Number(L[0])}),null)),T.push({type:"powerTower",items:R})}),console.log(T),e(ef.addMarkerElement(T)))},g.onerror=()=>{console.log("error"),console.log(g.error)}};function l(){gt.easeTo({center:[-6.0025,37.412],zoom:Math.max(gt.getZoom(),5),offset:[0,-1/2]})}function c(){t(!0)}return z.jsx(m1,{position:"static",style:{backgroundColor:"#333",height:"52px"},children:z.jsx(H0,{maxWidth:"x",children:z.jsxs(sm,{disableGutters:!0,children:[z.jsx(Gr,{onClick:()=>{l(),n("/")},children:z.jsx(_n,{variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"#FFFFFF",textDecoration:"none"},children:"Management Tool"})}),Ze.Children.toArray(i.map((h,p)=>z.jsx(V.Fragment,{children:z.jsx(Hie,{items:h,depthLevel:0})},"s-"+p)))]})})})},dNe=$a(z.jsx("path",{d:"m3.55 18.54 1.41 1.41 1.79-1.8-1.41-1.41zM11 22.45h2V19.5h-2zM4 10.5H1v2h3zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19m5 4.19v2h3v-2zm-2.76 7.66 1.79 1.8 1.41-1.41-1.8-1.79z"}),"WbIncandescent"),fNe=$a(z.jsx("path",{d:"m3.55 19.09 1.41 1.41 1.79-1.8-1.41-1.41zM11 20h2v3h-2zM1 11h3v2H1zm12-6.95v3.96l1 .58c1.24.72 2 2.04 2 3.46 0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.42.77-2.74 2-3.46l1-.58V4.05zm2-2H9v4.81C7.21 7.9 6 9.83 6 12.05c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zM20 11h3v2h-3zm-2.76 7.71 1.79 1.8 1.41-1.41-1.8-1.79z"}),"WbIncandescentOutlined"),hNe=$a(z.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi"),pNe=$a(z.jsx("path",{d:"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7zm-4 4c-1.29-1.29-2.84-2.13-4.49-2.56l3.53 3.53zM2 3.05 5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24C7.81 10.89 6.27 11.73 5 13v.01L6.99 15c1.36-1.36 3.14-2.04 4.92-2.06L18.98 20l1.27-1.26L3.29 1.79zM9 17l3 3 3-3c-1.65-1.66-4.34-1.66-6 0"}),"WifiOff");var Aj={},mNe=ii;Object.defineProperty(Aj,"__esModule",{value:!0});var Gie=Aj.default=void 0,gNe=mNe(fi()),yNe=z;Gie=Aj.default=(0,gNe.default)((0,yNe.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var Pj={},vNe=ii;Object.defineProperty(Pj,"__esModule",{value:!0});var qie=Pj.default=void 0,xNe=vNe(fi()),_Ne=z;qie=Pj.default=(0,xNe.default)((0,_Ne.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder");var Ij={},bNe=ii;Object.defineProperty(Ij,"__esModule",{value:!0});var Yie=Ij.default=void 0,wNe=bNe(fi()),SNe=z;Yie=Ij.default=(0,wNe.default)((0,SNe.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5z"}),"Flight");var kj={},MNe=ii;Object.defineProperty(kj,"__esModule",{value:!0});var Xie=kj.default=void 0,ENe=MNe(fi()),TNe=z;Xie=kj.default=(0,ENe.default)((0,TNe.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");var Rj={},CNe=ii;Object.defineProperty(Rj,"__esModule",{value:!0});var Kie=Rj.default=void 0,ANe=CNe(fi()),PNe=z;Kie=Rj.default=(0,ANe.default)((0,PNe.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H3V5h10v4h8z"}),"Tab");var Oj={},INe=ii;Object.defineProperty(Oj,"__esModule",{value:!0});var Zie=Oj.default=void 0,kNe=INe(fi()),RNe=z;Zie=Oj.default=(0,kNe.default)((0,RNe.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11"}),"Reply");var Lj={},ONe=ii;Object.defineProperty(Lj,"__esModule",{value:!0});var Jie=Lj.default=void 0,LNe=ONe(fi()),DNe=z;Jie=Lj.default=(0,LNe.default)((0,DNe.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");var Dj={},NNe=ii;Object.defineProperty(Dj,"__esModule",{value:!0});var Qie=Dj.default=void 0,zNe=NNe(fi()),BNe=z;Qie=Dj.default=(0,zNe.default)((0,BNe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"ModeEdit");var Nj={},FNe=ii;Object.defineProperty(Nj,"__esModule",{value:!0});var eoe=Nj.default=void 0,$Ne=FNe(fi()),jNe=z;eoe=Nj.default=(0,$Ne.default)((0,jNe.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4z"}),"Cached");const UNe=Qr(t=>({toolbar:{height:"36px",background:"linear-gradient(#E7E5E7, #D3D1D3)",borderTop:"1px solid rgba(255, 255, 255, .6)"},mediaButton:{width:"auto",color:xh[700],backgroundColor:"#F9F9F9",boxShadow:"inset 0px -4px 4px 0 rgba(0, 0, 0, 0.1)",maxHeight:"22px",top:"2px",border:"1px solid #C2C0C2",margin:"5px 10px",fontSize:"12px","&:hover":{backgroundColor:xh[300]}},mediaicon:{color:xh[700],width:"15px"}})),wE=({SetAddUAVOpen:t})=>{const e=UNe(),n=V.useContext(uy),[r,i]=V.useState("no load mission"),o=xr(x=>x.mission.name),a=xr(x=>x.mission.home),[s,l]=V.useState(!0),c=x=>{const _=x.target.files[0];if(!_)return;const S=new FileReader;S.readAsText(_),S.onload=()=>{console.log(S.result),console.log(_.name),n.openMision(_.name,S.result)},S.onerror=()=>{console.log(S.error)}};function h(){gt.easeTo({center:[-6.0025,37.412],zoom:Math.max(gt.getZoom(),5),offset:[0,-1/2]})}function p(){gt.easeTo({center:[a[1],a[0]],zoom:Math.max(gt.getZoom(),15),offset:[0,-1/2]})}function g(){t(!0)}const v=()=>{l(!s)};return V.useEffect(()=>{i(o)},[o]),V.useEffect(()=>{p()},[a]),z.jsx("header",{className:e.toolbar,children:z.jsxs("div",{children:[z.jsxs(sTe,{style:{height:"26px",display:"inline",justifyContent:"flex-end"},children:[z.jsx(Gr,{onClick:h,className:e.mediaButton,style:{margin:"0px 0px"},children:z.jsx(Gie,{fontSize:"small",className:e.mediaicon})}),z.jsxs(Gr,{id:"openMission",className:e.mediaButton,style:{margin:"0px 0px"},children:[z.jsx("label",{htmlFor:"openMissionNavbar",style:{padding:0},children:z.jsx(qie,{fontSize:"small",className:e.mediaicon,style:{position:"relative",top:"3px"}})}),z.jsx("input",{type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:c})]}),z.jsx(Gr,{id:"openAddUav",onClick:g,className:e.mediaButton,style:{margin:"0px 0px"},children:z.jsx(Yie,{fontSize:"small",className:e.mediaicon,style:{transform:"rotate(90deg)"}})})]}),z.jsx(uy.Consumer,{children:({rosState:x})=>z.jsxs(Gr,{id:"rosConnect",onClick:n.rosConnect,className:e.mediaButton,children:[x&&"conectado"," ",!x&&"desconectado"," "]})}),z.jsx(Gr,{id:"loadMission",size:"small",onClick:g,className:e.mediaButton,children:z.jsx(Xie,{fontSize:"small",className:e.mediaicon})}),z.jsx(Gr,{id:"commandMission",onClick:g,className:e.mediaButton,children:"Fly!"}),z.jsxs(Gr,{id:"openedmission",onClick:p,className:e.mediaButton,style:{margin:"0px 100px",width:"500px"},children:[" ",r]}),z.jsx(Gr,{variant:"filledTonal",onClick:x=>v(),className:e.mediaButton,children:"Status"}),z.jsx(Gr,{id:"openTerminal",style:{visibility:!0},className:e.mediaButton,children:z.jsx(Kie,{fontSize:"small",className:e.mediaicon})}),z.jsx(Gr,{id:"UndoMission",style:{visibility:!0},className:e.mediaButton,children:z.jsx(Zie,{fontSize:"small",className:e.mediaicon})}),z.jsx(Gr,{id:"reset",className:e.mediaButton,children:z.jsx(Jie,{fontSize:"small",className:e.mediaicon})}),z.jsx(Gr,{id:"showManualMode",className:e.mediaButton,children:z.jsx(Qie,{fontSize:"small",className:e.mediaicon})}),z.jsx(Gr,{id:"commandManualMission",style:{visibility:!0},className:e.mediaButton,children:z.jsx(eoe,{fontSize:"small",className:e.mediaicon})})]})})};var zj={},VNe=ii;Object.defineProperty(zj,"__esModule",{value:!0});var pf=zj.default=void 0,WNe=VNe(fi()),HNe=z;pf=zj.default=(0,WNe.default)((0,HNe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const GNe=Qr(t=>({title:{fontWeight:700,fontSize:"16px",textAlign:"left",marginTop:0,marginBottom:"6px",width:"300px",height:"18px"},mediaButton:{color:"#fff",mixBlendMode:"difference",right:0,top:0},description:{margin:0,textAlign:"left",fontSize:"12px",paddingLeft:"1rem"},toast:{height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(.5,1,0,2)},card:{pointerEvents:"auto",height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},root:{pointerEvents:"none",position:"fixed",zIndex:5,bottom:"1rem",right:"1rem"}})),qNe=({toastlist:t,position:e,setList:n})=>{const r=GNe(),i=V.useCallback(o=>{const a=t.filter(s=>s.id!==o);n(a)},[t,n]);return V.useEffect(()=>{const o=setInterval(()=>{t.length&&i(t[0].id)},3e3);return()=>{clearInterval(o)}},[t,i]),z.jsx("div",{className:r.root,children:t.map((o,a)=>z.jsxs(xf,{elevation:3,className:r.card,style:{backgroundColor:o.backgroundColor},children:[z.jsxs("div",{className:r.header,children:[z.jsx(_n,{variant:"body2",children:o.title}),z.jsx(gr,{size:"small",onClick:()=>i(o.id),onTouchStart:()=>i(o.id),children:z.jsx(pf,{fontSize:"small",className:r.mediaButton})})]}),z.jsx("div",{children:z.jsx("p",{className:r.description,children:o.description})})]}))})};var Bj={},YNe=ii;Object.defineProperty(Bj,"__esModule",{value:!0});var Da=Bj.default=void 0,XNe=YNe(fi()),KNe=z;Da=Bj.default=(0,XNe.default)((0,KNe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const Ju=({label:t,fullWidth:e,multiple:n,value:r,emptyValue:i=0,emptyTitle:o=" ",onChange:a,endpoint:s,data:l,keyGetter:c=g=>g.id,titleGetter:h=g=>g.name,getItems:p=g=>g})=>{const[g,v]=V.useState(l);return _y(async()=>{if(s){const x=await fetch(s);if(x.ok)v(await x.json());else throw Error(await x.text())}},[]),V.useEffect(()=>{typeof g<"u"&&p(g[r])},[g]),g?z.jsxs(fE,{fullWidth:e,children:[z.jsx(hE,{children:t}),z.jsxs(pE,{label:t,multiple:n,value:r,onChange:x=>a(x,g),children:[!n&&i!==null&&z.jsx(lu,{value:i,children:o}),g.map(x=>z.jsx(lu,{value:c(x),children:h(x)},c(x)))]})]}):null};var Fj={},ZNe=ii;Object.defineProperty(Fj,"__esModule",{value:!0});var yu=Fj.default=void 0,JNe=ZNe(fi()),QNe=z;yu=Fj.default=(0,JNe.default)((0,QNe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const eze=Qr(t=>({root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},card:{pointerEvents:"auto",display:"block",width:"400px",height:"70vh",transitionDuration:"0.3s",overflowY:"auto"},mediaButton:{color:t.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1,1,0,2)},button:{width:"80%",paddingBottom:"10pt",paddingTop:"10pt"},formControl:{margin:t.spacing(1),gap:t.spacing(2),paddingBottom:"20pt"},inputtext:{paddingBottom:"20px"},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)},title:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"20pt",textAlign:"left"},closeBtn:{display:"flex",right:"5px",height:"35px",position:"absolute"},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),tze=({SetAddUAVOpen:t})=>{const e=eze(),n=V.useContext(uy),[r,i]=V.useState({name:"uav_",category:"dji_M210_noetic",ip:"10.42.0.42",camera:[]});function o(){t(!1)}function a(){console.log("add uav-"+r.name+"-"+r.category),console.log(r),n.connectAddUav(r),t(!1)}const s=c=>{let h=JSON.parse(JSON.stringify(r.camera));h.splice(c,1),i({...r,camera:h})};function l(){let c=JSON.parse(JSON.stringify(r.camera));c.push({type:"WebRTC",source:""}),i({...r,camera:c})}return z.jsx("div",{className:e.root,children:z.jsxs(xf,{elevation:3,className:e.card,children:[z.jsx("div",{className:e.closeBtn,children:z.jsx(gr,{size:"small",onClick:o,onTouchStart:o,children:z.jsx(pf,{fontSize:"small",className:e.mediaButton})})}),z.jsx("b",{children:z.jsx("div",{className:e.title,children:"Add device "})}),z.jsxs(pl,{defaultExpanded:!0,children:[z.jsx(gl,{expandIcon:z.jsx(Da,{}),children:z.jsx(_n,{variant:"subtitle1",children:"Datos UAV"})}),z.jsx(ml,{className:e.details,children:z.jsxs(WCe,{style:{margin:"20px"},children:[z.jsx(yi,{required:!0,label:"UAV ID",name:"uavid",value:r.name,onChange:c=>i({...r,name:c.target.value}),className:e.inputtext}),z.jsx(Ju,{emptyValue:null,value:r.category?r.category:"",onChange:c=>i({...r,category:c.target.value}),endpoint:"/api/category",keyGetter:c=>c,titleGetter:c=>c,label:"Type UAV "}),z.jsx(yi,{style:{marginTop:"20px"},label:"ip",value:r.ip,onChange:c=>i({...r,ip:c.target.value})})]})})]}),r&&z.jsxs(pl,{children:[z.jsx(gl,{expandIcon:z.jsx(Da,{}),children:z.jsx(_n,{variant:"subtitle1",children:"Camera"})}),z.jsxs(ml,{className:e.details,children:[r.camera&&r.camera.map((c,h,p)=>z.jsxs(V.Fragment,{children:[z.jsx(_n,{variant:"subtitle1",className:e.attributeName,children:"Camera "+h}),z.jsxs("div",{children:[z.jsxs(fE,{variant:"outlined",children:[z.jsx(hE,{id:"demo-simple-select-outlined-label",children:"CameraType"}),z.jsxs(pE,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:c.type,label:"type",onChange:g=>i({...r,camera:r.camera.map((v,x)=>{let _=JSON.parse(JSON.stringify(v));return h==x&&(_.type=g.target.value),_})}),children:[z.jsx(lu,{value:"WebRTC",children:"WebRTC"}),z.jsx(lu,{value:"WebRTC_env",children:"WebRTCenv"}),z.jsx(lu,{value:"Websocket",children:"Websocket"})]})]}),z.jsx("div",{className:e.actionValue,children:z.jsx(yi,{required:!0,fullWidth:!0,value:c.source,onChange:g=>i({...r,camera:r.camera.map((v,x)=>{let _=JSON.parse(JSON.stringify(v));return h==x&&(_.source=g.target.value),_})})})}),z.jsx(gr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>s(h),className:e.negative,children:z.jsx(yu,{})})]}),z.jsx(D0,{})]},"fragment-action-"+h)),z.jsx(Gr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:l,children:"Add camera source"})]})]}),z.jsx("div",{style:{paddingBottom:"20pt",paddingTop:"20pt",display:"flex",justifyContent:"center"},children:z.jsx(Gr,{className:e.button,variant:"contained",onClick:a,children:"ADD"})})]})})},XP="/assets/placeholder-IqVYhB-0.jpg";var $j={},nze=ii;Object.defineProperty($j,"__esModule",{value:!0});var jj=$j.default=void 0,rze=nze(fi()),ize=z;jj=$j.default=(0,rze.default)((0,ize.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z"}),"ZoomOutMap");const oze=Qr(t=>({card:{pointerEvents:"auto",width:t.dimensions.popupMaxWidth},card_max:{pointerEvents:"auto",width:"100%"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:t.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:t.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)",width:"55%"}})),sze=({deviceId:t,datacamera:e,onClose:n})=>{const r=oze(),[i,o]=V.useState(XP),a=xr(g=>g.devices.items[t]),[s,l]=V.useState(!1);let c=s?r.card_max:r.card,h=s?r.root_max:r.root;function p(){l(!s)}return V.useEffect(()=>{t!=null&&(e!=null?o("data:image/bgr8;base64,"+e.camera):o(XP))},[e]),z.jsx("div",{className:h,children:a&&z.jsxs(xf,{elevation:3,className:c,children:[z.jsxs("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:[z.jsx(gr,{size:"small",onClick:p,onTouchStart:p,children:z.jsx(jj,{fontSize:"small",className:r.mediaButton})}),z.jsx(gr,{size:"small",onClick:()=>{n(),l(!1)},onTouchStart:n,children:z.jsx(pf,{fontSize:"small",className:r.mediaButton})})]}),z.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},children:["Image "+a.name," "]}),z.jsx("img",{src:i,className:r.media})]})})};var t7=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function aze(t,e){return!!(t===e||t7(t)&&t7(e))}function lze(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!aze(t[n],e[n]))return!1;return!0}function f3(t,e){e===void 0&&(e=lze);var n,r=[],i,o=!1;function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return o&&n===this&&e(s,r)||(i=t.apply(this,s),o=!0,n=this,r=s),i}return a}var cze=typeof performance=="object"&&typeof performance.now=="function",n7=cze?function(){return performance.now()}:function(){return Date.now()};function r7(t){cancelAnimationFrame(t.id)}function uze(t,e){var n=n7();function r(){n7()-n>=e?t.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var h3=-1;function i7(t){if(t===void 0&&(t=!1),h3===-1||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),h3=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return h3}var Lx=null;function o7(t){if(t===void 0&&(t=!1),Lx===null||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Lx="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Lx="negative":Lx="positive-ascending"),document.body.removeChild(e),Lx}return Lx}var dze=150,fze=function(e,n){return e};function hze(t){var e,n=t.getItemOffset,r=t.getEstimatedTotalSize,i=t.getItemSize,o=t.getOffsetForIndexAndAlignment,a=t.getStartIndexForOffset,s=t.getStopIndexForStartIndex,l=t.initInstanceProps,c=t.shouldResetStyleCacheOnItemSizeChange,h=t.validateProps;return e=function(p){cE(g,p);function g(x){var _;return _=p.call(this,x)||this,_._instanceProps=l(_.props,IM(_)),_._outerRef=void 0,_._resetIsScrollingTimeoutId=null,_.state={instance:IM(_),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof _.props.initialScrollOffset=="number"?_.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},_._callOnItemsRendered=void 0,_._callOnItemsRendered=f3(function(S,w,C,T){return _.props.onItemsRendered({overscanStartIndex:S,overscanStopIndex:w,visibleStartIndex:C,visibleStopIndex:T})}),_._callOnScroll=void 0,_._callOnScroll=f3(function(S,w,C){return _.props.onScroll({scrollDirection:S,scrollOffset:w,scrollUpdateWasRequested:C})}),_._getItemStyle=void 0,_._getItemStyle=function(S){var w=_.props,C=w.direction,T=w.itemSize,k=w.layout,R=_._getItemStyleCache(c&&T,c&&k,c&&C),L;if(R.hasOwnProperty(S))L=R[S];else{var F=n(_.props,S,_._instanceProps),H=i(_.props,S,_._instanceProps),Z=C==="horizontal"||k==="horizontal",j=C==="rtl",X=Z?F:0;R[S]=L={position:"absolute",left:j?void 0:X,right:j?X:void 0,top:Z?0:F,height:Z?"100%":H,width:Z?H:"100%"}}return L},_._getItemStyleCache=void 0,_._getItemStyleCache=f3(function(S,w,C){return{}}),_._onScrollHorizontal=function(S){var w=S.currentTarget,C=w.clientWidth,T=w.scrollLeft,k=w.scrollWidth;_.setState(function(R){if(R.scrollOffset===T)return null;var L=_.props.direction,F=T;if(L==="rtl")switch(o7()){case"negative":F=-T;break;case"positive-descending":F=k-C-T;break}return F=Math.max(0,Math.min(F,k-C)),{isScrolling:!0,scrollDirection:R.scrollOffset<F?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!1}},_._resetIsScrollingDebounced)},_._onScrollVertical=function(S){var w=S.currentTarget,C=w.clientHeight,T=w.scrollHeight,k=w.scrollTop;_.setState(function(R){if(R.scrollOffset===k)return null;var L=Math.max(0,Math.min(k,T-C));return{isScrolling:!0,scrollDirection:R.scrollOffset<L?"forward":"backward",scrollOffset:L,scrollUpdateWasRequested:!1}},_._resetIsScrollingDebounced)},_._outerRefSetter=function(S){var w=_.props.outerRef;_._outerRef=S,typeof w=="function"?w(S):w!=null&&typeof w=="object"&&w.hasOwnProperty("current")&&(w.current=S)},_._resetIsScrollingDebounced=function(){_._resetIsScrollingTimeoutId!==null&&r7(_._resetIsScrollingTimeoutId),_._resetIsScrollingTimeoutId=uze(_._resetIsScrolling,dze)},_._resetIsScrolling=function(){_._resetIsScrollingTimeoutId=null,_.setState({isScrolling:!1},function(){_._getItemStyleCache(-1,null)})},_}g.getDerivedStateFromProps=function(_,S){return pze(_,S),h(_),null};var v=g.prototype;return v.scrollTo=function(_){_=Math.max(0,_),this.setState(function(S){return S.scrollOffset===_?null:{scrollDirection:S.scrollOffset<_?"forward":"backward",scrollOffset:_,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},v.scrollToItem=function(_,S){S===void 0&&(S="auto");var w=this.props,C=w.itemCount,T=w.layout,k=this.state.scrollOffset;_=Math.max(0,Math.min(_,C-1));var R=0;if(this._outerRef){var L=this._outerRef;T==="vertical"?R=L.scrollWidth>L.clientWidth?i7():0:R=L.scrollHeight>L.clientHeight?i7():0}this.scrollTo(o(this.props,_,S,k,this._instanceProps,R))},v.componentDidMount=function(){var _=this.props,S=_.direction,w=_.initialScrollOffset,C=_.layout;if(typeof w=="number"&&this._outerRef!=null){var T=this._outerRef;S==="horizontal"||C==="horizontal"?T.scrollLeft=w:T.scrollTop=w}this._callPropsCallbacks()},v.componentDidUpdate=function(){var _=this.props,S=_.direction,w=_.layout,C=this.state,T=C.scrollOffset,k=C.scrollUpdateWasRequested;if(k&&this._outerRef!=null){var R=this._outerRef;if(S==="horizontal"||w==="horizontal")if(S==="rtl")switch(o7()){case"negative":R.scrollLeft=-T;break;case"positive-ascending":R.scrollLeft=T;break;default:var L=R.clientWidth,F=R.scrollWidth;R.scrollLeft=F-L-T;break}else R.scrollLeft=T;else R.scrollTop=T}this._callPropsCallbacks()},v.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&r7(this._resetIsScrollingTimeoutId)},v.render=function(){var _=this.props,S=_.children,w=_.className,C=_.direction,T=_.height,k=_.innerRef,R=_.innerElementType,L=_.innerTagName,F=_.itemCount,H=_.itemData,Z=_.itemKey,j=Z===void 0?fze:Z,X=_.layout,le=_.outerElementType,me=_.outerTagName,ie=_.style,ce=_.useIsScrolling,fe=_.width,xe=this.state.isScrolling,te=C==="horizontal"||X==="horizontal",he=te?this._onScrollHorizontal:this._onScrollVertical,ve=this._getRangeToRender(),ze=ve[0],Ue=ve[1],rt=[];if(F>0)for(var Fe=ze;Fe<=Ue;Fe++)rt.push(V.createElement(S,{data:H,key:j(Fe,H),index:Fe,isScrolling:ce?xe:void 0,style:this._getItemStyle(Fe)}));var st=r(this.props,this._instanceProps);return V.createElement(le||me||"div",{className:w,onScroll:he,ref:this._outerRefSetter,style:de({position:"relative",height:T,width:fe,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:C},ie)},V.createElement(R||L||"div",{children:rt,ref:k,style:{height:te?"100%":st,pointerEvents:xe?"none":void 0,width:te?st:"100%"}}))},v._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var _=this.props.itemCount;if(_>0){var S=this._getRangeToRender(),w=S[0],C=S[1],T=S[2],k=S[3];this._callOnItemsRendered(w,C,T,k)}}if(typeof this.props.onScroll=="function"){var R=this.state,L=R.scrollDirection,F=R.scrollOffset,H=R.scrollUpdateWasRequested;this._callOnScroll(L,F,H)}},v._getRangeToRender=function(){var _=this.props,S=_.itemCount,w=_.overscanCount,C=this.state,T=C.isScrolling,k=C.scrollDirection,R=C.scrollOffset;if(S===0)return[0,0,0,0];var L=a(this.props,R,this._instanceProps),F=s(this.props,L,R,this._instanceProps),H=!T||k==="backward"?Math.max(1,w):1,Z=!T||k==="forward"?Math.max(1,w):1;return[Math.max(0,L-H),Math.max(0,Math.min(S-1,F+Z)),L,F]},g}(V.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var pze=function(e,n){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,n.instance},mze=hze({getItemOffset:function(e,n){var r=e.itemSize;return n*r},getItemSize:function(e,n){var r=e.itemSize;return r},getEstimatedTotalSize:function(e){var n=e.itemCount,r=e.itemSize;return r*n},getOffsetForIndexAndAlignment:function(e,n,r,i,o,a){var s=e.direction,l=e.height,c=e.itemCount,h=e.itemSize,p=e.layout,g=e.width,v=s==="horizontal"||p==="horizontal",x=v?g:l,_=Math.max(0,c*h-x),S=Math.min(_,n*h),w=Math.max(0,n*h-x+h+a);switch(r==="smart"&&(i>=w-x&&i<=S+x?r="auto":r="center"),r){case"start":return S;case"end":return w;case"center":{var C=Math.round(w+(S-w)/2);return C<Math.ceil(x/2)?0:C>_+Math.floor(x/2)?_:C}case"auto":default:return i>=w&&i<=S?i:i<w?w:S}},getStartIndexForOffset:function(e,n){var r=e.itemCount,i=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(e,n,r){var i=e.direction,o=e.height,a=e.itemCount,s=e.itemSize,l=e.layout,c=e.width,h=i==="horizontal"||l==="horizontal",p=n*s,g=h?c:o,v=Math.ceil((g+r-p)/s);return Math.max(0,Math.min(a-1,n+v-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});let ad;typeof window<"u"?ad=window:typeof self<"u"?ad=self:ad=global;let FB=null,$B=null;const s7=20,p3=ad.clearTimeout,a7=ad.setTimeout,m3=ad.cancelAnimationFrame||ad.mozCancelAnimationFrame||ad.webkitCancelAnimationFrame,l7=ad.requestAnimationFrame||ad.mozRequestAnimationFrame||ad.webkitRequestAnimationFrame;m3==null||l7==null?(FB=p3,$B=function(e){return a7(e,s7)}):(FB=function([e,n]){m3(e),p3(n)},$B=function(e){const n=l7(function(){p3(r),e()}),r=a7(function(){m3(n),e()},s7);return[n,r]});function gze(t){let e,n,r,i,o,a,s;const l=typeof document<"u"&&document.attachEvent;if(!l){a=function(w){const C=w.__resizeTriggers__,T=C.firstElementChild,k=C.lastElementChild,R=T.firstElementChild;k.scrollLeft=k.scrollWidth,k.scrollTop=k.scrollHeight,R.style.width=T.offsetWidth+1+"px",R.style.height=T.offsetHeight+1+"px",T.scrollLeft=T.scrollWidth,T.scrollTop=T.scrollHeight},o=function(w){return w.offsetWidth!==w.__resizeLast__.width||w.offsetHeight!==w.__resizeLast__.height},s=function(w){if(w.target.className&&typeof w.target.className.indexOf=="function"&&w.target.className.indexOf("contract-trigger")<0&&w.target.className.indexOf("expand-trigger")<0)return;const C=this;a(this),this.__resizeRAF__&&FB(this.__resizeRAF__),this.__resizeRAF__=$B(function(){o(C)&&(C.__resizeLast__.width=C.offsetWidth,C.__resizeLast__.height=C.offsetHeight,C.__resizeListeners__.forEach(function(R){R.call(C,w)}))})};let g=!1,v="";r="animationstart";const x="Webkit Moz O ms".split(" ");let _="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),S="";{const w=document.createElement("fakeelement");if(w.style.animationName!==void 0&&(g=!0),g===!1){for(let C=0;C<x.length;C++)if(w.style[x[C]+"AnimationName"]!==void 0){S=x[C],v="-"+S.toLowerCase()+"-",r=_[C],g=!0;break}}}n="resizeanim",e="@"+v+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=v+"animation: 1ms "+n+"; "}const c=function(g){if(!g.getElementById("detectElementResize")){const v=(e||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',x=g.head||g.getElementsByTagName("head")[0],_=g.createElement("style");_.id="detectElementResize",_.type="text/css",t!=null&&_.setAttribute("nonce",t),_.styleSheet?_.styleSheet.cssText=v:_.appendChild(g.createTextNode(v)),x.appendChild(_)}};return{addResizeListener:function(g,v){if(l)g.attachEvent("onresize",v);else{if(!g.__resizeTriggers__){const x=g.ownerDocument,_=ad.getComputedStyle(g);_&&_.position==="static"&&(g.style.position="relative"),c(x),g.__resizeLast__={},g.__resizeListeners__=[],(g.__resizeTriggers__=x.createElement("div")).className="resize-triggers";const S=x.createElement("div");S.className="expand-trigger",S.appendChild(x.createElement("div"));const w=x.createElement("div");w.className="contract-trigger",g.__resizeTriggers__.appendChild(S),g.__resizeTriggers__.appendChild(w),g.appendChild(g.__resizeTriggers__),a(g),g.addEventListener("scroll",s,!0),r&&(g.__resizeTriggers__.__animationListener__=function(T){T.animationName===n&&a(g)},g.__resizeTriggers__.addEventListener(r,g.__resizeTriggers__.__animationListener__))}g.__resizeListeners__.push(v)}},removeResizeListener:function(g,v){if(l)g.detachEvent("onresize",v);else if(g.__resizeListeners__.splice(g.__resizeListeners__.indexOf(v),1),!g.__resizeListeners__.length){g.removeEventListener("scroll",s,!0),g.__resizeTriggers__.__animationListener__&&(g.__resizeTriggers__.removeEventListener(r,g.__resizeTriggers__.__animationListener__),g.__resizeTriggers__.__animationListener__=null);try{g.__resizeTriggers__=!g.removeChild(g.__resizeTriggers__)}catch{}}}}}class yze extends V.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:i}=this.props;if(this._parentNode){var o,a,s,l;const c=window.getComputedStyle(this._parentNode)||{},h=parseFloat((o=c.paddingLeft)!==null&&o!==void 0?o:"0"),p=parseFloat((a=c.paddingRight)!==null&&a!==void 0?a:"0"),g=parseFloat((s=c.paddingTop)!==null&&s!==void 0?s:"0"),v=parseFloat((l=c.paddingBottom)!==null&&l!==void 0?l:"0"),x=this._parentNode.getBoundingClientRect(),_=x.height-g-v,S=x.width-h-p,w=this._parentNode.offsetHeight-g-v,C=this._parentNode.offsetWidth-h-p;(!n&&(this.state.height!==w||this.state.scaledHeight!==_)||!r&&(this.state.width!==C||this.state.scaledWidth!==S))&&(this.setState({height:w,width:C,scaledHeight:_,scaledWidth:S}),typeof i=="function"&&i({height:w,scaledHeight:_,scaledWidth:S,width:C}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:e}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=gze(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:e,defaultHeight:n,defaultWidth:r,disableHeight:i=!1,disableWidth:o=!1,nonce:a,onResize:s,style:l={},tagName:c="div",...h}=this.props,{height:p,scaledHeight:g,scaledWidth:v,width:x}=this.state,_={overflow:"visible"},S={};let w=!1;return i||(p===0&&(w=!0),_.height=0,S.height=p,S.scaledHeight=g),o||(x===0&&(w=!0),_.width=0,S.width=x,S.scaledWidth=v),V.createElement(c,{ref:this._setRef,style:{..._,...l},...h},!w&&e(S))}}var Uj={},vze=ii;Object.defineProperty(Uj,"__esModule",{value:!0});var toe=Uj.default=void 0,xze=vze(fi()),_ze=z;toe=Uj.default=(0,xze.default)((0,_ze.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4"}),"BatteryFull");var Vj={},bze=ii;Object.defineProperty(Vj,"__esModule",{value:!0});var noe=Vj.default=void 0,wze=bze(fi()),Sze=z;noe=Vj.default=(0,wze.default)((0,Sze.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4M11 20v-5.5H9L13 7v5.5h2z"}),"BatteryChargingFull");var Wj={},Mze=ii;Object.defineProperty(Wj,"__esModule",{value:!0});var roe=Wj.default=void 0,Eze=Cze(V),Tze=Mze(fi()),g3=z;function ioe(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(ioe=function(r){return r?n:e})(t)}function Cze(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=ioe(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}roe=Wj.default=(0,Tze.default)((0,g3.jsxs)(Eze.Fragment,{children:[(0,g3.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"}),(0,g3.jsx)("path",{d:"M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"})]}),"Battery60");var Hj={},Aze=ii;Object.defineProperty(Hj,"__esModule",{value:!0});var ooe=Hj.default=void 0,Pze=kze(V),Ize=Aze(fi()),y3=z;function soe(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(soe=function(r){return r?n:e})(t)}function kze(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=soe(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}ooe=Hj.default=(0,Ize.default)((0,y3.jsxs)(Pze.Fragment,{children:[(0,y3.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"}),(0,y3.jsx)("path",{d:"M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"})]}),"BatteryCharging60");var Gj={},Rze=ii;Object.defineProperty(Gj,"__esModule",{value:!0});var aoe=Gj.default=void 0,Oze=Dze(V),Lze=Rze(fi()),v3=z;function loe(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(loe=function(r){return r?n:e})(t)}function Dze(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=loe(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}aoe=Gj.default=(0,Lze.default)((0,v3.jsxs)(Oze.Fragment,{children:[(0,v3.jsx)("path",{d:"M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"}),(0,v3.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"})]}),"Battery20");var qj={},Nze=ii;Object.defineProperty(qj,"__esModule",{value:!0});var coe=qj.default=void 0,zze=Fze(V),Bze=Nze(fi()),x3=z;function uoe(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(uoe=function(r){return r?n:e})(t)}function Fze(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=uoe(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}coe=qj.default=(0,Bze.default)((0,x3.jsxs)(zze.Fragment,{children:[(0,x3.jsx)("path",{d:"M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"}),(0,x3.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"})]}),"BatteryCharging20");var Yj={},$ze=ii;Object.defineProperty(Yj,"__esModule",{value:!0});var doe=Yj.default=void 0,jze=$ze(fi()),Uze=z;doe=Yj.default=(0,jze.default)((0,Uze.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var foe;function Dn(){return foe.apply(null,arguments)}function Vze(t){foe=t}function mf(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function g0(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function vi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xj(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(vi(t,e))return!1;return!0}function yc(t){return t===void 0}function Xp(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function SE(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function hoe(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Dg(t,e){for(var n in e)vi(e,n)&&(t[n]=e[n]);return vi(e,"toString")&&(t.toString=e.toString),vi(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Dh(t,e,n,r){return zoe(t,e,n,r,!0).utc()}function Wze(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Fr(t){return t._pf==null&&(t._pf=Wze()),t._pf}var jB;Array.prototype.some?jB=Array.prototype.some:jB=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function Kj(t){if(t._isValid==null){var e=Fr(t),n=jB.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function NR(t){var e=Dh(NaN);return t!=null?Dg(Fr(e),t):Fr(e).userInvalidated=!0,e}var c7=Dn.momentProperties=[],_3=!1;function Zj(t,e){var n,r,i,o=c7.length;if(yc(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),yc(e._i)||(t._i=e._i),yc(e._f)||(t._f=e._f),yc(e._l)||(t._l=e._l),yc(e._strict)||(t._strict=e._strict),yc(e._tzm)||(t._tzm=e._tzm),yc(e._isUTC)||(t._isUTC=e._isUTC),yc(e._offset)||(t._offset=e._offset),yc(e._pf)||(t._pf=Fr(e)),yc(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)r=c7[n],i=e[r],yc(i)||(t[r]=i);return t}function ME(t){Zj(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_3===!1&&(_3=!0,Dn.updateOffset(this),_3=!1)}function gf(t){return t instanceof ME||t!=null&&t._isAMomentObject!=null}function poe(t){Dn.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function _d(t,e){var n=!0;return Dg(function(){if(Dn.deprecationHandler!=null&&Dn.deprecationHandler(null,t),n){var r=[],i,o,a,s=arguments.length;for(o=0;o<s;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(a in arguments[0])vi(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}poe(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var u7={};function moe(t,e){Dn.deprecationHandler!=null&&Dn.deprecationHandler(t,e),u7[t]||(poe(e),u7[t]=!0)}Dn.suppressDeprecationWarnings=!1;Dn.deprecationHandler=null;function Nh(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Hze(t){var e,n;for(n in t)vi(t,n)&&(e=t[n],Nh(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function UB(t,e){var n=Dg({},t),r;for(r in e)vi(e,r)&&(g0(t[r])&&g0(e[r])?(n[r]={},Dg(n[r],t[r]),Dg(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)vi(t,r)&&!vi(e,r)&&g0(t[r])&&(n[r]=Dg({},n[r]));return n}function Jj(t){t!=null&&this.set(t)}var VB;Object.keys?VB=Object.keys:VB=function(t){var e,n=[];for(e in t)vi(t,e)&&n.push(e);return n};var Gze={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function qze(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Nh(r)?r.call(e,n):r}function Ih(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Qj=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,tC=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,b3={},rb={};function ur(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(rb[t]=i),e&&(rb[e[0]]=function(){return Ih(i.apply(this,arguments),e[1],e[2])}),n&&(rb[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Yze(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Xze(t){var e=t.match(Qj),n,r;for(n=0,r=e.length;n<r;n++)rb[e[n]]?e[n]=rb[e[n]]:e[n]=Yze(e[n]);return function(i){var o="",a;for(a=0;a<r;a++)o+=Nh(e[a])?e[a].call(i,t):e[a];return o}}function zA(t,e){return t.isValid()?(e=goe(e,t.localeData()),b3[e]=b3[e]||Xze(e),b3[e](t)):t.localeData().invalidDate()}function goe(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(tC.lastIndex=0;n>=0&&tC.test(t);)t=t.replace(tC,r),tC.lastIndex=0,n-=1;return t}var Kze={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Zze(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Qj).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Jze="Invalid date";function Qze(){return this._invalidDate}var eBe="%d",tBe=/\d{1,2}/;function nBe(t){return this._ordinal.replace("%d",t)}var rBe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function iBe(t,e,n,r){var i=this._relativeTime[n];return Nh(i)?i(t,e,n,r):i.replace(/%d/i,t)}function oBe(t,e){var n=this._relativeTime[t>0?"future":"past"];return Nh(n)?n(e):n.replace(/%s/i,e)}var HS={};function bl(t,e){var n=t.toLowerCase();HS[n]=HS[n+"s"]=HS[e]=t}function bd(t){return typeof t=="string"?HS[t]||HS[t.toLowerCase()]:void 0}function eU(t){var e={},n,r;for(r in t)vi(t,r)&&(n=bd(r),n&&(e[n]=t[r]));return e}var yoe={};function wl(t,e){yoe[t]=e}function sBe(t){var e=[],n;for(n in t)vi(t,n)&&e.push({unit:n,priority:yoe[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function zR(t){return t%4===0&&t%100!==0||t%400===0}function Qu(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function qr(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Qu(e)),n}function T1(t,e){return function(n){return n!=null?(voe(this,t,n),Dn.updateOffset(this,e),this):KP(this,t)}}function KP(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function voe(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&zR(t.year())&&t.month()===1&&t.date()===29?(n=qr(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),VR(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function aBe(t){return t=bd(t),Nh(this[t])?this[t]():this}function lBe(t,e){if(typeof t=="object"){t=eU(t);var n=sBe(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=bd(t),Nh(this[t]))return this[t](e);return this}var xoe=/\d/,Su=/\d\d/,_oe=/\d{3}/,tU=/\d{4}/,BR=/[+-]?\d{6}/,Eo=/\d\d?/,boe=/\d\d\d\d?/,woe=/\d\d\d\d\d\d?/,FR=/\d{1,3}/,nU=/\d{1,4}/,$R=/[+-]?\d{1,6}/,C1=/\d+/,jR=/[+-]?\d+/,cBe=/Z|[+-]\d\d:?\d\d/gi,UR=/Z|[+-]\d\d(?::?\d\d)?/gi,uBe=/[+-]?\d+(\.\d{1,3})?/,EE=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ZP;ZP={};function qn(t,e,n){ZP[t]=Nh(e)?e:function(r,i){return r&&n?n:e}}function dBe(t,e){return vi(ZP,t)?ZP[t](e._strict,e._locale):new RegExp(fBe(t))}function fBe(t){return Jc(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,o){return n||r||i||o}))}function Jc(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var WB={};function eo(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Xp(e)&&(r=function(o,a){a[e]=qr(o)}),i=t.length,n=0;n<i;n++)WB[t[n]]=r}function TE(t,e){eo(t,function(n,r,i,o){i._w=i._w||{},e(n,i._w,i,o)})}function hBe(t,e,n){e!=null&&vi(WB,t)&&WB[t](e,n._a,n,t)}var vl=0,Cp=1,dh=2,ea=3,lf=4,Ap=5,e0=6,pBe=7,mBe=8;function gBe(t,e){return(t%e+e)%e}var vs;Array.prototype.indexOf?vs=Array.prototype.indexOf:vs=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function VR(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=gBe(e,12);return t+=(e-n)/12,n===1?zR(t)?29:28:31-n%7%2}ur("M",["MM",2],"Mo",function(){return this.month()+1});ur("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});ur("MMMM",0,0,function(t){return this.localeData().months(this,t)});bl("month","M");wl("month",8);qn("M",Eo);qn("MM",Eo,Su);qn("MMM",function(t,e){return e.monthsShortRegex(t)});qn("MMMM",function(t,e){return e.monthsRegex(t)});eo(["M","MM"],function(t,e){e[Cp]=qr(t)-1});eo(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Cp]=i:Fr(n).invalidMonth=t});var yBe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Soe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Moe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,vBe=EE,xBe=EE;function _Be(t,e){return t?mf(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Moe).test(e)?"format":"standalone"][t.month()]:mf(this._months)?this._months:this._months.standalone}function bBe(t,e){return t?mf(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Moe.test(e)?"format":"standalone"][t.month()]:mf(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function wBe(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=Dh([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(i=vs.call(this._shortMonthsParse,a),i!==-1?i:null):(i=vs.call(this._longMonthsParse,a),i!==-1?i:null):e==="MMM"?(i=vs.call(this._shortMonthsParse,a),i!==-1?i:(i=vs.call(this._longMonthsParse,a),i!==-1?i:null)):(i=vs.call(this._longMonthsParse,a),i!==-1?i:(i=vs.call(this._shortMonthsParse,a),i!==-1?i:null))}function SBe(t,e,n){var r,i,o;if(this._monthsParseExact)return wBe.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Dh([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function Eoe(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=qr(e);else if(e=t.localeData().monthsParse(e),!Xp(e))return t}return n=Math.min(t.date(),VR(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Toe(t){return t!=null?(Eoe(this,t),Dn.updateOffset(this,!0),this):KP(this,"Month")}function MBe(){return VR(this.year(),this.month())}function EBe(t){return this._monthsParseExact?(vi(this,"_monthsRegex")||Coe.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(vi(this,"_monthsShortRegex")||(this._monthsShortRegex=vBe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function TBe(t){return this._monthsParseExact?(vi(this,"_monthsRegex")||Coe.call(this),t?this._monthsStrictRegex:this._monthsRegex):(vi(this,"_monthsRegex")||(this._monthsRegex=xBe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Coe(){function t(a,s){return s.length-a.length}var e=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=Dh([2e3,i]),e.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=Jc(e[i]),n[i]=Jc(n[i]);for(i=0;i<24;i++)r[i]=Jc(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}ur("Y",0,0,function(){var t=this.year();return t<=9999?Ih(t,4):"+"+t});ur(0,["YY",2],0,function(){return this.year()%100});ur(0,["YYYY",4],0,"year");ur(0,["YYYYY",5],0,"year");ur(0,["YYYYYY",6,!0],0,"year");bl("year","y");wl("year",1);qn("Y",jR);qn("YY",Eo,Su);qn("YYYY",nU,tU);qn("YYYYY",$R,BR);qn("YYYYYY",$R,BR);eo(["YYYYY","YYYYYY"],vl);eo("YYYY",function(t,e){e[vl]=t.length===2?Dn.parseTwoDigitYear(t):qr(t)});eo("YY",function(t,e){e[vl]=Dn.parseTwoDigitYear(t)});eo("Y",function(t,e){e[vl]=parseInt(t,10)});function GS(t){return zR(t)?366:365}Dn.parseTwoDigitYear=function(t){return qr(t)+(qr(t)>68?1900:2e3)};var Aoe=T1("FullYear",!0);function CBe(){return zR(this.year())}function ABe(t,e,n,r,i,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}function BM(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function JP(t,e,n){var r=7+e-n,i=(7+BM(t,0,r).getUTCDay()-e)%7;return-i+r-1}function Poe(t,e,n,r,i){var o=(7+n-r)%7,a=JP(t,r,i),s=1+7*(e-1)+o+a,l,c;return s<=0?(l=t-1,c=GS(l)+s):s>GS(t)?(l=t+1,c=s-GS(t)):(l=t,c=s),{year:l,dayOfYear:c}}function FM(t,e,n){var r=JP(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,o,a;return i<1?(a=t.year()-1,o=i+Np(a,e,n)):i>Np(t.year(),e,n)?(o=i-Np(t.year(),e,n),a=t.year()+1):(a=t.year(),o=i),{week:o,year:a}}function Np(t,e,n){var r=JP(t,e,n),i=JP(t+1,e,n);return(GS(t)-r+i)/7}ur("w",["ww",2],"wo","week");ur("W",["WW",2],"Wo","isoWeek");bl("week","w");bl("isoWeek","W");wl("week",5);wl("isoWeek",5);qn("w",Eo);qn("ww",Eo,Su);qn("W",Eo);qn("WW",Eo,Su);TE(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=qr(t)});function PBe(t){return FM(t,this._week.dow,this._week.doy).week}var IBe={dow:0,doy:6};function kBe(){return this._week.dow}function RBe(){return this._week.doy}function OBe(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function LBe(t){var e=FM(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}ur("d",0,"do","day");ur("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});ur("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});ur("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});ur("e",0,0,"weekday");ur("E",0,0,"isoWeekday");bl("day","d");bl("weekday","e");bl("isoWeekday","E");wl("day",11);wl("weekday",11);wl("isoWeekday",11);qn("d",Eo);qn("e",Eo);qn("E",Eo);qn("dd",function(t,e){return e.weekdaysMinRegex(t)});qn("ddd",function(t,e){return e.weekdaysShortRegex(t)});qn("dddd",function(t,e){return e.weekdaysRegex(t)});TE(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Fr(n).invalidWeekday=t});TE(["d","e","E"],function(t,e,n,r){e[r]=qr(t)});function DBe(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function NBe(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function rU(t,e){return t.slice(e,7).concat(t.slice(0,e))}var zBe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ioe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),BBe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),FBe=EE,$Be=EE,jBe=EE;function UBe(t,e){var n=mf(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?rU(n,this._week.dow):t?n[t.day()]:n}function VBe(t){return t===!0?rU(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function WBe(t){return t===!0?rU(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function HBe(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=Dh([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(i=vs.call(this._weekdaysParse,a),i!==-1?i:null):e==="ddd"?(i=vs.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=vs.call(this._minWeekdaysParse,a),i!==-1?i:null):e==="dddd"?(i=vs.call(this._weekdaysParse,a),i!==-1||(i=vs.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=vs.call(this._minWeekdaysParse,a),i!==-1?i:null)):e==="ddd"?(i=vs.call(this._shortWeekdaysParse,a),i!==-1||(i=vs.call(this._weekdaysParse,a),i!==-1)?i:(i=vs.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=vs.call(this._minWeekdaysParse,a),i!==-1||(i=vs.call(this._weekdaysParse,a),i!==-1)?i:(i=vs.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function GBe(t,e,n){var r,i,o;if(this._weekdaysParseExact)return HBe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Dh([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function qBe(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=DBe(t,this.localeData()),this.add(t-e,"d")):e}function YBe(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function XBe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=NBe(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function KBe(t){return this._weekdaysParseExact?(vi(this,"_weekdaysRegex")||iU.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(vi(this,"_weekdaysRegex")||(this._weekdaysRegex=FBe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function ZBe(t){return this._weekdaysParseExact?(vi(this,"_weekdaysRegex")||iU.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(vi(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$Be),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function JBe(t){return this._weekdaysParseExact?(vi(this,"_weekdaysRegex")||iU.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(vi(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jBe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function iU(){function t(h,p){return p.length-h.length}var e=[],n=[],r=[],i=[],o,a,s,l,c;for(o=0;o<7;o++)a=Dh([2e3,1]).day(o),s=Jc(this.weekdaysMin(a,"")),l=Jc(this.weekdaysShort(a,"")),c=Jc(this.weekdays(a,"")),e.push(s),n.push(l),r.push(c),i.push(s),i.push(l),i.push(c);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function oU(){return this.hours()%12||12}function QBe(){return this.hours()||24}ur("H",["HH",2],0,"hour");ur("h",["hh",2],0,oU);ur("k",["kk",2],0,QBe);ur("hmm",0,0,function(){return""+oU.apply(this)+Ih(this.minutes(),2)});ur("hmmss",0,0,function(){return""+oU.apply(this)+Ih(this.minutes(),2)+Ih(this.seconds(),2)});ur("Hmm",0,0,function(){return""+this.hours()+Ih(this.minutes(),2)});ur("Hmmss",0,0,function(){return""+this.hours()+Ih(this.minutes(),2)+Ih(this.seconds(),2)});function koe(t,e){ur(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}koe("a",!0);koe("A",!1);bl("hour","h");wl("hour",13);function Roe(t,e){return e._meridiemParse}qn("a",Roe);qn("A",Roe);qn("H",Eo);qn("h",Eo);qn("k",Eo);qn("HH",Eo,Su);qn("hh",Eo,Su);qn("kk",Eo,Su);qn("hmm",boe);qn("hmmss",woe);qn("Hmm",boe);qn("Hmmss",woe);eo(["H","HH"],ea);eo(["k","kk"],function(t,e,n){var r=qr(t);e[ea]=r===24?0:r});eo(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});eo(["h","hh"],function(t,e,n){e[ea]=qr(t),Fr(n).bigHour=!0});eo("hmm",function(t,e,n){var r=t.length-2;e[ea]=qr(t.substr(0,r)),e[lf]=qr(t.substr(r)),Fr(n).bigHour=!0});eo("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[ea]=qr(t.substr(0,r)),e[lf]=qr(t.substr(r,2)),e[Ap]=qr(t.substr(i)),Fr(n).bigHour=!0});eo("Hmm",function(t,e,n){var r=t.length-2;e[ea]=qr(t.substr(0,r)),e[lf]=qr(t.substr(r))});eo("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[ea]=qr(t.substr(0,r)),e[lf]=qr(t.substr(r,2)),e[Ap]=qr(t.substr(i))});function eFe(t){return(t+"").toLowerCase().charAt(0)==="p"}var tFe=/[ap]\.?m?\.?/i,nFe=T1("Hours",!0);function rFe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var Ooe={calendar:Gze,longDateFormat:Kze,invalidDate:Jze,ordinal:eBe,dayOfMonthOrdinalParse:tBe,relativeTime:rBe,months:yBe,monthsShort:Soe,week:IBe,weekdays:zBe,weekdaysMin:BBe,weekdaysShort:Ioe,meridiemParse:tFe},Po={},jw={},$M;function iFe(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function d7(t){return t&&t.toLowerCase().replace("_","-")}function oFe(t){for(var e=0,n,r,i,o;e<t.length;){for(o=d7(t[e]).split("-"),n=o.length,r=d7(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=WR(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&iFe(o,r)>=n-1)break;n--}e++}return $M}function sFe(t){return t.match("^[^/\\\\]*$")!=null}function WR(t){var e=null,n;if(Po[t]===void 0&&typeof KA<"u"&&KA&&KA.exports&&sFe(t))try{e=$M._abbr,n=require,n("./locale/"+t),Zg(e)}catch{Po[t]=null}return Po[t]}function Zg(t,e){var n;return t&&(yc(e)?n=am(t):n=sU(t,e),n?$M=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),$M._abbr}function sU(t,e){if(e!==null){var n,r=Ooe;if(e.abbr=t,Po[t]!=null)moe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Po[t]._config;else if(e.parentLocale!=null)if(Po[e.parentLocale]!=null)r=Po[e.parentLocale]._config;else if(n=WR(e.parentLocale),n!=null)r=n._config;else return jw[e.parentLocale]||(jw[e.parentLocale]=[]),jw[e.parentLocale].push({name:t,config:e}),null;return Po[t]=new Jj(UB(r,e)),jw[t]&&jw[t].forEach(function(i){sU(i.name,i.config)}),Zg(t),Po[t]}else return delete Po[t],null}function aFe(t,e){if(e!=null){var n,r,i=Ooe;Po[t]!=null&&Po[t].parentLocale!=null?Po[t].set(UB(Po[t]._config,e)):(r=WR(t),r!=null&&(i=r._config),e=UB(i,e),r==null&&(e.abbr=t),n=new Jj(e),n.parentLocale=Po[t],Po[t]=n),Zg(t)}else Po[t]!=null&&(Po[t].parentLocale!=null?(Po[t]=Po[t].parentLocale,t===Zg()&&Zg(t)):Po[t]!=null&&delete Po[t]);return Po[t]}function am(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return $M;if(!mf(t)){if(e=WR(t),e)return e;t=[t]}return oFe(t)}function lFe(){return VB(Po)}function aU(t){var e,n=t._a;return n&&Fr(t).overflow===-2&&(e=n[Cp]<0||n[Cp]>11?Cp:n[dh]<1||n[dh]>VR(n[vl],n[Cp])?dh:n[ea]<0||n[ea]>24||n[ea]===24&&(n[lf]!==0||n[Ap]!==0||n[e0]!==0)?ea:n[lf]<0||n[lf]>59?lf:n[Ap]<0||n[Ap]>59?Ap:n[e0]<0||n[e0]>999?e0:-1,Fr(t)._overflowDayOfYear&&(e<vl||e>dh)&&(e=dh),Fr(t)._overflowWeeks&&e===-1&&(e=pBe),Fr(t)._overflowWeekday&&e===-1&&(e=mBe),Fr(t).overflow=e),t}var cFe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,uFe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dFe=/Z|[+-]\d\d(?::?\d\d)?/,nC=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],w3=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],fFe=/^\/?Date\((-?\d+)/i,hFe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,pFe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Loe(t){var e,n,r=t._i,i=cFe.exec(r)||uFe.exec(r),o,a,s,l,c=nC.length,h=w3.length;if(i){for(Fr(t).iso=!0,e=0,n=c;e<n;e++)if(nC[e][1].exec(i[1])){a=nC[e][0],o=nC[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(i[3]){for(e=0,n=h;e<n;e++)if(w3[e][1].exec(i[3])){s=(i[2]||" ")+w3[e][0];break}if(s==null){t._isValid=!1;return}}if(!o&&s!=null){t._isValid=!1;return}if(i[4])if(dFe.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=a+(s||"")+(l||""),cU(t)}else t._isValid=!1}function mFe(t,e,n,r,i,o){var a=[gFe(t),Soe.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function gFe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function yFe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function vFe(t,e,n){if(t){var r=Ioe.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Fr(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function xFe(t,e,n){if(t)return pFe[t];if(e)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function Doe(t){var e=hFe.exec(yFe(t._i)),n;if(e){if(n=mFe(e[4],e[3],e[2],e[5],e[6],e[7]),!vFe(e[1],n,t))return;t._a=n,t._tzm=xFe(e[8],e[9],e[10]),t._d=BM.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Fr(t).rfc2822=!0}else t._isValid=!1}function _Fe(t){var e=fFe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Loe(t),t._isValid===!1)delete t._isValid;else return;if(Doe(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Dn.createFromInputFallback(t)}Dn.createFromInputFallback=_d("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function c_(t,e,n){return t??e??n}function bFe(t){var e=new Date(Dn.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function lU(t){var e,n,r=[],i,o,a;if(!t._d){for(i=bFe(t),t._w&&t._a[dh]==null&&t._a[Cp]==null&&wFe(t),t._dayOfYear!=null&&(a=c_(t._a[vl],i[vl]),(t._dayOfYear>GS(a)||t._dayOfYear===0)&&(Fr(t)._overflowDayOfYear=!0),n=BM(a,0,t._dayOfYear),t._a[Cp]=n.getUTCMonth(),t._a[dh]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[ea]===24&&t._a[lf]===0&&t._a[Ap]===0&&t._a[e0]===0&&(t._nextDay=!0,t._a[ea]=0),t._d=(t._useUTC?BM:ABe).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ea]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(Fr(t).weekdayMismatch=!0)}}function wFe(t){var e,n,r,i,o,a,s,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,a=4,n=c_(e.GG,t._a[vl],FM(Mo(),1,4).year),r=c_(e.W,1),i=c_(e.E,1),(i<1||i>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,c=FM(Mo(),o,a),n=c_(e.gg,t._a[vl],c.year),r=c_(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),r<1||r>Np(n,o,a)?Fr(t)._overflowWeeks=!0:l!=null?Fr(t)._overflowWeekday=!0:(s=Poe(n,r,i,o,a),t._a[vl]=s.year,t._dayOfYear=s.dayOfYear)}Dn.ISO_8601=function(){};Dn.RFC_2822=function(){};function cU(t){if(t._f===Dn.ISO_8601){Loe(t);return}if(t._f===Dn.RFC_2822){Doe(t);return}t._a=[],Fr(t).empty=!0;var e=""+t._i,n,r,i,o,a,s=e.length,l=0,c,h;for(i=goe(t._f,t._locale).match(Qj)||[],h=i.length,n=0;n<h;n++)o=i[n],r=(e.match(dBe(o,t))||[])[0],r&&(a=e.substr(0,e.indexOf(r)),a.length>0&&Fr(t).unusedInput.push(a),e=e.slice(e.indexOf(r)+r.length),l+=r.length),rb[o]?(r?Fr(t).empty=!1:Fr(t).unusedTokens.push(o),hBe(o,r,t)):t._strict&&!r&&Fr(t).unusedTokens.push(o);Fr(t).charsLeftOver=s-l,e.length>0&&Fr(t).unusedInput.push(e),t._a[ea]<=12&&Fr(t).bigHour===!0&&t._a[ea]>0&&(Fr(t).bigHour=void 0),Fr(t).parsedDateParts=t._a.slice(0),Fr(t).meridiem=t._meridiem,t._a[ea]=SFe(t._locale,t._a[ea],t._meridiem),c=Fr(t).era,c!==null&&(t._a[vl]=t._locale.erasConvertYear(c,t._a[vl])),lU(t),aU(t)}function SFe(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function MFe(t){var e,n,r,i,o,a,s=!1,l=t._f.length;if(l===0){Fr(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)o=0,a=!1,e=Zj({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],cU(e),Kj(e)&&(a=!0),o+=Fr(e).charsLeftOver,o+=Fr(e).unusedTokens.length*10,Fr(e).score=o,s?o<r&&(r=o,n=e):(r==null||o<r||a)&&(r=o,n=e,a&&(s=!0));Dg(t,n||e)}function EFe(t){if(!t._d){var e=eU(t._i),n=e.day===void 0?e.date:e.day;t._a=hoe([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),lU(t)}}function TFe(t){var e=new ME(aU(Noe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Noe(t){var e=t._i,n=t._f;return t._locale=t._locale||am(t._l),e===null||n===void 0&&e===""?NR({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),gf(e)?new ME(aU(e)):(SE(e)?t._d=e:mf(n)?MFe(t):n?cU(t):CFe(t),Kj(t)||(t._d=null),t))}function CFe(t){var e=t._i;yc(e)?t._d=new Date(Dn.now()):SE(e)?t._d=new Date(e.valueOf()):typeof e=="string"?_Fe(t):mf(e)?(t._a=hoe(e.slice(0),function(n){return parseInt(n,10)}),lU(t)):g0(e)?EFe(t):Xp(e)?t._d=new Date(e):Dn.createFromInputFallback(t)}function zoe(t,e,n,r,i){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(g0(t)&&Xj(t)||mf(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,TFe(o)}function Mo(t,e,n,r){return zoe(t,e,n,r,!1)}var AFe=_d("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Mo.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:NR()}),PFe=_d("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Mo.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:NR()});function Boe(t,e){var n,r;if(e.length===1&&mf(e[0])&&(e=e[0]),!e.length)return Mo();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function IFe(){var t=[].slice.call(arguments,0);return Boe("isBefore",t)}function kFe(){var t=[].slice.call(arguments,0);return Boe("isAfter",t)}var RFe=function(){return Date.now?Date.now():+new Date},Uw=["year","quarter","month","week","day","hour","minute","second","millisecond"];function OFe(t){var e,n=!1,r,i=Uw.length;for(e in t)if(vi(t,e)&&!(vs.call(Uw,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Uw[r]]){if(n)return!1;parseFloat(t[Uw[r]])!==qr(t[Uw[r]])&&(n=!0)}return!0}function LFe(){return this._isValid}function DFe(){return bf(NaN)}function HR(t){var e=eU(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,h=e.millisecond||0;this._isValid=OFe(e),this._milliseconds=+h+c*1e3+l*6e4+s*1e3*60*60,this._days=+a+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=am(),this._bubble()}function BA(t){return t instanceof HR}function HB(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function NFe(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0,a;for(a=0;a<r;a++)(n&&t[a]!==e[a]||!n&&qr(t[a])!==qr(e[a]))&&o++;return o+i}function Foe(t,e){ur(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Ih(~~(n/60),2)+e+Ih(~~n%60,2)})}Foe("Z",":");Foe("ZZ","");qn("Z",UR);qn("ZZ",UR);eo(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=uU(UR,t)});var zFe=/([\+\-]|\d\d)/gi;function uU(t,e){var n=(e||"").match(t),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(zFe)||["-",0,0],o=+(i[1]*60)+qr(i[2]),o===0?0:i[0]==="+"?o:-o)}function dU(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(gf(t)||SE(t)?t.valueOf():Mo(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Dn.updateOffset(n,!1),n):Mo(t).local()}function GB(t){return-Math.round(t._d.getTimezoneOffset())}Dn.updateOffset=function(){};function BFe(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=uU(UR,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=GB(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?Uoe(this,bf(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Dn.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:GB(this)}function FFe(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function $Fe(t){return this.utcOffset(0,t)}function jFe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(GB(this),"m")),this}function UFe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=uU(cBe,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function VFe(t){return this.isValid()?(t=t?Mo(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function WFe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function HFe(){if(!yc(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Zj(t,this),t=Noe(t),t._a?(e=t._isUTC?Dh(t._a):Mo(t._a),this._isDSTShifted=this.isValid()&&NFe(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function GFe(){return this.isValid()?!this._isUTC:!1}function qFe(){return this.isValid()?this._isUTC:!1}function $oe(){return this.isValid()?this._isUTC&&this._offset===0:!1}var YFe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,XFe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function bf(t,e){var n=t,r=null,i,o,a;return BA(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Xp(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=YFe.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:qr(r[dh])*i,h:qr(r[ea])*i,m:qr(r[lf])*i,s:qr(r[Ap])*i,ms:qr(HB(r[e0]*1e3))*i}):(r=XFe.exec(t))?(i=r[1]==="-"?-1:1,n={y:yv(r[2],i),M:yv(r[3],i),w:yv(r[4],i),d:yv(r[5],i),h:yv(r[6],i),m:yv(r[7],i),s:yv(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=KFe(Mo(n.from),Mo(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),o=new HR(n),BA(t)&&vi(t,"_locale")&&(o._locale=t._locale),BA(t)&&vi(t,"_isValid")&&(o._isValid=t._isValid),o}bf.fn=HR.prototype;bf.invalid=DFe;function yv(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function f7(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function KFe(t,e){var n;return t.isValid()&&e.isValid()?(e=dU(e,t),t.isBefore(e)?n=f7(t,e):(n=f7(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function joe(t,e){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(moe(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=bf(n,r),Uoe(this,i,t),this}}function Uoe(t,e,n,r){var i=e._milliseconds,o=HB(e._days),a=HB(e._months);t.isValid()&&(r=r??!0,a&&Eoe(t,KP(t,"Month")+a*n),o&&voe(t,"Date",KP(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&Dn.updateOffset(t,o||a))}var ZFe=joe(1,"add"),JFe=joe(-1,"subtract");function Voe(t){return typeof t=="string"||t instanceof String}function QFe(t){return gf(t)||SE(t)||Voe(t)||Xp(t)||t4e(t)||e4e(t)||t===null||t===void 0}function e4e(t){var e=g0(t)&&!Xj(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,a=r.length;for(i=0;i<a;i+=1)o=r[i],n=n||vi(t,o);return e&&n}function t4e(t){var e=mf(t),n=!1;return e&&(n=t.filter(function(r){return!Xp(r)&&Voe(t)}).length===0),e&&n}function n4e(t){var e=g0(t)&&!Xj(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||vi(t,o);return e&&n}function r4e(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function i4e(t,e){arguments.length===1&&(arguments[0]?QFe(arguments[0])?(t=arguments[0],e=void 0):n4e(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Mo(),r=dU(n,this).startOf("day"),i=Dn.calendarFormat(this,r)||"sameElse",o=e&&(Nh(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,Mo(n)))}function o4e(){return new ME(this)}function s4e(t,e){var n=gf(t)?t:Mo(t);return this.isValid()&&n.isValid()?(e=bd(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function a4e(t,e){var n=gf(t)?t:Mo(t);return this.isValid()&&n.isValid()?(e=bd(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function l4e(t,e,n,r){var i=gf(t)?t:Mo(t),o=gf(e)?e:Mo(e);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function c4e(t,e){var n=gf(t)?t:Mo(t),r;return this.isValid()&&n.isValid()?(e=bd(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function u4e(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function d4e(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function f4e(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=dU(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=bd(e),e){case"year":o=FA(this,r)/12;break;case"month":o=FA(this,r);break;case"quarter":o=FA(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Qu(o)}function FA(t,e){if(t.date()<e.date())return-FA(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,o;return e-r<0?(i=t.clone().add(n-1,"months"),o=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),o=(e-r)/(i-r)),-(n+o)||0}Dn.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Dn.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function h4e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function p4e(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?zA(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Nh(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",zA(n,"Z")):zA(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function m4e(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+r+i+o)}function g4e(t){t||(t=this.isUtc()?Dn.defaultFormatUtc:Dn.defaultFormat);var e=zA(this,t);return this.localeData().postformat(e)}function y4e(t,e){return this.isValid()&&(gf(t)&&t.isValid()||Mo(t).isValid())?bf({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function v4e(t){return this.from(Mo(),t)}function x4e(t,e){return this.isValid()&&(gf(t)&&t.isValid()||Mo(t).isValid())?bf({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function _4e(t){return this.to(Mo(),t)}function Woe(t){var e;return t===void 0?this._locale._abbr:(e=am(t),e!=null&&(this._locale=e),this)}var Hoe=_d("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Goe(){return this._locale}var QP=1e3,ib=60*QP,eI=60*ib,qoe=(365*400+97)*24*eI;function ob(t,e){return(t%e+e)%e}function Yoe(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-qoe:new Date(t,e,n).valueOf()}function Xoe(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-qoe:Date.UTC(t,e,n)}function b4e(t){var e,n;if(t=bd(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Xoe:Yoe,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ob(e+(this._isUTC?0:this.utcOffset()*ib),eI);break;case"minute":e=this._d.valueOf(),e-=ob(e,ib);break;case"second":e=this._d.valueOf(),e-=ob(e,QP);break}return this._d.setTime(e),Dn.updateOffset(this,!0),this}function w4e(t){var e,n;if(t=bd(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Xoe:Yoe,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=eI-ob(e+(this._isUTC?0:this.utcOffset()*ib),eI)-1;break;case"minute":e=this._d.valueOf(),e+=ib-ob(e,ib)-1;break;case"second":e=this._d.valueOf(),e+=QP-ob(e,QP)-1;break}return this._d.setTime(e),Dn.updateOffset(this,!0),this}function S4e(){return this._d.valueOf()-(this._offset||0)*6e4}function M4e(){return Math.floor(this.valueOf()/1e3)}function E4e(){return new Date(this.valueOf())}function T4e(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function C4e(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function A4e(){return this.isValid()?this.toISOString():null}function P4e(){return Kj(this)}function I4e(){return Dg({},Fr(this))}function k4e(){return Fr(this).overflow}function R4e(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ur("N",0,0,"eraAbbr");ur("NN",0,0,"eraAbbr");ur("NNN",0,0,"eraAbbr");ur("NNNN",0,0,"eraName");ur("NNNNN",0,0,"eraNarrow");ur("y",["y",1],"yo","eraYear");ur("y",["yy",2],0,"eraYear");ur("y",["yyy",3],0,"eraYear");ur("y",["yyyy",4],0,"eraYear");qn("N",fU);qn("NN",fU);qn("NNN",fU);qn("NNNN",V4e);qn("NNNNN",W4e);eo(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Fr(n).era=i:Fr(n).invalidEra=t});qn("y",C1);qn("yy",C1);qn("yyy",C1);qn("yyyy",C1);qn("yo",H4e);eo(["y","yy","yyy","yyyy"],vl);eo(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[vl]=n._locale.eraYearOrdinalParse(t,i):e[vl]=parseInt(t,10)});function O4e(t,e){var n,r,i,o=this._eras||am("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=Dn(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=Dn(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function L4e(t,e,n){var r,i,o=this.eras(),a,s,l;for(t=t.toUpperCase(),r=0,i=o.length;r<i;++r)if(a=o[r].name.toUpperCase(),s=o[r].abbr.toUpperCase(),l=o[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(s===t)return o[r];break;case"NNNN":if(a===t)return o[r];break;case"NNNNN":if(l===t)return o[r];break}else if([a,s,l].indexOf(t)>=0)return o[r]}function D4e(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Dn(t.since).year():Dn(t.since).year()+(e-t.offset)*n}function N4e(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function z4e(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function B4e(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function F4e(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-Dn(i[t].since).year())*n+i[t].offset;return this.year()}function $4e(t){return vi(this,"_erasNameRegex")||hU.call(this),t?this._erasNameRegex:this._erasRegex}function j4e(t){return vi(this,"_erasAbbrRegex")||hU.call(this),t?this._erasAbbrRegex:this._erasRegex}function U4e(t){return vi(this,"_erasNarrowRegex")||hU.call(this),t?this._erasNarrowRegex:this._erasRegex}function fU(t,e){return e.erasAbbrRegex(t)}function V4e(t,e){return e.erasNameRegex(t)}function W4e(t,e){return e.erasNarrowRegex(t)}function H4e(t,e){return e._eraYearOrdinalRegex||C1}function hU(){var t=[],e=[],n=[],r=[],i,o,a=this.eras();for(i=0,o=a.length;i<o;++i)e.push(Jc(a[i].name)),t.push(Jc(a[i].abbr)),n.push(Jc(a[i].narrow)),r.push(Jc(a[i].name)),r.push(Jc(a[i].abbr)),r.push(Jc(a[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ur(0,["gg",2],0,function(){return this.weekYear()%100});ur(0,["GG",2],0,function(){return this.isoWeekYear()%100});function GR(t,e){ur(0,[t,t.length],0,e)}GR("gggg","weekYear");GR("ggggg","weekYear");GR("GGGG","isoWeekYear");GR("GGGGG","isoWeekYear");bl("weekYear","gg");bl("isoWeekYear","GG");wl("weekYear",1);wl("isoWeekYear",1);qn("G",jR);qn("g",jR);qn("GG",Eo,Su);qn("gg",Eo,Su);qn("GGGG",nU,tU);qn("gggg",nU,tU);qn("GGGGG",$R,BR);qn("ggggg",$R,BR);TE(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=qr(t)});TE(["gg","GG"],function(t,e,n,r){e[r]=Dn.parseTwoDigitYear(t)});function G4e(t){return Koe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function q4e(t){return Koe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Y4e(){return Np(this.year(),1,4)}function X4e(){return Np(this.isoWeekYear(),1,4)}function K4e(){var t=this.localeData()._week;return Np(this.year(),t.dow,t.doy)}function Z4e(){var t=this.localeData()._week;return Np(this.weekYear(),t.dow,t.doy)}function Koe(t,e,n,r,i){var o;return t==null?FM(this,r,i).year:(o=Np(t,r,i),e>o&&(e=o),J4e.call(this,t,e,n,r,i))}function J4e(t,e,n,r,i){var o=Poe(t,e,n,r,i),a=BM(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}ur("Q",0,"Qo","quarter");bl("quarter","Q");wl("quarter",7);qn("Q",xoe);eo("Q",function(t,e){e[Cp]=(qr(t)-1)*3});function Q4e(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}ur("D",["DD",2],"Do","date");bl("date","D");wl("date",9);qn("D",Eo);qn("DD",Eo,Su);qn("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});eo(["D","DD"],dh);eo("Do",function(t,e){e[dh]=qr(t.match(Eo)[0])});var Zoe=T1("Date",!0);ur("DDD",["DDDD",3],"DDDo","dayOfYear");bl("dayOfYear","DDD");wl("dayOfYear",4);qn("DDD",FR);qn("DDDD",_oe);eo(["DDD","DDDD"],function(t,e,n){n._dayOfYear=qr(t)});function e5e(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}ur("m",["mm",2],0,"minute");bl("minute","m");wl("minute",14);qn("m",Eo);qn("mm",Eo,Su);eo(["m","mm"],lf);var t5e=T1("Minutes",!1);ur("s",["ss",2],0,"second");bl("second","s");wl("second",15);qn("s",Eo);qn("ss",Eo,Su);eo(["s","ss"],Ap);var n5e=T1("Seconds",!1);ur("S",0,0,function(){return~~(this.millisecond()/100)});ur(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ur(0,["SSS",3],0,"millisecond");ur(0,["SSSS",4],0,function(){return this.millisecond()*10});ur(0,["SSSSS",5],0,function(){return this.millisecond()*100});ur(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ur(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ur(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ur(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});bl("millisecond","ms");wl("millisecond",16);qn("S",FR,xoe);qn("SS",FR,Su);qn("SSS",FR,_oe);var Ng,Joe;for(Ng="SSSS";Ng.length<=9;Ng+="S")qn(Ng,C1);function r5e(t,e){e[e0]=qr(("0."+t)*1e3)}for(Ng="S";Ng.length<=9;Ng+="S")eo(Ng,r5e);Joe=T1("Milliseconds",!1);ur("z",0,0,"zoneAbbr");ur("zz",0,0,"zoneName");function i5e(){return this._isUTC?"UTC":""}function o5e(){return this._isUTC?"Coordinated Universal Time":""}var gn=ME.prototype;gn.add=ZFe;gn.calendar=i4e;gn.clone=o4e;gn.diff=f4e;gn.endOf=w4e;gn.format=g4e;gn.from=y4e;gn.fromNow=v4e;gn.to=x4e;gn.toNow=_4e;gn.get=aBe;gn.invalidAt=k4e;gn.isAfter=s4e;gn.isBefore=a4e;gn.isBetween=l4e;gn.isSame=c4e;gn.isSameOrAfter=u4e;gn.isSameOrBefore=d4e;gn.isValid=P4e;gn.lang=Hoe;gn.locale=Woe;gn.localeData=Goe;gn.max=PFe;gn.min=AFe;gn.parsingFlags=I4e;gn.set=lBe;gn.startOf=b4e;gn.subtract=JFe;gn.toArray=T4e;gn.toObject=C4e;gn.toDate=E4e;gn.toISOString=p4e;gn.inspect=m4e;typeof Symbol<"u"&&Symbol.for!=null&&(gn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});gn.toJSON=A4e;gn.toString=h4e;gn.unix=M4e;gn.valueOf=S4e;gn.creationData=R4e;gn.eraName=N4e;gn.eraNarrow=z4e;gn.eraAbbr=B4e;gn.eraYear=F4e;gn.year=Aoe;gn.isLeapYear=CBe;gn.weekYear=G4e;gn.isoWeekYear=q4e;gn.quarter=gn.quarters=Q4e;gn.month=Toe;gn.daysInMonth=MBe;gn.week=gn.weeks=OBe;gn.isoWeek=gn.isoWeeks=LBe;gn.weeksInYear=K4e;gn.weeksInWeekYear=Z4e;gn.isoWeeksInYear=Y4e;gn.isoWeeksInISOWeekYear=X4e;gn.date=Zoe;gn.day=gn.days=qBe;gn.weekday=YBe;gn.isoWeekday=XBe;gn.dayOfYear=e5e;gn.hour=gn.hours=nFe;gn.minute=gn.minutes=t5e;gn.second=gn.seconds=n5e;gn.millisecond=gn.milliseconds=Joe;gn.utcOffset=BFe;gn.utc=$Fe;gn.local=jFe;gn.parseZone=UFe;gn.hasAlignedHourOffset=VFe;gn.isDST=WFe;gn.isLocal=GFe;gn.isUtcOffset=qFe;gn.isUtc=$oe;gn.isUTC=$oe;gn.zoneAbbr=i5e;gn.zoneName=o5e;gn.dates=_d("dates accessor is deprecated. Use date instead.",Zoe);gn.months=_d("months accessor is deprecated. Use month instead",Toe);gn.years=_d("years accessor is deprecated. Use year instead",Aoe);gn.zone=_d("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",FFe);gn.isDSTShifted=_d("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",HFe);function s5e(t){return Mo(t*1e3)}function a5e(){return Mo.apply(null,arguments).parseZone()}function Qoe(t){return t}var wi=Jj.prototype;wi.calendar=qze;wi.longDateFormat=Zze;wi.invalidDate=Qze;wi.ordinal=nBe;wi.preparse=Qoe;wi.postformat=Qoe;wi.relativeTime=iBe;wi.pastFuture=oBe;wi.set=Hze;wi.eras=O4e;wi.erasParse=L4e;wi.erasConvertYear=D4e;wi.erasAbbrRegex=j4e;wi.erasNameRegex=$4e;wi.erasNarrowRegex=U4e;wi.months=_Be;wi.monthsShort=bBe;wi.monthsParse=SBe;wi.monthsRegex=TBe;wi.monthsShortRegex=EBe;wi.week=PBe;wi.firstDayOfYear=RBe;wi.firstDayOfWeek=kBe;wi.weekdays=UBe;wi.weekdaysMin=WBe;wi.weekdaysShort=VBe;wi.weekdaysParse=GBe;wi.weekdaysRegex=KBe;wi.weekdaysShortRegex=ZBe;wi.weekdaysMinRegex=JBe;wi.isPM=eFe;wi.meridiem=rFe;function tI(t,e,n,r){var i=am(),o=Dh().set(r,e);return i[n](o,t)}function ese(t,e,n){if(Xp(t)&&(e=t,t=void 0),t=t||"",e!=null)return tI(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=tI(t,r,n,"month");return i}function pU(t,e,n,r){typeof t=="boolean"?(Xp(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Xp(e)&&(n=e,e=void 0),e=e||"");var i=am(),o=t?i._week.dow:0,a,s=[];if(n!=null)return tI(e,(n+o)%7,r,"day");for(a=0;a<7;a++)s[a]=tI(e,(a+o)%7,r,"day");return s}function l5e(t,e){return ese(t,e,"months")}function c5e(t,e){return ese(t,e,"monthsShort")}function u5e(t,e,n){return pU(t,e,n,"weekdays")}function d5e(t,e,n){return pU(t,e,n,"weekdaysShort")}function f5e(t,e,n){return pU(t,e,n,"weekdaysMin")}Zg("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=qr(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Dn.lang=_d("moment.lang is deprecated. Use moment.locale instead.",Zg);Dn.langData=_d("moment.langData is deprecated. Use moment.localeData instead.",am);var cp=Math.abs;function h5e(){var t=this._data;return this._milliseconds=cp(this._milliseconds),this._days=cp(this._days),this._months=cp(this._months),t.milliseconds=cp(t.milliseconds),t.seconds=cp(t.seconds),t.minutes=cp(t.minutes),t.hours=cp(t.hours),t.months=cp(t.months),t.years=cp(t.years),this}function tse(t,e,n,r){var i=bf(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function p5e(t,e){return tse(this,t,e,1)}function m5e(t,e){return tse(this,t,e,-1)}function h7(t){return t<0?Math.floor(t):Math.ceil(t)}function g5e(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,o,a,s,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=h7(qB(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Qu(t/1e3),r.seconds=i%60,o=Qu(i/60),r.minutes=o%60,a=Qu(o/60),r.hours=a%24,e+=Qu(a/24),l=Qu(nse(e)),n+=l,e-=h7(qB(l)),s=Qu(n/12),n%=12,r.days=e,r.months=n,r.years=s,this}function nse(t){return t*4800/146097}function qB(t){return t*146097/4800}function y5e(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=bd(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+nse(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(qB(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function v5e(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+qr(this._months/12)*31536e6:NaN}function lm(t){return function(){return this.as(t)}}var x5e=lm("ms"),_5e=lm("s"),b5e=lm("m"),w5e=lm("h"),S5e=lm("d"),M5e=lm("w"),E5e=lm("M"),T5e=lm("Q"),C5e=lm("y");function A5e(){return bf(this)}function P5e(t){return t=bd(t),this.isValid()?this[t+"s"]():NaN}function Y0(t){return function(){return this.isValid()?this._data[t]:NaN}}var I5e=Y0("milliseconds"),k5e=Y0("seconds"),R5e=Y0("minutes"),O5e=Y0("hours"),L5e=Y0("days"),D5e=Y0("months"),N5e=Y0("years");function z5e(){return Qu(this.days()/7)}var vp=Math.round,O_={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function B5e(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function F5e(t,e,n,r){var i=bf(t).abs(),o=vp(i.as("s")),a=vp(i.as("m")),s=vp(i.as("h")),l=vp(i.as("d")),c=vp(i.as("M")),h=vp(i.as("w")),p=vp(i.as("y")),g=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(g=g||h<=1&&["w"]||h<n.w&&["ww",h]),g=g||c<=1&&["M"]||c<n.M&&["MM",c]||p<=1&&["y"]||["yy",p],g[2]=e,g[3]=+t>0,g[4]=r,B5e.apply(null,g)}function $5e(t){return t===void 0?vp:typeof t=="function"?(vp=t,!0):!1}function j5e(t,e){return O_[t]===void 0?!1:e===void 0?O_[t]:(O_[t]=e,t==="s"&&(O_.ss=e-1),!0)}function U5e(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=O_,i,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},O_,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),o=F5e(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var S3=Math.abs;function Dx(t){return(t>0)-(t<0)||+t}function qR(){if(!this.isValid())return this.localeData().invalidDate();var t=S3(this._milliseconds)/1e3,e=S3(this._days),n=S3(this._months),r,i,o,a,s=this.asSeconds(),l,c,h,p;return s?(r=Qu(t/60),i=Qu(r/60),t%=60,r%=60,o=Qu(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",c=Dx(this._months)!==Dx(s)?"-":"",h=Dx(this._days)!==Dx(s)?"-":"",p=Dx(this._milliseconds)!==Dx(s)?"-":"",l+"P"+(o?c+o+"Y":"")+(n?c+n+"M":"")+(e?h+e+"D":"")+(i||r||t?"T":"")+(i?p+i+"H":"")+(r?p+r+"M":"")+(t?p+a+"S":"")):"P0D"}var ai=HR.prototype;ai.isValid=LFe;ai.abs=h5e;ai.add=p5e;ai.subtract=m5e;ai.as=y5e;ai.asMilliseconds=x5e;ai.asSeconds=_5e;ai.asMinutes=b5e;ai.asHours=w5e;ai.asDays=S5e;ai.asWeeks=M5e;ai.asMonths=E5e;ai.asQuarters=T5e;ai.asYears=C5e;ai.valueOf=v5e;ai._bubble=g5e;ai.clone=A5e;ai.get=P5e;ai.milliseconds=I5e;ai.seconds=k5e;ai.minutes=R5e;ai.hours=O5e;ai.days=L5e;ai.weeks=z5e;ai.months=D5e;ai.years=N5e;ai.humanize=U5e;ai.toISOString=qR;ai.toString=qR;ai.toJSON=qR;ai.locale=Woe;ai.localeData=Goe;ai.toIsoString=_d("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qR);ai.lang=Hoe;ur("X",0,0,"unix");ur("x",0,0,"valueOf");qn("x",jR);qn("X",uBe);eo("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});eo("x",function(t,e,n){n._d=new Date(qr(t))});//! moment.js
Dn.version="2.29.4";Vze(Mo);Dn.fn=gn;Dn.min=IFe;Dn.max=kFe;Dn.now=RFe;Dn.utc=Dh;Dn.unix=s5e;Dn.months=l5e;Dn.isDate=SE;Dn.locale=Zg;Dn.invalid=NR;Dn.duration=bf;Dn.isMoment=gf;Dn.weekdays=u5e;Dn.parseZone=a5e;Dn.localeData=am;Dn.isDuration=BA;Dn.monthsShort=c5e;Dn.weekdaysMin=f5e;Dn.defineLocale=sU;Dn.updateLocale=aFe;Dn.locales=lFe;Dn.weekdaysShort=d5e;Dn.normalizeUnits=bd;Dn.relativeTimeRounding=$5e;Dn.relativeTimeThreshold=j5e;Dn.calendarFormat=r4e;Dn.prototype=gn;Dn.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const V5e=t=>{switch(t){case"kmh":return 1.852;case"mph":return 1.15078;case"kn":default:return 1}},W5e=t=>{switch(t){case"kmh":return"Km/h";case"mph":return"sharedMph";case"kn":default:return"m/s"}},H5e=(t,e)=>t*V5e(e),G5e=t=>{switch(t){case"mi":return 621371e-9;case"nmi":return 539957e-9;case"km":default:return .001}},q5e=t=>{switch(t){case"mi":return"Mi";case"nmi":return"Nmi";case"km":default:return"Km"}},Y5e=(t,e)=>t*G5e(e),X5e=t=>{switch(t){case"ft":return 3.28084;case"m":default:return 1}},K5e=t=>{switch(t){case"ft":return"sharedFeet";case"m":default:return"sharedMeters"}},Z5e=(t,e)=>t*X5e(e),rse=(t,e)=>t+e.charAt(0).toUpperCase()+e.slice(1),ise=t=>t?"sharedYes":"sharedNo",J5e=(t,e=1)=>Number(t.toFixed(e)),ose=t=>`${t}%`,sse=(t,e,n)=>{if(t){const r=Dn(t);switch(e){case"date":return r.format("YYYY-MM-DD");case"time":return r.format(n?"hh:mm:ss A":"HH:mm:ss");case"minutes":return r.format(n?"YYYY-MM-DD hh:mm A":"YYYY-MM-DD HH:mm");default:return r.format(n?"YYYY-MM-DD hh:mm:ss A":"YYYY-MM-DD HH:mm:ss")}}return""},ase=t=>t?rse("alarm_",t):"",Q5e=t=>{const e=["↑","↗","→","↘","↓","↙","←","↖"];let n=(t+22.5)%360;return n<0&&(n+=360),t.toFixed()+e[Math.floor(n/45)]},e$e=(t,e,n)=>`${Y5e(t,e).toFixed(2)} ${q5e(e)}`,t$e=(t,e,n)=>`${Z5e(t,e).toFixed(2)} ${K5e(e)}`,n$e=(t,e,n)=>`${H5e(t,e).toFixed(2)} ${W5e(e)}`,r$e=(t,e)=>{const n=Math.floor(t/36e5),r=Math.floor(t%36e5/6e4);return`${n} ${e("sharedHourAbbreviation")} ${r} ${e("sharedMinuteAbbreviation")}`},p7=(t,e,n)=>{let r,i,o,a;switch(t==="latitude"?r=e>=0?"N":"S":r=e>=0?"E":"W",n){case"ddm":return e=Math.abs(e),i=Math.floor(e),o=(e-i)*60,`${i}° ${o.toFixed(6)}' ${r}`;case"dms":return e=Math.abs(e),i=Math.floor(e),o=Math.floor((e-i)*60),a=Math.round((e-i-o/60)*3600),`${i}° ${o}' ${a}" ${r}`;default:return`${e.toFixed(6)}°`}},lse=t=>{switch(t){case"online":return"positive";case"offline":return"negative";case"unknown":default:return"neutral"}},m7="data:image/svg+xml,%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%3e%3ctitle%3eEngine%3c/title%3e%3cpath%20fill='currentColor'%20d='M13.778%206.667v2.222h3.333v2.222h2.222v-2.222h3.333v-2.222h-8.889zM13.778%2013.333c-0.3%200-0.579%200.121-0.79%200.321l-1.888%201.901h-2.878c-0.611%200-1.111%200.5-1.111%201.111v6.667c0%200.611%200.5%201.111%201.111%201.111h1.888l3.056%202.033c0.178%200.122%200.39%200.189%200.612%200.189h5.556c0.244%200%200.477-0.077%200.666-0.221l4.444-3.333c0.278-0.211%200.445-0.545%200.445-0.89v-7.778c0-0.611-0.5-1.111-1.111-1.111h-10zM27.111%2014.444v6.667h2.222v-6.667h-2.222zM17.111%2015.556v3.333h2.222l-3.333%205.556v-3.333h-2.222l3.333-5.556zM2.667%2016.667v5.556h2.222v-5.556h-2.222z'%3e%3c/path%3e%3c/svg%3e",i$e=Qr(t=>({icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},batteryText:{fontSize:"0.75rem",fontWeight:"normal",lineHeight:"0.875rem"},positive:{color:t.palette.colors.positive},medium:{color:t.palette.colors.medium},negative:{color:t.palette.colors.negative},neutral:{color:t.palette.colors.neutral}})),o$e={width:"25px",height:"25px",filter:"brightness(0) invert(1)"},M3={color:tf[500]},g7={color:m$[700]},E3={color:_p[500]},s$e={color:xh[500]},a$e=({data:t,index:e,style:n})=>{const r=i$e(),i=Zl(),o=t[e],a=xr(c=>c.data.positions[o.id]),s=o.name,l=()=>{let c;return o.status==="online"||!o.lastUpdate?c=o.status:c=Dn(o.lastUpdate).fromNow(),z.jsxs(Ze.Fragment,{children:[a&&a.attributes.hasOwnProperty("landed_state")&&z.jsx(_n,{component:"span",sx:{display:"block",fontSize:10},children:a.attributes.landed_state}),z.jsx(_n,{component:"span",style:{fontSize:12},className:r[lse(o.status)],children:c})]})};return z.jsx("div",{style:n,children:z.jsxs(zPe,{onClick:()=>i(tu.selectId(o.id)),disabled:o.disabled,children:[z.jsx(VPe,{children:z.jsx(aEe,{children:z.jsx("img",{style:o$e,src:TM[PP(o.category)],alt:""})})}),z.jsx(ZPe,{primary:s,primaryTypographyProps:{noWrap:!0},secondary:l(),secondaryTypographyProps:{noWrap:!0}}),a&&z.jsxs(z.Fragment,{children:[a.attributes.hasOwnProperty("ignition")&&z.jsx(Tg,{title:`positionIgnition: ${ise(a.attributes.ignition)}`,children:z.jsx(gr,{size:"small",children:a.attributes.ignition?z.jsx(m7,{width:20,height:20,style:M3}):z.jsx(m7,{width:20,height:20,style:s$e})})}),a.hasOwnProperty("speed")&&z.jsx(Tg,{title:`speed: ${a.speed}`,children:z.jsx(gr,{size:"small",children:z.jsxs("div",{style:{fontSize:"0.9rem"},children:[" V ",Math.round(a.speed),"m/s"]})})}),a.hasOwnProperty("altitude")&&z.jsx(Tg,{title:`altitude: ${Math.round(a.altitude)}`,children:z.jsx(gr,{size:"small",children:z.jsxs("div",{style:{fontSize:"0.9rem"},children:["H ",Math.round(a.altitude),"m"]})})}),a.attributes.hasOwnProperty("batteryLevel")&&z.jsx(Tg,{title:`BatteryLevel: ${ose(a.attributes.batteryLevel)}`,children:z.jsx(gr,{size:"small",children:a.attributes.batteryLevel>70?a.attributes.charge?z.jsx(noe,{fontSize:"small",style:M3}):z.jsx(toe,{fontSize:"small",style:M3}):a.attributes.batteryLevel>30?a.attributes.charge?z.jsx(ooe,{fontSize:"small",style:g7}):z.jsx(roe,{fontSize:"small",style:g7}):a.attributes.charge?z.jsx(coe,{fontSize:"small",style:E3}):z.jsx(aoe,{fontSize:"small",style:E3})})}),a.attributes.hasOwnProperty("alarm")&&a.attributes.alarm=="threat"&&z.jsx(Tg,{title:`eventAlarm: ${ase(a.attributes.alarm)}`,children:z.jsx(gr,{size:"small",children:z.jsx(doe,{fontSize:"small",style:E3})})})]})]},o.id)})},l$e=Qr(t=>({list:{maxHeight:"100%"},listInner:{position:"relative",margin:t.spacing(1.5,0)}})),cse=({devices:t})=>{const e=l$e(),n=Zl(),r=V.useRef(null);r.current&&(r.current.className=e.listInner);const[,i]=V.useState(Date.now());return V.useEffect(()=>{const o=setInterval(()=>i(Date.now()),6e4);return()=>{clearInterval(o)}},[]),_y(async()=>{const o=await fetch("/api/devices");if(o.ok)n(tu.refresh(await o.json()));else throw Error(await o.text())},[]),z.jsx(yze,{className:e.list,children:({height:o,width:a})=>z.jsx(mze,{width:a,height:o,itemCount:t.length,itemData:t,itemSize:72,overscanCount:10,innerRef:r,children:a$e})})};var mU={exports:{}},use={};function dse(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=dse(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function y7(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=dse(t))&&(r&&(r+=" "),r+=e);return r}const c$e=Object.freeze(Object.defineProperty({__proto__:null,clsx:y7,default:y7},Symbol.toStringTag,{value:"Module"})),u$e=Rh(c$e);var ss={},zh={};Object.defineProperty(zh,"__esModule",{value:!0});zh.dontSetMe=m$e;zh.findInArray=d$e;zh.int=p$e;zh.isFunction=f$e;zh.isNum=h$e;function d$e(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function f$e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function h$e(t){return typeof t=="number"&&!isNaN(t)}function p$e(t){return parseInt(t,10)}function m$e(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var X0={};Object.defineProperty(X0,"__esModule",{value:!0});X0.browserPrefixToKey=hse;X0.browserPrefixToStyle=g$e;X0.default=void 0;X0.getPrefix=fse;const T3=["Moz","Webkit","O","ms"];function fse(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<T3.length;r++)if(hse(e,T3[r])in n)return T3[r];return""}function hse(t,e){return e?"".concat(e).concat(y$e(t)):t}function g$e(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function y$e(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}X0.default=fse();Object.defineProperty(ss,"__esModule",{value:!0});ss.addClassName=gse;ss.addEvent=_$e;ss.addUserSelectStyles=k$e;ss.createCSSTransform=C$e;ss.createSVGTransform=A$e;ss.getTouch=P$e;ss.getTouchIdentifier=I$e;ss.getTranslation=gU;ss.innerHeight=M$e;ss.innerWidth=E$e;ss.matchesSelector=mse;ss.matchesSelectorAndParentsTo=x$e;ss.offsetXYFromParent=T$e;ss.outerHeight=w$e;ss.outerWidth=S$e;ss.removeClassName=yse;ss.removeEvent=b$e;ss.removeUserSelectStyles=R$e;var du=zh,v7=v$e(X0);function pse(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(pse=function(r){return r?n:e})(t)}function v$e(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=pse(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let rC="";function mse(t,e){return rC||(rC=(0,du.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,du.isFunction)(t[n])})),(0,du.isFunction)(t[rC])?t[rC](e):!1}function x$e(t,e,n){let r=t;do{if(mse(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function _$e(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function b$e(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function w$e(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,du.int)(n.borderTopWidth),e+=(0,du.int)(n.borderBottomWidth),e}function S$e(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,du.int)(n.borderLeftWidth),e+=(0,du.int)(n.borderRightWidth),e}function M$e(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,du.int)(n.paddingTop),e-=(0,du.int)(n.paddingBottom),e}function E$e(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,du.int)(n.paddingLeft),e-=(0,du.int)(n.paddingRight),e}function T$e(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,a=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:a}}function C$e(t,e){const n=gU(t,e,"px");return{[(0,v7.browserPrefixToKey)("transform",v7.default)]:n}}function A$e(t,e){return gU(t,e,"")}function gU(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const a="".concat(typeof e.x=="string"?e.x:e.x+n),s="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function P$e(t,e){return t.targetTouches&&(0,du.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,du.findInArray)(t.changedTouches,n=>e===n.identifier)}function I$e(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function k$e(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&gse(t.body,"react-draggable-transparent-selection")}function R$e(t){if(t)try{if(t.body&&yse(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function gse(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function yse(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.canDragX=D$e;Bh.canDragY=N$e;Bh.createCoreData=B$e;Bh.createDraggableData=F$e;Bh.getBoundPosition=O$e;Bh.getControlPosition=z$e;Bh.snapToGrid=L$e;var Yc=zh,L_=ss;function O$e(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:$$e(r);const i=yU(t);if(typeof r=="string"){const{ownerDocument:o}=i,a=o.defaultView;let s;if(r==="parent"?s=i.parentNode:s=o.querySelector(r),!(s instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=s,c=a.getComputedStyle(i),h=a.getComputedStyle(l);r={left:-i.offsetLeft+(0,Yc.int)(h.paddingLeft)+(0,Yc.int)(c.marginLeft),top:-i.offsetTop+(0,Yc.int)(h.paddingTop)+(0,Yc.int)(c.marginTop),right:(0,L_.innerWidth)(l)-(0,L_.outerWidth)(i)-i.offsetLeft+(0,Yc.int)(h.paddingRight)-(0,Yc.int)(c.marginRight),bottom:(0,L_.innerHeight)(l)-(0,L_.outerHeight)(i)-i.offsetTop+(0,Yc.int)(h.paddingBottom)-(0,Yc.int)(c.marginBottom)}}return(0,Yc.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Yc.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Yc.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Yc.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function L$e(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function D$e(t){return t.props.axis==="both"||t.props.axis==="x"}function N$e(t){return t.props.axis==="both"||t.props.axis==="y"}function z$e(t,e,n){const r=typeof e=="number"?(0,L_.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=yU(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,L_.offsetXYFromParent)(r||t,o,n.props.scale)}function B$e(t,e,n){const r=!(0,Yc.isNum)(t.lastX),i=yU(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function F$e(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function $$e(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function yU(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var YR={},XR={};Object.defineProperty(XR,"__esModule",{value:!0});XR.default=j$e;function j$e(){}Object.defineProperty(YR,"__esModule",{value:!0});YR.default=void 0;var C3=V$e(V),pc=vU(b$),U$e=vU(gy),il=ss,ng=Bh,A3=zh,Vw=vU(XR);function vU(t){return t&&t.__esModule?t:{default:t}}function vse(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(vse=function(r){return r?n:e})(t)}function V$e(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=vse(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Fl(t,e,n){return e=W$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$e(t){var e=H$e(t,"string");return typeof e=="symbol"?e:String(e)}function H$e(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Gd={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let rg=Gd.mouse,KR=class extends C3.Component{constructor(){super(...arguments),Fl(this,"dragging",!1),Fl(this,"lastX",NaN),Fl(this,"lastY",NaN),Fl(this,"touchIdentifier",null),Fl(this,"mounted",!1),Fl(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,il.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,il.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,il.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,ng.getControlPosition)(e,i,this);if(o==null)return;const{x:a,y:s}=o,l=(0,ng.createCoreData)(this,a,s);(0,Vw.default)("DraggableCore: handleDragStart: %j",l),(0,Vw.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,il.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=s,(0,il.addEvent)(r,rg.move,this.handleDrag),(0,il.addEvent)(r,rg.stop,this.handleDragStop))}),Fl(this,"handleDrag",e=>{const n=(0,ng.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let s=r-this.lastX,l=i-this.lastY;if([s,l]=(0,ng.snapToGrid)(this.props.grid,s,l),!s&&!l)return;r=this.lastX+s,i=this.lastY+l}const o=(0,ng.createCoreData)(this,r,i);if((0,Vw.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),Fl(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,ng.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,ng.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const o=(0,ng.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,il.removeUserSelectStyles)(s.ownerDocument),(0,Vw.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,Vw.default)("DraggableCore: Removing handlers"),(0,il.removeEvent)(s.ownerDocument,rg.move,this.handleDrag),(0,il.removeEvent)(s.ownerDocument,rg.stop,this.handleDragStop))}),Fl(this,"onMouseDown",e=>(rg=Gd.mouse,this.handleDragStart(e))),Fl(this,"onMouseUp",e=>(rg=Gd.mouse,this.handleDragStop(e))),Fl(this,"onTouchStart",e=>(rg=Gd.touch,this.handleDragStart(e))),Fl(this,"onTouchEnd",e=>(rg=Gd.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,il.addEvent)(e,Gd.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,il.removeEvent)(n,Gd.mouse.move,this.handleDrag),(0,il.removeEvent)(n,Gd.touch.move,this.handleDrag),(0,il.removeEvent)(n,Gd.mouse.stop,this.handleDragStop),(0,il.removeEvent)(n,Gd.touch.stop,this.handleDragStop),(0,il.removeEvent)(e,Gd.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,il.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:U$e.default.findDOMNode(this)}render(){return C3.cloneElement(C3.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};YR.default=KR;Fl(KR,"displayName","DraggableCore");Fl(KR,"propTypes",{allowAnyClick:pc.default.bool,children:pc.default.node.isRequired,disabled:pc.default.bool,enableUserSelectHack:pc.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:pc.default.arrayOf(pc.default.number),handle:pc.default.string,cancel:pc.default.string,nodeRef:pc.default.object,onStart:pc.default.func,onDrag:pc.default.func,onStop:pc.default.func,onMouseDown:pc.default.func,scale:pc.default.number,className:A3.dontSetMe,style:A3.dontSetMe,transform:A3.dontSetMe});Fl(KR,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=g(V),n=h(b$),r=h(gy),i=h(u$e),o=ss,a=Bh,s=zh,l=h(YR),c=h(XR);function h(C){return C&&C.__esModule?C:{default:C}}function p(C){if(typeof WeakMap!="function")return null;var T=new WeakMap,k=new WeakMap;return(p=function(R){return R?k:T})(C)}function g(C,T){if(!T&&C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var k=p(T);if(k&&k.has(C))return k.get(C);var R={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in C)if(F!=="default"&&Object.prototype.hasOwnProperty.call(C,F)){var H=L?Object.getOwnPropertyDescriptor(C,F):null;H&&(H.get||H.set)?Object.defineProperty(R,F,H):R[F]=C[F]}return R.default=C,k&&k.set(C,R),R}function v(){return v=Object.assign?Object.assign.bind():function(C){for(var T=1;T<arguments.length;T++){var k=arguments[T];for(var R in k)Object.prototype.hasOwnProperty.call(k,R)&&(C[R]=k[R])}return C},v.apply(this,arguments)}function x(C,T,k){return T=_(T),T in C?Object.defineProperty(C,T,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[T]=k,C}function _(C){var T=S(C,"string");return typeof T=="symbol"?T:String(T)}function S(C,T){if(typeof C!="object"||C===null)return C;var k=C[Symbol.toPrimitive];if(k!==void 0){var R=k.call(C,T||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(C)}class w extends e.Component{static getDerivedStateFromProps(T,k){let{position:R}=T,{prevPropsPosition:L}=k;return R&&(!L||R.x!==L.x||R.y!==L.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:L}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(T){super(T),x(this,"onDragStart",(k,R)=>{if((0,c.default)("Draggable: onDragStart: %j",R),this.props.onStart(k,(0,a.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(k,R)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",R);const L=(0,a.createDraggableData)(this,R),F={x:L.x,y:L.y,slackX:0,slackY:0};if(this.props.bounds){const{x:Z,y:j}=F;F.x+=this.state.slackX,F.y+=this.state.slackY;const[X,le]=(0,a.getBoundPosition)(this,F.x,F.y);F.x=X,F.y=le,F.slackX=this.state.slackX+(Z-F.x),F.slackY=this.state.slackY+(j-F.y),L.x=F.x,L.y=F.y,L.deltaX=F.x-this.state.x,L.deltaY=F.y-this.state.y}if(this.props.onDrag(k,L)===!1)return!1;this.setState(F)}),x(this,"onDragStop",(k,R)=>{if(!this.state.dragging||this.props.onStop(k,(0,a.createDraggableData)(this,R))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",R);const F={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:Z,y:j}=this.props.position;F.x=Z,F.y=j}this.setState(F)}),this.state={dragging:!1,dragged:!1,x:T.position?T.position.x:T.defaultPosition.x,y:T.position?T.position.y:T.defaultPosition.y,prevPropsPosition:{...T.position},slackX:0,slackY:0,isElementSVG:!1},T.position&&!(T.onDrag||T.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var T,k;return(T=(k=this.props)===null||k===void 0||(k=k.nodeRef)===null||k===void 0?void 0:k.current)!==null&&T!==void 0?T:r.default.findDOMNode(this)}render(){const{axis:T,bounds:k,children:R,defaultPosition:L,defaultClassName:F,defaultClassNameDragging:H,defaultClassNameDragged:Z,position:j,positionOffset:X,scale:le,...me}=this.props;let ie={},ce=null;const xe=!!!j||this.state.dragging,te=j||L,he={x:(0,a.canDragX)(this)&&xe?this.state.x:te.x,y:(0,a.canDragY)(this)&&xe?this.state.y:te.y};this.state.isElementSVG?ce=(0,o.createSVGTransform)(he,X):ie=(0,o.createCSSTransform)(he,X);const ve=(0,i.default)(R.props.className||"",F,{[H]:this.state.dragging,[Z]:this.state.dragged});return e.createElement(l.default,v({},me,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(R),{className:ve,style:{...R.props.style,...ie},transform:ce}))}}t.default=w,x(w,"displayName","Draggable"),x(w,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),x(w,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(use);const{default:xse,DraggableCore:G$e}=use;mU.exports=xse;mU.exports.default=xse;mU.exports.DraggableCore=G$e;var xU={},q$e=ii;Object.defineProperty(xU,"__esModule",{value:!0});var ZR=xU.default=void 0,Y$e=q$e(fi()),X$e=z;ZR=xU.default=(0,Y$e.default)((0,X$e.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");var _U={},K$e=ii;Object.defineProperty(_U,"__esModule",{value:!0});var bU=_U.default=void 0,Z$e=K$e(fi()),J$e=z;bU=_U.default=(0,Z$e.default)((0,J$e.jsx)("path",{d:"M5 4v2h14V4zm0 10h4v6h6v-6h4l-7-7z"}),"Publish");var wU={},Q$e=ii;Object.defineProperty(wU,"__esModule",{value:!0});var SU=wU.default=void 0,eje=Q$e(fi()),tje=z;SU=wU.default=(0,eje.default)((0,tje.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var MU={},nje=ii;Object.defineProperty(MU,"__esModule",{value:!0});var _se=MU.default=void 0,rje=nje(fi()),ije=z;_se=MU.default=(0,rje.default)((0,ije.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"Pending");const YB=({position:t,property:e,attribute:n})=>{const r=xr(g=>g.devices.items[t.deviceId]),i=e||n,o=e?t[e]:t.attributes[n],a="m",s="m",l="m/s",c="ddm",h=!1,p=()=>{switch(i){case"fixTime":case"deviceTime":case"serverTime":return sse(o,"seconds",h);case"latitude":return p7("latitude",o,c);case"longitude":return p7("longitude",o,c);case"speed":return n$e(o,l);case"course":return Q5e(o);case"altitude":return t$e(o,s);case"batteryLevel":return ose(o);case"alarm":return ase(o);case"gimbal":return o.toString();case"obstacle_info":return o.toString();case"odometer":case"distance":case"totalDistance":return e$e(o,a);case"hours":return r$e(o);default:return typeof o=="number"?J5e(o):typeof o=="boolean"?ise(o):o||""}};switch(i){case"image":case"video":case"audio":return z.jsx(wPe,{href:`/api/media/${r.uniqueId}/${o}`,target:"_blank",children:o});case"totalDistance":case"hours":case"address":case"network":return"";default:return p()}},oje=Qr(t=>({root:{[t.breakpoints.down("md")]:{bottom:`calc(${t.dimensions.bottomBarHeight}px + ${t.spacing(1)})`}},button:{height:"auto",marginTop:0,marginBottom:0,color:t.palette.colors.negative}})),sje=({open:t,endpoint:e,itemId:n,onResult:r})=>{const i=oje(),o=async()=>{(await fetch(`/api/${e}/${n}`,{method:"DELETE"})).ok?(console.log("elemento eliminado"),r(!0)):r(!1)};return z.jsx(vke,{className:i.root,open:t,autoHideDuration:2750,onClose:()=>r(!1),message:"confirmar para eliminar",action:z.jsx(Gr,{size:"small",className:i.button,onClick:o,children:"Eliminar"})})},bse=Qr(t=>({card:{pointerEvents:"auto",width:t.dimensions.popupMaxWidth},media:{height:t.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:t.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1,1,0,2)},content:{paddingTop:t.spacing(1),paddingBottom:t.spacing(1)},negative:{color:t.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:e})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[t.breakpoints.up("md")]:{left:`calc(50% + ${e} / 2)`,bottom:t.spacing(3)},[t.breakpoints.down("md")]:{left:"50%",bottom:`calc(${t.spacing(3)} + ${t.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),P3=({name:t,content:e})=>{const n=bse();return z.jsxs(Yg,{children:[z.jsx(jo,{className:n.card,children:z.jsx(_n,{variant:"body2",children:t})}),z.jsx(jo,{className:n.cell,children:z.jsx(_n,{variant:"body2",color:"textSecondary",children:e})})]})},aje=({deviceId:t,position:e,onClose:n,disableActions:r,desktopPadding:i=0})=>{var w;const o=bse(),a=Oh(),s=Zl(),l=xr(C=>C.devices.items[t]),c=(w=l==null?void 0:l.attributes)==null?void 0:w.deviceImage,h="speed,course,batteryLevel,gimbal",[p,g]=V.useState(null),[v,x]=V.useState(!1),_=async(C,T,k)=>{console.log("send command uavud: "+C+T);try{const R=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:C,type:T,attributes:k}),headers:{"Content-Type":"application/json"}});if(R.ok){let L=await R.json();console.log(L)}else throw console.log("Error1:"+R),Error(await R.text())}catch(R){console.log("Error2:"+R)}},S=async C=>{if(C){const T=await fetch("/api/devices");if(T.ok){let k=await T.json();s(tu.refresh(Object.values(k)))}else throw Error(await T.text())}x(!1)};return z.jsxs(z.Fragment,{children:[z.jsx("div",{className:o.root,children:l&&z.jsxs(xf,{elevation:3,className:o.card,children:[c?z.jsx(Jne,{className:o.media,image:`/api/media/${l.uniqueId}/${c}`,children:z.jsx(gr,{size:"small",onClick:n,onTouchStart:n,children:z.jsx(pf,{fontSize:"small",className:o.mediaButton})})}):z.jsxs("div",{className:o.header,children:[z.jsx(_n,{variant:"body2",color:"textSecondary",children:l.name}),z.jsx(gr,{size:"small",onClick:n,onTouchStart:n,children:z.jsx(pf,{fontSize:"small"})})]}),e&&z.jsx(pR,{className:o.content,children:z.jsx(mR,{size:"small",classes:{root:o.table},children:z.jsxs(yR,{children:[e.hasOwnProperty("latitude")&&z.jsx(P3,{name:"Position",content:z.jsx("a",{href:"https://www.google.com/maps?q="+e.latitude+","+e.longitude,target:"_blank",children:"["+e.latitude.toFixed(6)+","+e.longitude.toFixed(6)+"]"})},"latitude"),h.split(",").filter(C=>e.hasOwnProperty(C)||e.attributes.hasOwnProperty(C)).map(C=>z.jsx(P3,{name:C,content:z.jsx(YB,{position:e,property:e.hasOwnProperty(C)?C:null,attribute:e.hasOwnProperty(C)?null:C})},C)),e.attributes.hasOwnProperty("alarm")&&e.attributes.alarm=="threat"&&z.jsx(P3,{name:"Alarm "+e.attributes.alarm,content:z.jsxs("div",{style:{width:"100%"},children:[z.jsx(Gr,{variant:"contained",size:"small",color:"primary",style:{margin:"1px",display:"inline-block"},onClick:()=>_(l.id,"threat_confirmation"),children:"Validate"}),z.jsx(Gr,{variant:"contained",size:"small",color:"secondary",style:{margin:"1px",display:"inline-block"},onClick:()=>_(l.id,"threat_defuse"),children:"Dismiss"})]})},"alarm1")]})})}),z.jsxs(Zne,{classes:{root:o.actions},disableSpacing:!0,children:[z.jsx(gr,{color:"secondary",onClick:C=>g(C.currentTarget),disabled:!e,children:z.jsx(_se,{})}),z.jsx(gr,{onClick:()=>_(l.id,"SincroniseFiles"),children:z.jsx(ZR,{})}),z.jsx(gr,{onClick:()=>_(l.id,"commandMission"),disabled:r,children:z.jsx(bU,{})}),z.jsx(gr,{onClick:()=>a(`/device/${t}`),children:z.jsx(SU,{})}),z.jsx(gr,{onClick:()=>x(!0),className:o.negative,children:z.jsx(yu,{})})]})]})}),e&&z.jsxs(K$,{anchorEl:p,open:!!p,onClose:()=>g(null),children:[z.jsx(lu,{onClick:()=>a(`/device/${t}`),children:z.jsx(_n,{color:"secondary",children:"Detalle Dispositivo"})}),z.jsx(lu,{component:"a",target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${e.latitude}%2C${e.longitude}`,children:"linkGoogleMaps"}),z.jsx(lu,{component:"a",target:"_blank",href:`http://maps.apple.com/?ll=${e.latitude},${e.longitude}`,children:"linkAppleMaps"}),z.jsx(lu,{component:"a",target:"_blank",href:`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${e.latitude}%2C${e.longitude}&heading=${e.course}`,children:"linkStreetView"})]}),z.jsx(sje,{open:v,endpoint:"devices",itemId:t,onResult:C=>S(C)})]})};function lje(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var cje=`/* add css styles here (optional) */

.styles_ReactSwipeButton__2WML2 {
  float: left;
  width: 100%;
  height: 50px;
  position: relative;
}
.styles_ReactSwipeButton__2WML2,
.styles_ReactSwipeButton__2WML2 * {
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none;   /* Chrome/Safari/Opera */
  -khtml-user-select: none;    /* Konqueror */
  -moz-user-select: none;      /* Firefox */
  -ms-user-select: none;       /* Internet Explorer/Edge */
  user-select: none;           /* Non-prefixed version, currently
                                  not supported by any browser */
}
.styles_rsbContainer__KXpXK{
  float: left;
  width: 100%;
  height: 100%;
  background: #eee;
  border-radius: 50px;
  position: relative;
  /* box-shadow: inset 1px 1px 4px rgba(0,0,0,0.1); */
  overflow: hidden;
}
.styles_rsbContainerUnlocked__1T0vd{
  width: 50%!important;
  margin-left: 25%;
  transition: 0.5s;
  cursor: default;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSlider__1yYxD{
  left: 100%!important;
  cursor: default;
  pointer-events: none;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderArrow__2D9q4 {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderCircle__3G0Zs {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbcSlider__1yYxD {
  float: left;
  width: 100%;
  position: absolute;
  height: 50px;
  top:0;
  left: 50px;
  margin-left:-100%;
  background: #333;
  border-radius: 25px;
  z-index: 100;
  /* box-shadow: 1px 1px 5px rgba(0,0,0,0.3); */
  cursor: pointer;
}
.styles_rsbcSliderText__3h08j{
  position: absolute;
  top:0;
  left:0;
  right:0;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  color: #fff;
  font-size: 13px;

}
.styles_rsbcSliderArrow__2D9q4{
  float: left;
  position: absolute;
  transform: rotate(45deg);
  border: 2px solid #fff;
  height: 8px;
  width: 8px;
  top:50%;
  right: 22px;
  margin-top: -6px;
  border-left-color: transparent;
  border-bottom-color: transparent;
  transform-origin: center;
  z-index: 10;
}
.styles_rsbcSliderCircle__3G0Zs {
  position: absolute;
  right: 0;
  background: #444;
  top:0;
  height: 50px;
  width: 50px;
  border-radius: 100%;
}
.styles_rsbcText__16wA0 {
  float: left;
  position: absolute;
  top:0;
  left:0;
  right:0;
  height: 50px;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  font-size: 13px;
  color: #aaa;
}`,ig={ReactSwipeButton:"styles_ReactSwipeButton__2WML2",rsbContainer:"styles_rsbContainer__KXpXK",rsbContainerUnlocked:"styles_rsbContainerUnlocked__1T0vd",rsbcSlider:"styles_rsbcSlider__1yYxD",rsbcSliderArrow:"styles_rsbcSliderArrow__2D9q4",rsbcSliderCircle:"styles_rsbcSliderCircle__3G0Zs",rsbcSliderText:"styles_rsbcSliderText__3h08j",rsbcText:"styles_rsbcText__16wA0"};lje(cje);var uje=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},dje=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fje=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},x7=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},_7=Ze.createRef(),iC=Ze.createRef(),I3="ontouchstart"in document.documentElement,hje=function(t){fje(e,t);function e(){var n,r,i,o;uje(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return o=(r=(i=x7(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(s))),i),i.isDragging=!1,i.sliderLeft=0,i.state={},i.onDrag=function(c){i.unmounted||i.state.unlocked||i.isDragging&&(I3?i.sliderLeft=Math.min(Math.max(0,c.touches[0].clientX-i.startX),i.containerWidth):i.sliderLeft=Math.min(Math.max(0,c.clientX-i.startX),i.containerWidth),i.updateSliderStyle())},i.updateSliderStyle=function(){i.unmounted||i.state.unlocked||(_7.current.style.left=i.sliderLeft+50+"px")},i.stopDrag=function(){i.unmounted||i.state.unlocked||i.isDragging&&(i.isDragging=!1,i.sliderLeft>i.containerWidth*.9?(i.sliderLeft=i.containerWidth,i.onSuccess(),i.props.onSuccess&&i.props.onSuccess()):(i.sliderLeft=0,i.props.onFailure&&i.props.onFailure()),i.updateSliderStyle())},i.startDrag=function(c){i.unmounted||i.state.unlocked||(i.isDragging=!0,I3?i.startX=c.touches[0].clientX:i.startX=c.clientX)},i.onSuccess=function(){iC.current.style.width=iC.current.clientWidth+"px",i.setState({unlocked:!0})},i.getText=function(){return i.state.unlocked?i.props.text_unlocked||"UNLOCKED":i.props.text||"SLIDE"},i.reset=function(){i.unmounted||i.setState({unlocked:!1},function(){i.sliderLeft=0,i.updateSliderStyle()})},r),x7(i,o)}return dje(e,[{key:"componentDidMount",value:function(){I3?(document.addEventListener("touchmove",this.onDrag),document.addEventListener("touchend",this.stopDrag)):(document.addEventListener("mousemove",this.onDrag),document.addEventListener("mouseup",this.stopDrag)),this.containerWidth=iC.current.clientWidth-50}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return Ze.createElement("div",{className:ig.ReactSwipeButton},Ze.createElement("div",{className:ig.rsbContainer+" "+(this.state.unlocked?ig.rsbContainerUnlocked:""),ref:iC},Ze.createElement("div",{className:ig.rsbcSlider,ref:_7,onMouseDown:this.startDrag,style:{background:this.props.color},onTouchStart:this.startDrag},Ze.createElement("span",{className:ig.rsbcSliderText},this.getText()),Ze.createElement("span",{className:ig.rsbcSliderArrow}),Ze.createElement("span",{className:ig.rsbcSliderCircle,style:{background:this.props.color}})),Ze.createElement("div",{className:ig.rsbcText},this.getText())))}}]),e}(V.Component);const pje=Qr(t=>({card:{pointerEvents:"auto",width:t.dimensions.popupMaxWidth},media:{height:t.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:t.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1,1,0,2)},content:{paddingTop:"20px",paddingBottom:"20px"},negative:{color:t.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:{pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",top:"50%",transform:"translate(-50%,-50%)"}})),mje=({enable:t,onClose:e,onSucces:n})=>{const r=pje();return z.jsx(z.Fragment,{children:z.jsx("div",{className:r.root,children:t&&z.jsxs(xf,{elevation:5,className:r.card,children:[z.jsxs("div",{className:r.header,children:[z.jsx(_n,{variant:"body2",color:"textSecondary",children:"Confirm mission"}),z.jsx(gr,{size:"small",onClick:e,onTouchStart:e,children:z.jsx(pf,{fontSize:"small"})})]}),z.jsxs(pR,{className:r.content,children:[z.jsx(_n,{variant:"body1",color:"textSecondary",children:"Send all devices to command the mission load"}),z.jsx("div",{style:{marginTop:"10px",height:"50px"},children:z.jsx(hje,{text:"Slide to Command Mission",color:"#7393B3",text_unlocked:"Commanded",onSuccess:n})})]})]})})})};var EU={},gje=ii;Object.defineProperty(EU,"__esModule",{value:!0});var wse=EU.default=void 0,yje=gje(fi()),vje=z;wse=EU.default=(0,yje.default)((0,vje.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var TU={},xje=ii;Object.defineProperty(TU,"__esModule",{value:!0});var Sse=TU.default=void 0,_je=xje(fi()),bje=z;Sse=TU.default=(0,_je.default)((0,bje.jsx)("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewList");var CU={},wje=ii;Object.defineProperty(CU,"__esModule",{value:!0});var Mse=CU.default=void 0,Sje=wje(fi()),Mje=z;Mse=CU.default=(0,Sje.default)((0,Mje.jsx)("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune");const Eje={display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},Ese=({SetAddUAVOpen:t})=>z.jsxs(sm,{style:Eje,children:[z.jsx(gr,{edge:"start",children:z.jsx(Sse,{})}),z.jsx(J$,{placeholder:"device",endAdornment:z.jsx(YAe,{position:"end",children:z.jsx(gr,{size:"small",edge:"end",children:z.jsx(EEe,{color:"info",variant:"dot",children:z.jsx(Mse,{fontSize:"small"})})})}),size:"small",fullWidth:!0}),z.jsx(gr,{edge:"end",onClick:()=>{t(!0)},children:z.jsx(Tg,{children:z.jsx(wse,{})})})]}),Tje=Qr(t=>({card:{pointerEvents:"auto"},media:{width:t.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:t.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:t.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)"}})),b7=({deviceId:t,deviceIp:e,camera_src:n,onClose:r})=>{const i=Tje();xr(x=>x.data.camera[t]);const o=xr(x=>x.devices.items[t]),a="http://"+e+":8889/"+n,[s,l]=V.useState(!1);let c=i.card,h=s?i.root_max:i.root,p=s?i.media1:i.media;function g(){l(!s)}V.useRef();function v(){r(),l(!1)}return V.useEffect(()=>{t&&console.log("device in camera-"+o.name+"-"+e+"+"+n)},[t]),z.jsx("div",{className:h,children:o&&z.jsxs(xf,{elevation:3,className:c,children:[z.jsxs("div",{className:i.gruopBtn,children:[z.jsx(gr,{size:"small",onClick:g,onTouchStart:g,children:z.jsx(jj,{fontSize:"small",className:i.mediaButton})}),z.jsx(gr,{size:"small",onClick:v,children:z.jsx(pf,{fontSize:"small",className:i.mediaButton})})]}),z.jsx("div",{className:i.tittle,children:"Image "+o.name}),z.jsx("iframe",{src:a,className:p})]})})},Tse=({filtereddeviceid:t=-1})=>{const e=V.useId(),n=`${e}-points`,r=`${e}-points-clusters`,i=xr(x=>x.mission.route),o=xr(x=>x.devices.items),a=!0,s=.6,l=()=>gt.getCanvas().style.cursor="pointer",c=()=>gt.getCanvas().style.cursor="",h=(x,_)=>({id:_.id,name:x[_.routeid].name,uav:x[_.routeid].uav,latitude:x[_.routeid].wp[_.id].pos[0],longitude:x[_.routeid].wp[_.id].pos[1],altitud:x[_.routeid].wp[_.id].pos[2],yaw:x[_.routeid].wp[_.id].yaw,speed:x[_.routeid].wp[_.id].speed,gimbal:x[_.routeid].wp[_.id].gimbal,actions:x[_.routeid].wp[_.id].action,attributes:x[_.routeid].attributes,category:"default",color:x[_.routeid].id}),p=x=>{console.log("target"),console.log(x);let _=`<div style="color: #FF7A59;text-align: center" ><b>UAV: ${x.features[0].properties.uav}</b>
      <span><a href="https://www.google.com/maps?q=${x.features[0].properties.latitude},${x.features[0].properties.longitude}" target="_blank">
      Point_${x.features[0].properties.id}</a></span></div>
          <div><span>Route: ${x.features[0].properties.name}</span></div>
          <div style="display:inline"><span> Height: </span><span>${x.features[0].properties.altitud.toFixed(1)}m </span></div>`;_=x.features[0].properties.hasOwnProperty("speed")?_+`<div style="display:inline"><span>Speed: </span><span>${x.features[0].properties.speed} m/s </span></div>`:_,_=x.features[0].properties.hasOwnProperty("yaw")?_+`<div style="display:inline"><span>Yaw: </span><span>${x.features[0].properties.yaw}° </span></div>`:_,_=x.features[0].properties.hasOwnProperty("gimbal")?_+`<div style="display:inline"><span>Gimbal: </span><span>${x.features[0].properties.gimbal}° </span></div>`:_;let S="<div><b> Waypoint actions: </b></div>";if(x.features[0].properties.actions){let T=JSON.parse(x.features[0].properties.actions);S=S+Object.keys(T).map(k=>{let R=k=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${k}: </span><span>${T[k]} ${R} </span></div>`}).join("")}let w="<div><b> Attributes_mission: </b></div>",C=JSON.parse(x.features[0].properties.attributes);w=w+Object.keys(C).map(T=>{let k=T=="idle_vel"||T=="max_vel"?"m/s":"";return`<div style="display:inline"><span>${T}: </span><span>${C[T]} ${k} </span></div>`}).join(""),new v1.Popup().setLngLat(x.lngLat).setHTML(_+S+w).addTo(gt)};V.useEffect(()=>(gt.addSource(n,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:a,clusterMaxZoom:10,clusterRadius:50}),gt.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),gt.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),gt.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":ff(gt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),gt.addLayer({id:"mission-points",type:"symbol",source:n,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":s,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":ff(gt),"text-size":14},paint:{"text-color":"white"}}),gt.addLayer({id:r,type:"symbol",source:n,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":s,"text-field":"M","text-font":ff(gt),"text-size":14}}),gt.on("click","mission-points",p),gt.on("mouseenter","mission-points",l),gt.on("mouseleave","mission-points",c),()=>{gt.off("click","mission-points",p),gt.off("mouseenter","mission-points",l),gt.off("mouseleave","mission-points",c),gt.getLayer("mission-line")&&gt.removeLayer("mission-line"),gt.getLayer("mission-title")&&gt.removeLayer("mission-title"),gt.getLayer("mission-points")&&gt.removeLayer("mission-points"),gt.getLayer(r)&&gt.removeLayer(r),gt.getSource(e)&&gt.removeSource(e),gt.getSource(n)&&gt.removeSource(n)}),[]);function g(x){let _=x.wp.map(function(S){return[S.pos[1],S.pos[0]]});return{id:x.id,type:"Feature",geometry:{type:"LineString",coordinates:_},properties:{name:x.uav,color:sy.colors_devices[x.id]}}}function v(x){let _=[];return x.forEach((S,w)=>{S.wp.forEach((C,T)=>{_.push({longitude:C.pos[1],latitude:C.pos[0],id:T,routeid:w})})}),_}return V.useEffect(()=>{let x=i.filter(S=>t<0||S.uav==o[t].name);console.log("mission filtered"),console.log(x);let _=v(x);gt.getSource(n).setData({type:"FeatureCollection",features:_.map(S=>({type:"Feature",geometry:{type:"Point",coordinates:[S.longitude,S.latitude]},properties:h(x,S)}))}),gt.getSource(e).setData({type:"FeatureCollection",features:x.map(S=>g(S))})},[i]),null},Cje=({markers:t,showTitles:e})=>{const n=V.useId();Cre();const r=.4;V.useEffect(()=>(gt.addSource(n,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e?gt.addLayer({id:n,type:"symbol",source:n,filter:["!has","point_count"],layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0,"text-field":"{title}","text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*r],"text-font":ff(gt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}):gt.addLayer({id:n,type:"symbol",source:n,layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0}}),()=>{gt.getLayer(n)&&gt.removeLayer(n),gt.getSource(n)&&gt.removeSource(n)}),[e]);function i(o){const a=[];return o.elements&&o.elements.forEach((s,l)=>{s.items.forEach((c,h)=>{a.push({...c,image:s.type,title:`${l}-${h}`})})}),o.bases&&o.bases.forEach((s,l)=>{a.push({...s,image:"base",title:l})}),a}return V.useEffect(()=>{var a;let o=i(t);(a=gt.getSource(n))==null||a.setData({type:"FeatureCollection",features:o.map(({latitude:s,longitude:l,image:c,title:h})=>({type:"Feature",geometry:{type:"Point",coordinates:[l,s]},properties:{image:c||"default-neutral",title:h||""}}))})},[e,t]),null},Cse=({positions:t,onClick:e,showStatus:n,selectedPosition:r,titleField:i})=>{const o=V.useId(),a=`${o}-clusters`,s=`${o}-direction`,l=`${o}-mission`,c=xr(R=>R.devices.items),h=xr(R=>R.mission.route),p=1,g=!0,v=!1,x="all",_=(R,L,F)=>{const H=R[L.deviceId];let Z;switch(x){case"none":Z=!1;break;case"all":Z=!0;break;default:Z=F===L.id;break}let j=h.find(le=>le.uav==H.name),X=j?j.id:null;return{id:L.id,deviceId:L.deviceId,name:H.name,fixTime:sse(L.fixTime,"seconds",v),category:PP(H.category),color:n?lse(H.status):"neutral",rotation:L.course,direction:Z,mission:!!j,missionColor:X}},S=()=>gt.getCanvas().style.cursor="pointer",w=()=>gt.getCanvas().style.cursor="",C=V.useCallback(R=>{!R.defaultPrevented&&e&&e()},[e]),T=V.useCallback(R=>{R.preventDefault();const L=R.features[0];e&&e(L.properties.id,L.properties.deviceId)},[e]),k=V.useCallback(R=>{R.preventDefault();const L=gt.queryRenderedFeatures(R.point,{layers:[a]}),F=L[0].properties.cluster_id;gt.getSource(o).getClusterExpansionZoom(F,(H,Z)=>{H||gt.easeTo({center:L[0].geometry.coordinates,zoom:Z})})},[a]);return V.useEffect(()=>(gt.addSource(o,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:g,clusterMaxZoom:14,clusterRadius:50}),gt.addLayer({id:o,type:"symbol",source:o,filter:["!has","point_count"],layout:{"icon-image":"{category}-{color}","icon-size":p,"icon-allow-overlap":!0,"text-field":`{${i||"name"}}`,"text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*p],"text-font":ff(gt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),gt.addLayer({id:a,type:"symbol",source:o,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":p,"text-field":"{point_count_abbreviated}","text-font":ff(gt),"text-size":14}}),gt.addLayer({id:s,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","direction",!0]],layout:{"icon-image":"direction","icon-size":p,"icon-allow-overlap":!0,"icon-rotate":["get","rotation"],"icon-rotation-alignment":"map"}}),gt.addLayer({id:l,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","mission",!0]],layout:{"icon-image":"mission-{missionColor}","icon-size":p}}),gt.on("mouseenter",o,S),gt.on("mouseleave",o,w),gt.on("mouseenter",a,S),gt.on("mouseleave",a,w),gt.on("click",o,T),gt.on("click",a,k),gt.on("click",C),()=>{gt.off("mouseenter",o,S),gt.off("mouseleave",o,w),gt.off("mouseenter",a,S),gt.off("mouseleave",a,w),gt.off("click",o,T),gt.off("click",a,k),gt.off("click",C),gt.getLayer(o)&&gt.removeLayer(o),gt.getLayer(a)&&gt.removeLayer(a),gt.getLayer(s)&&gt.removeLayer(s),gt.getLayer(l)&&gt.removeLayer(l),gt.getSource(o)&&gt.removeSource(o)}),[g,a,s,l,T,k]),V.useEffect(()=>{gt.getSource(o).setData({type:"FeatureCollection",features:t.filter(R=>c.hasOwnProperty(R.deviceId)).map(R=>({type:"Feature",geometry:{type:"Point",coordinates:[R.longitude,R.latitude]},properties:_(c,R,r&&r.id)}))})},[c,t,r]),null},Aje=t=>{const e=V.useRef();return V.useEffect(()=>{e.current=t}),e.current},Pje=()=>{const t=xr(o=>o.devices.selectedId),e=Aje(t),n=10,r=!1,i=xr(o=>o.data.positions[t]);return V.useEffect(()=>{(t!==e||r)&&i&&i.hasOwnProperty("latitude")&&gt.easeTo({center:[i.longitude,i.latitude],zoom:Math.max(gt.getZoom(),n),offset:[0,-300/2]})}),null},AU=()=>{const t="km",e=V.useMemo(()=>new v1.ScaleControl,[]);return V.useEffect(()=>(gt.addControl(e,"bottom-right"),()=>gt.removeControl(e)),[e]),V.useEffect(()=>{switch(t){case"mi":e.setUnit("imperial");break;case"nmi":e.setUnit("nautical");break;case"km":default:e.setUnit("metric");break}},[e,t]),null},PU=()=>{const t=xr(s=>s.devices.selectedId),e=xr(s=>s.session.positions),n=kA("latitude"),r=kA("longitude"),i=kA("zoom",10),[o,a]=V.useState(!1);return V.useEffect(()=>{if(console.log("default"+n+"kk"+r+o),t)a(!0);else if(!o)if(n&&r)gt.jumpTo({center:[r,n],zoom:i}),a(!0);else{const s=Object.values(e).map(l=>[l.longitude,l.latitude]);if(s.length>1){const l=s.reduce((h,p)=>h.extend(p),new v1.LngLatBounds(s[0],s[1])),c=gt.getCanvas();gt.fitBounds(l,{duration:0,padding:Math.min(c.width,c.height)*.1}),a(!0)}else if(s.length){const[l]=s;gt.jumpTo({center:l,zoom:Math.max(gt.getZoom(),10)}),a(!0)}}},[t,o,n,r,i,e]),null},Ase=({filteredPositions:t,markers:e=[],selectedPosition:n,filteredMissiondeviceid:r=-1,onEventsClick:i})=>{const o=Zl(),a=V.useCallback((s,l)=>{o(tu.selectId(l))},[o]);return z.jsxs(z.Fragment,{children:[z.jsxs(uj,{children:[z.jsx(Cje,{markers:e}),z.jsx(Tse,{filtereddeviceid:r}),z.jsx(Cse,{positions:t,onClick:a,selectedPosition:n,showStatus:!0}),z.jsx(Pje,{}),z.jsx(PU,{})]}),z.jsx(AU,{})]})},Ije=Qr(t=>({root:{height:"100%"},sidebar:{pointerEvents:"none",display:"flex",flexDirection:"column",[t.breakpoints.up("md")]:{position:"fixed",left:0,top:0,height:`calc(100% - ${t.spacing(3)})`,width:t.dimensions.drawerWidthDesktop,margin:t.spacing(1.5),zIndex:3},[t.breakpoints.down("md")]:{height:"100%",width:"100%"}},header:{pointerEvents:"auto",zIndex:6},footer:{pointerEvents:"auto",zIndex:5},middle:{flex:1,display:"grid"},contentMap:{pointerEvents:"auto",gridArea:"1 / 1"},contentList:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"}})),kje=()=>{const t=Ije(),e=Zl(),n=xd(),r=xr(ce=>ce.devices.items),i=xr(ce=>ce.data.positions),o=xr(ce=>ce.data.camera),a=xr(ce=>ce.devices.selectedId),s=xr(ce=>ce.session.markers),[l,c]=V.useState([]),[h,p]=V.useState([]),[g,v]=V.useState([]),[x,_]=V.useState(),[S,w]=V.useState(),[C,T]=V.useState(),[k,R]=V.useState(),L=`${window.location.hostname}`,F=l.find(ce=>a&&ce.deviceId===a),H=g.find(ce=>a&&ce.deviceId==a);let Z=Object.values(r);V.useContext(uy);const[j,X]=V.useState(!1),[le,me]=V.useState([]),ie=(ce,fe)=>{console.log(`${ce} - ${fe}`)};return V.useCallback((ce,fe)=>{e(tu.selectId(fe))},[e]),V.useEffect(()=>{p(s)},[s]),V.useEffect(()=>{c(Object.values(i))},[i]),V.useEffect(()=>{v(Object.values(o))},[o]),V.useEffect(()=>{a?(_(r[a].ip),r[a].camera.length>0?(w(r[a].camera[0].type),T(r[a].camera[0].source)):w(null),R(r[a].name)):(_(null),w(null))},[a]),z.jsx("div",{className:t.root,children:z.jsxs(bE,{notification:ie,children:[z.jsx(DR,{SetAddUAVOpen:X}),z.jsx(wE,{SetAddUAVOpen:X}),z.jsx("div",{style:{position:"relative",float:"right",width:"calc(100% - 360px)",height:"calc(100vh - 88px)"},children:z.jsx(Ase,{filteredPositions:l,markers:h,selectedPosition:F})}),z.jsxs("div",{className:t.sidebarStyle,children:[z.jsx(Ss,{square:!0,elevation:3,className:t.header,children:z.jsx(Ese,{SetAddUAVOpen:X})}),z.jsx("div",{className:t.middleStyle,children:z.jsx(Ss,{square:!0,className:t.contentList,children:z.jsx(cse,{devices:Z})})})]}),j&&z.jsx(tze,{SetAddUAVOpen:X}),z.jsx(aje,{deviceId:a,position:F,onClose:()=>e(tu.selectId(null)),desktopPadding:n.dimensions.drawerWidthDesktop}),z.jsx(uy.Consumer,{children:({confirmMission:ce,setconfirmMission:fe,commandMission:xe})=>z.jsx(mje,{enable:ce,onClose:()=>fe(!1),onSucces:()=>xe()})}),S==="WebRTC"&&z.jsx(b7,{deviceId:a,deviceIp:L,camera_src:k+"_"+C,onClose:()=>e(tu.selectId(null))}),S==="WebRTC_env"&&z.jsx(b7,{deviceId:a,deviceIp:x,camera_src:C,onClose:()=>e(tu.selectId(null))}),S==="Websocket"&&z.jsx(sze,{deviceId:a,datacamera:H,onClose:()=>e(tu.selectId(null))}),z.jsx(qNe,{toastlist:le,position:"buttom-right",setList:me})]})})},IU=Ze.createContext(),kU=({children:t})=>{const[e,n]=V.useState({route_id:-1,wp_id:-1});return z.jsx("div",{style:{width:"100%",height:"100%"},children:z.jsx(IU.Provider,{value:{changeWp:e,setChangeWp:n},children:t})})};class Rje{constructor(){this.routes=[],this.selecwp={id:-1}}initroute(e){this.routes=JSON.parse(JSON.stringify(e))}getroute(){return this.routes}setroute(e){this.routes=e}getSelectwp(){return this.selecwp}setSelecwp(e){this.selecwp=e}}const Oje=()=>{const t=V.useId(),e=`${t}-points`,n=`${t}-points-clusters`,r=xr(k=>k.mission.route);xr(k=>k.mission.selectpoint);const i=!0,o=.6,a=Zl(),[s,l]=V.useState(new Rje),c=V.useContext(IU);let h=gt.getCanvasContainer();const p=()=>gt.getCanvas().style.cursor="move",g=()=>gt.getCanvas().style.cursor="",v=k=>{let R=k.lngLat;h.style.cursor="grabbing",console.log("on move point"+R.lng+"-"+R.lat);let L=s.getroute(),F=s.getSelectwp();F.id>=0&&(L[F.route_id].wp[F.id].pos[0]=k.lngLat.lat,L[F.route_id].wp[F.id].pos[1]=k.lngLat.lng);let H=T(L);gt.getSource(e).setData({type:"FeatureCollection",features:H.map(Z=>({type:"Feature",geometry:{type:"Point",coordinates:[Z.longitude,Z.latitude]},properties:w(L,Z)}))}),gt.getSource(t).setData({type:"FeatureCollection",features:L.map(Z=>C(Z))})},x=k=>{let R=k.lngLat;h.style.cursor="";let L=s.getSelectwp();console.log(`Longitude: ${R.lng} Latitude: ${R.lat}`),c.setChangeWp({wp_id:L.id,route_id:L.route_id,lng:k.lngLat.lng,lat:k.lngLat.lat}),s.setSelecwp({id:-1}),gt.off("mousemove",v),gt.off("touchmove",v)},_=k=>{k.preventDefault(),s.setSelecwp(k.features[0].properties),a(fh.selectpoint(k.features[0].properties)),h.style.cursor="grab",gt.on("mousemove",v),gt.once("mouseup",x)},S=k=>{k.points.length===1&&(console.log("touch start"),k.preventDefault(),gt.on("touchmove",v),gt.once("touchend",x))},w=(k,R)=>({id:R.id,route_id:R.routeid,name:k[R.routeid].name,uav:k[R.routeid].uav,latitude:k[R.routeid].wp[R.id].pos[0],longitude:k[R.routeid].wp[R.id].pos[1],altitud:k[R.routeid].wp[R.id].pos[2],yaw:k[R.routeid].wp[R.id].yaw,gimbal:k[R.routeid].wp[R.id].gimbal,actions:k[R.routeid].wp[R.id].action,attributes:k[R.routeid].attributes,category:"default",color:k[R.routeid].id});V.useEffect(()=>(console.log("render"),gt.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),gt.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),gt.addLayer({source:t,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),gt.addLayer({source:t,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":ff(gt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),gt.addLayer({id:"mission-points",type:"symbol",source:e,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":ff(gt),"text-size":14},paint:{"text-color":"white"}}),gt.addLayer({id:n,type:"symbol",source:e,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":ff(gt),"text-size":14}}),gt.on("mouseenter","mission-points",p),gt.on("mouseleave","mission-points",g),gt.on("mousedown","mission-points",_),gt.on("touchstart","mission-points",S),()=>{gt.off("mouseenter","mission-points",p),gt.off("mouseleave","mission-points",g),gt.off("mousedown","mission-points",_),gt.off("touchstart","mission-points",S),gt.getLayer("mission-line")&&gt.removeLayer("mission-line"),gt.getLayer("mission-title")&&gt.removeLayer("mission-title"),gt.getLayer("mission-points")&&gt.removeLayer("mission-points"),gt.getLayer(n)&&gt.removeLayer(n),gt.getSource(t)&&gt.removeSource(t),gt.getSource(e)&&gt.removeSource(e)}),[]);function C(k){let R=Object.values(k.wp).map(function(L){return[L.pos[1],L.pos[0]]});return{id:k.id,type:"Feature",geometry:{type:"LineString",coordinates:R},properties:{name:k.uav,color:sy.colors_devices[k.id]}}}function T(k){let R=[];return k.map((L,F)=>{L.wp.map((H,Z)=>{R.push({longitude:H.pos[1],latitude:H.pos[0],id:Z,routeid:F})})}),R}return V.useEffect(()=>{console.log("Mapmission upload mission"),s.initroute(r);let k=T(r);gt.getSource(e).setData({type:"FeatureCollection",features:k.map(R=>({type:"Feature",geometry:{type:"Point",coordinates:[R.longitude,R.latitude]},properties:w(r,R)}))}),gt.getSource(t).setData({type:"FeatureCollection",features:r.map(R=>C(R))})},[r]),null};var RU={},Lje=ii;Object.defineProperty(RU,"__esModule",{value:!0});var Pse=RU.default=void 0,Dje=Lje(fi()),Nje=z;Pse=RU.default=(0,Dje.default)((0,Nje.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}),"MyLocation");const zje=Qr(t=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),Bje=({mission:t,setmission:e,index:n,index_wp:r,waypoint:i,expand_wp:o,AddnewWp:a})=>{const s=zje(),[l,c]=V.useState(!1),[h,p]=V.useState(!0),[g,v]=V.useState(0),[x,_]=V.useState(!1);V.useEffect(()=>{console.log("render waypoint"+n+"-"+r)},[]),V.useEffect(()=>{_(o)},[o]);const S=L=>(F,H)=>{_(H?L:!1)};async function w(L,F){let H;const Z=await fetch("/api/category/actions/dji_M210_noetic");if(Z.ok)H=await Z.json();else throw Error(await Z.text());let j=H.find(le=>le.id==g),X=JSON.parse(JSON.stringify(t.route));X[L].wp[F].hasOwnProperty("action")||(X[L].wp[F].action={}),j.param?X[L].wp[F].action[j.name]=0:X[L].wp[F].action[j.name]=!0,e({...t,route:X}),p(!0)}const C=(L,F)=>{console.log("remove wp"+L+"-"+F);let H=[...t.route],Z=[...t.route[L].wp];Z.splice(F,1);let j={...H[L],wp:Z};H[L]=j,e({...t,route:H})},T=(L,F,H)=>{console.log("remove action"+L+"-"+F+"-"+H);let Z=JSON.parse(JSON.stringify(t.route));delete Z[L].wp[F].action[H],e({...t,route:Z})},k=L=>(F,H)=>{c(H?L:!1)},R=L=>(F,H)=>{p(!1)};return z.jsxs(pl,{expanded:x==="wp "+r,onChange:S("wp "+r),children:[z.jsxs(gl,{expandIcon:z.jsx(Da,{}),children:[z.jsx(_n,{sx:{width:"33%",flexShrink:0},children:"WP "+r}),z.jsx(gr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>C(n,r),children:z.jsx(yu,{})})]}),z.jsx(ml,{className:s.details,children:x==="wp "+r&&z.jsxs(V.Fragment,{children:[z.jsxs(ws,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[z.jsx("div",{children:z.jsx(_n,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),z.jsx(yi,{required:!0,label:"Latitud ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[0]:0,onChange:L=>e({...t,route:t.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return F==t.route[n]?H.wp[r].pos[0]=+L.target.value:H=F,H})})}),z.jsx(yi,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[1]:0,onChange:L=>e({...t,route:t.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return F==t.route[n]?H.wp[r].pos[1]=+L.target.value:H=F,H})})}),z.jsx(yi,{required:!0,label:"altura ",type:"number",variant:"standard",sx:{width:"7ch"},value:i.pos?i.pos[2]:0,onChange:L=>e({...t,route:t.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return F==t.route[n]?H.wp[r].pos[2]=+L.target.value:H=F,H})})})]}),z.jsx(yi,{required:!0,label:"Speed ",type:"number",variant:"standard",value:i.speed?i.speed:t.route[n].attributes.idle_vel,onChange:L=>e({...t,route:t.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return t.route[n]?H.wp[r].speed=+L.target.value:H=F,H})})}),z.jsx(yi,{required:!0,label:"YAW ",type:"number",variant:"standard",value:i.yaw?i.yaw:0,onChange:L=>e({...t,route:t.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return F==t.route[n]?H.wp[r].yaw=+L.target.value:H=F,H})})}),z.jsx(yi,{required:!0,label:"Gimbal ",type:"number",variant:"standard",value:i.gimbal?i.gimbal:0,onChange:L=>e({...t,route:t.route.map(F=>{let H=JSON.parse(JSON.stringify(F));return F==t.route[n]?H.wp[r].gimbal=+L.target.value:H=F,H})})}),z.jsxs(pl,{expanded:l==="wp "+r,onChange:k("wp "+r),children:[z.jsx(gl,{expandIcon:z.jsx(Da,{}),children:z.jsx(_n,{sx:{width:"33%",flexShrink:0},children:"Actions"})}),z.jsxs(ml,{className:s.details,children:[i.action&&Ze.Children.toArray(Object.keys(i.action).map((L,F,H)=>z.jsxs(V.Fragment,{children:[z.jsxs("div",{children:[z.jsx(_n,{variant:"subtitle1",className:s.attributeName,children:L}),z.jsx("div",{className:s.actionValue,children:z.jsx(yi,{required:!0,fullWidth:!0,value:i.action[L]?i.action[L]:0,onChange:Z=>e({...t,route:t.route.map(j=>{let X=JSON.parse(JSON.stringify(j));return j==t.route[n]?X.wp[r].action[L]=Z.target.value:X=j,X})})})}),z.jsx(gr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>T(n,r,L),className:s.negative,children:z.jsx(yu,{})})]}),z.jsx(D0,{})]},"fragment-action-"+F))),z.jsx(ws,{textAlign:"center",children:h?z.jsx(Gr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:R(),children:"Add new action"}):z.jsxs("div",{children:[z.jsx(_n,{variant:"subtitle1",children:"Tipo de acccion a añadir"}),z.jsx(Ju,{emptyValue:null,fullWidth:!0,value:g,onChange:L=>v(L.target.value),endpoint:"/api/category/actions/dji_M210_noetic",keyGetter:L=>L.id,titleGetter:L=>L.description}),z.jsxs("div",{children:[z.jsx(Gr,{onClick:()=>p(!0),children:"Cancel"}),z.jsx(Gr,{onClick:()=>w(n,r),children:"Add"})]})]})})]})]}),z.jsx(ws,{textAlign:"center",children:z.jsx(Gr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:()=>a(n,r),children:"Add new Waypoint"})})]})})]})},Fje=Qr(t=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)},attribute:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),$je=({mission:t,setmission:e,setScrool:n})=>{const r=Fje(),i=xr(R=>R.mission),o=xr(R=>R.mission.selectpoint),a=Zl(),[s,l]=V.useState(!1),[c,h]=V.useState(!1),[p,g]=V.useState(!1),[v,x]=V.useState(!0);V.useEffect(()=>{console.log("render Router list")},[]),V.useEffect(()=>{e(i),i.route.length>0?x(!1):x(!0),l(!0)},[i]),V.useEffect(()=>{s&&(console.log("update mission"),a(fh.reloadMission(t.route))),t.route.length>0?x(!1):x(!0)},[t.route]),V.useEffect(()=>{s&&a(fh.reloadName({name:t.name,description:t.description}))},[t.name,t.description]),V.useEffect(()=>{h("Rute "+o.route_id),g("wp "+o.id),n(500+o.route_id*50+o.id*50)},[o]);const _=()=>{e({name:"new Mission",description:"",route:[]}),x(!1),S(),console.log("add new mission")},S=()=>{let R=[...t.route],L=R.length>0?+R.slice(-1)[0].id+1:0,F={max_vel:12,idle_vel:3,mode_yaw:2,mode_gimbal:0,mode_trace:0,mode_landing:2};R.push({name:"",uav:"",id:L,attributes:F,wp:[]}),e({...t,route:R})},w=(R,L)=>{console.log("add new wp"+R);let F=JSON.parse(JSON.stringify(t.route)),H=gt.getCenter();L>0&&(H.lat=(F[R].wp[L].pos[0]+F[R].wp[L-1].pos[0])/2,H.lng=(F[R].wp[L].pos[1]+F[R].wp[L-1].pos[1])/2),L<0?F[R].wp.push({pos:[H.lat,H.lng,5],action:{}}):F[R].wp.splice(L,0,{pos:[H.lat,H.lng,5],action:{}}),e({...t,route:F})},C=R=>{console.log("remove route"+R);let L=JSON.parse(JSON.stringify(t.route));L.splice(R,1),e({...t,route:L})},T=R=>(L,F)=>{h(F?R:!1)},k=R=>(L,F)=>{g(F?R:!1)};return z.jsx(V.Fragment,{children:v?z.jsx(ws,{textAlign:"center",children:z.jsx(Gr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:_,children:"Create New Mission"})}):z.jsx(V.Fragment,{children:z.jsxs(ws,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[z.jsx(yi,{required:!0,label:"Name Mission",variant:"standard",value:t.name?t.name:" ",onChange:R=>e({...t,name:R.target.value})}),z.jsx(yi,{required:!0,label:"Description of mission",variant:"standard",value:t.description?t.description:" ",onChange:R=>e({...t,description:R.target.value})}),Ze.Children.toArray(Object.values(t.route).map((R,L,F)=>z.jsxs(V.Fragment,{children:[z.jsxs(pl,{expanded:c==="Rute "+L,onChange:T("Rute "+L),children:[z.jsxs(gl,{expandIcon:z.jsx(Da,{}),children:[z.jsx(_n,{sx:{width:"33%",flexShrink:0,color:sy.colors_devices[R.id]},children:"Rute "+L}),z.jsx(_n,{sx:{color:"text.secondary"},children:R.name+"- "+R.uav}),z.jsx(gr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>C(L),children:z.jsx(yu,{})})]}),z.jsx(ml,{className:r.details,children:c==="Rute "+L&&z.jsxs(V.Fragment,{children:[z.jsx(yi,{required:!0,label:"Route Name",variant:"standard",value:R.name?R.name:"",onChange:H=>e({...t,route:t.route.map(Z=>Z==t.route[L]?{...R,name:H.target.value}:Z)})}),z.jsx(yi,{required:!0,label:"UAV id",variant:"standard",value:R.uav?R.uav:"uav_",onChange:H=>e({...t,route:t.route.map(Z=>Z==t.route[L]?{...R,uav:H.target.value}:Z)})}),z.jsx(Ju,{emptyValue:null,value:R.uav_type?R.uav_type:"",onChange:H=>e({...t,route:t.route.map(Z=>Z==t.route[L]?{...R,uav_type:H.target.value}:Z)}),endpoint:"/api/category",keyGetter:H=>H,titleGetter:H=>H,label:"Type UAV mission",style:{display:"inline",width:"200px"}}),z.jsxs(pl,{expanded:p==="wp -"+L,onChange:k("wp -"+L),children:[z.jsx(gl,{expandIcon:z.jsx(Da,{}),children:z.jsx(_n,{sx:{width:"53%",flexShrink:0},children:"Route Attributes"})}),z.jsx(ml,{className:r.details,children:R.attributes&&z.jsxs(V.Fragment,{children:[z.jsxs("div",{children:[z.jsx(_n,{variant:"subtitle1",className:r.attribute,children:"Speed Mode"}),z.jsx("div",{className:r.attributeValue,children:z.jsx(Ju,{emptyValue:null,fullWidth:!0,value:R.attributes.mode_speed?R.attributes.mode_speed:0,onChange:H=>e({...t,route:t.route.map(Z=>{let j=JSON.parse(JSON.stringify(Z));return Z===t.route[L]?j.attributes.mode_speed=H.target.value:j=Z,j})}),endpoint:"/api/category/atributesparam/dji_M300/mode_speed",keyGetter:H=>H.id,titleGetter:H=>H.name})})]}),z.jsxs("div",{children:[z.jsx(_n,{variant:"subtitle1",className:r.attribute,children:"Speed idle (m/s):"}),z.jsx(yi,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:R.attributes.idle_vel?R.attributes.idle_vel:1.85,onChange:H=>e({...t,route:t.route.map(Z=>{let j=JSON.parse(JSON.stringify(Z));return Z==t.route[L]?j.attributes.idle_vel=+H.target.value:j=Z,j})})})]}),z.jsxs("div",{children:[z.jsx(_n,{variant:"subtitle1",className:r.attribute,children:"Speed MAX (m/s):"}),z.jsx(yi,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:R.attributes.max_vel?R.attributes.max_vel:12,onChange:H=>e({...t,route:t.route.map(Z=>{let j=JSON.parse(JSON.stringify(Z));return Z==t.route[L]?j.attributes.max_vel=+H.target.value:j=Z,j})})})]}),z.jsxs("div",{children:[z.jsx(_n,{variant:"subtitle1",className:r.attribute,children:"landing mode"}),z.jsx("div",{className:r.attributeValue,children:z.jsx(Ju,{emptyValue:null,fullWidth:!0,value:R.attributes.mode_landing?R.attributes.mode_landing:0,onChange:H=>e({...t,route:t.route.map(Z=>{let j=JSON.parse(JSON.stringify(Z));return Z===t.route[L]?j.attributes.mode_landing=H.target.value:j=Z,j})}),endpoint:"/api/category/atributesparam/dji_M300/mode_landing",keyGetter:H=>H.id,titleGetter:H=>H.name})})]}),z.jsxs("div",{children:[z.jsx(_n,{variant:"subtitle1",className:r.attribute,children:"Yaw mode"}),z.jsx("div",{className:r.attributeValue,children:z.jsx(Ju,{emptyValue:null,fullWidth:!0,value:R.attributes.mode_yaw?R.attributes.mode_yaw:0,onChange:H=>e({...t,route:t.route.map(Z=>{let j=JSON.parse(JSON.stringify(Z));return Z===t.route[L]?j.attributes.mode_yaw=H.target.value:j=Z,j})}),endpoint:"/api/category/atributesparam/dji_M300/mode_yaw",keyGetter:H=>H.id,titleGetter:H=>H.name})})]}),z.jsxs("div",{children:[z.jsx(_n,{variant:"subtitle1",className:r.attribute,children:"Gimbal mode"}),z.jsx("div",{className:r.attributeValue,children:z.jsx(Ju,{emptyValue:null,fullWidth:!0,value:R.attributes.mode_gimbal?R.attributes.mode_gimbal:0,onChange:H=>e({...t,route:t.route.map(Z=>{let j=JSON.parse(JSON.stringify(Z));return Z===t.route[L]?j.attributes.mode_gimbal=H.target.value:j=Z,j})}),endpoint:"/api/category/atributesparam/dji_M300/mode_gimbal",keyGetter:H=>H.id,titleGetter:H=>H.name})})]}),z.jsxs("div",{children:[z.jsx(_n,{variant:"subtitle1",className:r.attribute,children:"Trace mode:"}),z.jsx("div",{className:r.attributeValue,children:z.jsx(Ju,{emptyValue:null,fullWidth:!0,value:R.attributes.mode_trace?R.attributes.mode_trace:0,onChange:H=>e({...t,route:t.route.map(Z=>{let j=JSON.parse(JSON.stringify(Z));return Z===t.route[L]?j.attributes.mode_trace=H.target.value:j=Z,j})}),endpoint:"/api/category/atributesparam/dji_M300/mode_trace",keyGetter:H=>H.id,titleGetter:H=>H.name})})]})]},"fragment-route-atri-"+R.id)})]}),z.jsx(_n,{variant:"subtitle1",children:"Waypoints"}),Ze.Children.toArray(Object.values(R.wp).map((H,Z,j)=>z.jsx(Bje,{mission:t,setmission:e,index_wp:Z,index:L,waypoint:H,AddnewWp:w,expand_wp:p}))),z.jsx(ws,{textAlign:"center",children:z.jsx(Gr,{value:L,variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:H=>w(H.target.value,-1),children:"Add new Waypoint"})})]})})]}),L<F.length-1?z.jsx(D0,{}):null]},"fragment-route-"+L))),z.jsx(ws,{textAlign:"center",children:z.jsx(Gr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:S,children:"Add new Route"})})]})})})};var OU={},jje=ii;Object.defineProperty(OU,"__esModule",{value:!0});var K0=OU.default=void 0,Uje=jje(fi()),Vje=z;K0=OU.default=(0,Uje.default)((0,Vje.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var LU={},Wje=ii;Object.defineProperty(LU,"__esModule",{value:!0});var DU=LU.default=void 0,Hje=Wje(fi()),Gje=z;DU=LU.default=(0,Hje.default)((0,Gje.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");const qje=Qr(t=>({toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"}})),Ise=({SetOpenSave:t})=>{const e=qje(),n=Oh(),r=V.useContext(uy),i=V.useRef(null),[o,a]=V.useState(!1),s=V.useContext(IU),l=()=>{a(_=>!_)},[c,h]=V.useState({name:"no mission",description:"",route:[]});V.useEffect(()=>{if(s.changeWp.route_id>=0)if(o){let _=JSON.parse(JSON.stringify(c.route)),S=s.changeWp.lat-_[s.changeWp.route_id].wp[s.changeWp.wp_id].pos[0],w=s.changeWp.lng-_[s.changeWp.route_id].wp[s.changeWp.wp_id].pos[1],C=_[s.changeWp.route_id].wp.map(T=>{let k=T;return k.pos[0]=S+T.pos[0],k.pos[1]=w+T.pos[1],k});_[s.changeWp.route_id].wp=C,h({...c,route:_})}else{let _=JSON.parse(JSON.stringify(c.route));_[s.changeWp.route_id].wp[s.changeWp.wp_id].pos[0]=s.changeWp.lat,_[s.changeWp.route_id].wp[s.changeWp.wp_id].pos[1]=s.changeWp.lng,h({...c,route:_})}},[s.changeWp]);const p=_=>{console.log("scrool"+_),i.current.scroll&&setTimeout(()=>{i.current.scroll(0,_)},1e3)},g=_=>{const S=_.target.files[0];if(!S)return;const w=new FileReader;w.readAsText(S),w.onload=()=>{console.log(w.result),console.log(S.name),r.openMision(S.name,w.result)},w.onerror=()=>{console.log(w.error)}},v=()=>{h({name:"no mission",description:"",route:[]})},x=()=>{console.log("save mission"),t(!0)};return z.jsxs(V.Fragment,{children:[z.jsxs(sm,{className:e.toolbar,children:[z.jsx(gr,{edge:"start",sx:{mr:2},onClick:()=>n(-1),children:z.jsx(K0,{})}),z.jsx(_n,{variant:"h6",className:e.title,children:"Mission Task"}),z.jsx(_n,{children:"Group Route"}),z.jsx(mre,{checked:o,onChange:l,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),z.jsx(gr,{onClick:x,children:z.jsx(DU,{})}),z.jsx(gr,{onClick:v,children:z.jsx(yu,{})}),z.jsxs("label",{htmlFor:"upload-gpx",children:[z.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:e.fileInput,onChange:g}),z.jsx(gr,{edge:"end",component:"span",onClick:()=>{},children:z.jsx(Cj,{})})]})]}),z.jsx("div",{ref:i,className:e.list,children:z.jsx($je,{mission:c,setmission:h,setScrool:p})})]})};var Yje=Array.isArray,Ic=Yje,Xje=typeof f_=="object"&&f_&&f_.Object===Object&&f_,kse=Xje,Kje=kse,Zje=typeof self=="object"&&self&&self.Object===Object&&self,Jje=Kje||Zje||Function("return this")(),Fh=Jje,Qje=Fh,eUe=Qje.Symbol,CE=eUe,w7=CE,Rse=Object.prototype,tUe=Rse.hasOwnProperty,nUe=Rse.toString,Ww=w7?w7.toStringTag:void 0;function rUe(t){var e=tUe.call(t,Ww),n=t[Ww];try{t[Ww]=void 0;var r=!0}catch{}var i=nUe.call(t);return r&&(e?t[Ww]=n:delete t[Ww]),i}var iUe=rUe,oUe=Object.prototype,sUe=oUe.toString;function aUe(t){return sUe.call(t)}var lUe=aUe,S7=CE,cUe=iUe,uUe=lUe,dUe="[object Null]",fUe="[object Undefined]",M7=S7?S7.toStringTag:void 0;function hUe(t){return t==null?t===void 0?fUe:dUe:M7&&M7 in Object(t)?cUe(t):uUe(t)}var cm=hUe;function pUe(t){return t!=null&&typeof t=="object"}var um=pUe,mUe=cm,gUe=um,yUe="[object Symbol]";function vUe(t){return typeof t=="symbol"||gUe(t)&&mUe(t)==yUe}var A1=vUe,xUe=Ic,_Ue=A1,bUe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wUe=/^\w*$/;function SUe(t,e){if(xUe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_Ue(t)?!0:wUe.test(t)||!bUe.test(t)||e!=null&&t in Object(e)}var NU=SUe;function MUe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var by=MUe;const P1=bi(by);var EUe=cm,TUe=by,CUe="[object AsyncFunction]",AUe="[object Function]",PUe="[object GeneratorFunction]",IUe="[object Proxy]";function kUe(t){if(!TUe(t))return!1;var e=EUe(t);return e==AUe||e==PUe||e==CUe||e==IUe}var zU=kUe;const Kr=bi(zU);var RUe=Fh,OUe=RUe["__core-js_shared__"],LUe=OUe,k3=LUe,E7=function(){var t=/[^.]+$/.exec(k3&&k3.keys&&k3.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function DUe(t){return!!E7&&E7 in t}var NUe=DUe,zUe=Function.prototype,BUe=zUe.toString;function FUe(t){if(t!=null){try{return BUe.call(t)}catch{}try{return t+""}catch{}}return""}var Ose=FUe,$Ue=zU,jUe=NUe,UUe=by,VUe=Ose,WUe=/[\\^$.*+?()[\]{}|]/g,HUe=/^\[object .+?Constructor\]$/,GUe=Function.prototype,qUe=Object.prototype,YUe=GUe.toString,XUe=qUe.hasOwnProperty,KUe=RegExp("^"+YUe.call(XUe).replace(WUe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZUe(t){if(!UUe(t)||jUe(t))return!1;var e=$Ue(t)?KUe:HUe;return e.test(VUe(t))}var JUe=ZUe;function QUe(t,e){return t==null?void 0:t[e]}var e6e=QUe,t6e=JUe,n6e=e6e;function r6e(t,e){var n=n6e(t,e);return t6e(n)?n:void 0}var Z0=r6e,i6e=Z0,o6e=i6e(Object,"create"),JR=o6e,T7=JR;function s6e(){this.__data__=T7?T7(null):{},this.size=0}var a6e=s6e;function l6e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var c6e=l6e,u6e=JR,d6e="__lodash_hash_undefined__",f6e=Object.prototype,h6e=f6e.hasOwnProperty;function p6e(t){var e=this.__data__;if(u6e){var n=e[t];return n===d6e?void 0:n}return h6e.call(e,t)?e[t]:void 0}var m6e=p6e,g6e=JR,y6e=Object.prototype,v6e=y6e.hasOwnProperty;function x6e(t){var e=this.__data__;return g6e?e[t]!==void 0:v6e.call(e,t)}var _6e=x6e,b6e=JR,w6e="__lodash_hash_undefined__";function S6e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=b6e&&e===void 0?w6e:e,this}var M6e=S6e,E6e=a6e,T6e=c6e,C6e=m6e,A6e=_6e,P6e=M6e;function I1(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}I1.prototype.clear=E6e;I1.prototype.delete=T6e;I1.prototype.get=C6e;I1.prototype.has=A6e;I1.prototype.set=P6e;var I6e=I1;function k6e(){this.__data__=[],this.size=0}var R6e=k6e;function O6e(t,e){return t===e||t!==t&&e!==e}var BU=O6e,L6e=BU;function D6e(t,e){for(var n=t.length;n--;)if(L6e(t[n][0],e))return n;return-1}var QR=D6e,N6e=QR,z6e=Array.prototype,B6e=z6e.splice;function F6e(t){var e=this.__data__,n=N6e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():B6e.call(e,n,1),--this.size,!0}var $6e=F6e,j6e=QR;function U6e(t){var e=this.__data__,n=j6e(e,t);return n<0?void 0:e[n][1]}var V6e=U6e,W6e=QR;function H6e(t){return W6e(this.__data__,t)>-1}var G6e=H6e,q6e=QR;function Y6e(t,e){var n=this.__data__,r=q6e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var X6e=Y6e,K6e=R6e,Z6e=$6e,J6e=V6e,Q6e=G6e,e8e=X6e;function k1(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}k1.prototype.clear=K6e;k1.prototype.delete=Z6e;k1.prototype.get=J6e;k1.prototype.has=Q6e;k1.prototype.set=e8e;var eO=k1,t8e=Z0,n8e=Fh,r8e=t8e(n8e,"Map"),FU=r8e,C7=I6e,i8e=eO,o8e=FU;function s8e(){this.size=0,this.__data__={hash:new C7,map:new(o8e||i8e),string:new C7}}var a8e=s8e;function l8e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var c8e=l8e,u8e=c8e;function d8e(t,e){var n=t.__data__;return u8e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var tO=d8e,f8e=tO;function h8e(t){var e=f8e(this,t).delete(t);return this.size-=e?1:0,e}var p8e=h8e,m8e=tO;function g8e(t){return m8e(this,t).get(t)}var y8e=g8e,v8e=tO;function x8e(t){return v8e(this,t).has(t)}var _8e=x8e,b8e=tO;function w8e(t,e){var n=b8e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var S8e=w8e,M8e=a8e,E8e=p8e,T8e=y8e,C8e=_8e,A8e=S8e;function R1(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}R1.prototype.clear=M8e;R1.prototype.delete=E8e;R1.prototype.get=T8e;R1.prototype.has=C8e;R1.prototype.set=A8e;var $U=R1,Lse=$U,P8e="Expected a function";function jU(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(P8e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(jU.Cache||Lse),n}jU.Cache=Lse;var I8e=jU,k8e=I8e,R8e=500;function O8e(t){var e=k8e(t,function(r){return n.size===R8e&&n.clear(),r}),n=e.cache;return e}var L8e=O8e,D8e=L8e,N8e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z8e=/\\(\\)?/g,B8e=D8e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(N8e,function(n,r,i,o){e.push(i?o.replace(z8e,"$1"):r||n)}),e}),F8e=B8e;function $8e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var UU=$8e,A7=CE,j8e=UU,U8e=Ic,V8e=A1,W8e=1/0,P7=A7?A7.prototype:void 0,I7=P7?P7.toString:void 0;function Dse(t){if(typeof t=="string")return t;if(U8e(t))return j8e(t,Dse)+"";if(V8e(t))return I7?I7.call(t):"";var e=t+"";return e=="0"&&1/t==-W8e?"-0":e}var H8e=Dse,G8e=H8e;function q8e(t){return t==null?"":G8e(t)}var Nse=q8e,Y8e=Ic,X8e=NU,K8e=F8e,Z8e=Nse;function J8e(t,e){return Y8e(t)?t:X8e(t,e)?[t]:K8e(Z8e(t))}var zse=J8e,Q8e=A1,eVe=1/0;function tVe(t){if(typeof t=="string"||Q8e(t))return t;var e=t+"";return e=="0"&&1/t==-eVe?"-0":e}var nO=tVe,nVe=zse,rVe=nO;function iVe(t,e){e=nVe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[rVe(e[n++])];return n&&n==r?t:void 0}var VU=iVe,oVe=VU;function sVe(t,e,n){var r=t==null?void 0:oVe(t,e);return r===void 0?n:r}var Bse=sVe;const ld=bi(Bse);function aVe(t){return t==null}var lVe=aVe;const si=bi(lVe);var cVe=cm,uVe=Ic,dVe=um,fVe="[object String]";function hVe(t){return typeof t=="string"||!uVe(t)&&dVe(t)&&cVe(t)==fVe}var pVe=hVe;const AE=bi(pVe);var Fse={exports:{}},ji={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=typeof Symbol=="function"&&Symbol.for,WU=ga?Symbol.for("react.element"):60103,HU=ga?Symbol.for("react.portal"):60106,rO=ga?Symbol.for("react.fragment"):60107,iO=ga?Symbol.for("react.strict_mode"):60108,oO=ga?Symbol.for("react.profiler"):60114,sO=ga?Symbol.for("react.provider"):60109,aO=ga?Symbol.for("react.context"):60110,GU=ga?Symbol.for("react.async_mode"):60111,lO=ga?Symbol.for("react.concurrent_mode"):60111,cO=ga?Symbol.for("react.forward_ref"):60112,uO=ga?Symbol.for("react.suspense"):60113,mVe=ga?Symbol.for("react.suspense_list"):60120,dO=ga?Symbol.for("react.memo"):60115,fO=ga?Symbol.for("react.lazy"):60116,gVe=ga?Symbol.for("react.block"):60121,yVe=ga?Symbol.for("react.fundamental"):60117,vVe=ga?Symbol.for("react.responder"):60118,xVe=ga?Symbol.for("react.scope"):60119;function Mu(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WU:switch(t=t.type,t){case GU:case lO:case rO:case oO:case iO:case uO:return t;default:switch(t=t&&t.$$typeof,t){case aO:case cO:case fO:case dO:case sO:return t;default:return e}}case HU:return e}}}function $se(t){return Mu(t)===lO}ji.AsyncMode=GU;ji.ConcurrentMode=lO;ji.ContextConsumer=aO;ji.ContextProvider=sO;ji.Element=WU;ji.ForwardRef=cO;ji.Fragment=rO;ji.Lazy=fO;ji.Memo=dO;ji.Portal=HU;ji.Profiler=oO;ji.StrictMode=iO;ji.Suspense=uO;ji.isAsyncMode=function(t){return $se(t)||Mu(t)===GU};ji.isConcurrentMode=$se;ji.isContextConsumer=function(t){return Mu(t)===aO};ji.isContextProvider=function(t){return Mu(t)===sO};ji.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WU};ji.isForwardRef=function(t){return Mu(t)===cO};ji.isFragment=function(t){return Mu(t)===rO};ji.isLazy=function(t){return Mu(t)===fO};ji.isMemo=function(t){return Mu(t)===dO};ji.isPortal=function(t){return Mu(t)===HU};ji.isProfiler=function(t){return Mu(t)===oO};ji.isStrictMode=function(t){return Mu(t)===iO};ji.isSuspense=function(t){return Mu(t)===uO};ji.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rO||t===lO||t===oO||t===iO||t===uO||t===mVe||typeof t=="object"&&t!==null&&(t.$$typeof===fO||t.$$typeof===dO||t.$$typeof===sO||t.$$typeof===aO||t.$$typeof===cO||t.$$typeof===yVe||t.$$typeof===vVe||t.$$typeof===xVe||t.$$typeof===gVe)};ji.typeOf=Mu;Fse.exports=ji;var XB=Fse.exports,_Ve=cm,bVe=um,wVe="[object Number]";function SVe(t){return typeof t=="number"||bVe(t)&&_Ve(t)==wVe}var jse=SVe;const MVe=bi(jse);var EVe=jse;function TVe(t){return EVe(t)&&t!=+t}var CVe=TVe;const PE=bi(CVe);var cf=function(e){return e===0?0:e>0?1:-1},t0=function(e){return AE(e)&&e.indexOf("%")===e.length-1},Cn=function(e){return MVe(e)&&!PE(e)},ta=function(e){return Cn(e)||AE(e)},AVe=0,IE=function(e){var n=++AVe;return"".concat(e||"").concat(n)},Lb=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Cn(e)&&!AE(e))return r;var o;if(t0(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return PE(o)&&(o=r),i&&o>n&&(o=n),o},gg=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},PVe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},nf=function(e,n){return Cn(e)&&Cn(n)?function(r){return e+r*(n-e)}:function(){return n}};function nI(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ld(r,e))===n})}function sb(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function KB(t){"@babel/helpers - typeof";return KB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KB(t)}var IVe=["viewBox","children"],kVe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k7=["points","pathLength"],R3={svg:IVe,polygon:k7,polyline:k7},qU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rI=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(V.isValidElement(e)&&(r=e.props),!P1(r))return null;var i={};return Object.keys(r).forEach(function(o){qU.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},RVe=function(e,n,r){return function(i){return e(n,r,i),null}},iI=function(e,n,r){if(!P1(e)||KB(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];qU.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=RVe(a,n,r))}),i},OVe=["children"],LVe=["children"];function R7(t,e){if(t==null)return{};var n=DVe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DVe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZB(t){"@babel/helpers - typeof";return ZB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZB(t)}var O7={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},zp=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},L7=null,O3=null,YU=function t(e){if(e===L7&&Array.isArray(O3))return O3;var n=[];return V.Children.forEach(e,function(r){si(r)||(XB.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),O3=n,L7=e,n};function cd(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return zp(i)}):r=[zp(e)],YU(t).forEach(function(i){var o=ld(i,"type.displayName")||ld(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Pp(t,e){var n=cd(t,e);return n&&n[0]}var D7=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Cn(r)||r<=0||!Cn(i)||i<=0)},NVe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zVe=function(e){return e&&e.type&&AE(e.type)&&NVe.indexOf(e.type)>=0},BVe=function(e){return e&&ZB(e)==="object"&&"cx"in e&&"cy"in e&&"r"in e},FVe=function(e,n,r,i){var o,a=(o=R3==null?void 0:R3[i])!==null&&o!==void 0?o:[];return!Kr(e)&&(i&&a.includes(n)||kVe.includes(n))||r&&qU.includes(n)},ri=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(V.isValidElement(e)&&(i=e.props),!P1(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;FVe((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Use=function t(e,n){if(e===n)return!0;var r=V.Children.count(e);if(r!==V.Children.count(n))return!1;if(r===0)return!0;if(r===1)return N7(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!N7(o,a))return!1}return!0},N7=function(e,n){if(si(e)&&si(n))return!0;if(!si(e)&&!si(n)){var r=e.props||{},i=r.children,o=R7(r,OVe),a=n.props||{},s=a.children,l=R7(a,LVe);return i&&s?sb(o,l)&&Use(i,s):!i&&!s?sb(o,l):!1}return!1},z7=function(e,n){var r=[],i={};return YU(e).forEach(function(o,a){if(zVe(o))r.push(o);else if(o){var s=zp(o.type),l=n[s]||{},c=l.handler,h=l.once;if(c&&(!h||!i[s])){var p=c(o,s,a);r.push(p),i[s]=!0}}}),r},$Ve=function(e){var n=e&&e.type;return n&&O7[n]?O7[n]:null},jVe=function(e,n){return YU(n).indexOf(e)},UVe=["children","width","height","viewBox","className","style","title","desc"];function JB(){return JB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JB.apply(this,arguments)}function VVe(t,e){if(t==null)return{};var n=WVe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WVe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QB(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=VVe(t,UVe),h=i||{width:n,height:r,x:0,y:0},p=Xt("recharts-surface",o);return Ze.createElement("svg",JB({},ri(c,!0,"svg"),{className:p,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Ze.createElement("title",null,s),Ze.createElement("desc",null,l),e)}var HVe=["children","className"];function eF(){return eF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eF.apply(this,arguments)}function GVe(t,e){if(t==null)return{};var n=qVe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qVe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var bs=Ze.forwardRef(function(t,e){var n=t.children,r=t.className,i=GVe(t,HVe),o=Xt("recharts-layer",r);return Ze.createElement("g",eF({className:o},ri(i,!0),{ref:e}),n)}),y0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function YVe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var XVe=YVe,KVe=XVe;function ZVe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:KVe(t,e,n)}var JVe=ZVe,QVe="\\ud800-\\udfff",eWe="\\u0300-\\u036f",tWe="\\ufe20-\\ufe2f",nWe="\\u20d0-\\u20ff",rWe=eWe+tWe+nWe,iWe="\\ufe0e\\ufe0f",oWe="\\u200d",sWe=RegExp("["+oWe+QVe+rWe+iWe+"]");function aWe(t){return sWe.test(t)}var Vse=aWe;function lWe(t){return t.split("")}var cWe=lWe,Wse="\\ud800-\\udfff",uWe="\\u0300-\\u036f",dWe="\\ufe20-\\ufe2f",fWe="\\u20d0-\\u20ff",hWe=uWe+dWe+fWe,pWe="\\ufe0e\\ufe0f",mWe="["+Wse+"]",tF="["+hWe+"]",nF="\\ud83c[\\udffb-\\udfff]",gWe="(?:"+tF+"|"+nF+")",Hse="[^"+Wse+"]",Gse="(?:\\ud83c[\\udde6-\\uddff]){2}",qse="[\\ud800-\\udbff][\\udc00-\\udfff]",yWe="\\u200d",Yse=gWe+"?",Xse="["+pWe+"]?",vWe="(?:"+yWe+"(?:"+[Hse,Gse,qse].join("|")+")"+Xse+Yse+")*",xWe=Xse+Yse+vWe,_We="(?:"+[Hse+tF+"?",tF,Gse,qse,mWe].join("|")+")",bWe=RegExp(nF+"(?="+nF+")|"+_We+xWe,"g");function wWe(t){return t.match(bWe)||[]}var SWe=wWe,MWe=cWe,EWe=Vse,TWe=SWe;function CWe(t){return EWe(t)?TWe(t):MWe(t)}var AWe=CWe,PWe=JVe,IWe=Vse,kWe=AWe,RWe=Nse;function OWe(t){return function(e){e=RWe(e);var n=IWe(e)?kWe(e):void 0,r=n?n[0]:e.charAt(0),i=n?PWe(n,1).join(""):e.slice(1);return r[t]()+i}}var LWe=OWe,DWe=LWe,NWe=DWe("toUpperCase"),zWe=NWe;const hO=bi(zWe);function ho(t){return function(){return t}}const Kse=Math.cos,oI=Math.sin,wf=Math.sqrt,sI=Math.PI,pO=2*sI,rF=Math.PI,iF=2*rF,Bv=1e-6,BWe=iF-Bv;function Zse(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function FWe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Zse;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let $We=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Zse:FWe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,h=a-e,p=s-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Bv)if(!(Math.abs(p*l-c*h)>Bv)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,x=i-s,_=l*l+c*c,S=v*v+x*x,w=Math.sqrt(_),C=Math.sqrt(g),T=o*Math.tan((rF-Math.acos((_+g-S)/(2*w*C)))/2),k=T/C,R=T/w;Math.abs(k-1)>Bv&&this._append`L${e+k*h},${n+k*p}`,this._append`A${o},${o},0,0,${+(p*v>h*x)},${this._x1=e+R*l},${this._y1=n+R*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,h=n+l,p=1^a,g=a?i-o:o-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Bv||Math.abs(this._y1-h)>Bv)&&this._append`L${c},${h}`,r&&(g<0&&(g=g%iF+iF),g>BWe?this._append`A${r},${r},0,1,${p},${e-s},${n-l}A${r},${r},0,1,${p},${this._x1=c},${this._y1=h}`:g>Bv&&this._append`A${r},${r},0,${+(g>=rF)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function XU(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $We(e)}function KU(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jse(t){this._context=t}Jse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mO(t){return new Jse(t)}function Qse(t){return t[0]}function eae(t){return t[1]}function tae(t,e){var n=ho(!0),r=null,i=mO,o=null,a=XU(s);t=typeof t=="function"?t:t===void 0?Qse:ho(t),e=typeof e=="function"?e:e===void 0?eae:ho(e);function s(l){var c,h=(l=KU(l)).length,p,g=!1,v;for(r==null&&(o=i(v=a())),c=0;c<=h;++c)!(c<h&&n(p=l[c],c,l))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,c,l),+e(p,c,l));if(v)return o=null,v+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ho(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ho(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ho(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function oC(t,e,n){var r=null,i=ho(!0),o=null,a=mO,s=null,l=XU(c);t=typeof t=="function"?t:t===void 0?Qse:ho(+t),e=typeof e=="function"?e:ho(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?eae:ho(+n);function c(p){var g,v,x,_=(p=KU(p)).length,S,w=!1,C,T=new Array(_),k=new Array(_);for(o==null&&(s=a(C=l())),g=0;g<=_;++g){if(!(g<_&&i(S=p[g],g,p))===w)if(w=!w)v=g,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=g-1;x>=v;--x)s.point(T[x],k[x]);s.lineEnd(),s.areaEnd()}w&&(T[g]=+t(S,g,p),k[g]=+e(S,g,p),s.point(r?+r(S,g,p):T[g],n?+n(S,g,p):k[g]))}if(C)return s=null,C+""||null}function h(){return tae().defined(i).curve(a).context(o)}return c.x=function(p){return arguments.length?(t=typeof p=="function"?p:ho(+p),r=null,c):t},c.x0=function(p){return arguments.length?(t=typeof p=="function"?p:ho(+p),c):t},c.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:ho(+p),c):r},c.y=function(p){return arguments.length?(e=typeof p=="function"?p:ho(+p),n=null,c):e},c.y0=function(p){return arguments.length?(e=typeof p=="function"?p:ho(+p),c):e},c.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:ho(+p),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(p){return arguments.length?(i=typeof p=="function"?p:ho(!!p),c):i},c.curve=function(p){return arguments.length?(a=p,o!=null&&(s=a(o)),c):a},c.context=function(p){return arguments.length?(p==null?o=s=null:s=a(o=p),c):o},c}class nae{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function jWe(t){return new nae(t,!0)}function UWe(t){return new nae(t,!1)}const ZU={draw(t,e){const n=wf(e/sI);t.moveTo(n,0),t.arc(0,0,n,0,pO)}},VWe={draw(t,e){const n=wf(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},rae=wf(1/3),WWe=rae*2,HWe={draw(t,e){const n=wf(e/WWe),r=n*rae;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},GWe={draw(t,e){const n=wf(e),r=-n/2;t.rect(r,r,n,n)}},qWe=.8908130915292852,iae=oI(sI/10)/oI(7*sI/10),YWe=oI(pO/10)*iae,XWe=-Kse(pO/10)*iae,KWe={draw(t,e){const n=wf(e*qWe),r=YWe*n,i=XWe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=pO*o/5,s=Kse(a),l=oI(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},L3=wf(3),ZWe={draw(t,e){const n=-wf(e/(L3*3));t.moveTo(0,n*2),t.lineTo(-L3*n,-n),t.lineTo(L3*n,-n),t.closePath()}},Uu=-.5,Vu=wf(3)/2,oF=1/wf(12),JWe=(oF/2+1)*3,QWe={draw(t,e){const n=wf(e/JWe),r=n/2,i=n*oF,o=r,a=n*oF+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Uu*r-Vu*i,Vu*r+Uu*i),t.lineTo(Uu*o-Vu*a,Vu*o+Uu*a),t.lineTo(Uu*s-Vu*l,Vu*s+Uu*l),t.lineTo(Uu*r+Vu*i,Uu*i-Vu*r),t.lineTo(Uu*o+Vu*a,Uu*a-Vu*o),t.lineTo(Uu*s+Vu*l,Uu*l-Vu*s),t.closePath()}};function eHe(t,e){let n=null,r=XU(i);t=typeof t=="function"?t:ho(t||ZU),e=typeof e=="function"?e:ho(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ho(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ho(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function aI(){}function lI(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oae(t){this._context=t}oae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lI(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lI(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tHe(t){return new oae(t)}function sae(t){this._context=t}sae.prototype={areaStart:aI,areaEnd:aI,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lI(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nHe(t){return new sae(t)}function aae(t){this._context=t}aae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lI(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rHe(t){return new aae(t)}function lae(t){this._context=t}lae.prototype={areaStart:aI,areaEnd:aI,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iHe(t){return new lae(t)}function B7(t){return t<0?-1:1}function F7(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(B7(o)+B7(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function $7(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function D3(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function cI(t){this._context=t}cI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D3(this,this._t0,$7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,D3(this,$7(this,n=F7(this,t,e)),n);break;default:D3(this,this._t0,n=F7(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function cae(t){this._context=new uae(t)}(cae.prototype=Object.create(cI.prototype)).point=function(t,e){cI.prototype.point.call(this,e,t)};function uae(t){this._context=t}uae.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function oHe(t){return new cI(t)}function sHe(t){return new cae(t)}function dae(t){this._context=t}dae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=j7(t),i=j7(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function j7(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function aHe(t){return new dae(t)}function gO(t,e){this._context=t,this._t=e}gO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function lHe(t){return new gO(t,.5)}function cHe(t){return new gO(t,0)}function uHe(t){return new gO(t,1)}function Db(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sF(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dHe(t,e){return t[e]}function fHe(t){const e=[];return e.key=t,e}function hHe(){var t=ho([]),e=sF,n=Db,r=dHe;function i(o){var a=Array.from(t.apply(this,arguments),fHe),s,l=a.length,c=-1,h;for(const p of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(p,a[s].key,c,o)]).data=p;for(s=0,h=KU(e(a));s<l;++s)a[h[s]].index=s;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ho(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ho(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?sF:typeof o=="function"?o:ho(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Db,i):n},i}function pHe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Db(t,e)}}function mHe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Db(t,e)}}function gHe(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var h=t[e[s]],p=h[r][1]||0,g=h[r-1][1]||0,v=(p-g)/2,x=0;x<s;++x){var _=t[e[x]],S=_[r][1]||0,w=_[r-1][1]||0;v+=S-w}l+=p,c+=v*p}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Db(t,e)}}function jM(t){"@babel/helpers - typeof";return jM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jM(t)}var yHe=["type","size","sizeType"];function aF(){return aF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aF.apply(this,arguments)}function U7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(n),!0).forEach(function(r){vHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vHe(t,e,n){return e=xHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xHe(t){var e=_He(t,"string");return jM(e)==="symbol"?e:String(e)}function _He(t,e){if(jM(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jM(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bHe(t,e){if(t==null)return{};var n=wHe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wHe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fae={symbolCircle:ZU,symbolCross:VWe,symbolDiamond:HWe,symbolSquare:GWe,symbolStar:KWe,symbolTriangle:ZWe,symbolWye:QWe},SHe=Math.PI/180,MHe=function(e){var n="symbol".concat(hO(e));return fae[n]||ZU},EHe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*SHe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},THe=function(e,n){fae["symbol".concat(hO(e))]=n},JU=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=bHe(e,yHe),c=V7(V7({},l),{},{type:r,size:o,sizeType:s}),h=function(){var S=MHe(r),w=eHe().type(S).size(EHe(o,s,r));return w()},p=c.className,g=c.cx,v=c.cy,x=ri(c,!0);return g===+g&&v===+v&&o===+o?Ze.createElement("path",aF({},x,{className:Xt("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(v,")"),d:h()})):null};JU.registerSymbol=THe;function Nb(t){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}function lF(){return lF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lF.apply(this,arguments)}function W7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CHe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W7(Object(n),!0).forEach(function(r){UM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hae(r.key),r)}}function PHe(t,e,n){return e&&H7(t.prototype,e),n&&H7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function IHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cF(t,e)}function cF(t,e){return cF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cF(t,e)}function kHe(t){var e=LHe();return function(){var r=uI(t),i;if(e){var o=uI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return RHe(this,i)}}function RHe(t,e){if(e&&(Nb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OHe(t)}function OHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uI(t){return uI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uI(t)}function UM(t,e,n){return e=hae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hae(t){var e=DHe(t,"string");return Nb(e)==="symbol"?e:String(e)}function DHe(t,e){if(Nb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wu=32,QU=function(t){IHe(n,t);var e=kHe(n);function n(){return AHe(this,n),e.apply(this,arguments)}return PHe(n,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,a=Wu/2,s=Wu/6,l=Wu/3,c=i.inactive?o:i.color;if(i.type==="plainline")return Ze.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:a,x2:Wu,y2:a,className:"recharts-legend-icon"});if(i.type==="line")return Ze.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Wu,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(i.type==="rect")return Ze.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Wu/8,"h").concat(Wu,"v").concat(Wu*3/4,"h").concat(-Wu,"z"),className:"recharts-legend-icon"});if(Ze.isValidElement(i.legendIcon)){var h=CHe({},i);return delete h.legendIcon,Ze.cloneElement(i.legendIcon,h)}return Ze.createElement(JU,{fill:c,cx:a,cy:a,size:Wu,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,a=o.payload,s=o.iconSize,l=o.layout,c=o.formatter,h=o.inactiveColor,p={x:0,y:0,width:Wu,height:Wu},g={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,_){var S,w=x.formatter||c,C=Xt((S={"recharts-legend-item":!0},UM(S,"legend-item-".concat(_),!0),UM(S,"inactive",x.inactive),S));if(x.type==="none")return null;var T=Kr(x.value)?null:x.value;y0(!Kr(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=x.inactive?h:x.color;return Ze.createElement("li",lF({className:C,style:g,key:"legend-item-".concat(_)},iI(i.props,x,_)),Ze.createElement(QB,{width:s,height:s,viewBox:p,style:v},i.renderIcon(x)),Ze.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(T,x,_):T))})}},{key:"render",value:function(){var i=this.props,o=i.payload,a=i.layout,s=i.align;if(!o||!o.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return Ze.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),n}(V.PureComponent);UM(QU,"displayName","Legend");UM(QU,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var NHe=eO;function zHe(){this.__data__=new NHe,this.size=0}var BHe=zHe;function FHe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var $He=FHe;function jHe(t){return this.__data__.get(t)}var UHe=jHe;function VHe(t){return this.__data__.has(t)}var WHe=VHe,HHe=eO,GHe=FU,qHe=$U,YHe=200;function XHe(t,e){var n=this.__data__;if(n instanceof HHe){var r=n.__data__;if(!GHe||r.length<YHe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qHe(r)}return n.set(t,e),this.size=n.size,this}var KHe=XHe,ZHe=eO,JHe=BHe,QHe=$He,e9e=UHe,t9e=WHe,n9e=KHe;function O1(t){var e=this.__data__=new ZHe(t);this.size=e.size}O1.prototype.clear=JHe;O1.prototype.delete=QHe;O1.prototype.get=e9e;O1.prototype.has=t9e;O1.prototype.set=n9e;var pae=O1,r9e="__lodash_hash_undefined__";function i9e(t){return this.__data__.set(t,r9e),this}var o9e=i9e;function s9e(t){return this.__data__.has(t)}var a9e=s9e,l9e=$U,c9e=o9e,u9e=a9e;function dI(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new l9e;++e<n;)this.add(t[e])}dI.prototype.add=dI.prototype.push=c9e;dI.prototype.has=u9e;var mae=dI;function d9e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var gae=d9e;function f9e(t,e){return t.has(e)}var yae=f9e,h9e=mae,p9e=gae,m9e=yae,g9e=1,y9e=2;function v9e(t,e,n,r,i,o){var a=n&g9e,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),h=o.get(e);if(c&&h)return c==e&&h==t;var p=-1,g=!0,v=n&y9e?new h9e:void 0;for(o.set(t,e),o.set(e,t);++p<s;){var x=t[p],_=e[p];if(r)var S=a?r(_,x,p,e,t,o):r(x,_,p,t,e,o);if(S!==void 0){if(S)continue;g=!1;break}if(v){if(!p9e(e,function(w,C){if(!m9e(v,C)&&(x===w||i(x,w,n,r,o)))return v.push(C)})){g=!1;break}}else if(!(x===_||i(x,_,n,r,o))){g=!1;break}}return o.delete(t),o.delete(e),g}var vae=v9e,x9e=Fh,_9e=x9e.Uint8Array,b9e=_9e;function w9e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var S9e=w9e;function M9e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var e6=M9e,G7=CE,q7=b9e,E9e=BU,T9e=vae,C9e=S9e,A9e=e6,P9e=1,I9e=2,k9e="[object Boolean]",R9e="[object Date]",O9e="[object Error]",L9e="[object Map]",D9e="[object Number]",N9e="[object RegExp]",z9e="[object Set]",B9e="[object String]",F9e="[object Symbol]",$9e="[object ArrayBuffer]",j9e="[object DataView]",Y7=G7?G7.prototype:void 0,N3=Y7?Y7.valueOf:void 0;function U9e(t,e,n,r,i,o,a){switch(n){case j9e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $9e:return!(t.byteLength!=e.byteLength||!o(new q7(t),new q7(e)));case k9e:case R9e:case D9e:return E9e(+t,+e);case O9e:return t.name==e.name&&t.message==e.message;case N9e:case B9e:return t==e+"";case L9e:var s=C9e;case z9e:var l=r&P9e;if(s||(s=A9e),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=I9e,a.set(t,e);var h=T9e(s(t),s(e),r,i,o,a);return a.delete(t),h;case F9e:if(N3)return N3.call(t)==N3.call(e)}return!1}var V9e=U9e;function W9e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var xae=W9e,H9e=xae,G9e=Ic;function q9e(t,e,n){var r=e(t);return G9e(t)?r:H9e(r,n(t))}var Y9e=q9e;function X9e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var K9e=X9e;function Z9e(){return[]}var J9e=Z9e,Q9e=K9e,eGe=J9e,tGe=Object.prototype,nGe=tGe.propertyIsEnumerable,X7=Object.getOwnPropertySymbols,rGe=X7?function(t){return t==null?[]:(t=Object(t),Q9e(X7(t),function(e){return nGe.call(t,e)}))}:eGe,iGe=rGe;function oGe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sGe=oGe,aGe=cm,lGe=um,cGe="[object Arguments]";function uGe(t){return lGe(t)&&aGe(t)==cGe}var dGe=uGe,K7=dGe,fGe=um,_ae=Object.prototype,hGe=_ae.hasOwnProperty,pGe=_ae.propertyIsEnumerable,mGe=K7(function(){return arguments}())?K7:function(t){return fGe(t)&&hGe.call(t,"callee")&&!pGe.call(t,"callee")},t6=mGe,fI={exports:{}};function gGe(){return!1}var yGe=gGe;fI.exports;(function(t,e){var n=Fh,r=yGe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(fI,fI.exports);var bae=fI.exports,vGe=9007199254740991,xGe=/^(?:0|[1-9]\d*)$/;function _Ge(t,e){var n=typeof t;return e=e??vGe,!!e&&(n=="number"||n!="symbol"&&xGe.test(t))&&t>-1&&t%1==0&&t<e}var n6=_Ge,bGe=9007199254740991;function wGe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bGe}var r6=wGe,SGe=cm,MGe=r6,EGe=um,TGe="[object Arguments]",CGe="[object Array]",AGe="[object Boolean]",PGe="[object Date]",IGe="[object Error]",kGe="[object Function]",RGe="[object Map]",OGe="[object Number]",LGe="[object Object]",DGe="[object RegExp]",NGe="[object Set]",zGe="[object String]",BGe="[object WeakMap]",FGe="[object ArrayBuffer]",$Ge="[object DataView]",jGe="[object Float32Array]",UGe="[object Float64Array]",VGe="[object Int8Array]",WGe="[object Int16Array]",HGe="[object Int32Array]",GGe="[object Uint8Array]",qGe="[object Uint8ClampedArray]",YGe="[object Uint16Array]",XGe="[object Uint32Array]",bo={};bo[jGe]=bo[UGe]=bo[VGe]=bo[WGe]=bo[HGe]=bo[GGe]=bo[qGe]=bo[YGe]=bo[XGe]=!0;bo[TGe]=bo[CGe]=bo[FGe]=bo[AGe]=bo[$Ge]=bo[PGe]=bo[IGe]=bo[kGe]=bo[RGe]=bo[OGe]=bo[LGe]=bo[DGe]=bo[NGe]=bo[zGe]=bo[BGe]=!1;function KGe(t){return EGe(t)&&MGe(t.length)&&!!bo[SGe(t)]}var ZGe=KGe;function JGe(t){return function(e){return t(e)}}var wae=JGe,hI={exports:{}};hI.exports;(function(t,e){var n=kse,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(hI,hI.exports);var QGe=hI.exports,e7e=ZGe,t7e=wae,Z7=QGe,J7=Z7&&Z7.isTypedArray,n7e=J7?t7e(J7):e7e,Sae=n7e,r7e=sGe,i7e=t6,o7e=Ic,s7e=bae,a7e=n6,l7e=Sae,c7e=Object.prototype,u7e=c7e.hasOwnProperty;function d7e(t,e){var n=o7e(t),r=!n&&i7e(t),i=!n&&!r&&s7e(t),o=!n&&!r&&!i&&l7e(t),a=n||r||i||o,s=a?r7e(t.length,String):[],l=s.length;for(var c in t)(e||u7e.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||a7e(c,l)))&&s.push(c);return s}var f7e=d7e,h7e=Object.prototype;function p7e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||h7e;return t===n}var m7e=p7e;function g7e(t,e){return function(n){return t(e(n))}}var Mae=g7e,y7e=Mae,v7e=y7e(Object.keys,Object),x7e=v7e,_7e=m7e,b7e=x7e,w7e=Object.prototype,S7e=w7e.hasOwnProperty;function M7e(t){if(!_7e(t))return b7e(t);var e=[];for(var n in Object(t))S7e.call(t,n)&&n!="constructor"&&e.push(n);return e}var E7e=M7e,T7e=zU,C7e=r6;function A7e(t){return t!=null&&C7e(t.length)&&!T7e(t)}var kE=A7e,P7e=f7e,I7e=E7e,k7e=kE;function R7e(t){return k7e(t)?P7e(t):I7e(t)}var yO=R7e,O7e=Y9e,L7e=iGe,D7e=yO;function N7e(t){return O7e(t,D7e,L7e)}var z7e=N7e,Q7=z7e,B7e=1,F7e=Object.prototype,$7e=F7e.hasOwnProperty;function j7e(t,e,n,r,i,o){var a=n&B7e,s=Q7(t),l=s.length,c=Q7(e),h=c.length;if(l!=h&&!a)return!1;for(var p=l;p--;){var g=s[p];if(!(a?g in e:$7e.call(e,g)))return!1}var v=o.get(t),x=o.get(e);if(v&&x)return v==e&&x==t;var _=!0;o.set(t,e),o.set(e,t);for(var S=a;++p<l;){g=s[p];var w=t[g],C=e[g];if(r)var T=a?r(C,w,g,e,t,o):r(w,C,g,t,e,o);if(!(T===void 0?w===C||i(w,C,n,r,o):T)){_=!1;break}S||(S=g=="constructor")}if(_&&!S){var k=t.constructor,R=e.constructor;k!=R&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof R=="function"&&R instanceof R)&&(_=!1)}return o.delete(t),o.delete(e),_}var U7e=j7e,V7e=Z0,W7e=Fh,H7e=V7e(W7e,"DataView"),G7e=H7e,q7e=Z0,Y7e=Fh,X7e=q7e(Y7e,"Promise"),K7e=X7e,Z7e=Z0,J7e=Fh,Q7e=Z7e(J7e,"Set"),Eae=Q7e,eqe=Z0,tqe=Fh,nqe=eqe(tqe,"WeakMap"),rqe=nqe,uF=G7e,dF=FU,fF=K7e,hF=Eae,pF=rqe,Tae=cm,L1=Ose,eq="[object Map]",iqe="[object Object]",tq="[object Promise]",nq="[object Set]",rq="[object WeakMap]",iq="[object DataView]",oqe=L1(uF),sqe=L1(dF),aqe=L1(fF),lqe=L1(hF),cqe=L1(pF),Fv=Tae;(uF&&Fv(new uF(new ArrayBuffer(1)))!=iq||dF&&Fv(new dF)!=eq||fF&&Fv(fF.resolve())!=tq||hF&&Fv(new hF)!=nq||pF&&Fv(new pF)!=rq)&&(Fv=function(t){var e=Tae(t),n=e==iqe?t.constructor:void 0,r=n?L1(n):"";if(r)switch(r){case oqe:return iq;case sqe:return eq;case aqe:return tq;case lqe:return nq;case cqe:return rq}return e});var uqe=Fv,z3=pae,dqe=vae,fqe=V9e,hqe=U7e,oq=uqe,sq=Ic,aq=bae,pqe=Sae,mqe=1,lq="[object Arguments]",cq="[object Array]",sC="[object Object]",gqe=Object.prototype,uq=gqe.hasOwnProperty;function yqe(t,e,n,r,i,o){var a=sq(t),s=sq(e),l=a?cq:oq(t),c=s?cq:oq(e);l=l==lq?sC:l,c=c==lq?sC:c;var h=l==sC,p=c==sC,g=l==c;if(g&&aq(t)){if(!aq(e))return!1;a=!0,h=!1}if(g&&!h)return o||(o=new z3),a||pqe(t)?dqe(t,e,n,r,i,o):fqe(t,e,l,n,r,i,o);if(!(n&mqe)){var v=h&&uq.call(t,"__wrapped__"),x=p&&uq.call(e,"__wrapped__");if(v||x){var _=v?t.value():t,S=x?e.value():e;return o||(o=new z3),i(_,S,n,r,o)}}return g?(o||(o=new z3),hqe(t,e,n,r,i,o)):!1}var vqe=yqe,xqe=vqe,dq=um;function Cae(t,e,n,r,i){return t===e?!0:t==null||e==null||!dq(t)&&!dq(e)?t!==t&&e!==e:xqe(t,e,n,r,Cae,i)}var i6=Cae,_qe=pae,bqe=i6,wqe=1,Sqe=2;function Mqe(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],h=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var p=new _qe;if(r)var g=r(c,h,l,t,e,p);if(!(g===void 0?bqe(h,c,wqe|Sqe,r,p):g))return!1}}return!0}var Eqe=Mqe,Tqe=by;function Cqe(t){return t===t&&!Tqe(t)}var Aae=Cqe,Aqe=Aae,Pqe=yO;function Iqe(t){for(var e=Pqe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Aqe(i)]}return e}var kqe=Iqe;function Rqe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Pae=Rqe,Oqe=Eqe,Lqe=kqe,Dqe=Pae;function Nqe(t){var e=Lqe(t);return e.length==1&&e[0][2]?Dqe(e[0][0],e[0][1]):function(n){return n===t||Oqe(n,t,e)}}var zqe=Nqe;function Bqe(t,e){return t!=null&&e in Object(t)}var Fqe=Bqe,$qe=zse,jqe=t6,Uqe=Ic,Vqe=n6,Wqe=r6,Hqe=nO;function Gqe(t,e,n){e=$qe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Hqe(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Wqe(i)&&Vqe(a,i)&&(Uqe(t)||jqe(t)))}var qqe=Gqe,Yqe=Fqe,Xqe=qqe;function Kqe(t,e){return t!=null&&Xqe(t,e,Yqe)}var Zqe=Kqe,Jqe=i6,Qqe=Bse,eYe=Zqe,tYe=NU,nYe=Aae,rYe=Pae,iYe=nO,oYe=1,sYe=2;function aYe(t,e){return tYe(t)&&nYe(e)?rYe(iYe(t),e):function(n){var r=Qqe(n,t);return r===void 0&&r===e?eYe(n,t):Jqe(e,r,oYe|sYe)}}var lYe=aYe;function cYe(t){return t}var D1=cYe;function uYe(t){return function(e){return e==null?void 0:e[t]}}var dYe=uYe,fYe=VU;function hYe(t){return function(e){return fYe(e,t)}}var pYe=hYe,mYe=dYe,gYe=pYe,yYe=NU,vYe=nO;function xYe(t){return yYe(t)?mYe(vYe(t)):gYe(t)}var _Ye=xYe,bYe=zqe,wYe=lYe,SYe=D1,MYe=Ic,EYe=_Ye;function TYe(t){return typeof t=="function"?t:t==null?SYe:typeof t=="object"?MYe(t)?wYe(t[0],t[1]):bYe(t):EYe(t)}var wy=TYe;function CYe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Iae=CYe;function AYe(t){return t!==t}var PYe=AYe;function IYe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var kYe=IYe,RYe=Iae,OYe=PYe,LYe=kYe;function DYe(t,e,n){return e===e?LYe(t,e,n):RYe(t,OYe,n)}var NYe=DYe,zYe=NYe;function BYe(t,e){var n=t==null?0:t.length;return!!n&&zYe(t,e,0)>-1}var FYe=BYe;function $Ye(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var jYe=$Ye;function UYe(){}var VYe=UYe,B3=Eae,WYe=VYe,HYe=e6,GYe=1/0,qYe=B3&&1/HYe(new B3([,-0]))[1]==GYe?function(t){return new B3(t)}:WYe,YYe=qYe,XYe=mae,KYe=FYe,ZYe=jYe,JYe=yae,QYe=YYe,eXe=e6,tXe=200;function nXe(t,e,n){var r=-1,i=KYe,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=ZYe;else if(o>=tXe){var c=e?null:QYe(t);if(c)return eXe(c);a=!1,i=JYe,l=new XYe}else l=e?[]:s;e:for(;++r<o;){var h=t[r],p=e?e(h):h;if(h=n||h!==0?h:0,a&&p===p){for(var g=l.length;g--;)if(l[g]===p)continue e;e&&l.push(p),s.push(h)}else i(l,p,n)||(l!==s&&l.push(p),s.push(h))}return s}var rXe=nXe,iXe=wy,oXe=rXe;function sXe(t,e){return t&&t.length?oXe(t,iXe(e)):[]}var aXe=sXe;const fq=bi(aXe);function kae(t,e,n){return e===!0?fq(t,n):Kr(e)?fq(t,e):t}function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}var lXe=["ref"];function hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(n),!0).forEach(function(r){vO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oae(r.key),r)}}function uXe(t,e,n){return e&&pq(t.prototype,e),n&&pq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mF(t,e)}function mF(t,e){return mF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mF(t,e)}function fXe(t){var e=pXe();return function(){var r=pI(t),i;if(e){var o=pI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return hXe(this,i)}}function hXe(t,e){if(e&&(zb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rae(t)}function Rae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pXe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pI(t){return pI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pI(t)}function vO(t,e,n){return e=Oae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oae(t){var e=mXe(t,"string");return zb(e)==="symbol"?e:String(e)}function mXe(t,e){if(zb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gXe(t,e){if(t==null)return{};var n=yXe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yXe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vXe(t){return t.value}function xXe(t,e){if(Ze.isValidElement(t))return Ze.cloneElement(t,e);if(typeof t=="function")return Ze.createElement(t,e);e.ref;var n=gXe(e,lXe);return Ze.createElement(QU,n)}var mq=1,Bb=function(t){dXe(n,t);var e=fXe(n);function n(){var r;cXe(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),vO(Rae(r),"lastBoundingBox",{width:-1,height:-1}),r}return uXe(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.lastBoundingBox.width)>mq||Math.abs(o.height-this.lastBoundingBox.height)>mq)&&(this.lastBoundingBox.width=o.width,this.lastBoundingBox.height=o.height,i&&i(o))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?vv({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var o=this.props,a=o.layout,s=o.align,l=o.verticalAlign,c=o.margin,h=o.chartWidth,p=o.chartHeight,g,v;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(s==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();g={left:((h||0)-x.width)/2}}else g=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var _=this.getBBoxSnapshot();v={top:((p||0)-_.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return vv(vv({},g),v)}},{key:"render",value:function(){var i=this,o=this.props,a=o.content,s=o.width,l=o.height,c=o.wrapperStyle,h=o.payloadUniqBy,p=o.payload,g=vv(vv({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ze.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(x){i.wrapperNode=x}},xXe(a,vv(vv({},this.props),{},{payload:kae(p,h,vXe)})))}}],[{key:"getWithHeight",value:function(i,o){var a=i.props.layout;return a==="vertical"&&Cn(i.props.height)?{height:i.props.height}:a==="horizontal"?{width:i.props.width||o}:null}}]),n}(V.PureComponent);vO(Bb,"displayName","Legend");vO(Bb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gq=CE,_Xe=t6,bXe=Ic,yq=gq?gq.isConcatSpreadable:void 0;function wXe(t){return bXe(t)||_Xe(t)||!!(yq&&t&&t[yq])}var SXe=wXe,MXe=xae,EXe=SXe;function Lae(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=EXe),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Lae(s,e-1,n,r,i):MXe(i,s):r||(i[i.length]=s)}return i}var Dae=Lae;function TXe(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var CXe=TXe,AXe=CXe,PXe=AXe(),IXe=PXe,kXe=IXe,RXe=yO;function OXe(t,e){return t&&kXe(t,e,RXe)}var Nae=OXe,LXe=kE;function DXe(t,e){return function(n,r){if(n==null)return n;if(!LXe(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var NXe=DXe,zXe=Nae,BXe=NXe,FXe=BXe(zXe),o6=FXe,$Xe=o6,jXe=kE;function UXe(t,e){var n=-1,r=jXe(t)?Array(t.length):[];return $Xe(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var zae=UXe;function VXe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var WXe=VXe,vq=A1;function HXe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=vq(t),a=e!==void 0,s=e===null,l=e===e,c=vq(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var GXe=HXe,qXe=GXe;function YXe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=qXe(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var XXe=YXe,F3=UU,KXe=VU,ZXe=wy,JXe=zae,QXe=WXe,eKe=wae,tKe=XXe,nKe=D1,rKe=Ic;function iKe(t,e,n){e.length?e=F3(e,function(o){return rKe(o)?function(a){return KXe(a,o.length===1?o[0]:o)}:o}):e=[nKe];var r=-1;e=F3(e,eKe(ZXe));var i=JXe(t,function(o,a,s){var l=F3(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return QXe(i,function(o,a){return tKe(o,a,n)})}var oKe=iKe;function sKe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var aKe=sKe,lKe=aKe,xq=Math.max;function cKe(t,e,n){return e=xq(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=xq(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),lKe(t,this,s)}}var uKe=cKe;function dKe(t){return function(){return t}}var fKe=dKe,hKe=Z0,pKe=function(){try{var t=hKe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Bae=pKe,mKe=fKe,_q=Bae,gKe=D1,yKe=_q?function(t,e){return _q(t,"toString",{configurable:!0,enumerable:!1,value:mKe(e),writable:!0})}:gKe,vKe=yKe,xKe=800,_Ke=16,bKe=Date.now;function wKe(t){var e=0,n=0;return function(){var r=bKe(),i=_Ke-(r-n);if(n=r,i>0){if(++e>=xKe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var SKe=wKe,MKe=vKe,EKe=SKe,TKe=EKe(MKe),CKe=TKe,AKe=D1,PKe=uKe,IKe=CKe;function kKe(t,e){return IKe(PKe(t,e,AKe),t+"")}var RKe=kKe,OKe=BU,LKe=kE,DKe=n6,NKe=by;function zKe(t,e,n){if(!NKe(n))return!1;var r=typeof e;return(r=="number"?LKe(n)&&DKe(e,n.length):r=="string"&&e in n)?OKe(n[e],t):!1}var xO=zKe,BKe=Dae,FKe=oKe,$Ke=RKe,bq=xO,jKe=$Ke(function(t,e){if(t==null)return[];var n=e.length;return n>1&&bq(t,e[0],e[1])?e=[]:n>2&&bq(e[0],e[1],e[2])&&(e=[e[0]]),FKe(t,BKe(e,1),[])}),UKe=jKe;const s6=bi(UKe);function VM(t){"@babel/helpers - typeof";return VM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VM(t)}function VKe(t,e){return qKe(t)||GKe(t,e)||HKe(t,e)||WKe()}function WKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HKe(t,e){if(t){if(typeof t=="string")return wq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wq(t,e)}}function wq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GKe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function qKe(t){if(Array.isArray(t))return t}function Sq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sq(Object(n),!0).forEach(function(r){YKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YKe(t,e,n){return e=XKe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XKe(t){var e=KKe(t,"string");return VM(e)==="symbol"?e:String(e)}function KKe(t,e){if(VM(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(VM(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZKe(t){return Array.isArray(t)&&ta(t[0])&&ta(t[1])?t.join(" ~ "):t}var JKe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,h=e.payload,p=e.formatter,g=e.itemSorter,v=e.wrapperClassName,x=e.labelClassName,_=e.label,S=e.labelFormatter,w=function(){if(h&&h.length){var Z={padding:0,margin:0},j=(g?s6(h,g):h).map(function(X,le){if(X.type==="none")return null;var me=$3({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},s),ie=X.formatter||p||ZKe,ce=X.value,fe=X.name,xe=ce,te=fe;if(ie&&xe!=null&&te!=null){var he=ie(ce,fe,X,le,h);if(Array.isArray(he)){var ve=VKe(he,2);xe=ve[0],te=ve[1]}else xe=he}return Ze.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(le),style:me},ta(te)?Ze.createElement("span",{className:"recharts-tooltip-item-name"},te):null,ta(te)?Ze.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Ze.createElement("span",{className:"recharts-tooltip-item-value"},xe),Ze.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return Ze.createElement("ul",{className:"recharts-tooltip-item-list",style:Z},j)}return null},C=$3({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=$3({margin:0},c),k=!si(_),R=k?_:"",L=Xt("recharts-default-tooltip",v),F=Xt("recharts-tooltip-label",x);return k&&S&&h!==void 0&&h!==null&&(R=S(_,h)),Ze.createElement("div",{className:L,style:C},Ze.createElement("p",{className:F,style:T},Ze.isValidElement(R)?R:"".concat(R)),w())},QKe=Object.getOwnPropertyNames,eZe=Object.getOwnPropertySymbols,tZe=Object.prototype.hasOwnProperty;function Mq(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function aC(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Eq(t){return QKe(t).concat(eZe(t))}var Fae=Object.hasOwn||function(t,e){return tZe.call(t,e)};function N1(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var $ae="_owner",Tq=Object.getOwnPropertyDescriptor,Cq=Object.keys;function nZe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function rZe(t,e){return N1(t.getTime(),e.getTime())}function Aq(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var l=e.entries(),c=!1,h=0;(s=l.next())&&!s.done;){var p=a.value,g=p[0],v=p[1],x=s.value,_=x[0],S=x[1];!c&&!r[h]&&(c=n.equals(g,_,o,h,t,e,n)&&n.equals(v,S,g,_,t,e,n))&&(r[h]=!0),h++}if(!c)return!1;o++}return!0}function iZe(t,e,n){var r=Cq(t),i=r.length;if(Cq(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===$ae&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Fae(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function Hw(t,e,n){var r=Eq(t),i=r.length;if(Eq(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===$ae&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Fae(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=Tq(t,o),s=Tq(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function oZe(t,e){return N1(t.valueOf(),e.valueOf())}function sZe(t,e){return t.source===e.source&&t.flags===e.flags}function Pq(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),l=!1,c=0;(a=s.next())&&!a.done;)!l&&!r[c]&&(l=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function aZe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var lZe="[object Arguments]",cZe="[object Boolean]",uZe="[object Date]",dZe="[object Map]",fZe="[object Number]",hZe="[object Object]",pZe="[object RegExp]",mZe="[object Set]",gZe="[object String]",yZe=Array.isArray,Iq=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kq=Object.assign,vZe=Object.prototype.toString.call.bind(Object.prototype.toString);function xZe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(h,p,g){if(h===p)return!0;if(h==null||p==null||typeof h!="object"||typeof p!="object")return h!==h&&p!==p;var v=h.constructor;if(v!==p.constructor)return!1;if(v===Object)return i(h,p,g);if(yZe(h))return e(h,p,g);if(Iq!=null&&Iq(h))return l(h,p,g);if(v===Date)return n(h,p,g);if(v===RegExp)return a(h,p,g);if(v===Map)return r(h,p,g);if(v===Set)return s(h,p,g);var x=vZe(h);return x===uZe?n(h,p,g):x===pZe?a(h,p,g):x===dZe?r(h,p,g):x===mZe?s(h,p,g):x===hZe?typeof h.then!="function"&&typeof p.then!="function"&&i(h,p,g):x===lZe?i(h,p,g):x===cZe||x===fZe||x===gZe?o(h,p,g):!1}}function _Ze(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Hw:nZe,areDatesEqual:rZe,areMapsEqual:r?Mq(Aq,Hw):Aq,areObjectsEqual:r?Hw:iZe,arePrimitiveWrappersEqual:oZe,areRegExpsEqual:sZe,areSetsEqual:r?Mq(Pq,Hw):Pq,areTypedArraysEqual:r?Hw:aZe};if(n&&(i=kq({},i,n(i))),e){var o=aC(i.areArraysEqual),a=aC(i.areMapsEqual),s=aC(i.areObjectsEqual),l=aC(i.areSetsEqual);i=kq({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function bZe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function wZe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var h=r(),p=h.cache,g=p===void 0?e?new WeakMap:void 0:p,v=h.meta;return n(l,c,{cache:g,equals:i,meta:v,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var SZe=Sy();Sy({strict:!0});Sy({circular:!0});Sy({circular:!0,strict:!0});Sy({createInternalComparator:function(){return N1}});Sy({strict:!0,createInternalComparator:function(){return N1}});Sy({circular:!0,createInternalComparator:function(){return N1}});Sy({circular:!0,createInternalComparator:function(){return N1},strict:!0});function Sy(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=_Ze(t),l=xZe(s),c=r?r(l):bZe(l);return wZe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function MZe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Rq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):MZe(i)};requestAnimationFrame(r)}function gF(t){"@babel/helpers - typeof";return gF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gF(t)}function EZe(t){return PZe(t)||AZe(t)||CZe(t)||TZe()}function TZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CZe(t,e){if(t){if(typeof t=="string")return Oq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oq(t,e)}}function Oq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PZe(t){if(Array.isArray(t))return t}function IZe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=EZe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){Rq(i.bind(null,c),l);return}i(l),Rq(i.bind(null,c));return}gF(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function WM(t){"@babel/helpers - typeof";return WM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WM(t)}function Lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lq(Object(n),!0).forEach(function(r){mI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mI(t,e,n){return e=kZe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZe(t){var e=RZe(t,"string");return WM(e)==="symbol"?e:String(e)}function RZe(t,e){if(WM(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(WM(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OZe=["Webkit","Moz","O","ms"],LZe=["-webkit-","-moz-","-o-","-ms-"],DZe=["transform","transformOrigin","transition"],NZe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},zZe=function(e){return e},BZe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},FZe=function(e,n){if(DZe.indexOf(e)===-1)return mI({},e,Number.isNaN(n)?0:n);var r=e==="transition",i=e.replace(/(\w)/,function(a){return a.toUpperCase()}),o=n;return OZe.reduce(function(a,s,l){return r&&(o=n.replace(/(transform|transform-origin)/gim,"".concat(LZe[l],"$1"))),Fb(Fb({},a),{},mI({},s+i,o))},{})},qS=function(e,n){return Object.keys(n).reduce(function(r,i){return Fb(Fb({},r),{},mI({},i,e(i,n[i])))},{})},a6=function(e){return Object.keys(e).reduce(function(n,r){return Fb(Fb({},n),FZe(r,n[r]))},e)},Dq=function(e,n,r){return e.map(function(i){return"".concat(BZe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function $Ze(t,e){return VZe(t)||UZe(t,e)||jae(t,e)||jZe()}function jZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UZe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function VZe(t){if(Array.isArray(t))return t}function WZe(t){return qZe(t)||GZe(t)||jae(t)||HZe()}function HZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(t,e){if(t){if(typeof t=="string")return yF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yF(t,e)}}function GZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qZe(t){if(Array.isArray(t))return yF(t)}function yF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gI=1e-4,Uae=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Vae=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Nq=function(e,n){return function(r){var i=Uae(e,n);return Vae(i,r)}},YZe=function(e,n){return function(r){var i=Uae(e,n),o=[].concat(WZe(i.map(function(a,s){return a*s}).slice(1)),[0]);return Vae(o,r)}},zq=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(S){return parseFloat(S)}),h=$Ze(c,4);i=h[0],o=h[1],a=h[2],s=h[3]}}}var p=Nq(i,a),g=Nq(o,s),v=YZe(i,a),x=function(w){return w>1?1:w<0?0:w},_=function(w){for(var C=w>1?1:w,T=C,k=0;k<8;++k){var R=p(T)-C,L=v(T);if(Math.abs(R-C)<gI||L<gI)return g(T);T=x(T-R/L)}return g(T)};return _.isStepper=!1,_},XZe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(h,p,g){var v=-(h-p)*r,x=g*o,_=g+(v-x)*s/1e3,S=g*s/1e3+h;return Math.abs(S-p)<gI&&Math.abs(_)<gI?[p,0]:[S,_]};return l.isStepper=!0,l.dt=s,l},KZe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zq(i);case"spring":return XZe();default:if(i.split("(")[0]==="cubic-bezier")return zq(i)}return typeof i=="function"?i:null};function HM(t){"@babel/helpers - typeof";return HM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HM(t)}function Bq(t){return QZe(t)||JZe(t)||Wae(t)||ZZe()}function ZZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QZe(t){if(Array.isArray(t))return xF(t)}function Fq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fq(Object(n),!0).forEach(function(r){vF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vF(t,e,n){return e=eJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eJe(t){var e=tJe(t,"string");return HM(e)==="symbol"?e:String(e)}function tJe(t,e){if(HM(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(HM(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nJe(t,e){return oJe(t)||iJe(t,e)||Wae(t,e)||rJe()}function rJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wae(t,e){if(t){if(typeof t=="string")return xF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xF(t,e)}}function xF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iJe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function oJe(t){if(Array.isArray(t))return t}var yI=function(e,n,r){return e+(n-e)*r},_F=function(e){var n=e.from,r=e.to;return n!==r},sJe=function t(e,n,r){var i=qS(function(o,a){if(_F(a)){var s=e(a.from,a.to,a.velocity),l=nJe(s,2),c=l[0],h=l[1];return ka(ka({},a),{},{from:c,velocity:h})}return a},n);return r<1?qS(function(o,a){return _F(a)?ka(ka({},a),{},{velocity:yI(a.velocity,i[o].velocity,r),from:yI(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const aJe=function(t,e,n,r,i){var o=NZe(t,e),a=o.reduce(function(S,w){return ka(ka({},S),{},vF({},w,[t[w],e[w]]))},{}),s=o.reduce(function(S,w){return ka(ka({},S),{},vF({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,h,p=function(){return null},g=function(){return qS(function(w,C){return C.from},s)},v=function(){return!Object.values(s).filter(_F).length},x=function(w){c||(c=w);var C=w-c,T=C/n.dt;s=sJe(n,s,T),i(ka(ka(ka({},t),e),g())),c=w,v()||(l=requestAnimationFrame(p))},_=function(w){h||(h=w);var C=(w-h)/r,T=qS(function(R,L){return yI.apply(void 0,Bq(L).concat([n(C)]))},a);if(i(ka(ka(ka({},t),e),T)),C<1)l=requestAnimationFrame(p);else{var k=qS(function(R,L){return yI.apply(void 0,Bq(L).concat([n(1)]))},a);i(ka(ka(ka({},t),e),k))}};return p=n.isStepper?x:_,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(l)}}};function $b(t){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}var lJe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cJe(t,e){if(t==null)return{};var n=uJe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uJe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function j3(t){return pJe(t)||hJe(t)||fJe(t)||dJe()}function dJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fJe(t,e){if(t){if(typeof t=="string")return bF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bF(t,e)}}function hJe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pJe(t){if(Array.isArray(t))return bF(t)}function bF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(n),!0).forEach(function(r){SS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$q(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SS(t,e,n){return e=Hae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hae(r.key),r)}}function gJe(t,e,n){return e&&jq(t.prototype,e),n&&jq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hae(t){var e=yJe(t,"string");return $b(e)==="symbol"?e:String(e)}function yJe(t,e){if($b(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($b(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wF(t,e)}function wF(t,e){return wF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wF(t,e)}function xJe(t){var e=_Je();return function(){var r=vI(t),i;if(e){var o=vI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return SF(this,i)}}function SF(t,e){if(e&&($b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MF(t)}function MF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Je(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vI(t){return vI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vI(t)}var Kp=function(t){vJe(n,t);var e=xJe(n);function n(r,i){var o;mJe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,h=a.to,p=a.steps,g=a.children,v=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(MF(o)),o.changeStyle=o.changeStyle.bind(MF(o)),!s||v<=0)return o.state={style:{}},typeof g=="function"&&(o.state={style:h}),SF(o);if(p&&p.length)o.state={style:p[0].style};else if(c){if(typeof g=="function")return o.state={style:c},SF(o);o.state={style:l?SS({},l,c):c}}else o.state={style:{}};return o}return gJe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,h=o.to,p=o.from,g=this.state.style;if(s){if(!a){var v={style:l?SS({},l,h):h};this.state&&g&&(l&&g[l]!==h||!l&&g!==h)&&this.setState(v);return}if(!(SZe(i.to,h)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=x||c?p:i.to;if(this.state&&g){var S={style:l?SS({},l,_):_};(l&&[l]!==_||!l&&g!==_)&&this.setState(S)}this.runAnimation(Ud(Ud({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,h=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,v=aJe(a,s,KZe(c),l,this.changeStyle),x=function(){o.stopJSAnimation=v()};this.manager.start([g,h,x,l,p])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],h=c.style,p=c.duration,g=p===void 0?0:p,v=function(_,S,w){if(w===0)return _;var C=S.duration,T=S.easing,k=T===void 0?"ease":T,R=S.style,L=S.properties,F=S.onAnimationEnd,H=w>0?a[w-1]:S,Z=L||Object.keys(R);if(typeof k=="function"||k==="spring")return[].concat(j3(_),[o.runJSAnimation.bind(o,{from:H.style,to:R,duration:C,easing:k}),C]);var j=Dq(Z,C,k),X=Ud(Ud(Ud({},H.style),R),{},{transition:j});return[].concat(j3(_),[X,C,F]).filter(zZe)};return this.manager.start([l].concat(j3(a.reduce(v,[h,Math.max(g,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=IZe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,v=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof v=="function"||c==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var _=s?SS({},s,l):l,S=Dq(Object.keys(_),a,c);x.start([h,o,Ud(Ud({},_),{},{transition:S}),a,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=cJe(i,lJe),c=V.Children.count(o),h=a6(this.state.style);if(typeof o=="function")return o(h);if(!s||c===0||a<=0)return o;var p=function(v){var x=v.props,_=x.style,S=_===void 0?{}:_,w=x.className,C=V.cloneElement(v,Ud(Ud({},l),{},{style:Ud(Ud({},S),h),className:w}));return C};return c===1?p(V.Children.only(o)):Ze.createElement("div",null,V.Children.map(o,function(g){return p(g)}))}}]),n}(V.PureComponent);Kp.displayName="Animate";Kp.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Kp.propTypes={from:Br.oneOfType([Br.object,Br.string]),to:Br.oneOfType([Br.object,Br.string]),attributeName:Br.string,duration:Br.number,begin:Br.number,easing:Br.oneOfType([Br.string,Br.func]),steps:Br.arrayOf(Br.shape({duration:Br.number.isRequired,style:Br.object.isRequired,easing:Br.oneOfType([Br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Br.func]),properties:Br.arrayOf("string"),onAnimationEnd:Br.func})),children:Br.oneOfType([Br.node,Br.func]),isActive:Br.bool,canBegin:Br.bool,onAnimationEnd:Br.func,shouldReAnimate:Br.bool,onAnimationStart:Br.func,onAnimationReStart:Br.func};Number.isFinite===void 0&&(Number.isFinite=function(t){return typeof t=="number"&&isFinite(t)});Br.object,Br.object,Br.object,Br.element;Br.object,Br.object,Br.object,Br.oneOfType([Br.array,Br.element]),Br.any;function GM(t){"@babel/helpers - typeof";return GM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GM(t)}function lC(t,e,n){return e=bJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJe(t){var e=wJe(t,"string");return GM(e)==="symbol"?e:String(e)}function wJe(t,e){if(GM(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(GM(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gw="recharts-tooltip-wrapper",SJe={visibility:"hidden"};function MJe(t){var e,n=t.coordinate,r=t.translateX,i=t.translateY;return Xt(Gw,(e={},lC(e,"".concat(Gw,"-right"),Cn(r)&&n&&Cn(n.x)&&r>=n.x),lC(e,"".concat(Gw,"-left"),Cn(r)&&n&&Cn(n.x)&&r<n.x),lC(e,"".concat(Gw,"-bottom"),Cn(i)&&n&&Cn(n.y)&&i>=n.y),lC(e,"".concat(Gw,"-top"),Cn(i)&&n&&Cn(n.y)&&i<n.y),e))}function Uq(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&Cn(o[r]))return o[r];var h=n[r]-s-i,p=n[r]+i;if(e[r])return a[r]?h:p;if(a[r]){var g=h,v=l[r];return g<v?Math.max(p,l[r]):Math.max(h,l[r])}var x=p+s,_=l[r]+c;return x>_?Math.max(h,l[r]):Math.max(p,l[r])}function EJe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return a6({transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")})}function TJe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,h,p;return a.height>0&&a.width>0&&n?(h=Uq({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),p=Uq({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=EJe({translateX:h,translateY:p,useTranslate3d:s})):c=SJe,{cssProperties:c,cssClasses:MJe({translateX:h,translateY:p,coordinate:n})}}function jb(t){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function Vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vq(Object(n),!0).forEach(function(r){jA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gae(r.key),r)}}function AJe(t,e,n){return e&&Wq(t.prototype,e),n&&Wq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EF(t,e)}function EF(t,e){return EF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EF(t,e)}function IJe(t){var e=RJe();return function(){var r=xI(t),i;if(e){var o=xI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kJe(this,i)}}function kJe(t,e){if(e&&(jb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $A(t)}function $A(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RJe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xI(t){return xI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xI(t)}function jA(t,e,n){return e=Gae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=OJe(t,"string");return jb(e)==="symbol"?e:String(e)}function OJe(t,e){if(jb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hq=1,LJe=function(t){PJe(n,t);var e=IJe(n);function n(){var r;CJe(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),jA($A(r),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jA($A(r),"lastBoundingBox",{width:-1,height:-1}),jA($A(r),"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return AJe(n,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>Hq||Math.abs(i.height-this.lastBoundingBox.height)>Hq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,o;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,o=this.props,a=o.active,s=o.allowEscapeViewBox,l=o.animationDuration,c=o.animationEasing,h=o.children,p=o.coordinate,g=o.hasPayload,v=o.isAnimationActive,x=o.offset,_=o.position,S=o.reverseDirection,w=o.useTranslate3d,C=o.viewBox,T=o.wrapperStyle,k=TJe({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:x,position:_,reverseDirection:S,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:w,viewBox:C}),R=k.cssClasses,L=k.cssProperties,F=U3(U3(U3({},v&&a&&a6({transition:"transform ".concat(l,"ms ").concat(c)})),L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0},T);return Ze.createElement("div",{tabIndex:-1,role:"dialog",className:R,style:F,ref:function(Z){i.wrapperNode=Z}},h)}}]),n}(V.PureComponent),DJe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Bp={isSsr:DJe(),get:function(e){return Bp[e]},set:function(e,n){if(typeof e=="string")Bp[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Bp[i]=e[i]})}}};function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}function Gq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gq(Object(n),!0).forEach(function(r){l6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qae(r.key),r)}}function zJe(t,e,n){return e&&Yq(t.prototype,e),n&&Yq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TF(t,e)}function TF(t,e){return TF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TF(t,e)}function FJe(t){var e=UJe();return function(){var r=_I(t),i;if(e){var o=_I(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $Je(this,i)}}function $Je(t,e){if(e&&(Ub(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jJe(t)}function jJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UJe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _I(t){return _I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_I(t)}function l6(t,e,n){return e=qae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qae(t){var e=VJe(t,"string");return Ub(e)==="symbol"?e:String(e)}function VJe(t,e){if(Ub(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ub(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WJe(t){return t.dataKey}function HJe(t,e){return Ze.isValidElement(t)?Ze.cloneElement(t,e):typeof t=="function"?Ze.createElement(t,e):Ze.createElement(JKe,e)}var n0=function(t){BJe(n,t);var e=FJe(n);function n(){return NJe(this,n),e.apply(this,arguments)}return zJe(n,[{key:"render",value:function(){var i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,h=i.coordinate,p=i.filterNull,g=i.isAnimationActive,v=i.offset,x=i.payload,_=i.payloadUniqBy,S=i.position,w=i.reverseDirection,C=i.useTranslate3d,T=i.viewBox,k=i.wrapperStyle,R=x??[];p&&R.length&&(R=kae(x.filter(function(F){return F.value!=null}),_,WJe));var L=R.length>0;return Ze.createElement(LJe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:g,active:o,coordinate:h,hasPayload:L,offset:v,position:S,reverseDirection:w,useTranslate3d:C,viewBox:T,wrapperStyle:k},HJe(c,qq(qq({},this.props),{},{payload:R})))}}]),n}(V.PureComponent);l6(n0,"displayName","Tooltip");l6(n0,"defaultProps",{allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Bp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var GJe=Fh,qJe=function(){return GJe.Date.now()},YJe=qJe,XJe=/\s/;function KJe(t){for(var e=t.length;e--&&XJe.test(t.charAt(e)););return e}var ZJe=KJe,JJe=ZJe,QJe=/^\s+/;function eQe(t){return t&&t.slice(0,JJe(t)+1).replace(QJe,"")}var tQe=eQe,nQe=tQe,Xq=by,rQe=A1,Kq=NaN,iQe=/^[-+]0x[0-9a-f]+$/i,oQe=/^0b[01]+$/i,sQe=/^0o[0-7]+$/i,aQe=parseInt;function lQe(t){if(typeof t=="number")return t;if(rQe(t))return Kq;if(Xq(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Xq(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=nQe(t);var n=oQe.test(t);return n||sQe.test(t)?aQe(t.slice(2),n?2:8):iQe.test(t)?Kq:+t}var Yae=lQe,cQe=by,V3=YJe,Zq=Yae,uQe="Expected a function",dQe=Math.max,fQe=Math.min;function hQe(t,e,n){var r,i,o,a,s,l,c=0,h=!1,p=!1,g=!0;if(typeof t!="function")throw new TypeError(uQe);e=Zq(e)||0,cQe(n)&&(h=!!n.leading,p="maxWait"in n,o=p?dQe(Zq(n.maxWait)||0,e):o,g="trailing"in n?!!n.trailing:g);function v(L){var F=r,H=i;return r=i=void 0,c=L,a=t.apply(H,F),a}function x(L){return c=L,s=setTimeout(w,e),h?v(L):a}function _(L){var F=L-l,H=L-c,Z=e-F;return p?fQe(Z,o-H):Z}function S(L){var F=L-l,H=L-c;return l===void 0||F>=e||F<0||p&&H>=o}function w(){var L=V3();if(S(L))return C(L);s=setTimeout(w,_(L))}function C(L){return s=void 0,g&&r?v(L):(r=i=void 0,a)}function T(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function k(){return s===void 0?a:C(V3())}function R(){var L=V3(),F=S(L);if(r=arguments,i=this,l=L,F){if(s===void 0)return x(l);if(p)return clearTimeout(s),s=setTimeout(w,e),v(l)}return s===void 0&&(s=setTimeout(w,e)),a}return R.cancel=T,R.flush=k,R}var pQe=hQe,mQe=pQe,gQe=by,yQe="Expected a function";function vQe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(yQe);return gQe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),mQe(t,e,{leading:r,maxWait:e,trailing:i})}var xQe=vQe;const Xae=bi(xQe);function qM(t){"@babel/helpers - typeof";return qM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qM(t)}function Jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(n),!0).forEach(function(r){_Qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Qe(t,e,n){return e=bQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bQe(t){var e=wQe(t,"string");return qM(e)==="symbol"?e:String(e)}function wQe(t,e){if(qM(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qM(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SQe(t,e){return CQe(t)||TQe(t,e)||EQe(t,e)||MQe()}function MQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EQe(t,e){if(t){if(typeof t=="string")return Qq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qq(t,e)}}function Qq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TQe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function CQe(t){if(Array.isArray(t))return t}var AQe=V.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,h=c===void 0?0:c,p=t.minHeight,g=t.maxHeight,v=t.children,x=t.debounce,_=x===void 0?0:x,S=t.id,w=t.className,C=t.onResize,T=t.style,k=T===void 0?{}:T,R=V.useRef(null),L=V.useRef();L.current=C,V.useImperativeHandle(e,function(){return R});var F=V.useState({containerWidth:i.width,containerHeight:i.height}),H=SQe(F,2),Z=H[0],j=H[1],X=V.useCallback(function(me,ie){j(function(ce){var fe=Math.round(me),xe=Math.round(ie);return ce.containerWidth===fe&&ce.containerHeight===xe?ce:{containerWidth:fe,containerHeight:xe}})},[]);V.useEffect(function(){var me=function(he){var ve,ze=he[0].contentRect,Ue=ze.width,rt=ze.height;X(Ue,rt),(ve=L.current)===null||ve===void 0||ve.call(L,Ue,rt)};_>0&&(me=Xae(me,_,{trailing:!0,leading:!1}));var ie=new ResizeObserver(me),ce=R.current.getBoundingClientRect(),fe=ce.width,xe=ce.height;return X(fe,xe),ie.observe(R.current),function(){ie.disconnect()}},[X,_]);var le=V.useMemo(function(){var me=Z.containerWidth,ie=Z.containerHeight;if(me<0||ie<0)return null;y0(t0(a)||t0(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),y0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ce=t0(a)?me:a,fe=t0(l)?ie:l;n&&n>0&&(ce?fe=ce/n:fe&&(ce=fe*n),g&&fe>g&&(fe=g)),y0(ce>0||fe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ce,fe,a,l,h,p,n);var xe=!Array.isArray(v)&&XB.isElement(v)&&zp(v.type).endsWith("Chart");return Ze.Children.map(v,function(te){return XB.isElement(te)?V.cloneElement(te,cC({width:ce,height:fe},xe?{style:cC({height:"100%",width:"100%",maxHeight:fe,maxWidth:ce},te.props.style)}:{})):te})},[n,v,l,g,p,h,Z,a]);return Ze.createElement("div",{id:S?"".concat(S):void 0,className:Xt("recharts-responsive-container",w),style:cC(cC({},k),{},{width:a,height:l,minWidth:h,minHeight:p,maxHeight:g}),ref:R},le)}),Kae=function(e){return null};Kae.displayName="Cell";function YM(t){"@babel/helpers - typeof";return YM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YM(t)}function eY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eY(Object(n),!0).forEach(function(r){PQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PQe(t,e,n){return e=IQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQe(t){var e=kQe(t,"string");return YM(e)==="symbol"?e:String(e)}function kQe(t,e){if(YM(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(YM(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nx={widthCache:{},cacheCount:0},RQe=2e3,OQe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tY="recharts_measurement_span";function LQe(t){var e=CF({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var YS=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Bp.isSsr)return{width:0,height:0};var r=LQe(n),i=JSON.stringify({text:e,copyStyle:r});if(Nx.widthCache[i])return Nx.widthCache[i];try{var o=document.getElementById(tY);o||(o=document.createElement("span"),o.setAttribute("id",tY),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=CF(CF({},OQe),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Nx.widthCache[i]=l,++Nx.cacheCount>RQe&&(Nx.cacheCount=0,Nx.widthCache={}),l}catch{return{width:0,height:0}}},DQe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function XM(t){"@babel/helpers - typeof";return XM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XM(t)}function bI(t,e){return FQe(t)||BQe(t,e)||zQe(t,e)||NQe()}function NQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zQe(t,e){if(t){if(typeof t=="string")return nY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nY(t,e)}}function nY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BQe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function FQe(t){if(Array.isArray(t))return t}function $Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UQe(r.key),r)}}function jQe(t,e,n){return e&&rY(t.prototype,e),n&&rY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UQe(t){var e=VQe(t,"string");return XM(e)==="symbol"?e:String(e)}function VQe(t,e){if(XM(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(XM(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iY=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oY=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WQe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,HQe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zae={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GQe=Object.keys(Zae),D_="NaN";function qQe(t,e){return t*Zae[e]}var uC=function(){function t(e,n){$Qe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!WQe.test(n)&&(this.num=NaN,this.unit=""),GQe.includes(n)&&(this.num=qQe(e,n),this.unit="px")}return jQe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=HQe.exec(n))!==null&&r!==void 0?r:[],o=bI(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}]),t}();function Jae(t){if(t.includes(D_))return D_;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=iY.exec(e))!==null&&n!==void 0?n:[],i=bI(r,4),o=i[1],a=i[2],s=i[3],l=uC.parse(o??""),c=uC.parse(s??""),h=a==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return D_;e=e.replace(iY,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,g=(p=oY.exec(e))!==null&&p!==void 0?p:[],v=bI(g,4),x=v[1],_=v[2],S=v[3],w=uC.parse(x??""),C=uC.parse(S??""),T=_==="+"?w.add(C):w.subtract(C);if(T.isNaN())return D_;e=e.replace(oY,T.toString())}return e}var sY=/\(([^()]*)\)/;function YQe(t){for(var e=t;e.includes("(");){var n=sY.exec(e),r=bI(n,2),i=r[1];e=e.replace(sY,Jae(i))}return e}function XQe(t){var e=t.replace(/\s+/g,"");return e=YQe(e),e=Jae(e),e}function KQe(t){try{return XQe(t)}catch{return D_}}function W3(t){var e=KQe(t.slice(5,-1));return e===D_?"":e}var ZQe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],JQe=["dx","dy","angle","className","breakAll"];function AF(){return AF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AF.apply(this,arguments)}function aY(t,e){if(t==null)return{};var n=QQe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QQe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lY(t,e){return ret(t)||net(t,e)||tet(t,e)||eet()}function eet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tet(t,e){if(t){if(typeof t=="string")return cY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cY(t,e)}}function cY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function net(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function ret(t){if(Array.isArray(t))return t}var Qae=/[ \f\n\r\t\v\u2028\u2029]+/,ele=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];si(n)||(r?o=n.toString().split(""):o=n.toString().split(Qae));var a=o.map(function(l){return{word:l,width:YS(l,i).width}}),s=r?0:YS(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},iet=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,h=Cn(a),p=s,g=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ce.reduce(function(fe,xe){var te=xe.word,he=xe.width,ve=fe[fe.length-1];if(ve&&(i==null||o||ve.width+he+r<Number(i)))ve.words.push(te),ve.width+=he+r;else{var ze={words:[te],width:he};fe.push(ze)}return fe},[])},v=g(n),x=function(ce){return ce.reduce(function(fe,xe){return fe.width>xe.width?fe:xe})};if(!h)return v;for(var _="…",S=function(ce){var fe=p.slice(0,ce),xe=ele({breakAll:c,style:l,children:fe+_}).wordsWithComputedWidth,te=g(xe),he=te.length>a||x(te).width>Number(i);return[he,te]},w=0,C=p.length-1,T=0,k;w<=C&&T<=p.length-1;){var R=Math.floor((w+C)/2),L=R-1,F=S(L),H=lY(F,2),Z=H[0],j=H[1],X=S(R),le=lY(X,1),me=le[0];if(!Z&&!me&&(w=R+1),Z&&me&&(C=R-1),!Z&&me){k=j;break}T++}return k||v},uY=function(e){var n=si(e)?[]:e.toString().split(Qae);return[{words:n}]},oet=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Bp.isSsr){var l,c,h=ele({breakAll:a,children:i,style:o});if(h){var p=h.wordsWithComputedWidth,g=h.spaceWidth;l=p,c=g}else return uY(i);return iet({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return uY(i)},dY="#808080",wI=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,h=e.scaleToFit,p=h===void 0?!1:h,g=e.textAnchor,v=g===void 0?"start":g,x=e.verticalAnchor,_=x===void 0?"end":x,S=e.fill,w=S===void 0?dY:S,C=aY(e,ZQe),T=V.useMemo(function(){return oet({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:p,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,p,C.style,C.width]),k=C.dx,R=C.dy,L=C.angle,F=C.className,H=C.breakAll,Z=aY(C,JQe);if(!ta(r)||!ta(o))return null;var j=r+(Cn(k)?k:0),X=o+(Cn(R)?R:0),le;switch(_){case"start":le=W3("calc(".concat(c,")"));break;case"middle":le=W3("calc(".concat((T.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:le=W3("calc(".concat(T.length-1," * -").concat(s,")"));break}var me=[];if(p){var ie=T[0].width,ce=C.width;me.push("scale(".concat((Cn(ce)?ce/ie:1)/ie,")"))}return L&&me.push("rotate(".concat(L,", ").concat(j,", ").concat(X,")")),me.length&&(Z.transform=me.join(" ")),Ze.createElement("text",AF({},ri(Z,!0),{x:j,y:X,className:Xt("recharts-text",F),textAnchor:v,fill:w.includes("url")?dY:w}),T.map(function(fe,xe){var te=fe.words.join(H?"":" ");return Ze.createElement("tspan",{x:j,dy:xe===0?le:s,key:te},te)}))};function Jg(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function set(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tle(t){let e,n,r;t.length!==2?(e=Jg,n=(s,l)=>Jg(t(s),l),r=(s,l)=>t(s)-l):(e=t===Jg||t===set?t:aet,n=t,r=t);function i(s,l,c=0,h=s.length){if(c<h){if(e(l,l)!==0)return h;do{const p=c+h>>>1;n(s[p],l)<0?c=p+1:h=p}while(c<h)}return c}function o(s,l,c=0,h=s.length){if(c<h){if(e(l,l)!==0)return h;do{const p=c+h>>>1;n(s[p],l)<=0?c=p+1:h=p}while(c<h)}return c}function a(s,l,c=0,h=s.length){const p=i(s,l,c,h-1);return p>c&&r(s[p-1],l)>-r(s[p],l)?p-1:p}return{left:i,center:a,right:o}}function aet(){return 0}function nle(t){return t===null?NaN:+t}function*cet(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const uet=tle(Jg),det=uet.right;tle(nle).center;const RE=det;class fY extends Map{constructor(e,n=pet){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(hY(this,e))}has(e){return super.has(hY(this,e))}set(e,n){return super.set(fet(this,e),n)}delete(e){return super.delete(het(this,e))}}function hY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fet({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function het({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function pet(t){return t!==null&&typeof t=="object"?t.valueOf():t}function met(t=Jg){if(t===Jg)return rle;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function rle(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const get=Math.sqrt(50),yet=Math.sqrt(10),vet=Math.sqrt(2);function SI(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=get?10:o>=yet?5:o>=vet?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?SI(t,e,n*2):[s,l,c]}function PF(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?SI(e,t,n):SI(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function IF(t,e,n){return e=+e,t=+t,n=+n,SI(t,e,n)[2]}function xet(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?IF(e,t,n):IF(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function pY(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function mY(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function ile(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?rle:met(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,h=Math.log(l),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(l-p)/l)*(c-l/2<0?-1:1),v=Math.max(n,Math.floor(e-c*p/l+g)),x=Math.min(r,Math.floor(e+(l-c)*p/l+g));ile(t,e,v,x,i)}const o=t[e];let a=n,s=r;for(qw(t,n,e),i(t[r],o)>0&&qw(t,n,r);a<s;){for(qw(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?qw(t,n,s):(++s,qw(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function qw(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _et(t,e,n){if(t=Float64Array.from(cet(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return mY(t);if(e>=1)return pY(t);var r,i=(r-1)*e,o=Math.floor(i),a=pY(ile(t,o).subarray(0,o+1)),s=mY(t.subarray(o+1));return a+(s-a)*(i-o)}}function bet(t,e,n=nle){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function wet(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function wd(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function dm(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kF=Symbol("implicit");function c6(){var t=new fY,e=[],n=[],r=kF;function i(o){let a=t.get(o);if(a===void 0){if(r!==kF)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new fY;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return c6(e,n).unknown(r)},wd.apply(i,arguments),i}function KM(){var t=c6().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,h=.5;delete t.unknown;function p(){var g=e().length,v=i<r,x=v?i:r,_=v?r:i;o=(_-x)/Math.max(1,g-l+c*2),s&&(o=Math.floor(o)),x+=(_-x-o*(g-l))*h,a=o*(1-l),s&&(x=Math.round(x),a=Math.round(a));var S=wet(g).map(function(w){return x+o*w});return n(v?S.reverse():S)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,s=!0,p()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(g){return arguments.length?(s=!!g,p()):s},t.padding=function(g){return arguments.length?(l=Math.min(1,c=+g),p()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),p()):l},t.paddingOuter=function(g){return arguments.length?(c=+g,p()):c},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return KM(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(h)},wd.apply(p(),arguments)}function ole(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ole(e())},t}function XS(){return ole(KM.apply(null,arguments).paddingInner(1))}function u6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function sle(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function OE(){}var ZM=.7,MI=1/ZM,ab="\\s*([+-]?\\d+)\\s*",JM="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Met=/^#([0-9a-f]{3,8})$/,Eet=new RegExp(`^rgb\\(${ab},${ab},${ab}\\)$`),Tet=new RegExp(`^rgb\\(${Sh},${Sh},${Sh}\\)$`),Cet=new RegExp(`^rgba\\(${ab},${ab},${ab},${JM}\\)$`),Aet=new RegExp(`^rgba\\(${Sh},${Sh},${Sh},${JM}\\)$`),Pet=new RegExp(`^hsl\\(${JM},${Sh},${Sh}\\)$`),Iet=new RegExp(`^hsla\\(${JM},${Sh},${Sh},${JM}\\)$`),gY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};u6(OE,QM,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yY,formatHex:yY,formatHex8:ket,formatHsl:Ret,formatRgb:vY,toString:vY});function yY(){return this.rgb().formatHex()}function ket(){return this.rgb().formatHex8()}function Ret(){return ale(this).formatHsl()}function vY(){return this.rgb().formatRgb()}function QM(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Met.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xY(e):n===3?new bc(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dC(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dC(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Eet.exec(t))?new bc(e[1],e[2],e[3],1):(e=Tet.exec(t))?new bc(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Cet.exec(t))?dC(e[1],e[2],e[3],e[4]):(e=Aet.exec(t))?dC(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Pet.exec(t))?wY(e[1],e[2]/100,e[3]/100,1):(e=Iet.exec(t))?wY(e[1],e[2]/100,e[3]/100,e[4]):gY.hasOwnProperty(t)?xY(gY[t]):t==="transparent"?new bc(NaN,NaN,NaN,0):null}function xY(t){return new bc(t>>16&255,t>>8&255,t&255,1)}function dC(t,e,n,r){return r<=0&&(t=e=n=NaN),new bc(t,e,n,r)}function Oet(t){return t instanceof OE||(t=QM(t)),t?(t=t.rgb(),new bc(t.r,t.g,t.b,t.opacity)):new bc}function RF(t,e,n,r){return arguments.length===1?Oet(t):new bc(t,e,n,r??1)}function bc(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}u6(bc,RF,sle(OE,{brighter(t){return t=t==null?MI:Math.pow(MI,t),new bc(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ZM:Math.pow(ZM,t),new bc(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bc(v0(this.r),v0(this.g),v0(this.b),EI(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_Y,formatHex:_Y,formatHex8:Let,formatRgb:bY,toString:bY}));function _Y(){return`#${r0(this.r)}${r0(this.g)}${r0(this.b)}`}function Let(){return`#${r0(this.r)}${r0(this.g)}${r0(this.b)}${r0((isNaN(this.opacity)?1:this.opacity)*255)}`}function bY(){const t=EI(this.opacity);return`${t===1?"rgb(":"rgba("}${v0(this.r)}, ${v0(this.g)}, ${v0(this.b)}${t===1?")":`, ${t})`}`}function EI(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function v0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function r0(t){return t=v0(t),(t<16?"0":"")+t.toString(16)}function wY(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sf(t,e,n,r)}function ale(t){if(t instanceof sf)return new sf(t.h,t.s,t.l,t.opacity);if(t instanceof OE||(t=QM(t)),!t)return new sf;if(t instanceof sf)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new sf(a,s,l,t.opacity)}function Det(t,e,n,r){return arguments.length===1?ale(t):new sf(t,e,n,r??1)}function sf(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}u6(sf,Det,sle(OE,{brighter(t){return t=t==null?MI:Math.pow(MI,t),new sf(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ZM:Math.pow(ZM,t),new sf(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new bc(H3(t>=240?t-240:t+120,i,r),H3(t,i,r),H3(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new sf(SY(this.h),fC(this.s),fC(this.l),EI(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=EI(this.opacity);return`${t===1?"hsl(":"hsla("}${SY(this.h)}, ${fC(this.s)*100}%, ${fC(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SY(t){return t=(t||0)%360,t<0?t+360:t}function fC(t){return Math.max(0,Math.min(1,t||0))}function H3(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const d6=t=>()=>t;function Net(t,e){return function(n){return t+n*e}}function zet(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Bet(t){return(t=+t)==1?lle:function(e,n){return n-e?zet(e,n,t):d6(isNaN(e)?n:e)}}function lle(t,e){var n=e-t;return n?Net(t,n):d6(isNaN(t)?e:t)}const MY=function t(e){var n=Bet(e);function r(i,o){var a=n((i=RF(i)).r,(o=RF(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=lle(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=s(h),i.b=l(h),i.opacity=c(h),i+""}}return r.gamma=t,r}(1);function Fet(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function $et(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jet(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=z1(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Uet(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function TI(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Vet(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=z1(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var OF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G3=new RegExp(OF.source,"g");function Wet(t){return function(){return t}}function Het(t){return function(e){return t(e)+""}}function Get(t,e){var n=OF.lastIndex=G3.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=OF.exec(t))&&(i=G3.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:TI(r,i)})),n=G3.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Het(l[0].x):Wet(e):(e=l.length,function(c){for(var h=0,p;h<e;++h)s[(p=l[h]).i]=p.x(c);return s.join("")})}function z1(t,e){var n=typeof e,r;return e==null||n==="boolean"?d6(e):(n==="number"?TI:n==="string"?(r=QM(e))?(e=r,MY):Get:e instanceof QM?MY:e instanceof Date?Uet:$et(e)?Fet:Array.isArray(e)?jet:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vet:TI)(t,e)}function f6(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function qet(t,e){e===void 0&&(e=t,t=z1);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Yet(t){return function(){return t}}function CI(t){return+t}var EY=[0,1];function Hl(t){return t}function LF(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Yet(isNaN(e)?NaN:.5)}function Xet(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ket(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=LF(i,r),o=n(a,o)):(r=LF(r,i),o=n(o,a)),function(s){return o(r(s))}}function Zet(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=LF(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=RE(t,s,1,r)-1;return o[l](i[l](s))}}function LE(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _O(){var t=EY,e=EY,n=z1,r,i,o,a=Hl,s,l,c;function h(){var g=Math.min(t.length,e.length);return a!==Hl&&(a=Xet(t[0],t[g-1])),s=g>2?Zet:Ket,l=c=null,p}function p(g){return g==null||isNaN(g=+g)?o:(l||(l=s(t.map(r),e,n)))(r(a(g)))}return p.invert=function(g){return a(i((c||(c=s(e,t.map(r),TI)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,CI),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=f6,h()},p.clamp=function(g){return arguments.length?(a=g?!0:Hl,h()):a!==Hl},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,v){return r=g,i=v,h()}}function h6(){return _O()(Hl,Hl)}function Jet(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function AI(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vb(t){return t=AI(Math.abs(t)),t?t[1]:NaN}function Qet(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function ett(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ttt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e2(t){if(!(e=ttt.exec(t)))throw new Error("invalid format: "+t);var e;return new p6({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}e2.prototype=p6.prototype;function p6(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}p6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ntt(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var cle;function rtt(t,e){var n=AI(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(cle=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+AI(t,Math.max(0,e+o-1))[0]}function TY(t,e){var n=AI(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const CY={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Jet,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>TY(t*100,e),r:TY,s:rtt,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AY(t){return t}var PY=Array.prototype.map,IY=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function itt(t){var e=t.grouping===void 0||t.thousands===void 0?AY:Qet(PY.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?AY:ett(PY.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(p){p=e2(p);var g=p.fill,v=p.align,x=p.sign,_=p.symbol,S=p.zero,w=p.width,C=p.comma,T=p.precision,k=p.trim,R=p.type;R==="n"?(C=!0,R="g"):CY[R]||(T===void 0&&(T=12),k=!0,R="g"),(S||g==="0"&&v==="=")&&(S=!0,g="0",v="=");var L=_==="$"?n:_==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",F=_==="$"?r:/[%p]/.test(R)?a:"",H=CY[R],Z=/[defgprs%]/.test(R);T=T===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function j(X){var le=L,me=F,ie,ce,fe;if(R==="c")me=H(X)+me,X="";else{X=+X;var xe=X<0||1/X<0;if(X=isNaN(X)?l:H(Math.abs(X),T),k&&(X=ntt(X)),xe&&+X==0&&x!=="+"&&(xe=!1),le=(xe?x==="("?x:s:x==="-"||x==="("?"":x)+le,me=(R==="s"?IY[8+cle/3]:"")+me+(xe&&x==="("?")":""),Z){for(ie=-1,ce=X.length;++ie<ce;)if(fe=X.charCodeAt(ie),48>fe||fe>57){me=(fe===46?i+X.slice(ie+1):X.slice(ie))+me,X=X.slice(0,ie);break}}}C&&!S&&(X=e(X,1/0));var te=le.length+X.length+me.length,he=te<w?new Array(w-te+1).join(g):"";switch(C&&S&&(X=e(he+X,he.length?w-me.length:1/0),he=""),v){case"<":X=le+X+me+he;break;case"=":X=le+he+X+me;break;case"^":X=he.slice(0,te=he.length>>1)+le+X+me+he.slice(te);break;default:X=he+le+X+me;break}return o(X)}return j.toString=function(){return p+""},j}function h(p,g){var v=c((p=e2(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Vb(g)/3)))*3,_=Math.pow(10,-x),S=IY[8+x/3];return function(w){return v(_*w)+S}}return{format:c,formatPrefix:h}}var hC,m6,ule;ott({thousands:",",grouping:[3],currency:["$",""]});function ott(t){return hC=itt(t),m6=hC.format,ule=hC.formatPrefix,hC}function stt(t){return Math.max(0,-Vb(Math.abs(t)))}function att(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vb(e)/3)))*3-Vb(Math.abs(t)))}function ltt(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vb(e)-Vb(t))+1}function dle(t,e,n,r){var i=xet(t,e,n),o;switch(r=e2(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=att(i,a))&&(r.precision=o),ule(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ltt(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=stt(i))&&(r.precision=o-(r.type==="%")*2);break}}return m6(r)}function My(t){var e=t.domain;return t.ticks=function(n){var r=e();return PF(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return dle(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,h=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);h-- >0;){if(c=IF(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function PI(){var t=h6();return t.copy=function(){return LE(t,PI())},wd.apply(t,arguments),My(t)}function fle(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,CI),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return fle(t).unknown(e)},t=arguments.length?Array.from(t,CI):[0,1],My(n)}function hle(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function kY(t){return Math.log(t)}function RY(t){return Math.exp(t)}function ctt(t){return-Math.log(-t)}function utt(t){return-Math.exp(-t)}function dtt(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ftt(t){return t===10?dtt:t===Math.E?Math.exp:e=>Math.pow(t,e)}function htt(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function OY(t){return(e,n)=>-t(-e,n)}function g6(t){const e=t(kY,RY),n=e.domain;let r=10,i,o;function a(){return i=htt(r),o=ftt(r),n()[0]<0?(i=OY(i),o=OY(o),t(ctt,utt)):t(kY,RY),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],h=l[l.length-1];const p=h<c;p&&([c,h]=[h,c]);let g=i(c),v=i(h),x,_;const S=s==null?10:+s;let w=[];if(!(r%1)&&v-g<S){if(g=Math.floor(g),v=Math.ceil(v),c>0){for(;g<=v;++g)for(x=1;x<r;++x)if(_=g<0?x/o(-g):x*o(g),!(_<c)){if(_>h)break;w.push(_)}}else for(;g<=v;++g)for(x=r-1;x>=1;--x)if(_=g>0?x/o(-g):x*o(g),!(_<c)){if(_>h)break;w.push(_)}w.length*2<S&&(w=PF(c,h,S))}else w=PF(g,v,Math.min(v-g,S)).map(o);return p?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=e2(l)).precision==null&&(l.trim=!0),l=m6(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=c?l(h):""}},e.nice=()=>n(hle(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function ple(){const t=g6(_O()).domain([1,10]);return t.copy=()=>LE(t,ple()).base(t.base()),wd.apply(t,arguments),t}function LY(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function DY(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function y6(t){var e=1,n=t(LY(e),DY(e));return n.constant=function(r){return arguments.length?t(LY(e=+r),DY(e)):e},My(n)}function mle(){var t=y6(_O());return t.copy=function(){return LE(t,mle()).constant(t.constant())},wd.apply(t,arguments)}function NY(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ptt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mtt(t){return t<0?-t*t:t*t}function v6(t){var e=t(Hl,Hl),n=1;function r(){return n===1?t(Hl,Hl):n===.5?t(ptt,mtt):t(NY(n),NY(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},My(e)}function x6(){var t=v6(_O());return t.copy=function(){return LE(t,x6()).exponent(t.exponent())},wd.apply(t,arguments),t}function gtt(){return x6.apply(null,arguments).exponent(.5)}function zY(t){return Math.sign(t)*t*t}function ytt(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function gle(){var t=h6(),e=[0,1],n=!1,r;function i(o){var a=ytt(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(zY(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,CI)).map(zY)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return gle(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},wd.apply(i,arguments),My(i)}function yle(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=bet(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[RE(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Jg),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return yle().domain(t).range(e).unknown(r)},wd.apply(o,arguments)}function vle(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[RE(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return vle().domain([t,e]).range(i).unknown(o)},wd.apply(My(a),arguments)}function xle(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[RE(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xle().domain(t).range(e).unknown(n)},wd.apply(i,arguments)}const q3=new Date,Y3=new Date;function oa(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>oa(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(q3.setTime(+o),Y3.setTime(+a),t(q3),t(Y3),Math.floor(n(q3,Y3))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const II=oa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);II.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?oa(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):II);II.range;const Ip=1e3,nd=Ip*60,kp=nd*60,Zp=kp*24,_6=Zp*7,BY=Zp*30,X3=Zp*365,i0=oa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ip)},(t,e)=>(e-t)/Ip,t=>t.getUTCSeconds());i0.range;const b6=oa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ip)},(t,e)=>{t.setTime(+t+e*nd)},(t,e)=>(e-t)/nd,t=>t.getMinutes());b6.range;const w6=oa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*nd)},(t,e)=>(e-t)/nd,t=>t.getUTCMinutes());w6.range;const S6=oa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ip-t.getMinutes()*nd)},(t,e)=>{t.setTime(+t+e*kp)},(t,e)=>(e-t)/kp,t=>t.getHours());S6.range;const M6=oa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*kp)},(t,e)=>(e-t)/kp,t=>t.getUTCHours());M6.range;const DE=oa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*nd)/Zp,t=>t.getDate()-1);DE.range;const bO=oa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zp,t=>t.getUTCDate()-1);bO.range;const _le=oa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zp,t=>Math.floor(t/Zp));_le.range;function J0(t){return oa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*nd)/_6)}const wO=J0(0),kI=J0(1),vtt=J0(2),xtt=J0(3),Wb=J0(4),_tt=J0(5),btt=J0(6);wO.range;kI.range;vtt.range;xtt.range;Wb.range;_tt.range;btt.range;function Q0(t){return oa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_6)}const SO=Q0(0),RI=Q0(1),wtt=Q0(2),Stt=Q0(3),Hb=Q0(4),Mtt=Q0(5),Ett=Q0(6);SO.range;RI.range;wtt.range;Stt.range;Hb.range;Mtt.range;Ett.range;const E6=oa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());E6.range;const T6=oa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());T6.range;const Jp=oa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jp.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:oa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Jp.range;const Qp=oa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qp.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:oa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qp.range;function K3(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ttt(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ctt(t){let e,n,r;t.length!==2?(e=K3,n=(s,l)=>K3(t(s),l),r=(s,l)=>t(s)-l):(e=t===K3||t===Ttt?t:Att,n=t,r=t);function i(s,l,c=0,h=s.length){if(c<h){if(e(l,l)!==0)return h;do{const p=c+h>>>1;n(s[p],l)<0?c=p+1:h=p}while(c<h)}return c}function o(s,l,c=0,h=s.length){if(c<h){if(e(l,l)!==0)return h;do{const p=c+h>>>1;n(s[p],l)<=0?c=p+1:h=p}while(c<h)}return c}function a(s,l,c=0,h=s.length){const p=i(s,l,c,h-1);return p>c&&r(s[p-1],l)>-r(s[p],l)?p-1:p}return{left:i,center:a,right:o}}function Att(){return 0}const Ptt=Math.sqrt(50),Itt=Math.sqrt(10),ktt=Math.sqrt(2);function ble(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Ptt?10:o>=Itt?5:o>=ktt?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?ble(t,e,n*2):[s,l,c]}function FY(t,e,n){return e=+e,t=+t,n=+n,ble(t,e,n)[2]}function $Y(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?FY(e,t,n):FY(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wle(t,e,n,r,i,o){const a=[[i0,1,Ip],[i0,5,5*Ip],[i0,15,15*Ip],[i0,30,30*Ip],[o,1,nd],[o,5,5*nd],[o,15,15*nd],[o,30,30*nd],[i,1,kp],[i,3,3*kp],[i,6,6*kp],[i,12,12*kp],[r,1,Zp],[r,2,2*Zp],[n,1,_6],[e,1,BY],[e,3,3*BY],[t,1,X3]];function s(c,h,p){const g=h<c;g&&([c,h]=[h,c]);const v=p&&typeof p.range=="function"?p:l(c,h,p),x=v?v.range(c,+h+1):[];return g?x.reverse():x}function l(c,h,p){const g=Math.abs(h-c)/p,v=Ctt(([,,S])=>S).right(a,g);if(v===a.length)return t.every($Y(c/X3,h/X3,p));if(v===0)return II.every(Math.max($Y(c,h,p),1));const[x,_]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return x.every(_)}return[s,l]}const[Rtt,Ott]=wle(Qp,T6,SO,_le,M6,w6),[Ltt,Dtt]=wle(Jp,E6,wO,DE,S6,b6);function Z3(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function J3(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yw(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ntt(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Xw(i),h=Kw(i),p=Xw(o),g=Kw(o),v=Xw(a),x=Kw(a),_=Xw(s),S=Kw(s),w=Xw(l),C=Kw(l),T={a:xe,A:te,b:he,B:ve,c:null,d:GY,e:GY,f:ont,g:mnt,G:ynt,H:nnt,I:rnt,j:int,L:Sle,m:snt,M:ant,p:ze,q:Ue,Q:XY,s:KY,S:lnt,u:cnt,U:unt,V:dnt,w:fnt,W:hnt,x:null,X:null,y:pnt,Y:gnt,Z:vnt,"%":YY},k={a:rt,A:Fe,b:st,B:ct,c:null,d:qY,e:qY,f:wnt,g:Rnt,G:Lnt,H:xnt,I:_nt,j:bnt,L:Ele,m:Snt,M:Mnt,p:Dt,q:zt,Q:XY,s:KY,S:Ent,u:Tnt,U:Cnt,V:Ant,w:Pnt,W:Int,x:null,X:null,y:knt,Y:Ont,Z:Dnt,"%":YY},R={a:j,A:X,b:le,B:me,c:ie,d:WY,e:WY,f:Jtt,g:VY,G:UY,H:HY,I:HY,j:Ytt,L:Ztt,m:qtt,M:Xtt,p:Z,q:Gtt,Q:ent,s:tnt,S:Ktt,u:jtt,U:Utt,V:Vtt,w:$tt,W:Wtt,x:ce,X:fe,y:VY,Y:UY,Z:Htt,"%":Qtt};T.x=L(n,T),T.X=L(r,T),T.c=L(e,T),k.x=L(n,k),k.X=L(r,k),k.c=L(e,k);function L(Be,lt){return function(Qe){var ge=[],et=-1,ot=0,Tt=Be.length,Ct,Ft,Gt;for(Qe instanceof Date||(Qe=new Date(+Qe));++et<Tt;)Be.charCodeAt(et)===37&&(ge.push(Be.slice(ot,et)),(Ft=jY[Ct=Be.charAt(++et)])!=null?Ct=Be.charAt(++et):Ft=Ct==="e"?" ":"0",(Gt=lt[Ct])&&(Ct=Gt(Qe,Ft)),ge.push(Ct),ot=et+1);return ge.push(Be.slice(ot,et)),ge.join("")}}function F(Be,lt){return function(Qe){var ge=Yw(1900,void 0,1),et=H(ge,Be,Qe+="",0),ot,Tt;if(et!=Qe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(lt&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(ot=J3(Yw(ge.y,0,1)),Tt=ot.getUTCDay(),ot=Tt>4||Tt===0?RI.ceil(ot):RI(ot),ot=bO.offset(ot,(ge.V-1)*7),ge.y=ot.getUTCFullYear(),ge.m=ot.getUTCMonth(),ge.d=ot.getUTCDate()+(ge.w+6)%7):(ot=Z3(Yw(ge.y,0,1)),Tt=ot.getDay(),ot=Tt>4||Tt===0?kI.ceil(ot):kI(ot),ot=DE.offset(ot,(ge.V-1)*7),ge.y=ot.getFullYear(),ge.m=ot.getMonth(),ge.d=ot.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Tt="Z"in ge?J3(Yw(ge.y,0,1)).getUTCDay():Z3(Yw(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Tt+5)%7:ge.w+ge.U*7-(Tt+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,J3(ge)):Z3(ge)}}function H(Be,lt,Qe,ge){for(var et=0,ot=lt.length,Tt=Qe.length,Ct,Ft;et<ot;){if(ge>=Tt)return-1;if(Ct=lt.charCodeAt(et++),Ct===37){if(Ct=lt.charAt(et++),Ft=R[Ct in jY?lt.charAt(et++):Ct],!Ft||(ge=Ft(Be,Qe,ge))<0)return-1}else if(Ct!=Qe.charCodeAt(ge++))return-1}return ge}function Z(Be,lt,Qe){var ge=c.exec(lt.slice(Qe));return ge?(Be.p=h.get(ge[0].toLowerCase()),Qe+ge[0].length):-1}function j(Be,lt,Qe){var ge=v.exec(lt.slice(Qe));return ge?(Be.w=x.get(ge[0].toLowerCase()),Qe+ge[0].length):-1}function X(Be,lt,Qe){var ge=p.exec(lt.slice(Qe));return ge?(Be.w=g.get(ge[0].toLowerCase()),Qe+ge[0].length):-1}function le(Be,lt,Qe){var ge=w.exec(lt.slice(Qe));return ge?(Be.m=C.get(ge[0].toLowerCase()),Qe+ge[0].length):-1}function me(Be,lt,Qe){var ge=_.exec(lt.slice(Qe));return ge?(Be.m=S.get(ge[0].toLowerCase()),Qe+ge[0].length):-1}function ie(Be,lt,Qe){return H(Be,e,lt,Qe)}function ce(Be,lt,Qe){return H(Be,n,lt,Qe)}function fe(Be,lt,Qe){return H(Be,r,lt,Qe)}function xe(Be){return a[Be.getDay()]}function te(Be){return o[Be.getDay()]}function he(Be){return l[Be.getMonth()]}function ve(Be){return s[Be.getMonth()]}function ze(Be){return i[+(Be.getHours()>=12)]}function Ue(Be){return 1+~~(Be.getMonth()/3)}function rt(Be){return a[Be.getUTCDay()]}function Fe(Be){return o[Be.getUTCDay()]}function st(Be){return l[Be.getUTCMonth()]}function ct(Be){return s[Be.getUTCMonth()]}function Dt(Be){return i[+(Be.getUTCHours()>=12)]}function zt(Be){return 1+~~(Be.getUTCMonth()/3)}return{format:function(Be){var lt=L(Be+="",T);return lt.toString=function(){return Be},lt},parse:function(Be){var lt=F(Be+="",!1);return lt.toString=function(){return Be},lt},utcFormat:function(Be){var lt=L(Be+="",k);return lt.toString=function(){return Be},lt},utcParse:function(Be){var lt=F(Be+="",!0);return lt.toString=function(){return Be},lt}}}var jY={"-":"",_:" ",0:"0"},ya=/^\s*\d+/,ztt=/^%/,Btt=/[\\^$*+?|[\]().{}]/g;function _i(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ftt(t){return t.replace(Btt,"\\$&")}function Xw(t){return new RegExp("^(?:"+t.map(Ftt).join("|")+")","i")}function Kw(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $tt(t,e,n){var r=ya.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function jtt(t,e,n){var r=ya.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Utt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Vtt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Wtt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function UY(t,e,n){var r=ya.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Htt(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Gtt(t,e,n){var r=ya.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function qtt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function WY(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ytt(t,e,n){var r=ya.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function HY(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Xtt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ktt(t,e,n){var r=ya.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ztt(t,e,n){var r=ya.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Jtt(t,e,n){var r=ya.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qtt(t,e,n){var r=ztt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ent(t,e,n){var r=ya.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function tnt(t,e,n){var r=ya.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function GY(t,e){return _i(t.getDate(),e,2)}function nnt(t,e){return _i(t.getHours(),e,2)}function rnt(t,e){return _i(t.getHours()%12||12,e,2)}function int(t,e){return _i(1+DE.count(Jp(t),t),e,3)}function Sle(t,e){return _i(t.getMilliseconds(),e,3)}function ont(t,e){return Sle(t,e)+"000"}function snt(t,e){return _i(t.getMonth()+1,e,2)}function ant(t,e){return _i(t.getMinutes(),e,2)}function lnt(t,e){return _i(t.getSeconds(),e,2)}function cnt(t){var e=t.getDay();return e===0?7:e}function unt(t,e){return _i(wO.count(Jp(t)-1,t),e,2)}function Mle(t){var e=t.getDay();return e>=4||e===0?Wb(t):Wb.ceil(t)}function dnt(t,e){return t=Mle(t),_i(Wb.count(Jp(t),t)+(Jp(t).getDay()===4),e,2)}function fnt(t){return t.getDay()}function hnt(t,e){return _i(kI.count(Jp(t)-1,t),e,2)}function pnt(t,e){return _i(t.getFullYear()%100,e,2)}function mnt(t,e){return t=Mle(t),_i(t.getFullYear()%100,e,2)}function gnt(t,e){return _i(t.getFullYear()%1e4,e,4)}function ynt(t,e){var n=t.getDay();return t=n>=4||n===0?Wb(t):Wb.ceil(t),_i(t.getFullYear()%1e4,e,4)}function vnt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_i(e/60|0,"0",2)+_i(e%60,"0",2)}function qY(t,e){return _i(t.getUTCDate(),e,2)}function xnt(t,e){return _i(t.getUTCHours(),e,2)}function _nt(t,e){return _i(t.getUTCHours()%12||12,e,2)}function bnt(t,e){return _i(1+bO.count(Qp(t),t),e,3)}function Ele(t,e){return _i(t.getUTCMilliseconds(),e,3)}function wnt(t,e){return Ele(t,e)+"000"}function Snt(t,e){return _i(t.getUTCMonth()+1,e,2)}function Mnt(t,e){return _i(t.getUTCMinutes(),e,2)}function Ent(t,e){return _i(t.getUTCSeconds(),e,2)}function Tnt(t){var e=t.getUTCDay();return e===0?7:e}function Cnt(t,e){return _i(SO.count(Qp(t)-1,t),e,2)}function Tle(t){var e=t.getUTCDay();return e>=4||e===0?Hb(t):Hb.ceil(t)}function Ant(t,e){return t=Tle(t),_i(Hb.count(Qp(t),t)+(Qp(t).getUTCDay()===4),e,2)}function Pnt(t){return t.getUTCDay()}function Int(t,e){return _i(RI.count(Qp(t)-1,t),e,2)}function knt(t,e){return _i(t.getUTCFullYear()%100,e,2)}function Rnt(t,e){return t=Tle(t),_i(t.getUTCFullYear()%100,e,2)}function Ont(t,e){return _i(t.getUTCFullYear()%1e4,e,4)}function Lnt(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hb(t):Hb.ceil(t),_i(t.getUTCFullYear()%1e4,e,4)}function Dnt(){return"+0000"}function YY(){return"%"}function XY(t){return+t}function KY(t){return Math.floor(+t/1e3)}var zx,Cle,Ale;Nnt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nnt(t){return zx=Ntt(t),Cle=zx.format,zx.parse,Ale=zx.utcFormat,zx.utcParse,zx}function znt(t){return new Date(t)}function Bnt(t){return t instanceof Date?+t:+new Date(+t)}function C6(t,e,n,r,i,o,a,s,l,c){var h=h6(),p=h.invert,g=h.domain,v=c(".%L"),x=c(":%S"),_=c("%I:%M"),S=c("%I %p"),w=c("%a %d"),C=c("%b %d"),T=c("%B"),k=c("%Y");function R(L){return(l(L)<L?v:s(L)<L?x:a(L)<L?_:o(L)<L?S:r(L)<L?i(L)<L?w:C:n(L)<L?T:k)(L)}return h.invert=function(L){return new Date(p(L))},h.domain=function(L){return arguments.length?g(Array.from(L,Bnt)):g().map(znt)},h.ticks=function(L){var F=g();return t(F[0],F[F.length-1],L??10)},h.tickFormat=function(L,F){return F==null?R:c(F)},h.nice=function(L){var F=g();return(!L||typeof L.range!="function")&&(L=e(F[0],F[F.length-1],L??10)),L?g(hle(F,L)):h},h.copy=function(){return LE(h,C6(t,e,n,r,i,o,a,s,l,c))},h}function Fnt(){return wd.apply(C6(Ltt,Dtt,Jp,E6,wO,DE,S6,b6,i0,Cle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $nt(){return wd.apply(C6(Rtt,Ott,Qp,T6,SO,bO,M6,w6,i0,Ale).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function MO(){var t=0,e=1,n,r,i,o,a=Hl,s=!1,l;function c(p){return p==null||isNaN(p=+p)?l:a(i===0?.5:(p=(o(p)-n)*i,s?Math.max(0,Math.min(1,p)):p))}c.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(p){return arguments.length?(s=!!p,c):s},c.interpolator=function(p){return arguments.length?(a=p,c):a};function h(p){return function(g){var v,x;return arguments.length?([v,x]=g,a=p(v,x),c):[a(0),a(1)]}}return c.range=h(z1),c.rangeRound=h(f6),c.unknown=function(p){return arguments.length?(l=p,c):l},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),c}}function Ey(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ple(){var t=My(MO()(Hl));return t.copy=function(){return Ey(t,Ple())},dm.apply(t,arguments)}function Ile(){var t=g6(MO()).domain([1,10]);return t.copy=function(){return Ey(t,Ile()).base(t.base())},dm.apply(t,arguments)}function kle(){var t=y6(MO());return t.copy=function(){return Ey(t,kle()).constant(t.constant())},dm.apply(t,arguments)}function A6(){var t=v6(MO());return t.copy=function(){return Ey(t,A6()).exponent(t.exponent())},dm.apply(t,arguments)}function jnt(){return A6.apply(null,arguments).exponent(.5)}function Rle(){var t=[],e=Hl;function n(r){if(r!=null&&!isNaN(r=+r))return e((RE(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Jg),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>_et(t,o/r))},n.copy=function(){return Rle(e).domain(t)},dm.apply(n,arguments)}function EO(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=Hl,h,p=!1,g;function v(_){return isNaN(_=+_)?g:(_=.5+((_=+h(_))-o)*(r*_<r*o?s:l),c(p?Math.max(0,Math.min(1,_)):_))}v.domain=function(_){return arguments.length?([t,e,n]=_,i=h(t=+t),o=h(e=+e),a=h(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,v):[t,e,n]},v.clamp=function(_){return arguments.length?(p=!!_,v):p},v.interpolator=function(_){return arguments.length?(c=_,v):c};function x(_){return function(S){var w,C,T;return arguments.length?([w,C,T]=S,c=qet(_,[w,C,T]),v):[c(0),c(.5),c(1)]}}return v.range=x(z1),v.rangeRound=x(f6),v.unknown=function(_){return arguments.length?(g=_,v):g},function(_){return h=_,i=_(t),o=_(e),a=_(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,v}}function Ole(){var t=My(EO()(Hl));return t.copy=function(){return Ey(t,Ole())},dm.apply(t,arguments)}function Lle(){var t=g6(EO()).domain([.1,1,10]);return t.copy=function(){return Ey(t,Lle()).base(t.base())},dm.apply(t,arguments)}function Dle(){var t=y6(EO());return t.copy=function(){return Ey(t,Dle()).constant(t.constant())},dm.apply(t,arguments)}function P6(){var t=v6(EO());return t.copy=function(){return Ey(t,P6()).exponent(t.exponent())},dm.apply(t,arguments)}function Unt(){return P6.apply(null,arguments).exponent(.5)}const ZY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:KM,scaleDiverging:Ole,scaleDivergingLog:Lle,scaleDivergingPow:P6,scaleDivergingSqrt:Unt,scaleDivergingSymlog:Dle,scaleIdentity:fle,scaleImplicit:kF,scaleLinear:PI,scaleLog:ple,scaleOrdinal:c6,scalePoint:XS,scalePow:x6,scaleQuantile:yle,scaleQuantize:vle,scaleRadial:gle,scaleSequential:Ple,scaleSequentialLog:Ile,scaleSequentialPow:A6,scaleSequentialQuantile:Rle,scaleSequentialSqrt:jnt,scaleSequentialSymlog:kle,scaleSqrt:gtt,scaleSymlog:mle,scaleThreshold:xle,scaleTime:Fnt,scaleUtc:$nt,tickFormat:dle},Symbol.toStringTag,{value:"Module"}));var Vnt=A1;function Wnt(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Vnt(a):n(a,s)))var s=a,l=o}return l}var Nle=Wnt;function Hnt(t,e){return t>e}var Gnt=Hnt,qnt=Nle,Ynt=Gnt,Xnt=D1;function Knt(t){return t&&t.length?qnt(t,Xnt,Ynt):void 0}var Znt=Knt;const TO=bi(Znt);function Jnt(t,e){return t<e}var Qnt=Jnt,ert=Nle,trt=Qnt,nrt=D1;function rrt(t){return t&&t.length?ert(t,nrt,trt):void 0}var irt=rrt;const CO=bi(irt);var ort=UU,srt=wy,art=zae,lrt=Ic;function crt(t,e){var n=lrt(t)?ort:art;return n(t,srt(e))}var urt=crt,drt=Dae,frt=urt;function hrt(t,e){return drt(frt(t,e),1)}var prt=hrt;const mrt=bi(prt);var grt=i6;function yrt(t,e){return grt(t,e)}var vrt=yrt;const AO=bi(vrt);var B1=1e9,xrt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},k6,Oo=!0,gd="[DecimalError] ",x0=gd+"Invalid argument: ",I6=gd+"Exponent out of range: ",F1=Math.floor,$v=Math.pow,_rt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,iu,da=1e7,wo=7,zle=9007199254740991,OI=F1(zle/wo),Xn={};Xn.absoluteValue=Xn.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Xn.comparedTo=Xn.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Xn.decimalPlaces=Xn.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*wo;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Xn.dividedBy=Xn.div=function(t){return Fp(this,new this.constructor(t))};Xn.dividedToIntegerBy=Xn.idiv=function(t){var e=this,n=e.constructor;return oo(Fp(e,new n(t),0,1),n.precision)};Xn.equals=Xn.eq=function(t){return!this.cmp(t)};Xn.exponent=function(){return Ds(this)};Xn.greaterThan=Xn.gt=function(t){return this.cmp(t)>0};Xn.greaterThanOrEqualTo=Xn.gte=function(t){return this.cmp(t)>=0};Xn.isInteger=Xn.isint=function(){return this.e>this.d.length-2};Xn.isNegative=Xn.isneg=function(){return this.s<0};Xn.isPositive=Xn.ispos=function(){return this.s>0};Xn.isZero=function(){return this.s===0};Xn.lessThan=Xn.lt=function(t){return this.cmp(t)<0};Xn.lessThanOrEqualTo=Xn.lte=function(t){return this.cmp(t)<1};Xn.logarithm=Xn.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(iu))throw Error(gd+"NaN");if(n.s<1)throw Error(gd+(n.s?"NaN":"-Infinity"));return n.eq(iu)?new r(0):(Oo=!1,e=Fp(t2(n,o),t2(t,o),o),Oo=!0,oo(e,i))};Xn.minus=Xn.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$le(e,t):Ble(e,(t.s=-t.s,t))};Xn.modulo=Xn.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gd+"NaN");return n.s?(Oo=!1,e=Fp(n,t,0,1).times(t),Oo=!0,n.minus(e)):oo(new r(n),i)};Xn.naturalExponential=Xn.exp=function(){return Fle(this)};Xn.naturalLogarithm=Xn.ln=function(){return t2(this)};Xn.negated=Xn.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Xn.plus=Xn.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ble(e,t):$le(e,(t.s=-t.s,t))};Xn.precision=Xn.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(x0+t);if(e=Ds(i)+1,r=i.d.length-1,n=r*wo+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Xn.squareRoot=Xn.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(gd+"NaN")}for(t=Ds(s),Oo=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=hh(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=F1((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Fp(s,o,a+2)).times(.5),hh(o.d).slice(0,a)===(e=hh(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(oo(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Oo=!0,oo(r,n)};Xn.times=Xn.mul=function(t){var e,n,r,i,o,a,s,l,c,h=this,p=h.constructor,g=h.d,v=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,l=g.length,c=v.length,l<c&&(o=g,g=v,v=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+v[r]*g[i-r-1]+e,o[i--]=s%da|0,e=s/da|0;o[i]=(o[i]+e)%da|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Oo?oo(t,p.precision):t};Xn.toDecimalPlaces=Xn.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(kh(t,0,B1),e===void 0?e=r.rounding:kh(e,0,8),oo(n,t+Ds(n)+1,e))};Xn.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=B0(r,!0):(kh(t,0,B1),e===void 0?e=i.rounding:kh(e,0,8),r=oo(new i(r),t+1,e),n=B0(r,!0,t+1)),n};Xn.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?B0(i):(kh(t,0,B1),e===void 0?e=o.rounding:kh(e,0,8),r=oo(new o(i),t+Ds(i)+1,e),n=B0(r.abs(),!1,t+Ds(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Xn.toInteger=Xn.toint=function(){var t=this,e=t.constructor;return oo(new e(t),Ds(t)+1,e.rounding)};Xn.toNumber=function(){return+this};Xn.toPower=Xn.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,h=+(t=new l(t));if(!t.s)return new l(iu);if(s=new l(s),!s.s){if(t.s<1)throw Error(gd+"Infinity");return s}if(s.eq(iu))return s;if(r=l.precision,t.eq(iu))return oo(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=h<0?-h:h)<=zle){for(i=new l(iu),e=Math.ceil(r/wo+4),Oo=!1;n%2&&(i=i.times(s),QY(i.d,e)),n=F1(n/2),n!==0;)s=s.times(s),QY(s.d,e);return Oo=!0,t.s<0?new l(iu).div(i):oo(i,r)}}else if(o<0)throw Error(gd+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Oo=!1,i=t.times(t2(s,r+c)),Oo=!0,i=Fle(i),i.s=o,i};Xn.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Ds(i),r=B0(i,n<=o.toExpNeg||n>=o.toExpPos)):(kh(t,1,B1),e===void 0?e=o.rounding:kh(e,0,8),i=oo(new o(i),t,e),n=Ds(i),r=B0(i,t<=n||n<=o.toExpNeg,t)),r};Xn.toSignificantDigits=Xn.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(kh(t,1,B1),e===void 0?e=r.rounding:kh(e,0,8)),oo(new r(n),t,e)};Xn.toString=Xn.valueOf=Xn.val=Xn.toJSON=Xn[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ds(t),n=t.constructor;return B0(t,e<=n.toExpNeg||e>=n.toExpPos)};function Ble(t,e){var n,r,i,o,a,s,l,c,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Oo?oo(e,p):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(p/wo),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/da|0,l[o]%=da;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Oo?oo(e,p):e}function kh(t,e,n){if(t!==~~t||t<e||t>n)throw Error(x0+t)}function hh(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=wo-r.length,n&&(o+=wg(n)),o+=r;a=t[e],r=a+"",n=wo-r.length,n&&(o+=wg(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Fp=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%da|0,a=o/da|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*da+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,h,p,g,v,x,_,S,w,C,T,k,R,L,F,H,Z=r.constructor,j=r.s==i.s?1:-1,X=r.d,le=i.d;if(!r.s)return new Z(r);if(!i.s)throw Error(gd+"Division by zero");for(l=r.e-i.e,F=le.length,R=X.length,v=new Z(j),x=v.d=[],c=0;le[c]==(X[c]||0);)++c;if(le[c]>(X[c]||0)&&--l,o==null?C=o=Z.precision:a?C=o+(Ds(r)-Ds(i))+1:C=o,C<0)return new Z(0);if(C=C/wo+2|0,c=0,F==1)for(h=0,le=le[0],C++;(c<R||h)&&C--;c++)T=h*da+(X[c]||0),x[c]=T/le|0,h=T%le|0;else{for(h=da/(le[0]+1)|0,h>1&&(le=t(le,h),X=t(X,h),F=le.length,R=X.length),k=F,_=X.slice(0,F),S=_.length;S<F;)_[S++]=0;H=le.slice(),H.unshift(0),L=le[0],le[1]>=da/2&&++L;do h=0,s=e(le,_,F,S),s<0?(w=_[0],F!=S&&(w=w*da+(_[1]||0)),h=w/L|0,h>1?(h>=da&&(h=da-1),p=t(le,h),g=p.length,S=_.length,s=e(p,_,g,S),s==1&&(h--,n(p,F<g?H:le,g))):(h==0&&(s=h=1),p=le.slice()),g=p.length,g<S&&p.unshift(0),n(_,p,S),s==-1&&(S=_.length,s=e(le,_,F,S),s<1&&(h++,n(_,F<S?H:le,S))),S=_.length):s===0&&(h++,_=[0]),x[c++]=h,s&&_[0]?_[S++]=X[k]||0:(_=[X[k]],S=1);while((k++<R||_[0]!==void 0)&&C--)}return x[0]||x.shift(),v.e=l,oo(v,a?o+Ds(v)+1:o)}}();function Fle(t,e){var n,r,i,o,a,s,l=0,c=0,h=t.constructor,p=h.precision;if(Ds(t)>16)throw Error(I6+Ds(t));if(!t.s)return new h(iu);for(e==null?(Oo=!1,s=p):s=e,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log($v(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new h(iu),h.precision=s;;){if(i=oo(i.times(t),s),n=n.times(++l),a=o.plus(Fp(i,n,s)),hh(a.d).slice(0,s)===hh(o.d).slice(0,s)){for(;c--;)o=oo(o.times(o),s);return h.precision=p,e==null?(Oo=!0,oo(o,p)):o}o=a}}function Ds(t){for(var e=t.e*wo,n=t.d[0];n>=10;n/=10)e++;return e}function Q3(t,e,n){if(e>t.LN10.sd())throw Oo=!0,n&&(t.precision=n),Error(gd+"LN10 precision limit exceeded");return oo(new t(t.LN10),e)}function wg(t){for(var e="";t--;)e+="0";return e}function t2(t,e){var n,r,i,o,a,s,l,c,h,p=1,g=10,v=t,x=v.d,_=v.constructor,S=_.precision;if(v.s<1)throw Error(gd+(v.s?"NaN":"-Infinity"));if(v.eq(iu))return new _(0);if(e==null?(Oo=!1,c=S):c=e,v.eq(10))return e==null&&(Oo=!0),Q3(_,c);if(c+=g,_.precision=c,n=hh(x),r=n.charAt(0),o=Ds(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=hh(v.d),r=n.charAt(0),p++;o=Ds(v),r>1?(v=new _("0."+n),o++):v=new _(r+"."+n.slice(1))}else return l=Q3(_,c+2,S).times(o+""),v=t2(new _(r+"."+n.slice(1)),c-g).plus(l),_.precision=S,e==null?(Oo=!0,oo(v,S)):v;for(s=a=v=Fp(v.minus(iu),v.plus(iu),c),h=oo(v.times(v),c),i=3;;){if(a=oo(a.times(h),c),l=s.plus(Fp(a,new _(i),c)),hh(l.d).slice(0,c)===hh(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Q3(_,c+2,S).times(o+""))),s=Fp(s,new _(p),c),_.precision=S,e==null?(Oo=!0,oo(s,S)):s;s=l,i+=2}}function JY(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=F1(n/wo),t.d=[],r=(n+1)%wo,n<0&&(r+=wo),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=wo;r<i;)t.d.push(+e.slice(r,r+=wo));e=e.slice(r),r=wo-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Oo&&(t.e>OI||t.e<-OI))throw Error(I6+n)}else t.s=0,t.e=0,t.d=[0];return t}function oo(t,e,n){var r,i,o,a,s,l,c,h,p=t.d;for(a=1,o=p[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=wo,i=e,c=p[h=0];else{if(h=Math.ceil((r+1)/wo),o=p.length,h>=o)return t;for(c=o=p[h],a=1;o>=10;o/=10)a++;r%=wo,i=r-wo+a}if(n!==void 0&&(o=$v(10,a-i-1),s=c/o%10|0,l=e<0||p[h+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/$v(10,a-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return l?(o=Ds(t),p.length=1,e=e-o-1,p[0]=$v(10,(wo-e%wo)%wo),t.e=F1(-e/wo)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=$v(10,wo-r),p[h]=i>0?(c/$v(10,a-i)%$v(10,i)|0)*o:0),l)for(;;)if(h==0){(p[0]+=o)==da&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=da)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Oo&&(t.e>OI||t.e<-OI))throw Error(I6+Ds(t));return t}function $le(t,e){var n,r,i,o,a,s,l,c,h,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Oo?oo(e,v):e;if(l=t.d,p=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(h=a<0,h?(n=l,a=-a,s=p.length):(n=p,r=c,s=l.length),i=Math.max(Math.ceil(v/wo),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=p.length,h=i<s,h&&(s=i),i=0;i<s;i++)if(l[i]!=p[i]){h=l[i]<p[i];break}a=0}for(h&&(n=l,l=p,p=n,e.s=-e.s),s=l.length,i=p.length-s;i>0;--i)l[s++]=0;for(i=p.length;i>a;){if(l[--i]<p[i]){for(o=i;o&&l[--o]===0;)l[o]=da-1;--l[o],l[i]+=da}l[i]-=p[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Oo?oo(e,v):e):new g(0)}function B0(t,e,n){var r,i=Ds(t),o=hh(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+wg(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+wg(-i-1)+o,n&&(r=n-a)>0&&(o+=wg(r))):i>=a?(o+=wg(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+wg(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=wg(r))),t.s<0?"-"+o:o}function QY(t,e){if(t.length>e)return t.length=e,!0}function jle(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(x0+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return JY(a,o.toString())}else if(typeof o!="string")throw Error(x0+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,_rt.test(o))JY(a,o);else throw Error(x0+o)}if(i.prototype=Xn,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jle,i.config=i.set=brt,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function brt(t){if(!t||typeof t!="object")throw Error(gd+"Object expected");var e,n,r,i=["precision",1,B1,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(F1(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(x0+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(x0+n+": "+r);return this}var k6=jle(xrt);iu=new k6(1);const Zi=k6;function wrt(t){return Trt(t)||Ert(t)||Mrt(t)||Srt()}function Srt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mrt(t,e){if(t){if(typeof t=="string")return DF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DF(t,e)}}function Ert(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Trt(t){if(Array.isArray(t))return DF(t)}function DF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Crt=function(e){return e},Ule={"@@functional/placeholder":!0},Vle=function(e){return e===Ule},eX=function(e){return function n(){return arguments.length===0||arguments.length===1&&Vle(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Art=function t(e,n){return e===1?n:eX(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==Ule}).length;return a>=e?n.apply(void 0,i):t(e-a,eX(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var h=i.map(function(p){return Vle(p)?l.shift():p});return n.apply(void 0,wrt(h).concat(l))}))})},PO=function(e){return Art(e.length,e)},NF=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Prt=PO(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Irt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Crt;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},zF=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Wle=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function krt(t){var e;return t===0?e=1:e=Math.floor(new Zi(t).abs().log(10).toNumber())+1,e}function Rrt(t,e,n){for(var r=new Zi(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Ort=PO(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Lrt=PO(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Drt=PO(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const IO={rangeStep:Rrt,getDigitCount:krt,interpolateNumber:Ort,uninterpolateNumber:Lrt,uninterpolateTruncation:Drt};function BF(t){return Brt(t)||zrt(t)||Hle(t)||Nrt()}function Nrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zrt(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Brt(t){if(Array.isArray(t))return FF(t)}function n2(t,e){return jrt(t)||$rt(t,e)||Hle(t,e)||Frt()}function Frt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hle(t,e){if(t){if(typeof t=="string")return FF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FF(t,e)}}function FF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $rt(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function jrt(t){if(Array.isArray(t))return t}function Gle(t){var e=n2(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function qle(t,e,n){if(t.lte(0))return new Zi(0);var r=IO.getDigitCount(t.toNumber()),i=new Zi(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Zi(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Zi(Math.ceil(l))}function Urt(t,e,n){var r=1,i=new Zi(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Zi(10).pow(IO.getDigitCount(t)-1),i=new Zi(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Zi(Math.floor(t)))}else t===0?i=new Zi(Math.floor((e-1)/2)):n||(i=new Zi(Math.floor(t)));var a=Math.floor((e-1)/2),s=Irt(Prt(function(l){return i.add(new Zi(l-a).mul(r)).toNumber()}),NF);return s(0,e)}function Yle(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Zi(0),tickMin:new Zi(0),tickMax:new Zi(0)};var o=qle(new Zi(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Zi(0):(a=new Zi(t).add(e).div(2),a=a.sub(new Zi(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Zi(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?Yle(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new Zi(s).mul(o)),tickMax:a.add(new Zi(l).mul(o))})}function Vrt(t){var e=n2(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=Gle([n,r]),l=n2(s,2),c=l[0],h=l[1];if(c===-1/0||h===1/0){var p=h===1/0?[c].concat(BF(NF(0,i-1).map(function(){return 1/0}))):[].concat(BF(NF(0,i-1).map(function(){return-1/0})),[h]);return n>r?zF(p):p}if(c===h)return Urt(c,i,o);var g=Yle(c,h,a,o),v=g.step,x=g.tickMin,_=g.tickMax,S=IO.rangeStep(x,_.add(new Zi(.1).mul(v)),v);return n>r?zF(S):S}function Wrt(t,e){var n=n2(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Gle([r,i]),s=n2(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var h=Math.max(e,2),p=qle(new Zi(c).sub(l).div(h-1),o,0),g=[].concat(BF(IO.rangeStep(new Zi(l),new Zi(c).sub(new Zi(.99).mul(p)),p)),[c]);return r>i?zF(g):g}var Hrt=Wle(Vrt),Grt=Wle(Wrt),qrt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function LI(){return LI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LI.apply(this,arguments)}function Yrt(t,e){return Jrt(t)||Zrt(t,e)||Krt(t,e)||Xrt()}function Xrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Krt(t,e){if(t){if(typeof t=="string")return tX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tX(t,e)}}function tX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zrt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Jrt(t){if(Array.isArray(t))return t}function Qrt(t,e){if(t==null)return{};var n=eit(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eit(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NE(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,o=t.data,a=t.dataPointFormatter,s=t.xAxis,l=t.yAxis,c=Qrt(t,qrt),h=ri(c),p=o.map(function(g){var v=a(g,i),x=v.x,_=v.y,S=v.value,w=v.errorVal;if(!w)return null;var C=[],T,k;if(Array.isArray(w)){var R=Yrt(w,2);T=R[0],k=R[1]}else T=k=w;if(n==="vertical"){var L=s.scale,F=_+e,H=F+r,Z=F-r,j=L(S-T),X=L(S+k);C.push({x1:X,y1:H,x2:X,y2:Z}),C.push({x1:j,y1:F,x2:X,y2:F}),C.push({x1:j,y1:H,x2:j,y2:Z})}else if(n==="horizontal"){var le=l.scale,me=x+e,ie=me-r,ce=me+r,fe=le(S-T),xe=le(S+k);C.push({x1:ie,y1:xe,x2:ce,y2:xe}),C.push({x1:me,y1:fe,x2:me,y2:xe}),C.push({x1:ie,y1:fe,x2:ce,y2:fe})}return Ze.createElement(bs,LI({className:"recharts-errorBar",key:"bar-".concat(C.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},h),C.map(function(te){return Ze.createElement("line",LI({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return Ze.createElement(bs,{className:"recharts-errorBars"},p)}NE.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};NE.displayName="ErrorBar";function r2(t){"@babel/helpers - typeof";return r2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r2(t)}function nX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nX(Object(n),!0).forEach(function(r){tit(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tit(t,e,n){return e=nit(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nit(t){var e=rit(t,"string");return r2(e)==="symbol"?e:String(e)}function rit(t,e){if(r2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(r2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xle=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Pp(n,Bb);if(!a)return null;var s;return a.props&&a.props.payload?s=a.props&&a.props.payload:o==="children"?s=(r||[]).reduce(function(l,c){var h=c.item,p=c.props,g=p.sectors||p.data||[];return l.concat(g.map(function(v){return{type:a.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):s=(r||[]).map(function(l){var c=l.item,h=c.props,p=h.dataKey,g=h.name,v=h.legendType,x=h.hide;return{inactive:x,dataKey:p,type:a.props.iconType||v||"square",color:R6(c),value:g||p,payload:c.props}}),eN(eN(eN({},a.props),Bb.getWithHeight(a,i)),{},{payload:s,item:a})};function i2(t){"@babel/helpers - typeof";return i2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i2(t)}function rX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rX(Object(n),!0).forEach(function(r){lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lb(t,e,n){return e=iit(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iit(t){var e=oit(t,"string");return i2(e)==="symbol"?e:String(e)}function oit(t,e){if(i2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(i2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iX(t){return cit(t)||lit(t)||ait(t)||sit()}function sit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ait(t,e){if(t){if(typeof t=="string")return $F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $F(t,e)}}function lit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cit(t){if(Array.isArray(t))return $F(t)}function $F(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vu(t,e,n){return si(t)||si(e)?n:ta(e)?ld(t,e,n):Kr(e)?e(t):n}function KS(t,e,n,r){var i=mrt(t,function(s){return vu(s,e)});if(n==="number"){var o=i.filter(function(s){return Cn(s)||parseFloat(s)});return o.length?[CO(o),TO(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!si(s)}):i;return a.map(function(s){return ta(s)||s instanceof Date?s:""})}var uit=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var h=c>0?i[c-1].coordinate:i[s-1].coordinate,p=i[c].coordinate,g=c>=s-1?i[0].coordinate:i[c+1].coordinate,v=void 0;if(cf(p-h)!==cf(g-p)){var x=[];if(cf(g-p)===cf(l[1]-l[0])){v=g;var _=p+l[1]-l[0];x[0]=Math.min(_,(_+h)/2),x[1]=Math.max(_,(_+h)/2)}else{v=h;var S=g+l[1]-l[0];x[0]=Math.min(p,(S+p)/2),x[1]=Math.max(p,(S+p)/2)}var w=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){a=i[c].index;break}}else{var C=Math.min(h,g),T=Math.max(h,g);if(e>(C+p)/2&&e<=(T+p)/2){a=i[c].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===s-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){a=r[k].index;break}return a},R6=function(e){var n=e,r=n.type.displayName,i=e.props,o=i.stroke,a=i.fill,s;switch(r){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:a;break;default:s=a;break}return s},dit=function(e){var n=e.barSize,r=e.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,h=Object.keys(c),p=0,g=h.length;p<g;p++){var v=c[h[p]],x=v.items,_=v.cateAxisId,S=x.filter(function(T){return zp(T.type).indexOf("Bar")>=0});if(S&&S.length){var w=S[0].props.barSize,C=S[0].props[_];o[C]||(o[C]=[]),o[C].push({item:S[0],stackList:S.slice(1),barSize:si(w)?n:w})}}return o},fit=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=Lb(n,i,0,!0),h,p=[];if(a[0].barSize===+a[0].barSize){var g=!1,v=i/l,x=a.reduce(function(k,R){return k+R.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&v>0&&(g=!0,v*=.9,x=l*v);var _=(i-x)/2>>0,S={offset:_-c,size:0};h=a.reduce(function(k,R){var L={item:R.item,position:{offset:S.offset+S.size+c,size:g?v:R.barSize}},F=[].concat(iX(k),[L]);return S=F[F.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(H){F.push({item:H,position:S})}),F},p)}else{var w=Lb(r,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var C=(i-2*w-(l-1)*c)/l;C>1&&(C>>=0);var T=s===+s?Math.min(C,s):C;h=a.reduce(function(k,R,L){var F=[].concat(iX(k),[{item:R.item,position:{offset:w+(C+c)*L+(C-T)/2,size:T}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(H){F.push({item:H,position:F[F.length-1].position})}),F},p)}return h},hit=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=Xle({children:o,legendWidth:l});if(c){var h=i||{},p=h.width,g=h.height,v=c.align,x=c.verticalAlign,_=c.layout;if((_==="vertical"||_==="horizontal"&&x==="middle")&&v!=="center"&&Cn(e[v]))return ed(ed({},e),{},lb({},v,e[v]+(p||0)));if((_==="horizontal"||_==="vertical"&&v==="center")&&x!=="middle"&&Cn(e[x]))return ed(ed({},e),{},lb({},x,e[x]+(g||0)))}return e},pit=function(e,n,r){return si(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Kle=function(e,n,r,i,o){var a=n.props.children,s=cd(a,NE).filter(function(c){return pit(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,h){var p=vu(h,r,0),g=Array.isArray(p)?[CO(p),TO(p)]:[p,p],v=l.reduce(function(x,_){var S=vu(h,_,0),w=g[0]-Math.abs(Array.isArray(S)?S[0]:S),C=g[1]+Math.abs(Array.isArray(S)?S[1]:S);return[Math.min(w,x[0]),Math.max(C,x[1])]},[1/0,-1/0]);return[Math.min(v[0],c[0]),Math.max(v[1],c[1])]},[1/0,-1/0])}return null},mit=function(e,n,r,i,o){var a=n.map(function(s){return Kle(e,s,r,o,i)}).filter(function(s){return!si(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Zle=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&Kle(e,l,c,i)||KS(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var h=0,p=c.length;h<p;h++)s[c[h]]||(s[c[h]]=!0,l.push(c[h]));return l},[])},Jle=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},oX=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},yg=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?cf(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var g=o?o.indexOf(p):p;return{coordinate:i(g)+c,value:p,offset:c}});return h.filter(function(p){return!PE(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,g){return{coordinate:i(p)+c,value:p,index:g,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+c,value:p,offset:c}}):i.domain().map(function(p,g){return{coordinate:i(p)+c,value:o?o[p]:p,index:g,offset:c}})},tN=new WeakMap,pC=function(e,n){if(typeof n!="function")return e;tN.has(e)||tN.set(e,new WeakMap);var r=tN.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},git=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:KM(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:PI(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:XS(),realScaleType:"point"}:o==="category"?{scale:KM(),realScaleType:"band"}:{scale:PI(),realScaleType:"linear"};if(AE(i)){var l="scale".concat(hO(i));return{scale:(ZY[l]||XS)(),realScaleType:ZY[l]?l:"point"}}return Kr(i)?{scale:i}:{scale:XS(),realScaleType:"point"}},sX=1e-4,yit=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-sX,a=Math.max(i[0],i[1])+sX,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},vit=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},xit=function(e,n){if(!n||n.length!==2||!Cn(n[0])||!Cn(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Cn(e[0])||e[0]<r)&&(o[0]=r),(!Cn(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},_it=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=PE(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},bit=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=PE(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},wit={sign:_it,expand:pHe,none:Db,silhouette:mHe,wiggle:gHe,positive:bit},Sit=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=wit[r],a=hHe().keys(i).value(function(s,l){return+vu(s,l,0)}).order(sF).offset(o);return a(e)},Mit=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(p,g){var v=g.props,x=v.stackId,_=v.hide;if(_)return p;var S=g.props[r],w=p[S]||{hasStack:!1,stackGroups:{}};if(ta(x)){var C=w.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};C.items.push(g),w.hasStack=!0,w.stackGroups[x]=C}else w.stackGroups[IE("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return ed(ed({},p),{},lb({},S,w))},l),h={};return Object.keys(c).reduce(function(p,g){var v=c[g];if(v.hasStack){var x={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(_,S){var w=v.stackGroups[S];return ed(ed({},_),{},lb({},S,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:Sit(e,w.items,o)}))},x)}return ed(ed({},p),{},lb({},g,v))},h)},Eit=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var h=Hrt(c,o,s);return e.domain([CO(h),TO(h)]),{niceTicks:h}}if(o&&i==="number"){var p=e.domain(),g=Grt(p,o,s);return{niceTicks:g}}return null},aX=function(e){var n=e.axis,r=e.ticks,i=e.bandSize,o=e.entry,a=e.index,s=e.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!si(o[n.dataKey])){var l=nI(r,"value",o[n.dataKey]);if(l)return l.coordinate+i/2}return r[a]?r[a].coordinate+i/2:null}var c=vu(o,si(s)?n.dataKey:s);return si(c)?null:n.scale(c)},lX=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=vu(a,n.dataKey,n.domain[s]);return si(l)?null:n.scale(l)-o/2+i},Tit=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Cit=function(e,n){var r=e.props.stackId;if(ta(r)){var i=n[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},Ait=function(e){return e.reduce(function(n,r){return[CO(r.concat([n[0]]).filter(Cn)),TO(r.concat([n[1]]).filter(Cn))]},[1/0,-1/0])},Qle=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,h){var p=Ait(h.slice(n,r+1));return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},cX=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uX=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jF=function(e,n,r){if(Kr(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Cn(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(cX.test(e[0])){var o=+cX.exec(e[0])[1];i[0]=n[0]-o}else Kr(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Cn(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(uX.test(e[1])){var a=+uX.exec(e[1])[1];i[1]=n[1]+a}else Kr(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},DI=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=s6(n,function(p){return p.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],h=o[s-1];a=Math.min((c.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},dX=function(e,n,r){return!e||!e.length||AO(e,ld(r,"type.defaultProps.domain"))?n:e},ece=function(e,n){var r=e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType;return ed(ed({},ri(e)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:R6(e),value:vu(n,i),type:l,payload:n,chartType:c})};function o2(t){"@babel/helpers - typeof";return o2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o2(t)}function fX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fX(Object(n),!0).forEach(function(r){Pit(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pit(t,e,n){return e=Iit(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iit(t){var e=kit(t,"string");return o2(e)==="symbol"?e:String(e)}function kit(t,e){if(o2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(o2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI=Math.PI/180,Rit=function(e){return e*180/Math.PI},Na=function(e,n,r,i){return{x:e+Math.cos(-NI*i)*r,y:n+Math.sin(-NI*i)*r}},Oit=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Lit=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Oit({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:Rit(c),angleInRadian:c}},Dit=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Nit=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},pX=function(e,n){var r=e.x,i=e.y,o=Lit({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var h=Dit(n),p=h.startAngle,g=h.endAngle,v=s,x;if(p<=g){for(;v>g;)v-=360;for(;v<p;)v+=360;x=v>=p&&v<=g}else{for(;v>p;)v-=360;for(;v<g;)v+=360;x=v>=g&&v<=p}return x?hX(hX({},n),{},{radius:a,angle:Nit(v,n)}):null};function s2(t){"@babel/helpers - typeof";return s2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s2(t)}var zit=["offset"];function Bit(t){return Uit(t)||jit(t)||$it(t)||Fit()}function Fit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $it(t,e){if(t){if(typeof t=="string")return UF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UF(t,e)}}function jit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uit(t){if(Array.isArray(t))return UF(t)}function UF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vit(t,e){if(t==null)return{};var n=Wit(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wit(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mX(Object(n),!0).forEach(function(r){Hit(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hit(t,e,n){return e=Git(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Git(t){var e=qit(t,"string");return s2(e)==="symbol"?e:String(e)}function qit(t,e){if(s2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(s2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a2.apply(this,arguments)}var Yit=function(e){var n=e.value,r=e.formatter,i=si(e.children)?n:e.children;return Kr(r)?r(i):i},Xit=function(e,n){var r=cf(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Kit=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,h=l.cy,p=l.innerRadius,g=l.outerRadius,v=l.startAngle,x=l.endAngle,_=l.clockWise,S=(p+g)/2,w=Xit(v,x),C=w>=0?1:-1,T,k;i==="insideStart"?(T=v+C*a,k=_):i==="insideEnd"?(T=x-C*a,k=!_):i==="end"&&(T=x+C*a,k=_),k=w<=0?k:!k;var R=Na(c,h,S,T),L=Na(c,h,S,T+(k?1:-1)*359),F="M".concat(R.x,",").concat(R.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(k?0:1,`,
    `).concat(L.x,",").concat(L.y),H=si(e.id)?IE("recharts-radial-line-"):e.id;return Ze.createElement("text",a2({},r,{dominantBaseline:"central",className:Xt("recharts-radial-bar-label",s)}),Ze.createElement("defs",null,Ze.createElement("path",{id:H,d:F})),Ze.createElement("textPath",{xlinkHref:"#".concat(H)},n))},Zit=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,h=o.startAngle,p=o.endAngle,g=(h+p)/2;if(i==="outside"){var v=Na(a,s,c+r,g),x=v.x,_=v.y;return{x,y:_,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var S=(l+c)/2,w=Na(a,s,S,g),C=w.x,T=w.y;return{x:C,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Jit=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,h=a.height,p=h>=0?1:-1,g=p*i,v=p>0?"end":"start",x=p>0?"start":"end",_=c>=0?1:-1,S=_*i,w=_>0?"end":"start",C=_>0?"start":"end";if(o==="top"){var T={x:s+c/2,y:l-p*i,textAnchor:"middle",verticalAnchor:v};return Zs(Zs({},T),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var k={x:s+c/2,y:l+h+g,textAnchor:"middle",verticalAnchor:x};return Zs(Zs({},k),r?{height:Math.max(r.y+r.height-(l+h),0),width:c}:{})}if(o==="left"){var R={x:s-S,y:l+h/2,textAnchor:w,verticalAnchor:"middle"};return Zs(Zs({},R),r?{width:Math.max(R.x-r.x,0),height:h}:{})}if(o==="right"){var L={x:s+c+S,y:l+h/2,textAnchor:C,verticalAnchor:"middle"};return Zs(Zs({},L),r?{width:Math.max(r.x+r.width-L.x,0),height:h}:{})}var F=r?{width:c,height:h}:{};return o==="insideLeft"?Zs({x:s+S,y:l+h/2,textAnchor:C,verticalAnchor:"middle"},F):o==="insideRight"?Zs({x:s+c-S,y:l+h/2,textAnchor:w,verticalAnchor:"middle"},F):o==="insideTop"?Zs({x:s+c/2,y:l+g,textAnchor:"middle",verticalAnchor:x},F):o==="insideBottom"?Zs({x:s+c/2,y:l+h-g,textAnchor:"middle",verticalAnchor:v},F):o==="insideTopLeft"?Zs({x:s+S,y:l+g,textAnchor:C,verticalAnchor:x},F):o==="insideTopRight"?Zs({x:s+c-S,y:l+g,textAnchor:w,verticalAnchor:x},F):o==="insideBottomLeft"?Zs({x:s+S,y:l+h-g,textAnchor:C,verticalAnchor:v},F):o==="insideBottomRight"?Zs({x:s+c-S,y:l+h-g,textAnchor:w,verticalAnchor:v},F):P1(o)&&(Cn(o.x)||t0(o.x))&&(Cn(o.y)||t0(o.y))?Zs({x:s+Lb(o.x,c),y:l+Lb(o.y,h),textAnchor:"end",verticalAnchor:"end"},F):Zs({x:s+c/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Qit=function(e){return"cx"in e&&Cn(e.cx)};function fl(t){var e=t.offset,n=e===void 0?5:e,r=Vit(t,zit),i=Zs({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,h=i.className,p=h===void 0?"":h,g=i.textBreakAll;if(!o||si(s)&&si(l)&&!V.isValidElement(c)&&!Kr(c))return null;if(V.isValidElement(c))return V.cloneElement(c,i);var v;if(Kr(c)){if(v=V.createElement(c,i),V.isValidElement(v))return v}else v=Yit(i);var x=Qit(o),_=ri(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Kit(i,v,_);var S=x?Zit(i):Jit(i);return Ze.createElement(wI,a2({className:Xt("recharts-label",p)},_,S,{breakAll:g}),v)}fl.displayName="Label";var tce=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,h=e.outerRadius,p=e.x,g=e.y,v=e.top,x=e.left,_=e.width,S=e.height,w=e.clockWise,C=e.labelViewBox;if(C)return C;if(Cn(_)&&Cn(S)){if(Cn(p)&&Cn(g))return{x:p,y:g,width:_,height:S};if(Cn(v)&&Cn(x))return{x:v,y:x,width:_,height:S}}return Cn(p)&&Cn(g)?{x:p,y:g,width:0,height:0}:Cn(n)&&Cn(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:h||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},eot=function(e,n){return e?e===!0?Ze.createElement(fl,{key:"label-implicit",viewBox:n}):ta(e)?Ze.createElement(fl,{key:"label-implicit",viewBox:n,value:e}):V.isValidElement(e)?e.type===fl?V.cloneElement(e,{key:"label-implicit",viewBox:n}):Ze.createElement(fl,{key:"label-implicit",content:e,viewBox:n}):Kr(e)?Ze.createElement(fl,{key:"label-implicit",content:e,viewBox:n}):P1(e)?Ze.createElement(fl,a2({viewBox:n},e,{key:"label-implicit"})):null:null},tot=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=tce(e),a=cd(i,fl).map(function(l,c){return V.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=eot(e.label,n||o);return[s].concat(Bit(a))};fl.parseViewBox=tce;fl.renderCallByParent=tot;function not(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var rot=not;const iot=bi(rot);function l2(t){"@babel/helpers - typeof";return l2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l2(t)}var oot=["valueAccessor"],sot=["data","dataKey","clockWise","id","textBreakAll"];function aot(t){return dot(t)||uot(t)||cot(t)||lot()}function lot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cot(t,e){if(t){if(typeof t=="string")return VF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VF(t,e)}}function uot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dot(t){if(Array.isArray(t))return VF(t)}function VF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zI(){return zI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zI.apply(this,arguments)}function gX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gX(Object(n),!0).forEach(function(r){fot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fot(t,e,n){return e=hot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hot(t){var e=pot(t,"string");return l2(e)==="symbol"?e:String(e)}function pot(t,e){if(l2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(l2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vX(t,e){if(t==null)return{};var n=mot(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mot(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var got=function(e){return Array.isArray(e.value)?iot(e.value):e.value};function Qg(t){var e=t.valueAccessor,n=e===void 0?got:e,r=vX(t,oot),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=vX(r,sot);return!i||!i.length?null:Ze.createElement(bs,{className:"recharts-label-list"},i.map(function(h,p){var g=si(o)?n(h,p):vu(h&&h.payload,o),v=si(s)?{}:{id:"".concat(s,"-").concat(p)};return Ze.createElement(fl,zI({},ri(h,!0),c,v,{parentViewBox:h.parentViewBox,value:g,textBreakAll:l,viewBox:fl.parseViewBox(si(a)?h:yX(yX({},h),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}Qg.displayName="LabelList";function yot(t,e){return t?t===!0?Ze.createElement(Qg,{key:"labelList-implicit",data:e}):Ze.isValidElement(t)||Kr(t)?Ze.createElement(Qg,{key:"labelList-implicit",data:e,content:t}):P1(t)?Ze.createElement(Qg,zI({data:e},t,{key:"labelList-implicit"})):null:null}function vot(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=cd(r,Qg).map(function(a,s){return V.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=yot(t.label,e);return[o].concat(aot(i))}Qg.renderCallByParent=vot;function c2(t){"@babel/helpers - typeof";return c2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c2(t)}function WF(){return WF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WF.apply(this,arguments)}function xX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xX(Object(n),!0).forEach(function(r){xot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xot(t,e,n){return e=_ot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ot(t){var e=bot(t,"string");return c2(e)==="symbol"?e:String(e)}function bot(t,e){if(c2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(c2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wot=function(e,n){var r=cf(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},mC=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,h=l*(s?1:-1)+i,p=Math.asin(l/h)/NI,g=c?o:o+a*p,v=Na(n,r,h,g),x=Na(n,r,i,g),_=c?o-a*p:o,S=Na(n,r,h*Math.cos(p*NI),_);return{center:v,circleTangency:x,lineTangency:S,theta:p}},nce=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=wot(a,s),c=a+l,h=Na(n,r,o,a),p=Na(n,r,o,c),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=Na(n,r,i,a),x=Na(n,r,i,c);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},Sot=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,h=e.endAngle,p=cf(h-c),g=mC({cx:n,cy:r,radius:o,angle:c,sign:p,cornerRadius:a,cornerIsExternal:l}),v=g.circleTangency,x=g.lineTangency,_=g.theta,S=mC({cx:n,cy:r,radius:o,angle:h,sign:-p,cornerRadius:a,cornerIsExternal:l}),w=S.circleTangency,C=S.lineTangency,T=S.theta,k=l?Math.abs(c-h):Math.abs(c-h)-_-T;if(k<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):nce({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:h});var R="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var L=mC({cx:n,cy:r,radius:i,angle:c,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),F=L.circleTangency,H=L.lineTangency,Z=L.theta,j=mC({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),X=j.circleTangency,le=j.lineTangency,me=j.theta,ie=l?Math.abs(c-h):Math.abs(c-h)-Z-me;if(ie<0&&a===0)return"".concat(R,"L").concat(n,",").concat(r,"Z");R+="L".concat(le.x,",").concat(le.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(X.x,",").concat(X.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ie>180),",").concat(+(p>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(H.x,",").concat(H.y,"Z")}else R+="L".concat(n,",").concat(r,"Z");return R},Mot={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rce=function(e){var n=_X(_X({},Mot),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,g=n.className;if(a<o||h===p)return null;var v=Xt("recharts-sector",g),x=a-o,_=Lb(s,x,0,!0),S;return _>0&&Math.abs(h-p)<360?S=Sot({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(_,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:p}):S=nce({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:h,endAngle:p}),Ze.createElement("path",WF({},ri(n,!0),{className:v,d:S,role:"img"}))};function u2(t){"@babel/helpers - typeof";return u2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u2(t)}function HF(){return HF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HF.apply(this,arguments)}function bX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bX(Object(n),!0).forEach(function(r){Eot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eot(t,e,n){return e=Tot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tot(t){var e=Cot(t,"string");return u2(e)==="symbol"?e:String(e)}function Cot(t,e){if(u2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(u2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SX={curveBasisClosed:nHe,curveBasisOpen:rHe,curveBasis:tHe,curveBumpX:jWe,curveBumpY:UWe,curveLinearClosed:iHe,curveLinear:mO,curveMonotoneX:oHe,curveMonotoneY:sHe,curveNatural:aHe,curveStep:lHe,curveStepAfter:uHe,curveStepBefore:cHe},gC=function(e){return e.x===+e.x&&e.y===+e.y},Zw=function(e){return e.x},Jw=function(e){return e.y},Aot=function(e,n){if(Kr(e))return e;var r="curve".concat(hO(e));return(r==="curveMonotone"||r==="curveBump")&&n?SX["".concat(r).concat(n==="vertical"?"Y":"X")]:SX[r]||mO},Pot=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,h=Aot(r,s),p=c?o.filter(function(_){return gC(_)}):o,g;if(Array.isArray(a)){var v=c?a.filter(function(_){return gC(_)}):a,x=p.map(function(_,S){return wX(wX({},_),{},{base:v[S]})});return s==="vertical"?g=oC().y(Jw).x1(Zw).x0(function(_){return _.base.x}):g=oC().x(Zw).y1(Jw).y0(function(_){return _.base.y}),g.defined(gC).curve(h),g(x)}return s==="vertical"&&Cn(a)?g=oC().y(Jw).x1(Zw).x0(a):Cn(a)?g=oC().x(Zw).y1(Jw).y0(a):g=tae().x(Zw).y(Jw),g.defined(gC).curve(h),g(p)},GF=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Pot(e):i;return Ze.createElement("path",HF({},ri(e),rI(e),{className:Xt("recharts-curve",n),d:a,ref:o}))};function d2(t){"@babel/helpers - typeof";return d2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d2(t)}function BI(){return BI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BI.apply(this,arguments)}function Iot(t,e){return Lot(t)||Oot(t,e)||Rot(t,e)||kot()}function kot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rot(t,e){if(t){if(typeof t=="string")return MX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MX(t,e)}}function MX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Lot(t){if(Array.isArray(t))return t}function EX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EX(Object(n),!0).forEach(function(r){Dot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dot(t,e,n){return e=Not(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Not(t){var e=zot(t,"string");return d2(e)==="symbol"?e:String(e)}function zot(t,e){if(d2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(d2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CX=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&o instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=o[g]>a?a:o[g];h="M".concat(e,",").concat(n+s*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(c,",").concat(e+l*p[0],",").concat(n)),h+="L ".concat(e+r-l*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*p[1])),h+="L ".concat(e+r,",").concat(n+i-s*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(c,`,
        `).concat(e+r-l*p[2],",").concat(n+i)),h+="L ".concat(e+l*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*p[3])),h+="Z"}else if(a>0&&o===+o&&o>0){var x=Math.min(a,o);h="M ".concat(e,",").concat(n+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*x,`
            L `).concat(e+r,",").concat(n+i-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*x," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},Bot=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),h=Math.max(o,o+s),p=Math.min(a,a+l),g=Math.max(a,a+l);return r>=c&&r<=h&&i>=p&&i<=g}return!1},Fot={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O6=function(e){var n=TX(TX({},Fot),e),r=V.useRef(),i=V.useState(-1),o=Iot(i,2),a=o[0],s=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var l=n.x,c=n.y,h=n.width,p=n.height,g=n.radius,v=n.className,x=n.animationEasing,_=n.animationDuration,S=n.animationBegin,w=n.isAnimationActive,C=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||p!==+p||h===0||p===0)return null;var T=Xt("recharts-rectangle",v);return C?Ze.createElement(Kp,{canBegin:a>0,from:{width:h,height:p,x:l,y:c},to:{width:h,height:p,x:l,y:c},duration:_,animationEasing:x,isActive:C},function(k){var R=k.width,L=k.height,F=k.x,H=k.y;return Ze.createElement(Kp,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:_,isActive:w,easing:x},Ze.createElement("path",BI({},ri(n,!0),{className:T,d:CX(F,H,R,L,g),ref:r})))}):Ze.createElement("path",BI({},ri(n,!0),{className:T,d:CX(l,c,h,p,g)}))};function qF(){return qF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qF.apply(this,arguments)}var L6=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Xt("recharts-dot",o);return n===+n&&r===+r&&i===+i?Ze.createElement("circle",qF({},ri(e),rI(e),{className:a,cx:n,cy:r,r:i})):null};function f2(t){"@babel/helpers - typeof";return f2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f2(t)}var $ot=["x","y","top","left","width","height","className"];function YF(){return YF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YF.apply(this,arguments)}function AX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AX(Object(n),!0).forEach(function(r){Uot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uot(t,e,n){return e=Vot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vot(t){var e=Wot(t,"string");return f2(e)==="symbol"?e:String(e)}function Wot(t,e){if(f2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(f2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hot(t,e){if(t==null)return{};var n=Got(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Got(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var qot=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Yot=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,h=e.width,p=h===void 0?0:h,g=e.height,v=g===void 0?0:g,x=e.className,_=Hot(e,$ot),S=jot({x:r,y:o,top:s,left:c,width:p,height:v},_);return!Cn(r)||!Cn(o)||!Cn(p)||!Cn(v)||!Cn(s)||!Cn(c)?null:Ze.createElement("path",YF({},ri(S,!0),{className:Xt("recharts-cross",x),d:qot(r,o,p,v,s,c)}))},Xot=Mae,Kot=Xot(Object.getPrototypeOf,Object),Zot=Kot,Jot=cm,Qot=Zot,est=um,tst="[object Object]",nst=Function.prototype,rst=Object.prototype,ice=nst.toString,ist=rst.hasOwnProperty,ost=ice.call(Object);function sst(t){if(!est(t)||Jot(t)!=tst)return!1;var e=Qot(t);if(e===null)return!0;var n=ist.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ice.call(n)==ost}var ast=sst;const lst=bi(ast);var cst=cm,ust=um,dst="[object Boolean]";function fst(t){return t===!0||t===!1||ust(t)&&cst(t)==dst}var hst=fst;const pst=bi(hst);function h2(t){"@babel/helpers - typeof";return h2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h2(t)}function FI(){return FI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FI.apply(this,arguments)}function mst(t,e){return xst(t)||vst(t,e)||yst(t,e)||gst()}function gst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yst(t,e){if(t){if(typeof t=="string")return PX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PX(t,e)}}function PX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vst(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function xst(t){if(Array.isArray(t))return t}function IX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IX(Object(n),!0).forEach(function(r){_st(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _st(t,e,n){return e=bst(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bst(t){var e=wst(t,"string");return h2(e)==="symbol"?e:String(e)}function wst(t,e){if(h2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(h2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RX=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Sst={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mst=function(e){var n=kX(kX({},Sst),e),r=V.useRef(),i=V.useState(-1),o=mst(i,2),a=o[0],s=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,c=n.y,h=n.upperWidth,p=n.lowerWidth,g=n.height,v=n.className,x=n.animationEasing,_=n.animationDuration,S=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||p!==+p||g!==+g||h===0&&p===0||g===0)return null;var C=Xt("recharts-trapezoid",v);return w?Ze.createElement(Kp,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:g,x:l,y:c},to:{upperWidth:h,lowerWidth:p,height:g,x:l,y:c},duration:_,animationEasing:x,isActive:w},function(T){var k=T.upperWidth,R=T.lowerWidth,L=T.height,F=T.x,H=T.y;return Ze.createElement(Kp,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:_,easing:x},Ze.createElement("path",FI({},ri(n,!0),{className:C,d:RX(F,H,k,R,L),ref:r})))}):Ze.createElement("g",null,Ze.createElement("path",FI({},ri(n,!0),{className:C,d:RX(l,c,h,p,g)})))},Est=["option","shapeType","propTransformer","activeClassName","isActive"];function p2(t){"@babel/helpers - typeof";return p2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p2(t)}function Tst(t,e){if(t==null)return{};var n=Cst(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cst(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OX(Object(n),!0).forEach(function(r){Ast(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ast(t,e,n){return e=Pst(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pst(t){var e=Ist(t,"string");return p2(e)==="symbol"?e:String(e)}function Ist(t,e){if(p2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(p2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kst(t,e){return $I($I({},e),t)}function Rst(t,e){return t==="symbols"}function LX(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Ze.createElement(O6,n);case"trapezoid":return Ze.createElement(Mst,n);case"sector":return Ze.createElement(rce,n);case"symbols":if(Rst(e))return Ze.createElement(JU,n);break;default:return null}}function Ost(t){return V.isValidElement(t)?t.props:t}function Lst(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?kst:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Tst(t,Est),c;if(V.isValidElement(e))c=V.cloneElement(e,$I($I({},l),Ost(e)));else if(Kr(e))c=e(l);else if(lst(e)&&!pst(e)){var h=i(e,l);c=Ze.createElement(LX,{shapeType:n,elementProps:h})}else{var p=l;c=Ze.createElement(LX,{shapeType:n,elementProps:p})}return s?Ze.createElement(bs,{className:a},c):c}function kO(t,e){return e!=null&&"trapezoids"in t.props}function RO(t,e){return e!=null&&"sectors"in t.props}function m2(t,e){return e!=null&&"points"in t.props}function Dst(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Nst(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function zst(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Bst(t,e){var n;return kO(t,e)?n=Dst:RO(t,e)?n=Nst:m2(t,e)&&(n=zst),n}function Fst(t,e){var n;return kO(t,e)?n="trapezoids":RO(t,e)?n="sectors":m2(t,e)&&(n="points"),n}function $st(t,e){if(kO(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(RO(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return m2(t,e)?e.payload:{}}function jst(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Fst(n,e),o=$st(n,e),a=r.filter(function(l,c){var h=AO(o,l),p=n.props[i].filter(function(x){var _=Bst(n,e);return _(x,e)}),g=n.props[i].indexOf(p[p.length-1]),v=c===g;return h&&v}),s=r.indexOf(a[a.length-1]);return s}var Ust=Math.ceil,Vst=Math.max;function Wst(t,e,n,r){for(var i=-1,o=Vst(Ust((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Hst=Wst,Gst=Yae,DX=1/0,qst=17976931348623157e292;function Yst(t){if(!t)return t===0?t:0;if(t=Gst(t),t===DX||t===-DX){var e=t<0?-1:1;return e*qst}return t===t?t:0}var oce=Yst,Xst=Hst,Kst=xO,nN=oce;function Zst(t){return function(e,n,r){return r&&typeof r!="number"&&Kst(e,n,r)&&(n=r=void 0),e=nN(e),n===void 0?(n=e,e=0):n=nN(n),r=r===void 0?e<n?1:-1:nN(r),Xst(e,n,r,t)}}var Jst=Zst,Qst=Jst,eat=Qst(),tat=eat;const jI=bi(tat);function g2(t){"@babel/helpers - typeof";return g2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g2(t)}function NX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NX(Object(n),!0).forEach(function(r){sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sce(t,e,n){return e=nat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nat(t){var e=rat(t,"string");return g2(e)==="symbol"?e:String(e)}function rat(t,e){if(g2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(g2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iat=["Webkit","Moz","O","ms"],oat=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=iat.reduce(function(o,a){return zX(zX({},o),{},sce({},a+r,n))},{});return i[e]=n,i};function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function UI(){return UI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UI.apply(this,arguments)}function BX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BX(Object(n),!0).forEach(function(r){Kc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ace(r.key),r)}}function aat(t,e,n){return e&&FX(t.prototype,e),n&&FX(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XF(t,e)}function XF(t,e){return XF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XF(t,e)}function cat(t){var e=dat();return function(){var r=VI(t),i;if(e){var o=VI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return uat(this,i)}}function uat(t,e){if(e&&(Gb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oh(t)}function oh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dat(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function VI(t){return VI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},VI(t)}function Kc(t,e,n){return e=ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=fat(t,"string");return Gb(e)==="symbol"?e:String(e)}function fat(t,e){if(Gb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hat=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=XS().domain(jI(0,l)).range([o,o+a-s]),h=c.domain().map(function(p){return c(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:h}},$X=function(e){return e.changedTouches&&!!e.changedTouches.length},y2=function(t){lat(n,t);var e=cat(n);function n(r){var i;return sat(this,n),i=e.call(this,r),Kc(oh(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),Kc(oh(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),Kc(oh(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=i.props,a=o.endIndex,s=o.onDragEnd,l=o.startIndex;s==null||s({endIndex:a,startIndex:l})}),i.detachDragEndListener()}),Kc(oh(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Kc(oh(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Kc(oh(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Kc(oh(i),"handleSlideDragStart",function(o){var a=$X(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(oh(i),"startX"),endX:i.handleTravellerDragStart.bind(oh(i),"endX")},i.state={},i}return aat(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,a=i.endX,s=this.state.scaleValues,l=this.props,c=l.gap,h=l.data,p=h.length-1,g=Math.min(o,a),v=Math.max(o,a),x=n.getIndexInRange(s,g),_=n.getIndexInRange(s,v);return{startIndex:x-x%c,endIndex:_===p?p:_-_%c}}},{key:"getTextOfTick",value:function(i){var o=this.props,a=o.data,s=o.tickFormatter,l=o.dataKey,c=vu(a[i],l,i);return Kr(s)?s(c,i):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,a=o.slideMoveStartX,s=o.startX,l=o.endX,c=this.props,h=c.x,p=c.width,g=c.travellerWidth,v=c.startIndex,x=c.endIndex,_=c.onChange,S=i.pageX-a;S>0?S=Math.min(S,h+p-g-l,h+p-g-s):S<0&&(S=Math.max(S,h-s,h-l));var w=this.getIndex({startX:s+S,endX:l+S});(w.startIndex!==v||w.endIndex!==x)&&_&&_(w),this.setState({startX:s+S,endX:l+S,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var a=$X(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,a=this.state,s=a.brushMoveStartX,l=a.movingTravellerId,c=a.endX,h=a.startX,p=this.state[l],g=this.props,v=g.x,x=g.width,_=g.travellerWidth,S=g.onChange,w=g.gap,C=g.data,T={startX:this.state.startX,endX:this.state.endX},k=i.pageX-s;k>0?k=Math.min(k,v+x-_-p):k<0&&(k=Math.max(k,v-p)),T[l]=p+k;var R=this.getIndex(T),L=R.startIndex,F=R.endIndex,H=function(){var j=C.length-1;return l==="startX"&&(c>h?L%w===0:F%w===0)||c<h&&F===j||l==="endX"&&(c>h?F%w===0:L%w===0)||c>h&&F===j};this.setState((o={},Kc(o,l,p+k),Kc(o,"brushMoveStartX",i.pageX),o),function(){S&&H()&&S(R)})}},{key:"handleTravellerMoveKeyboard",value:function(i,o){var a=this,s=this.state,l=s.scaleValues,c=s.startX,h=s.endX,p=this.state[o],g=l.indexOf(p);if(g!==-1){var v=g+i;if(!(v===-1||v>=l.length)){var x=l[v];o==="startX"&&x>=h||o==="endX"&&x<=c||this.setState(Kc({},o,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.fill,h=i.stroke;return Ze.createElement("rect",{stroke:h,fill:c,x:o,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.data,h=i.children,p=i.padding,g=V.Children.only(h);return g?Ze.cloneElement(g,{x:o,y:a,width:s,height:l,margin:p,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(i,o){var a=this,s=this.props,l=s.y,c=s.travellerWidth,h=s.height,p=s.traveller,g=s.ariaLabel,v=s.data,x=s.startIndex,_=s.endIndex,S=Math.max(i,this.props.x),w=rN(rN({},ri(this.props)),{},{x:S,y:l,width:c,height:h}),C=g||"Min value: ".concat(v[x].name,", Max value: ").concat(v[_].name);return Ze.createElement(bs,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),a.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,o))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(p,w))}},{key:"renderSlide",value:function(i,o){var a=this.props,s=a.y,l=a.height,c=a.stroke,h=a.travellerWidth,p=Math.min(i,o)+h,g=Math.max(Math.abs(o-i)-h,0);return Ze.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:p,y:s,width:g,height:l})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,a=i.endIndex,s=i.y,l=i.height,c=i.travellerWidth,h=i.stroke,p=this.state,g=p.startX,v=p.endX,x=5,_={pointerEvents:"none",fill:h};return Ze.createElement(bs,{className:"recharts-brush-texts"},Ze.createElement(wI,UI({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,v)-x,y:s+l/2},_),this.getTextOfTick(o)),Ze.createElement(wI,UI({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,v)+c+x,y:s+l/2},_),this.getTextOfTick(a)))}},{key:"render",value:function(){var i=this.props,o=i.data,a=i.className,s=i.children,l=i.x,c=i.y,h=i.width,p=i.height,g=i.alwaysShowText,v=this.state,x=v.startX,_=v.endX,S=v.isTextActive,w=v.isSlideMoving,C=v.isTravellerMoving,T=v.isTravellerFocused;if(!o||!o.length||!Cn(l)||!Cn(c)||!Cn(h)||!Cn(p)||h<=0||p<=0)return null;var k=Xt("recharts-brush",a),R=Ze.Children.count(s)===1,L=oat("userSelect","none");return Ze.createElement(bs,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:L},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(x,_),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(_,"endX"),(S||w||C||T||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,a=i.y,s=i.width,l=i.height,c=i.stroke,h=Math.floor(a+l/2)-1;return Ze.createElement(Ze.Fragment,null,Ze.createElement("rect",{x:o,y:a,width:s,height:l,fill:c,stroke:"none"}),Ze.createElement("line",{x1:o+1,y1:h,x2:o+s-1,y2:h,fill:"none",stroke:"#fff"}),Ze.createElement("line",{x1:o+1,y1:h+2,x2:o+s-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var a;return Ze.isValidElement(i)?a=Ze.cloneElement(i,o):Kr(i)?a=i(o):a=n.renderDefaultTraveller(o),a}},{key:"getDerivedStateFromProps",value:function(i,o){var a=i.data,s=i.width,l=i.x,c=i.travellerWidth,h=i.updateId,p=i.startIndex,g=i.endIndex;if(a!==o.prevData||h!==o.prevUpdateId)return rN({prevData:a,prevTravellerWidth:c,prevUpdateId:h,prevX:l,prevWidth:s},a&&a.length?hat({data:a,width:s,x:l,travellerWidth:c,startIndex:p,endIndex:g}):{scale:null,scaleValues:null});if(o.scale&&(s!==o.prevWidth||l!==o.prevX||c!==o.prevTravellerWidth)){o.scale.range([l,l+s-c]);var v=o.scale.domain().map(function(x){return o.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:h,prevX:l,prevWidth:s,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(i,o){for(var a=i.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);i[c]>o?l=c:s=c}return o>=i[l]?l:s}}]),n}(V.PureComponent);Kc(y2,"displayName","Brush");Kc(y2,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pat=o6;function mat(t,e){var n;return pat(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var gat=mat,yat=gae,vat=wy,xat=gat,_at=Ic,bat=xO;function wat(t,e,n){var r=_at(t)?yat:xat;return n&&bat(t,e,n)&&(e=void 0),r(t,vat(e))}var Sat=wat;const Mat=bi(Sat);var Mh=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},jX=Bae;function Eat(t,e,n){e=="__proto__"&&jX?jX(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Tat=Eat,Cat=Tat,Aat=Nae,Pat=wy;function Iat(t,e){var n={};return e=Pat(e),Aat(t,function(r,i,o){Cat(n,i,e(r,i,o))}),n}var kat=Iat;const Rat=bi(kat);function Oat(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Lat=Oat,Dat=o6;function Nat(t,e){var n=!0;return Dat(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var zat=Nat,Bat=Lat,Fat=zat,$at=wy,jat=Ic,Uat=xO;function Vat(t,e,n){var r=jat(t)?Bat:Fat;return n&&Uat(t,e,n)&&(e=void 0),r(t,$at(e))}var Wat=Vat;const lce=bi(Wat);function v2(t){"@babel/helpers - typeof";return v2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v2(t)}var Hat=["x","y"];function KF(){return KF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KF.apply(this,arguments)}function UX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UX(Object(n),!0).forEach(function(r){Gat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gat(t,e,n){return e=qat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qat(t){var e=Yat(t,"string");return v2(e)==="symbol"?e:String(e)}function Yat(t,e){if(v2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(v2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xat(t,e){if(t==null)return{};var n=Kat(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kat(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zat(t,e){var n=t.x,r=t.y,i=Xat(t,Hat),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),h=parseInt(c,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Qw(Qw(Qw(Qw(Qw({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function VX(t){return Ze.createElement(Lst,KF({shapeType:"rectangle",propTransformer:Zat,activeClassName:"recharts-active-bar"},t))}var Jat=["value","background"];function qb(t){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(t)}function Qat(t,e){if(t==null)return{};var n=elt(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function elt(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WI(){return WI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WI.apply(this,arguments)}function WX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WX(Object(n),!0).forEach(function(r){zg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tlt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cce(r.key),r)}}function nlt(t,e,n){return e&&HX(t.prototype,e),n&&HX(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rlt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZF(t,e)}function ZF(t,e){return ZF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZF(t,e)}function ilt(t){var e=slt();return function(){var r=HI(t),i;if(e){var o=HI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return olt(this,i)}}function olt(t,e){if(e&&(qb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MS(t)}function MS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function slt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function HI(t){return HI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HI(t)}function zg(t,e,n){return e=cce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cce(t){var e=alt(t,"string");return qb(e)==="symbol"?e:String(e)}function alt(t,e){if(qb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OO=function(t){rlt(n,t);var e=ilt(n);function n(){var r;tlt(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),zg(MS(r),"state",{isAnimationFinished:!1}),zg(MS(r),"id",IE("recharts-bar-")),zg(MS(r),"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),zg(MS(r),"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return nlt(n,[{key:"renderRectanglesStatically",value:function(i){var o=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,h=a.activeBar,p=ri(this.props);return i&&i.map(function(g,v){var x=v===c,_=x?h:s,S=ua(ua(ua({},p),g),{},{isActive:x,option:_,index:v,dataKey:l,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return Ze.createElement(bs,WI({className:"recharts-bar-rectangle"},iI(o.props,g,v),{key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value)}),Ze.createElement(VX,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,a=o.data,s=o.layout,l=o.isAnimationActive,c=o.animationBegin,h=o.animationDuration,p=o.animationEasing,g=o.animationId,v=this.state.prevData;return Ze.createElement(Kp,{begin:c,duration:h,isActive:l,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var _=x.t,S=a.map(function(w,C){var T=v&&v[C];if(T){var k=nf(T.x,w.x),R=nf(T.y,w.y),L=nf(T.width,w.width),F=nf(T.height,w.height);return ua(ua({},w),{},{x:k(_),y:R(_),width:L(_),height:F(_)})}if(s==="horizontal"){var H=nf(0,w.height),Z=H(_);return ua(ua({},w),{},{y:w.y+w.height-Z,height:Z})}var j=nf(0,w.width),X=j(_);return ua(ua({},w),{},{width:X})});return Ze.createElement(bs,null,i.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,a=i.isAnimationActive,s=this.state.prevData;return a&&o&&o.length&&(!s||!AO(s,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props,a=o.data,s=o.dataKey,l=o.activeIndex,c=ri(this.props.background);return a.map(function(h,p){h.value;var g=h.background,v=Qat(h,Jat);if(!g)return null;var x=ua(ua(ua(ua(ua({},v),{},{fill:"#eee"},g),c),iI(i.props,h,p)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:s,index:p,key:"background-bar-".concat(p),className:"recharts-bar-background-rectangle"});return Ze.createElement(VX,WI({option:i.props.background,isActive:p===l},x))})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,h=a.layout,p=a.children,g=cd(p,NE);if(!g)return null;var v=h==="vertical"?s[0].height/2:s[0].width/2,x=function(w,C){var T=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:T,errorVal:vu(w,C)}},_={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Ze.createElement(bs,_,g.map(function(S){return Ze.cloneElement(S,{key:"error-bar-".concat(o,"-").concat(S.props.dataKey),data:s,xAxis:l,yAxis:c,layout:h,offset:v,dataPointFormatter:x})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,a=i.data,s=i.className,l=i.xAxis,c=i.yAxis,h=i.left,p=i.top,g=i.width,v=i.height,x=i.isAnimationActive,_=i.background,S=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,C=Xt("recharts-bar",s),T=l&&l.allowDataOverflow,k=c&&c.allowDataOverflow,R=T||k,L=si(S)?this.id:S;return Ze.createElement(bs,{className:C},T||k?Ze.createElement("defs",null,Ze.createElement("clipPath",{id:"clipPath-".concat(L)},Ze.createElement("rect",{x:T?h:h-g/2,y:k?p:p-v/2,width:T?g:g*2,height:k?v:v*2}))):null,Ze.createElement(bs,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(L,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,L),(!x||w)&&Qg.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}}]),n}(V.PureComponent);zg(OO,"displayName","Bar");zg(OO,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!0,isAnimationActive:!Bp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zg(OO,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,h=t.dataStartIndex,p=t.displayedData,g=t.offset,v=vit(r,n);if(!v)return null;var x=e.layout,_=n.props,S=_.dataKey,w=_.children,C=_.minPointSize,T=x==="horizontal"?a:o,k=c?T.scale.domain():null,R=Tit({numericAxis:T}),L=cd(w,Kae),F=p.map(function(H,Z){var j,X,le,me,ie,ce;if(c?j=xit(c[h+Z],k):(j=vu(H,S),Array.isArray(j)||(j=[R,j])),x==="horizontal"){var fe,xe=[a.scale(j[0]),a.scale(j[1])],te=xe[0],he=xe[1];X=lX({axis:o,ticks:s,bandSize:i,offset:v.offset,entry:H,index:Z}),le=(fe=he??te)!==null&&fe!==void 0?fe:void 0,me=v.size;var ve=te-he;if(ie=Number.isNaN(ve)?0:ve,ce={x:X,y:a.y,width:me,height:a.height},Math.abs(C)>0&&Math.abs(ie)<Math.abs(C)){var ze=cf(ie||C)*(Math.abs(C)-Math.abs(ie));le-=ze,ie+=ze}}else{var Ue=[o.scale(j[0]),o.scale(j[1])],rt=Ue[0],Fe=Ue[1];if(X=rt,le=lX({axis:a,ticks:l,bandSize:i,offset:v.offset,entry:H,index:Z}),me=Fe-rt,ie=v.size,ce={x:o.x,y:le,width:o.width,height:ie},Math.abs(C)>0&&Math.abs(me)<Math.abs(C)){var st=cf(me||C)*(Math.abs(C)-Math.abs(me));me+=st}}return ua(ua(ua({},H),{},{x:X,y:le,width:me,height:ie,value:c?j:j[1],payload:H,background:ce},L&&L[Z]&&L[Z].props),{},{tooltipPayload:[ece(n,H)],tooltipPosition:{x:X+me/2,y:le+ie/2}})});return ua({data:F,layout:x},g)});function x2(t){"@babel/helpers - typeof";return x2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x2(t)}function llt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uce(r.key),r)}}function clt(t,e,n){return e&&GX(t.prototype,e),n&&GX(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qX(Object(n),!0).forEach(function(r){LO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LO(t,e,n){return e=uce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=ult(t,"string");return x2(e)==="symbol"?e:String(e)}function ult(t,e){if(x2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(x2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dlt=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},g=!!Pp(c,OO);return h.reduce(function(v,x){var _=n[x],S=_.orientation,w=_.domain,C=_.padding,T=C===void 0?{}:C,k=_.mirror,R=_.reversed,L="".concat(S).concat(k?"Mirror":""),F,H,Z,j,X;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var le=w[1]-w[0],me=1/0,ie=_.categoricalDomain.sort();ie.forEach(function(Fe,st){st>0&&(me=Math.min((Fe||0)-(ie[st-1]||0),me))});var ce=me/le,fe=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(F=ce*fe/2),_.padding==="no-gap"){var xe=Lb(e.barCategoryGap,ce*fe),te=ce*fe/2;F=te-xe-(te-xe)/fe*xe}}i==="xAxis"?H=[r.left+(T.left||0)+(F||0),r.left+r.width-(T.right||0)-(F||0)]:i==="yAxis"?H=l==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(F||0),r.top+r.height-(T.bottom||0)-(F||0)]:H=_.range,R&&(H=[H[1],H[0]]);var he=git(_,o,g),ve=he.scale,ze=he.realScaleType;ve.domain(w).range(H),yit(ve);var Ue=Eit(ve,Zd(Zd({},_),{},{realScaleType:ze}));i==="xAxis"?(X=S==="top"&&!k||S==="bottom"&&k,Z=r.left,j=p[L]-X*_.height):i==="yAxis"&&(X=S==="left"&&!k||S==="right"&&k,Z=p[L]-X*_.width,j=r.top);var rt=Zd(Zd(Zd({},_),Ue),{},{realScaleType:ze,x:Z,y:j,scale:ve,width:i==="xAxis"?r.width:_.width,height:i==="yAxis"?r.height:_.height});return rt.bandSize=DI(rt,Ue),!_.hide&&i==="xAxis"?p[L]+=(X?-1:1)*rt.height:_.hide||(p[L]+=(X?-1:1)*rt.width),Zd(Zd({},v),{},LO({},x,rt))},{})},dce=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},flt=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return dce({x:n,y:r},{x:i,y:o})},fce=function(){function t(e){llt(this,t),this.scale=e}return clt(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();LO(fce,"EPS",1e-4);var D6=function(e){var n=Object.keys(e).reduce(function(r,i){return Zd(Zd({},r),{},LO({},i,fce.create(e[i])))},{});return Zd(Zd({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Rat(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return lce(i,function(o,a){return n[a].isInRange(o)})}})};function hlt(t){return(t%180+180)%180}var plt=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=hlt(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)};function _2(t){"@babel/helpers - typeof";return _2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_2(t)}function YX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YX(Object(n),!0).forEach(function(r){mlt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mlt(t,e,n){return e=glt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function glt(t){var e=ylt(t,"string");return _2(e)==="symbol"?e:String(e)}function ylt(t,e){if(_2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vlt(t,e){return wlt(t)||blt(t,e)||_lt(t,e)||xlt()}function xlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _lt(t,e){if(t){if(typeof t=="string")return KX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KX(t,e)}}function KX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function blt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function wlt(t){if(Array.isArray(t))return t}function JF(){return JF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JF.apply(this,arguments)}var Slt=function(e,n){var r;return Ze.isValidElement(e)?r=Ze.cloneElement(e,n):Kr(e)?r=e(n):r=Ze.createElement("line",JF({},n,{className:"recharts-reference-line-line"})),r},Mlt=function(e,n,r,i,o){var a=o.viewBox,s=a.x,l=a.y,c=a.width,h=a.height,p=o.position;if(r){var g=o.y,v=o.yAxis.orientation,x=e.y.apply(g,{position:p});if(Mh(o,"discard")&&!e.y.isInRange(x))return null;var _=[{x:s+c,y:x},{x:s,y:x}];return v==="left"?_.reverse():_}if(n){var S=o.x,w=o.xAxis.orientation,C=e.x.apply(S,{position:p});if(Mh(o,"discard")&&!e.x.isInRange(C))return null;var T=[{x:C,y:l+h},{x:C,y:l}];return w==="top"?T.reverse():T}if(i){var k=o.segment,R=k.map(function(L){return e.apply(L,{position:p})});return Mh(o,"discard")&&Mat(R,function(L){return!e.isInRange(L)})?null:R}return null};function N6(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxis,o=t.yAxis,a=t.shape,s=t.className,l=t.alwaysShow,c=t.clipPathId;y0(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=D6({x:i.scale,y:o.scale}),p=ta(e),g=ta(n),v=r&&r.length===2,x=Mlt(h,p,g,v,t);if(!x)return null;var _=vlt(x,2),S=_[0],w=S.x,C=S.y,T=_[1],k=T.x,R=T.y,L=Mh(t,"hidden")?"url(#".concat(c,")"):void 0,F=XX(XX({clipPath:L},ri(t,!0)),{},{x1:w,y1:C,x2:k,y2:R});return Ze.createElement(bs,{className:Xt("recharts-reference-line",s)},Slt(a,F),fl.renderCallByParent(t,flt({x1:w,y1:C,x2:k,y2:R})))}N6.displayName="ReferenceLine";N6.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function b2(t){"@babel/helpers - typeof";return b2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b2(t)}function QF(){return QF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QF.apply(this,arguments)}function ZX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZX(Object(n),!0).forEach(function(r){Elt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Elt(t,e,n){return e=Tlt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tlt(t){var e=Clt(t,"string");return b2(e)==="symbol"?e:String(e)}function Clt(t,e){if(b2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(b2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Alt=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=D6({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Mh(e,"discard")&&!a.isInRange(s)?null:s};function zE(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,o=t.clipPathId,a=ta(e),s=ta(n);if(y0(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!a||!s)return null;var l=Alt(t);if(!l)return null;var c=l.x,h=l.y,p=t.shape,g=t.className,v=Mh(t,"hidden")?"url(#".concat(o,")"):void 0,x=JX(JX({clipPath:v},ri(t,!0)),{},{cx:c,cy:h});return Ze.createElement(bs,{className:Xt("recharts-reference-dot",g)},zE.renderDot(p,x),fl.renderCallByParent(t,{x:c-r,y:h-r,width:2*r,height:2*r}))}zE.displayName="ReferenceDot";zE.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};zE.renderDot=function(t,e){var n;return Ze.isValidElement(t)?n=Ze.cloneElement(t,e):Kr(t)?n=t(e):n=Ze.createElement(L6,QF({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function w2(t){"@babel/helpers - typeof";return w2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w2(t)}function e4(){return e4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e4.apply(this,arguments)}function QX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QX(Object(n),!0).forEach(function(r){Plt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Plt(t,e,n){return e=Ilt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ilt(t){var e=klt(t,"string");return w2(e)==="symbol"?e:String(e)}function klt(t,e){if(w2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(w2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rlt=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,h=o.xAxis,p=o.yAxis;if(!h||!p)return null;var g=D6({x:h.scale,y:p.scale}),v={x:e?g.x.apply(a,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(l,{position:"start"}):g.y.rangeMin},x={x:n?g.x.apply(s,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(c,{position:"end"}):g.y.rangeMax};return Mh(o,"discard")&&(!g.isInRange(v)||!g.isInRange(x))?null:dce(v,x)};function BE(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,o=t.className,a=t.alwaysShow,s=t.clipPathId;y0(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=ta(e),c=ta(n),h=ta(r),p=ta(i),g=t.shape;if(!l&&!c&&!h&&!p&&!g)return null;var v=Rlt(l,c,h,p,t);if(!v&&!g)return null;var x=Mh(t,"hidden")?"url(#".concat(s,")"):void 0;return Ze.createElement(bs,{className:Xt("recharts-reference-area",o)},BE.renderRect(g,eK(eK({clipPath:x},ri(t,!0)),v)),fl.renderCallByParent(t,v))}BE.displayName="ReferenceArea";BE.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};BE.renderRect=function(t,e){var n;return Ze.isValidElement(t)?n=Ze.cloneElement(t,e):Kr(t)?n=t(e):n=Ze.createElement(O6,e4({},e,{className:"recharts-reference-area-rect"})),n};function hce(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Olt(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return plt(r,n)}function Llt(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function GI(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Dlt(t,e){return hce(t,e+1)}function Nlt(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,h=a,p=function(){var x=r==null?void 0:r[l];if(x===void 0)return{v:hce(r,c)};var _=l,S,w=function(){return S===void 0&&(S=n(x,_)),S},C=x.coordinate,T=l===0||GI(t,C,w,h,s);T||(l=0,h=a,c+=1),T&&(h=C+t*(w()/2+i),l+=c)},g;c<=o.length;)if(g=p(),g)return g.v;return[]}function S2(t){"@babel/helpers - typeof";return S2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S2(t)}function tK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tK(Object(n),!0).forEach(function(r){zlt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zlt(t,e,n){return e=Blt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Blt(t){var e=Flt(t,"string");return S2(e)==="symbol"?e:String(e)}function Flt(t,e){if(S2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(S2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $lt(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(g){var v=o[g],x,_=function(){return x===void 0&&(x=n(v,g)),x};if(g===a-1){var S=t*(v.coordinate+t*_()/2-l);o[g]=v=ul(ul({},v),{},{tickCoord:S>0?v.coordinate-S*t:v.coordinate})}else o[g]=v=ul(ul({},v),{},{tickCoord:v.coordinate});var w=GI(t,v.tickCoord,_,s,l);w&&(l=v.tickCoord-t*(_()/2+i),o[g]=ul(ul({},v),{},{isShow:!0}))},h=a-1;h>=0;h--)c(h);return o}function jlt(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var h=r[s-1],p=n(h,s-1),g=t*(h.coordinate+t*p/2-c);a[s-1]=h=ul(ul({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var v=GI(t,h.tickCoord,function(){return p},l,c);v&&(c=h.tickCoord-t*(p/2+i),a[s-1]=ul(ul({},h),{},{isShow:!0}))}for(var x=o?s-1:s,_=function(C){var T=a[C],k,R=function(){return k===void 0&&(k=n(T,C)),k};if(C===0){var L=t*(T.coordinate-t*R()/2-l);a[C]=T=ul(ul({},T),{},{tickCoord:L<0?T.coordinate-L*t:T.coordinate})}else a[C]=T=ul(ul({},T),{},{tickCoord:T.coordinate});var F=GI(t,T.tickCoord,R,l,c);F&&(l=T.tickCoord+t*(R()/2+i),a[C]=ul(ul({},T),{},{isShow:!0}))},S=0;S<x;S++)_(S);return a}function t4(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(Cn(l)||Bp.isSsr)return Dlt(i,typeof l=="number"&&Cn(l)?l:0);var g=[],v=s==="top"||s==="bottom"?"width":"height",x=h&&v==="width"?YS(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=function(T,k){var R=Kr(c)?c(T.value,k):T.value;return v==="width"?Olt(YS(R,{fontSize:e,letterSpacing:n}),x,p):YS(R,{fontSize:e,letterSpacing:n})[v]},S=i.length>=2?cf(i[1].coordinate-i[0].coordinate):1,w=Llt(o,S,v);return l==="equidistantPreserveStart"?Nlt(S,w,_,i,a):(l==="preserveStart"||l==="preserveStartEnd"?g=jlt(S,w,_,i,a,l==="preserveStartEnd"):g=$lt(S,w,_,i,a),g.filter(function(C){return C.isShow}))}var Ult=["viewBox"],Vlt=["viewBox"],Wlt=["ticks"];function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function nK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ll(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nK(Object(n),!0).forEach(function(r){z6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iN(t,e){if(t==null)return{};var n=Hlt(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hlt(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Glt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pce(r.key),r)}}function qlt(t,e,n){return e&&rK(t.prototype,e),n&&rK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ylt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n4(t,e)}function n4(t,e){return n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n4(t,e)}function Xlt(t){var e=Jlt();return function(){var r=qI(t),i;if(e){var o=qI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Klt(this,i)}}function Klt(t,e){if(e&&(Yb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zlt(t)}function Zlt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jlt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qI(t){return qI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qI(t)}function z6(t,e,n){return e=pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=Qlt(t,"string");return Yb(e)==="symbol"?e:String(e)}function Qlt(t,e){if(Yb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZS=function(t){Ylt(n,t);var e=Xlt(n);function n(r){var i;return Glt(this,n),i=e.call(this,r),i.state={fontSize:"",letterSpacing:""},i}return qlt(n,[{key:"shouldComponentUpdate",value:function(i,o){var a=i.viewBox,s=iN(i,Ult),l=this.props,c=l.viewBox,h=iN(l,Vlt);return!sb(a,c)||!sb(s,h)||!sb(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,a=o.x,s=o.y,l=o.width,c=o.height,h=o.orientation,p=o.tickSize,g=o.mirror,v=o.tickMargin,x,_,S,w,C,T,k=g?-1:1,R=i.tickSize||p,L=Cn(i.tickCoord)?i.tickCoord:i.coordinate;switch(h){case"top":x=_=i.coordinate,w=s+ +!g*c,S=w-k*R,T=S-k*v,C=L;break;case"left":S=w=i.coordinate,_=a+ +!g*l,x=_-k*R,C=x-k*v,T=L;break;case"right":S=w=i.coordinate,_=a+ +g*l,x=_+k*R,C=x+k*v,T=L;break;default:x=_=i.coordinate,w=s+ +g*c,S=w+k*R,T=S+k*v,C=L;break}return{line:{x1:x,y1:S,x2:_,y2:w},tick:{x:C,y:T}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,a=i.mirror,s;switch(o){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,a=i.mirror,s="end";switch(o){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,h=i.mirror,p=i.axisLine,g=Ll(Ll(Ll({},ri(this.props)),ri(p)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!h||c==="bottom"&&h);g=Ll(Ll({},g),{},{x1:o,y1:a+v*l,x2:o+s,y2:a+v*l})}else{var x=+(c==="left"&&!h||c==="right"&&h);g=Ll(Ll({},g),{},{x1:o+x*s,y1:a,x2:o+x*s,y2:a+l})}return Ze.createElement("line",N_({},g,{className:Xt("recharts-cartesian-axis-line",ld(p,"className"))}))}},{key:"renderTicks",value:function(i,o,a){var s=this,l=this.props,c=l.tickLine,h=l.stroke,p=l.tick,g=l.tickFormatter,v=l.unit,x=t4(Ll(Ll({},this.props),{},{ticks:i}),o,a),_=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=ri(this.props),C=ri(p),T=Ll(Ll({},w),{},{fill:"none"},ri(c)),k=x.map(function(R,L){var F=s.getTickLineCoord(R),H=F.line,Z=F.tick,j=Ll(Ll(Ll(Ll({textAnchor:_,verticalAnchor:S},w),{},{stroke:"none",fill:h},C),Z),{},{index:L,payload:R,visibleTicksCount:x.length,tickFormatter:g});return Ze.createElement(bs,N_({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},iI(s.props,R,L)),c&&Ze.createElement("line",N_({},T,H,{className:Xt("recharts-cartesian-axis-tick-line",ld(c,"className"))})),p&&n.renderTickItem(p,j,"".concat(Kr(g)?g(R.value,L):R.value).concat(v||"")))});return Ze.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var i=this,o=this.props,a=o.axisLine,s=o.width,l=o.height,c=o.ticksGenerator,h=o.className,p=o.hide;if(p)return null;var g=this.props,v=g.ticks,x=iN(g,Wlt),_=v;return Kr(c)&&(_=v&&v.length>0?c(this.props):c(x)),s<=0||l<=0||!_||!_.length?null:Ze.createElement(bs,{className:Xt("recharts-cartesian-axis",h),ref:function(w){i.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),fl.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,a){var s;return Ze.isValidElement(i)?s=Ze.cloneElement(i,o):Kr(i)?s=i(o):s=Ze.createElement(wI,N_({},o,{className:"recharts-cartesian-axis-tick-value"}),a),s}}]),n}(V.Component);z6(ZS,"displayName","CartesianAxis");z6(ZS,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ect=["x1","y1","x2","y2","key"],tct=["offset"];function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function r4(){return r4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r4.apply(this,arguments)}function iK(t,e){if(t==null)return{};var n=nct(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nct(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oK(Object(n),!0).forEach(function(r){B6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mce(r.key),r)}}function ict(t,e,n){return e&&sK(t.prototype,e),n&&sK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i4(t,e)}function i4(t,e){return i4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i4(t,e)}function sct(t){var e=cct();return function(){var r=YI(t),i;if(e){var o=YI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return act(this,i)}}function act(t,e){if(e&&(Xb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lct(t)}function lct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function YI(t){return YI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},YI(t)}function B6(t,e,n){return e=mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=uct(t,"string");return Xb(e)==="symbol"?e:String(e)}function uct(t,e){if(Xb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F6=function(t){oct(n,t);var e=sct(n);function n(){return rct(this,n),e.apply(this,arguments)}return ict(n,[{key:"renderHorizontal",value:function(i){var o=this,a=this.props,s=a.x,l=a.width,c=a.horizontal;if(!i||!i.length)return null;var h=i.map(function(p,g){var v=og(og({},o.props),{},{x1:s,y1:p,x2:s+l,y2:p,key:"line-".concat(g),index:g});return n.renderLineItem(c,v)});return Ze.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}},{key:"renderVertical",value:function(i){var o=this,a=this.props,s=a.y,l=a.height,c=a.vertical;if(!i||!i.length)return null;var h=i.map(function(p,g){var v=og(og({},o.props),{},{x1:p,y1:s,x2:p,y2:s+l,key:"line-".concat(g),index:g});return n.renderLineItem(c,v)});return Ze.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}},{key:"renderVerticalStripes",value:function(i){var o=this.props.verticalFill;if(!o||!o.length)return null;var a=this.props,s=a.fillOpacity,l=a.x,c=a.y,h=a.width,p=a.height,g=i.map(function(x){return Math.round(x+l-l)}).sort(function(x,_){return x-_});l!==g[0]&&g.unshift(0);var v=g.map(function(x,_){var S=!g[_+1],w=S?l+h-x:g[_+1]-x;if(w<=0)return null;var C=_%o.length;return Ze.createElement("rect",{key:"react-".concat(_),x,y:c,width:w,height:p,stroke:"none",fill:o[C],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Ze.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}},{key:"renderHorizontalStripes",value:function(i){var o=this.props.horizontalFill;if(!o||!o.length)return null;var a=this.props,s=a.fillOpacity,l=a.x,c=a.y,h=a.width,p=a.height,g=i.map(function(x){return Math.round(x+c-c)}).sort(function(x,_){return x-_});c!==g[0]&&g.unshift(0);var v=g.map(function(x,_){var S=!g[_+1],w=S?c+p-x:g[_+1]-x;if(w<=0)return null;var C=_%o.length;return Ze.createElement("rect",{key:"react-".concat(_),y:x,x:l,height:w,width:h,stroke:"none",fill:o[C],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Ze.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var o=this.props,a=o.fillOpacity,s=o.x,l=o.y,c=o.width,h=o.height;return Ze.createElement("rect",{x:s,y:l,width:c,height:h,stroke:"none",fill:i,fillOpacity:a,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.horizontal,h=i.vertical,p=i.horizontalCoordinatesGenerator,g=i.verticalCoordinatesGenerator,v=i.xAxis,x=i.yAxis,_=i.offset,S=i.chartWidth,w=i.chartHeight,C=i.syncWithTicks,T=i.horizontalValues,k=i.verticalValues;if(!Cn(s)||s<=0||!Cn(l)||l<=0||!Cn(o)||o!==+o||!Cn(a)||a!==+a)return null;var R=this.props,L=R.horizontalPoints,F=R.verticalPoints;if((!L||!L.length)&&Kr(p)){var H=T&&T.length;L=p({yAxis:x?og(og({},x),{},{ticks:H?T:x.ticks}):void 0,width:S,height:w,offset:_},H?!0:C)}if((!F||!F.length)&&Kr(g)){var Z=k&&k.length;F=g({xAxis:v?og(og({},v),{},{ticks:Z?k:v.ticks}):void 0,width:S,height:w,offset:_},Z?!0:C)}return Ze.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),c&&this.renderHorizontal(L),h&&this.renderVertical(F),c&&this.renderHorizontalStripes(L),h&&this.renderVerticalStripes(F))}}],[{key:"renderLineItem",value:function(i,o){var a;if(Ze.isValidElement(i))a=Ze.cloneElement(i,o);else if(Kr(i))a=i(o);else{var s=o.x1,l=o.y1,c=o.x2,h=o.y2,p=o.key,g=iK(o,ect),v=ri(g);v.offset;var x=iK(v,tct);a=Ze.createElement("line",r4({},x,{x1:s,y1:l,x2:c,y2:h,fill:"none",key:p}))}return a}}]),n}(V.PureComponent);B6(F6,"displayName","CartesianGrid");B6(F6,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var dct=["type","layout","connectNulls","ref"];function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function fct(t,e){if(t==null)return{};var n=hct(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hct(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(this,arguments)}function aK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aK(Object(n),!0).forEach(function(r){Jd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bx(t){return yct(t)||gct(t)||mct(t)||pct()}function pct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mct(t,e){if(t){if(typeof t=="string")return o4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o4(t,e)}}function gct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yct(t){if(Array.isArray(t))return o4(t)}function o4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gce(r.key),r)}}function xct(t,e,n){return e&&lK(t.prototype,e),n&&lK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s4(t,e)}function s4(t,e){return s4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s4(t,e)}function bct(t){var e=Sct();return function(){var r=XI(t),i;if(e){var o=XI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return wct(this,i)}}function wct(t,e){if(e&&(Kb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vg(t)}function vg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function XI(t){return XI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},XI(t)}function Jd(t,e,n){return e=gce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=Mct(t,"string");return Kb(e)==="symbol"?e:String(e)}function Mct(t,e){if(Kb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zb=function(t){_ct(n,t);var e=bct(n);function n(){var r;vct(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Jd(vg(r),"state",{isAnimationFinished:!0,totalLength:0}),Jd(vg(r),"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Jd(vg(r),"getStrokeDasharray",function(s,l,c){var h=c.reduce(function(C,T){return C+T});if(!h)return r.generateSimpleStrokeDasharray(l,s);for(var p=Math.floor(s/h),g=s%h,v=l-s,x=[],_=0,S=0;_<c.length;S+=c[_],++_)if(S+c[_]>g){x=[].concat(Bx(c.slice(0,_)),[g-S]);break}var w=x.length%2===0?[0,v]:[v];return[].concat(Bx(n.repeat(c,p)),Bx(x),w).map(function(C){return"".concat(C,"px")}).join(", ")}),Jd(vg(r),"id",IE("recharts-line-")),Jd(vg(r),"pathRef",function(s){r.mainCurve=s}),Jd(vg(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Jd(vg(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return xct(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();i!==this.state.totalLength&&this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,h=a.layout,p=a.children,g=cd(p,NE);if(!g)return null;var v=function(S,w){return{x:S.x,y:S.y,value:S.value,errorVal:vu(S.payload,w)}},x={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Ze.createElement(bs,x,g.map(function(_){return Ze.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:s,xAxis:l,yAxis:c,layout:h,dataPointFormatter:v})}))}},{key:"renderDots",value:function(i,o,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,h=l.points,p=l.dataKey,g=ri(this.props),v=ri(c,!0),x=h.map(function(S,w){var C=Xc(Xc(Xc({key:"dot-".concat(w),r:3},g),v),{},{value:S.value,dataKey:p,cx:S.x,cy:S.y,index:w,payload:S.payload});return n.renderDotItem(c,C)}),_={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(a,")"):null};return Ze.createElement(bs,JS({className:"recharts-line-dots",key:"dots"},_),x)}},{key:"renderCurveStatically",value:function(i,o,a,s){var l=this.props,c=l.type,h=l.layout,p=l.connectNulls;l.ref;var g=fct(l,dct),v=Xc(Xc(Xc({},ri(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(a,")"):null,points:i},s),{},{type:c,layout:h,connectNulls:p});return Ze.createElement(GF,JS({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,h=s.isAnimationActive,p=s.animationBegin,g=s.animationDuration,v=s.animationEasing,x=s.animationId,_=s.animateNewValues,S=s.width,w=s.height,C=this.state,T=C.prevPoints,k=C.totalLength;return Ze.createElement(Kp,{begin:p,duration:g,isActive:h,easing:v,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var L=R.t;if(T){var F=T.length/l.length,H=l.map(function(me,ie){var ce=Math.floor(ie*F);if(T[ce]){var fe=T[ce],xe=nf(fe.x,me.x),te=nf(fe.y,me.y);return Xc(Xc({},me),{},{x:xe(L),y:te(L)})}if(_){var he=nf(S*2,me.x),ve=nf(w/2,me.y);return Xc(Xc({},me),{},{x:he(L),y:ve(L)})}return Xc(Xc({},me),{},{x:me.x,y:me.y})});return a.renderCurveStatically(H,i,o)}var Z=nf(0,k),j=Z(L),X;if(c){var le="".concat(c).split(/[,\s]+/gim).map(function(me){return parseFloat(me)});X=a.getStrokeDasharray(j,k,le)}else X=a.generateSimpleStrokeDasharray(k,j);return a.renderCurveStatically(l,i,o,{strokeDasharray:X})})}},{key:"renderCurve",value:function(i,o){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,h=c.prevPoints,p=c.totalLength;return l&&s&&s.length&&(!h&&p>0||!AO(h,s))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(s,i,o)}},{key:"render",value:function(){var i,o=this.props,a=o.hide,s=o.dot,l=o.points,c=o.className,h=o.xAxis,p=o.yAxis,g=o.top,v=o.left,x=o.width,_=o.height,S=o.isAnimationActive,w=o.id;if(a||!l||!l.length)return null;var C=this.state.isAnimationFinished,T=l.length===1,k=Xt("recharts-line",c),R=h&&h.allowDataOverflow,L=p&&p.allowDataOverflow,F=R||L,H=si(w)?this.id:w,Z=(i=ri(s))!==null&&i!==void 0?i:{r:3,strokeWidth:2},j=Z.r,X=j===void 0?3:j,le=Z.strokeWidth,me=le===void 0?2:le,ie=BVe(s)?s:{},ce=ie.clipDot,fe=ce===void 0?!0:ce,xe=X*2+me;return Ze.createElement(bs,{className:k},R||L?Ze.createElement("defs",null,Ze.createElement("clipPath",{id:"clipPath-".concat(H)},Ze.createElement("rect",{x:R?v:v-x/2,y:L?g:g-_/2,width:R?x:x*2,height:L?_:_*2})),!fe&&Ze.createElement("clipPath",{id:"clipPath-dots-".concat(H)},Ze.createElement("rect",{x:v-xe/2,y:g-xe/2,width:x+xe,height:_+xe}))):null,!T&&this.renderCurve(F,H),this.renderErrorBar(F,H),(T||s)&&this.renderDots(F,fe,H),(!S||C)&&Qg.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var a=i.length%2!==0?[].concat(Bx(i),[0]):i,s=[],l=0;l<o;++l)s=[].concat(Bx(s),Bx(a));return s}},{key:"renderDotItem",value:function(i,o){var a;if(Ze.isValidElement(i))a=Ze.cloneElement(i,o);else if(Kr(i))a=i(o);else{var s=Xt("recharts-line-dot",i?i.className:"");a=Ze.createElement(L6,JS({},o,{className:s}))}return a}}]),n}(V.PureComponent);Jd(Zb,"displayName","Line");Jd(Zb,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Bp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Jd(Zb,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,h=e.layout,p=l.map(function(g,v){var x=vu(g,a);return h==="horizontal"?{x:aX({axis:n,ticks:i,bandSize:s,entry:g,index:v}),y:si(x)?null:r.scale(x),value:x,payload:g}:{x:si(x)?null:n.scale(x),y:aX({axis:r,ticks:o,bandSize:s,entry:g,index:v}),value:x,payload:g}});return Xc({points:p,layout:h},c)});var DO=function(){return null};DO.displayName="XAxis";DO.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var NO=function(){return null};NO.displayName="YAxis";NO.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var Ect=wy,Tct=kE,Cct=yO;function Act(t){return function(e,n,r){var i=Object(e);if(!Tct(e)){var o=Ect(n);e=Cct(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Pct=Act,Ict=oce;function kct(t){var e=Ict(t),n=e%1;return e===e?n?e-n:e:0}var Rct=kct,Oct=Iae,Lct=wy,Dct=Rct,Nct=Math.max;function zct(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Dct(n);return i<0&&(i=Nct(r+i,0)),Oct(t,Lct(e),i)}var Bct=zct,Fct=Pct,$ct=Bct,jct=Fct($ct),Uct=jct;const Vct=bi(Uct);var Wct="Invariant failed";function Hct(t,e){if(!t)throw new Error(Wct)}function yce(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Na(e,n,r,i),s=Na(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function cK(t){return Xct(t)||Yct(t)||qct(t)||Gct()}function Gct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qct(t,e){if(t){if(typeof t=="string")return a4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a4(t,e)}}function Yct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xct(t){if(Array.isArray(t))return a4(t)}function a4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l4=function(e,n,r,i,o){var a=cd(e,N6),s=cd(e,zE),l=[].concat(cK(a),cK(s)),c=cd(e,BE),h="".concat(i,"Id"),p=i[0],g=n;if(l.length&&(g=l.reduce(function(_,S){if(S.props[h]===r&&Mh(S.props,"extendDomain")&&Cn(S.props[p])){var w=S.props[p];return[Math.min(_[0],w),Math.max(_[1],w)]}return _},g)),c.length){var v="".concat(p,"1"),x="".concat(p,"2");g=c.reduce(function(_,S){if(S.props[h]===r&&Mh(S.props,"extendDomain")&&Cn(S.props[v])&&Cn(S.props[x])){var w=S.props[v],C=S.props[x];return[Math.min(_[0],w,C),Math.max(_[1],w,C)]}return _},g)}return o&&o.length&&(g=o.reduce(function(_,S){return Cn(S)?[Math.min(_[0],S),Math.max(_[1],S)]:_},g)),g},vce={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function o(l,c,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,p||l,g),x=n?n+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],v]:l._events[x].push(v):(l._events[x]=v,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],h,p;if(this._eventsCount===0)return c;for(p in h=this._events)e.call(h,p)&&c.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},s.prototype.listeners=function(c){var h=n?n+c:c,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,x=new Array(v);g<v;g++)x[g]=p[g].fn;return x},s.prototype.listenerCount=function(c){var h=n?n+c:c,p=this._events[h];return p?p.fn?1:p.length:0},s.prototype.emit=function(c,h,p,g,v,x){var _=n?n+c:c;if(!this._events[_])return!1;var S=this._events[_],w=arguments.length,C,T;if(S.fn){switch(S.once&&this.removeListener(c,S.fn,void 0,!0),w){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,g),!0;case 5:return S.fn.call(S.context,h,p,g,v),!0;case 6:return S.fn.call(S.context,h,p,g,v,x),!0}for(T=1,C=new Array(w-1);T<w;T++)C[T-1]=arguments[T];S.fn.apply(S.context,C)}else{var k=S.length,R;for(T=0;T<k;T++)switch(S[T].once&&this.removeListener(c,S[T].fn,void 0,!0),w){case 1:S[T].fn.call(S[T].context);break;case 2:S[T].fn.call(S[T].context,h);break;case 3:S[T].fn.call(S[T].context,h,p);break;case 4:S[T].fn.call(S[T].context,h,p,g);break;default:if(!C)for(R=1,C=new Array(w-1);R<w;R++)C[R-1]=arguments[R];S[T].fn.apply(S[T].context,C)}}return!0},s.prototype.on=function(c,h,p){return o(this,c,h,p,!1)},s.prototype.once=function(c,h,p){return o(this,c,h,p,!0)},s.prototype.removeListener=function(c,h,p,g){var v=n?n+c:c;if(!this._events[v])return this;if(!h)return a(this,v),this;var x=this._events[v];if(x.fn)x.fn===h&&(!g||x.once)&&(!p||x.context===p)&&a(this,v);else{for(var _=0,S=[],w=x.length;_<w;_++)(x[_].fn!==h||g&&!x[_].once||p&&x[_].context!==p)&&S.push(x[_]);S.length?this._events[v]=S.length===1?S[0]:S:a(this,v)}return this},s.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(vce);var Kct=vce.exports;const Zct=bi(Kct);var oN=new Zct,sN="recharts.syncMouseEvents";function M2(t){"@babel/helpers - typeof";return M2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M2(t)}function Jct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xce(r.key),r)}}function Qct(t,e,n){return e&&uK(t.prototype,e),n&&uK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aN(t,e,n){return e=xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=eut(t,"string");return M2(e)==="symbol"?e:String(e)}function eut(t,e){if(M2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(M2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tut=function(){function t(){Jct(this,t),aN(this,"activeIndex",0),aN(this,"coordinateList",[]),aN(this,"layout","horizontal")}return Qct(t,[{key:"setDetails",value:function(n){var r=n.coordinateList,i=r===void 0?[]:r,o=n.container,a=o===void 0?null:o,s=n.layout,l=s===void 0?null:s,c=n.offset,h=c===void 0?null:c,p=n.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=i??this.coordinateList,this.container=a??this.container,this.layout=l??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=o+l+c,g=a+this.offset.top+s/2+h;this.mouseHandlerCallback({pageX:p,pageY:g})}}}]),t}();function nut(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Cn(r)&&Cn(i))return!0}return!1}function rut(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,h=e.outerRadius,p=e.angle,g=Na(s,l,c,p),v=Na(s,l,h,p);r=g.x,i=g.y,o=v.x,a=v.y}else return yce(e);return[{x:r,y:i},{x:o,y:a}]}function iut(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}var out=["item"],sut=["children","className","width","height","style","compact","title","desc"];function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function dK(t,e){return cut(t)||lut(t,e)||_ce(t,e)||aut()}function aut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lut(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function cut(t){if(Array.isArray(t))return t}function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(this,arguments)}function fK(t,e){if(t==null)return{};var n=uut(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uut(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bce(r.key),r)}}function fut(t,e,n){return e&&hK(t.prototype,e),n&&hK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c4(t,e)}function c4(t,e){return c4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c4(t,e)}function put(t){var e=gut();return function(){var r=KI(t),i;if(e){var o=KI(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mut(this,i)}}function mut(t,e){if(e&&(Jb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vr(t)}function Vr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function KI(t){return KI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},KI(t)}function Qb(t){return xut(t)||vut(t)||_ce(t)||yut()}function yut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ce(t,e){if(t){if(typeof t=="string")return u4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u4(t,e)}}function vut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xut(t){if(Array.isArray(t))return u4(t)}function u4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pK(Object(n),!0).forEach(function(r){pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pr(t,e,n){return e=bce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bce(t){var e=_ut(t,"string");return Jb(e)==="symbol"?e:String(e)}function _ut(t,e){if(Jb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var but={xAxis:["bottom","top"],yAxis:["left","right"]},wut={width:"100%",height:"100%"},wce={x:0,y:0},Sut=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Mut=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return Qt(Qt(Qt({},i),Na(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return Qt(Qt(Qt({},i),Na(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return wce},zO=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Qb(s),Qb(c)):s},[]);return a.length>0?a:e&&e.length&&Cn(i)&&Cn(o)?e.slice(i,o+1):[]};function Sce(t){return t==="number"?[0,"auto"]:void 0}var Mce=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=zO(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var h,p=c.props.hide;if(p)return l;var g=(h=c.props.data)!==null&&h!==void 0?h:n;g&&e.dataStartIndex+e.dataEndIndex!==0&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(a.dataKey&&!a.allowDuplicatedCategory){var x=g===void 0?s:g;v=nI(x,a.dataKey,i)}else v=g&&g[r]||s[r];return v?[].concat(Qb(l),[ece(c,v)]):l},[])},mK=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Sut(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,h=uit(a,s,c,l);if(h>=0&&c){var p=c[h]&&c[h].value,g=Mce(e,n,h,p),v=Mut(r,s,h,o);return{activeTooltipIndex:h,activeLabel:p,activePayload:g,activeCoordinate:v}}return null},Eut=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,p=e.children,g=e.stackOffset,v=Jle(h,o);return r.reduce(function(x,_){var S,w=_.props,C=w.type,T=w.dataKey,k=w.allowDataOverflow,R=w.allowDuplicatedCategory,L=w.scale,F=w.ticks,H=w.includeHidden,Z=_.props[a];if(x[Z])return x;var j=zO(e.data,{graphicalItems:i.filter(function(Ue){return Ue.props[a]===Z}),dataStartIndex:l,dataEndIndex:c}),X=j.length,le,me,ie;nut(_.props.domain,k,C)&&(le=jF(_.props.domain,null,k),v&&(C==="number"||L!=="auto")&&(ie=KS(j,T,"category")));var ce=Sce(C);if(!le||le.length===0){var fe,xe=(fe=_.props.domain)!==null&&fe!==void 0?fe:ce;if(T){if(le=KS(j,T,C),C==="category"&&v){var te=PVe(le);R&&te?(me=le,le=jI(0,X)):R||(le=dX(xe,le,_).reduce(function(Ue,rt){return Ue.indexOf(rt)>=0?Ue:[].concat(Qb(Ue),[rt])},[]))}else if(C==="category")R?le=le.filter(function(Ue){return Ue!==""&&!si(Ue)}):le=dX(xe,le,_).reduce(function(Ue,rt){return Ue.indexOf(rt)>=0||rt===""||si(rt)?Ue:[].concat(Qb(Ue),[rt])},[]);else if(C==="number"){var he=mit(j,i.filter(function(Ue){return Ue.props[a]===Z&&(H||!Ue.props.hide)}),T,o,h);he&&(le=he)}v&&(C==="number"||L!=="auto")&&(ie=KS(j,T,"category"))}else v?le=jI(0,X):s&&s[Z]&&s[Z].hasStack&&C==="number"?le=g==="expand"?[0,1]:Qle(s[Z].stackGroups,l,c):le=Zle(j,i.filter(function(Ue){return Ue.props[a]===Z&&(H||!Ue.props.hide)}),C,h,!0);if(C==="number")le=l4(p,le,Z,o,F),xe&&(le=jF(xe,le,k));else if(C==="category"&&xe){var ve=xe,ze=le.every(function(Ue){return ve.indexOf(Ue)>=0});ze&&(le=ve)}}return Qt(Qt({},x),{},pr({},Z,Qt(Qt({},_.props),{},{axisType:o,domain:le,categoricalDomain:ie,duplicateDomain:me,originalDomain:(S=_.props.domain)!==null&&S!==void 0?S:ce,isCategorical:v,layout:h})))},{})},Tut=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,p=e.children,g=zO(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),v=g.length,x=Jle(h,o),_=-1;return r.reduce(function(S,w){var C=w.props[a],T=Sce("number");if(!S[C]){_++;var k;return x?k=jI(0,v):s&&s[C]&&s[C].hasStack?(k=Qle(s[C].stackGroups,l,c),k=l4(p,k,C,o)):(k=jF(T,Zle(g,r.filter(function(R){return R.props[a]===C&&!R.props.hide}),"number",h),i.defaultProps.allowDataOverflow),k=l4(p,k,C,o)),Qt(Qt({},S),{},pr({},C,Qt(Qt({axisType:o},i.defaultProps),{},{hide:!0,orientation:ld(but,"".concat(o,".").concat(_%2),null),domain:k,originalDomain:T,isCategorical:x,layout:h})))}return S},{})},Cut=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.children,p="".concat(i,"Id"),g=cd(h,o),v={};return g&&g.length?v=Eut(e,{axes:g,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(v=Tut(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),v},Aut=function(e){var n=gg(e),r=yg(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:s6(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:DI(n,r)}},gK=function(e){var n=e.children,r=e.defaultShowTooltip,i=Pp(n,y2),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Put=function(e){return!e||!e.length?!1:e.some(function(n){var r=zp(n&&n.type);return r&&r.indexOf("Bar")>=0})},yK=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Iut=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,h=r.height,p=r.children,g=r.margin||{},v=Pp(p,y2),x=Pp(p,Bb),_=Object.keys(l).reduce(function(R,L){var F=l[L],H=F.orientation;return!F.mirror&&!F.hide?Qt(Qt({},R),{},pr({},H,R[H]+F.width)):R},{left:g.left||0,right:g.right||0}),S=Object.keys(a).reduce(function(R,L){var F=a[L],H=F.orientation;return!F.mirror&&!F.hide?Qt(Qt({},R),{},pr({},H,ld(R,"".concat(H))+F.height)):R},{top:g.top||0,bottom:g.bottom||0}),w=Qt(Qt({},S),_),C=w.bottom;v&&(w.bottom+=v.props.height||y2.defaultProps.height),x&&n&&(w=hit(w,i,r,n));var T=c-w.left-w.right,k=h-w.top-w.bottom;return Qt(Qt({brushBottom:C},w),{},{width:Math.max(T,0),height:Math.max(k,0)})},kut=function(e){var n,r=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,a=o===void 0?"axis":o,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,g=e.defaultProps,v=function(S,w){var C=w.graphicalItems,T=w.stackGroups,k=w.offset,R=w.updateId,L=w.dataStartIndex,F=w.dataEndIndex,H=S.barSize,Z=S.layout,j=S.barGap,X=S.barCategoryGap,le=S.maxBarSize,me=yK(Z),ie=me.numericAxisName,ce=me.cateAxisName,fe=Put(C),xe=fe&&dit({barSize:H,stackGroups:T}),te=[];return C.forEach(function(he,ve){var ze=zO(S.data,{graphicalItems:[he],dataStartIndex:L,dataEndIndex:F}),Ue=he.props,rt=Ue.dataKey,Fe=Ue.maxBarSize,st=he.props["".concat(ie,"Id")],ct=he.props["".concat(ce,"Id")],Dt={},zt=c.reduce(function(Ce,_e){var ht,dt=w["".concat(_e.axisType,"Map")],Wt=he.props["".concat(_e.axisType,"Id")];dt&&dt[Wt]||_e.axisType==="zAxis"||Hct(!1);var jt=dt[Wt];return Qt(Qt({},Ce),{},(ht={},pr(ht,_e.axisType,jt),pr(ht,"".concat(_e.axisType,"Ticks"),yg(jt)),ht))},Dt),Be=zt[ce],lt=zt["".concat(ce,"Ticks")],Qe=T&&T[st]&&T[st].hasStack&&Cit(he,T[st].stackGroups),ge=zp(he.type).indexOf("Bar")>=0,et=DI(Be,lt),ot=[];if(ge){var Tt,Ct,Ft=si(Fe)?le:Fe,Gt=(Tt=(Ct=DI(Be,lt,!0))!==null&&Ct!==void 0?Ct:Ft)!==null&&Tt!==void 0?Tt:0;ot=fit({barGap:j,barCategoryGap:X,bandSize:Gt!==et?Gt:et,sizeList:xe[ct],maxBarSize:Ft}),Gt!==et&&(ot=ot.map(function(Ce){return Qt(Qt({},Ce),{},{position:Qt(Qt({},Ce.position),{},{offset:Ce.position.offset-Gt/2})})}))}var sn=he&&he.type&&he.type.getComposedData;if(sn){var Je;te.push({props:Qt(Qt({},sn(Qt(Qt({},zt),{},{displayedData:ze,props:S,dataKey:rt,item:he,bandSize:et,barPosition:ot,offset:k,stackedData:Qe,layout:Z,dataStartIndex:L,dataEndIndex:F}))),{},(Je={key:he.key||"item-".concat(ve)},pr(Je,ie,zt[ie]),pr(Je,ce,zt[ce]),pr(Je,"animationId",R),Je)),childIndex:jVe(he,S.children),item:he})}}),te},x=function(S,w){var C=S.props,T=S.dataStartIndex,k=S.dataEndIndex,R=S.updateId;if(!D7({props:C}))return null;var L=C.children,F=C.layout,H=C.stackOffset,Z=C.data,j=C.reverseStackOrder,X=yK(F),le=X.numericAxisName,me=X.cateAxisName,ie=cd(L,i),ce=Mit(Z,ie,"".concat(le,"Id"),"".concat(me,"Id"),H,j),fe=c.reduce(function(ze,Ue){var rt="".concat(Ue.axisType,"Map");return Qt(Qt({},ze),{},pr({},rt,Cut(C,Qt(Qt({},Ue),{},{graphicalItems:ie,stackGroups:Ue.axisType===le&&ce,dataStartIndex:T,dataEndIndex:k}))))},{}),xe=Iut(Qt(Qt({},fe),{},{props:C,graphicalItems:ie}),w==null?void 0:w.legendBBox);Object.keys(fe).forEach(function(ze){fe[ze]=p(C,fe[ze],xe,ze.replace("Map",""),r)});var te=fe["".concat(me,"Map")],he=Aut(te),ve=v(C,Qt(Qt({},fe),{},{dataStartIndex:T,dataEndIndex:k,updateId:R,graphicalItems:ie,stackGroups:ce,offset:xe}));return Qt(Qt({formattedGraphicalItems:ve,graphicalItems:ie,offset:xe,stackGroups:ce},he),fe)};return n=function(_){hut(w,_);var S=put(w);function w(C){var T,k,R;return dut(this,w),R=S.call(this,C),pr(Vr(R),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pr(Vr(R),"accessibilityManager",new tut),pr(Vr(R),"handleLegendBBoxUpdate",function(L){if(L){var F=R.state,H=F.dataStartIndex,Z=F.dataEndIndex,j=F.updateId;R.setState(Qt({legendBBox:L},x({props:R.props,dataStartIndex:H,dataEndIndex:Z,updateId:j},Qt(Qt({},R.state),{},{legendBBox:L}))))}}),pr(Vr(R),"handleReceiveSyncEvent",function(L,F,H){if(R.props.syncId===L){if(H===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(F)}}),pr(Vr(R),"handleBrushChange",function(L){var F=L.startIndex,H=L.endIndex;if(F!==R.state.dataStartIndex||H!==R.state.dataEndIndex){var Z=R.state.updateId;R.setState(function(){return Qt({dataStartIndex:F,dataEndIndex:H},x({props:R.props,dataStartIndex:F,dataEndIndex:H,updateId:Z},R.state))}),R.triggerSyncEvent({dataStartIndex:F,dataEndIndex:H})}}),pr(Vr(R),"handleMouseEnter",function(L){var F=R.getMouseInfo(L);if(F){var H=Qt(Qt({},F),{},{isTooltipActive:!0});R.setState(H),R.triggerSyncEvent(H);var Z=R.props.onMouseEnter;Kr(Z)&&Z(H,L)}}),pr(Vr(R),"triggeredAfterMouseMove",function(L){var F=R.getMouseInfo(L),H=F?Qt(Qt({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState(H),R.triggerSyncEvent(H);var Z=R.props.onMouseMove;Kr(Z)&&Z(H,L)}),pr(Vr(R),"handleItemMouseEnter",function(L){R.setState(function(){return{isTooltipActive:!0,activeItem:L,activePayload:L.tooltipPayload,activeCoordinate:L.tooltipPosition||{x:L.cx,y:L.cy}}})}),pr(Vr(R),"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),pr(Vr(R),"handleMouseMove",function(L){L.persist(),R.throttleTriggeredAfterMouseMove(L)}),pr(Vr(R),"handleMouseLeave",function(L){var F={isTooltipActive:!1};R.setState(F),R.triggerSyncEvent(F);var H=R.props.onMouseLeave;Kr(H)&&H(F,L)}),pr(Vr(R),"handleOuterEvent",function(L){var F=$Ve(L),H=ld(R.props,"".concat(F));if(F&&Kr(H)){var Z,j;/.*touch.*/i.test(F)?j=R.getMouseInfo(L.changedTouches[0]):j=R.getMouseInfo(L),H((Z=j)!==null&&Z!==void 0?Z:{},L)}}),pr(Vr(R),"handleClick",function(L){var F=R.getMouseInfo(L);if(F){var H=Qt(Qt({},F),{},{isTooltipActive:!0});R.setState(H),R.triggerSyncEvent(H);var Z=R.props.onClick;Kr(Z)&&Z(H,L)}}),pr(Vr(R),"handleMouseDown",function(L){var F=R.props.onMouseDown;if(Kr(F)){var H=R.getMouseInfo(L);F(H,L)}}),pr(Vr(R),"handleMouseUp",function(L){var F=R.props.onMouseUp;if(Kr(F)){var H=R.getMouseInfo(L);F(H,L)}}),pr(Vr(R),"handleTouchMove",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(L.changedTouches[0])}),pr(Vr(R),"handleTouchStart",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&R.handleMouseDown(L.changedTouches[0])}),pr(Vr(R),"handleTouchEnd",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&R.handleMouseUp(L.changedTouches[0])}),pr(Vr(R),"triggerSyncEvent",function(L){R.props.syncId!==void 0&&oN.emit(sN,R.props.syncId,L,R.eventEmitterSymbol)}),pr(Vr(R),"applySyncEvent",function(L){var F=R.props,H=F.layout,Z=F.syncMethod,j=R.state.updateId,X=L.dataStartIndex,le=L.dataEndIndex;if(L.dataStartIndex!==void 0||L.dataEndIndex!==void 0)R.setState(Qt({dataStartIndex:X,dataEndIndex:le},x({props:R.props,dataStartIndex:X,dataEndIndex:le,updateId:j},R.state)));else if(L.activeTooltipIndex!==void 0){var me=L.chartX,ie=L.chartY,ce=L.activeTooltipIndex,fe=R.state,xe=fe.offset,te=fe.tooltipTicks;if(!xe)return;if(typeof Z=="function")ce=Z(te,L);else if(Z==="value"){ce=-1;for(var he=0;he<te.length;he++)if(te[he].value===L.activeLabel){ce=he;break}}var ve=Qt(Qt({},xe),{},{x:xe.left,y:xe.top}),ze=Math.min(me,ve.x+ve.width),Ue=Math.min(ie,ve.y+ve.height),rt=te[ce]&&te[ce].value,Fe=Mce(R.state,R.props.data,ce),st=te[ce]?{x:H==="horizontal"?te[ce].coordinate:ze,y:H==="horizontal"?Ue:te[ce].coordinate}:wce;R.setState(Qt(Qt({},L),{},{activeLabel:rt,activeCoordinate:st,activePayload:Fe,activeTooltipIndex:ce}))}else R.setState(L)}),pr(Vr(R),"verticalCoordinatesGenerator",function(L,F){var H=L.xAxis,Z=L.width,j=L.height,X=L.offset;return oX(t4(Qt(Qt(Qt({},ZS.defaultProps),H),{},{ticks:yg(H,!0),viewBox:{x:0,y:0,width:Z,height:j}})),X.left,X.left+X.width,F)}),pr(Vr(R),"horizontalCoordinatesGenerator",function(L,F){var H=L.yAxis,Z=L.width,j=L.height,X=L.offset;return oX(t4(Qt(Qt(Qt({},ZS.defaultProps),H),{},{ticks:yg(H,!0),viewBox:{x:0,y:0,width:Z,height:j}})),X.top,X.top+X.height,F)}),pr(Vr(R),"axesTicksGenerator",function(L){return yg(L,!0)}),pr(Vr(R),"renderCursor",function(L){var F,H=R.state,Z=H.isTooltipActive,j=H.activeCoordinate,X=H.activePayload,le=H.offset,me=H.activeTooltipIndex,ie=H.tooltipAxisBandSize,ce=R.getTooltipEventType(),fe=(F=L.props.active)!==null&&F!==void 0?F:Z;if(!L||!L.props.cursor||!fe||!j||r!=="ScatterChart"&&ce!=="axis")return null;var xe=R.props.layout,te,he=GF;if(r==="ScatterChart")te=j,he=Yot;else if(r==="BarChart")te=iut(xe,j,le,ie),he=O6;else if(xe==="radial"){var ve=yce(j),ze=ve.cx,Ue=ve.cy,rt=ve.radius,Fe=ve.startAngle,st=ve.endAngle;te={cx:ze,cy:Ue,startAngle:Fe,endAngle:st,innerRadius:rt,outerRadius:rt},he=rce}else te={points:rut(xe,j,le)},he=GF;var ct=L.key||"_recharts-cursor",Dt=Qt(Qt(Qt(Qt({stroke:"#ccc",pointerEvents:"none"},le),te),ri(L.props.cursor)),{},{payload:X,payloadIndex:me,key:ct,className:"recharts-tooltip-cursor"});return V.isValidElement(L.props.cursor)?V.cloneElement(L.props.cursor,Dt):V.createElement(he,Dt)}),pr(Vr(R),"renderPolarAxis",function(L,F,H){var Z=ld(L,"type.axisType"),j=ld(R.state,"".concat(Z,"Map")),X=j&&j[L.props["".concat(Z,"Id")]];return V.cloneElement(L,Qt(Qt({},X),{},{className:Z,key:L.key||"".concat(F,"-").concat(H),ticks:yg(X,!0)}))}),pr(Vr(R),"renderXAxis",function(L,F,H){var Z=R.state.xAxisMap,j=Z[L.props.xAxisId];return R.renderAxis(j,L,F,H)}),pr(Vr(R),"renderYAxis",function(L,F,H){var Z=R.state.yAxisMap,j=Z[L.props.yAxisId];return R.renderAxis(j,L,F,H)}),pr(Vr(R),"renderGrid",function(L){var F=R.state,H=F.xAxisMap,Z=F.yAxisMap,j=F.offset,X=R.props,le=X.width,me=X.height,ie=gg(H),ce=Vct(Z,function(te){return lce(te.domain,Number.isFinite)}),fe=ce||gg(Z),xe=L.props||{};return V.cloneElement(L,{key:L.key||"grid",x:Cn(xe.x)?xe.x:j.left,y:Cn(xe.y)?xe.y:j.top,width:Cn(xe.width)?xe.width:j.width,height:Cn(xe.height)?xe.height:j.height,xAxis:ie,yAxis:fe,offset:j,chartWidth:le,chartHeight:me,verticalCoordinatesGenerator:xe.verticalCoordinatesGenerator||R.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:xe.horizontalCoordinatesGenerator||R.horizontalCoordinatesGenerator})}),pr(Vr(R),"renderPolarGrid",function(L){var F=L.props,H=F.radialLines,Z=F.polarAngles,j=F.polarRadius,X=R.state,le=X.radiusAxisMap,me=X.angleAxisMap,ie=gg(le),ce=gg(me),fe=ce.cx,xe=ce.cy,te=ce.innerRadius,he=ce.outerRadius;return V.cloneElement(L,{polarAngles:Array.isArray(Z)?Z:yg(ce,!0).map(function(ve){return ve.coordinate}),polarRadius:Array.isArray(j)?j:yg(ie,!0).map(function(ve){return ve.coordinate}),cx:fe,cy:xe,innerRadius:te,outerRadius:he,key:L.key||"polar-grid",radialLines:H})}),pr(Vr(R),"renderLegend",function(){var L=R.state.formattedGraphicalItems,F=R.props,H=F.children,Z=F.width,j=F.height,X=R.props.margin||{},le=Z-(X.left||0)-(X.right||0),me=Xle({children:H,formattedGraphicalItems:L,legendWidth:le,legendContent:h});if(!me)return null;var ie=me.item,ce=fK(me,out);return V.cloneElement(ie,Qt(Qt({},ce),{},{chartWidth:Z,chartHeight:j,margin:X,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),pr(Vr(R),"renderTooltip",function(){var L,F=R.props.children,H=Pp(F,n0);if(!H)return null;var Z=R.state,j=Z.isTooltipActive,X=Z.activeCoordinate,le=Z.activePayload,me=Z.activeLabel,ie=Z.offset,ce=(L=H.props.active)!==null&&L!==void 0?L:j;return V.cloneElement(H,{viewBox:Qt(Qt({},ie),{},{x:ie.left,y:ie.top}),active:ce,label:me,payload:ce?le:[],coordinate:X})}),pr(Vr(R),"renderBrush",function(L){var F=R.props,H=F.margin,Z=F.data,j=R.state,X=j.offset,le=j.dataStartIndex,me=j.dataEndIndex,ie=j.updateId;return V.cloneElement(L,{key:L.key||"_recharts-brush",onChange:pC(R.handleBrushChange,L.props.onChange),data:Z,x:Cn(L.props.x)?L.props.x:X.left,y:Cn(L.props.y)?L.props.y:X.top+X.height+X.brushBottom-(H.bottom||0),width:Cn(L.props.width)?L.props.width:X.width,startIndex:le,endIndex:me,updateId:"brush-".concat(ie)})}),pr(Vr(R),"renderReferenceElement",function(L,F,H){if(!L)return null;var Z=Vr(R),j=Z.clipPathId,X=R.state,le=X.xAxisMap,me=X.yAxisMap,ie=X.offset,ce=L.props,fe=ce.xAxisId,xe=ce.yAxisId;return V.cloneElement(L,{key:L.key||"".concat(F,"-").concat(H),xAxis:le[fe],yAxis:me[xe],viewBox:{x:ie.left,y:ie.top,width:ie.width,height:ie.height},clipPathId:j})}),pr(Vr(R),"renderActivePoints",function(L){var F=L.item,H=L.activePoint,Z=L.basePoint,j=L.childIndex,X=L.isRange,le=[],me=F.props.key,ie=F.item.props,ce=ie.activeDot,fe=ie.dataKey,xe=Qt(Qt({index:j,dataKey:fe,cx:H.x,cy:H.y,r:4,fill:R6(F.item),strokeWidth:2,stroke:"#fff",payload:H.payload,value:H.value,key:"".concat(me,"-activePoint-").concat(j)},ri(ce)),rI(ce));return le.push(w.renderActiveDot(ce,xe)),Z?le.push(w.renderActiveDot(ce,Qt(Qt({},xe),{},{cx:Z.x,cy:Z.y,key:"".concat(me,"-basePoint-").concat(j)}))):X&&le.push(null),le}),pr(Vr(R),"renderGraphicChild",function(L,F,H){var Z=R.filterFormatItem(L,F,H);if(!Z)return null;var j=R.getTooltipEventType(),X=R.state,le=X.isTooltipActive,me=X.tooltipAxis,ie=X.activeTooltipIndex,ce=X.activeLabel,fe=R.props.children,xe=Pp(fe,n0),te=Z.props,he=te.points,ve=te.isRange,ze=te.baseLine,Ue=Z.item.props,rt=Ue.activeDot,Fe=Ue.hide,st=Ue.activeBar,ct=Ue.activeShape,Dt=!!(!Fe&&le&&xe&&(rt||st||ct)),zt={};j!=="axis"&&xe&&xe.props.trigger==="click"?zt={onClick:pC(R.handleItemMouseEnter,L.props.onClick)}:j!=="axis"&&(zt={onMouseLeave:pC(R.handleItemMouseLeave,L.props.onMouseLeave),onMouseEnter:pC(R.handleItemMouseEnter,L.props.onMouseEnter)});var Be=V.cloneElement(L,Qt(Qt({},Z.props),zt));function lt(_e){return typeof me.dataKey=="function"?me.dataKey(_e.payload):null}if(Dt)if(ie>=0){var Qe,ge;if(me.dataKey&&!me.allowDuplicatedCategory){var et=typeof me.dataKey=="function"?lt:"payload.".concat(me.dataKey.toString());Qe=nI(he,et,ce),ge=ve&&ze&&nI(ze,et,ce)}else Qe=he==null?void 0:he[ie],ge=ve&&ze&&ze[ie];if(ct||st){var ot=L.props.activeIndex!==void 0?L.props.activeIndex:ie;return[V.cloneElement(L,Qt(Qt(Qt({},Z.props),zt),{},{activeIndex:ot})),null,null]}if(!si(Qe))return[Be].concat(Qb(R.renderActivePoints({item:Z,activePoint:Qe,basePoint:ge,childIndex:ie,isRange:ve})))}else{var Tt,Ct=(Tt=R.getItemByXY(R.state.activeCoordinate))!==null&&Tt!==void 0?Tt:{graphicalItem:Be},Ft=Ct.graphicalItem,Gt=Ft.item,sn=Gt===void 0?L:Gt,Je=Ft.childIndex,Ce=Qt(Qt(Qt({},Z.props),zt),{},{activeIndex:Je});return[V.cloneElement(sn,Ce),null,null]}return ve?[Be,null,null]:[Be,null]}),pr(Vr(R),"renderCustomized",function(L,F,H){return V.cloneElement(L,Qt(Qt({key:"recharts-customized-".concat(H)},R.props),R.state))}),pr(Vr(R),"renderMap",{CartesianGrid:{handler:R.renderGrid,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:R.renderReferenceElement},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:R.renderXAxis},YAxis:{handler:R.renderYAxis},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((T=C.id)!==null&&T!==void 0?T:IE("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=Xae(R.triggeredAfterMouseMove,(k=C.throttleDelay)!==null&&k!==void 0?k:1e3/60),R.state={},R}return fut(w,[{key:"componentDidMount",value:function(){var T,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(T,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var R,L;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0}})}return null}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Pp(this.props.children,n0);if(T&&typeof T.props.shared=="boolean"){var k=T.props.shared?"axis":"item";return l.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var k=this.container,R=k.getBoundingClientRect(),L=DQe(R),F={chartX:Math.round(T.pageX-L.left),chartY:Math.round(T.pageY-L.top)},H=R.width/k.offsetWidth||1,Z=this.inRange(F.chartX,F.chartY,H);if(!Z)return null;var j=this.state,X=j.xAxisMap,le=j.yAxisMap,me=this.getTooltipEventType();if(me!=="axis"&&X&&le){var ie=gg(X).scale,ce=gg(le).scale,fe=ie&&ie.invert?ie.invert(F.chartX):null,xe=ce&&ce.invert?ce.invert(F.chartY):null;return Qt(Qt({},F),{},{xValue:fe,yValue:xe})}var te=mK(this.state,this.props.data,this.props.layout,Z);return te?Qt(Qt({},F),te):null}},{key:"inRange",value:function(T,k){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=this.props.layout,F=T/R,H=k/R;if(L==="horizontal"||L==="vertical"){var Z=this.state.offset,j=F>=Z.left&&F<=Z.left+Z.width&&H>=Z.top&&H<=Z.top+Z.height;return j?{x:F,y:H}:null}var X=this.state,le=X.angleAxisMap,me=X.radiusAxisMap;if(le&&me){var ie=gg(le);return pX({x:F,y:H},ie)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,k=this.getTooltipEventType(),R=Pp(T,n0),L={};R&&k==="axis"&&(R.props.trigger==="click"?L={onClick:this.handleClick}:L={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var F=rI(this.props,this.handleOuterEvent);return Qt(Qt({},F),L)}},{key:"addListener",value:function(){oN.on(sN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){oN.removeListener(sN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,k,R){for(var L=this.state.formattedGraphicalItems,F=0,H=L.length;F<H;F++){var Z=L[F];if(Z.item===T||Z.props.key===T.key||k===zp(Z.item.type)&&R===Z.childIndex)return Z}return null}},{key:"renderAxis",value:function(T,k,R,L){var F=this.props,H=F.width,Z=F.height;return Ze.createElement(ZS,z_({},T,{className:Xt("recharts-".concat(T.axisType," ").concat(T.axisType),T.className),key:k.key||"".concat(R,"-").concat(L),viewBox:{x:0,y:0,width:H,height:Z},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var T=this.clipPathId,k=this.state.offset,R=k.left,L=k.top,F=k.height,H=k.width;return Ze.createElement("defs",null,Ze.createElement("clipPath",{id:T},Ze.createElement("rect",{x:R,y:L,height:F,width:H})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(k,R){var L=dK(R,2),F=L[0],H=L[1];return Qt(Qt({},k),{},pr({},F,H.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(k,R){var L=dK(R,2),F=L[0],H=L[1];return Qt(Qt({},k),{},pr({},F,H.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[T])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(T){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[T])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(T){var k=this.state,R=k.formattedGraphicalItems,L=k.activeItem;if(R&&R.length)for(var F=0,H=R.length;F<H;F++){var Z=R[F],j=Z.props,X=Z.item,le=zp(X.type);if(le==="Bar"){var me=(j.data||[]).find(function(xe){return Bot(T,xe)});if(me)return{graphicalItem:Z,payload:me}}else if(le==="RadialBar"){var ie=(j.data||[]).find(function(xe){return pX(T,xe)});if(ie)return{graphicalItem:Z,payload:ie}}else if(kO(Z,L)||RO(Z,L)||m2(Z,L)){var ce=jst({graphicalItem:Z,activeTooltipItem:L,itemData:X.props.data}),fe=X.props.activeIndex===void 0?ce:X.props.activeIndex;return{graphicalItem:Qt(Qt({},Z),{},{childIndex:fe}),payload:m2(Z,L)?X.props.data[ce]:Z.props.data[ce]}}}return null}},{key:"render",value:function(){var T=this;if(!D7(this))return null;var k=this.props,R=k.children,L=k.className,F=k.width,H=k.height,Z=k.style,j=k.compact,X=k.title,le=k.desc,me=fK(k,sut),ie=ri(me);if(j)return Ze.createElement(QB,z_({},ie,{width:F,height:H,title:X,desc:le}),this.renderClipPath(),z7(R,this.renderMap));if(this.props.accessibilityLayer){var ce,fe;ie.tabIndex=(ce=this.props.tabIndex)!==null&&ce!==void 0?ce:0,ie.role=(fe=this.props.role)!==null&&fe!==void 0?fe:"img",ie.onKeyDown=function(te){T.accessibilityManager.keyboardEvent(te)},ie.onFocus=function(){T.accessibilityManager.focus()}}var xe=this.parseEventsOfWrapper();return Ze.createElement("div",z_({className:Xt("recharts-wrapper",L),style:Qt({position:"relative",cursor:"default",width:F,height:H},Z)},xe,{ref:function(he){T.container=he},role:"region"}),Ze.createElement(QB,z_({},ie,{width:F,height:H,title:X,desc:le,style:wut}),this.renderClipPath(),z7(R,this.renderMap)),this.renderLegend(),this.renderTooltip())}}]),w}(V.Component),pr(n,"displayName",r),pr(n,"defaultProps",Qt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),pr(n,"getDerivedStateFromProps",function(_,S){var w=_.dataKey,C=_.data,T=_.children,k=_.width,R=_.height,L=_.layout,F=_.stackOffset,H=_.margin;if(S.updateId===void 0){var Z=gK(_);return Qt(Qt(Qt({},Z),{},{updateId:0},x(Qt(Qt({props:_},Z),{},{updateId:0}),S)),{},{prevDataKey:w,prevData:C,prevWidth:k,prevHeight:R,prevLayout:L,prevStackOffset:F,prevMargin:H,prevChildren:T})}if(w!==S.prevDataKey||C!==S.prevData||k!==S.prevWidth||R!==S.prevHeight||L!==S.prevLayout||F!==S.prevStackOffset||!sb(H,S.prevMargin)){var j=gK(_),X={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},le=Qt(Qt({},mK(S,C,L)),{},{updateId:S.updateId+1}),me=Qt(Qt(Qt({},j),X),le);return Qt(Qt(Qt({},me),x(Qt({props:_},me),S)),{},{prevDataKey:w,prevData:C,prevWidth:k,prevHeight:R,prevLayout:L,prevStackOffset:F,prevMargin:H,prevChildren:T})}if(!Use(T,S.prevChildren)){var ie=!si(C),ce=ie?S.updateId:S.updateId+1;return Qt(Qt({updateId:ce},x(Qt(Qt({props:_},S),{},{updateId:ce}),S)),{},{prevChildren:T})}return null}),pr(n,"renderActiveDot",function(_,S){var w;return V.isValidElement(_)?w=V.cloneElement(_,S):Kr(_)?w=_(S):w=Ze.createElement(L6,S),Ze.createElement(bs,{className:"recharts-active-dot",key:S.key},w)}),n},Rut=kut({chartName:"LineChart",GraphicalChild:Zb,axisComponents:[{axisType:"xAxis",AxisComp:DO},{axisType:"yAxis",AxisComp:NO}],formatAxisMap:dlt});const Out=Qr(t=>({chart:{flexGrow:1,overflow:"hidden"},content:{height:"100%",flexGrow:1,alignItems:"stretch",display:"flex",flexDirection:"column",overflowY:"auto"}})),$6=()=>{const t=Out(),[e,n]=V.useState([]),[r,i]=V.useState([]),[o,a]=V.useState([]),s=Ze.createRef();s.current=o;const[l,c]=V.useState(-1),h=xr(S=>S.mission.route),[p,g]=V.useState({min:0,max:0,range:10});V.useEffect(()=>{const S=e.map(R=>R.data),w=S.flat().map(R=>R.elevation),C=S.flat().map(R=>R.uavheight?Number(R.uavheight):0),T=Math.min(...w),k=Math.max(...C);g({min:T,max:k,range:k-T})},[e]);const v=S=>{const w=[];return S.length>0&&S.forEach(C=>{const T=[];C.wp.forEach(k=>{T.push([k.pos[0],k.pos[1],k.pos[2]])}),w.push(T)}),w};async function x(){if(console.log("--------------   LLAMANDO A ELEVATION"),h.length>0){let S=JSON.parse(JSON.stringify(h)),w=S.map(k=>k.id),C=v(S);i(C);let T;try{const k=await fetch("/api/map/elevation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({routes:C})});if(k.ok)T=await k.json();else throw new Error(k.status)}catch(k){console.log("error to call server /api/map/elevation"),console.log(k)}if(T.status){let k=T.elevation.map((R,L)=>({name:"RT"+L,data:R,color:sy.colors_devices[w[L]]}));c(-1),a(k)}else console.log("no get elevation of point error to connect to API of  elevation")}}V.useEffect(()=>{console.log("mission Elevation")},[]),V.useEffect(()=>{let S=!1,w=v(h);if(console.log("update elevation"),w.length>r.length)console.log("ruta mayor"),w[+w.length+-1].length>0?S=!0:i(w);else if(w.length<r.length){console.log(" se ha eliminado  una ruta");let C=[],T=[];r.map((k,R)=>{let L=!1;w.map(F=>{JSON.stringify(k)===JSON.stringify(F)&&(L=!0)}),L&&(C.push(k),T.push(s.current[R]))}),a(T),i(C)}else{console.log("ruta de la misma longitud");for(let C=0;C<w.length;C=C+1)if(JSON.stringify(w[C])!=JSON.stringify(r[C])){console.log("latitude longitude no equals");let T=r[C].map(R=>[R[0],R[1]]),k=w[C].map(R=>[R[0],R[1]]);if(JSON.stringify(T)===JSON.stringify(k)){for(let R=0;R<r[C].length;R=R+1)if(r[C][R][2]!==w[C][R][2]){console.log("diferent elevation");let L=JSON.parse(JSON.stringify(s.current));for(let F=0;F<L[C].data.length;F=F+1)L[C].data[F].hasOwnProperty("wp")&&L[C].data[F].wp==R&&(console.log("encontrado elev profile wp"),L[C].data[F].uavheight=+L[C].data[F].uavheight-+L[C].data[F].uav+ +w[C][R][2],L[C].data[F].uav=+w[C][R][2]);console.log(L),a(L)}i(w);break}else{console.log("nuevas posiciones"),S=!0;break}}}S&&x()},[h]),V.useEffect(()=>{l==-1?n(o):n([o[l]])},[l,o]);const _=({active:S,payload:w,label:C})=>{if(S&&w&&w.length){let T=[w[0].payload];return T[0].color=w[0].color,w.map(k=>{let R=!0;T.map(L=>{k.payload.rt==L.rt&&(R=!1)}),k.payload.color=k.color,R&&T.push(k.payload)}),T[0].uavheight?z.jsxs("div",{style:{background:"#FFFFFF"},children:[z.jsx("div",{children:`distancia ${C} m `}),T.map(k=>z.jsxs(V.Fragment,{children:[z.jsx("div",{style:{color:k.color,fontSize:16},children:`Ruta ${k.rt} - wp ${k.wp}`},`tr${k.rt}`),z.jsx("div",{style:{color:k.color,fontSize:16},children:`Terreno:${k.elevation} - UAV: ${k.uavheight}`},`dr${k.rt}`)]},"s-"+k.rt))]}):z.jsxs("div",{style:{background:"#FFFFFF"},children:[z.jsx("div",{children:`distancia ${C} m `}),T.map(k=>z.jsxs(V.Fragment,{children:[z.jsx("div",{style:{color:k.color,fontSize:16},children:`Ruta ${k.rt}`},`tr${k.rt}`),z.jsx("div",{style:{color:k.color,fontSize:16},children:`Terreno:${k.elevation} `},`dr${k.rt}`)]},"s-"+k.rt))]})}return null};return z.jsxs("div",{className:t.content,children:[z.jsxs(ws,{style:{display:"flex",margin:"10px",alignItems:"center"},children:[z.jsx("a",{style:{marginInline:"20px"},children:"Elevation Profile"}),z.jsxs(fE,{children:[z.jsx(hE,{id:"demo-simple-select-label",children:"Route"}),z.jsxs(pE,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,label:"Elevation Profile",onChange:S=>c(S.target.value),children:[z.jsx(lu,{value:-1,children:"All Routes"}),o.map((S,w,C)=>z.jsx(lu,{value:w,children:`Route${w}`},`sel${w}`))]})]})]}),e.length>0&&z.jsx("div",{className:t.chart,children:z.jsx(AQe,{width:"100%",height:"100%",children:z.jsxs(Rut,{data:e,margin:{top:10,right:40,left:0,bottom:10},children:[z.jsx(DO,{dataKey:"length",type:"number",domain:["dataMin","dataMax"]}),z.jsx(NO,{type:"number",tickFormatter:S=>S.toFixed(2),domain:[p.min-p.range/5,p.max+p.range/5]}),z.jsx(F6,{strokeDasharray:"3 3"}),z.jsx(n0,{content:z.jsx(_,{})}),z.jsx(Bb,{}),e.map((S,w,C)=>z.jsxs(V.Fragment,{children:[z.jsx(Zb,{type:"monotone",dataKey:"elevation",data:S.data,name:S.name,stroke:S.color,activeDot:{r:8,onClick:(T,k)=>{console.log(k);let R=`https://www.google.com/maps?q=${k.payload.lat},${k.payload.lng}`;window.open(R,"_blank")}}},S.name),z.jsx(Zb,{connectNulls:!0,dataKey:"uavheight",data:S.data,name:S.name+"-v",stroke:S.color,strokeDasharray:"5 5",activeDot:{onClick:(T,k)=>{console.log(k)}}},S.name+"-v")]},"s-"+w))]})})})]})},Lut=Qr(t=>({card:{pointerEvents:"auto",width:"500px",height:"180px"},media:{height:t.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:t.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1,1,0,2)},content:{paddingTop:"15px",paddingBottom:t.spacing(1)},negative:{color:t.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"center"},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"40%",transform:"translateX(-50%)"}})),Ece=({SetOpenSave:t,OpenSave:e})=>{const n=Lut(),r=xr(h=>h.mission),[i,o]=V.useState("yaml"),[a,s]=V.useState(r.name),l=async()=>{let h,p="text/plain";if(i=="yaml"){let _={version:"3"};_.name=r.name,_.route=r.route,h=YP.stringify(_)}if(i=="kml"){p="application/xml";let _=`<?xml version="1.0" encoding="UTF-8"?>
`;_+=`<kml>
`,_+=`<Document>
`,r.route.map((w,C,T)=>{_+=`<Style id="sn_ylw-pushpin1${C}">
`,_+=`<LineStyle>
`,_+=`<color>ff${sy.colors_devices[C].substr(-6)}</color>
`,_+=`<width>3</width>
`,_+=`</LineStyle>
`,_+=`</Style>
`});let S=[];for(const w of r.route)if(w.wp.length){let C=await fetch(`/api/map/elevation?locations=[[${w.wp[0].pos[0]},${w.wp[0].pos[1]}]]`);if(C.ok){let T=await C.json();S.push(T.results[0].elevation)}else S.push(0)}else S.push(0);r.route.map((w,C)=>{_+=`<Placemark>
`,_+=`<name>${w.uav}-${w.name}</name>
`,_+=`<styleUrl>#sn_ylw-pushpin1${C}</styleUrl>
`,_+=`<open>1</open>
`,_+=`<LineString>
`;let T="";w.wp.map(k=>{T=T+k.pos[1]+","+k.pos[0]+","+(+k.pos[2]+ +S[C])+" "}),_+=`<tessellate>1</tessellate>
`,_+=`<altitudeMode>absolute</altitudeMode>
`,_+=`<coordinates>
`,_+=T+`
`,_+=`</coordinates>
`,_+=`</LineString>
`,_+=`</Placemark>
`}),_+=`</Document>
`,_+="</kml>",h=_}if(i=="plan"){p="application/json";let _={fileType:"Plan"};_.geoFence={circles:[],polygons:[],version:2},_.groundStation="QGroundControl",_.mission={},_.mission.cruiseSpeed=r.route[0].attributes.idle_vel,_.mission.firmwareType=12,_.mission.globalPlanAltitudeMode=0,_.mission.hoverSpeed=5,_.mission.items=[],r.route.map((S,w,C)=>{S.wp.map((T,k,R)=>{let L={AMSLAltAboveTerrain:null,Altitude:T.pos[2],AltitudeMode:1,autoContinue:!0,command:16,doJumpId:1,frame:3,params:[0,0,0,null,T.pos[0],T.pos[1],T.pos[2]],type:"SimpleItem"};k==0&&(L.command=84,_.mission.plannedHomePosition=[T.pos[0],T.pos[1],T.pos[2]]),k+1==R.length&&(L.command=84),_.mission.items.push(L)})}),_.mission.vehicleType=20,_.mission.version=2,_.rallyPoints={points:[],version:2},_.version=1,h=JSON.stringify(_)}if(i=="waypoint"){let _=`QGC WPL 110
`;r.route.map(S=>{S.wp.map((w,C,T)=>{C==0?_+=`${C}	1	0	16	0	0	0	0	${w.pos[0]}	${w.pos[1]}	${w.pos[2]}	1
`:_+=`${C}	0	0	16	0	0	0	0	${w.pos[0]}	${w.pos[1]}	${w.pos[2]}	1
`})}),h=_}const g=new Blob([h],{type:p}),v=URL.createObjectURL(g),x=document.createElement("a");x.download=r.name+"."+i,x.href=v,x.click()},c=()=>{t(!1)};return z.jsx("div",{className:n.root,children:z.jsxs(xf,{elevation:3,className:n.card,children:[z.jsxs("div",{className:n.header,children:[z.jsx(_n,{variant:"body2",color:"textSecondary",children:"Save Mission"}),z.jsx(gr,{size:"small",onClick:c,onTouchStart:c,children:z.jsx(pf,{fontSize:"small"})})]}),z.jsxs(pR,{className:n.content,children:[z.jsx(yi,{required:!0,label:"Name Mission",variant:"standard",value:a||" ",onChange:h=>s(h.target.value),style:{width:"300px",marginRight:"5px"}}),z.jsxs(fE,{children:[z.jsx(hE,{children:"Type file mission"}),z.jsx(pE,{label:"Type file mission",value:i,onChange:h=>o(h.target.value),sx:{width:"120px"},children:["yaml","kml","waypoint","plan"].map(h=>z.jsx(lu,{value:h,children:h},h))})]})]}),z.jsx(Zne,{classes:{root:n.actions},disableSpacing:!0,children:z.jsx(Gr,{onClick:l,children:"Save Mission"})})]})})},Dut=Qr(t=>({root:{margin:"0",height:"100vh"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"50vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3}})),Nut=(t,e)=>{setList([...list,toastProperties])},zut=()=>{const t=Dut(),[e,n]=V.useState(!1),r=xr(a=>a.data.positions),[i,o]=V.useState([]);return V.useEffect(()=>{o(Object.values(r))},[r]),z.jsx("div",{className:t.root,children:z.jsx(kU,{children:z.jsxs(bE,{notification:Nut,children:[z.jsx(DR,{}),z.jsx(wE,{}),z.jsxs("div",{style:{float:"right",width:"calc(100% - 560px)",height:"calc(70vh - 95px)",right:"0px",margin:"auto"},children:[z.jsxs(uj,{children:[z.jsx(PU,{}),z.jsx(Oje,{}),z.jsx(Cse,{positions:i,onClick:null,selectedPosition:null,showStatus:!0})]}),z.jsx(AU,{})]}),z.jsx("div",{className:t.sidebarStyle,children:z.jsx("div",{className:t.middleStyle,children:z.jsx(Ss,{square:!0,children:z.jsx(Ise,{SetOpenSave:n})})})}),z.jsx("div",{className:t.panelElevation,children:z.jsx("div",{className:t.middleStyle,children:z.jsx(Ss,{square:!0,children:z.jsx($6,{})})})}),e&&z.jsx(Ece,{SetOpenSave:n})]})})})};var j6={},But=ii;Object.defineProperty(j6,"__esModule",{value:!0});var Tce=j6.default=void 0,Fut=But(fi()),$ut=z;Tce=j6.default=(0,Fut.default)((0,$ut.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");const jut=Qr(t=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},buttons:{marginTop:t.spacing(2),marginBottom:t.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)}})),Uut=()=>{const t=jut(),e=Oh(),[n,r]=V.useState(null);return _y(async()=>{const i=await fetch("/api/missions");if(i.ok){const o=await i.json();r(o)}else throw Error(await i.text())},[]),z.jsxs("div",{className:t.root,children:[z.jsx(m1,{position:"sticky",color:"inherit",children:z.jsxs(sm,{children:[z.jsx(gr,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>e(-1),children:z.jsx(K0,{})}),z.jsx(_n,{variant:"h6",children:"Missions"})]})}),z.jsx("div",{className:t.content,children:z.jsx(H0,{maxWidth:"sm",children:z.jsx(Ss,{children:z.jsxs(mR,{children:[z.jsx(ej,{children:z.jsxs(Yg,{children:[z.jsx(jo,{children:"id"}),z.jsx(jo,{children:"initTime"}),z.jsx(jo,{children:"endTime"}),z.jsx(jo,{children:"status"})]})}),z.jsx(yR,{children:n&&n.map(i=>z.jsxs(Yg,{children:[z.jsx(jo,{children:i.id}),z.jsx(jo,{children:i.initTime}),z.jsx(jo,{children:i.endTime}),z.jsx(jo,{children:i.status}),z.jsx(jo,{children:z.jsx(gr,{size:"small",onClick:()=>e(`/reports/mission/${i.id}`),children:z.jsx(Tce,{fontSize:"small"})})})]},i.id))})]})})})})]})},Vut=()=>z.jsx("div",{children:"ReplayPage"}),Wut=Qr(t=>({root:{position:"relative",width:"200px",height:"200px",backgroundColor:"#F7F9F9",overflow:"hidden",margin:"auto"},box_down:{width:"100%",height:"50%",backgroundColor:"#5D6D7E",position:"absolute",transition:"bottom 0.3s ease-in-out",bottom:0,left:"50%",transform:"translate(-50%, 100%)",borderTop:"6px solid #1B2631 "},box_right:{width:"50%",height:"100%",backgroundColor:"#5D6D7E",position:"absolute",transition:"right 0.3s ease-in-out",top:"50%",right:0,transform:"translate(100%, -50%)",borderLeft:"6px solid #1B2631 "},box_up:{width:"100%",height:"50%",backgroundColor:"#5D6D7E",position:"absolute",transition:"top 0.3s ease-in-out",top:0,left:"50%",transform:"translate(-50%, -100%)",borderBottom:"6px solid #1B2631 "},box_left:{width:"50%",height:"100%",backgroundColor:"#5D6D7E",position:"absolute",transition:"left 0.3s ease-in-out",top:"50%",left:0,transform:"translate(-100%, -50%)",borderRight:"6px solid #1B2631 "},text_right:{position:"absolute",right:"15%",top:"50%"},text_left:{position:"absolute",left:"15%",top:"50%"},text_down:{position:"absolute",right:"50%",bottom:"15%",transform:"translate(50%, 50%)"},text_up:{position:"absolute",right:"50%",top:"15%",transform:"translate(50%, -50%)"},icon:{position:"absolute",width:"25%",height:"25%",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},centerContent:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})),ZI=({device:t,data:e=[10,15,11,0,12,20],sensors:n={down:[0,15],front:[0,15],left:[0,12],back:[0,12],right:[0,12],up:[0,20]},front_view:r=!1,test:i=!1})=>{const o=Wut(),[a,s]=V.useState(0),[l,c]=V.useState(0),[h,p]=V.useState(0),[g,v]=V.useState(0);V.useEffect(()=>{r?(n.hasOwnProperty("down")&&v(40-40*e[0]/n.down[1]),n.hasOwnProperty("left")&&c(40-40*e[2]/n.left[1]),n.hasOwnProperty("right")&&s(40-40*e[4]/n.right[1]),n.hasOwnProperty("up")&&p(40-40*e[5]/n.up[1])):(n.hasOwnProperty("front")&&p(40-40*e[1]/n.front[1]),n.hasOwnProperty("left")&&s(40-40*e[2]/n.left[1]),n.hasOwnProperty("back")&&v(40-40*e[3]/n.down[1]),n.hasOwnProperty("right")&&c(40-50*e[4]/n.right[1]))},[e,t,n]);const x=()=>{s(S=>S-10),c(S=>S-10),p(S=>S-10),v(S=>S-10)},_=()=>{s(S=>S+10),c(S=>S+10),p(S=>S+10),v(S=>S+10)};return z.jsxs("div",{style:{flex:1,margin:"10px"},children:[z.jsxs("div",{className:o.root,children:[z.jsx("div",{className:o.box_left,style:{left:`${a}%`}}),z.jsx("div",{className:o.box_right,style:{right:`${l}%`}}),z.jsx("div",{className:o.box_up,style:{top:`${h}%`}}),z.jsx("div",{className:o.box_down,style:{bottom:`${g}%`}}),!r&&z.jsxs(z.Fragment,{children:[a<50&&z.jsxs("div",{className:o.text_left,children:[" ",`${e[2]}m`]}),l<50&&z.jsxs("div",{className:o.text_right,children:[" ",`${e[4]}m`]}),h<50&&z.jsxs("div",{className:o.text_up,children:[" ",`${e[1]}m`]}),g<50&&z.jsxs("div",{className:o.text_down,children:[" ",`${e[3]}m`]}),z.jsx("img",{className:o.icon,src:TM[PP("dji_M210_melodic")],alt:""})]}),r&&z.jsxs(z.Fragment,{children:[a<50&&z.jsxs("div",{className:o.text_left,children:[" ",`${e[4]}m`]}),l<50&&z.jsxs("div",{className:o.text_right,children:[" ",`${e[2]}m`]}),h<50&&z.jsxs("div",{className:o.text_up,children:[" ",`${e[5]}m`]}),g<50&&z.jsxs("div",{className:o.text_down,children:[" ",`${e[0]}m`]}),z.jsx("img",{className:o.icon,src:C0e[PP("dji_M210_melodic")],alt:""})]})]}),!r&&z.jsx(_n,{align:"center",children:"Top view"}),r&&z.jsx(_n,{align:"center",children:"Front view"}),i&&z.jsxs("div",{children:[z.jsx("button",{onClick:x,children:"Move Left"}),z.jsx("button",{onClick:_,children:"Move Right"})]})]})};var Cce={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(f_,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",a="second",s="minute",l="hour",c="day",h="week",p="month",g="quarter",v="year",x="date",_="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ie){var ce=["th","st","nd","rd"],fe=ie%100;return"["+ie+(ce[(fe-20)%10]||ce[fe]||ce[0])+"]"}},T=function(ie,ce,fe){var xe=String(ie);return!xe||xe.length>=ce?ie:""+Array(ce+1-xe.length).join(fe)+ie},k={s:T,z:function(ie){var ce=-ie.utcOffset(),fe=Math.abs(ce),xe=Math.floor(fe/60),te=fe%60;return(ce<=0?"+":"-")+T(xe,2,"0")+":"+T(te,2,"0")},m:function ie(ce,fe){if(ce.date()<fe.date())return-ie(fe,ce);var xe=12*(fe.year()-ce.year())+(fe.month()-ce.month()),te=ce.clone().add(xe,p),he=fe-te<0,ve=ce.clone().add(xe+(he?-1:1),p);return+(-(xe+(fe-te)/(he?te-ve:ve-te))||0)},a:function(ie){return ie<0?Math.ceil(ie)||0:Math.floor(ie)},p:function(ie){return{M:p,y:v,w:h,d:c,D:x,h:l,m:s,s:a,ms:o,Q:g}[ie]||String(ie||"").toLowerCase().replace(/s$/,"")},u:function(ie){return ie===void 0}},R="en",L={};L[R]=C;var F="$isDayjsObject",H=function(ie){return ie instanceof le||!(!ie||!ie[F])},Z=function ie(ce,fe,xe){var te;if(!ce)return R;if(typeof ce=="string"){var he=ce.toLowerCase();L[he]&&(te=he),fe&&(L[he]=fe,te=he);var ve=ce.split("-");if(!te&&ve.length>1)return ie(ve[0])}else{var ze=ce.name;L[ze]=ce,te=ze}return!xe&&te&&(R=te),te||!xe&&R},j=function(ie,ce){if(H(ie))return ie.clone();var fe=typeof ce=="object"?ce:{};return fe.date=ie,fe.args=arguments,new le(fe)},X=k;X.l=Z,X.i=H,X.w=function(ie,ce){return j(ie,{locale:ce.$L,utc:ce.$u,x:ce.$x,$offset:ce.$offset})};var le=function(){function ie(fe){this.$L=Z(fe.locale,null,!0),this.parse(fe),this.$x=this.$x||fe.x||{},this[F]=!0}var ce=ie.prototype;return ce.parse=function(fe){this.$d=function(xe){var te=xe.date,he=xe.utc;if(te===null)return new Date(NaN);if(X.u(te))return new Date;if(te instanceof Date)return new Date(te);if(typeof te=="string"&&!/Z$/i.test(te)){var ve=te.match(S);if(ve){var ze=ve[2]-1||0,Ue=(ve[7]||"0").substring(0,3);return he?new Date(Date.UTC(ve[1],ze,ve[3]||1,ve[4]||0,ve[5]||0,ve[6]||0,Ue)):new Date(ve[1],ze,ve[3]||1,ve[4]||0,ve[5]||0,ve[6]||0,Ue)}}return new Date(te)}(fe),this.init()},ce.init=function(){var fe=this.$d;this.$y=fe.getFullYear(),this.$M=fe.getMonth(),this.$D=fe.getDate(),this.$W=fe.getDay(),this.$H=fe.getHours(),this.$m=fe.getMinutes(),this.$s=fe.getSeconds(),this.$ms=fe.getMilliseconds()},ce.$utils=function(){return X},ce.isValid=function(){return this.$d.toString()!==_},ce.isSame=function(fe,xe){var te=j(fe);return this.startOf(xe)<=te&&te<=this.endOf(xe)},ce.isAfter=function(fe,xe){return j(fe)<this.startOf(xe)},ce.isBefore=function(fe,xe){return this.endOf(xe)<j(fe)},ce.$g=function(fe,xe,te){return X.u(fe)?this[xe]:this.set(te,fe)},ce.unix=function(){return Math.floor(this.valueOf()/1e3)},ce.valueOf=function(){return this.$d.getTime()},ce.startOf=function(fe,xe){var te=this,he=!!X.u(xe)||xe,ve=X.p(fe),ze=function(Be,lt){var Qe=X.w(te.$u?Date.UTC(te.$y,lt,Be):new Date(te.$y,lt,Be),te);return he?Qe:Qe.endOf(c)},Ue=function(Be,lt){return X.w(te.toDate()[Be].apply(te.toDate("s"),(he?[0,0,0,0]:[23,59,59,999]).slice(lt)),te)},rt=this.$W,Fe=this.$M,st=this.$D,ct="set"+(this.$u?"UTC":"");switch(ve){case v:return he?ze(1,0):ze(31,11);case p:return he?ze(1,Fe):ze(0,Fe+1);case h:var Dt=this.$locale().weekStart||0,zt=(rt<Dt?rt+7:rt)-Dt;return ze(he?st-zt:st+(6-zt),Fe);case c:case x:return Ue(ct+"Hours",0);case l:return Ue(ct+"Minutes",1);case s:return Ue(ct+"Seconds",2);case a:return Ue(ct+"Milliseconds",3);default:return this.clone()}},ce.endOf=function(fe){return this.startOf(fe,!1)},ce.$set=function(fe,xe){var te,he=X.p(fe),ve="set"+(this.$u?"UTC":""),ze=(te={},te[c]=ve+"Date",te[x]=ve+"Date",te[p]=ve+"Month",te[v]=ve+"FullYear",te[l]=ve+"Hours",te[s]=ve+"Minutes",te[a]=ve+"Seconds",te[o]=ve+"Milliseconds",te)[he],Ue=he===c?this.$D+(xe-this.$W):xe;if(he===p||he===v){var rt=this.clone().set(x,1);rt.$d[ze](Ue),rt.init(),this.$d=rt.set(x,Math.min(this.$D,rt.daysInMonth())).$d}else ze&&this.$d[ze](Ue);return this.init(),this},ce.set=function(fe,xe){return this.clone().$set(fe,xe)},ce.get=function(fe){return this[X.p(fe)]()},ce.add=function(fe,xe){var te,he=this;fe=Number(fe);var ve=X.p(xe),ze=function(Fe){var st=j(he);return X.w(st.date(st.date()+Math.round(Fe*fe)),he)};if(ve===p)return this.set(p,this.$M+fe);if(ve===v)return this.set(v,this.$y+fe);if(ve===c)return ze(1);if(ve===h)return ze(7);var Ue=(te={},te[s]=r,te[l]=i,te[a]=n,te)[ve]||1,rt=this.$d.getTime()+fe*Ue;return X.w(rt,this)},ce.subtract=function(fe,xe){return this.add(-1*fe,xe)},ce.format=function(fe){var xe=this,te=this.$locale();if(!this.isValid())return te.invalidDate||_;var he=fe||"YYYY-MM-DDTHH:mm:ssZ",ve=X.z(this),ze=this.$H,Ue=this.$m,rt=this.$M,Fe=te.weekdays,st=te.months,ct=te.meridiem,Dt=function(lt,Qe,ge,et){return lt&&(lt[Qe]||lt(xe,he))||ge[Qe].slice(0,et)},zt=function(lt){return X.s(ze%12||12,lt,"0")},Be=ct||function(lt,Qe,ge){var et=lt<12?"AM":"PM";return ge?et.toLowerCase():et};return he.replace(w,function(lt,Qe){return Qe||function(ge){switch(ge){case"YY":return String(xe.$y).slice(-2);case"YYYY":return X.s(xe.$y,4,"0");case"M":return rt+1;case"MM":return X.s(rt+1,2,"0");case"MMM":return Dt(te.monthsShort,rt,st,3);case"MMMM":return Dt(st,rt);case"D":return xe.$D;case"DD":return X.s(xe.$D,2,"0");case"d":return String(xe.$W);case"dd":return Dt(te.weekdaysMin,xe.$W,Fe,2);case"ddd":return Dt(te.weekdaysShort,xe.$W,Fe,3);case"dddd":return Fe[xe.$W];case"H":return String(ze);case"HH":return X.s(ze,2,"0");case"h":return zt(1);case"hh":return zt(2);case"a":return Be(ze,Ue,!0);case"A":return Be(ze,Ue,!1);case"m":return String(Ue);case"mm":return X.s(Ue,2,"0");case"s":return String(xe.$s);case"ss":return X.s(xe.$s,2,"0");case"SSS":return X.s(xe.$ms,3,"0");case"Z":return ve}return null}(lt)||ve.replace(":","")})},ce.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ce.diff=function(fe,xe,te){var he,ve=this,ze=X.p(xe),Ue=j(fe),rt=(Ue.utcOffset()-this.utcOffset())*r,Fe=this-Ue,st=function(){return X.m(ve,Ue)};switch(ze){case v:he=st()/12;break;case p:he=st();break;case g:he=st()/3;break;case h:he=(Fe-rt)/6048e5;break;case c:he=(Fe-rt)/864e5;break;case l:he=Fe/i;break;case s:he=Fe/r;break;case a:he=Fe/n;break;default:he=Fe}return te?he:X.a(he)},ce.daysInMonth=function(){return this.endOf(p).$D},ce.$locale=function(){return L[this.$L]},ce.locale=function(fe,xe){if(!fe)return this.$L;var te=this.clone(),he=Z(fe,xe,!0);return he&&(te.$L=he),te},ce.clone=function(){return X.w(this.$d,this)},ce.toDate=function(){return new Date(this.valueOf())},ce.toJSON=function(){return this.isValid()?this.toISOString():null},ce.toISOString=function(){return this.$d.toISOString()},ce.toString=function(){return this.$d.toUTCString()},ie}(),me=le.prototype;return j.prototype=me,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",c],["$M",p],["$y",v],["$D",x]].forEach(function(ie){me[ie[1]]=function(ce){return this.$g(ce,ie[0],ie[1])}}),j.extend=function(ie,ce){return ie.$i||(ie(ce,le,j),ie.$i=!0),j},j.locale=Z,j.isDayjs=H,j.unix=function(ie){return j(1e3*ie)},j.en=L[R],j.Ls=L,j.p={},j})})(Cce);var Hut=Cce.exports;const vK=bi(Hut),Gut=(t,e,n,r,i,o,a)=>{const s=xr(l=>l.devices.items);V.useEffect(()=>{const l=Object.values(s).filter(c=>!e.statuses.length||e.statuses.includes(c.status)).filter(c=>{const h=t.toLowerCase();return[c.name,c.uniqueId,c.phone,c.model,c.contact].some(p=>p&&p.toLowerCase().includes(h))});switch(n){case"name":l.sort((c,h)=>c.name.localeCompare(h.name));break;case"lastUpdate":l.sort((c,h)=>{const p=c.lastUpdate?vK(c.lastUpdate).valueOf():0;return(h.lastUpdate?vK(h.lastUpdate).valueOf():0)-p});break}o(l),a(r?l.map(c=>i[c.id]).filter(Boolean):Object.values(i))},[t,e,n,r,s,i,o,a])},qut=Qr(t=>({card:{pointerEvents:"auto"},media:{height:"20vw",width:"100%",background:"black"},media1:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{float:"right",height:"40px"},mediaButton:{color:t.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),JI=({deviceId:t,deviceIp:e="127.0.0.1",camera_src:n="video0",onClose:r})=>{const i=qut(),o=t?xr(h=>h.devices.items[t]):{name:"test"},a="http://"+e+":8889/"+n;V.useState(!1);let s=i.card,l=i.root_max,c=i.media;return V.useRef(),z.jsx("div",{className:l,children:o&&z.jsxs(xf,{className:s,children:[z.jsx("div",{children:z.jsx("div",{className:i.tittle,children:"Id: "+o.name})}),z.jsx("iframe",{src:a,className:c})]})})},Yut=Qr(t=>({card:{pointerEvents:"auto"},media:{width:"100%",height:"20vw",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:t.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1,1,0,2)},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),Ace=({deviceId:t,datacamera:e,onClose:n})=>{const r=Yut(),[i,o]=V.useState(XP),a=xr(h=>h.devices.items[t]);V.useState(!1);let s=r.card,l=r.root_max;const c=xr(h=>h.data.camera[t]);return V.useEffect(()=>{t!=null&&(c!=null?o("data:image/bgr8;base64,"+c.camera):o(XP))},[c]),z.jsx("div",{className:l,children:a&&z.jsxs(xf,{className:s,children:[z.jsx("div",{children:z.jsxs("div",{className:r.tittle,children:["Image "+a.name," "]})}),z.jsx("img",{src:i,className:r.media})]})})},Xut=()=>V.useMemo(()=>({custom:[{key:"data",name:"commandData",type:"string"}],positionPeriodic:[{key:"frequency",name:"commandFrequency",type:"number"}],setTimezone:[{key:"timezone",name:"commandTimezone",type:"string"}],sendSms:[{key:"phone",name:"commandPhone",type:"string"},{key:"message",name:"commandMessage",type:"string"}],message:[{key:"message",name:"commandMessage",type:"string"}],sendUssd:[{key:"phone",name:"commandPhone",type:"string"}],sosNumber:[{key:"index",name:"commandIndex",type:"number"},{key:"phone",name:"commandPhone",type:"string"}],silenceTime:[{key:"data",name:"commandData",type:"string"}],setPhonebook:[{key:"data",name:"commandData",type:"string"}],voiceMessage:[{key:"data",name:"commandData",type:"string"}],outputControl:[{key:"index",name:"commandIndex",type:"number"},{key:"data",name:"commandData",type:"string"}],voiceMonitoring:[{key:"enable",name:"commandEnable",type:"boolean"}],setAgps:[{key:"enable",name:"commandEnable",type:"boolean"}],setIndicator:[{key:"data",name:"commandData",type:"string"}],configuration:[{key:"data",name:"commandData",type:"string"}],setConnection:[{key:"server",name:"commandServer",type:"string"},{key:"port",name:"commandPort",type:"number"}],setOdometer:[{key:"data",name:"commandData",type:"string"}],modePowerSaving:[{key:"enable",name:"commandEnable",type:"boolean"}],modeDeepSleep:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmGeofence:[{key:"radius",name:"commandRadius",type:"number"}],alarmBattery:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmSos:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmRemove:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmClock:[{key:"data",name:"commandData",type:"string"}],alarmSpeed:[{key:"data",name:"commandData",type:"string"}],alarmFall:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmVibration:[{key:"data",name:"commandData",type:"string"}],SetupCamera:[{key:"type",name:"Type",type:"number"},{key:"enable",name:"Enable",type:"number"}],Gimbal:[{key:"roll",name:"Roll",type:"number"},{key:"pitch",name:"Pitch",type:"number"},{key:"yaw",name:"Yaw",type:"number"}],GimbalPitch:[{key:"pitch",name:"Pitch",type:"number"}],treat:[{key:"enable",name:"commandEnable",type:"boolean"}],setupcamera:[{key:"cameraType",name:"cameraType",type:"number"},{key:"start",name:"start",type:"number"}]}),[]),Kut=({deviceId:t,item:e,setItem:n})=>{const r=xr(s=>s.session.server.textEnabled),i=Xut(),[o,a]=V.useState([]);return V.useEffect(()=>{e&&e.type?a(i[e.type]||[]):a([])},[i,e]),z.jsxs(V.Fragment,{children:[z.jsx(Ju,{value:e.type||"",onChange:s=>n({...e,type:s.target.value,attributes:{}}),endpoint:t?`/api/commands/types?${new URLSearchParams({deviceId:t}).toString()}`:"/api/commands/types",keyGetter:s=>s.type,titleGetter:s=>rse("command_",s.type),label:"Command type",getItems:s=>console.log(s)}),o.map(({key:s,name:l,type:c})=>c==="boolean"?z.jsx(L9,{control:z.jsx(R9,{checked:e.attributes[s],onChange:h=>{const p={...e,attributes:{...e.attributes}};p.attributes[s]=h.target.checked,n(p)}}),label:l}):z.jsx(yi,{type:c==="number"?"number":"text",value:e.attributes[s],onChange:h=>{const p={...e,attributes:{...e.attributes}};p.attributes[s]=c==="number"?Number(h.target.value):h.target.value,n(p)},label:l})),r&&z.jsx(L9,{control:z.jsx(R9,{checked:e.textChannel,onChange:s=>n({...e,textChannel:s.target.checked})}),label:"commandSendSms"})]},"sdf")};Qr(t=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},buttons:{marginTop:t.spacing(2),marginBottom:t.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)}}));const Zut=Qr(t=>({root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},card:{pointerEvents:"auto",width:t.dimensions.popupMaxWidth},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1,1,0,2)},content:{overflow:"auto",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},buttons:{marginTop:t.spacing(2),marginBottom:t.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)}})),Jut=({id:t,onClose:e})=>{const n=Zut(),[r,i]=V.useState({}),[o,a]=V.useState(0),s=vre(async()=>{let c;if(o){const p=await fetch(`/api/commands/${o}`);if(p.ok)c=await p.json();else throw Error(await p.text())}else c=r;c.deviceId=parseInt(t,10);const h=await fetch("/api/commands/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(h.ok)console.log("ok");else throw Error(await h.text())}),l=()=>o||r&&r.type;return z.jsx("div",{className:n.root,children:z.jsxs(xf,{elevation:3,className:n.card,children:[z.jsxs("div",{className:n.header,children:[z.jsx(_n,{variant:"body2",color:"textSecondary",children:"Send Commands"}),z.jsx(gr,{size:"small",onClick:e,onTouchStart:e,children:z.jsx(pf,{fontSize:"small"})})]}),z.jsxs(H0,{maxWidth:"xs",className:n.container,children:[z.jsxs(pl,{defaultExpanded:!0,children:[z.jsx(gl,{expandIcon:z.jsx(Da,{}),children:z.jsx(_n,{variant:"subtitle1",children:"Command"})}),z.jsx(ml,{className:n.details,children:!o&&z.jsx(Kut,{deviceId:t,item:r,setItem:i})})]}),z.jsxs("div",{className:n.buttons,children:[z.jsx(Gr,{type:"button",color:"primary",variant:"outlined",onClick:e,children:"Cancel"}),z.jsx(Gr,{type:"button",color:"primary",variant:"contained",onClick:s,disabled:!l(),children:"Send"})]})]})]})})},Qut=Qr(t=>({root:{margin:"0",height:"100vh",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},buttons:{marginTop:t.spacing(2),marginBottom:t.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)}})),edt=({device:t,myhostname:e})=>{const n=t.camera&&t.camera.length>0?t.camera[0]:{type:""};return z.jsxs(z.Fragment,{children:[n.type==="WebRTC"&&z.jsx(JI,{deviceId:t.id,deviceIp:e,devicename:t.name,camera_src:t.name+"_"+n.source,onClose:()=>{console.log("cerrar ")}}),n.type==="WebRTC_env"&&z.jsx(JI,{deviceId:t.id,deviceIp:t.ip,devicename:t.name,camera_src:n.source,onClose:()=>{console.log("cerrar ")}}),n.type==="Websocket"&&z.jsx(Ace,{deviceId:t.id,datacamera:null,onClose:()=>console.log("cerrar ")})]})},tdt=()=>{const t=Qut(),e=Oh(),{id:n}=jee(),[r,i]=Ze.useState(0),[o,a]=V.useState(),[s,l]=V.useState({}),c=xr(me=>me.data.positions),h=xr(me=>me.devices.items),p=xr(me=>me.session.markers);V.useState(0);const[g,v]=V.useState([]),x=`${window.location.hostname}`,[_,S]=V.useState([]),[w,C]=V.useState([]),[T,k]=V.useState(""),[R,L]=RA("filter",{statuses:[],groups:[]}),[F,H]=RA("filterSort",""),[Z,j]=RA("filterMap",!1),[X,le]=V.useState(!1);return Gut(T,R,F,Z,c,C,S),V.useEffect(()=>{v(p)},[p]),V.useEffect(()=>{n&&a(c[n])},[n,c]),V.useEffect(()=>{n&&(l(h[n]),console.log(h[n]))},[n]),z.jsxs("div",{className:t.root,children:[z.jsx(m1,{position:"sticky",color:"inherit",children:z.jsxs(sm,{children:[z.jsx(gr,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>e(-1),children:z.jsx(K0,{})}),z.jsx(_n,{variant:"h6",children:s.name})]})}),z.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[z.jsxs("div",{style:{flex:1},children:[z.jsx("div",{style:{height:"50vh"},children:z.jsx(Ase,{filteredPositions:_,markers:g,selectedPosition:n,filteredMissiondeviceid:n})}),z.jsx("div",{children:Object.keys(s).length>0&&z.jsx(edt,{device:s,myhostname:x})})]}),z.jsxs("div",{style:{flex:1,justifyContent:"space-between",display:"flex",flexDirection:"column"},children:[z.jsx("div",{style:{height:"50vh"},className:t.content,children:z.jsx(H0,{maxWidth:"false",children:z.jsx(Ss,{children:z.jsxs(mR,{"aria-label":"simple table",children:[z.jsx(ej,{children:z.jsxs(Yg,{children:[z.jsx(jo,{sx:{fontWeight:"bold"},children:"Attributes"}),z.jsx(jo,{sx:{fontWeight:"bold"},children:"Value"})]})}),z.jsxs(yR,{children:[o&&Object.getOwnPropertyNames(o).filter(me=>me!=="attributes").map(me=>z.jsxs(Yg,{children:[z.jsx(jo,{children:me}),z.jsx(jo,{children:z.jsx(YB,{position:o,property:me})})]},me)),o&&Object.getOwnPropertyNames(o.attributes).map(me=>z.jsxs(Yg,{children:[z.jsx(jo,{children:me}),z.jsx(jo,{children:z.jsx(YB,{position:o,attribute:me})})]},me))]})]})})})}),z.jsx("div",{style:{padding:"15px",margin:"10px"},children:z.jsxs(Ss,{children:[z.jsx(_n,{align:"center",variant:"h5",component:"div",style:{padding:"15px"},children:"Avoidance sensor"}),o&&o.attributes&&z.jsxs("div",{style:{display:"flex",flex:1},children:[z.jsx(ZI,{front_view:!0,data:o.attributes.obstacle_info}),z.jsx(ZI,{front_view:!1,data:o.attributes.obstacle_info})]})]})}),z.jsx("div",{style:{padding:"15px",marginTop:"auto"},children:z.jsx(Ss,{children:z.jsxs(kEe,{showLabels:!0,value:r,onChange:(me,ie)=>{i(ie)},children:[z.jsx($T,{label:"Edit",icon:z.jsx(SU,{})}),z.jsx($T,{label:"Result",icon:z.jsx(ZR,{})}),z.jsx($T,{label:"Command",icon:z.jsx(bU,{}),onClick:()=>le(!0)}),z.jsx($T,{label:"Delete",icon:z.jsx(yu,{})})]})})})]})]}),X&&z.jsx(Jut,{id:n,onClose:()=>le(!1)})]})},ndt=Qr(()=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),rdt=(t,e)=>{switch(t){case"success":toastProperties={id:list.length+1,title:"Success",description:e,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:e,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:e,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:e,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},idt=()=>{const[t,e]=V.useState(!1),n=xr(a=>a.devices.items);let r=Object.values(n);const i=`${window.location.hostname}`,o=ndt();return z.jsx("div",{className:o.root,children:z.jsxs(bE,{notification:rdt,children:[z.jsx(DR,{}),z.jsx(wE,{}),z.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 90px)"},children:z.jsx(ws,{component:"div",sx:{overflow:"auto"},style:{backgroundColor:"#000000",width:"calc(100vw - 360px)",height:"calc(100vh - 90px",padding:"20px",float:"right"},children:z.jsx(bg,{container:!0,spacing:2,justifyContent:"space-around",children:Ze.Children.toArray(Object.values(n).map(a=>z.jsx(V.Fragment,{children:a.camera.map((s,l)=>z.jsxs(bg,{item:!0,xs:12,sm:6,children:[s.type==="WebRTC"&&z.jsx(JI,{deviceId:a.id,deviceIp:i,devicename:a.name,camera_src:a.name+"_"+s.source,onClose:()=>{console.log("cerrar ")}}),s.type==="WebRTC_env"&&z.jsx(JI,{deviceId:a.id,deviceIp:a.ip,devicename:a.name,camera_src:s.source,onClose:()=>{console.log("cerrar ")}}),s.type==="Websocket"&&z.jsx(Ace,{deviceId:a.id,datacamera:null,onClose:()=>console.log("cerrar ")})]},"card-"+a.id+"-"+l))},"dev"+a.id)))})})}),z.jsx("div",{className:o.sidebarStyle,children:z.jsx("div",{className:o.middleStyle,children:z.jsxs(Ss,{square:!0,className:o.contentListStyle,children:[z.jsx(Ese,{SetAddUAVOpen:e}),z.jsx(cse,{devices:r})]})})})]})})},odt=Qr(t=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},buttons:{marginTop:t.spacing(2),marginBottom:t.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)}})),xK=()=>{const t=odt(),e=Oh(),[n,r]=V.useState([]),[i,o]=V.useState(),a=xr(l=>l.events.items),s=xr(l=>l.devices.items);return V.useEffect(()=>{r(a)},[a]),V.useEffect(()=>{o({...s,"-1":{name:"GCS"}})},[s]),xr(l=>{if(n){const c=l.devices.items[n.deviceId];if(c)return c.name}return null}),z.jsxs("div",{className:t.root,children:[z.jsx(m1,{position:"sticky",color:"inherit",children:z.jsxs(sm,{children:[z.jsx(gr,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>e(-1),children:z.jsx(K0,{})}),z.jsx(_n,{variant:"h6",children:"Events"})]})}),z.jsx("div",{className:t.content,children:z.jsx(H0,{maxWidth:"sm",children:z.jsx(Ss,{children:z.jsxs(mR,{children:[z.jsx(ej,{children:z.jsxs(Yg,{children:[z.jsx(jo,{children:"UAV"}),z.jsx(jo,{children:"Fecha"}),z.jsx(jo,{children:"Valor"})]})}),z.jsx(yR,{children:n&&n.map(l=>z.jsxs(Yg,{children:[z.jsx(jo,{children:i[l.deviceId].name}),z.jsx(jo,{children:l.eventTime}),z.jsx(jo,{children:l.attributes.message})]},l.id))})]})})})})]})},sdt=()=>z.jsxs("div",{children:[z.jsx("h3",{children:"Move the Square"}),z.jsx(ZI,{}),z.jsx(D0,{}),z.jsx(ZI,{front_view:!0})]}),Pce=V.createContext(null);function adt(){const[t,e]=V.useState(null);return V.useEffect(()=>{e(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),t}function ldt(t){const{children:e,value:n}=t,r=adt(),i=V.useMemo(()=>({idPrefix:r,value:n}),[r,n]);return z.jsx(Pce.Provider,{value:i,children:e})}function Ice(){return V.useContext(Pce)}function kce(t,e){const{idPrefix:n}=t;return n===null?null:`${t.idPrefix}-P-${e}`}function Rce(t,e){const{idPrefix:n}=t;return n===null?null:`${t.idPrefix}-T-${e}`}const cdt=["children"],udt=V.forwardRef(function(e,n){const{children:r}=e,i=rn(e,cdt),o=Ice();if(o===null)throw new TypeError("No TabContext provided");const a=V.Children.map(r,s=>V.isValidElement(s)?V.cloneElement(s,{"aria-controls":kce(o,s.props.value),id:Rce(o,s.props.value)}):null);return z.jsx(yre,de({},i,{ref:n,value:o.value,children:a}))}),ddt=udt;function fdt(t){return $n("MuiTabPanel",t)}jn("MuiTabPanel",["root"]);const hdt=["children","className","value"],pdt=t=>{const{classes:e}=t;return Un({root:["root"]},fdt,e)},mdt=Zt("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(3)})),gdt=V.forwardRef(function(e,n){const r=Gn({props:e,name:"MuiTabPanel"}),{children:i,className:o,value:a}=r,s=rn(r,hdt),l=de({},r),c=pdt(l),h=Ice();if(h===null)throw new TypeError("No TabContext provided");const p=kce(h,a),g=Rce(h,a);return z.jsx(mdt,de({"aria-labelledby":g,className:Xt(c.root,o),hidden:a!==h.value,id:p,ref:n,role:"tabpanel",ownerState:l},s,{children:a===h.value&&i}))}),lN=gdt,ydt=Qr(t=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attribute:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),Oce=({markers:t,setMarkers:e,type:n="Base"})=>{const r=ydt(),[i,o]=V.useState(!1),[a,s]=V.useState(!0),l=v=>(x,_)=>{o(_?v:!1)},c=()=>{let v=gt.getCenter(),x=JSON.parse(JSON.stringify(t));x.push({latitude:v.lat,longitude:v.lng}),e(x,{meth:"add",index:-1})},h=v=>{let x=JSON.parse(JSON.stringify(t));x.splice(v,1),e(x,{meth:"del",index:v})},p=(v,x)=>{let _=JSON.parse(JSON.stringify(t));_[v].latitude=x,e(_,{meth:"mod",index:v})},g=(v,x)=>{let _=JSON.parse(JSON.stringify(t));_[v].longitude=x,e(_,{meth:"mod",index:v})};return V.useEffect(()=>{t&&(t.length>0?s(!1):s(!0))},[t]),z.jsx(V.Fragment,{children:a?z.jsx(ws,{textAlign:"center",children:z.jsx(Gr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:c,children:"Create New Base"})}):z.jsxs("div",{className:r.details,children:[Ze.Children.toArray(Object.values(t).map((v,x,_)=>z.jsxs(pl,{expanded:i==="wp "+x,onChange:l("wp "+x),children:[z.jsxs(gl,{expandIcon:z.jsx(Da,{}),children:[z.jsx(_n,{sx:{width:"33%",flexShrink:0},children:n+" "+x}),z.jsx(gr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>h(x),children:z.jsx(yu,{})})]}),z.jsx(ml,{className:r.details,children:i==="wp "+x&&z.jsx(V.Fragment,{children:z.jsxs(ws,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[z.jsx("div",{children:z.jsx(_n,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),z.jsx(yi,{required:!0,label:"Latitude ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:8,step:1e-4},value:v.latitude,onChange:S=>{p(x,S.target.value)}}),z.jsx(yi,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:8,step:1e-4},value:v.longitude,onChange:S=>{g(x,S.target.value)}})]})})})]}))),z.jsx(ws,{textAlign:"center",children:z.jsxs(Gr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:c,children:["Create new ",n]})})]})})},vdt=Qr(t=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attribute:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),xdt=({data:t,param:e,setData:n,type:r="Base"})=>{const i=vdt(),[o,a]=V.useState(!1),[s,l]=V.useState(!1),c=p=>(g,v)=>{a(v?p:!1)},h=(p=0,g="mission",v,x)=>{let _=JSON.parse(JSON.stringify(t));_[p][g][v]=Number(x),n(_)};return V.useEffect(()=>{t&&(t.length>0?l(!1):l(!0)),console.log(t),console.log(e)},[t]),z.jsx("div",{children:s?z.jsx(ws,{textAlign:"center",children:z.jsx(_n,{children:"dont exits base"})}):z.jsx("div",{className:i.details,children:Ze.Children.toArray(Object.values(t).map((p,g,v)=>z.jsxs(pl,{expanded:o===`wp ${g}`,onChange:c(`wp ${g}`),children:[z.jsxs(gl,{expandIcon:z.jsx(Da,{}),children:[z.jsx(_n,{sx:{width:"33%",flexShrink:0},children:`${r} ${g}`}),z.jsx(gr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>console.log("button"),children:z.jsx(Pse,{})})]}),z.jsx(ml,{className:i.details,children:o===`wp ${g}`&&z.jsxs(ws,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[z.jsx("div",{children:z.jsx(_n,{variant:"subtitle1",style:{display:"inline"},children:"Device params"})}),z.jsx("div",{children:e.devices&&Ze.Children.toArray(Object.keys(e.devices).map((x,_,S)=>z.jsx("div",{children:x=="id"&&z.jsx(Ju,{emptyValue:null,fullWidth:!0,label:"device",value:p.devices[x],endpoint:"/api/devices",keyGetter:w=>w.id,titleGetter:w=>`${w.name} - ${w.category}`,onChange:w=>{h(g,"devices",x,w.target.value)}})})))}),z.jsx("div",{children:z.jsx(_n,{variant:"subtitle1",style:{display:"inline"},children:"Settings"})}),z.jsx("div",{children:e.settings&&Ze.Children.toArray(Object.keys(e.settings).map(x=>z.jsx("div",{children:e.settings[x].name&&z.jsxs(V.Fragment,{children:[z.jsx(_n,{variant:"subtitle1",className:i.attributeName,children:e.settings[x].name}),z.jsx("div",{className:i.actionValue,children:z.jsx(yi,{required:!0,fullWidth:!0,type:"number",value:p.settings[x]?p.settings[x]:e.settings[x].default,onChange:_=>{h(g,"settings",x,_.target.value)}})})]})})))})]})})]})))})})};class _dt{constructor(){this.markers={},this.select={id:-1}}initMarkers(e){this.markers=JSON.parse(JSON.stringify(e))}getMarkers(){return this.markers}setMarkers(e){this.markers=e}getSelect(){return this.select}setSelect(e){this.select=e}}const bdt=({markers:t,selectMarkers:e=[],showTitles:n,showLines:r,moveMarkers:i,setMarkers:o,SelectItems:a,CreateItems:s,setLocations:l})=>{const c=V.useId(),h=`${c}-lines`,p=`${c}-select`,g=.4,[v,x]=V.useState(new _dt),_=()=>gt.getCanvas().style.cursor="move",S=()=>gt.getCanvas().style.cursor="pointer",w=()=>gt.getCanvas().style.cursor="",C=j=>{j.hasOwnProperty("features")?j.features[0].properties.type=="element"&&l({...j.features[0].properties,type:"object"}):l({latitude:j.lngLat.lat,longitude:j.lngLat.lng,groupId:0,id:0,type:"point"})},T=j=>{var ie;gt.getCanvas().style.cursor="grabbing",console.log("on move point"+j.lngLat.lng+"-"+j.lngLat.lat);let X=v.getMarkers(),le=v.getSelect();console.log(X),console.log(le),le.id>=0&&(le.type=="base"&&(X.bases[le.id].latitude=j.lngLat.lat,X.bases[le.id].longitude=j.lngLat.lng),le.type=="element"&&(X.elements[le.groupId].items[le.id].latitude=j.lngLat.lat,X.elements[le.groupId].items[le.id].longitude=j.lngLat.lng));let me=F(X);(ie=gt.getSource(c))==null||ie.setData({type:"FeatureCollection",features:me.map(ce=>({type:"Feature",geometry:{type:"Point",coordinates:[ce.longitude,ce.latitude]},properties:{...ce}}))})},k=j=>{let X=j.lngLat;gt.getCanvas().style.cursor="";let le=v.getMarkers(),me=v.getSelect();console.log(le),console.log(me),me.id>=0&&(me.type=="base"&&(le.bases[me.id].latitude=j.lngLat.lat,le.bases[me.id].longitude=j.lngLat.lng),me.type=="element"&&(le.elements[me.groupId].items[me.id].latitude=j.lngLat.lat,le.elements[me.groupId].items[me.id].longitude=j.lngLat.lng)),v.getSelect({id:-1}),o(le),console.log(`Longitude: ${X.lng} Latitude: ${X.lat}`),gt.off("mousemove",T),gt.off("touchmove",T)},R=j=>{j.preventDefault(),v.setSelect(j.features[0].properties),gt.getCanvas().style.cursor="grab",gt.on("mousemove",T),gt.once("mouseup",k)},L=j=>{j.points.length===1&&(console.log("touch start"),j.preventDefault(),gt.on("touchmove",T),gt.once("touchend",k))};V.useEffect(()=>(gt.addSource(c,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),gt.addSource(h,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),gt.addSource(p,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),gt.addLayer({id:p,type:"symbol",source:p,filter:["!has","point_count"],layout:{"icon-image":"background-{groupId}","icon-size":g*1.2,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{title}","text-font":ff(gt),"text-size":14},paint:{"text-color":"white"}}),r&&gt.addLayer({source:h,id:h,type:"line",paint:{"line-color":["get","color"],"line-width":2}}),n?gt.addLayer({id:c,type:"symbol",source:c,filter:["!has","point_count"],layout:{"icon-image":"{image}","icon-size":g,"icon-allow-overlap":!0,"text-field":"{title}","text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*g],"text-font":ff(gt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}):gt.addLayer({id:c,type:"symbol",source:c,layout:{"icon-image":"{image}","icon-size":g,"icon-allow-overlap":!0}}),a&&(gt.on("mouseenter",c,S),gt.on("mouseleave",c,w),gt.on("click",c,C)),s&&gt.on("click",C),i&&(gt.on("mouseenter",c,_),gt.on("mouseleave",c,w),gt.on("mousedown",c,R),gt.on("touchstart",c,L)),()=>{gt.off("click",C),gt.off("click",c,C),gt.off("mouseenter",c,S),gt.off("mouseenter",c,_),gt.off("mouseleave",c,w),gt.off("mousedown",c,R),gt.off("touchstart",c,L),gt.getLayer(c)&&gt.removeLayer(c),gt.getLayer(p)&&gt.removeLayer(p),gt.getLayer(h)&&gt.removeLayer(h),gt.getSource(c)&&gt.removeSource(c),gt.getSource(h)&&gt.removeSource(h),gt.getSource(p)&&gt.removeSource(p)}),[n,r,i,a,s]);function F(j){const X=[];return j.elements&&j.elements.forEach((le,me)=>{le.items.forEach((ie,ce)=>{X.push({...ie,type:"element",groupId:me,id:ce,image:le.type,title:`${me}-${ce}`})})}),j.bases&&j.bases.forEach((le,me)=>{X.push({...le,type:"base",groupId:0,id:me,image:"base",title:`b-${me}`})}),X}function H(j,X){let le=Object.values(j.items).map(me=>[me.longitude,me.latitude]);return{id:j.id,type:"Feature",geometry:{type:"LineString",coordinates:le},properties:{name:j.name,color:sy.colors_devices[X]}}}function Z(j){console.log(j);const X=[];return j.length>0&&j.forEach((le,me)=>{le.items.forEach((ie,ce)=>{X.push({...ie,type:"element",groupId:me,id:ce,image:le.type,title:`${me}-${ce}`})})}),X}return V.useEffect(()=>{var X;v.initMarkers(t);let j=F(t);(X=gt.getSource(c))==null||X.setData({type:"FeatureCollection",features:j.map(le=>({type:"Feature",geometry:{type:"Point",coordinates:[le.longitude,le.latitude]},properties:{...le}}))}),gt.getSource(h).setData({type:"FeatureCollection",features:t.elements.map((le,me)=>H(le,me))})},[t,n,r,i,a,s]),V.useEffect(()=>{let j=Z(e);gt.getSource(p).setData({type:"FeatureCollection",features:j.map(X=>({type:"Feature",geometry:{type:"Point",coordinates:[X.longitude,X.latitude]},properties:{...X}}))})},[e,n,r,i,a,s]),null},wdt=Qr(t=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),Sdt=({markers:t,setMarkers:e})=>{const n=wdt();Zl(),V.useState(!1),V.useState(!1);const[r,i]=V.useState(!1),[o,a]=V.useState(!0),s=(p,g)=>{let v=JSON.parse(JSON.stringify(t));v[p].items=g,e(v)},l=p=>{let g=JSON.parse(JSON.stringify(t));g.splice(p,1),e(g)},c=()=>{let p=JSON.parse(JSON.stringify(t));p.push({type:"powerTower",name:"Elements",linea:!0,items:[]}),e(p)},h=p=>(g,v)=>{i(v?p:!1)};return V.useEffect(()=>{t&&(t.length>0?a(!1):a(!0)),console.log(t)},[t]),z.jsx(V.Fragment,{children:o?z.jsx(ws,{textAlign:"center",children:z.jsx(Gr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:c,children:"Create New Group"})}):z.jsxs("div",{className:n.details,children:[Ze.Children.toArray(Object.values(t).map((p,g,v)=>z.jsxs(pl,{expanded:r==="Elements "+g,onChange:h("Elements "+g),children:[z.jsxs(gl,{expandIcon:z.jsx(Da,{}),children:[z.jsx(_n,{sx:{width:"33%",flexShrink:0},children:"Group "+g}),z.jsx(gr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>l(g),children:z.jsx(yu,{})})]}),z.jsx(ml,{className:n.details,children:r==="Elements "+g&&z.jsxs(V.Fragment,{children:[z.jsx(yi,{required:!0,label:"Name",variant:"standard",value:p.name?p.name:""}),z.jsx(Ju,{emptyValue:null,value:0,data:[{id:0,name:"Power Tower"},{id:1,name:"wind turbine"},{id:2,name:"Solar Panel"}],label:"Type",style:{display:"inline",width:"200px"}}),z.jsx(Oce,{markers:p.items,setMarkers:x=>s(g,x),type:"Element"})]})})]}))),z.jsx(ws,{textAlign:"center",children:z.jsx(Gr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:c,children:"Create List of Elements"})})]})})},Mdt=Qr(t=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),Edt=({Data:t,setData:e})=>{const n=Mdt(),[r,i]=V.useState(!1),[o,a]=V.useState(!1),[s,l]=V.useState(!1),c=v=>{let x=JSON.parse(JSON.stringify(t));x.splice(v,1),e(x)},h=(v,x)=>{let _=JSON.parse(JSON.stringify(t));_[v].items.splice(x,1),e(_)},p=v=>(x,_)=>{a(_?v:!1)},g=v=>(x,_)=>{i(_?v:!1)};return V.useEffect(()=>{t&&(t.length>0?l(!0):l(!1))},[t]),z.jsx("div",{children:s&&z.jsx("div",{className:n.details,children:Ze.Children.toArray(Object.values(t).map((v,x,_)=>z.jsxs(pl,{expanded:r===`Elements ${x}`,onChange:g(`Elements ${x}`),children:[z.jsxs(gl,{expandIcon:z.jsx(Da,{}),children:[z.jsx(_n,{sx:{width:"33%",flexShrink:0},children:`Group ${x}`}),z.jsx(gr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>c(x),children:z.jsx(yu,{})})]}),z.jsx(ml,{className:n.details,children:r===`Elements ${x}`&&z.jsxs(z.Fragment,{children:[z.jsx(yi,{required:!0,label:"Name",variant:"standard",value:v.name?v.name:""}),z.jsx("div",{className:n.details,children:Ze.Children.toArray(Object.values(v.items).map((S,w,C)=>z.jsxs(pl,{expanded:o===`Elements ${w}`,onChange:p(`Elements ${w}`),children:[z.jsxs(gl,{expandIcon:z.jsx(Da,{}),children:[S.title?z.jsx(_n,{sx:{width:"33%",flexShrink:0},children:`Element ${S.title}`}):z.jsx(_n,{sx:{width:"33%",flexShrink:0},children:`Element ${w}`}),z.jsx(gr,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>h(x,w),children:z.jsx(yu,{})})]}),z.jsx(ml,{className:n.details,children:o===`Elements ${w}`&&z.jsxs(ws,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[z.jsx(yi,{disabled:!0,label:"Latitude ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:8,step:1e-4},value:S.latitude}),z.jsx(yi,{disabled:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:8,step:1e-4},value:S.longitude})]})})]})))})]})})]})))})})},Tdt=Qr(t=>({root:{margin:"0",height:"100vh"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3},toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto",display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},title:{flexGrow:1},fileInput:{display:"none"},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)},panelButton:{width:"80%",flexShrink:0,marginTop:"15px"},mapContainer:{float:"right",width:"calc(100% - 560px)",height:"calc(70vh - 95px)",right:"0px",margin:"auto"}})),Cdt=(t,e)=>{console.log(t+e)},Adt=()=>{const t=Tdt(),e=Oh(),n=Zl(),[r,i]=V.useState(!0),[o,a]=V.useState(!1),[s,l]=V.useState(!1),[c,h]=V.useState(!1),[p,g]=V.useState(!1),[v,x]=V.useState(100),_=xr(Be=>Be.session.markers),S=xr(Be=>Be.session.planning),[w,C]=V.useState(_),[T,k]=V.useState(S),[R,L]=V.useState(-1),[F,H]=V.useState("2"),[Z,j]=V.useState(""),[X,le]=V.useState(!0),me=vre(async()=>{console.log("send planning");let Be={};Be.id=T.id,Be.name=T.name,Be.case=T.objetivo.case,Be.meteo=T.meteo,Be.locations=T.loc.map(Tt=>{let Ct=Tt.items.map(Ft=>({latitude:Ft.latitude,longitude:Ft.longitude}));return{name:Tt.name,items:Ct}});let Qe=T.bases.map(Tt=>Tt.devices.id).some((Tt,Ct,Ft)=>Ft.indexOf(Tt)!==Ct);if(j(""),Qe)return j("the device is repeated please change"),null;if(T.loc.length===0)return j("No elements to inspection"),null;let ge=[];const et=await fetch("/api/devices");if(et.ok)ge=await et.json();else throw Error(await et.text());Be.devices=T.bases.map((Tt,Ct)=>{let Ft=JSON.parse(JSON.stringify(Tt)),Gt=ge.find(sn=>sn.id==Tt.devices.id);return delete Ft.devices,Ft.id=Gt.name,Ft.category=Gt.category,Ft.settings.base=Object.values(w.bases[Ct]),Ft.settings.landing_mode=2,Ft}),console.log(Be);const ot=await fetch("http://127.0.0.1:8004/mission_request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Be)});if(ot.ok){const Tt=await ot.json();console.log(Tt),x(0)}else throw Error(await et.text());return!0}),ie=()=>{console.log("uno")},ce=Be=>{let lt=YP.stringify(Be);const Qe=new Blob([lt],{type:"text/plain"}),ge=URL.createObjectURL(Qe),et=document.createElement("a");et.download=`${Be.name}.yaml`,et.href=ge,et.click()},fe=async()=>{const Be={};Be.id=T.id,Be.name=T.name,Be.objetivo=T.objetivo.id,Be.meteo=T.meteo,Be.locations=T.loc.map(Qe=>{let ge=Qe.items.map(et=>({latitude:et.latitude,longitude:et.longitude}));return{name:Qe.name,items:ge}}),console.log(Be);const lt=await fetch("/api/missions/sendTask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Be)});if(lt.ok){const Qe=await lt.json();console.log(Qe)}else throw Error(await lt.text())},xe=Be=>{const lt=Be.target.files[0];if(!lt)return;const Qe=new FileReader;Qe.readAsText(lt),Qe.onload=()=>{let ge=YP.parse(Qe.result);C(et=>({...et,bases:ge.markersbase,elements:ge.elements})),ge.hasOwnProperty("markersbase")&&delete ge.markersbase,ge.hasOwnProperty("elements")&&delete ge.elements,k(ge)},Qe.onerror=()=>{console.log(Qe.error)}},te=async Be=>{console.log("Setdefault");const lt=await fetch("api/planning/setDefault",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Be)});if(lt.ok)await lt.json();else throw Error(await lt.text())},he=Be=>{k({...T,bases:Be})},ve=(Be,lt)=>{H(lt),lt==2||lt==1?i(!0):i(!1),lt==1?a(!0):a(!1),lt==1?l(!0):l(!1)},ze=(Be,lt={})=>{C({...w,bases:Be}),lt.hasOwnProperty("meth")&&(lt.meth=="add"&&k(Qe=>{let ge=JSON.parse(JSON.stringify(Qe.bases)),et={};return Object.keys(Qe.settings).forEach(ot=>{et[ot]={},Object.keys(Qe.settings[ot]).forEach(Tt=>{et[ot][Tt]=Qe.settings[ot][Tt].default})}),ge.push(et),{...Qe,bases:ge}}),lt.meth=="del"&&k(Qe=>{let ge=JSON.parse(JSON.stringify(Qe.bases));return console.log(ge),ge.splice(lt.index,1),{...Qe,bases:ge}}))},Ue=Be=>{C({...w,elements:Be})},rt=Be=>{C(Be)},Fe=Be=>{k({...T,loc:Be})},st=(Be,lt,Qe)=>(Qe=="path-object"&&(Be.length==0?Be.push({type:"powerTower",name:"Elements",linea:!0,items:[lt]}):Be.find(et=>et.items[0].groupId==lt.groupId)===void 0?Be.push({type:"powerTower",name:"Elements",linea:!0,items:[lt]}):Be[+Be.length-1].items.push(lt)),Qe=="object"&&Be.push({type:"powerTower",name:"Elements",linea:!0,items:[lt]}),Qe=="point"&&Be.push({type:"powerTower",name:"Elements",linea:!0,items:[lt]}),Be),ct=Be=>{console.log(Be),k(lt=>{let Qe=JSON.parse(JSON.stringify(lt.loc));return console.log(lt.objetivo.type),{...lt,loc:st(Qe,Be,lt.objetivo.type)}})},Dt=Be=>{console.log("update objetivo"),k(lt=>{let Qe=JSON.parse(JSON.stringify(lt));return Qe.objetivo=Be,Be.type!==lt.objetivo.type&&(Qe.loc=[]),Qe})},zt=()=>{le(Be=>!Be)};return _y(async()=>{if(console.log("change objetivo"),R!==T.objetivo.id){console.log("are different"),L(T.objetivo.id);const Be=await fetch(`/api/planning/missionparam/${T.objetivo.id}`);if(Be.ok){console.log("response ok");const lt=await Be.json();if(console.log(lt),lt.hasOwnProperty("settings"))if(T.bases.length==0){console.log("settings base lenght  zero");let Qe=w.bases.map(()=>{let ge={};return Object.keys(lt).forEach(et=>{ge[et]={},Object.keys(lt[et]).forEach(ot=>{ge[et][ot]=lt[et][ot].default})}),ge});k(ge=>{const et=JSON.parse(JSON.stringify(ge));return et.bases=Qe,et.settings=lt,et})}else{console.log("change basesss");let Qe={};Object.keys(lt.settings).forEach(ge=>{Qe[ge]=lt.settings[ge].default}),console.log(Qe),k(ge=>{const et=JSON.parse(JSON.stringify(ge));return et.bases=et.bases.map(ot=>({...ot,settings:Qe})),et.settings=lt,console.log(et),et})}}else throw Error(await Be.text())}else console.log("are equal")},[T.objetivo,R]),V.useEffect(()=>{F==2&&T.objetivo.id!=3?h(!0):h(!1),F==2&&T.objetivo.id==3?g(!0):g(!1)},[F,T.objetivo]),V.useEffect(()=>{C(_)},[_]),V.useEffect(()=>{k(S)},[S]),V.useEffect(()=>{n(ef.updateMarker(w))},[w]),V.useEffect(()=>{n(ef.updatePlanning(T))},[T]),V.useEffect(()=>{const Be=setInterval(()=>{console.log("response Planning"),x(Qe=>Qe+1)},5e3),lt=async()=>{const Qe=await fetch(`http://127.0.0.1:8004/get_plan?IDs=${T.id}`);if(Qe.ok){const ge=await Qe.json();console.log(ge),Array.isArray(ge.results)&&ge.results.length>0&&ge.results[0].hasOwnProperty("route")&&(console.log("response to check planning"),x(10),n(fh.updateMission({...ge.results[0],version:"3"})))}else throw Error(await Qe.text())};return v<4?lt():clearInterval(Be),()=>clearInterval(Be)},[v]),z.jsx("div",{className:t.root,children:z.jsx(kU,{children:z.jsxs(bE,{notification:Cdt,children:[z.jsx(DR,{}),z.jsx(wE,{}),z.jsxs("div",{className:t.mapContainer,children:[z.jsxs(uj,{children:[X&&z.jsx(Tse,{}),z.jsx(bdt,{markers:w,selectMarkers:T.loc,showTitles:r,showLines:o,moveMarkers:s,setMarkers:rt,SelectItems:c,CreateItems:p,setLocations:ct}),z.jsx(PU,{})]}),z.jsx(AU,{})]}),z.jsx("div",{className:t.sidebarStyle,children:z.jsx("div",{className:t.middleStyle,children:z.jsxs(Ss,{square:!0,children:[z.jsxs(sm,{className:t.toolbar,children:[z.jsx(gr,{edge:"start",sx:{mr:2},onClick:()=>e(-1),children:z.jsx(K0,{})}),z.jsx(_n,{variant:"h6",className:t.title,children:"Planning"}),z.jsx(_n,{children:"Show Mission"}),z.jsx(mre,{checked:X,onChange:zt,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),z.jsx(gr,{onClick:()=>{ce({...T,markersbase:w.bases,elements:w.elements})},children:z.jsx(DU,{})}),z.jsx(gr,{onClick:ie,children:z.jsx(yu,{})}),z.jsx(Wie,{readFile:Be=>{xe(Be)},typefiles:".yaml, .plan, .waypoint, .kml"})]}),z.jsx("div",{className:t.list,children:z.jsxs(ldt,{value:F,children:[z.jsx(ws,{sx:{borderBottom:1,borderColor:"divider"},children:z.jsxs(ddt,{onChange:ve,"aria-label":"lab API tabs example",children:[z.jsx(Zv,{label:"Elements",value:"1"}),z.jsx(Zv,{label:"Planning",value:"2"}),z.jsx(Zv,{label:"Settings",value:"3"})]})}),z.jsx(lN,{value:"1",children:z.jsxs("div",{className:t.details,children:[z.jsxs(pl,{children:[z.jsx(gl,{expandIcon:z.jsx(Da,{}),children:z.jsx(_n,{children:"Base elements"})}),z.jsx(ml,{className:t.details,children:z.jsx(Oce,{markers:w.bases,setMarkers:ze})})]}),z.jsx(D0,{}),z.jsxs(pl,{children:[z.jsx(gl,{expandIcon:z.jsx(Da,{}),children:z.jsx(_n,{children:"Interest Elements"})}),z.jsx(ml,{className:t.details,children:z.jsx(Sdt,{markers:w.elements,setMarkers:Ue})})]}),z.jsx(ws,{textAlign:"center",children:z.jsx(Gr,{variant:"contained",size:"large",className:t.panelButton,onClick:me,children:"Save Global Markers"})})]})}),z.jsx(lN,{value:"2",children:z.jsxs(ws,{className:t.details,children:[z.jsx(yi,{required:!0,fullWidth:!0,label:"id",type:"number",variant:"standard",value:T.id?T.id:123,onChange:Be=>k({...T,id:Be.target.value})}),z.jsx(yi,{required:!0,fullWidth:!0,label:"Name Mission",variant:"standard",value:T.name?T.name:" ",onChange:Be=>k({...T,name:Be.target.value})}),z.jsx(Ju,{emptyValue:null,fullWidth:!0,label:"objetive",value:T.objetivo.id,endpoint:"/api/planning/missionstype",keyGetter:Be=>Be.id,titleGetter:Be=>Be.name,onChange:(Be,lt)=>{Dt(lt[Be.target.value])},getItems:Be=>{console.log(Be),k({...T,objetivo:Be})}}),z.jsxs(pl,{children:[z.jsx(gl,{expandIcon:z.jsx(Da,{}),children:z.jsx(_n,{children:"Points to inspect "})}),z.jsx(ml,{className:t.details,children:z.jsxs("div",{className:t.details,children:[T.objetivo.hasOwnProperty("description")?z.jsx(_n,{children:T.objetivo.description}):z.jsx(_n,{children:"select doing click in the map"}),z.jsx(Edt,{Data:T.loc,setData:Fe})]})})]}),z.jsx(D0,{}),z.jsxs(pl,{children:[z.jsx(gl,{expandIcon:z.jsx(Da,{}),children:z.jsx(_n,{children:"Meteo"})}),z.jsxs(ml,{className:t.details,children:[z.jsx(yi,{required:!0,fullWidth:!0,label:"wind speed",type:"number",variant:"standard",value:12}),z.jsx(yi,{required:!0,fullWidth:!0,label:"Wind direction",type:"number",variant:"standard",value:12}),z.jsx(yi,{required:!0,fullWidth:!0,label:"Temperature",type:"number",variant:"standard",value:12}),z.jsx(yi,{required:!0,fullWidth:!0,label:"Humidity",type:"number",variant:"standard",value:12}),z.jsx(yi,{required:!0,fullWidth:!0,label:"Pressure",type:"number",variant:"standard",value:12})]})]})]})}),z.jsx(lN,{value:"3",children:z.jsxs("div",{className:t.details,children:[z.jsx(xdt,{data:T.bases,param:T.settings,setData:he}),z.jsxs(ws,{textAlign:"center",children:[z.jsx(Gr,{variant:"contained",size:"large",className:t.panelButton,onClick:me,children:"Plannig"}),z.jsx(Gr,{variant:"contained",size:"large",className:t.panelButton,onClick:fe,children:"Planing with Global Setting"}),z.jsx(Gr,{variant:"contained",size:"large",className:t.panelButton,onClick:()=>te({...T,markersbase:w.bases,elements:w.elements}),children:"Save Global Settings"})]}),z.jsx(_n,{children:Z})]})})]})})]})})}),z.jsx("div",{className:t.panelElevation,children:z.jsx("div",{className:t.middleStyle,children:z.jsx(Ss,{square:!0,children:z.jsx($6,{})})})})]})})})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const BO="162",Qc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},eu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Lce=0,d4=1,Dce=2,Pdt=3,Nce=0,FO=1,QS=2,Xd=3,em=0,ql=1,af=2,$p=0,_0=1,f4=2,h4=3,p4=4,zce=5,Cg=100,Bce=101,Fce=102,m4=103,g4=104,$ce=200,jce=201,Uce=202,Vce=203,QI=204,ek=205,Wce=206,Hce=207,Gce=208,qce=209,Yce=210,Xce=211,Kce=212,Zce=213,Jce=214,Qce=0,eue=1,tue=2,E2=3,nue=4,rue=5,iue=6,oue=7,FE=0,sue=1,aue=2,Eh=0,lue=1,cue=2,uue=3,U6=4,due=5,fue=6,hue=7,y4="attached",pue="detached",$O=300,tm=301,dy=302,T2=303,C2=304,$1=306,A2=1e3,hl=1001,P2=1002,xs=1003,tk=1004,Idt=1004,Hv=1005,kdt=1005,Vo=1006,eM=1007,Rdt=1007,ph=1008,Odt=1008,Th=1009,mue=1010,gue=1011,jO=1012,V6=1013,Rp=1014,ou=1015,e1=1016,W6=1017,H6=1018,ey=1020,yue=1021,Ul=1023,vue=1024,xue=1025,ty=1026,F0=1027,G6=1028,q6=1029,_ue=1030,Y6=1031,X6=1033,UA=33776,VA=33777,WA=33778,HA=33779,v4=35840,x4=35841,_4=35842,b4=35843,K6=36196,w4=37492,S4=37496,M4=37808,E4=37809,T4=37810,C4=37811,A4=37812,P4=37813,I4=37814,k4=37815,R4=37816,O4=37817,L4=37818,D4=37819,N4=37820,z4=37821,GA=36492,B4=36494,F4=36495,bue=36283,$4=36284,j4=36285,U4=36286,wue=2200,Sue=2201,Mue=2202,I2=2300,k2=2301,qA=2302,o0=2400,s0=2401,R2=2402,UO=2500,Z6=2501,Ldt=0,Ddt=1,Ndt=2,Eue=3200,Tue=3201,Ty=0,Cue=1,wp="",Yu="srgb",fm="srgb-linear",VO="display-p3",$E="display-p3-linear",O2="linear",fo="srgb",L2="rec709",D2="p3",zdt=0,jv=7680,Bdt=7681,Fdt=7682,$dt=7683,jdt=34055,Udt=34056,Vdt=5386,Wdt=512,Hdt=513,Gdt=514,qdt=515,Ydt=516,Xdt=517,Kdt=518,V4=519,Aue=512,Pue=513,Iue=514,J6=515,kue=516,Rue=517,Oue=518,Lue=519,N2=35044,Zdt=35048,Jdt=35040,Qdt=35045,eft=35049,tft=35041,nft=35046,rft=35050,ift=35042,oft="100",W4="300 es",nk=1035,mh=2e3,z2=2001;class Sf{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const ol=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _K=1234567;const b0=Math.PI/180,t1=180/Math.PI;function fu(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ol[t&255]+ol[t>>8&255]+ol[t>>16&255]+ol[t>>24&255]+"-"+ol[e&255]+ol[e>>8&255]+"-"+ol[e>>16&15|64]+ol[e>>24&255]+"-"+ol[n&63|128]+ol[n>>8&255]+"-"+ol[n>>16&255]+ol[n>>24&255]+ol[r&255]+ol[r>>8&255]+ol[r>>16&255]+ol[r>>24&255]).toLowerCase()}function is(t,e,n){return Math.max(e,Math.min(n,t))}function Q6(t,e){return(t%e+e)%e}function sft(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function aft(t,e,n){return t!==e?(n-t)/(e-t):0}function tM(t,e,n){return(1-n)*t+n*e}function lft(t,e,n,r){return tM(t,e,1-Math.exp(-n*r))}function cft(t,e=1){return e-Math.abs(Q6(t,e*2)-e)}function uft(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function dft(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function fft(t,e){return t+Math.floor(Math.random()*(e-t+1))}function hft(t,e){return t+Math.random()*(e-t)}function pft(t){return t*(.5-Math.random())}function mft(t){t!==void 0&&(_K=t);let e=_K+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function gft(t){return t*b0}function yft(t){return t*t1}function H4(t){return(t&t-1)===0&&t!==0}function vft(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function rk(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function xft(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),h=a((e+r)/2),p=o((e-r)/2),g=a((e-r)/2),v=o((r-e)/2),x=a((r-e)/2);switch(i){case"XYX":t.set(s*h,l*p,l*g,s*c);break;case"YZY":t.set(l*g,s*h,l*p,s*c);break;case"ZXZ":t.set(l*p,l*g,s*h,s*c);break;case"XZX":t.set(s*h,l*x,l*v,s*c);break;case"YXY":t.set(l*v,s*h,l*x,s*c);break;case"ZYZ":t.set(l*x,l*v,s*h,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Vl(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Rr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Due={DEG2RAD:b0,RAD2DEG:t1,generateUUID:fu,clamp:is,euclideanModulo:Q6,mapLinear:sft,inverseLerp:aft,lerp:tM,damp:lft,pingpong:cft,smoothstep:uft,smootherstep:dft,randInt:fft,randFloat:hft,randFloatSpread:pft,seededRandom:mft,degToRad:gft,radToDeg:yft,isPowerOfTwo:H4,ceilPowerOfTwo:vft,floorPowerOfTwo:rk,setQuaternionFromProperEuler:xft,normalize:Rr,denormalize:Vl};class Ht{constructor(e=0,n=0){Ht.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(is(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class kr{constructor(e,n,r,i,o,a,s,l,c){kr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const h=this.elements;return h[0]=e,h[1]=i,h[2]=s,h[3]=n,h[4]=o,h[5]=l,h[6]=r,h[7]=a,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],h=r[4],p=r[7],g=r[2],v=r[5],x=r[8],_=i[0],S=i[3],w=i[6],C=i[1],T=i[4],k=i[7],R=i[2],L=i[5],F=i[8];return o[0]=a*_+s*C+l*R,o[3]=a*S+s*T+l*L,o[6]=a*w+s*k+l*F,o[1]=c*_+h*C+p*R,o[4]=c*S+h*T+p*L,o[7]=c*w+h*k+p*F,o[2]=g*_+v*C+x*R,o[5]=g*S+v*T+x*L,o[8]=g*w+v*k+x*F,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],h=e[8];return n*a*h-n*s*c-r*o*h+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],h=e[8],p=h*a-s*c,g=s*l-h*o,v=c*o-a*l,x=n*p+r*g+i*v;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/x;return e[0]=p*_,e[1]=(i*c-h*r)*_,e[2]=(s*r-i*a)*_,e[3]=g*_,e[4]=(h*n-i*l)*_,e[5]=(i*o-s*n)*_,e[6]=v*_,e[7]=(r*l-c*n)*_,e[8]=(a*n-r*o)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(cN.makeScale(e,n)),this}rotate(e){return this.premultiply(cN.makeRotation(-e)),this}translate(e,n){return this.premultiply(cN.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const cN=new kr;function Nue(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const _ft={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function B_(t,e){return new _ft[t](e)}function B2(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function zue(){const t=B2("canvas");return t.style.display="block",t}const bK={};function Bue(t){t in bK||(bK[t]=!0,console.warn(t))}const wK=new kr().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),SK=new kr().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),yC={[fm]:{transfer:O2,primaries:L2,toReference:t=>t,fromReference:t=>t},[Yu]:{transfer:fo,primaries:L2,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[$E]:{transfer:O2,primaries:D2,toReference:t=>t.applyMatrix3(SK),fromReference:t=>t.applyMatrix3(wK)},[VO]:{transfer:fo,primaries:D2,toReference:t=>t.convertSRGBToLinear().applyMatrix3(SK),fromReference:t=>t.applyMatrix3(wK).convertLinearToSRGB()}},bft=new Set([fm,$E]),Ni={enabled:!0,_workingColorSpace:fm,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!bft.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=yC[e].toReference,i=yC[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return yC[t].primaries},getTransfer:function(t){return t===wp?O2:yC[t].transfer}};function cb(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function uN(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Fx;class e8{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Fx===void 0&&(Fx=B2("canvas")),Fx.width=e.width,Fx.height=e.height;const r=Fx.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Fx}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=B2("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=cb(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(cb(n[r]/255)*255):n[r]=cb(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let wft=0;class a0{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:wft++}),this.uuid=fu(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(dN(i[a].image)):o.push(dN(i[a]))}else o=dN(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function dN(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?e8.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Sft=0;class qo extends Sf{constructor(e=qo.DEFAULT_IMAGE,n=qo.DEFAULT_MAPPING,r=hl,i=hl,o=Vo,a=ph,s=Ul,l=Th,c=qo.DEFAULT_ANISOTROPY,h=wp){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sft++}),this.uuid=fu(),this.name="",this.source=new a0(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ht(0,0),this.repeat=new Ht(1,1),this.center=new Ht(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==$O)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case A2:e.x=e.x-Math.floor(e.x);break;case hl:e.x=e.x<0?0:1;break;case P2:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case A2:e.y=e.y-Math.floor(e.y);break;case hl:e.y=e.y<0?0:1;break;case P2:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}qo.DEFAULT_IMAGE=null;qo.DEFAULT_MAPPING=$O;qo.DEFAULT_ANISOTROPY=1;class zi{constructor(e=0,n=0,r=0,i=1){zi.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],h=l[4],p=l[8],g=l[1],v=l[5],x=l[9],_=l[2],S=l[6],w=l[10];if(Math.abs(h-g)<.01&&Math.abs(p-_)<.01&&Math.abs(x-S)<.01){if(Math.abs(h+g)<.1&&Math.abs(p+_)<.1&&Math.abs(x+S)<.1&&Math.abs(c+v+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const T=(c+1)/2,k=(v+1)/2,R=(w+1)/2,L=(h+g)/4,F=(p+_)/4,H=(x+S)/4;return T>k&&T>R?T<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(T),i=L/r,o=F/r):k>R?k<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(k),r=L/i,o=H/i):R<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(R),r=F/o,i=H/o),this.set(r,i,o,n),this}let C=Math.sqrt((S-x)*(S-x)+(p-_)*(p-_)+(g-h)*(g-h));return Math.abs(C)<.001&&(C=1),this.x=(S-x)/C,this.y=(p-_)/C,this.z=(g-h)/C,this.w=Math.acos((c+v+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Fue extends Sf{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new zi(0,0,e,n),this.scissorTest=!1,this.viewport=new zi(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Vo,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},r);const o=new qo(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new a0(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class yf extends Fue{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class WO extends qo{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=xs,this.minFilter=xs,this.wrapR=hl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Mft extends yf{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new WO(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class t8 extends qo{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=xs,this.minFilter=xs,this.wrapR=hl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Eft extends yf{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new t8(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class pa{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],h=r[i+2],p=r[i+3];const g=o[a+0],v=o[a+1],x=o[a+2],_=o[a+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=h,e[n+3]=p;return}if(s===1){e[n+0]=g,e[n+1]=v,e[n+2]=x,e[n+3]=_;return}if(p!==_||l!==g||c!==v||h!==x){let S=1-s;const w=l*g+c*v+h*x+p*_,C=w>=0?1:-1,T=1-w*w;if(T>Number.EPSILON){const R=Math.sqrt(T),L=Math.atan2(R,w*C);S=Math.sin(S*L)/R,s=Math.sin(s*L)/R}const k=s*C;if(l=l*S+g*k,c=c*S+v*k,h=h*S+x*k,p=p*S+_*k,S===1-s){const R=1/Math.sqrt(l*l+c*c+h*h+p*p);l*=R,c*=R,h*=R,p*=R}}e[n]=l,e[n+1]=c,e[n+2]=h,e[n+3]=p}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],h=r[i+3],p=o[a],g=o[a+1],v=o[a+2],x=o[a+3];return e[n]=s*x+h*p+l*v-c*g,e[n+1]=l*x+h*g+c*p-s*v,e[n+2]=c*x+h*v+s*g-l*p,e[n+3]=h*x-s*p-l*g-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),h=s(i/2),p=s(o/2),g=l(r/2),v=l(i/2),x=l(o/2);switch(a){case"XYZ":this._x=g*h*p+c*v*x,this._y=c*v*p-g*h*x,this._z=c*h*x+g*v*p,this._w=c*h*p-g*v*x;break;case"YXZ":this._x=g*h*p+c*v*x,this._y=c*v*p-g*h*x,this._z=c*h*x-g*v*p,this._w=c*h*p+g*v*x;break;case"ZXY":this._x=g*h*p-c*v*x,this._y=c*v*p+g*h*x,this._z=c*h*x+g*v*p,this._w=c*h*p-g*v*x;break;case"ZYX":this._x=g*h*p-c*v*x,this._y=c*v*p+g*h*x,this._z=c*h*x-g*v*p,this._w=c*h*p+g*v*x;break;case"YZX":this._x=g*h*p+c*v*x,this._y=c*v*p+g*h*x,this._z=c*h*x-g*v*p,this._w=c*h*p-g*v*x;break;case"XZY":this._x=g*h*p-c*v*x,this._y=c*v*p-g*h*x,this._z=c*h*x+g*v*p,this._w=c*h*p+g*v*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],h=n[6],p=n[10],g=r+s+p;if(g>0){const v=.5/Math.sqrt(g+1);this._w=.25/v,this._x=(h-l)*v,this._y=(o-c)*v,this._z=(a-i)*v}else if(r>s&&r>p){const v=2*Math.sqrt(1+r-s-p);this._w=(h-l)/v,this._x=.25*v,this._y=(i+a)/v,this._z=(o+c)/v}else if(s>p){const v=2*Math.sqrt(1+s-r-p);this._w=(o-c)/v,this._x=(i+a)/v,this._y=.25*v,this._z=(l+h)/v}else{const v=2*Math.sqrt(1+p-r-s);this._w=(a-i)/v,this._x=(o+c)/v,this._y=(l+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(is(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,h=n._w;return this._x=r*h+a*s+i*c-o*l,this._y=i*h+a*l+o*s-r*c,this._z=o*h+a*c+r*l-i*s,this._w=a*h-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const v=1-n;return this._w=v*a+n*this._w,this._x=v*r+n*this._x,this._y=v*i+n*this._y,this._z=v*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),h=Math.atan2(c,s),p=Math.sin((1-n)*h)/c,g=Math.sin(n*h)/c;return this._w=a*p+this._w*g,this._x=r*p+this._x*g,this._y=i*p+this._y*g,this._z=o*p+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Oe{constructor(e=0,n=0,r=0){Oe.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(MK.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(MK.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*i-s*r),h=2*(s*n-o*i),p=2*(o*r-a*n);return this.x=n+l*c+a*p-s*h,this.y=r+l*h+s*c-o*p,this.z=i+l*p+o*h-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return fN.copy(this).projectOnVector(e),this.sub(fN)}reflect(e){return this.sub(fN.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(is(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const fN=new Oe,MK=new pa;class Yl{constructor(e=new Oe(1/0,1/0,1/0),n=new Oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Vd.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Vd.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Vd.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,Vd):Vd.fromBufferAttribute(o,a),Vd.applyMatrix4(e.matrixWorld),this.expandByPoint(Vd);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),vC.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),vC.copy(r.boundingBox)),vC.applyMatrix4(e.matrixWorld),this.union(vC)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Vd),Vd.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(eS),xC.subVectors(this.max,eS),$x.subVectors(e.a,eS),jx.subVectors(e.b,eS),Ux.subVectors(e.c,eS),sg.subVectors(jx,$x),ag.subVectors(Ux,jx),xv.subVectors($x,Ux);let n=[0,-sg.z,sg.y,0,-ag.z,ag.y,0,-xv.z,xv.y,sg.z,0,-sg.x,ag.z,0,-ag.x,xv.z,0,-xv.x,-sg.y,sg.x,0,-ag.y,ag.x,0,-xv.y,xv.x,0];return!hN(n,$x,jx,Ux,xC)||(n=[1,0,0,0,1,0,0,0,1],!hN(n,$x,jx,Ux,xC))?!1:(_C.crossVectors(sg,ag),n=[_C.x,_C.y,_C.z],hN(n,$x,jx,Ux,xC))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Vd).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Vd).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(up[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),up[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),up[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),up[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),up[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),up[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),up[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),up[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(up),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const up=[new Oe,new Oe,new Oe,new Oe,new Oe,new Oe,new Oe,new Oe],Vd=new Oe,vC=new Yl,$x=new Oe,jx=new Oe,Ux=new Oe,sg=new Oe,ag=new Oe,xv=new Oe,eS=new Oe,xC=new Oe,_C=new Oe,_v=new Oe;function hN(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){_v.fromArray(t,o);const s=i.x*Math.abs(_v.x)+i.y*Math.abs(_v.y)+i.z*Math.abs(_v.z),l=e.dot(_v),c=n.dot(_v),h=r.dot(_v);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>s)return!1}return!0}const Tft=new Yl,tS=new Oe,pN=new Oe;class xl{constructor(e=new Oe,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Tft.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;tS.subVectors(e,this.center);const n=tS.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(tS,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(pN.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(tS.copy(e.center).add(pN)),this.expandByPoint(tS.copy(e.center).sub(pN))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const dp=new Oe,mN=new Oe,bC=new Oe,lg=new Oe,gN=new Oe,wC=new Oe,yN=new Oe;class Cy{constructor(e=new Oe,n=new Oe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,dp)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=dp.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(dp.copy(this.origin).addScaledVector(this.direction,n),dp.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){mN.copy(e).add(n).multiplyScalar(.5),bC.copy(n).sub(e).normalize(),lg.copy(this.origin).sub(mN);const o=e.distanceTo(n)*.5,a=-this.direction.dot(bC),s=lg.dot(this.direction),l=-lg.dot(bC),c=lg.lengthSq(),h=Math.abs(1-a*a);let p,g,v,x;if(h>0)if(p=a*l-s,g=a*s-l,x=o*h,p>=0)if(g>=-x)if(g<=x){const _=1/h;p*=_,g*=_,v=p*(p+a*g+2*s)+g*(a*p+g+2*l)+c}else g=o,p=Math.max(0,-(a*g+s)),v=-p*p+g*(g+2*l)+c;else g=-o,p=Math.max(0,-(a*g+s)),v=-p*p+g*(g+2*l)+c;else g<=-x?(p=Math.max(0,-(-a*o+s)),g=p>0?-o:Math.min(Math.max(-o,-l),o),v=-p*p+g*(g+2*l)+c):g<=x?(p=0,g=Math.min(Math.max(-o,-l),o),v=g*(g+2*l)+c):(p=Math.max(0,-(a*o+s)),g=p>0?o:Math.min(Math.max(-o,-l),o),v=-p*p+g*(g+2*l)+c);else g=a>0?-o:o,p=Math.max(0,-(a*g+s)),v=-p*p+g*(g+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(mN).addScaledVector(bC,g),v}intersectSphere(e,n){dp.subVectors(e.center,this.origin);const r=dp.dot(this.direction),i=dp.dot(dp)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,g=this.origin;return c>=0?(r=(e.min.x-g.x)*c,i=(e.max.x-g.x)*c):(r=(e.max.x-g.x)*c,i=(e.min.x-g.x)*c),h>=0?(o=(e.min.y-g.y)*h,a=(e.max.y-g.y)*h):(o=(e.max.y-g.y)*h,a=(e.min.y-g.y)*h),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),p>=0?(s=(e.min.z-g.z)*p,l=(e.max.z-g.z)*p):(s=(e.max.z-g.z)*p,l=(e.min.z-g.z)*p),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,dp)!==null}intersectTriangle(e,n,r,i,o){gN.subVectors(n,e),wC.subVectors(r,e),yN.crossVectors(gN,wC);let a=this.direction.dot(yN),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;lg.subVectors(this.origin,e);const l=s*this.direction.dot(wC.crossVectors(lg,wC));if(l<0)return null;const c=s*this.direction.dot(gN.cross(lg));if(c<0||l+c>a)return null;const h=-s*lg.dot(yN);return h<0?null:this.at(h/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _r{constructor(e,n,r,i,o,a,s,l,c,h,p,g,v,x,_,S){_r.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,h,p,g,v,x,_,S)}set(e,n,r,i,o,a,s,l,c,h,p,g,v,x,_,S){const w=this.elements;return w[0]=e,w[4]=n,w[8]=r,w[12]=i,w[1]=o,w[5]=a,w[9]=s,w[13]=l,w[2]=c,w[6]=h,w[10]=p,w[14]=g,w[3]=v,w[7]=x,w[11]=_,w[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _r().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Vx.setFromMatrixColumn(e,0).length(),o=1/Vx.setFromMatrixColumn(e,1).length(),a=1/Vx.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),h=Math.cos(o),p=Math.sin(o);if(e.order==="XYZ"){const g=a*h,v=a*p,x=s*h,_=s*p;n[0]=l*h,n[4]=-l*p,n[8]=c,n[1]=v+x*c,n[5]=g-_*c,n[9]=-s*l,n[2]=_-g*c,n[6]=x+v*c,n[10]=a*l}else if(e.order==="YXZ"){const g=l*h,v=l*p,x=c*h,_=c*p;n[0]=g+_*s,n[4]=x*s-v,n[8]=a*c,n[1]=a*p,n[5]=a*h,n[9]=-s,n[2]=v*s-x,n[6]=_+g*s,n[10]=a*l}else if(e.order==="ZXY"){const g=l*h,v=l*p,x=c*h,_=c*p;n[0]=g-_*s,n[4]=-a*p,n[8]=x+v*s,n[1]=v+x*s,n[5]=a*h,n[9]=_-g*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const g=a*h,v=a*p,x=s*h,_=s*p;n[0]=l*h,n[4]=x*c-v,n[8]=g*c+_,n[1]=l*p,n[5]=_*c+g,n[9]=v*c-x,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const g=a*l,v=a*c,x=s*l,_=s*c;n[0]=l*h,n[4]=_-g*p,n[8]=x*p+v,n[1]=p,n[5]=a*h,n[9]=-s*h,n[2]=-c*h,n[6]=v*p+x,n[10]=g-_*p}else if(e.order==="XZY"){const g=a*l,v=a*c,x=s*l,_=s*c;n[0]=l*h,n[4]=-p,n[8]=c*h,n[1]=g*p+_,n[5]=a*h,n[9]=v*p-x,n[2]=x*p-v,n[6]=s*h,n[10]=_*p+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Cft,e,Aft)}lookAt(e,n,r){const i=this.elements;return Gc.subVectors(e,n),Gc.lengthSq()===0&&(Gc.z=1),Gc.normalize(),cg.crossVectors(r,Gc),cg.lengthSq()===0&&(Math.abs(r.z)===1?Gc.x+=1e-4:Gc.z+=1e-4,Gc.normalize(),cg.crossVectors(r,Gc)),cg.normalize(),SC.crossVectors(Gc,cg),i[0]=cg.x,i[4]=SC.x,i[8]=Gc.x,i[1]=cg.y,i[5]=SC.y,i[9]=Gc.y,i[2]=cg.z,i[6]=SC.z,i[10]=Gc.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],h=r[1],p=r[5],g=r[9],v=r[13],x=r[2],_=r[6],S=r[10],w=r[14],C=r[3],T=r[7],k=r[11],R=r[15],L=i[0],F=i[4],H=i[8],Z=i[12],j=i[1],X=i[5],le=i[9],me=i[13],ie=i[2],ce=i[6],fe=i[10],xe=i[14],te=i[3],he=i[7],ve=i[11],ze=i[15];return o[0]=a*L+s*j+l*ie+c*te,o[4]=a*F+s*X+l*ce+c*he,o[8]=a*H+s*le+l*fe+c*ve,o[12]=a*Z+s*me+l*xe+c*ze,o[1]=h*L+p*j+g*ie+v*te,o[5]=h*F+p*X+g*ce+v*he,o[9]=h*H+p*le+g*fe+v*ve,o[13]=h*Z+p*me+g*xe+v*ze,o[2]=x*L+_*j+S*ie+w*te,o[6]=x*F+_*X+S*ce+w*he,o[10]=x*H+_*le+S*fe+w*ve,o[14]=x*Z+_*me+S*xe+w*ze,o[3]=C*L+T*j+k*ie+R*te,o[7]=C*F+T*X+k*ce+R*he,o[11]=C*H+T*le+k*fe+R*ve,o[15]=C*Z+T*me+k*xe+R*ze,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],h=e[2],p=e[6],g=e[10],v=e[14],x=e[3],_=e[7],S=e[11],w=e[15];return x*(+o*l*p-i*c*p-o*s*g+r*c*g+i*s*v-r*l*v)+_*(+n*l*v-n*c*g+o*a*g-i*a*v+i*c*h-o*l*h)+S*(+n*c*p-n*s*v-o*a*p+r*a*v+o*s*h-r*c*h)+w*(-i*s*h-n*l*p+n*s*g+i*a*p-r*a*g+r*l*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],h=e[8],p=e[9],g=e[10],v=e[11],x=e[12],_=e[13],S=e[14],w=e[15],C=p*S*c-_*g*c+_*l*v-s*S*v-p*l*w+s*g*w,T=x*g*c-h*S*c-x*l*v+a*S*v+h*l*w-a*g*w,k=h*_*c-x*p*c+x*s*v-a*_*v-h*s*w+a*p*w,R=x*p*l-h*_*l-x*s*g+a*_*g+h*s*S-a*p*S,L=n*C+r*T+i*k+o*R;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/L;return e[0]=C*F,e[1]=(_*g*o-p*S*o-_*i*v+r*S*v+p*i*w-r*g*w)*F,e[2]=(s*S*o-_*l*o+_*i*c-r*S*c-s*i*w+r*l*w)*F,e[3]=(p*l*o-s*g*o-p*i*c+r*g*c+s*i*v-r*l*v)*F,e[4]=T*F,e[5]=(h*S*o-x*g*o+x*i*v-n*S*v-h*i*w+n*g*w)*F,e[6]=(x*l*o-a*S*o-x*i*c+n*S*c+a*i*w-n*l*w)*F,e[7]=(a*g*o-h*l*o+h*i*c-n*g*c-a*i*v+n*l*v)*F,e[8]=k*F,e[9]=(x*p*o-h*_*o-x*r*v+n*_*v+h*r*w-n*p*w)*F,e[10]=(a*_*o-x*s*o+x*r*c-n*_*c-a*r*w+n*s*w)*F,e[11]=(h*s*o-a*p*o-h*r*c+n*p*c+a*r*v-n*s*v)*F,e[12]=R*F,e[13]=(h*_*i-x*p*i+x*r*g-n*_*g-h*r*S+n*p*S)*F,e[14]=(x*s*i-a*_*i-x*r*l+n*_*l+a*r*S-n*s*S)*F,e[15]=(a*p*i-h*s*i+h*r*l-n*p*l-a*r*g+n*s*g)*F,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,h=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,h*s+r,h*l-i*a,0,c*l-i*s,h*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,h=a+a,p=s+s,g=o*c,v=o*h,x=o*p,_=a*h,S=a*p,w=s*p,C=l*c,T=l*h,k=l*p,R=r.x,L=r.y,F=r.z;return i[0]=(1-(_+w))*R,i[1]=(v+k)*R,i[2]=(x-T)*R,i[3]=0,i[4]=(v-k)*L,i[5]=(1-(g+w))*L,i[6]=(S+C)*L,i[7]=0,i[8]=(x+T)*F,i[9]=(S-C)*F,i[10]=(1-(g+_))*F,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Vx.set(i[0],i[1],i[2]).length();const a=Vx.set(i[4],i[5],i[6]).length(),s=Vx.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Wd.copy(this);const c=1/o,h=1/a,p=1/s;return Wd.elements[0]*=c,Wd.elements[1]*=c,Wd.elements[2]*=c,Wd.elements[4]*=h,Wd.elements[5]*=h,Wd.elements[6]*=h,Wd.elements[8]*=p,Wd.elements[9]*=p,Wd.elements[10]*=p,n.setFromRotationMatrix(Wd),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=mh){const l=this.elements,c=2*o/(n-e),h=2*o/(r-i),p=(n+e)/(n-e),g=(r+i)/(r-i);let v,x;if(s===mh)v=-(a+o)/(a-o),x=-2*a*o/(a-o);else if(s===z2)v=-a/(a-o),x=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=h,l[9]=g,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=mh){const l=this.elements,c=1/(n-e),h=1/(r-i),p=1/(a-o),g=(n+e)*c,v=(r+i)*h;let x,_;if(s===mh)x=(a+o)*p,_=-2*p;else if(s===z2)x=o*p,_=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-g,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=_,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Vx=new Oe,Wd=new _r,Cft=new Oe(0,0,0),Aft=new Oe(1,1,1),cg=new Oe,SC=new Oe,Gc=new Oe,EK=new _r,TK=new pa;class xu{constructor(e=0,n=0,r=0,i=xu.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],h=i[9],p=i[2],g=i[6],v=i[10];switch(n){case"XYZ":this._y=Math.asin(is(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(g,c),this._z=0);break;case"YXZ":this._x=Math.asin(-is(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(s,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-p,o),this._z=0);break;case"ZXY":this._x=Math.asin(is(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-is(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(g,v),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(is(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-p,o)):(this._x=0,this._y=Math.atan2(s,v));break;case"XZY":this._z=Math.asin(-is(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(g,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return EK.makeRotationFromQuaternion(e),this.setFromRotationMatrix(EK,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return TK.setFromEuler(this),this.setFromQuaternion(TK,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xu.DEFAULT_ORDER="XYZ";class w0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Pft=0;const CK=new Oe,Wx=new pa,fp=new _r,MC=new Oe,nS=new Oe,Ift=new Oe,kft=new pa,AK=new Oe(1,0,0),PK=new Oe(0,1,0),IK=new Oe(0,0,1),Rft={type:"added"},Oft={type:"removed"},vN={type:"childadded",child:null},xN={type:"childremoved",child:null};class xi extends Sf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Pft++}),this.uuid=fu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xi.DEFAULT_UP.clone();const e=new Oe,n=new xu,r=new pa,i=new Oe(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new _r},normalMatrix:{value:new kr}}),this.matrix=new _r,this.matrixWorld=new _r,this.matrixAutoUpdate=xi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=xi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new w0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Wx.setFromAxisAngle(e,n),this.quaternion.multiply(Wx),this}rotateOnWorldAxis(e,n){return Wx.setFromAxisAngle(e,n),this.quaternion.premultiply(Wx),this}rotateX(e){return this.rotateOnAxis(AK,e)}rotateY(e){return this.rotateOnAxis(PK,e)}rotateZ(e){return this.rotateOnAxis(IK,e)}translateOnAxis(e,n){return CK.copy(e).applyQuaternion(this.quaternion),this.position.add(CK.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(AK,e)}translateY(e){return this.translateOnAxis(PK,e)}translateZ(e){return this.translateOnAxis(IK,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fp.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?MC.copy(e):MC.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),nS.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fp.lookAt(nS,MC,this.up):fp.lookAt(MC,nS,this.up),this.quaternion.setFromRotationMatrix(fp),i&&(fp.extractRotation(i.matrixWorld),Wx.setFromRotationMatrix(fp),this.quaternion.premultiply(Wx.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Rft),vN.child=e,this.dispatchEvent(vN),vN.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Oft),xN.child=e,this.dispatchEvent(xN),xN.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),fp.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fp.multiply(e.parent.matrixWorld)),e.applyMatrix4(fp),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nS,e,Ift),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nS,kft,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++){const s=i[o];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const p=l[c];o(e.shapes,p)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),h=a(e.images),p=a(e.shapes),g=a(e.skeletons),v=a(e.animations),x=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),h.length>0&&(r.images=h),p.length>0&&(r.shapes=p),g.length>0&&(r.skeletons=g),v.length>0&&(r.animations=v),x.length>0&&(r.nodes=x)}return r.object=i,r;function a(s){const l=[];for(const c in s){const h=s[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}xi.DEFAULT_UP=new Oe(0,1,0);xi.DEFAULT_MATRIX_AUTO_UPDATE=!0;xi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Hd=new Oe,hp=new Oe,_N=new Oe,pp=new Oe,Hx=new Oe,Gx=new Oe,kK=new Oe,bN=new Oe,wN=new Oe,SN=new Oe;class su{constructor(e=new Oe,n=new Oe,r=new Oe){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Hd.subVectors(e,n),i.cross(Hd);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Hd.subVectors(i,n),hp.subVectors(r,n),_N.subVectors(e,n);const a=Hd.dot(Hd),s=Hd.dot(hp),l=Hd.dot(_N),c=hp.dot(hp),h=hp.dot(_N),p=a*c-s*s;if(p===0)return o.set(0,0,0),null;const g=1/p,v=(c*l-s*h)*g,x=(a*h-s*l)*g;return o.set(1-v-x,x,v)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,pp)===null?!1:pp.x>=0&&pp.y>=0&&pp.x+pp.y<=1}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,pp)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,pp.x),l.addScaledVector(a,pp.y),l.addScaledVector(s,pp.z),l)}static isFrontFacing(e,n,r,i){return Hd.subVectors(r,n),hp.subVectors(e,n),Hd.cross(hp).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Hd.subVectors(this.c,this.b),hp.subVectors(this.a,this.b),Hd.cross(hp).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return su.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return su.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return su.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return su.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return su.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;Hx.subVectors(i,r),Gx.subVectors(o,r),bN.subVectors(e,r);const l=Hx.dot(bN),c=Gx.dot(bN);if(l<=0&&c<=0)return n.copy(r);wN.subVectors(e,i);const h=Hx.dot(wN),p=Gx.dot(wN);if(h>=0&&p<=h)return n.copy(i);const g=l*p-h*c;if(g<=0&&l>=0&&h<=0)return a=l/(l-h),n.copy(r).addScaledVector(Hx,a);SN.subVectors(e,o);const v=Hx.dot(SN),x=Gx.dot(SN);if(x>=0&&v<=x)return n.copy(o);const _=v*c-l*x;if(_<=0&&c>=0&&x<=0)return s=c/(c-x),n.copy(r).addScaledVector(Gx,s);const S=h*x-v*p;if(S<=0&&p-h>=0&&v-x>=0)return kK.subVectors(o,i),s=(p-h)/(p-h+(v-x)),n.copy(i).addScaledVector(kK,s);const w=1/(S+_+g);return a=_*w,s=g*w,n.copy(r).addScaledVector(Hx,a).addScaledVector(Gx,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const $ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ug={h:0,s:0,l:0},EC={h:0,s:0,l:0};function MN(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Fn{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Yu){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ni.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Ni.workingColorSpace){return this.r=e,this.g=n,this.b=r,Ni.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Ni.workingColorSpace){if(e=Q6(e,1),n=is(n,0,1),r=is(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=MN(a,o,e+1/3),this.g=MN(a,o,e),this.b=MN(a,o,e-1/3)}return Ni.toWorkingColorSpace(this,i),this}setStyle(e,n=Yu){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Yu){const r=$ue[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=cb(e.r),this.g=cb(e.g),this.b=cb(e.b),this}copyLinearToSRGB(e){return this.r=uN(e.r),this.g=uN(e.g),this.b=uN(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Yu){return Ni.fromWorkingColorSpace(sl.copy(this),e),Math.round(is(sl.r*255,0,255))*65536+Math.round(is(sl.g*255,0,255))*256+Math.round(is(sl.b*255,0,255))}getHexString(e=Yu){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ni.workingColorSpace){Ni.fromWorkingColorSpace(sl.copy(this),n);const r=sl.r,i=sl.g,o=sl.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const h=(s+a)/2;if(s===a)l=0,c=0;else{const p=a-s;switch(c=h<=.5?p/(a+s):p/(2-a-s),a){case r:l=(i-o)/p+(i<o?6:0);break;case i:l=(o-r)/p+2;break;case o:l=(r-i)/p+4;break}l/=6}return e.h=l,e.s=c,e.l=h,e}getRGB(e,n=Ni.workingColorSpace){return Ni.fromWorkingColorSpace(sl.copy(this),n),e.r=sl.r,e.g=sl.g,e.b=sl.b,e}getStyle(e=Yu){Ni.fromWorkingColorSpace(sl.copy(this),e);const n=sl.r,r=sl.g,i=sl.b;return e!==Yu?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(ug),this.setHSL(ug.h+e,ug.s+n,ug.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ug),e.getHSL(EC);const r=tM(ug.h,EC.h,n),i=tM(ug.s,EC.s,n),o=tM(ug.l,EC.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const sl=new Fn;Fn.NAMES=$ue;let Lft=0;class ja extends Sf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Lft++}),this.uuid=fu(),this.name="",this.type="Material",this.blending=_0,this.side=em,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=QI,this.blendDst=ek,this.blendEquation=Cg,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Fn(0,0,0),this.blendAlpha=0,this.depthFunc=E2,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=V4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jv,this.stencilZFail=jv,this.stencilZPass=jv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==_0&&(r.blending=this.blending),this.side!==em&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==QI&&(r.blendSrc=this.blendSrc),this.blendDst!==ek&&(r.blendDst=this.blendDst),this.blendEquation!==Cg&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==E2&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==V4&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==jv&&(r.stencilFail=this.stencilFail),this.stencilZFail!==jv&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==jv&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ay extends ja{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xu,this.combine=FE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sp=Dft();function Dft(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;!(c&8388608);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,o[l]=c|h}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function gc(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=is(t,-65504,65504),Sp.floatView[0]=t;const e=Sp.uint32View[0],n=e>>23&511;return Sp.baseTable[n]+((e&8388607)>>Sp.shiftTable[n])}function ES(t){const e=t>>10;return Sp.uint32View[0]=Sp.mantissaTable[Sp.offsetTable[e]+(t&1023)]+Sp.exponentTable[e],Sp.floatView[0]}const Nft={toHalfFloat:gc,fromHalfFloat:ES},Is=new Oe,TC=new Ht;class Qi{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=N2,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ou,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Bue("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)TC.fromBufferAttribute(this,n),TC.applyMatrix3(e),this.setXY(n,TC.x,TC.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Is.fromBufferAttribute(this,n),Is.applyMatrix3(e),this.setXYZ(n,Is.x,Is.y,Is.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Is.fromBufferAttribute(this,n),Is.applyMatrix4(e),this.setXYZ(n,Is.x,Is.y,Is.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Is.fromBufferAttribute(this,n),Is.applyNormalMatrix(e),this.setXYZ(n,Is.x,Is.y,Is.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Is.fromBufferAttribute(this,n),Is.transformDirection(e),this.setXYZ(n,Is.x,Is.y,Is.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Vl(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Rr(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Vl(n,this.array)),n}setX(e,n){return this.normalized&&(n=Rr(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Vl(n,this.array)),n}setY(e,n){return this.normalized&&(n=Rr(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Vl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Rr(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Vl(n,this.array)),n}setW(e,n){return this.normalized&&(n=Rr(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Rr(n,this.array),r=Rr(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Rr(n,this.array),r=Rr(r,this.array),i=Rr(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Rr(n,this.array),r=Rr(r,this.array),i=Rr(i,this.array),o=Rr(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==N2&&(e.usage=this.usage),e}}class zft extends Qi{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Bft extends Qi{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Fft extends Qi{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class $ft extends Qi{constructor(e,n,r){super(new Int16Array(e),n,r)}}class n8 extends Qi{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class jft extends Qi{constructor(e,n,r){super(new Int32Array(e),n,r)}}class r8 extends Qi{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Uft extends Qi{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=ES(this.array[e*this.itemSize]);return this.normalized&&(n=Vl(n,this.array)),n}setX(e,n){return this.normalized&&(n=Rr(n,this.array)),this.array[e*this.itemSize]=gc(n),this}getY(e){let n=ES(this.array[e*this.itemSize+1]);return this.normalized&&(n=Vl(n,this.array)),n}setY(e,n){return this.normalized&&(n=Rr(n,this.array)),this.array[e*this.itemSize+1]=gc(n),this}getZ(e){let n=ES(this.array[e*this.itemSize+2]);return this.normalized&&(n=Vl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Rr(n,this.array)),this.array[e*this.itemSize+2]=gc(n),this}getW(e){let n=ES(this.array[e*this.itemSize+3]);return this.normalized&&(n=Vl(n,this.array)),n}setW(e,n){return this.normalized&&(n=Rr(n,this.array)),this.array[e*this.itemSize+3]=gc(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Rr(n,this.array),r=Rr(r,this.array)),this.array[e+0]=gc(n),this.array[e+1]=gc(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Rr(n,this.array),r=Rr(r,this.array),i=Rr(i,this.array)),this.array[e+0]=gc(n),this.array[e+1]=gc(r),this.array[e+2]=gc(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Rr(n,this.array),r=Rr(r,this.array),i=Rr(i,this.array),o=Rr(o,this.array)),this.array[e+0]=gc(n),this.array[e+1]=gc(r),this.array[e+2]=gc(i),this.array[e+3]=gc(o),this}}class ir extends Qi{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Vft=0;const Hu=new _r,EN=new xi,qx=new Oe,qc=new Yl,rS=new Yl,ca=new Oe;class Dr extends Sf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Vft++}),this.uuid=fu(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Nue(e)?r8:n8)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new kr().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Hu.makeRotationFromQuaternion(e),this.applyMatrix4(Hu),this}rotateX(e){return Hu.makeRotationX(e),this.applyMatrix4(Hu),this}rotateY(e){return Hu.makeRotationY(e),this.applyMatrix4(Hu),this}rotateZ(e){return Hu.makeRotationZ(e),this.applyMatrix4(Hu),this}translate(e,n,r){return Hu.makeTranslation(e,n,r),this.applyMatrix4(Hu),this}scale(e,n,r){return Hu.makeScale(e,n,r),this.applyMatrix4(Hu),this}lookAt(e){return EN.lookAt(e),EN.updateMatrix(),this.applyMatrix4(EN.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(qx).negate(),this.translate(qx.x,qx.y,qx.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new ir(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Oe(-1/0,-1/0,-1/0),new Oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];qc.setFromBufferAttribute(o),this.morphTargetsRelative?(ca.addVectors(this.boundingBox.min,qc.min),this.boundingBox.expandByPoint(ca),ca.addVectors(this.boundingBox.max,qc.max),this.boundingBox.expandByPoint(ca)):(this.boundingBox.expandByPoint(qc.min),this.boundingBox.expandByPoint(qc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Oe,1/0);return}if(e){const r=this.boundingSphere.center;if(qc.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];rS.setFromBufferAttribute(s),this.morphTargetsRelative?(ca.addVectors(qc.min,rS.min),qc.expandByPoint(ca),ca.addVectors(qc.max,rS.max),qc.expandByPoint(ca)):(qc.expandByPoint(rS.min),qc.expandByPoint(rS.max))}qc.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)ca.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(ca));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,h=s.count;c<h;c++)ca.fromBufferAttribute(s,c),l&&(qx.fromBufferAttribute(e,c),ca.add(qx)),i=Math.max(i,r.distanceToSquared(ca))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qi(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let H=0;H<r.count;H++)s[H]=new Oe,l[H]=new Oe;const c=new Oe,h=new Oe,p=new Oe,g=new Ht,v=new Ht,x=new Ht,_=new Oe,S=new Oe;function w(H,Z,j){c.fromBufferAttribute(r,H),h.fromBufferAttribute(r,Z),p.fromBufferAttribute(r,j),g.fromBufferAttribute(o,H),v.fromBufferAttribute(o,Z),x.fromBufferAttribute(o,j),h.sub(c),p.sub(c),v.sub(g),x.sub(g);const X=1/(v.x*x.y-x.x*v.y);isFinite(X)&&(_.copy(h).multiplyScalar(x.y).addScaledVector(p,-v.y).multiplyScalar(X),S.copy(p).multiplyScalar(v.x).addScaledVector(h,-x.x).multiplyScalar(X),s[H].add(_),s[Z].add(_),s[j].add(_),l[H].add(S),l[Z].add(S),l[j].add(S))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let H=0,Z=C.length;H<Z;++H){const j=C[H],X=j.start,le=j.count;for(let me=X,ie=X+le;me<ie;me+=3)w(e.getX(me+0),e.getX(me+1),e.getX(me+2))}const T=new Oe,k=new Oe,R=new Oe,L=new Oe;function F(H){R.fromBufferAttribute(i,H),L.copy(R);const Z=s[H];T.copy(Z),T.sub(R.multiplyScalar(R.dot(Z))).normalize(),k.crossVectors(L,Z);const X=k.dot(l[H])<0?-1:1;a.setXYZW(H,T.x,T.y,T.z,X)}for(let H=0,Z=C.length;H<Z;++H){const j=C[H],X=j.start,le=j.count;for(let me=X,ie=X+le;me<ie;me+=3)F(e.getX(me+0)),F(e.getX(me+1)),F(e.getX(me+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Qi(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let g=0,v=r.count;g<v;g++)r.setXYZ(g,0,0,0);const i=new Oe,o=new Oe,a=new Oe,s=new Oe,l=new Oe,c=new Oe,h=new Oe,p=new Oe;if(e)for(let g=0,v=e.count;g<v;g+=3){const x=e.getX(g+0),_=e.getX(g+1),S=e.getX(g+2);i.fromBufferAttribute(n,x),o.fromBufferAttribute(n,_),a.fromBufferAttribute(n,S),h.subVectors(a,o),p.subVectors(i,o),h.cross(p),s.fromBufferAttribute(r,x),l.fromBufferAttribute(r,_),c.fromBufferAttribute(r,S),s.add(h),l.add(h),c.add(h),r.setXYZ(x,s.x,s.y,s.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(S,c.x,c.y,c.z)}else for(let g=0,v=n.count;g<v;g+=3)i.fromBufferAttribute(n,g+0),o.fromBufferAttribute(n,g+1),a.fromBufferAttribute(n,g+2),h.subVectors(a,o),p.subVectors(i,o),h.cross(p),r.setXYZ(g+0,h.x,h.y,h.z),r.setXYZ(g+1,h.x,h.y,h.z),r.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ca.fromBufferAttribute(e,n),ca.normalize(),e.setXYZ(n,ca.x,ca.y,ca.z)}toNonIndexed(){function e(s,l){const c=s.array,h=s.itemSize,p=s.normalized,g=new c.constructor(l.length*h);let v=0,x=0;for(let _=0,S=l.length;_<S;_++){s.isInterleavedBufferAttribute?v=l[_]*s.data.stride+s.offset:v=l[_]*h;for(let w=0;w<h;w++)g[x++]=c[v++]}return new Qi(g,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Dr,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let h=0,p=c.length;h<p;h++){const g=c[h],v=e(g,r);l.push(v)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let p=0,g=c.length;p<g;p++){const v=c[p];h.push(v.toJSON(e.data))}h.length>0&&(i[l]=h,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const h=i[c];this.setAttribute(c,h.clone(n))}const o=e.morphAttributes;for(const c in o){const h=[],p=o[c];for(let g=0,v=p.length;g<v;g++)h.push(p[g].clone(n));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,h=a.length;c<h;c++){const p=a[c];this.addGroup(p.start,p.count,p.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const RK=new _r,bv=new Cy,CC=new xl,OK=new Oe,Yx=new Oe,Xx=new Oe,Kx=new Oe,TN=new Oe,AC=new Oe,PC=new Ht,IC=new Ht,kC=new Ht,LK=new Oe,DK=new Oe,NK=new Oe,RC=new Oe,OC=new Oe;class Os extends xi{constructor(e=new Dr,n=new Ay){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){AC.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const h=s[l],p=o[l];h!==0&&(TN.fromBufferAttribute(p,e),a?AC.addScaledVector(TN,h):AC.addScaledVector(TN.sub(n),h))}n.add(AC)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),CC.copy(r.boundingSphere),CC.applyMatrix4(o),bv.copy(e.ray).recast(e.near),!(CC.containsPoint(bv.origin)===!1&&(bv.intersectSphere(CC,OK)===null||bv.origin.distanceToSquared(OK)>(e.far-e.near)**2))&&(RK.copy(o).invert(),bv.copy(e.ray).applyMatrix4(RK),!(r.boundingBox!==null&&bv.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,bv)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,h=o.attributes.uv1,p=o.attributes.normal,g=o.groups,v=o.drawRange;if(s!==null)if(Array.isArray(a))for(let x=0,_=g.length;x<_;x++){const S=g[x],w=a[S.materialIndex],C=Math.max(S.start,v.start),T=Math.min(s.count,Math.min(S.start+S.count,v.start+v.count));for(let k=C,R=T;k<R;k+=3){const L=s.getX(k),F=s.getX(k+1),H=s.getX(k+2);i=LC(this,w,e,r,c,h,p,L,F,H),i&&(i.faceIndex=Math.floor(k/3),i.face.materialIndex=S.materialIndex,n.push(i))}}else{const x=Math.max(0,v.start),_=Math.min(s.count,v.start+v.count);for(let S=x,w=_;S<w;S+=3){const C=s.getX(S),T=s.getX(S+1),k=s.getX(S+2);i=LC(this,a,e,r,c,h,p,C,T,k),i&&(i.faceIndex=Math.floor(S/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let x=0,_=g.length;x<_;x++){const S=g[x],w=a[S.materialIndex],C=Math.max(S.start,v.start),T=Math.min(l.count,Math.min(S.start+S.count,v.start+v.count));for(let k=C,R=T;k<R;k+=3){const L=k,F=k+1,H=k+2;i=LC(this,w,e,r,c,h,p,L,F,H),i&&(i.faceIndex=Math.floor(k/3),i.face.materialIndex=S.materialIndex,n.push(i))}}else{const x=Math.max(0,v.start),_=Math.min(l.count,v.start+v.count);for(let S=x,w=_;S<w;S+=3){const C=S,T=S+1,k=S+2;i=LC(this,a,e,r,c,h,p,C,T,k),i&&(i.faceIndex=Math.floor(S/3),n.push(i))}}}}function Wft(t,e,n,r,i,o,a,s){let l;if(e.side===ql?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===em,s),l===null)return null;OC.copy(s),OC.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(OC);return c<n.near||c>n.far?null:{distance:c,point:OC.clone(),object:t}}function LC(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,Yx),t.getVertexPosition(l,Xx),t.getVertexPosition(c,Kx);const h=Wft(t,e,n,r,Yx,Xx,Kx,RC);if(h){i&&(PC.fromBufferAttribute(i,s),IC.fromBufferAttribute(i,l),kC.fromBufferAttribute(i,c),h.uv=su.getInterpolation(RC,Yx,Xx,Kx,PC,IC,kC,new Ht)),o&&(PC.fromBufferAttribute(o,s),IC.fromBufferAttribute(o,l),kC.fromBufferAttribute(o,c),h.uv1=su.getInterpolation(RC,Yx,Xx,Kx,PC,IC,kC,new Ht)),a&&(LK.fromBufferAttribute(a,s),DK.fromBufferAttribute(a,l),NK.fromBufferAttribute(a,c),h.normal=su.getInterpolation(RC,Yx,Xx,Kx,LK,DK,NK,new Oe),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const p={a:s,b:l,c,normal:new Oe,materialIndex:0};su.getNormal(Yx,Xx,Kx,p.normal),h.face=p}return h}class Py extends Dr{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],h=[],p=[];let g=0,v=0;x("z","y","x",-1,-1,r,n,e,a,o,0),x("z","y","x",1,-1,r,n,-e,a,o,1),x("x","z","y",1,1,e,r,n,i,a,2),x("x","z","y",1,-1,e,r,-n,i,a,3),x("x","y","z",1,-1,e,n,r,i,o,4),x("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new ir(c,3)),this.setAttribute("normal",new ir(h,3)),this.setAttribute("uv",new ir(p,2));function x(_,S,w,C,T,k,R,L,F,H,Z){const j=k/F,X=R/H,le=k/2,me=R/2,ie=L/2,ce=F+1,fe=H+1;let xe=0,te=0;const he=new Oe;for(let ve=0;ve<fe;ve++){const ze=ve*X-me;for(let Ue=0;Ue<ce;Ue++){const rt=Ue*j-le;he[_]=rt*C,he[S]=ze*T,he[w]=ie,c.push(he.x,he.y,he.z),he[_]=0,he[S]=0,he[w]=L>0?1:-1,h.push(he.x,he.y,he.z),p.push(Ue/F),p.push(1-ve/H),xe+=1}}for(let ve=0;ve<H;ve++)for(let ze=0;ze<F;ze++){const Ue=g+ze+ce*ve,rt=g+ze+ce*(ve+1),Fe=g+(ze+1)+ce*(ve+1),st=g+(ze+1)+ce*ve;l.push(Ue,rt,st),l.push(rt,Fe,st),te+=6}s.addGroup(v,te,Z),v+=te,g+=xe}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Py(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function n1(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function zl(t){const e={};for(let n=0;n<t.length;n++){const r=n1(t[n]);for(const i in r)e[i]=r[i]}return e}function Hft(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function jue(t){return t.getRenderTarget()===null?t.outputColorSpace:Ni.workingColorSpace}const Uue={clone:n1,merge:zl};var Gft=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qft=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class vf extends ja{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Gft,this.fragmentShader=qft,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=n1(e.uniforms),this.uniformsGroups=Hft(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class jE extends xi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _r,this.projectionMatrix=new _r,this.projectionMatrixInverse=new _r,this.coordinateSystem=mh}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const dg=new Oe,zK=new Ht,BK=new Ht;class os extends jE{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=t1*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(b0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return t1*2*Math.atan(Math.tan(b0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){dg.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(dg.x,dg.y).multiplyScalar(-e/dg.z),dg.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(dg.x,dg.y).multiplyScalar(-e/dg.z)}getViewSize(e,n){return this.getViewBounds(e,zK,BK),n.subVectors(BK,zK)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(b0*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Zx=-90,Jx=1;class Vue extends xi{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new os(Zx,Jx,e,n);i.layers=this.layers,this.add(i);const o=new os(Zx,Jx,e,n);o.layers=this.layers,this.add(o);const a=new os(Zx,Jx,e,n);a.layers=this.layers,this.add(a);const s=new os(Zx,Jx,e,n);s.layers=this.layers,this.add(s);const l=new os(Zx,Jx,e,n);l.layers=this.layers,this.add(l);const c=new os(Zx,Jx,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===mh)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===z2)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,h]=this.children,p=e.getRenderTarget(),g=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=_,e.setRenderTarget(r,5,i),e.render(n,h),e.setRenderTarget(p,g,v),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class UE extends qo{constructor(e,n,r,i,o,a,s,l,c,h){e=e!==void 0?e:[],n=n!==void 0?n:tm,super(e,n,r,i,o,a,s,l,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Wue extends yf{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new UE(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Vo}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Py(5,5,5),o=new vf({name:"CubemapFromEquirect",uniforms:n1(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ql,blending:$p});o.uniforms.tEquirect.value=n;const a=new Os(i,o),s=n.minFilter;return n.minFilter===ph&&(n.minFilter=Vo),new Vue(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const CN=new Oe,Yft=new Oe,Xft=new kr;class ch{constructor(e=new Oe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=CN.subVectors(r,n).cross(Yft.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(CN),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Xft.getNormalMatrix(e),i=this.coplanarPoint(CN).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wv=new xl,DC=new Oe;class VE{constructor(e=new ch,n=new ch,r=new ch,i=new ch,o=new ch,a=new ch){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=mh){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],h=i[5],p=i[6],g=i[7],v=i[8],x=i[9],_=i[10],S=i[11],w=i[12],C=i[13],T=i[14],k=i[15];if(r[0].setComponents(l-o,g-c,S-v,k-w).normalize(),r[1].setComponents(l+o,g+c,S+v,k+w).normalize(),r[2].setComponents(l+a,g+h,S+x,k+C).normalize(),r[3].setComponents(l-a,g-h,S-x,k-C).normalize(),r[4].setComponents(l-s,g-p,S-_,k-T).normalize(),n===mh)r[5].setComponents(l+s,g+p,S+_,k+T).normalize();else if(n===z2)r[5].setComponents(s,p,_,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wv.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),wv.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wv)}intersectsSprite(e){return wv.center.set(0,0,0),wv.radius=.7071067811865476,wv.applyMatrix4(e.matrixWorld),this.intersectsSphere(wv)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(DC.x=i.normal.x>0?e.max.x:e.min.x,DC.y=i.normal.y>0?e.max.y:e.min.y,DC.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(DC)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Hue(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Kft(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,h){const p=c.array,g=c.usage,v=p.byteLength,x=t.createBuffer();t.bindBuffer(h,x),t.bufferData(h,p,g),c.onUploadCallback();let _;if(p instanceof Float32Array)_=t.FLOAT;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)_=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=t.UNSIGNED_SHORT;else if(p instanceof Int16Array)_=t.SHORT;else if(p instanceof Uint32Array)_=t.UNSIGNED_INT;else if(p instanceof Int32Array)_=t.INT;else if(p instanceof Int8Array)_=t.BYTE;else if(p instanceof Uint8Array)_=t.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)_=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:x,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:v}}function o(c,h,p){const g=h.array,v=h._updateRange,x=h.updateRanges;if(t.bindBuffer(p,c),v.count===-1&&x.length===0&&t.bufferSubData(p,0,g),x.length!==0){for(let _=0,S=x.length;_<S;_++){const w=x[_];n?t.bufferSubData(p,w.start*g.BYTES_PER_ELEMENT,g,w.start,w.count):t.bufferSubData(p,w.start*g.BYTES_PER_ELEMENT,g.subarray(w.start,w.start+w.count))}h.clearUpdateRanges()}v.count!==-1&&(n?t.bufferSubData(p,v.offset*g.BYTES_PER_ELEMENT,g,v.offset,v.count):t.bufferSubData(p,v.offset*g.BYTES_PER_ELEMENT,g.subarray(v.offset,v.offset+v.count)),v.count=-1),h.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h&&(t.deleteBuffer(h.buffer),r.delete(c))}function l(c,h){if(c.isGLBufferAttribute){const g=r.get(c);(!g||g.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const p=r.get(c);if(p===void 0)r.set(c,i(c,h));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(p.buffer,c,h),p.version=c.version}}return{get:a,remove:s,update:l}}class j1 extends Dr{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,h=l+1,p=e/s,g=n/l,v=[],x=[],_=[],S=[];for(let w=0;w<h;w++){const C=w*g-a;for(let T=0;T<c;T++){const k=T*p-o;x.push(k,-C,0),_.push(0,0,1),S.push(T/s),S.push(1-w/l)}}for(let w=0;w<l;w++)for(let C=0;C<s;C++){const T=C+c*w,k=C+c*(w+1),R=C+1+c*(w+1),L=C+1+c*w;v.push(T,k,L),v.push(k,R,L)}this.setIndex(v),this.setAttribute("position",new ir(x,3)),this.setAttribute("normal",new ir(_,3)),this.setAttribute("uv",new ir(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new j1(e.width,e.height,e.widthSegments,e.heightSegments)}}var Zft=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Jft=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Qft=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,eht=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tht=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,nht=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,rht=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iht=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,oht=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,sht=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,aht=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,lht=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,cht=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,uht=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,dht=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fht=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,hht=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,pht=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,mht=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ght=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,yht=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,vht=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,xht=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,_ht=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,bht=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,wht=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Sht=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Mht=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Eht=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Tht=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Cht="gl_FragColor = linearToOutputTexel( gl_FragColor );",Aht=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Pht=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Iht=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,kht=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Rht=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Oht=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Lht=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Dht=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Nht=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,zht=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Bht=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Fht=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,$ht=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jht=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Uht=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Vht=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Wht=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Hht=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Ght=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,qht=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Yht=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Xht=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Kht=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Zht=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Jht=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Qht=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ept=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,tpt=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,npt=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,rpt=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,ipt=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,opt=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,spt=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,apt=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lpt=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,cpt=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,upt=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,dpt=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,fpt=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,hpt=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,ppt=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,mpt=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,gpt=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ypt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vpt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xpt=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,_pt=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,bpt=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,wpt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Spt=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Mpt=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ept=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Tpt=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Cpt=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Apt=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Ppt=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ipt=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,kpt=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Rpt=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Opt=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Lpt=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Dpt=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Npt=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zpt=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Bpt=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Fpt=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$pt=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jpt=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Upt=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Vpt=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Wpt=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Hpt=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Gpt=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,qpt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ypt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Xpt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Kpt=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Zpt=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Jpt=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Qpt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,emt=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tmt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nmt=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rmt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,imt=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,omt=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,smt=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,amt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,lmt=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cmt=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,umt=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dmt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fmt=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hmt=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pmt=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mmt=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,gmt=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ymt=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vmt=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,xmt=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_mt=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bmt=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,wmt=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Smt=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mmt=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Emt=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Tmt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Cmt=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Amt=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Pmt=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Imt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,zr={alphahash_fragment:Zft,alphahash_pars_fragment:Jft,alphamap_fragment:Qft,alphamap_pars_fragment:eht,alphatest_fragment:tht,alphatest_pars_fragment:nht,aomap_fragment:rht,aomap_pars_fragment:iht,batching_pars_vertex:oht,batching_vertex:sht,begin_vertex:aht,beginnormal_vertex:lht,bsdfs:cht,iridescence_fragment:uht,bumpmap_pars_fragment:dht,clipping_planes_fragment:fht,clipping_planes_pars_fragment:hht,clipping_planes_pars_vertex:pht,clipping_planes_vertex:mht,color_fragment:ght,color_pars_fragment:yht,color_pars_vertex:vht,color_vertex:xht,common:_ht,cube_uv_reflection_fragment:bht,defaultnormal_vertex:wht,displacementmap_pars_vertex:Sht,displacementmap_vertex:Mht,emissivemap_fragment:Eht,emissivemap_pars_fragment:Tht,colorspace_fragment:Cht,colorspace_pars_fragment:Aht,envmap_fragment:Pht,envmap_common_pars_fragment:Iht,envmap_pars_fragment:kht,envmap_pars_vertex:Rht,envmap_physical_pars_fragment:Wht,envmap_vertex:Oht,fog_vertex:Lht,fog_pars_vertex:Dht,fog_fragment:Nht,fog_pars_fragment:zht,gradientmap_pars_fragment:Bht,lightmap_fragment:Fht,lightmap_pars_fragment:$ht,lights_lambert_fragment:jht,lights_lambert_pars_fragment:Uht,lights_pars_begin:Vht,lights_toon_fragment:Hht,lights_toon_pars_fragment:Ght,lights_phong_fragment:qht,lights_phong_pars_fragment:Yht,lights_physical_fragment:Xht,lights_physical_pars_fragment:Kht,lights_fragment_begin:Zht,lights_fragment_maps:Jht,lights_fragment_end:Qht,logdepthbuf_fragment:ept,logdepthbuf_pars_fragment:tpt,logdepthbuf_pars_vertex:npt,logdepthbuf_vertex:rpt,map_fragment:ipt,map_pars_fragment:opt,map_particle_fragment:spt,map_particle_pars_fragment:apt,metalnessmap_fragment:lpt,metalnessmap_pars_fragment:cpt,morphinstance_vertex:upt,morphcolor_vertex:dpt,morphnormal_vertex:fpt,morphtarget_pars_vertex:hpt,morphtarget_vertex:ppt,normal_fragment_begin:mpt,normal_fragment_maps:gpt,normal_pars_fragment:ypt,normal_pars_vertex:vpt,normal_vertex:xpt,normalmap_pars_fragment:_pt,clearcoat_normal_fragment_begin:bpt,clearcoat_normal_fragment_maps:wpt,clearcoat_pars_fragment:Spt,iridescence_pars_fragment:Mpt,opaque_fragment:Ept,packing:Tpt,premultiplied_alpha_fragment:Cpt,project_vertex:Apt,dithering_fragment:Ppt,dithering_pars_fragment:Ipt,roughnessmap_fragment:kpt,roughnessmap_pars_fragment:Rpt,shadowmap_pars_fragment:Opt,shadowmap_pars_vertex:Lpt,shadowmap_vertex:Dpt,shadowmask_pars_fragment:Npt,skinbase_vertex:zpt,skinning_pars_vertex:Bpt,skinning_vertex:Fpt,skinnormal_vertex:$pt,specularmap_fragment:jpt,specularmap_pars_fragment:Upt,tonemapping_fragment:Vpt,tonemapping_pars_fragment:Wpt,transmission_fragment:Hpt,transmission_pars_fragment:Gpt,uv_pars_fragment:qpt,uv_pars_vertex:Ypt,uv_vertex:Xpt,worldpos_vertex:Kpt,background_vert:Zpt,background_frag:Jpt,backgroundCube_vert:Qpt,backgroundCube_frag:emt,cube_vert:tmt,cube_frag:nmt,depth_vert:rmt,depth_frag:imt,distanceRGBA_vert:omt,distanceRGBA_frag:smt,equirect_vert:amt,equirect_frag:lmt,linedashed_vert:cmt,linedashed_frag:umt,meshbasic_vert:dmt,meshbasic_frag:fmt,meshlambert_vert:hmt,meshlambert_frag:pmt,meshmatcap_vert:mmt,meshmatcap_frag:gmt,meshnormal_vert:ymt,meshnormal_frag:vmt,meshphong_vert:xmt,meshphong_frag:_mt,meshphysical_vert:bmt,meshphysical_frag:wmt,meshtoon_vert:Smt,meshtoon_frag:Mmt,points_vert:Emt,points_frag:Tmt,shadow_vert:Cmt,shadow_frag:Amt,sprite_vert:Pmt,sprite_frag:Imt},En={common:{diffuse:{value:new Fn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new kr},alphaMap:{value:null},alphaMapTransform:{value:new kr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new kr}},envmap:{envMap:{value:null},envMapRotation:{value:new kr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new kr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new kr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new kr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new kr},normalScale:{value:new Ht(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new kr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new kr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new kr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new kr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new kr},alphaTest:{value:0},uvTransform:{value:new kr}},sprite:{diffuse:{value:new Fn(16777215)},opacity:{value:1},center:{value:new Ht(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new kr},alphaMap:{value:null},alphaMapTransform:{value:new kr},alphaTest:{value:0}}},rf={basic:{uniforms:zl([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.fog]),vertexShader:zr.meshbasic_vert,fragmentShader:zr.meshbasic_frag},lambert:{uniforms:zl([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.fog,En.lights,{emissive:{value:new Fn(0)}}]),vertexShader:zr.meshlambert_vert,fragmentShader:zr.meshlambert_frag},phong:{uniforms:zl([En.common,En.specularmap,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.fog,En.lights,{emissive:{value:new Fn(0)},specular:{value:new Fn(1118481)},shininess:{value:30}}]),vertexShader:zr.meshphong_vert,fragmentShader:zr.meshphong_frag},standard:{uniforms:zl([En.common,En.envmap,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.roughnessmap,En.metalnessmap,En.fog,En.lights,{emissive:{value:new Fn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:zr.meshphysical_vert,fragmentShader:zr.meshphysical_frag},toon:{uniforms:zl([En.common,En.aomap,En.lightmap,En.emissivemap,En.bumpmap,En.normalmap,En.displacementmap,En.gradientmap,En.fog,En.lights,{emissive:{value:new Fn(0)}}]),vertexShader:zr.meshtoon_vert,fragmentShader:zr.meshtoon_frag},matcap:{uniforms:zl([En.common,En.bumpmap,En.normalmap,En.displacementmap,En.fog,{matcap:{value:null}}]),vertexShader:zr.meshmatcap_vert,fragmentShader:zr.meshmatcap_frag},points:{uniforms:zl([En.points,En.fog]),vertexShader:zr.points_vert,fragmentShader:zr.points_frag},dashed:{uniforms:zl([En.common,En.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:zr.linedashed_vert,fragmentShader:zr.linedashed_frag},depth:{uniforms:zl([En.common,En.displacementmap]),vertexShader:zr.depth_vert,fragmentShader:zr.depth_frag},normal:{uniforms:zl([En.common,En.bumpmap,En.normalmap,En.displacementmap,{opacity:{value:1}}]),vertexShader:zr.meshnormal_vert,fragmentShader:zr.meshnormal_frag},sprite:{uniforms:zl([En.sprite,En.fog]),vertexShader:zr.sprite_vert,fragmentShader:zr.sprite_frag},background:{uniforms:{uvTransform:{value:new kr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:zr.background_vert,fragmentShader:zr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new kr}},vertexShader:zr.backgroundCube_vert,fragmentShader:zr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:zr.cube_vert,fragmentShader:zr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:zr.equirect_vert,fragmentShader:zr.equirect_frag},distanceRGBA:{uniforms:zl([En.common,En.displacementmap,{referencePosition:{value:new Oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:zr.distanceRGBA_vert,fragmentShader:zr.distanceRGBA_frag},shadow:{uniforms:zl([En.lights,En.fog,{color:{value:new Fn(0)},opacity:{value:1}}]),vertexShader:zr.shadow_vert,fragmentShader:zr.shadow_frag}};rf.physical={uniforms:zl([rf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new kr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new kr},clearcoatNormalScale:{value:new Ht(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new kr},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new kr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new kr},sheen:{value:0},sheenColor:{value:new Fn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new kr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new kr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new kr},transmissionSamplerSize:{value:new Ht},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new kr},attenuationDistance:{value:0},attenuationColor:{value:new Fn(0)},specularColor:{value:new Fn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new kr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new kr},anisotropyVector:{value:new Ht},anisotropyMap:{value:null},anisotropyMapTransform:{value:new kr}}]),vertexShader:zr.meshphysical_vert,fragmentShader:zr.meshphysical_frag};const NC={r:0,b:0,g:0},Sv=new xu,kmt=new _r;function Rmt(t,e,n,r,i,o,a){const s=new Fn(0);let l=o===!0?0:1,c,h,p=null,g=0,v=null;function x(S,w){let C=!1,T=w.isScene===!0?w.background:null;T&&T.isTexture&&(T=(w.backgroundBlurriness>0?n:e).get(T)),T===null?_(s,l):T&&T.isColor&&(_(T,1),C=!0);const k=t.xr.getEnvironmentBlendMode();k==="additive"?r.buffers.color.setClear(0,0,0,1,a):k==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||C)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),T&&(T.isCubeTexture||T.mapping===$1)?(h===void 0&&(h=new Os(new Py(1,1,1),new vf({name:"BackgroundCubeMaterial",uniforms:n1(rf.backgroundCube.uniforms),vertexShader:rf.backgroundCube.vertexShader,fragmentShader:rf.backgroundCube.fragmentShader,side:ql,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(R,L,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),Sv.copy(w.backgroundRotation),Sv.x*=-1,Sv.y*=-1,Sv.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Sv.y*=-1,Sv.z*=-1),h.material.uniforms.envMap.value=T,h.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(kmt.makeRotationFromEuler(Sv)),h.material.toneMapped=Ni.getTransfer(T.colorSpace)!==fo,(p!==T||g!==T.version||v!==t.toneMapping)&&(h.material.needsUpdate=!0,p=T,g=T.version,v=t.toneMapping),h.layers.enableAll(),S.unshift(h,h.geometry,h.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new Os(new j1(2,2),new vf({name:"BackgroundMaterial",uniforms:n1(rf.background.uniforms),vertexShader:rf.background.vertexShader,fragmentShader:rf.background.fragmentShader,side:em,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=Ni.getTransfer(T.colorSpace)!==fo,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(p!==T||g!==T.version||v!==t.toneMapping)&&(c.material.needsUpdate=!0,p=T,g=T.version,v=t.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function _(S,w){S.getRGB(NC,jue(t)),r.buffers.color.setClear(NC.r,NC.g,NC.b,w,a)}return{getClearColor:function(){return s},setClearColor:function(S,w=1){s.set(S),l=w,_(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,_(s,l)},render:x}}function Omt(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},l=S(null);let c=l,h=!1;function p(ie,ce,fe,xe,te){let he=!1;if(a){const ve=_(xe,fe,ce);c!==ve&&(c=ve,v(c.object)),he=w(ie,xe,fe,te),he&&C(ie,xe,fe,te)}else{const ve=ce.wireframe===!0;(c.geometry!==xe.id||c.program!==fe.id||c.wireframe!==ve)&&(c.geometry=xe.id,c.program=fe.id,c.wireframe=ve,he=!0)}te!==null&&n.update(te,t.ELEMENT_ARRAY_BUFFER),(he||h)&&(h=!1,H(ie,ce,fe,xe),te!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(te).buffer))}function g(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function v(ie){return r.isWebGL2?t.bindVertexArray(ie):o.bindVertexArrayOES(ie)}function x(ie){return r.isWebGL2?t.deleteVertexArray(ie):o.deleteVertexArrayOES(ie)}function _(ie,ce,fe){const xe=fe.wireframe===!0;let te=s[ie.id];te===void 0&&(te={},s[ie.id]=te);let he=te[ce.id];he===void 0&&(he={},te[ce.id]=he);let ve=he[xe];return ve===void 0&&(ve=S(g()),he[xe]=ve),ve}function S(ie){const ce=[],fe=[],xe=[];for(let te=0;te<i;te++)ce[te]=0,fe[te]=0,xe[te]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ce,enabledAttributes:fe,attributeDivisors:xe,object:ie,attributes:{},index:null}}function w(ie,ce,fe,xe){const te=c.attributes,he=ce.attributes;let ve=0;const ze=fe.getAttributes();for(const Ue in ze)if(ze[Ue].location>=0){const Fe=te[Ue];let st=he[Ue];if(st===void 0&&(Ue==="instanceMatrix"&&ie.instanceMatrix&&(st=ie.instanceMatrix),Ue==="instanceColor"&&ie.instanceColor&&(st=ie.instanceColor)),Fe===void 0||Fe.attribute!==st||st&&Fe.data!==st.data)return!0;ve++}return c.attributesNum!==ve||c.index!==xe}function C(ie,ce,fe,xe){const te={},he=ce.attributes;let ve=0;const ze=fe.getAttributes();for(const Ue in ze)if(ze[Ue].location>=0){let Fe=he[Ue];Fe===void 0&&(Ue==="instanceMatrix"&&ie.instanceMatrix&&(Fe=ie.instanceMatrix),Ue==="instanceColor"&&ie.instanceColor&&(Fe=ie.instanceColor));const st={};st.attribute=Fe,Fe&&Fe.data&&(st.data=Fe.data),te[Ue]=st,ve++}c.attributes=te,c.attributesNum=ve,c.index=xe}function T(){const ie=c.newAttributes;for(let ce=0,fe=ie.length;ce<fe;ce++)ie[ce]=0}function k(ie){R(ie,0)}function R(ie,ce){const fe=c.newAttributes,xe=c.enabledAttributes,te=c.attributeDivisors;fe[ie]=1,xe[ie]===0&&(t.enableVertexAttribArray(ie),xe[ie]=1),te[ie]!==ce&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ie,ce),te[ie]=ce)}function L(){const ie=c.newAttributes,ce=c.enabledAttributes;for(let fe=0,xe=ce.length;fe<xe;fe++)ce[fe]!==ie[fe]&&(t.disableVertexAttribArray(fe),ce[fe]=0)}function F(ie,ce,fe,xe,te,he,ve){ve===!0?t.vertexAttribIPointer(ie,ce,fe,te,he):t.vertexAttribPointer(ie,ce,fe,xe,te,he)}function H(ie,ce,fe,xe){if(r.isWebGL2===!1&&(ie.isInstancedMesh||xe.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;T();const te=xe.attributes,he=fe.getAttributes(),ve=ce.defaultAttributeValues;for(const ze in he){const Ue=he[ze];if(Ue.location>=0){let rt=te[ze];if(rt===void 0&&(ze==="instanceMatrix"&&ie.instanceMatrix&&(rt=ie.instanceMatrix),ze==="instanceColor"&&ie.instanceColor&&(rt=ie.instanceColor)),rt!==void 0){const Fe=rt.normalized,st=rt.itemSize,ct=n.get(rt);if(ct===void 0)continue;const Dt=ct.buffer,zt=ct.type,Be=ct.bytesPerElement,lt=r.isWebGL2===!0&&(zt===t.INT||zt===t.UNSIGNED_INT||rt.gpuType===V6);if(rt.isInterleavedBufferAttribute){const Qe=rt.data,ge=Qe.stride,et=rt.offset;if(Qe.isInstancedInterleavedBuffer){for(let ot=0;ot<Ue.locationSize;ot++)R(Ue.location+ot,Qe.meshPerAttribute);ie.isInstancedMesh!==!0&&xe._maxInstanceCount===void 0&&(xe._maxInstanceCount=Qe.meshPerAttribute*Qe.count)}else for(let ot=0;ot<Ue.locationSize;ot++)k(Ue.location+ot);t.bindBuffer(t.ARRAY_BUFFER,Dt);for(let ot=0;ot<Ue.locationSize;ot++)F(Ue.location+ot,st/Ue.locationSize,zt,Fe,ge*Be,(et+st/Ue.locationSize*ot)*Be,lt)}else{if(rt.isInstancedBufferAttribute){for(let Qe=0;Qe<Ue.locationSize;Qe++)R(Ue.location+Qe,rt.meshPerAttribute);ie.isInstancedMesh!==!0&&xe._maxInstanceCount===void 0&&(xe._maxInstanceCount=rt.meshPerAttribute*rt.count)}else for(let Qe=0;Qe<Ue.locationSize;Qe++)k(Ue.location+Qe);t.bindBuffer(t.ARRAY_BUFFER,Dt);for(let Qe=0;Qe<Ue.locationSize;Qe++)F(Ue.location+Qe,st/Ue.locationSize,zt,Fe,st*Be,st/Ue.locationSize*Qe*Be,lt)}}else if(ve!==void 0){const Fe=ve[ze];if(Fe!==void 0)switch(Fe.length){case 2:t.vertexAttrib2fv(Ue.location,Fe);break;case 3:t.vertexAttrib3fv(Ue.location,Fe);break;case 4:t.vertexAttrib4fv(Ue.location,Fe);break;default:t.vertexAttrib1fv(Ue.location,Fe)}}}}L()}function Z(){le();for(const ie in s){const ce=s[ie];for(const fe in ce){const xe=ce[fe];for(const te in xe)x(xe[te].object),delete xe[te];delete ce[fe]}delete s[ie]}}function j(ie){if(s[ie.id]===void 0)return;const ce=s[ie.id];for(const fe in ce){const xe=ce[fe];for(const te in xe)x(xe[te].object),delete xe[te];delete ce[fe]}delete s[ie.id]}function X(ie){for(const ce in s){const fe=s[ce];if(fe[ie.id]===void 0)continue;const xe=fe[ie.id];for(const te in xe)x(xe[te].object),delete xe[te];delete fe[ie.id]}}function le(){me(),h=!0,c!==l&&(c=l,v(c.object))}function me(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:le,resetDefaultState:me,dispose:Z,releaseStatesOfGeometry:j,releaseStatesOfProgram:X,initAttributes:T,enableAttribute:k,disableUnusedAttributes:L}}function Lmt(t,e,n,r){const i=r.isWebGL2;let o;function a(h){o=h}function s(h,p){t.drawArrays(o,h,p),n.update(p,o,1)}function l(h,p,g){if(g===0)return;let v,x;if(i)v=t,x="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](o,h,p,g),n.update(p,o,g)}function c(h,p,g){if(g===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let x=0;x<g;x++)this.render(h[x],p[x]);else{v.multiDrawArraysWEBGL(o,h,0,p,0,g);let x=0;for(let _=0;_<g;_++)x+=p[_];n.update(x,o,1)}}this.setMode=a,this.render=s,this.renderInstances=l,this.renderMultiDraw=c}function Dmt(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(F){if(F==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=a||e.has("WEBGL_draw_buffers"),h=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),S=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),C=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),T=g>0,k=a||e.has("OES_texture_float"),R=T&&k,L=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:g,maxTextureSize:v,maxCubemapSize:x,maxAttributes:_,maxVertexUniforms:S,maxVaryings:w,maxFragmentUniforms:C,vertexTextures:T,floatFragmentTextures:k,floatVertexTextures:R,maxSamples:L}}function Nmt(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new ch,s=new kr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,g){const v=p.length!==0||g||r!==0||i;return i=g,r=p.length,v},this.beginShadows=function(){o=!0,h(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(p,g){n=h(p,g,0)},this.setState=function(p,g,v){const x=p.clippingPlanes,_=p.clipIntersection,S=p.clipShadows,w=t.get(p);if(!i||x===null||x.length===0||o&&!S)o?h(null):c();else{const C=o?0:r,T=C*4;let k=w.clippingState||null;l.value=k,k=h(x,g,T,v);for(let R=0;R!==T;++R)k[R]=n[R];w.clippingState=k,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=C}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,g,v,x){const _=p!==null?p.length:0;let S=null;if(_!==0){if(S=l.value,x!==!0||S===null){const w=v+_*4,C=g.matrixWorldInverse;s.getNormalMatrix(C),(S===null||S.length<w)&&(S=new Float32Array(w));for(let T=0,k=v;T!==_;++T,k+=4)a.copy(p[T]).applyMatrix4(C,s),a.normal.toArray(S,k),S[k+3]=a.constant}l.value=S,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,S}}function zmt(t){let e=new WeakMap;function n(a,s){return s===T2?a.mapping=tm:s===C2&&(a.mapping=dy),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===T2||s===C2)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new Wue(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Op extends jE{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=h*this.view.offsetY,l=s-h*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const F_=4,FK=[.125,.215,.35,.446,.526,.582],Gv=20,AN=new Op,$K=new Fn;let PN=null,IN=0,kN=0;const Uv=(1+Math.sqrt(5))/2,Qx=1/Uv,jK=[new Oe(1,1,1),new Oe(-1,1,1),new Oe(1,1,-1),new Oe(-1,1,-1),new Oe(0,Uv,Qx),new Oe(0,Uv,-Qx),new Oe(Qx,0,Uv),new Oe(-Qx,0,Uv),new Oe(Uv,Qx,0),new Oe(-Uv,Qx,0)];class G4{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){PN=this._renderer.getRenderTarget(),IN=this._renderer.getActiveCubeFace(),kN=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=WK(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=VK(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(PN,IN,kN),e.scissorTest=!1,zC(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===tm||e.mapping===dy?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),PN=this._renderer.getRenderTarget(),IN=this._renderer.getActiveCubeFace(),kN=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Vo,minFilter:Vo,generateMipmaps:!1,type:e1,format:Ul,colorSpace:fm,depthBuffer:!1},i=UK(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=UK(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Bmt(o)),this._blurMaterial=Fmt(o,e,n)}return i}_compileMaterial(e){const n=new Os(this._lodPlanes[0],e);this._renderer.compile(n,AN)}_sceneToCubeUV(e,n,r,i){const s=new os(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,g=h.toneMapping;h.getClearColor($K),h.toneMapping=Eh,h.autoClear=!1;const v=new Ay({name:"PMREM.Background",side:ql,depthWrite:!1,depthTest:!1}),x=new Os(new Py,v);let _=!1;const S=e.background;S?S.isColor&&(v.color.copy(S),e.background=null,_=!0):(v.color.copy($K),_=!0);for(let w=0;w<6;w++){const C=w%3;C===0?(s.up.set(0,l[w],0),s.lookAt(c[w],0,0)):C===1?(s.up.set(0,0,l[w]),s.lookAt(0,c[w],0)):(s.up.set(0,l[w],0),s.lookAt(0,0,c[w]));const T=this._cubeSize;zC(i,C*T,w>2?T:0,T,T),h.setRenderTarget(i),_&&h.render(x,s),h.render(e,s)}x.geometry.dispose(),x.material.dispose(),h.toneMapping=g,h.autoClear=p,e.background=S}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===tm||e.mapping===dy;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=WK()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=VK());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new Os(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;zC(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,AN)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=jK[(i-1)%jK.length];this._blur(e,i-1,i,o,a)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new Os(this._lodPlanes[i],c),g=c.uniforms,v=this._sizeLods[r]-1,x=isFinite(o)?Math.PI/(2*v):2*Math.PI/(2*Gv-1),_=o/x,S=isFinite(o)?1+Math.floor(h*_):Gv;S>Gv&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${Gv}`);const w=[];let C=0;for(let F=0;F<Gv;++F){const H=F/_,Z=Math.exp(-H*H/2);w.push(Z),F===0?C+=Z:F<S&&(C+=2*Z)}for(let F=0;F<w.length;F++)w[F]=w[F]/C;g.envMap.value=e.texture,g.samples.value=S,g.weights.value=w,g.latitudinal.value=a==="latitudinal",s&&(g.poleAxis.value=s);const{_lodMax:T}=this;g.dTheta.value=x,g.mipInt.value=T-r;const k=this._sizeLods[i],R=3*k*(i>T-F_?i-T+F_:0),L=4*(this._cubeSize-k);zC(n,R,L,3*k,2*k),l.setRenderTarget(n),l.render(p,AN)}}function Bmt(t){const e=[],n=[],r=[];let i=t;const o=t-F_+1+FK.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-F_?l=FK[a-t+F_-1]:a===0&&(l=0),r.push(l);const c=1/(s-2),h=-c,p=1+c,g=[h,h,p,h,p,p,h,h,p,p,h,p],v=6,x=6,_=3,S=2,w=1,C=new Float32Array(_*x*v),T=new Float32Array(S*x*v),k=new Float32Array(w*x*v);for(let L=0;L<v;L++){const F=L%3*2/3-1,H=L>2?0:-1,Z=[F,H,0,F+2/3,H,0,F+2/3,H+1,0,F,H,0,F+2/3,H+1,0,F,H+1,0];C.set(Z,_*x*L),T.set(g,S*x*L);const j=[L,L,L,L,L,L];k.set(j,w*x*L)}const R=new Dr;R.setAttribute("position",new Qi(C,_)),R.setAttribute("uv",new Qi(T,S)),R.setAttribute("faceIndex",new Qi(k,w)),e.push(R),i>F_&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function UK(t,e,n){const r=new yf(t,e,n);return r.texture.mapping=$1,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function zC(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Fmt(t,e,n){const r=new Float32Array(Gv),i=new Oe(0,1,0);return new vf({name:"SphericalGaussianBlur",defines:{n:Gv,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:i8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:$p,depthTest:!1,depthWrite:!1})}function VK(){return new vf({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:i8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:$p,depthTest:!1,depthWrite:!1})}function WK(){return new vf({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:i8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:$p,depthTest:!1,depthWrite:!1})}function i8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $mt(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===T2||l===C2,h=l===tm||l===dy;if(c||h)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let p=e.get(s);return n===null&&(n=new G4(t)),p=c?n.fromEquirectangular(s,p):n.fromCubemap(s,p),e.set(s,p),p.texture}else{if(e.has(s))return e.get(s).texture;{const p=s.image;if(c&&p&&p.height>0||h&&p&&i(p)){n===null&&(n=new G4(t));const g=c?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,g),s.addEventListener("dispose",o),g.texture}else return null}}}return s}function i(s){let l=0;const c=6;for(let h=0;h<c;h++)s[h]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function jmt(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Umt(t,e,n,r){const i={},o=new WeakMap;function a(p){const g=p.target;g.index!==null&&e.remove(g.index);for(const x in g.attributes)e.remove(g.attributes[x]);for(const x in g.morphAttributes){const _=g.morphAttributes[x];for(let S=0,w=_.length;S<w;S++)e.remove(_[S])}g.removeEventListener("dispose",a),delete i[g.id];const v=o.get(g);v&&(e.remove(v),o.delete(g)),r.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function s(p,g){return i[g.id]===!0||(g.addEventListener("dispose",a),i[g.id]=!0,n.memory.geometries++),g}function l(p){const g=p.attributes;for(const x in g)e.update(g[x],t.ARRAY_BUFFER);const v=p.morphAttributes;for(const x in v){const _=v[x];for(let S=0,w=_.length;S<w;S++)e.update(_[S],t.ARRAY_BUFFER)}}function c(p){const g=[],v=p.index,x=p.attributes.position;let _=0;if(v!==null){const C=v.array;_=v.version;for(let T=0,k=C.length;T<k;T+=3){const R=C[T+0],L=C[T+1],F=C[T+2];g.push(R,L,L,F,F,R)}}else if(x!==void 0){const C=x.array;_=x.version;for(let T=0,k=C.length/3-1;T<k;T+=3){const R=T+0,L=T+1,F=T+2;g.push(R,L,L,F,F,R)}}else return;const S=new(Nue(g)?r8:n8)(g,1);S.version=_;const w=o.get(p);w&&e.remove(w),o.set(p,S)}function h(p){const g=o.get(p);if(g){const v=p.index;v!==null&&g.version<v.version&&c(p)}else c(p);return o.get(p)}return{get:s,update:l,getWireframeAttribute:h}}function Vmt(t,e,n,r){const i=r.isWebGL2;let o;function a(v){o=v}let s,l;function c(v){s=v.type,l=v.bytesPerElement}function h(v,x){t.drawElements(o,x,s,v*l),n.update(x,o,1)}function p(v,x,_){if(_===0)return;let S,w;if(i)S=t,w="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[w](o,x,s,v*l,_),n.update(x,o,_)}function g(v,x,_){if(_===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let w=0;w<_;w++)this.render(v[w]/l,x[w]);else{S.multiDrawElementsWEBGL(o,x,0,s,v,0,_);let w=0;for(let C=0;C<_;C++)w+=x[C];n.update(w,o,1)}}this.setMode=a,this.setIndex=c,this.render=h,this.renderInstances=p,this.renderMultiDraw=g}function Wmt(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Hmt(t,e){return t[0]-e[0]}function Gmt(t,e){return Math.abs(e[1])-Math.abs(t[1])}function qmt(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new zi,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,h,p){const g=c.morphTargetInfluences;if(e.isWebGL2===!0){const x=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,_=x!==void 0?x.length:0;let S=o.get(h);if(S===void 0||S.count!==_){let me=function(){X.dispose(),o.delete(h),h.removeEventListener("dispose",me)};var v=me;S!==void 0&&S.texture.dispose();const w=h.morphAttributes.position!==void 0,C=h.morphAttributes.normal!==void 0,T=h.morphAttributes.color!==void 0,k=h.morphAttributes.position||[],R=h.morphAttributes.normal||[],L=h.morphAttributes.color||[];let F=0;w===!0&&(F=1),C===!0&&(F=2),T===!0&&(F=3);let H=h.attributes.position.count*F,Z=1;H>e.maxTextureSize&&(Z=Math.ceil(H/e.maxTextureSize),H=e.maxTextureSize);const j=new Float32Array(H*Z*4*_),X=new WO(j,H,Z,_);X.type=ou,X.needsUpdate=!0;const le=F*4;for(let ie=0;ie<_;ie++){const ce=k[ie],fe=R[ie],xe=L[ie],te=H*Z*4*ie;for(let he=0;he<ce.count;he++){const ve=he*le;w===!0&&(a.fromBufferAttribute(ce,he),j[te+ve+0]=a.x,j[te+ve+1]=a.y,j[te+ve+2]=a.z,j[te+ve+3]=0),C===!0&&(a.fromBufferAttribute(fe,he),j[te+ve+4]=a.x,j[te+ve+5]=a.y,j[te+ve+6]=a.z,j[te+ve+7]=0),T===!0&&(a.fromBufferAttribute(xe,he),j[te+ve+8]=a.x,j[te+ve+9]=a.y,j[te+ve+10]=a.z,j[te+ve+11]=xe.itemSize===4?a.w:1)}}S={count:_,texture:X,size:new Ht(H,Z)},o.set(h,S),h.addEventListener("dispose",me)}if(c.isInstancedMesh===!0&&c.morphTexture!==null)p.getUniforms().setValue(t,"morphTexture",c.morphTexture,n);else{let w=0;for(let T=0;T<g.length;T++)w+=g[T];const C=h.morphTargetsRelative?1:1-w;p.getUniforms().setValue(t,"morphTargetBaseInfluence",C),p.getUniforms().setValue(t,"morphTargetInfluences",g)}p.getUniforms().setValue(t,"morphTargetsTexture",S.texture,n),p.getUniforms().setValue(t,"morphTargetsTextureSize",S.size)}else{const x=g===void 0?0:g.length;let _=r[h.id];if(_===void 0||_.length!==x){_=[];for(let k=0;k<x;k++)_[k]=[k,0];r[h.id]=_}for(let k=0;k<x;k++){const R=_[k];R[0]=k,R[1]=g[k]}_.sort(Gmt);for(let k=0;k<8;k++)k<x&&_[k][1]?(s[k][0]=_[k][0],s[k][1]=_[k][1]):(s[k][0]=Number.MAX_SAFE_INTEGER,s[k][1]=0);s.sort(Hmt);const S=h.morphAttributes.position,w=h.morphAttributes.normal;let C=0;for(let k=0;k<8;k++){const R=s[k],L=R[0],F=R[1];L!==Number.MAX_SAFE_INTEGER&&F?(S&&h.getAttribute("morphTarget"+k)!==S[L]&&h.setAttribute("morphTarget"+k,S[L]),w&&h.getAttribute("morphNormal"+k)!==w[L]&&h.setAttribute("morphNormal"+k,w[L]),i[k]=F,C+=F):(S&&h.hasAttribute("morphTarget"+k)===!0&&h.deleteAttribute("morphTarget"+k),w&&h.hasAttribute("morphNormal"+k)===!0&&h.deleteAttribute("morphNormal"+k),i[k]=0)}const T=h.morphTargetsRelative?1:1-C;p.getUniforms().setValue(t,"morphTargetBaseInfluence",T),p.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Ymt(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,h=l.geometry,p=e.get(l,h);if(i.get(p)!==c&&(e.update(p),i.set(p,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const g=l.skeleton;i.get(g)!==c&&(g.update(),i.set(g,c))}return p}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}class o8 extends qo{constructor(e,n,r,i,o,a,s,l,c,h){if(h=h!==void 0?h:ty,h!==ty&&h!==F0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===ty&&(r=Rp),r===void 0&&h===F0&&(r=ey),super(null,i,o,a,s,l,h,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:xs,this.minFilter=l!==void 0?l:xs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const Gue=new qo,que=new o8(1,1);que.compareFunction=J6;const Yue=new WO,Xue=new t8,Kue=new UE,HK=[],GK=[],qK=new Float32Array(16),YK=new Float32Array(9),XK=new Float32Array(4);function U1(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=HK[i];if(o===void 0&&(o=new Float32Array(i),HK[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function ra(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ia(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function HO(t,e){let n=GK[e];n===void 0&&(n=new Int32Array(e),GK[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Xmt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Kmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ra(n,e))return;t.uniform2fv(this.addr,e),ia(n,e)}}function Zmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ra(n,e))return;t.uniform3fv(this.addr,e),ia(n,e)}}function Jmt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ra(n,e))return;t.uniform4fv(this.addr,e),ia(n,e)}}function Qmt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ra(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ia(n,e)}else{if(ra(n,r))return;XK.set(r),t.uniformMatrix2fv(this.addr,!1,XK),ia(n,r)}}function egt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ra(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ia(n,e)}else{if(ra(n,r))return;YK.set(r),t.uniformMatrix3fv(this.addr,!1,YK),ia(n,r)}}function tgt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ra(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ia(n,e)}else{if(ra(n,r))return;qK.set(r),t.uniformMatrix4fv(this.addr,!1,qK),ia(n,r)}}function ngt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function rgt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ra(n,e))return;t.uniform2iv(this.addr,e),ia(n,e)}}function igt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ra(n,e))return;t.uniform3iv(this.addr,e),ia(n,e)}}function ogt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ra(n,e))return;t.uniform4iv(this.addr,e),ia(n,e)}}function sgt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function agt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ra(n,e))return;t.uniform2uiv(this.addr,e),ia(n,e)}}function lgt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ra(n,e))return;t.uniform3uiv(this.addr,e),ia(n,e)}}function cgt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ra(n,e))return;t.uniform4uiv(this.addr,e),ia(n,e)}}function ugt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?que:Gue;n.setTexture2D(e||o,i)}function dgt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Xue,i)}function fgt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Kue,i)}function hgt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Yue,i)}function pgt(t){switch(t){case 5126:return Xmt;case 35664:return Kmt;case 35665:return Zmt;case 35666:return Jmt;case 35674:return Qmt;case 35675:return egt;case 35676:return tgt;case 5124:case 35670:return ngt;case 35667:case 35671:return rgt;case 35668:case 35672:return igt;case 35669:case 35673:return ogt;case 5125:return sgt;case 36294:return agt;case 36295:return lgt;case 36296:return cgt;case 35678:case 36198:case 36298:case 36306:case 35682:return ugt;case 35679:case 36299:case 36307:return dgt;case 35680:case 36300:case 36308:case 36293:return fgt;case 36289:case 36303:case 36311:case 36292:return hgt}}function mgt(t,e){t.uniform1fv(this.addr,e)}function ggt(t,e){const n=U1(e,this.size,2);t.uniform2fv(this.addr,n)}function ygt(t,e){const n=U1(e,this.size,3);t.uniform3fv(this.addr,n)}function vgt(t,e){const n=U1(e,this.size,4);t.uniform4fv(this.addr,n)}function xgt(t,e){const n=U1(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function _gt(t,e){const n=U1(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function bgt(t,e){const n=U1(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function wgt(t,e){t.uniform1iv(this.addr,e)}function Sgt(t,e){t.uniform2iv(this.addr,e)}function Mgt(t,e){t.uniform3iv(this.addr,e)}function Egt(t,e){t.uniform4iv(this.addr,e)}function Tgt(t,e){t.uniform1uiv(this.addr,e)}function Cgt(t,e){t.uniform2uiv(this.addr,e)}function Agt(t,e){t.uniform3uiv(this.addr,e)}function Pgt(t,e){t.uniform4uiv(this.addr,e)}function Igt(t,e,n){const r=this.cache,i=e.length,o=HO(n,i);ra(r,o)||(t.uniform1iv(this.addr,o),ia(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||Gue,o[a])}function kgt(t,e,n){const r=this.cache,i=e.length,o=HO(n,i);ra(r,o)||(t.uniform1iv(this.addr,o),ia(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||Xue,o[a])}function Rgt(t,e,n){const r=this.cache,i=e.length,o=HO(n,i);ra(r,o)||(t.uniform1iv(this.addr,o),ia(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||Kue,o[a])}function Ogt(t,e,n){const r=this.cache,i=e.length,o=HO(n,i);ra(r,o)||(t.uniform1iv(this.addr,o),ia(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||Yue,o[a])}function Lgt(t){switch(t){case 5126:return mgt;case 35664:return ggt;case 35665:return ygt;case 35666:return vgt;case 35674:return xgt;case 35675:return _gt;case 35676:return bgt;case 5124:case 35670:return wgt;case 35667:case 35671:return Sgt;case 35668:case 35672:return Mgt;case 35669:case 35673:return Egt;case 5125:return Tgt;case 36294:return Cgt;case 36295:return Agt;case 36296:return Pgt;case 35678:case 36198:case 36298:case 36306:case 35682:return Igt;case 35679:case 36299:case 36307:return kgt;case 35680:case 36300:case 36308:case 36293:return Rgt;case 36289:case 36303:case 36311:case 36292:return Ogt}}class Dgt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=pgt(n.type)}}class Ngt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Lgt(n.type)}}class zgt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const RN=/(\w+)(\])?(\[|\.)?/g;function KK(t,e){t.seq.push(e),t.map[e.id]=e}function Bgt(t,e,n){const r=t.name,i=r.length;for(RN.lastIndex=0;;){const o=RN.exec(r),a=RN.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){KK(n,c===void 0?new Dgt(s,t,e):new Ngt(s,t,e));break}else{let p=n.map[s];p===void 0&&(p=new zgt(s),KK(n,p)),n=p}}}class YA{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);Bgt(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function ZK(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Fgt=37297;let $gt=0;function jgt(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}function Ugt(t){const e=Ni.getPrimaries(Ni.workingColorSpace),n=Ni.getPrimaries(t);let r;switch(e===n?r="":e===D2&&n===L2?r="LinearDisplayP3ToLinearSRGB":e===L2&&n===D2&&(r="LinearSRGBToLinearDisplayP3"),t){case fm:case $E:return[r,"LinearTransferOETF"];case Yu:case VO:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function JK(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+jgt(t.getShaderSource(e),a)}else return i}function Vgt(t,e){const n=Ugt(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Wgt(t,e){let n;switch(e){case lue:n="Linear";break;case cue:n="Reinhard";break;case uue:n="OptimizedCineon";break;case U6:n="ACESFilmic";break;case fue:n="AgX";break;case hue:n="Neutral";break;case due:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Hgt(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter($_).join(`
`)}function Ggt(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter($_).join(`
`)}function qgt(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Ygt(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function $_(t){return t!==""}function QK(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function eZ(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Xgt=/^[ \t]*#include +<([\w\d./]+)>/gm;function q4(t){return t.replace(Xgt,Zgt)}const Kgt=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Zgt(t,e){let n=zr[e];if(n===void 0){const r=Kgt.get(e);if(r!==void 0)n=zr[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return q4(n)}const Jgt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tZ(t){return t.replace(Jgt,Qgt)}function Qgt(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function nZ(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function eyt(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===FO?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===QS?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Xd&&(e="SHADOWMAP_TYPE_VSM"),e}function tyt(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case tm:case dy:e="ENVMAP_TYPE_CUBE";break;case $1:e="ENVMAP_TYPE_CUBE_UV";break}return e}function nyt(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case dy:e="ENVMAP_MODE_REFRACTION";break}return e}function ryt(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case FE:e="ENVMAP_BLENDING_MULTIPLY";break;case sue:e="ENVMAP_BLENDING_MIX";break;case aue:e="ENVMAP_BLENDING_ADD";break}return e}function iyt(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function oyt(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=eyt(n),c=tyt(n),h=nyt(n),p=ryt(n),g=iyt(n),v=n.isWebGL2?"":Hgt(n),x=Ggt(n),_=qgt(o),S=i.createProgram();let w,C,T=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter($_).join(`
`),w.length>0&&(w+=`
`),C=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter($_).join(`
`),C.length>0&&(C+=`
`)):(w=[nZ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($_).join(`
`),C=[v,nZ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Eh?"#define TONE_MAPPING":"",n.toneMapping!==Eh?zr.tonemapping_pars_fragment:"",n.toneMapping!==Eh?Wgt("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",zr.colorspace_pars_fragment,Vgt("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter($_).join(`
`)),a=q4(a),a=QK(a,n),a=eZ(a,n),s=q4(s),s=QK(s,n),s=eZ(s,n),a=tZ(a),s=tZ(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,w=[x,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,C=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===W4?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===W4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+C);const k=T+w+a,R=T+C+s,L=ZK(i,i.VERTEX_SHADER,k),F=ZK(i,i.FRAGMENT_SHADER,R);i.attachShader(S,L),i.attachShader(S,F),n.index0AttributeName!==void 0?i.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function H(le){if(t.debug.checkShaderErrors){const me=i.getProgramInfoLog(S).trim(),ie=i.getShaderInfoLog(L).trim(),ce=i.getShaderInfoLog(F).trim();let fe=!0,xe=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(fe=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,S,L,F);else{const te=JK(i,L,"vertex"),he=JK(i,F,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+le.name+`
Material Type: `+le.type+`

Program Info Log: `+me+`
`+te+`
`+he)}else me!==""?console.warn("THREE.WebGLProgram: Program Info Log:",me):(ie===""||ce==="")&&(xe=!1);xe&&(le.diagnostics={runnable:fe,programLog:me,vertexShader:{log:ie,prefix:w},fragmentShader:{log:ce,prefix:C}})}i.deleteShader(L),i.deleteShader(F),Z=new YA(i,S),j=Ygt(i,S)}let Z;this.getUniforms=function(){return Z===void 0&&H(this),Z};let j;this.getAttributes=function(){return j===void 0&&H(this),j};let X=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return X===!1&&(X=i.getProgramParameter(S,Fgt)),X},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=$gt++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=L,this.fragmentShader=F,this}let syt=0;class ayt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new lyt(e),n.set(e,r)),r}}class lyt{constructor(e){this.id=syt++,this.code=e,this.usedTimes=0}}function cyt(t,e,n,r,i,o,a){const s=new w0,l=new ayt,c=new Set,h=[],p=i.isWebGL2,g=i.logarithmicDepthBuffer,v=i.vertexTextures;let x=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(j){return c.add(j),j===0?"uv":`uv${j}`}function w(j,X,le,me,ie){const ce=me.fog,fe=ie.geometry,xe=j.isMeshStandardMaterial?me.environment:null,te=(j.isMeshStandardMaterial?n:e).get(j.envMap||xe),he=te&&te.mapping===$1?te.image.height:null,ve=_[j.type];j.precision!==null&&(x=i.getMaxPrecision(j.precision),x!==j.precision&&console.warn("THREE.WebGLProgram.getParameters:",j.precision,"not supported, using",x,"instead."));const ze=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,Ue=ze!==void 0?ze.length:0;let rt=0;fe.morphAttributes.position!==void 0&&(rt=1),fe.morphAttributes.normal!==void 0&&(rt=2),fe.morphAttributes.color!==void 0&&(rt=3);let Fe,st,ct,Dt;if(ve){const Te=rf[ve];Fe=Te.vertexShader,st=Te.fragmentShader}else Fe=j.vertexShader,st=j.fragmentShader,l.update(j),ct=l.getVertexShaderID(j),Dt=l.getFragmentShaderID(j);const zt=t.getRenderTarget(),Be=ie.isInstancedMesh===!0,lt=ie.isBatchedMesh===!0,Qe=!!j.map,ge=!!j.matcap,et=!!te,ot=!!j.aoMap,Tt=!!j.lightMap,Ct=!!j.bumpMap,Ft=!!j.normalMap,Gt=!!j.displacementMap,sn=!!j.emissiveMap,Je=!!j.metalnessMap,Ce=!!j.roughnessMap,_e=j.anisotropy>0,ht=j.clearcoat>0,dt=j.iridescence>0,Wt=j.sheen>0,jt=j.transmission>0,Mn=_e&&!!j.anisotropyMap,cn=ht&&!!j.clearcoatMap,Rt=ht&&!!j.clearcoatNormalMap,nn=ht&&!!j.clearcoatRoughnessMap,Pn=dt&&!!j.iridescenceMap,mt=dt&&!!j.iridescenceThicknessMap,un=Wt&&!!j.sheenColorMap,an=Wt&&!!j.sheenRoughnessMap,Ot=!!j.specularMap,ke=!!j.specularColorMap,Ve=!!j.specularIntensityMap,Me=jt&&!!j.transmissionMap,it=jt&&!!j.thicknessMap,en=!!j.gradientMap,Xe=!!j.alphaMap,kt=j.alphaTest>0,Et=!!j.alphaHash,we=!!j.extensions;let oe=Eh;j.toneMapped&&(zt===null||zt.isXRRenderTarget===!0)&&(oe=t.toneMapping);const pe={isWebGL2:p,shaderID:ve,shaderType:j.type,shaderName:j.name,vertexShader:Fe,fragmentShader:st,defines:j.defines,customVertexShaderID:ct,customFragmentShaderID:Dt,isRawShaderMaterial:j.isRawShaderMaterial===!0,glslVersion:j.glslVersion,precision:x,batching:lt,instancing:Be,instancingColor:Be&&ie.instanceColor!==null,instancingMorph:Be&&ie.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:zt===null?t.outputColorSpace:zt.isXRRenderTarget===!0?zt.texture.colorSpace:fm,alphaToCoverage:!!j.alphaToCoverage,map:Qe,matcap:ge,envMap:et,envMapMode:et&&te.mapping,envMapCubeUVHeight:he,aoMap:ot,lightMap:Tt,bumpMap:Ct,normalMap:Ft,displacementMap:v&&Gt,emissiveMap:sn,normalMapObjectSpace:Ft&&j.normalMapType===Cue,normalMapTangentSpace:Ft&&j.normalMapType===Ty,metalnessMap:Je,roughnessMap:Ce,anisotropy:_e,anisotropyMap:Mn,clearcoat:ht,clearcoatMap:cn,clearcoatNormalMap:Rt,clearcoatRoughnessMap:nn,iridescence:dt,iridescenceMap:Pn,iridescenceThicknessMap:mt,sheen:Wt,sheenColorMap:un,sheenRoughnessMap:an,specularMap:Ot,specularColorMap:ke,specularIntensityMap:Ve,transmission:jt,transmissionMap:Me,thicknessMap:it,gradientMap:en,opaque:j.transparent===!1&&j.blending===_0&&j.alphaToCoverage===!1,alphaMap:Xe,alphaTest:kt,alphaHash:Et,combine:j.combine,mapUv:Qe&&S(j.map.channel),aoMapUv:ot&&S(j.aoMap.channel),lightMapUv:Tt&&S(j.lightMap.channel),bumpMapUv:Ct&&S(j.bumpMap.channel),normalMapUv:Ft&&S(j.normalMap.channel),displacementMapUv:Gt&&S(j.displacementMap.channel),emissiveMapUv:sn&&S(j.emissiveMap.channel),metalnessMapUv:Je&&S(j.metalnessMap.channel),roughnessMapUv:Ce&&S(j.roughnessMap.channel),anisotropyMapUv:Mn&&S(j.anisotropyMap.channel),clearcoatMapUv:cn&&S(j.clearcoatMap.channel),clearcoatNormalMapUv:Rt&&S(j.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:nn&&S(j.clearcoatRoughnessMap.channel),iridescenceMapUv:Pn&&S(j.iridescenceMap.channel),iridescenceThicknessMapUv:mt&&S(j.iridescenceThicknessMap.channel),sheenColorMapUv:un&&S(j.sheenColorMap.channel),sheenRoughnessMapUv:an&&S(j.sheenRoughnessMap.channel),specularMapUv:Ot&&S(j.specularMap.channel),specularColorMapUv:ke&&S(j.specularColorMap.channel),specularIntensityMapUv:Ve&&S(j.specularIntensityMap.channel),transmissionMapUv:Me&&S(j.transmissionMap.channel),thicknessMapUv:it&&S(j.thicknessMap.channel),alphaMapUv:Xe&&S(j.alphaMap.channel),vertexTangents:!!fe.attributes.tangent&&(Ft||_e),vertexColors:j.vertexColors,vertexAlphas:j.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,pointsUvs:ie.isPoints===!0&&!!fe.attributes.uv&&(Qe||Xe),fog:!!ce,useFog:j.fog===!0,fogExp2:!!ce&&ce.isFogExp2,flatShading:j.flatShading===!0,sizeAttenuation:j.sizeAttenuation===!0,logarithmicDepthBuffer:g,skinning:ie.isSkinnedMesh===!0,morphTargets:fe.morphAttributes.position!==void 0,morphNormals:fe.morphAttributes.normal!==void 0,morphColors:fe.morphAttributes.color!==void 0,morphTargetsCount:Ue,morphTextureStride:rt,numDirLights:X.directional.length,numPointLights:X.point.length,numSpotLights:X.spot.length,numSpotLightMaps:X.spotLightMap.length,numRectAreaLights:X.rectArea.length,numHemiLights:X.hemi.length,numDirLightShadows:X.directionalShadowMap.length,numPointLightShadows:X.pointShadowMap.length,numSpotLightShadows:X.spotShadowMap.length,numSpotLightShadowsWithMaps:X.numSpotLightShadowsWithMaps,numLightProbes:X.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:j.dithering,shadowMapEnabled:t.shadowMap.enabled&&le.length>0,shadowMapType:t.shadowMap.type,toneMapping:oe,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Qe&&j.map.isVideoTexture===!0&&Ni.getTransfer(j.map.colorSpace)===fo,premultipliedAlpha:j.premultipliedAlpha,doubleSided:j.side===af,flipSided:j.side===ql,useDepthPacking:j.depthPacking>=0,depthPacking:j.depthPacking||0,index0AttributeName:j.index0AttributeName,extensionDerivatives:we&&j.extensions.derivatives===!0,extensionFragDepth:we&&j.extensions.fragDepth===!0,extensionDrawBuffers:we&&j.extensions.drawBuffers===!0,extensionShaderTextureLOD:we&&j.extensions.shaderTextureLOD===!0,extensionClipCullDistance:we&&j.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:we&&j.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:p||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:j.customProgramCacheKey()};return pe.vertexUv1s=c.has(1),pe.vertexUv2s=c.has(2),pe.vertexUv3s=c.has(3),c.clear(),pe}function C(j){const X=[];if(j.shaderID?X.push(j.shaderID):(X.push(j.customVertexShaderID),X.push(j.customFragmentShaderID)),j.defines!==void 0)for(const le in j.defines)X.push(le),X.push(j.defines[le]);return j.isRawShaderMaterial===!1&&(T(X,j),k(X,j),X.push(t.outputColorSpace)),X.push(j.customProgramCacheKey),X.join()}function T(j,X){j.push(X.precision),j.push(X.outputColorSpace),j.push(X.envMapMode),j.push(X.envMapCubeUVHeight),j.push(X.mapUv),j.push(X.alphaMapUv),j.push(X.lightMapUv),j.push(X.aoMapUv),j.push(X.bumpMapUv),j.push(X.normalMapUv),j.push(X.displacementMapUv),j.push(X.emissiveMapUv),j.push(X.metalnessMapUv),j.push(X.roughnessMapUv),j.push(X.anisotropyMapUv),j.push(X.clearcoatMapUv),j.push(X.clearcoatNormalMapUv),j.push(X.clearcoatRoughnessMapUv),j.push(X.iridescenceMapUv),j.push(X.iridescenceThicknessMapUv),j.push(X.sheenColorMapUv),j.push(X.sheenRoughnessMapUv),j.push(X.specularMapUv),j.push(X.specularColorMapUv),j.push(X.specularIntensityMapUv),j.push(X.transmissionMapUv),j.push(X.thicknessMapUv),j.push(X.combine),j.push(X.fogExp2),j.push(X.sizeAttenuation),j.push(X.morphTargetsCount),j.push(X.morphAttributeCount),j.push(X.numDirLights),j.push(X.numPointLights),j.push(X.numSpotLights),j.push(X.numSpotLightMaps),j.push(X.numHemiLights),j.push(X.numRectAreaLights),j.push(X.numDirLightShadows),j.push(X.numPointLightShadows),j.push(X.numSpotLightShadows),j.push(X.numSpotLightShadowsWithMaps),j.push(X.numLightProbes),j.push(X.shadowMapType),j.push(X.toneMapping),j.push(X.numClippingPlanes),j.push(X.numClipIntersection),j.push(X.depthPacking)}function k(j,X){s.disableAll(),X.isWebGL2&&s.enable(0),X.supportsVertexTextures&&s.enable(1),X.instancing&&s.enable(2),X.instancingColor&&s.enable(3),X.instancingMorph&&s.enable(4),X.matcap&&s.enable(5),X.envMap&&s.enable(6),X.normalMapObjectSpace&&s.enable(7),X.normalMapTangentSpace&&s.enable(8),X.clearcoat&&s.enable(9),X.iridescence&&s.enable(10),X.alphaTest&&s.enable(11),X.vertexColors&&s.enable(12),X.vertexAlphas&&s.enable(13),X.vertexUv1s&&s.enable(14),X.vertexUv2s&&s.enable(15),X.vertexUv3s&&s.enable(16),X.vertexTangents&&s.enable(17),X.anisotropy&&s.enable(18),X.alphaHash&&s.enable(19),X.batching&&s.enable(20),j.push(s.mask),s.disableAll(),X.fog&&s.enable(0),X.useFog&&s.enable(1),X.flatShading&&s.enable(2),X.logarithmicDepthBuffer&&s.enable(3),X.skinning&&s.enable(4),X.morphTargets&&s.enable(5),X.morphNormals&&s.enable(6),X.morphColors&&s.enable(7),X.premultipliedAlpha&&s.enable(8),X.shadowMapEnabled&&s.enable(9),X.useLegacyLights&&s.enable(10),X.doubleSided&&s.enable(11),X.flipSided&&s.enable(12),X.useDepthPacking&&s.enable(13),X.dithering&&s.enable(14),X.transmission&&s.enable(15),X.sheen&&s.enable(16),X.opaque&&s.enable(17),X.pointsUvs&&s.enable(18),X.decodeVideoTexture&&s.enable(19),X.alphaToCoverage&&s.enable(20),j.push(s.mask)}function R(j){const X=_[j.type];let le;if(X){const me=rf[X];le=Uue.clone(me.uniforms)}else le=j.uniforms;return le}function L(j,X){let le;for(let me=0,ie=h.length;me<ie;me++){const ce=h[me];if(ce.cacheKey===X){le=ce,++le.usedTimes;break}}return le===void 0&&(le=new oyt(t,X,j,o),h.push(le)),le}function F(j){if(--j.usedTimes===0){const X=h.indexOf(j);h[X]=h[h.length-1],h.pop(),j.destroy()}}function H(j){l.remove(j)}function Z(){l.dispose()}return{getParameters:w,getProgramCacheKey:C,getUniforms:R,acquireProgram:L,releaseProgram:F,releaseShaderCache:H,programs:h,dispose:Z}}function uyt(){let t=new WeakMap;function e(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function n(o){t.delete(o)}function r(o,a,s){t.get(o)[a]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function dyt(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function rZ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function iZ(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(p,g,v,x,_,S){let w=t[e];return w===void 0?(w={id:p.id,object:p,geometry:g,material:v,groupOrder:x,renderOrder:p.renderOrder,z:_,group:S},t[e]=w):(w.id=p.id,w.object=p,w.geometry=g,w.material=v,w.groupOrder=x,w.renderOrder=p.renderOrder,w.z=_,w.group=S),e++,w}function s(p,g,v,x,_,S){const w=a(p,g,v,x,_,S);v.transmission>0?r.push(w):v.transparent===!0?i.push(w):n.push(w)}function l(p,g,v,x,_,S){const w=a(p,g,v,x,_,S);v.transmission>0?r.unshift(w):v.transparent===!0?i.unshift(w):n.unshift(w)}function c(p,g){n.length>1&&n.sort(p||dyt),r.length>1&&r.sort(g||rZ),i.length>1&&i.sort(g||rZ)}function h(){for(let p=e,g=t.length;p<g;p++){const v=t[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:h,sort:c}}function fyt(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new iZ,t.set(r,[a])):i>=o.length?(a=new iZ,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function hyt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Oe,color:new Fn};break;case"SpotLight":n={position:new Oe,direction:new Oe,color:new Fn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Oe,color:new Fn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Oe,skyColor:new Fn,groundColor:new Fn};break;case"RectAreaLight":n={color:new Fn,position:new Oe,halfWidth:new Oe,halfHeight:new Oe};break}return t[e.id]=n,n}}}function pyt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ht};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ht};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ht,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let myt=0;function gyt(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function yyt(t,e){const n=new hyt,r=pyt(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new Oe);const o=new Oe,a=new _r,s=new _r;function l(h,p){let g=0,v=0,x=0;for(let le=0;le<9;le++)i.probe[le].set(0,0,0);let _=0,S=0,w=0,C=0,T=0,k=0,R=0,L=0,F=0,H=0,Z=0;h.sort(gyt);const j=p===!0?Math.PI:1;for(let le=0,me=h.length;le<me;le++){const ie=h[le],ce=ie.color,fe=ie.intensity,xe=ie.distance,te=ie.shadow&&ie.shadow.map?ie.shadow.map.texture:null;if(ie.isAmbientLight)g+=ce.r*fe*j,v+=ce.g*fe*j,x+=ce.b*fe*j;else if(ie.isLightProbe){for(let he=0;he<9;he++)i.probe[he].addScaledVector(ie.sh.coefficients[he],fe);Z++}else if(ie.isDirectionalLight){const he=n.get(ie);if(he.color.copy(ie.color).multiplyScalar(ie.intensity*j),ie.castShadow){const ve=ie.shadow,ze=r.get(ie);ze.shadowBias=ve.bias,ze.shadowNormalBias=ve.normalBias,ze.shadowRadius=ve.radius,ze.shadowMapSize=ve.mapSize,i.directionalShadow[_]=ze,i.directionalShadowMap[_]=te,i.directionalShadowMatrix[_]=ie.shadow.matrix,k++}i.directional[_]=he,_++}else if(ie.isSpotLight){const he=n.get(ie);he.position.setFromMatrixPosition(ie.matrixWorld),he.color.copy(ce).multiplyScalar(fe*j),he.distance=xe,he.coneCos=Math.cos(ie.angle),he.penumbraCos=Math.cos(ie.angle*(1-ie.penumbra)),he.decay=ie.decay,i.spot[w]=he;const ve=ie.shadow;if(ie.map&&(i.spotLightMap[F]=ie.map,F++,ve.updateMatrices(ie),ie.castShadow&&H++),i.spotLightMatrix[w]=ve.matrix,ie.castShadow){const ze=r.get(ie);ze.shadowBias=ve.bias,ze.shadowNormalBias=ve.normalBias,ze.shadowRadius=ve.radius,ze.shadowMapSize=ve.mapSize,i.spotShadow[w]=ze,i.spotShadowMap[w]=te,L++}w++}else if(ie.isRectAreaLight){const he=n.get(ie);he.color.copy(ce).multiplyScalar(fe),he.halfWidth.set(ie.width*.5,0,0),he.halfHeight.set(0,ie.height*.5,0),i.rectArea[C]=he,C++}else if(ie.isPointLight){const he=n.get(ie);if(he.color.copy(ie.color).multiplyScalar(ie.intensity*j),he.distance=ie.distance,he.decay=ie.decay,ie.castShadow){const ve=ie.shadow,ze=r.get(ie);ze.shadowBias=ve.bias,ze.shadowNormalBias=ve.normalBias,ze.shadowRadius=ve.radius,ze.shadowMapSize=ve.mapSize,ze.shadowCameraNear=ve.camera.near,ze.shadowCameraFar=ve.camera.far,i.pointShadow[S]=ze,i.pointShadowMap[S]=te,i.pointShadowMatrix[S]=ie.shadow.matrix,R++}i.point[S]=he,S++}else if(ie.isHemisphereLight){const he=n.get(ie);he.skyColor.copy(ie.color).multiplyScalar(fe*j),he.groundColor.copy(ie.groundColor).multiplyScalar(fe*j),i.hemi[T]=he,T++}}C>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=En.LTC_FLOAT_1,i.rectAreaLTC2=En.LTC_FLOAT_2):(i.rectAreaLTC1=En.LTC_HALF_1,i.rectAreaLTC2=En.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=En.LTC_FLOAT_1,i.rectAreaLTC2=En.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=En.LTC_HALF_1,i.rectAreaLTC2=En.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=g,i.ambient[1]=v,i.ambient[2]=x;const X=i.hash;(X.directionalLength!==_||X.pointLength!==S||X.spotLength!==w||X.rectAreaLength!==C||X.hemiLength!==T||X.numDirectionalShadows!==k||X.numPointShadows!==R||X.numSpotShadows!==L||X.numSpotMaps!==F||X.numLightProbes!==Z)&&(i.directional.length=_,i.spot.length=w,i.rectArea.length=C,i.point.length=S,i.hemi.length=T,i.directionalShadow.length=k,i.directionalShadowMap.length=k,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=k,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=L+F-H,i.spotLightMap.length=F,i.numSpotLightShadowsWithMaps=H,i.numLightProbes=Z,X.directionalLength=_,X.pointLength=S,X.spotLength=w,X.rectAreaLength=C,X.hemiLength=T,X.numDirectionalShadows=k,X.numPointShadows=R,X.numSpotShadows=L,X.numSpotMaps=F,X.numLightProbes=Z,i.version=myt++)}function c(h,p){let g=0,v=0,x=0,_=0,S=0;const w=p.matrixWorldInverse;for(let C=0,T=h.length;C<T;C++){const k=h[C];if(k.isDirectionalLight){const R=i.directional[g];R.direction.setFromMatrixPosition(k.matrixWorld),o.setFromMatrixPosition(k.target.matrixWorld),R.direction.sub(o),R.direction.transformDirection(w),g++}else if(k.isSpotLight){const R=i.spot[x];R.position.setFromMatrixPosition(k.matrixWorld),R.position.applyMatrix4(w),R.direction.setFromMatrixPosition(k.matrixWorld),o.setFromMatrixPosition(k.target.matrixWorld),R.direction.sub(o),R.direction.transformDirection(w),x++}else if(k.isRectAreaLight){const R=i.rectArea[_];R.position.setFromMatrixPosition(k.matrixWorld),R.position.applyMatrix4(w),s.identity(),a.copy(k.matrixWorld),a.premultiply(w),s.extractRotation(a),R.halfWidth.set(k.width*.5,0,0),R.halfHeight.set(0,k.height*.5,0),R.halfWidth.applyMatrix4(s),R.halfHeight.applyMatrix4(s),_++}else if(k.isPointLight){const R=i.point[v];R.position.setFromMatrixPosition(k.matrixWorld),R.position.applyMatrix4(w),v++}else if(k.isHemisphereLight){const R=i.hemi[S];R.direction.setFromMatrixPosition(k.matrixWorld),R.direction.transformDirection(w),S++}}}return{setup:l,setupView:c,state:i}}function oZ(t,e){const n=new yyt(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(p){r.push(p)}function s(p){i.push(p)}function l(p){n.setup(r,p)}function c(p){n.setupView(r,p)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function vyt(t,e){let n=new WeakMap;function r(o,a=0){const s=n.get(o);let l;return s===void 0?(l=new oZ(t,e),n.set(o,[l])):a>=s.length?(l=new oZ(t,e),s.push(l)):l=s[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class s8 extends ja{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Eue,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class a8 extends ja{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const xyt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,_yt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function byt(t,e,n){let r=new VE;const i=new Ht,o=new Ht,a=new zi,s=new s8({depthPacking:Tue}),l=new a8,c={},h=n.maxTextureSize,p={[em]:ql,[ql]:em,[af]:af},g=new vf({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ht},radius:{value:4}},vertexShader:xyt,fragmentShader:_yt}),v=g.clone();v.defines.HORIZONTAL_PASS=1;const x=new Dr;x.setAttribute("position",new Qi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Os(x,g),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=FO;let w=this.type;this.render=function(L,F,H){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||L.length===0)return;const Z=t.getRenderTarget(),j=t.getActiveCubeFace(),X=t.getActiveMipmapLevel(),le=t.state;le.setBlending($p),le.buffers.color.setClear(1,1,1,1),le.buffers.depth.setTest(!0),le.setScissorTest(!1);const me=w!==Xd&&this.type===Xd,ie=w===Xd&&this.type!==Xd;for(let ce=0,fe=L.length;ce<fe;ce++){const xe=L[ce],te=xe.shadow;if(te===void 0){console.warn("THREE.WebGLShadowMap:",xe,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;i.copy(te.mapSize);const he=te.getFrameExtents();if(i.multiply(he),o.copy(te.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(o.x=Math.floor(h/he.x),i.x=o.x*he.x,te.mapSize.x=o.x),i.y>h&&(o.y=Math.floor(h/he.y),i.y=o.y*he.y,te.mapSize.y=o.y)),te.map===null||me===!0||ie===!0){const ze=this.type!==Xd?{minFilter:xs,magFilter:xs}:{};te.map!==null&&te.map.dispose(),te.map=new yf(i.x,i.y,ze),te.map.texture.name=xe.name+".shadowMap",te.camera.updateProjectionMatrix()}t.setRenderTarget(te.map),t.clear();const ve=te.getViewportCount();for(let ze=0;ze<ve;ze++){const Ue=te.getViewport(ze);a.set(o.x*Ue.x,o.y*Ue.y,o.x*Ue.z,o.y*Ue.w),le.viewport(a),te.updateMatrices(xe,ze),r=te.getFrustum(),k(F,H,te.camera,xe,this.type)}te.isPointLightShadow!==!0&&this.type===Xd&&C(te,H),te.needsUpdate=!1}w=this.type,S.needsUpdate=!1,t.setRenderTarget(Z,j,X)};function C(L,F){const H=e.update(_);g.defines.VSM_SAMPLES!==L.blurSamples&&(g.defines.VSM_SAMPLES=L.blurSamples,v.defines.VSM_SAMPLES=L.blurSamples,g.needsUpdate=!0,v.needsUpdate=!0),L.mapPass===null&&(L.mapPass=new yf(i.x,i.y)),g.uniforms.shadow_pass.value=L.map.texture,g.uniforms.resolution.value=L.mapSize,g.uniforms.radius.value=L.radius,t.setRenderTarget(L.mapPass),t.clear(),t.renderBufferDirect(F,null,H,g,_,null),v.uniforms.shadow_pass.value=L.mapPass.texture,v.uniforms.resolution.value=L.mapSize,v.uniforms.radius.value=L.radius,t.setRenderTarget(L.map),t.clear(),t.renderBufferDirect(F,null,H,v,_,null)}function T(L,F,H,Z){let j=null;const X=H.isPointLight===!0?L.customDistanceMaterial:L.customDepthMaterial;if(X!==void 0)j=X;else if(j=H.isPointLight===!0?l:s,t.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0){const le=j.uuid,me=F.uuid;let ie=c[le];ie===void 0&&(ie={},c[le]=ie);let ce=ie[me];ce===void 0&&(ce=j.clone(),ie[me]=ce,F.addEventListener("dispose",R)),j=ce}if(j.visible=F.visible,j.wireframe=F.wireframe,Z===Xd?j.side=F.shadowSide!==null?F.shadowSide:F.side:j.side=F.shadowSide!==null?F.shadowSide:p[F.side],j.alphaMap=F.alphaMap,j.alphaTest=F.alphaTest,j.map=F.map,j.clipShadows=F.clipShadows,j.clippingPlanes=F.clippingPlanes,j.clipIntersection=F.clipIntersection,j.displacementMap=F.displacementMap,j.displacementScale=F.displacementScale,j.displacementBias=F.displacementBias,j.wireframeLinewidth=F.wireframeLinewidth,j.linewidth=F.linewidth,H.isPointLight===!0&&j.isMeshDistanceMaterial===!0){const le=t.properties.get(j);le.light=H}return j}function k(L,F,H,Z,j){if(L.visible===!1)return;if(L.layers.test(F.layers)&&(L.isMesh||L.isLine||L.isPoints)&&(L.castShadow||L.receiveShadow&&j===Xd)&&(!L.frustumCulled||r.intersectsObject(L))){L.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,L.matrixWorld);const me=e.update(L),ie=L.material;if(Array.isArray(ie)){const ce=me.groups;for(let fe=0,xe=ce.length;fe<xe;fe++){const te=ce[fe],he=ie[te.materialIndex];if(he&&he.visible){const ve=T(L,he,Z,j);L.onBeforeShadow(t,L,F,H,me,ve,te),t.renderBufferDirect(H,null,me,ve,L,te),L.onAfterShadow(t,L,F,H,me,ve,te)}}}else if(ie.visible){const ce=T(L,ie,Z,j);L.onBeforeShadow(t,L,F,H,me,ce,null),t.renderBufferDirect(H,null,me,ce,L,null),L.onAfterShadow(t,L,F,H,me,ce,null)}}const le=L.children;for(let me=0,ie=le.length;me<ie;me++)k(le[me],F,H,Z,j)}function R(L){L.target.removeEventListener("dispose",R);for(const H in c){const Z=c[H],j=L.target.uuid;j in Z&&(Z[j].dispose(),delete Z[j])}}}function wyt(t,e,n){const r=n.isWebGL2;function i(){let Xe=!1;const kt=new zi;let Et=null;const we=new zi(0,0,0,0);return{setMask:function(oe){Et!==oe&&!Xe&&(t.colorMask(oe,oe,oe,oe),Et=oe)},setLocked:function(oe){Xe=oe},setClear:function(oe,pe,Te,Pe,Ne){Ne===!0&&(oe*=Pe,pe*=Pe,Te*=Pe),kt.set(oe,pe,Te,Pe),we.equals(kt)===!1&&(t.clearColor(oe,pe,Te,Pe),we.copy(kt))},reset:function(){Xe=!1,Et=null,we.set(-1,0,0,0)}}}function o(){let Xe=!1,kt=null,Et=null,we=null;return{setTest:function(oe){oe?Be(t.DEPTH_TEST):lt(t.DEPTH_TEST)},setMask:function(oe){kt!==oe&&!Xe&&(t.depthMask(oe),kt=oe)},setFunc:function(oe){if(Et!==oe){switch(oe){case Qce:t.depthFunc(t.NEVER);break;case eue:t.depthFunc(t.ALWAYS);break;case tue:t.depthFunc(t.LESS);break;case E2:t.depthFunc(t.LEQUAL);break;case nue:t.depthFunc(t.EQUAL);break;case rue:t.depthFunc(t.GEQUAL);break;case iue:t.depthFunc(t.GREATER);break;case oue:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Et=oe}},setLocked:function(oe){Xe=oe},setClear:function(oe){we!==oe&&(t.clearDepth(oe),we=oe)},reset:function(){Xe=!1,kt=null,Et=null,we=null}}}function a(){let Xe=!1,kt=null,Et=null,we=null,oe=null,pe=null,Te=null,Pe=null,Ne=null;return{setTest:function(Ke){Xe||(Ke?Be(t.STENCIL_TEST):lt(t.STENCIL_TEST))},setMask:function(Ke){kt!==Ke&&!Xe&&(t.stencilMask(Ke),kt=Ke)},setFunc:function(Ke,qe,je){(Et!==Ke||we!==qe||oe!==je)&&(t.stencilFunc(Ke,qe,je),Et=Ke,we=qe,oe=je)},setOp:function(Ke,qe,je){(pe!==Ke||Te!==qe||Pe!==je)&&(t.stencilOp(Ke,qe,je),pe=Ke,Te=qe,Pe=je)},setLocked:function(Ke){Xe=Ke},setClear:function(Ke){Ne!==Ke&&(t.clearStencil(Ke),Ne=Ke)},reset:function(){Xe=!1,kt=null,Et=null,we=null,oe=null,pe=null,Te=null,Pe=null,Ne=null}}}const s=new i,l=new o,c=new a,h=new WeakMap,p=new WeakMap;let g={},v={},x=new WeakMap,_=[],S=null,w=!1,C=null,T=null,k=null,R=null,L=null,F=null,H=null,Z=new Fn(0,0,0),j=0,X=!1,le=null,me=null,ie=null,ce=null,fe=null;const xe=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let te=!1,he=0;const ve=t.getParameter(t.VERSION);ve.indexOf("WebGL")!==-1?(he=parseFloat(/^WebGL (\d)/.exec(ve)[1]),te=he>=1):ve.indexOf("OpenGL ES")!==-1&&(he=parseFloat(/^OpenGL ES (\d)/.exec(ve)[1]),te=he>=2);let ze=null,Ue={};const rt=t.getParameter(t.SCISSOR_BOX),Fe=t.getParameter(t.VIEWPORT),st=new zi().fromArray(rt),ct=new zi().fromArray(Fe);function Dt(Xe,kt,Et,we){const oe=new Uint8Array(4),pe=t.createTexture();t.bindTexture(Xe,pe),t.texParameteri(Xe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Xe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Te=0;Te<Et;Te++)r&&(Xe===t.TEXTURE_3D||Xe===t.TEXTURE_2D_ARRAY)?t.texImage3D(kt,0,t.RGBA,1,1,we,0,t.RGBA,t.UNSIGNED_BYTE,oe):t.texImage2D(kt+Te,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,oe);return pe}const zt={};zt[t.TEXTURE_2D]=Dt(t.TEXTURE_2D,t.TEXTURE_2D,1),zt[t.TEXTURE_CUBE_MAP]=Dt(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(zt[t.TEXTURE_2D_ARRAY]=Dt(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),zt[t.TEXTURE_3D]=Dt(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Be(t.DEPTH_TEST),l.setFunc(E2),Gt(!1),sn(d4),Be(t.CULL_FACE),Ct($p);function Be(Xe){g[Xe]!==!0&&(t.enable(Xe),g[Xe]=!0)}function lt(Xe){g[Xe]!==!1&&(t.disable(Xe),g[Xe]=!1)}function Qe(Xe,kt){return v[Xe]!==kt?(t.bindFramebuffer(Xe,kt),v[Xe]=kt,r&&(Xe===t.DRAW_FRAMEBUFFER&&(v[t.FRAMEBUFFER]=kt),Xe===t.FRAMEBUFFER&&(v[t.DRAW_FRAMEBUFFER]=kt)),!0):!1}function ge(Xe,kt){let Et=_,we=!1;if(Xe){Et=x.get(kt),Et===void 0&&(Et=[],x.set(kt,Et));const oe=Xe.textures;if(Et.length!==oe.length||Et[0]!==t.COLOR_ATTACHMENT0){for(let pe=0,Te=oe.length;pe<Te;pe++)Et[pe]=t.COLOR_ATTACHMENT0+pe;Et.length=oe.length,we=!0}}else Et[0]!==t.BACK&&(Et[0]=t.BACK,we=!0);if(we)if(n.isWebGL2)t.drawBuffers(Et);else if(e.has("WEBGL_draw_buffers")===!0)e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Et);else throw new Error("THREE.WebGLState: Usage of gl.drawBuffers() require WebGL2 or WEBGL_draw_buffers extension")}function et(Xe){return S!==Xe?(t.useProgram(Xe),S=Xe,!0):!1}const ot={[Cg]:t.FUNC_ADD,[Bce]:t.FUNC_SUBTRACT,[Fce]:t.FUNC_REVERSE_SUBTRACT};if(r)ot[m4]=t.MIN,ot[g4]=t.MAX;else{const Xe=e.get("EXT_blend_minmax");Xe!==null&&(ot[m4]=Xe.MIN_EXT,ot[g4]=Xe.MAX_EXT)}const Tt={[$ce]:t.ZERO,[jce]:t.ONE,[Uce]:t.SRC_COLOR,[QI]:t.SRC_ALPHA,[Yce]:t.SRC_ALPHA_SATURATE,[Gce]:t.DST_COLOR,[Wce]:t.DST_ALPHA,[Vce]:t.ONE_MINUS_SRC_COLOR,[ek]:t.ONE_MINUS_SRC_ALPHA,[qce]:t.ONE_MINUS_DST_COLOR,[Hce]:t.ONE_MINUS_DST_ALPHA,[Xce]:t.CONSTANT_COLOR,[Kce]:t.ONE_MINUS_CONSTANT_COLOR,[Zce]:t.CONSTANT_ALPHA,[Jce]:t.ONE_MINUS_CONSTANT_ALPHA};function Ct(Xe,kt,Et,we,oe,pe,Te,Pe,Ne,Ke){if(Xe===$p){w===!0&&(lt(t.BLEND),w=!1);return}if(w===!1&&(Be(t.BLEND),w=!0),Xe!==zce){if(Xe!==C||Ke!==X){if((T!==Cg||L!==Cg)&&(t.blendEquation(t.FUNC_ADD),T=Cg,L=Cg),Ke)switch(Xe){case _0:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case f4:t.blendFunc(t.ONE,t.ONE);break;case h4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case p4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xe);break}else switch(Xe){case _0:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case f4:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case h4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case p4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xe);break}k=null,R=null,F=null,H=null,Z.set(0,0,0),j=0,C=Xe,X=Ke}return}oe=oe||kt,pe=pe||Et,Te=Te||we,(kt!==T||oe!==L)&&(t.blendEquationSeparate(ot[kt],ot[oe]),T=kt,L=oe),(Et!==k||we!==R||pe!==F||Te!==H)&&(t.blendFuncSeparate(Tt[Et],Tt[we],Tt[pe],Tt[Te]),k=Et,R=we,F=pe,H=Te),(Pe.equals(Z)===!1||Ne!==j)&&(t.blendColor(Pe.r,Pe.g,Pe.b,Ne),Z.copy(Pe),j=Ne),C=Xe,X=!1}function Ft(Xe,kt){Xe.side===af?lt(t.CULL_FACE):Be(t.CULL_FACE);let Et=Xe.side===ql;kt&&(Et=!Et),Gt(Et),Xe.blending===_0&&Xe.transparent===!1?Ct($p):Ct(Xe.blending,Xe.blendEquation,Xe.blendSrc,Xe.blendDst,Xe.blendEquationAlpha,Xe.blendSrcAlpha,Xe.blendDstAlpha,Xe.blendColor,Xe.blendAlpha,Xe.premultipliedAlpha),l.setFunc(Xe.depthFunc),l.setTest(Xe.depthTest),l.setMask(Xe.depthWrite),s.setMask(Xe.colorWrite);const we=Xe.stencilWrite;c.setTest(we),we&&(c.setMask(Xe.stencilWriteMask),c.setFunc(Xe.stencilFunc,Xe.stencilRef,Xe.stencilFuncMask),c.setOp(Xe.stencilFail,Xe.stencilZFail,Xe.stencilZPass)),Ce(Xe.polygonOffset,Xe.polygonOffsetFactor,Xe.polygonOffsetUnits),Xe.alphaToCoverage===!0?Be(t.SAMPLE_ALPHA_TO_COVERAGE):lt(t.SAMPLE_ALPHA_TO_COVERAGE)}function Gt(Xe){le!==Xe&&(Xe?t.frontFace(t.CW):t.frontFace(t.CCW),le=Xe)}function sn(Xe){Xe!==Lce?(Be(t.CULL_FACE),Xe!==me&&(Xe===d4?t.cullFace(t.BACK):Xe===Dce?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):lt(t.CULL_FACE),me=Xe}function Je(Xe){Xe!==ie&&(te&&t.lineWidth(Xe),ie=Xe)}function Ce(Xe,kt,Et){Xe?(Be(t.POLYGON_OFFSET_FILL),(ce!==kt||fe!==Et)&&(t.polygonOffset(kt,Et),ce=kt,fe=Et)):lt(t.POLYGON_OFFSET_FILL)}function _e(Xe){Xe?Be(t.SCISSOR_TEST):lt(t.SCISSOR_TEST)}function ht(Xe){Xe===void 0&&(Xe=t.TEXTURE0+xe-1),ze!==Xe&&(t.activeTexture(Xe),ze=Xe)}function dt(Xe,kt,Et){Et===void 0&&(ze===null?Et=t.TEXTURE0+xe-1:Et=ze);let we=Ue[Et];we===void 0&&(we={type:void 0,texture:void 0},Ue[Et]=we),(we.type!==Xe||we.texture!==kt)&&(ze!==Et&&(t.activeTexture(Et),ze=Et),t.bindTexture(Xe,kt||zt[Xe]),we.type=Xe,we.texture=kt)}function Wt(){const Xe=Ue[ze];Xe!==void 0&&Xe.type!==void 0&&(t.bindTexture(Xe.type,null),Xe.type=void 0,Xe.texture=void 0)}function jt(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function Mn(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function cn(){try{t.texSubImage2D.apply(t,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function Rt(){try{t.texSubImage3D.apply(t,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function nn(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function Pn(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function mt(){try{t.texStorage2D.apply(t,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function un(){try{t.texStorage3D.apply(t,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function an(){try{t.texImage2D.apply(t,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function Ot(){try{t.texImage3D.apply(t,arguments)}catch(Xe){console.error("THREE.WebGLState:",Xe)}}function ke(Xe){st.equals(Xe)===!1&&(t.scissor(Xe.x,Xe.y,Xe.z,Xe.w),st.copy(Xe))}function Ve(Xe){ct.equals(Xe)===!1&&(t.viewport(Xe.x,Xe.y,Xe.z,Xe.w),ct.copy(Xe))}function Me(Xe,kt){let Et=p.get(kt);Et===void 0&&(Et=new WeakMap,p.set(kt,Et));let we=Et.get(Xe);we===void 0&&(we=t.getUniformBlockIndex(kt,Xe.name),Et.set(Xe,we))}function it(Xe,kt){const we=p.get(kt).get(Xe);h.get(kt)!==we&&(t.uniformBlockBinding(kt,we,Xe.__bindingPointIndex),h.set(kt,we))}function en(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),g={},ze=null,Ue={},v={},x=new WeakMap,_=[],S=null,w=!1,C=null,T=null,k=null,R=null,L=null,F=null,H=null,Z=new Fn(0,0,0),j=0,X=!1,le=null,me=null,ie=null,ce=null,fe=null,st.set(0,0,t.canvas.width,t.canvas.height),ct.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:Be,disable:lt,bindFramebuffer:Qe,drawBuffers:ge,useProgram:et,setBlending:Ct,setMaterial:Ft,setFlipSided:Gt,setCullFace:sn,setLineWidth:Je,setPolygonOffset:Ce,setScissorTest:_e,activeTexture:ht,bindTexture:dt,unbindTexture:Wt,compressedTexImage2D:jt,compressedTexImage3D:Mn,texImage2D:an,texImage3D:Ot,updateUBOMapping:Me,uniformBlockBinding:it,texStorage2D:mt,texStorage3D:un,texSubImage2D:cn,texSubImage3D:Rt,compressedTexSubImage2D:nn,compressedTexSubImage3D:Pn,scissor:ke,viewport:Ve,reset:en}}function Syt(t,e,n,r,i,o,a){const s=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new Ht,p=new WeakMap;let g;const v=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(Ce,_e){return x?new OffscreenCanvas(Ce,_e):B2("canvas")}function S(Ce,_e,ht,dt){let Wt=1;const jt=Je(Ce);if((jt.width>dt||jt.height>dt)&&(Wt=dt/Math.max(jt.width,jt.height)),Wt<1||_e===!0)if(typeof HTMLImageElement<"u"&&Ce instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ce instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ce instanceof ImageBitmap||typeof VideoFrame<"u"&&Ce instanceof VideoFrame){const Mn=_e?rk:Math.floor,cn=Mn(Wt*jt.width),Rt=Mn(Wt*jt.height);g===void 0&&(g=_(cn,Rt));const nn=ht?_(cn,Rt):g;return nn.width=cn,nn.height=Rt,nn.getContext("2d").drawImage(Ce,0,0,cn,Rt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+jt.width+"x"+jt.height+") to ("+cn+"x"+Rt+")."),nn}else return"data"in Ce&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+jt.width+"x"+jt.height+")."),Ce;return Ce}function w(Ce){const _e=Je(Ce);return H4(_e.width)&&H4(_e.height)}function C(Ce){return s?!1:Ce.wrapS!==hl||Ce.wrapT!==hl||Ce.minFilter!==xs&&Ce.minFilter!==Vo}function T(Ce,_e){return Ce.generateMipmaps&&_e&&Ce.minFilter!==xs&&Ce.minFilter!==Vo}function k(Ce){t.generateMipmap(Ce)}function R(Ce,_e,ht,dt,Wt=!1){if(s===!1)return _e;if(Ce!==null){if(t[Ce]!==void 0)return t[Ce];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ce+"'")}let jt=_e;if(_e===t.RED&&(ht===t.FLOAT&&(jt=t.R32F),ht===t.HALF_FLOAT&&(jt=t.R16F),ht===t.UNSIGNED_BYTE&&(jt=t.R8)),_e===t.RED_INTEGER&&(ht===t.UNSIGNED_BYTE&&(jt=t.R8UI),ht===t.UNSIGNED_SHORT&&(jt=t.R16UI),ht===t.UNSIGNED_INT&&(jt=t.R32UI),ht===t.BYTE&&(jt=t.R8I),ht===t.SHORT&&(jt=t.R16I),ht===t.INT&&(jt=t.R32I)),_e===t.RG&&(ht===t.FLOAT&&(jt=t.RG32F),ht===t.HALF_FLOAT&&(jt=t.RG16F),ht===t.UNSIGNED_BYTE&&(jt=t.RG8)),_e===t.RG_INTEGER&&(ht===t.UNSIGNED_BYTE&&(jt=t.RG8UI),ht===t.UNSIGNED_SHORT&&(jt=t.RG16UI),ht===t.UNSIGNED_INT&&(jt=t.RG32UI),ht===t.BYTE&&(jt=t.RG8I),ht===t.SHORT&&(jt=t.RG16I),ht===t.INT&&(jt=t.RG32I)),_e===t.RGBA){const Mn=Wt?O2:Ni.getTransfer(dt);ht===t.FLOAT&&(jt=t.RGBA32F),ht===t.HALF_FLOAT&&(jt=t.RGBA16F),ht===t.UNSIGNED_BYTE&&(jt=Mn===fo?t.SRGB8_ALPHA8:t.RGBA8),ht===t.UNSIGNED_SHORT_4_4_4_4&&(jt=t.RGBA4),ht===t.UNSIGNED_SHORT_5_5_5_1&&(jt=t.RGB5_A1)}return(jt===t.R16F||jt===t.R32F||jt===t.RG16F||jt===t.RG32F||jt===t.RGBA16F||jt===t.RGBA32F)&&e.get("EXT_color_buffer_float"),jt}function L(Ce,_e,ht){return T(Ce,ht)===!0||Ce.isFramebufferTexture&&Ce.minFilter!==xs&&Ce.minFilter!==Vo?Math.log2(Math.max(_e.width,_e.height))+1:Ce.mipmaps!==void 0&&Ce.mipmaps.length>0?Ce.mipmaps.length:Ce.isCompressedTexture&&Array.isArray(Ce.image)?_e.mipmaps.length:1}function F(Ce){return Ce===xs||Ce===tk||Ce===Hv?t.NEAREST:t.LINEAR}function H(Ce){const _e=Ce.target;_e.removeEventListener("dispose",H),j(_e),_e.isVideoTexture&&p.delete(_e)}function Z(Ce){const _e=Ce.target;_e.removeEventListener("dispose",Z),le(_e)}function j(Ce){const _e=r.get(Ce);if(_e.__webglInit===void 0)return;const ht=Ce.source,dt=v.get(ht);if(dt){const Wt=dt[_e.__cacheKey];Wt.usedTimes--,Wt.usedTimes===0&&X(Ce),Object.keys(dt).length===0&&v.delete(ht)}r.remove(Ce)}function X(Ce){const _e=r.get(Ce);t.deleteTexture(_e.__webglTexture);const ht=Ce.source,dt=v.get(ht);delete dt[_e.__cacheKey],a.memory.textures--}function le(Ce){const _e=r.get(Ce);if(Ce.depthTexture&&Ce.depthTexture.dispose(),Ce.isWebGLCubeRenderTarget)for(let dt=0;dt<6;dt++){if(Array.isArray(_e.__webglFramebuffer[dt]))for(let Wt=0;Wt<_e.__webglFramebuffer[dt].length;Wt++)t.deleteFramebuffer(_e.__webglFramebuffer[dt][Wt]);else t.deleteFramebuffer(_e.__webglFramebuffer[dt]);_e.__webglDepthbuffer&&t.deleteRenderbuffer(_e.__webglDepthbuffer[dt])}else{if(Array.isArray(_e.__webglFramebuffer))for(let dt=0;dt<_e.__webglFramebuffer.length;dt++)t.deleteFramebuffer(_e.__webglFramebuffer[dt]);else t.deleteFramebuffer(_e.__webglFramebuffer);if(_e.__webglDepthbuffer&&t.deleteRenderbuffer(_e.__webglDepthbuffer),_e.__webglMultisampledFramebuffer&&t.deleteFramebuffer(_e.__webglMultisampledFramebuffer),_e.__webglColorRenderbuffer)for(let dt=0;dt<_e.__webglColorRenderbuffer.length;dt++)_e.__webglColorRenderbuffer[dt]&&t.deleteRenderbuffer(_e.__webglColorRenderbuffer[dt]);_e.__webglDepthRenderbuffer&&t.deleteRenderbuffer(_e.__webglDepthRenderbuffer)}const ht=Ce.textures;for(let dt=0,Wt=ht.length;dt<Wt;dt++){const jt=r.get(ht[dt]);jt.__webglTexture&&(t.deleteTexture(jt.__webglTexture),a.memory.textures--),r.remove(ht[dt])}r.remove(Ce)}let me=0;function ie(){me=0}function ce(){const Ce=me;return Ce>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Ce+" texture units while this GPU supports only "+i.maxTextures),me+=1,Ce}function fe(Ce){const _e=[];return _e.push(Ce.wrapS),_e.push(Ce.wrapT),_e.push(Ce.wrapR||0),_e.push(Ce.magFilter),_e.push(Ce.minFilter),_e.push(Ce.anisotropy),_e.push(Ce.internalFormat),_e.push(Ce.format),_e.push(Ce.type),_e.push(Ce.generateMipmaps),_e.push(Ce.premultiplyAlpha),_e.push(Ce.flipY),_e.push(Ce.unpackAlignment),_e.push(Ce.colorSpace),_e.join()}function xe(Ce,_e){const ht=r.get(Ce);if(Ce.isVideoTexture&&Gt(Ce),Ce.isRenderTargetTexture===!1&&Ce.version>0&&ht.__version!==Ce.version){const dt=Ce.image;if(dt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(dt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ct(ht,Ce,_e);return}}n.bindTexture(t.TEXTURE_2D,ht.__webglTexture,t.TEXTURE0+_e)}function te(Ce,_e){const ht=r.get(Ce);if(Ce.version>0&&ht.__version!==Ce.version){ct(ht,Ce,_e);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ht.__webglTexture,t.TEXTURE0+_e)}function he(Ce,_e){const ht=r.get(Ce);if(Ce.version>0&&ht.__version!==Ce.version){ct(ht,Ce,_e);return}n.bindTexture(t.TEXTURE_3D,ht.__webglTexture,t.TEXTURE0+_e)}function ve(Ce,_e){const ht=r.get(Ce);if(Ce.version>0&&ht.__version!==Ce.version){Dt(ht,Ce,_e);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ht.__webglTexture,t.TEXTURE0+_e)}const ze={[A2]:t.REPEAT,[hl]:t.CLAMP_TO_EDGE,[P2]:t.MIRRORED_REPEAT},Ue={[xs]:t.NEAREST,[tk]:t.NEAREST_MIPMAP_NEAREST,[Hv]:t.NEAREST_MIPMAP_LINEAR,[Vo]:t.LINEAR,[eM]:t.LINEAR_MIPMAP_NEAREST,[ph]:t.LINEAR_MIPMAP_LINEAR},rt={[Aue]:t.NEVER,[Lue]:t.ALWAYS,[Pue]:t.LESS,[J6]:t.LEQUAL,[Iue]:t.EQUAL,[Oue]:t.GEQUAL,[kue]:t.GREATER,[Rue]:t.NOTEQUAL};function Fe(Ce,_e,ht){if(_e.type===ou&&e.has("OES_texture_float_linear")===!1&&(_e.magFilter===Vo||_e.magFilter===eM||_e.magFilter===Hv||_e.magFilter===ph||_e.minFilter===Vo||_e.minFilter===eM||_e.minFilter===Hv||_e.minFilter===ph)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),ht?(t.texParameteri(Ce,t.TEXTURE_WRAP_S,ze[_e.wrapS]),t.texParameteri(Ce,t.TEXTURE_WRAP_T,ze[_e.wrapT]),(Ce===t.TEXTURE_3D||Ce===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Ce,t.TEXTURE_WRAP_R,ze[_e.wrapR]),t.texParameteri(Ce,t.TEXTURE_MAG_FILTER,Ue[_e.magFilter]),t.texParameteri(Ce,t.TEXTURE_MIN_FILTER,Ue[_e.minFilter])):(t.texParameteri(Ce,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(Ce,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(Ce===t.TEXTURE_3D||Ce===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Ce,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(_e.wrapS!==hl||_e.wrapT!==hl)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Ce,t.TEXTURE_MAG_FILTER,F(_e.magFilter)),t.texParameteri(Ce,t.TEXTURE_MIN_FILTER,F(_e.minFilter)),_e.minFilter!==xs&&_e.minFilter!==Vo&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),_e.compareFunction&&(t.texParameteri(Ce,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Ce,t.TEXTURE_COMPARE_FUNC,rt[_e.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(_e.magFilter===xs||_e.minFilter!==Hv&&_e.minFilter!==ph||_e.type===ou&&e.has("OES_texture_float_linear")===!1||s===!1&&_e.type===e1&&e.has("OES_texture_half_float_linear")===!1)return;if(_e.anisotropy>1||r.get(_e).__currentAnisotropy){const dt=e.get("EXT_texture_filter_anisotropic");t.texParameterf(Ce,dt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(_e.anisotropy,i.getMaxAnisotropy())),r.get(_e).__currentAnisotropy=_e.anisotropy}}}function st(Ce,_e){let ht=!1;Ce.__webglInit===void 0&&(Ce.__webglInit=!0,_e.addEventListener("dispose",H));const dt=_e.source;let Wt=v.get(dt);Wt===void 0&&(Wt={},v.set(dt,Wt));const jt=fe(_e);if(jt!==Ce.__cacheKey){Wt[jt]===void 0&&(Wt[jt]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ht=!0),Wt[jt].usedTimes++;const Mn=Wt[Ce.__cacheKey];Mn!==void 0&&(Wt[Ce.__cacheKey].usedTimes--,Mn.usedTimes===0&&X(_e)),Ce.__cacheKey=jt,Ce.__webglTexture=Wt[jt].texture}return ht}function ct(Ce,_e,ht){let dt=t.TEXTURE_2D;(_e.isDataArrayTexture||_e.isCompressedArrayTexture)&&(dt=t.TEXTURE_2D_ARRAY),_e.isData3DTexture&&(dt=t.TEXTURE_3D);const Wt=st(Ce,_e),jt=_e.source;n.bindTexture(dt,Ce.__webglTexture,t.TEXTURE0+ht);const Mn=r.get(jt);if(jt.version!==Mn.__version||Wt===!0){n.activeTexture(t.TEXTURE0+ht);const cn=Ni.getPrimaries(Ni.workingColorSpace),Rt=_e.colorSpace===wp?null:Ni.getPrimaries(_e.colorSpace),nn=_e.colorSpace===wp||cn===Rt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,_e.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,_e.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,nn);const Pn=C(_e)&&w(_e.image)===!1;let mt=S(_e.image,Pn,!1,i.maxTextureSize);mt=sn(_e,mt);const un=w(mt)||s,an=o.convert(_e.format,_e.colorSpace);let Ot=o.convert(_e.type),ke=R(_e.internalFormat,an,Ot,_e.colorSpace,_e.isVideoTexture);Fe(dt,_e,un);let Ve;const Me=_e.mipmaps,it=s&&_e.isVideoTexture!==!0&&ke!==K6,en=Mn.__version===void 0||Wt===!0,Xe=jt.dataReady,kt=L(_e,mt,un);if(_e.isDepthTexture)ke=t.DEPTH_COMPONENT,s?_e.type===ou?ke=t.DEPTH_COMPONENT32F:_e.type===Rp?ke=t.DEPTH_COMPONENT24:_e.type===ey?ke=t.DEPTH24_STENCIL8:ke=t.DEPTH_COMPONENT16:_e.type===ou&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),_e.format===ty&&ke===t.DEPTH_COMPONENT&&_e.type!==jO&&_e.type!==Rp&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),_e.type=Rp,Ot=o.convert(_e.type)),_e.format===F0&&ke===t.DEPTH_COMPONENT&&(ke=t.DEPTH_STENCIL,_e.type!==ey&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),_e.type=ey,Ot=o.convert(_e.type))),en&&(it?n.texStorage2D(t.TEXTURE_2D,1,ke,mt.width,mt.height):n.texImage2D(t.TEXTURE_2D,0,ke,mt.width,mt.height,0,an,Ot,null));else if(_e.isDataTexture)if(Me.length>0&&un){it&&en&&n.texStorage2D(t.TEXTURE_2D,kt,ke,Me[0].width,Me[0].height);for(let Et=0,we=Me.length;Et<we;Et++)Ve=Me[Et],it?Xe&&n.texSubImage2D(t.TEXTURE_2D,Et,0,0,Ve.width,Ve.height,an,Ot,Ve.data):n.texImage2D(t.TEXTURE_2D,Et,ke,Ve.width,Ve.height,0,an,Ot,Ve.data);_e.generateMipmaps=!1}else it?(en&&n.texStorage2D(t.TEXTURE_2D,kt,ke,mt.width,mt.height),Xe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,mt.width,mt.height,an,Ot,mt.data)):n.texImage2D(t.TEXTURE_2D,0,ke,mt.width,mt.height,0,an,Ot,mt.data);else if(_e.isCompressedTexture)if(_e.isCompressedArrayTexture){it&&en&&n.texStorage3D(t.TEXTURE_2D_ARRAY,kt,ke,Me[0].width,Me[0].height,mt.depth);for(let Et=0,we=Me.length;Et<we;Et++)Ve=Me[Et],_e.format!==Ul?an!==null?it?Xe&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Et,0,0,0,Ve.width,Ve.height,mt.depth,an,Ve.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Et,ke,Ve.width,Ve.height,mt.depth,0,Ve.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):it?Xe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Et,0,0,0,Ve.width,Ve.height,mt.depth,an,Ot,Ve.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Et,ke,Ve.width,Ve.height,mt.depth,0,an,Ot,Ve.data)}else{it&&en&&n.texStorage2D(t.TEXTURE_2D,kt,ke,Me[0].width,Me[0].height);for(let Et=0,we=Me.length;Et<we;Et++)Ve=Me[Et],_e.format!==Ul?an!==null?it?Xe&&n.compressedTexSubImage2D(t.TEXTURE_2D,Et,0,0,Ve.width,Ve.height,an,Ve.data):n.compressedTexImage2D(t.TEXTURE_2D,Et,ke,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):it?Xe&&n.texSubImage2D(t.TEXTURE_2D,Et,0,0,Ve.width,Ve.height,an,Ot,Ve.data):n.texImage2D(t.TEXTURE_2D,Et,ke,Ve.width,Ve.height,0,an,Ot,Ve.data)}else if(_e.isDataArrayTexture)it?(en&&n.texStorage3D(t.TEXTURE_2D_ARRAY,kt,ke,mt.width,mt.height,mt.depth),Xe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,mt.width,mt.height,mt.depth,an,Ot,mt.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,ke,mt.width,mt.height,mt.depth,0,an,Ot,mt.data);else if(_e.isData3DTexture)it?(en&&n.texStorage3D(t.TEXTURE_3D,kt,ke,mt.width,mt.height,mt.depth),Xe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,mt.width,mt.height,mt.depth,an,Ot,mt.data)):n.texImage3D(t.TEXTURE_3D,0,ke,mt.width,mt.height,mt.depth,0,an,Ot,mt.data);else if(_e.isFramebufferTexture){if(en)if(it)n.texStorage2D(t.TEXTURE_2D,kt,ke,mt.width,mt.height);else{let Et=mt.width,we=mt.height;for(let oe=0;oe<kt;oe++)n.texImage2D(t.TEXTURE_2D,oe,ke,Et,we,0,an,Ot,null),Et>>=1,we>>=1}}else if(Me.length>0&&un){if(it&&en){const Et=Je(Me[0]);n.texStorage2D(t.TEXTURE_2D,kt,ke,Et.width,Et.height)}for(let Et=0,we=Me.length;Et<we;Et++)Ve=Me[Et],it?Xe&&n.texSubImage2D(t.TEXTURE_2D,Et,0,0,an,Ot,Ve):n.texImage2D(t.TEXTURE_2D,Et,ke,an,Ot,Ve);_e.generateMipmaps=!1}else if(it){if(en){const Et=Je(mt);n.texStorage2D(t.TEXTURE_2D,kt,ke,Et.width,Et.height)}Xe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,an,Ot,mt)}else n.texImage2D(t.TEXTURE_2D,0,ke,an,Ot,mt);T(_e,un)&&k(dt),Mn.__version=jt.version,_e.onUpdate&&_e.onUpdate(_e)}Ce.__version=_e.version}function Dt(Ce,_e,ht){if(_e.image.length!==6)return;const dt=st(Ce,_e),Wt=_e.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Ce.__webglTexture,t.TEXTURE0+ht);const jt=r.get(Wt);if(Wt.version!==jt.__version||dt===!0){n.activeTexture(t.TEXTURE0+ht);const Mn=Ni.getPrimaries(Ni.workingColorSpace),cn=_e.colorSpace===wp?null:Ni.getPrimaries(_e.colorSpace),Rt=_e.colorSpace===wp||Mn===cn?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,_e.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,_e.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Rt);const nn=_e.isCompressedTexture||_e.image[0].isCompressedTexture,Pn=_e.image[0]&&_e.image[0].isDataTexture,mt=[];for(let Et=0;Et<6;Et++)!nn&&!Pn?mt[Et]=S(_e.image[Et],!1,!0,i.maxCubemapSize):mt[Et]=Pn?_e.image[Et].image:_e.image[Et],mt[Et]=sn(_e,mt[Et]);const un=mt[0],an=w(un)||s,Ot=o.convert(_e.format,_e.colorSpace),ke=o.convert(_e.type),Ve=R(_e.internalFormat,Ot,ke,_e.colorSpace),Me=s&&_e.isVideoTexture!==!0,it=jt.__version===void 0||dt===!0,en=Wt.dataReady;let Xe=L(_e,un,an);Fe(t.TEXTURE_CUBE_MAP,_e,an);let kt;if(nn){Me&&it&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Xe,Ve,un.width,un.height);for(let Et=0;Et<6;Et++){kt=mt[Et].mipmaps;for(let we=0;we<kt.length;we++){const oe=kt[we];_e.format!==Ul?Ot!==null?Me?en&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,we,0,0,oe.width,oe.height,Ot,oe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,we,Ve,oe.width,oe.height,0,oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?en&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,we,0,0,oe.width,oe.height,Ot,ke,oe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,we,Ve,oe.width,oe.height,0,Ot,ke,oe.data)}}}else{if(kt=_e.mipmaps,Me&&it){kt.length>0&&Xe++;const Et=Je(mt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Xe,Ve,Et.width,Et.height)}for(let Et=0;Et<6;Et++)if(Pn){Me?en&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,0,0,0,mt[Et].width,mt[Et].height,Ot,ke,mt[Et].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,0,Ve,mt[Et].width,mt[Et].height,0,Ot,ke,mt[Et].data);for(let we=0;we<kt.length;we++){const pe=kt[we].image[Et].image;Me?en&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,we+1,0,0,pe.width,pe.height,Ot,ke,pe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,we+1,Ve,pe.width,pe.height,0,Ot,ke,pe.data)}}else{Me?en&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,0,0,0,Ot,ke,mt[Et]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,0,Ve,Ot,ke,mt[Et]);for(let we=0;we<kt.length;we++){const oe=kt[we];Me?en&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,we+1,0,0,Ot,ke,oe.image[Et]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,we+1,Ve,Ot,ke,oe.image[Et])}}}T(_e,an)&&k(t.TEXTURE_CUBE_MAP),jt.__version=Wt.version,_e.onUpdate&&_e.onUpdate(_e)}Ce.__version=_e.version}function zt(Ce,_e,ht,dt,Wt,jt){const Mn=o.convert(ht.format,ht.colorSpace),cn=o.convert(ht.type),Rt=R(ht.internalFormat,Mn,cn,ht.colorSpace);if(!r.get(_e).__hasExternalTextures){const Pn=Math.max(1,_e.width>>jt),mt=Math.max(1,_e.height>>jt);Wt===t.TEXTURE_3D||Wt===t.TEXTURE_2D_ARRAY?n.texImage3D(Wt,jt,Rt,Pn,mt,_e.depth,0,Mn,cn,null):n.texImage2D(Wt,jt,Rt,Pn,mt,0,Mn,cn,null)}n.bindFramebuffer(t.FRAMEBUFFER,Ce),Ft(_e)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,dt,Wt,r.get(ht).__webglTexture,0,Ct(_e)):(Wt===t.TEXTURE_2D||Wt>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Wt<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,dt,Wt,r.get(ht).__webglTexture,jt),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Be(Ce,_e,ht){if(t.bindRenderbuffer(t.RENDERBUFFER,Ce),_e.depthBuffer&&!_e.stencilBuffer){let dt=s===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ht||Ft(_e)){const Wt=_e.depthTexture;Wt&&Wt.isDepthTexture&&(Wt.type===ou?dt=t.DEPTH_COMPONENT32F:Wt.type===Rp&&(dt=t.DEPTH_COMPONENT24));const jt=Ct(_e);Ft(_e)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,jt,dt,_e.width,_e.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,jt,dt,_e.width,_e.height)}else t.renderbufferStorage(t.RENDERBUFFER,dt,_e.width,_e.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Ce)}else if(_e.depthBuffer&&_e.stencilBuffer){const dt=Ct(_e);ht&&Ft(_e)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,dt,t.DEPTH24_STENCIL8,_e.width,_e.height):Ft(_e)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,dt,t.DEPTH24_STENCIL8,_e.width,_e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,_e.width,_e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Ce)}else{const dt=_e.textures;for(let Wt=0;Wt<dt.length;Wt++){const jt=dt[Wt],Mn=o.convert(jt.format,jt.colorSpace),cn=o.convert(jt.type),Rt=R(jt.internalFormat,Mn,cn,jt.colorSpace),nn=Ct(_e);ht&&Ft(_e)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,nn,Rt,_e.width,_e.height):Ft(_e)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,nn,Rt,_e.width,_e.height):t.renderbufferStorage(t.RENDERBUFFER,Rt,_e.width,_e.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function lt(Ce,_e){if(_e&&_e.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Ce),!(_e.depthTexture&&_e.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(_e.depthTexture).__webglTexture||_e.depthTexture.image.width!==_e.width||_e.depthTexture.image.height!==_e.height)&&(_e.depthTexture.image.width=_e.width,_e.depthTexture.image.height=_e.height,_e.depthTexture.needsUpdate=!0),xe(_e.depthTexture,0);const dt=r.get(_e.depthTexture).__webglTexture,Wt=Ct(_e);if(_e.depthTexture.format===ty)Ft(_e)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,dt,0,Wt):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,dt,0);else if(_e.depthTexture.format===F0)Ft(_e)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,dt,0,Wt):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,dt,0);else throw new Error("Unknown depthTexture format")}function Qe(Ce){const _e=r.get(Ce),ht=Ce.isWebGLCubeRenderTarget===!0;if(Ce.depthTexture&&!_e.__autoAllocateDepthBuffer){if(ht)throw new Error("target.depthTexture not supported in Cube render targets");lt(_e.__webglFramebuffer,Ce)}else if(ht){_e.__webglDepthbuffer=[];for(let dt=0;dt<6;dt++)n.bindFramebuffer(t.FRAMEBUFFER,_e.__webglFramebuffer[dt]),_e.__webglDepthbuffer[dt]=t.createRenderbuffer(),Be(_e.__webglDepthbuffer[dt],Ce,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,_e.__webglFramebuffer),_e.__webglDepthbuffer=t.createRenderbuffer(),Be(_e.__webglDepthbuffer,Ce,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function ge(Ce,_e,ht){const dt=r.get(Ce);_e!==void 0&&zt(dt.__webglFramebuffer,Ce,Ce.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ht!==void 0&&Qe(Ce)}function et(Ce){const _e=Ce.texture,ht=r.get(Ce),dt=r.get(_e);Ce.addEventListener("dispose",Z);const Wt=Ce.textures,jt=Ce.isWebGLCubeRenderTarget===!0,Mn=Wt.length>1,cn=w(Ce)||s;if(Mn||(dt.__webglTexture===void 0&&(dt.__webglTexture=t.createTexture()),dt.__version=_e.version,a.memory.textures++),jt){ht.__webglFramebuffer=[];for(let Rt=0;Rt<6;Rt++)if(s&&_e.mipmaps&&_e.mipmaps.length>0){ht.__webglFramebuffer[Rt]=[];for(let nn=0;nn<_e.mipmaps.length;nn++)ht.__webglFramebuffer[Rt][nn]=t.createFramebuffer()}else ht.__webglFramebuffer[Rt]=t.createFramebuffer()}else{if(s&&_e.mipmaps&&_e.mipmaps.length>0){ht.__webglFramebuffer=[];for(let Rt=0;Rt<_e.mipmaps.length;Rt++)ht.__webglFramebuffer[Rt]=t.createFramebuffer()}else ht.__webglFramebuffer=t.createFramebuffer();if(Mn)if(i.drawBuffers)for(let Rt=0,nn=Wt.length;Rt<nn;Rt++){const Pn=r.get(Wt[Rt]);Pn.__webglTexture===void 0&&(Pn.__webglTexture=t.createTexture(),a.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&Ce.samples>0&&Ft(Ce)===!1){ht.__webglMultisampledFramebuffer=t.createFramebuffer(),ht.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ht.__webglMultisampledFramebuffer);for(let Rt=0;Rt<Wt.length;Rt++){const nn=Wt[Rt];ht.__webglColorRenderbuffer[Rt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ht.__webglColorRenderbuffer[Rt]);const Pn=o.convert(nn.format,nn.colorSpace),mt=o.convert(nn.type),un=R(nn.internalFormat,Pn,mt,nn.colorSpace,Ce.isXRRenderTarget===!0),an=Ct(Ce);t.renderbufferStorageMultisample(t.RENDERBUFFER,an,un,Ce.width,Ce.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Rt,t.RENDERBUFFER,ht.__webglColorRenderbuffer[Rt])}t.bindRenderbuffer(t.RENDERBUFFER,null),Ce.depthBuffer&&(ht.__webglDepthRenderbuffer=t.createRenderbuffer(),Be(ht.__webglDepthRenderbuffer,Ce,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(jt){n.bindTexture(t.TEXTURE_CUBE_MAP,dt.__webglTexture),Fe(t.TEXTURE_CUBE_MAP,_e,cn);for(let Rt=0;Rt<6;Rt++)if(s&&_e.mipmaps&&_e.mipmaps.length>0)for(let nn=0;nn<_e.mipmaps.length;nn++)zt(ht.__webglFramebuffer[Rt][nn],Ce,_e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,nn);else zt(ht.__webglFramebuffer[Rt],Ce,_e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,0);T(_e,cn)&&k(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Mn){for(let Rt=0,nn=Wt.length;Rt<nn;Rt++){const Pn=Wt[Rt],mt=r.get(Pn);n.bindTexture(t.TEXTURE_2D,mt.__webglTexture),Fe(t.TEXTURE_2D,Pn,cn),zt(ht.__webglFramebuffer,Ce,Pn,t.COLOR_ATTACHMENT0+Rt,t.TEXTURE_2D,0),T(Pn,cn)&&k(t.TEXTURE_2D)}n.unbindTexture()}else{let Rt=t.TEXTURE_2D;if((Ce.isWebGL3DRenderTarget||Ce.isWebGLArrayRenderTarget)&&(s?Rt=Ce.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Rt,dt.__webglTexture),Fe(Rt,_e,cn),s&&_e.mipmaps&&_e.mipmaps.length>0)for(let nn=0;nn<_e.mipmaps.length;nn++)zt(ht.__webglFramebuffer[nn],Ce,_e,t.COLOR_ATTACHMENT0,Rt,nn);else zt(ht.__webglFramebuffer,Ce,_e,t.COLOR_ATTACHMENT0,Rt,0);T(_e,cn)&&k(Rt),n.unbindTexture()}Ce.depthBuffer&&Qe(Ce)}function ot(Ce){const _e=w(Ce)||s,ht=Ce.textures;for(let dt=0,Wt=ht.length;dt<Wt;dt++){const jt=ht[dt];if(T(jt,_e)){const Mn=Ce.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,cn=r.get(jt).__webglTexture;n.bindTexture(Mn,cn),k(Mn),n.unbindTexture()}}}function Tt(Ce){if(s&&Ce.samples>0&&Ft(Ce)===!1){const _e=Ce.textures,ht=Ce.width,dt=Ce.height;let Wt=t.COLOR_BUFFER_BIT;const jt=[],Mn=Ce.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,cn=r.get(Ce),Rt=_e.length>1;if(Rt)for(let nn=0;nn<_e.length;nn++)n.bindFramebuffer(t.FRAMEBUFFER,cn.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nn,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,cn.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+nn,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,cn.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,cn.__webglFramebuffer);for(let nn=0;nn<_e.length;nn++){jt.push(t.COLOR_ATTACHMENT0+nn),Ce.depthBuffer&&jt.push(Mn);const Pn=cn.__ignoreDepthValues!==void 0?cn.__ignoreDepthValues:!1;if(Pn===!1&&(Ce.depthBuffer&&(Wt|=t.DEPTH_BUFFER_BIT),Ce.stencilBuffer&&(Wt|=t.STENCIL_BUFFER_BIT)),Rt&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,cn.__webglColorRenderbuffer[nn]),Pn===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Mn]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Mn])),Rt){const mt=r.get(_e[nn]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,mt,0)}t.blitFramebuffer(0,0,ht,dt,0,0,ht,dt,Wt,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,jt)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Rt)for(let nn=0;nn<_e.length;nn++){n.bindFramebuffer(t.FRAMEBUFFER,cn.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nn,t.RENDERBUFFER,cn.__webglColorRenderbuffer[nn]);const Pn=r.get(_e[nn]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,cn.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+nn,t.TEXTURE_2D,Pn,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,cn.__webglMultisampledFramebuffer)}}function Ct(Ce){return Math.min(i.maxSamples,Ce.samples)}function Ft(Ce){const _e=r.get(Ce);return s&&Ce.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&_e.__useRenderToTexture!==!1}function Gt(Ce){const _e=a.render.frame;p.get(Ce)!==_e&&(p.set(Ce,_e),Ce.update())}function sn(Ce,_e){const ht=Ce.colorSpace,dt=Ce.format,Wt=Ce.type;return Ce.isCompressedTexture===!0||Ce.isVideoTexture===!0||Ce.format===nk||ht!==fm&&ht!==wp&&(Ni.getTransfer(ht)===fo?s===!1?e.has("EXT_sRGB")===!0&&dt===Ul?(Ce.format=nk,Ce.minFilter=Vo,Ce.generateMipmaps=!1):_e=e8.sRGBToLinear(_e):(dt!==Ul||Wt!==Th)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ht)),_e}function Je(Ce){return typeof HTMLImageElement<"u"&&Ce instanceof HTMLImageElement?(h.width=Ce.naturalWidth||Ce.width,h.height=Ce.naturalHeight||Ce.height):typeof VideoFrame<"u"&&Ce instanceof VideoFrame?(h.width=Ce.displayWidth,h.height=Ce.displayHeight):(h.width=Ce.width,h.height=Ce.height),h}this.allocateTextureUnit=ce,this.resetTextureUnits=ie,this.setTexture2D=xe,this.setTexture2DArray=te,this.setTexture3D=he,this.setTextureCube=ve,this.rebindTextures=ge,this.setupRenderTarget=et,this.updateRenderTargetMipmap=ot,this.updateMultisampleRenderTarget=Tt,this.setupDepthRenderbuffer=Qe,this.setupFrameBufferTexture=zt,this.useMultisampledRTT=Ft}function Zue(t,e,n){const r=n.isWebGL2;function i(o,a=wp){let s;const l=Ni.getTransfer(a);if(o===Th)return t.UNSIGNED_BYTE;if(o===W6)return t.UNSIGNED_SHORT_4_4_4_4;if(o===H6)return t.UNSIGNED_SHORT_5_5_5_1;if(o===mue)return t.BYTE;if(o===gue)return t.SHORT;if(o===jO)return t.UNSIGNED_SHORT;if(o===V6)return t.INT;if(o===Rp)return t.UNSIGNED_INT;if(o===ou)return t.FLOAT;if(o===e1)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===yue)return t.ALPHA;if(o===Ul)return t.RGBA;if(o===vue)return t.LUMINANCE;if(o===xue)return t.LUMINANCE_ALPHA;if(o===ty)return t.DEPTH_COMPONENT;if(o===F0)return t.DEPTH_STENCIL;if(o===nk)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===G6)return t.RED;if(o===q6)return t.RED_INTEGER;if(o===_ue)return t.RG;if(o===Y6)return t.RG_INTEGER;if(o===X6)return t.RGBA_INTEGER;if(o===UA||o===VA||o===WA||o===HA)if(l===fo)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===UA)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===VA)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===WA)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===HA)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===UA)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===VA)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===WA)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===HA)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===v4||o===x4||o===_4||o===b4)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===v4)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===x4)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===_4)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===b4)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===K6)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===w4||o===S4)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===w4)return l===fo?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===S4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===M4||o===E4||o===T4||o===C4||o===A4||o===P4||o===I4||o===k4||o===R4||o===O4||o===L4||o===D4||o===N4||o===z4)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===M4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===E4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===T4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===C4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===A4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===P4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===I4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===k4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===R4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===O4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===L4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===D4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===N4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===z4)return l===fo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===GA||o===B4||o===F4)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===GA)return l===fo?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===B4)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===F4)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===bue||o===$4||o===j4||o===U4)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(o===GA)return s.COMPRESSED_RED_RGTC1_EXT;if(o===$4)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===j4)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===U4)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===ey?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class Jue extends os{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class j_ extends xi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Myt={type:"move"};class ON{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new j_,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new j_,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new j_,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const _ of e.hand.values()){const S=n.getJointPose(_,r),w=this._getHandJoint(c,_);S!==null&&(w.matrix.fromArray(S.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=S.radius),w.visible=S!==null}const h=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],g=h.position.distanceTo(p.position),v=.02,x=.005;c.inputState.pinching&&g>v+x?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&g<=v-x&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Myt)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new j_;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const Eyt=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Tyt=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Cyt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new qo,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new vf({extensions:{fragDepth:!0},vertexShader:Eyt,fragmentShader:Tyt,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new Os(new j1(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class Ayt extends Sf{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,h=null,p=null,g=null,v=null,x=null;const _=new Cyt,S=n.getContextAttributes();let w=null,C=null;const T=[],k=[],R=new Ht;let L=null;const F=new os;F.layers.enable(1),F.viewport=new zi;const H=new os;H.layers.enable(2),H.viewport=new zi;const Z=[F,H],j=new Jue;j.layers.enable(1),j.layers.enable(2);let X=null,le=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Fe){let st=T[Fe];return st===void 0&&(st=new ON,T[Fe]=st),st.getTargetRaySpace()},this.getControllerGrip=function(Fe){let st=T[Fe];return st===void 0&&(st=new ON,T[Fe]=st),st.getGripSpace()},this.getHand=function(Fe){let st=T[Fe];return st===void 0&&(st=new ON,T[Fe]=st),st.getHandSpace()};function me(Fe){const st=k.indexOf(Fe.inputSource);if(st===-1)return;const ct=T[st];ct!==void 0&&(ct.update(Fe.inputSource,Fe.frame,c||a),ct.dispatchEvent({type:Fe.type,data:Fe.inputSource}))}function ie(){i.removeEventListener("select",me),i.removeEventListener("selectstart",me),i.removeEventListener("selectend",me),i.removeEventListener("squeeze",me),i.removeEventListener("squeezestart",me),i.removeEventListener("squeezeend",me),i.removeEventListener("end",ie),i.removeEventListener("inputsourceschange",ce);for(let Fe=0;Fe<T.length;Fe++){const st=k[Fe];st!==null&&(k[Fe]=null,T[Fe].disconnect(st))}X=null,le=null,_.reset(),e.setRenderTarget(w),v=null,g=null,p=null,i=null,C=null,rt.stop(),r.isPresenting=!1,e.setPixelRatio(L),e.setSize(R.width,R.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Fe){o=Fe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Fe){s=Fe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(Fe){c=Fe},this.getBaseLayer=function(){return g!==null?g:v},this.getBinding=function(){return p},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(Fe){if(i=Fe,i!==null){if(w=e.getRenderTarget(),i.addEventListener("select",me),i.addEventListener("selectstart",me),i.addEventListener("selectend",me),i.addEventListener("squeeze",me),i.addEventListener("squeezestart",me),i.addEventListener("squeezeend",me),i.addEventListener("end",ie),i.addEventListener("inputsourceschange",ce),S.xrCompatible!==!0&&await n.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(R),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const st={antialias:i.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:o};v=new XRWebGLLayer(i,n,st),i.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),C=new yf(v.framebufferWidth,v.framebufferHeight,{format:Ul,type:Th,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let st=null,ct=null,Dt=null;S.depth&&(Dt=S.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,st=S.stencil?F0:ty,ct=S.stencil?ey:Rp);const zt={colorFormat:n.RGBA8,depthFormat:Dt,scaleFactor:o};p=new XRWebGLBinding(i,n),g=p.createProjectionLayer(zt),i.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),C=new yf(g.textureWidth,g.textureHeight,{format:Ul,type:Th,depthTexture:new o8(g.textureWidth,g.textureHeight,ct,void 0,void 0,void 0,void 0,void 0,void 0,st),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const Be=e.properties.get(C);Be.__ignoreDepthValues=g.ignoreDepthValues}C.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),rt.setContext(i),rt.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function ce(Fe){for(let st=0;st<Fe.removed.length;st++){const ct=Fe.removed[st],Dt=k.indexOf(ct);Dt>=0&&(k[Dt]=null,T[Dt].disconnect(ct))}for(let st=0;st<Fe.added.length;st++){const ct=Fe.added[st];let Dt=k.indexOf(ct);if(Dt===-1){for(let Be=0;Be<T.length;Be++)if(Be>=k.length){k.push(ct),Dt=Be;break}else if(k[Be]===null){k[Be]=ct,Dt=Be;break}if(Dt===-1)break}const zt=T[Dt];zt&&zt.connect(ct)}}const fe=new Oe,xe=new Oe;function te(Fe,st,ct){fe.setFromMatrixPosition(st.matrixWorld),xe.setFromMatrixPosition(ct.matrixWorld);const Dt=fe.distanceTo(xe),zt=st.projectionMatrix.elements,Be=ct.projectionMatrix.elements,lt=zt[14]/(zt[10]-1),Qe=zt[14]/(zt[10]+1),ge=(zt[9]+1)/zt[5],et=(zt[9]-1)/zt[5],ot=(zt[8]-1)/zt[0],Tt=(Be[8]+1)/Be[0],Ct=lt*ot,Ft=lt*Tt,Gt=Dt/(-ot+Tt),sn=Gt*-ot;st.matrixWorld.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.translateX(sn),Fe.translateZ(Gt),Fe.matrixWorld.compose(Fe.position,Fe.quaternion,Fe.scale),Fe.matrixWorldInverse.copy(Fe.matrixWorld).invert();const Je=lt+Gt,Ce=Qe+Gt,_e=Ct-sn,ht=Ft+(Dt-sn),dt=ge*Qe/Ce*Je,Wt=et*Qe/Ce*Je;Fe.projectionMatrix.makePerspective(_e,ht,dt,Wt,Je,Ce),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert()}function he(Fe,st){st===null?Fe.matrixWorld.copy(Fe.matrix):Fe.matrixWorld.multiplyMatrices(st.matrixWorld,Fe.matrix),Fe.matrixWorldInverse.copy(Fe.matrixWorld).invert()}this.updateCamera=function(Fe){if(i===null)return;_.texture!==null&&(Fe.near=_.depthNear,Fe.far=_.depthFar),j.near=H.near=F.near=Fe.near,j.far=H.far=F.far=Fe.far,(X!==j.near||le!==j.far)&&(i.updateRenderState({depthNear:j.near,depthFar:j.far}),X=j.near,le=j.far,F.near=X,F.far=le,H.near=X,H.far=le,F.updateProjectionMatrix(),H.updateProjectionMatrix(),Fe.updateProjectionMatrix());const st=Fe.parent,ct=j.cameras;he(j,st);for(let Dt=0;Dt<ct.length;Dt++)he(ct[Dt],st);ct.length===2?te(j,F,H):j.projectionMatrix.copy(F.projectionMatrix),ve(Fe,j,st)};function ve(Fe,st,ct){ct===null?Fe.matrix.copy(st.matrixWorld):(Fe.matrix.copy(ct.matrixWorld),Fe.matrix.invert(),Fe.matrix.multiply(st.matrixWorld)),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.updateMatrixWorld(!0),Fe.projectionMatrix.copy(st.projectionMatrix),Fe.projectionMatrixInverse.copy(st.projectionMatrixInverse),Fe.isPerspectiveCamera&&(Fe.fov=t1*2*Math.atan(1/Fe.projectionMatrix.elements[5]),Fe.zoom=1)}this.getCamera=function(){return j},this.getFoveation=function(){if(!(g===null&&v===null))return l},this.setFoveation=function(Fe){l=Fe,g!==null&&(g.fixedFoveation=Fe),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=Fe)},this.hasDepthSensing=function(){return _.texture!==null};let ze=null;function Ue(Fe,st){if(h=st.getViewerPose(c||a),x=st,h!==null){const ct=h.views;v!==null&&(e.setRenderTargetFramebuffer(C,v.framebuffer),e.setRenderTarget(C));let Dt=!1;ct.length!==j.cameras.length&&(j.cameras.length=0,Dt=!0);for(let Be=0;Be<ct.length;Be++){const lt=ct[Be];let Qe=null;if(v!==null)Qe=v.getViewport(lt);else{const et=p.getViewSubImage(g,lt);Qe=et.viewport,Be===0&&(e.setRenderTargetTextures(C,et.colorTexture,g.ignoreDepthValues?void 0:et.depthStencilTexture),e.setRenderTarget(C))}let ge=Z[Be];ge===void 0&&(ge=new os,ge.layers.enable(Be),ge.viewport=new zi,Z[Be]=ge),ge.matrix.fromArray(lt.transform.matrix),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.projectionMatrix.fromArray(lt.projectionMatrix),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert(),ge.viewport.set(Qe.x,Qe.y,Qe.width,Qe.height),Be===0&&(j.matrix.copy(ge.matrix),j.matrix.decompose(j.position,j.quaternion,j.scale)),Dt===!0&&j.cameras.push(ge)}const zt=i.enabledFeatures;if(zt&&zt.includes("depth-sensing")){const Be=p.getDepthInformation(ct[0]);Be&&Be.isValid&&Be.texture&&_.init(e,Be,i.renderState)}}for(let ct=0;ct<T.length;ct++){const Dt=k[ct],zt=T[ct];Dt!==null&&zt!==void 0&&zt.update(Dt,st,c||a)}_.render(e,j),ze&&ze(Fe,st),st.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:st}),x=null}const rt=new Hue;rt.setAnimationLoop(Ue),this.setAnimationLoop=function(Fe){ze=Fe},this.dispose=function(){}}}const Mv=new xu,Pyt=new _r;function Iyt(t,e){function n(S,w){S.matrixAutoUpdate===!0&&S.updateMatrix(),w.value.copy(S.matrix)}function r(S,w){w.color.getRGB(S.fogColor.value,jue(t)),w.isFog?(S.fogNear.value=w.near,S.fogFar.value=w.far):w.isFogExp2&&(S.fogDensity.value=w.density)}function i(S,w,C,T,k){w.isMeshBasicMaterial||w.isMeshLambertMaterial?o(S,w):w.isMeshToonMaterial?(o(S,w),p(S,w)):w.isMeshPhongMaterial?(o(S,w),h(S,w)):w.isMeshStandardMaterial?(o(S,w),g(S,w),w.isMeshPhysicalMaterial&&v(S,w,k)):w.isMeshMatcapMaterial?(o(S,w),x(S,w)):w.isMeshDepthMaterial?o(S,w):w.isMeshDistanceMaterial?(o(S,w),_(S,w)):w.isMeshNormalMaterial?o(S,w):w.isLineBasicMaterial?(a(S,w),w.isLineDashedMaterial&&s(S,w)):w.isPointsMaterial?l(S,w,C,T):w.isSpriteMaterial?c(S,w):w.isShadowMaterial?(S.color.value.copy(w.color),S.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function o(S,w){S.opacity.value=w.opacity,w.color&&S.diffuse.value.copy(w.color),w.emissive&&S.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(S.map.value=w.map,n(w.map,S.mapTransform)),w.alphaMap&&(S.alphaMap.value=w.alphaMap,n(w.alphaMap,S.alphaMapTransform)),w.bumpMap&&(S.bumpMap.value=w.bumpMap,n(w.bumpMap,S.bumpMapTransform),S.bumpScale.value=w.bumpScale,w.side===ql&&(S.bumpScale.value*=-1)),w.normalMap&&(S.normalMap.value=w.normalMap,n(w.normalMap,S.normalMapTransform),S.normalScale.value.copy(w.normalScale),w.side===ql&&S.normalScale.value.negate()),w.displacementMap&&(S.displacementMap.value=w.displacementMap,n(w.displacementMap,S.displacementMapTransform),S.displacementScale.value=w.displacementScale,S.displacementBias.value=w.displacementBias),w.emissiveMap&&(S.emissiveMap.value=w.emissiveMap,n(w.emissiveMap,S.emissiveMapTransform)),w.specularMap&&(S.specularMap.value=w.specularMap,n(w.specularMap,S.specularMapTransform)),w.alphaTest>0&&(S.alphaTest.value=w.alphaTest);const C=e.get(w),T=C.envMap,k=C.envMapRotation;if(T&&(S.envMap.value=T,Mv.copy(k),Mv.x*=-1,Mv.y*=-1,Mv.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Mv.y*=-1,Mv.z*=-1),S.envMapRotation.value.setFromMatrix4(Pyt.makeRotationFromEuler(Mv)),S.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=w.reflectivity,S.ior.value=w.ior,S.refractionRatio.value=w.refractionRatio),w.lightMap){S.lightMap.value=w.lightMap;const R=t._useLegacyLights===!0?Math.PI:1;S.lightMapIntensity.value=w.lightMapIntensity*R,n(w.lightMap,S.lightMapTransform)}w.aoMap&&(S.aoMap.value=w.aoMap,S.aoMapIntensity.value=w.aoMapIntensity,n(w.aoMap,S.aoMapTransform))}function a(S,w){S.diffuse.value.copy(w.color),S.opacity.value=w.opacity,w.map&&(S.map.value=w.map,n(w.map,S.mapTransform))}function s(S,w){S.dashSize.value=w.dashSize,S.totalSize.value=w.dashSize+w.gapSize,S.scale.value=w.scale}function l(S,w,C,T){S.diffuse.value.copy(w.color),S.opacity.value=w.opacity,S.size.value=w.size*C,S.scale.value=T*.5,w.map&&(S.map.value=w.map,n(w.map,S.uvTransform)),w.alphaMap&&(S.alphaMap.value=w.alphaMap,n(w.alphaMap,S.alphaMapTransform)),w.alphaTest>0&&(S.alphaTest.value=w.alphaTest)}function c(S,w){S.diffuse.value.copy(w.color),S.opacity.value=w.opacity,S.rotation.value=w.rotation,w.map&&(S.map.value=w.map,n(w.map,S.mapTransform)),w.alphaMap&&(S.alphaMap.value=w.alphaMap,n(w.alphaMap,S.alphaMapTransform)),w.alphaTest>0&&(S.alphaTest.value=w.alphaTest)}function h(S,w){S.specular.value.copy(w.specular),S.shininess.value=Math.max(w.shininess,1e-4)}function p(S,w){w.gradientMap&&(S.gradientMap.value=w.gradientMap)}function g(S,w){S.metalness.value=w.metalness,w.metalnessMap&&(S.metalnessMap.value=w.metalnessMap,n(w.metalnessMap,S.metalnessMapTransform)),S.roughness.value=w.roughness,w.roughnessMap&&(S.roughnessMap.value=w.roughnessMap,n(w.roughnessMap,S.roughnessMapTransform)),e.get(w).envMap&&(S.envMapIntensity.value=w.envMapIntensity)}function v(S,w,C){S.ior.value=w.ior,w.sheen>0&&(S.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),S.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(S.sheenColorMap.value=w.sheenColorMap,n(w.sheenColorMap,S.sheenColorMapTransform)),w.sheenRoughnessMap&&(S.sheenRoughnessMap.value=w.sheenRoughnessMap,n(w.sheenRoughnessMap,S.sheenRoughnessMapTransform))),w.clearcoat>0&&(S.clearcoat.value=w.clearcoat,S.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(S.clearcoatMap.value=w.clearcoatMap,n(w.clearcoatMap,S.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,n(w.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(S.clearcoatNormalMap.value=w.clearcoatNormalMap,n(w.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===ql&&S.clearcoatNormalScale.value.negate())),w.iridescence>0&&(S.iridescence.value=w.iridescence,S.iridescenceIOR.value=w.iridescenceIOR,S.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(S.iridescenceMap.value=w.iridescenceMap,n(w.iridescenceMap,S.iridescenceMapTransform)),w.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=w.iridescenceThicknessMap,n(w.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),w.transmission>0&&(S.transmission.value=w.transmission,S.transmissionSamplerMap.value=C.texture,S.transmissionSamplerSize.value.set(C.width,C.height),w.transmissionMap&&(S.transmissionMap.value=w.transmissionMap,n(w.transmissionMap,S.transmissionMapTransform)),S.thickness.value=w.thickness,w.thicknessMap&&(S.thicknessMap.value=w.thicknessMap,n(w.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=w.attenuationDistance,S.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(S.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(S.anisotropyMap.value=w.anisotropyMap,n(w.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=w.specularIntensity,S.specularColor.value.copy(w.specularColor),w.specularColorMap&&(S.specularColorMap.value=w.specularColorMap,n(w.specularColorMap,S.specularColorMapTransform)),w.specularIntensityMap&&(S.specularIntensityMap.value=w.specularIntensityMap,n(w.specularIntensityMap,S.specularIntensityMapTransform))}function x(S,w){w.matcap&&(S.matcap.value=w.matcap)}function _(S,w){const C=e.get(w).light;S.referencePosition.value.setFromMatrixPosition(C.matrixWorld),S.nearDistance.value=C.shadow.camera.near,S.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function kyt(t,e,n,r){let i={},o={},a=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(C,T){const k=T.program;r.uniformBlockBinding(C,k)}function c(C,T){let k=i[C.id];k===void 0&&(x(C),k=h(C),i[C.id]=k,C.addEventListener("dispose",S));const R=T.program;r.updateUBOMapping(C,R);const L=e.render.frame;o[C.id]!==L&&(g(C),o[C.id]=L)}function h(C){const T=p();C.__bindingPointIndex=T;const k=t.createBuffer(),R=C.__size,L=C.usage;return t.bindBuffer(t.UNIFORM_BUFFER,k),t.bufferData(t.UNIFORM_BUFFER,R,L),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,T,k),k}function p(){for(let C=0;C<s;C++)if(a.indexOf(C)===-1)return a.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(C){const T=i[C.id],k=C.uniforms,R=C.__cache;t.bindBuffer(t.UNIFORM_BUFFER,T);for(let L=0,F=k.length;L<F;L++){const H=Array.isArray(k[L])?k[L]:[k[L]];for(let Z=0,j=H.length;Z<j;Z++){const X=H[Z];if(v(X,L,Z,R)===!0){const le=X.__offset,me=Array.isArray(X.value)?X.value:[X.value];let ie=0;for(let ce=0;ce<me.length;ce++){const fe=me[ce],xe=_(fe);typeof fe=="number"||typeof fe=="boolean"?(X.__data[0]=fe,t.bufferSubData(t.UNIFORM_BUFFER,le+ie,X.__data)):fe.isMatrix3?(X.__data[0]=fe.elements[0],X.__data[1]=fe.elements[1],X.__data[2]=fe.elements[2],X.__data[3]=0,X.__data[4]=fe.elements[3],X.__data[5]=fe.elements[4],X.__data[6]=fe.elements[5],X.__data[7]=0,X.__data[8]=fe.elements[6],X.__data[9]=fe.elements[7],X.__data[10]=fe.elements[8],X.__data[11]=0):(fe.toArray(X.__data,ie),ie+=xe.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,le,X.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(C,T,k,R){const L=C.value,F=T+"_"+k;if(R[F]===void 0)return typeof L=="number"||typeof L=="boolean"?R[F]=L:R[F]=L.clone(),!0;{const H=R[F];if(typeof L=="number"||typeof L=="boolean"){if(H!==L)return R[F]=L,!0}else if(H.equals(L)===!1)return H.copy(L),!0}return!1}function x(C){const T=C.uniforms;let k=0;const R=16;for(let F=0,H=T.length;F<H;F++){const Z=Array.isArray(T[F])?T[F]:[T[F]];for(let j=0,X=Z.length;j<X;j++){const le=Z[j],me=Array.isArray(le.value)?le.value:[le.value];for(let ie=0,ce=me.length;ie<ce;ie++){const fe=me[ie],xe=_(fe),te=k%R;te!==0&&R-te<xe.boundary&&(k+=R-te),le.__data=new Float32Array(xe.storage/Float32Array.BYTES_PER_ELEMENT),le.__offset=k,k+=xe.storage}}}const L=k%R;return L>0&&(k+=R-L),C.__size=k,C.__cache={},this}function _(C){const T={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(T.boundary=4,T.storage=4):C.isVector2?(T.boundary=8,T.storage=8):C.isVector3||C.isColor?(T.boundary=16,T.storage=12):C.isVector4?(T.boundary=16,T.storage=16):C.isMatrix3?(T.boundary=48,T.storage=48):C.isMatrix4?(T.boundary=64,T.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),T}function S(C){const T=C.target;T.removeEventListener("dispose",S);const k=a.indexOf(T.__bindingPointIndex);a.splice(k,1),t.deleteBuffer(i[T.id]),delete i[T.id],delete o[T.id]}function w(){for(const C in i)t.deleteBuffer(i[C]);a=[],i={},o={}}return{bind:l,update:c,dispose:w}}class l8{constructor(e={}){const{canvas:n=zue(),context:r=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let g;r!==null?g=r.getContextAttributes().alpha:g=a;const v=new Uint32Array(4),x=new Int32Array(4);let _=null,S=null;const w=[],C=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Yu,this._useLegacyLights=!1,this.toneMapping=Eh,this.toneMappingExposure=1;const T=this;let k=!1,R=0,L=0,F=null,H=-1,Z=null;const j=new zi,X=new zi;let le=null;const me=new Fn(0);let ie=0,ce=n.width,fe=n.height,xe=1,te=null,he=null;const ve=new zi(0,0,ce,fe),ze=new zi(0,0,ce,fe);let Ue=!1;const rt=new VE;let Fe=!1,st=!1,ct=null;const Dt=new _r,zt=new Ht,Be=new Oe,lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Qe(){return F===null?xe:1}let ge=r;function et(Ae,ut){for(let bt=0;bt<Ae.length;bt++){const yt=Ae[bt],vt=n.getContext(yt,ut);if(vt!==null)return vt}return null}try{const Ae={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${BO}`),n.addEventListener("webglcontextlost",en,!1),n.addEventListener("webglcontextrestored",Xe,!1),n.addEventListener("webglcontextcreationerror",kt,!1),ge===null){const ut=["webgl2","webgl","experimental-webgl"];if(T.isWebGL1Renderer===!0&&ut.shift(),ge=et(ut,Ae),ge===null)throw et(ut)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ge instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ge.getShaderPrecisionFormat===void 0&&(ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ae){throw console.error("THREE.WebGLRenderer: "+Ae.message),Ae}let ot,Tt,Ct,Ft,Gt,sn,Je,Ce,_e,ht,dt,Wt,jt,Mn,cn,Rt,nn,Pn,mt,un,an,Ot,ke,Ve;function Me(){ot=new jmt(ge),Tt=new Dmt(ge,ot,e),ot.init(Tt),Ot=new Zue(ge,ot,Tt),Ct=new wyt(ge,ot,Tt),Ft=new Wmt(ge),Gt=new uyt,sn=new Syt(ge,ot,Ct,Gt,Tt,Ot,Ft),Je=new zmt(T),Ce=new $mt(T),_e=new Kft(ge,Tt),ke=new Omt(ge,ot,_e,Tt),ht=new Umt(ge,_e,Ft,ke),dt=new Ymt(ge,ht,_e,Ft),mt=new qmt(ge,Tt,sn),Rt=new Nmt(Gt),Wt=new cyt(T,Je,Ce,ot,Tt,ke,Rt),jt=new Iyt(T,Gt),Mn=new fyt,cn=new vyt(ot,Tt),Pn=new Rmt(T,Je,Ce,Ct,dt,g,l),nn=new byt(T,dt,Tt),Ve=new kyt(ge,Ft,Tt,Ct),un=new Lmt(ge,ot,Ft,Tt),an=new Vmt(ge,ot,Ft,Tt),Ft.programs=Wt.programs,T.capabilities=Tt,T.extensions=ot,T.properties=Gt,T.renderLists=Mn,T.shadowMap=nn,T.state=Ct,T.info=Ft}Me();const it=new Ayt(T,ge);this.xr=it,this.getContext=function(){return ge},this.getContextAttributes=function(){return ge.getContextAttributes()},this.forceContextLoss=function(){const Ae=ot.get("WEBGL_lose_context");Ae&&Ae.loseContext()},this.forceContextRestore=function(){const Ae=ot.get("WEBGL_lose_context");Ae&&Ae.restoreContext()},this.getPixelRatio=function(){return xe},this.setPixelRatio=function(Ae){Ae!==void 0&&(xe=Ae,this.setSize(ce,fe,!1))},this.getSize=function(Ae){return Ae.set(ce,fe)},this.setSize=function(Ae,ut,bt=!0){if(it.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ce=Ae,fe=ut,n.width=Math.floor(Ae*xe),n.height=Math.floor(ut*xe),bt===!0&&(n.style.width=Ae+"px",n.style.height=ut+"px"),this.setViewport(0,0,Ae,ut)},this.getDrawingBufferSize=function(Ae){return Ae.set(ce*xe,fe*xe).floor()},this.setDrawingBufferSize=function(Ae,ut,bt){ce=Ae,fe=ut,xe=bt,n.width=Math.floor(Ae*bt),n.height=Math.floor(ut*bt),this.setViewport(0,0,Ae,ut)},this.getCurrentViewport=function(Ae){return Ae.copy(j)},this.getViewport=function(Ae){return Ae.copy(ve)},this.setViewport=function(Ae,ut,bt,yt){Ae.isVector4?ve.set(Ae.x,Ae.y,Ae.z,Ae.w):ve.set(Ae,ut,bt,yt),Ct.viewport(j.copy(ve).multiplyScalar(xe).round())},this.getScissor=function(Ae){return Ae.copy(ze)},this.setScissor=function(Ae,ut,bt,yt){Ae.isVector4?ze.set(Ae.x,Ae.y,Ae.z,Ae.w):ze.set(Ae,ut,bt,yt),Ct.scissor(X.copy(ze).multiplyScalar(xe).round())},this.getScissorTest=function(){return Ue},this.setScissorTest=function(Ae){Ct.setScissorTest(Ue=Ae)},this.setOpaqueSort=function(Ae){te=Ae},this.setTransparentSort=function(Ae){he=Ae},this.getClearColor=function(Ae){return Ae.copy(Pn.getClearColor())},this.setClearColor=function(){Pn.setClearColor.apply(Pn,arguments)},this.getClearAlpha=function(){return Pn.getClearAlpha()},this.setClearAlpha=function(){Pn.setClearAlpha.apply(Pn,arguments)},this.clear=function(Ae=!0,ut=!0,bt=!0){let yt=0;if(Ae){let vt=!1;if(F!==null){const pn=F.texture.format;vt=pn===X6||pn===Y6||pn===q6}if(vt){const pn=F.texture.type,An=pn===Th||pn===Rp||pn===jO||pn===ey||pn===W6||pn===H6,Kn=Pn.getClearColor(),dr=Pn.getClearAlpha(),fr=Kn.r,cr=Kn.g,br=Kn.b;An?(v[0]=fr,v[1]=cr,v[2]=br,v[3]=dr,ge.clearBufferuiv(ge.COLOR,0,v)):(x[0]=fr,x[1]=cr,x[2]=br,x[3]=dr,ge.clearBufferiv(ge.COLOR,0,x))}else yt|=ge.COLOR_BUFFER_BIT}ut&&(yt|=ge.DEPTH_BUFFER_BIT),bt&&(yt|=ge.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ge.clear(yt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",en,!1),n.removeEventListener("webglcontextrestored",Xe,!1),n.removeEventListener("webglcontextcreationerror",kt,!1),Mn.dispose(),cn.dispose(),Gt.dispose(),Je.dispose(),Ce.dispose(),dt.dispose(),ke.dispose(),Ve.dispose(),Wt.dispose(),it.dispose(),it.removeEventListener("sessionstart",Ne),it.removeEventListener("sessionend",Ke),ct&&(ct.dispose(),ct=null),qe.stop()};function en(Ae){Ae.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),k=!0}function Xe(){console.log("THREE.WebGLRenderer: Context Restored."),k=!1;const Ae=Ft.autoReset,ut=nn.enabled,bt=nn.autoUpdate,yt=nn.needsUpdate,vt=nn.type;Me(),Ft.autoReset=Ae,nn.enabled=ut,nn.autoUpdate=bt,nn.needsUpdate=yt,nn.type=vt}function kt(Ae){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ae.statusMessage)}function Et(Ae){const ut=Ae.target;ut.removeEventListener("dispose",Et),we(ut)}function we(Ae){oe(Ae),Gt.remove(Ae)}function oe(Ae){const ut=Gt.get(Ae).programs;ut!==void 0&&(ut.forEach(function(bt){Wt.releaseProgram(bt)}),Ae.isShaderMaterial&&Wt.releaseShaderCache(Ae))}this.renderBufferDirect=function(Ae,ut,bt,yt,vt,pn){ut===null&&(ut=lt);const An=vt.isMesh&&vt.matrixWorld.determinant()<0,Kn=Vn(Ae,ut,bt,yt,vt);Ct.setMaterial(yt,An);let dr=bt.index,fr=1;if(yt.wireframe===!0){if(dr=ht.getWireframeAttribute(bt),dr===void 0)return;fr=2}const cr=bt.drawRange,br=bt.attributes.position;let ar=cr.start*fr,No=(cr.start+cr.count)*fr;pn!==null&&(ar=Math.max(ar,pn.start*fr),No=Math.min(No,(pn.start+pn.count)*fr)),dr!==null?(ar=Math.max(ar,0),No=Math.min(No,dr.count)):br!=null&&(ar=Math.max(ar,0),No=Math.min(No,br.count));const hi=No-ar;if(hi<0||hi===1/0)return;ke.setup(vt,yt,Kn,bt,dr);let Yr,Zn=un;if(dr!==null&&(Yr=_e.get(dr),Zn=an,Zn.setIndex(Yr)),vt.isMesh)yt.wireframe===!0?(Ct.setLineWidth(yt.wireframeLinewidth*Qe()),Zn.setMode(ge.LINES)):Zn.setMode(ge.TRIANGLES);else if(vt.isLine){let Nn=yt.linewidth;Nn===void 0&&(Nn=1),Ct.setLineWidth(Nn*Qe()),vt.isLineSegments?Zn.setMode(ge.LINES):vt.isLineLoop?Zn.setMode(ge.LINE_LOOP):Zn.setMode(ge.LINE_STRIP)}else vt.isPoints?Zn.setMode(ge.POINTS):vt.isSprite&&Zn.setMode(ge.TRIANGLES);if(vt.isBatchedMesh)Zn.renderMultiDraw(vt._multiDrawStarts,vt._multiDrawCounts,vt._multiDrawCount);else if(vt.isInstancedMesh)Zn.renderInstances(ar,hi,vt.count);else if(bt.isInstancedBufferGeometry){const Nn=bt._maxInstanceCount!==void 0?bt._maxInstanceCount:1/0,to=Math.min(bt.instanceCount,Nn);Zn.renderInstances(ar,hi,to)}else Zn.render(ar,hi)};function pe(Ae,ut,bt){Ae.transparent===!0&&Ae.side===af&&Ae.forceSinglePass===!1?(Ae.side=ql,Ae.needsUpdate=!0,kn(Ae,ut,bt),Ae.side=em,Ae.needsUpdate=!0,kn(Ae,ut,bt),Ae.side=af):kn(Ae,ut,bt)}this.compile=function(Ae,ut,bt=null){bt===null&&(bt=Ae),S=cn.get(bt),S.init(),C.push(S),bt.traverseVisible(function(vt){vt.isLight&&vt.layers.test(ut.layers)&&(S.pushLight(vt),vt.castShadow&&S.pushShadow(vt))}),Ae!==bt&&Ae.traverseVisible(function(vt){vt.isLight&&vt.layers.test(ut.layers)&&(S.pushLight(vt),vt.castShadow&&S.pushShadow(vt))}),S.setupLights(T._useLegacyLights);const yt=new Set;return Ae.traverse(function(vt){const pn=vt.material;if(pn)if(Array.isArray(pn))for(let An=0;An<pn.length;An++){const Kn=pn[An];pe(Kn,bt,vt),yt.add(Kn)}else pe(pn,bt,vt),yt.add(pn)}),C.pop(),S=null,yt},this.compileAsync=function(Ae,ut,bt=null){const yt=this.compile(Ae,ut,bt);return new Promise(vt=>{function pn(){if(yt.forEach(function(An){Gt.get(An).currentProgram.isReady()&&yt.delete(An)}),yt.size===0){vt(Ae);return}setTimeout(pn,10)}ot.get("KHR_parallel_shader_compile")!==null?pn():setTimeout(pn,10)})};let Te=null;function Pe(Ae){Te&&Te(Ae)}function Ne(){qe.stop()}function Ke(){qe.start()}const qe=new Hue;qe.setAnimationLoop(Pe),typeof self<"u"&&qe.setContext(self),this.setAnimationLoop=function(Ae){Te=Ae,it.setAnimationLoop(Ae),Ae===null?qe.stop():qe.start()},it.addEventListener("sessionstart",Ne),it.addEventListener("sessionend",Ke),this.render=function(Ae,ut){if(ut!==void 0&&ut.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(k===!0)return;Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),ut.parent===null&&ut.matrixWorldAutoUpdate===!0&&ut.updateMatrixWorld(),it.enabled===!0&&it.isPresenting===!0&&(it.cameraAutoUpdate===!0&&it.updateCamera(ut),ut=it.getCamera()),Ae.isScene===!0&&Ae.onBeforeRender(T,Ae,ut,F),S=cn.get(Ae,C.length),S.init(),C.push(S),Dt.multiplyMatrices(ut.projectionMatrix,ut.matrixWorldInverse),rt.setFromProjectionMatrix(Dt),st=this.localClippingEnabled,Fe=Rt.init(this.clippingPlanes,st),_=Mn.get(Ae,w.length),_.init(),w.push(_),je(Ae,ut,0,T.sortObjects),_.finish(),T.sortObjects===!0&&_.sort(te,he),this.info.render.frame++,Fe===!0&&Rt.beginShadows();const bt=S.state.shadowsArray;if(nn.render(bt,Ae,ut),Fe===!0&&Rt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(it.enabled===!1||it.isPresenting===!1||it.hasDepthSensing()===!1)&&Pn.render(_,Ae),S.setupLights(T._useLegacyLights),ut.isArrayCamera){const yt=ut.cameras;for(let vt=0,pn=yt.length;vt<pn;vt++){const An=yt[vt];tt(_,Ae,An,An.viewport)}}else tt(_,Ae,ut);F!==null&&(sn.updateMultisampleRenderTarget(F),sn.updateRenderTargetMipmap(F)),Ae.isScene===!0&&Ae.onAfterRender(T,Ae,ut),ke.resetDefaultState(),H=-1,Z=null,C.pop(),C.length>0?S=C[C.length-1]:S=null,w.pop(),w.length>0?_=w[w.length-1]:_=null};function je(Ae,ut,bt,yt){if(Ae.visible===!1)return;if(Ae.layers.test(ut.layers)){if(Ae.isGroup)bt=Ae.renderOrder;else if(Ae.isLOD)Ae.autoUpdate===!0&&Ae.update(ut);else if(Ae.isLight)S.pushLight(Ae),Ae.castShadow&&S.pushShadow(Ae);else if(Ae.isSprite){if(!Ae.frustumCulled||rt.intersectsSprite(Ae)){yt&&Be.setFromMatrixPosition(Ae.matrixWorld).applyMatrix4(Dt);const An=dt.update(Ae),Kn=Ae.material;Kn.visible&&_.push(Ae,An,Kn,bt,Be.z,null)}}else if((Ae.isMesh||Ae.isLine||Ae.isPoints)&&(!Ae.frustumCulled||rt.intersectsObject(Ae))){const An=dt.update(Ae),Kn=Ae.material;if(yt&&(Ae.boundingSphere!==void 0?(Ae.boundingSphere===null&&Ae.computeBoundingSphere(),Be.copy(Ae.boundingSphere.center)):(An.boundingSphere===null&&An.computeBoundingSphere(),Be.copy(An.boundingSphere.center)),Be.applyMatrix4(Ae.matrixWorld).applyMatrix4(Dt)),Array.isArray(Kn)){const dr=An.groups;for(let fr=0,cr=dr.length;fr<cr;fr++){const br=dr[fr],ar=Kn[br.materialIndex];ar&&ar.visible&&_.push(Ae,An,ar,bt,Be.z,br)}}else Kn.visible&&_.push(Ae,An,Kn,bt,Be.z,null)}}const pn=Ae.children;for(let An=0,Kn=pn.length;An<Kn;An++)je(pn[An],ut,bt,yt)}function tt(Ae,ut,bt,yt){const vt=Ae.opaque,pn=Ae.transmissive,An=Ae.transparent;S.setupLightsView(bt),Fe===!0&&Rt.setGlobalState(T.clippingPlanes,bt),pn.length>0&&Nt(vt,pn,ut,bt),yt&&Ct.viewport(j.copy(yt)),vt.length>0&&Ut(vt,ut,bt),pn.length>0&&Ut(pn,ut,bt),An.length>0&&Ut(An,ut,bt),Ct.buffers.depth.setTest(!0),Ct.buffers.depth.setMask(!0),Ct.buffers.color.setMask(!0),Ct.setPolygonOffset(!1)}function Nt(Ae,ut,bt,yt){if((bt.isScene===!0?bt.overrideMaterial:null)!==null)return;const pn=Tt.isWebGL2;ct===null&&(ct=new yf(1,1,{generateMipmaps:!0,type:ot.has("EXT_color_buffer_half_float")?e1:Th,minFilter:ph,samples:pn?4:0})),T.getDrawingBufferSize(zt),pn?ct.setSize(zt.x,zt.y):ct.setSize(rk(zt.x),rk(zt.y));const An=T.getRenderTarget();T.setRenderTarget(ct),T.getClearColor(me),ie=T.getClearAlpha(),ie<1&&T.setClearColor(16777215,.5),T.clear();const Kn=T.toneMapping;T.toneMapping=Eh,Ut(Ae,bt,yt),sn.updateMultisampleRenderTarget(ct),sn.updateRenderTargetMipmap(ct);let dr=!1;for(let fr=0,cr=ut.length;fr<cr;fr++){const br=ut[fr],ar=br.object,No=br.geometry,hi=br.material,Yr=br.group;if(hi.side===af&&ar.layers.test(yt.layers)){const Zn=hi.side;hi.side=ql,hi.needsUpdate=!0,$t(ar,bt,yt,No,hi,Yr),hi.side=Zn,hi.needsUpdate=!0,dr=!0}}dr===!0&&(sn.updateMultisampleRenderTarget(ct),sn.updateRenderTargetMipmap(ct)),T.setRenderTarget(An),T.setClearColor(me,ie),T.toneMapping=Kn}function Ut(Ae,ut,bt){const yt=ut.isScene===!0?ut.overrideMaterial:null;for(let vt=0,pn=Ae.length;vt<pn;vt++){const An=Ae[vt],Kn=An.object,dr=An.geometry,fr=yt===null?An.material:yt,cr=An.group;Kn.layers.test(bt.layers)&&$t(Kn,ut,bt,dr,fr,cr)}}function $t(Ae,ut,bt,yt,vt,pn){Ae.onBeforeRender(T,ut,bt,yt,vt,pn),Ae.modelViewMatrix.multiplyMatrices(bt.matrixWorldInverse,Ae.matrixWorld),Ae.normalMatrix.getNormalMatrix(Ae.modelViewMatrix),vt.onBeforeRender(T,ut,bt,yt,Ae,pn),vt.transparent===!0&&vt.side===af&&vt.forceSinglePass===!1?(vt.side=ql,vt.needsUpdate=!0,T.renderBufferDirect(bt,ut,yt,vt,Ae,pn),vt.side=em,vt.needsUpdate=!0,T.renderBufferDirect(bt,ut,yt,vt,Ae,pn),vt.side=af):T.renderBufferDirect(bt,ut,yt,vt,Ae,pn),Ae.onAfterRender(T,ut,bt,yt,vt,pn)}function kn(Ae,ut,bt){ut.isScene!==!0&&(ut=lt);const yt=Gt.get(Ae),vt=S.state.lights,pn=S.state.shadowsArray,An=vt.state.version,Kn=Wt.getParameters(Ae,vt.state,pn,ut,bt),dr=Wt.getProgramCacheKey(Kn);let fr=yt.programs;yt.environment=Ae.isMeshStandardMaterial?ut.environment:null,yt.fog=ut.fog,yt.envMap=(Ae.isMeshStandardMaterial?Ce:Je).get(Ae.envMap||yt.environment),yt.envMapRotation=yt.environment!==null&&Ae.envMap===null?ut.environmentRotation:Ae.envMapRotation,fr===void 0&&(Ae.addEventListener("dispose",Et),fr=new Map,yt.programs=fr);let cr=fr.get(dr);if(cr!==void 0){if(yt.currentProgram===cr&&yt.lightsStateVersion===An)return Tn(Ae,Kn),cr}else Kn.uniforms=Wt.getUniforms(Ae),Ae.onBuild(bt,Kn,T),Ae.onBeforeCompile(Kn,T),cr=Wt.acquireProgram(Kn,dr),fr.set(dr,cr),yt.uniforms=Kn.uniforms;const br=yt.uniforms;return(!Ae.isShaderMaterial&&!Ae.isRawShaderMaterial||Ae.clipping===!0)&&(br.clippingPlanes=Rt.uniform),Tn(Ae,Kn),yt.needsLights=$r(Ae),yt.lightsStateVersion=An,yt.needsLights&&(br.ambientLightColor.value=vt.state.ambient,br.lightProbe.value=vt.state.probe,br.directionalLights.value=vt.state.directional,br.directionalLightShadows.value=vt.state.directionalShadow,br.spotLights.value=vt.state.spot,br.spotLightShadows.value=vt.state.spotShadow,br.rectAreaLights.value=vt.state.rectArea,br.ltc_1.value=vt.state.rectAreaLTC1,br.ltc_2.value=vt.state.rectAreaLTC2,br.pointLights.value=vt.state.point,br.pointLightShadows.value=vt.state.pointShadow,br.hemisphereLights.value=vt.state.hemi,br.directionalShadowMap.value=vt.state.directionalShadowMap,br.directionalShadowMatrix.value=vt.state.directionalShadowMatrix,br.spotShadowMap.value=vt.state.spotShadowMap,br.spotLightMatrix.value=vt.state.spotLightMatrix,br.spotLightMap.value=vt.state.spotLightMap,br.pointShadowMap.value=vt.state.pointShadowMap,br.pointShadowMatrix.value=vt.state.pointShadowMatrix),yt.currentProgram=cr,yt.uniformsList=null,cr}function er(Ae){if(Ae.uniformsList===null){const ut=Ae.currentProgram.getUniforms();Ae.uniformsList=YA.seqWithValue(ut.seq,Ae.uniforms)}return Ae.uniformsList}function Tn(Ae,ut){const bt=Gt.get(Ae);bt.outputColorSpace=ut.outputColorSpace,bt.batching=ut.batching,bt.instancing=ut.instancing,bt.instancingColor=ut.instancingColor,bt.instancingMorph=ut.instancingMorph,bt.skinning=ut.skinning,bt.morphTargets=ut.morphTargets,bt.morphNormals=ut.morphNormals,bt.morphColors=ut.morphColors,bt.morphTargetsCount=ut.morphTargetsCount,bt.numClippingPlanes=ut.numClippingPlanes,bt.numIntersection=ut.numClipIntersection,bt.vertexAlphas=ut.vertexAlphas,bt.vertexTangents=ut.vertexTangents,bt.toneMapping=ut.toneMapping}function Vn(Ae,ut,bt,yt,vt){ut.isScene!==!0&&(ut=lt),sn.resetTextureUnits();const pn=ut.fog,An=yt.isMeshStandardMaterial?ut.environment:null,Kn=F===null?T.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:fm,dr=(yt.isMeshStandardMaterial?Ce:Je).get(yt.envMap||An),fr=yt.vertexColors===!0&&!!bt.attributes.color&&bt.attributes.color.itemSize===4,cr=!!bt.attributes.tangent&&(!!yt.normalMap||yt.anisotropy>0),br=!!bt.morphAttributes.position,ar=!!bt.morphAttributes.normal,No=!!bt.morphAttributes.color;let hi=Eh;yt.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(hi=T.toneMapping);const Yr=bt.morphAttributes.position||bt.morphAttributes.normal||bt.morphAttributes.color,Zn=Yr!==void 0?Yr.length:0,Nn=Gt.get(yt),to=S.state.lights;if(Fe===!0&&(st===!0||Ae!==Z)){const pi=Ae===Z&&yt.id===H;Rt.setState(yt,Ae,pi)}let tr=!1;yt.version===Nn.__version?(Nn.needsLights&&Nn.lightsStateVersion!==to.state.version||Nn.outputColorSpace!==Kn||vt.isBatchedMesh&&Nn.batching===!1||!vt.isBatchedMesh&&Nn.batching===!0||vt.isInstancedMesh&&Nn.instancing===!1||!vt.isInstancedMesh&&Nn.instancing===!0||vt.isSkinnedMesh&&Nn.skinning===!1||!vt.isSkinnedMesh&&Nn.skinning===!0||vt.isInstancedMesh&&Nn.instancingColor===!0&&vt.instanceColor===null||vt.isInstancedMesh&&Nn.instancingColor===!1&&vt.instanceColor!==null||vt.isInstancedMesh&&Nn.instancingMorph===!0&&vt.morphTexture===null||vt.isInstancedMesh&&Nn.instancingMorph===!1&&vt.morphTexture!==null||Nn.envMap!==dr||yt.fog===!0&&Nn.fog!==pn||Nn.numClippingPlanes!==void 0&&(Nn.numClippingPlanes!==Rt.numPlanes||Nn.numIntersection!==Rt.numIntersection)||Nn.vertexAlphas!==fr||Nn.vertexTangents!==cr||Nn.morphTargets!==br||Nn.morphNormals!==ar||Nn.morphColors!==No||Nn.toneMapping!==hi||Tt.isWebGL2===!0&&Nn.morphTargetsCount!==Zn)&&(tr=!0):(tr=!0,Nn.__version=yt.version);let Li=Nn.currentProgram;tr===!0&&(Li=kn(yt,ut,vt));let Ns=!1,Ur=!1,hr=!1;const Si=Li.getUniforms(),Zr=Nn.uniforms;if(Ct.useProgram(Li.program)&&(Ns=!0,Ur=!0,hr=!0),yt.id!==H&&(H=yt.id,Ur=!0),Ns||Z!==Ae){Si.setValue(ge,"projectionMatrix",Ae.projectionMatrix),Si.setValue(ge,"viewMatrix",Ae.matrixWorldInverse);const pi=Si.map.cameraPosition;pi!==void 0&&pi.setValue(ge,Be.setFromMatrixPosition(Ae.matrixWorld)),Tt.logarithmicDepthBuffer&&Si.setValue(ge,"logDepthBufFC",2/(Math.log(Ae.far+1)/Math.LN2)),(yt.isMeshPhongMaterial||yt.isMeshToonMaterial||yt.isMeshLambertMaterial||yt.isMeshBasicMaterial||yt.isMeshStandardMaterial||yt.isShaderMaterial)&&Si.setValue(ge,"isOrthographic",Ae.isOrthographicCamera===!0),Z!==Ae&&(Z=Ae,Ur=!0,hr=!0)}if(vt.isSkinnedMesh){Si.setOptional(ge,vt,"bindMatrix"),Si.setOptional(ge,vt,"bindMatrixInverse");const pi=vt.skeleton;pi&&(Tt.floatVertexTextures?(pi.boneTexture===null&&pi.computeBoneTexture(),Si.setValue(ge,"boneTexture",pi.boneTexture,sn)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}vt.isBatchedMesh&&(Si.setOptional(ge,vt,"batchingTexture"),Si.setValue(ge,"batchingTexture",vt._matricesTexture,sn));const Rc=bt.morphAttributes;if((Rc.position!==void 0||Rc.normal!==void 0||Rc.color!==void 0&&Tt.isWebGL2===!0)&&mt.update(vt,bt,Li),(Ur||Nn.receiveShadow!==vt.receiveShadow)&&(Nn.receiveShadow=vt.receiveShadow,Si.setValue(ge,"receiveShadow",vt.receiveShadow)),yt.isMeshGouraudMaterial&&yt.envMap!==null&&(Zr.envMap.value=dr,Zr.flipEnvMap.value=dr.isCubeTexture&&dr.isRenderTargetTexture===!1?-1:1),Ur&&(Si.setValue(ge,"toneMappingExposure",T.toneMappingExposure),Nn.needsLights&&sr(Zr,hr),pn&&yt.fog===!0&&jt.refreshFogUniforms(Zr,pn),jt.refreshMaterialUniforms(Zr,yt,xe,fe,ct),YA.upload(ge,er(Nn),Zr,sn)),yt.isShaderMaterial&&yt.uniformsNeedUpdate===!0&&(YA.upload(ge,er(Nn),Zr,sn),yt.uniformsNeedUpdate=!1),yt.isSpriteMaterial&&Si.setValue(ge,"center",vt.center),Si.setValue(ge,"modelViewMatrix",vt.modelViewMatrix),Si.setValue(ge,"normalMatrix",vt.normalMatrix),Si.setValue(ge,"modelMatrix",vt.matrixWorld),yt.isShaderMaterial||yt.isRawShaderMaterial){const pi=yt.uniformsGroups;for(let Eu=0,To=pi.length;Eu<To;Eu++)if(Tt.isWebGL2){const jh=pi[Eu];Ve.update(jh,Li),Ve.bind(jh,Li)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Li}function sr(Ae,ut){Ae.ambientLightColor.needsUpdate=ut,Ae.lightProbe.needsUpdate=ut,Ae.directionalLights.needsUpdate=ut,Ae.directionalLightShadows.needsUpdate=ut,Ae.pointLights.needsUpdate=ut,Ae.pointLightShadows.needsUpdate=ut,Ae.spotLights.needsUpdate=ut,Ae.spotLightShadows.needsUpdate=ut,Ae.rectAreaLights.needsUpdate=ut,Ae.hemisphereLights.needsUpdate=ut}function $r(Ae){return Ae.isMeshLambertMaterial||Ae.isMeshToonMaterial||Ae.isMeshPhongMaterial||Ae.isMeshStandardMaterial||Ae.isShadowMaterial||Ae.isShaderMaterial&&Ae.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(Ae,ut,bt){Gt.get(Ae.texture).__webglTexture=ut,Gt.get(Ae.depthTexture).__webglTexture=bt;const yt=Gt.get(Ae);yt.__hasExternalTextures=!0,yt.__autoAllocateDepthBuffer=bt===void 0,yt.__autoAllocateDepthBuffer||ot.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),yt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Ae,ut){const bt=Gt.get(Ae);bt.__webglFramebuffer=ut,bt.__useDefaultFramebuffer=ut===void 0},this.setRenderTarget=function(Ae,ut=0,bt=0){F=Ae,R=ut,L=bt;let yt=!0,vt=null,pn=!1,An=!1;if(Ae){const dr=Gt.get(Ae);dr.__useDefaultFramebuffer!==void 0?(Ct.bindFramebuffer(ge.FRAMEBUFFER,null),yt=!1):dr.__webglFramebuffer===void 0?sn.setupRenderTarget(Ae):dr.__hasExternalTextures&&sn.rebindTextures(Ae,Gt.get(Ae.texture).__webglTexture,Gt.get(Ae.depthTexture).__webglTexture);const fr=Ae.texture;(fr.isData3DTexture||fr.isDataArrayTexture||fr.isCompressedArrayTexture)&&(An=!0);const cr=Gt.get(Ae).__webglFramebuffer;Ae.isWebGLCubeRenderTarget?(Array.isArray(cr[ut])?vt=cr[ut][bt]:vt=cr[ut],pn=!0):Tt.isWebGL2&&Ae.samples>0&&sn.useMultisampledRTT(Ae)===!1?vt=Gt.get(Ae).__webglMultisampledFramebuffer:Array.isArray(cr)?vt=cr[bt]:vt=cr,j.copy(Ae.viewport),X.copy(Ae.scissor),le=Ae.scissorTest}else j.copy(ve).multiplyScalar(xe).floor(),X.copy(ze).multiplyScalar(xe).floor(),le=Ue;if(Ct.bindFramebuffer(ge.FRAMEBUFFER,vt)&&Tt.drawBuffers&&yt&&Ct.drawBuffers(Ae,vt),Ct.viewport(j),Ct.scissor(X),Ct.setScissorTest(le),pn){const dr=Gt.get(Ae.texture);ge.framebufferTexture2D(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,ge.TEXTURE_CUBE_MAP_POSITIVE_X+ut,dr.__webglTexture,bt)}else if(An){const dr=Gt.get(Ae.texture),fr=ut||0;ge.framebufferTextureLayer(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,dr.__webglTexture,bt||0,fr)}H=-1},this.readRenderTargetPixels=function(Ae,ut,bt,yt,vt,pn,An){if(!(Ae&&Ae.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Kn=Gt.get(Ae).__webglFramebuffer;if(Ae.isWebGLCubeRenderTarget&&An!==void 0&&(Kn=Kn[An]),Kn){Ct.bindFramebuffer(ge.FRAMEBUFFER,Kn);try{const dr=Ae.texture,fr=dr.format,cr=dr.type;if(fr!==Ul&&Ot.convert(fr)!==ge.getParameter(ge.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const br=cr===e1&&(ot.has("EXT_color_buffer_half_float")||Tt.isWebGL2&&ot.has("EXT_color_buffer_float"));if(cr!==Th&&Ot.convert(cr)!==ge.getParameter(ge.IMPLEMENTATION_COLOR_READ_TYPE)&&!(cr===ou&&(Tt.isWebGL2||ot.has("OES_texture_float")||ot.has("WEBGL_color_buffer_float")))&&!br){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ut>=0&&ut<=Ae.width-yt&&bt>=0&&bt<=Ae.height-vt&&ge.readPixels(ut,bt,yt,vt,Ot.convert(fr),Ot.convert(cr),pn)}finally{const dr=F!==null?Gt.get(F).__webglFramebuffer:null;Ct.bindFramebuffer(ge.FRAMEBUFFER,dr)}}},this.copyFramebufferToTexture=function(Ae,ut,bt=0){const yt=Math.pow(2,-bt),vt=Math.floor(ut.image.width*yt),pn=Math.floor(ut.image.height*yt);sn.setTexture2D(ut,0),ge.copyTexSubImage2D(ge.TEXTURE_2D,bt,0,0,Ae.x,Ae.y,vt,pn),Ct.unbindTexture()},this.copyTextureToTexture=function(Ae,ut,bt,yt=0){const vt=ut.image.width,pn=ut.image.height,An=Ot.convert(bt.format),Kn=Ot.convert(bt.type);sn.setTexture2D(bt,0),ge.pixelStorei(ge.UNPACK_FLIP_Y_WEBGL,bt.flipY),ge.pixelStorei(ge.UNPACK_PREMULTIPLY_ALPHA_WEBGL,bt.premultiplyAlpha),ge.pixelStorei(ge.UNPACK_ALIGNMENT,bt.unpackAlignment),ut.isDataTexture?ge.texSubImage2D(ge.TEXTURE_2D,yt,Ae.x,Ae.y,vt,pn,An,Kn,ut.image.data):ut.isCompressedTexture?ge.compressedTexSubImage2D(ge.TEXTURE_2D,yt,Ae.x,Ae.y,ut.mipmaps[0].width,ut.mipmaps[0].height,An,ut.mipmaps[0].data):ge.texSubImage2D(ge.TEXTURE_2D,yt,Ae.x,Ae.y,An,Kn,ut.image),yt===0&&bt.generateMipmaps&&ge.generateMipmap(ge.TEXTURE_2D),Ct.unbindTexture()},this.copyTextureToTexture3D=function(Ae,ut,bt,yt,vt=0){if(T.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const pn=Math.round(Ae.max.x-Ae.min.x),An=Math.round(Ae.max.y-Ae.min.y),Kn=Ae.max.z-Ae.min.z+1,dr=Ot.convert(yt.format),fr=Ot.convert(yt.type);let cr;if(yt.isData3DTexture)sn.setTexture3D(yt,0),cr=ge.TEXTURE_3D;else if(yt.isDataArrayTexture||yt.isCompressedArrayTexture)sn.setTexture2DArray(yt,0),cr=ge.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ge.pixelStorei(ge.UNPACK_FLIP_Y_WEBGL,yt.flipY),ge.pixelStorei(ge.UNPACK_PREMULTIPLY_ALPHA_WEBGL,yt.premultiplyAlpha),ge.pixelStorei(ge.UNPACK_ALIGNMENT,yt.unpackAlignment);const br=ge.getParameter(ge.UNPACK_ROW_LENGTH),ar=ge.getParameter(ge.UNPACK_IMAGE_HEIGHT),No=ge.getParameter(ge.UNPACK_SKIP_PIXELS),hi=ge.getParameter(ge.UNPACK_SKIP_ROWS),Yr=ge.getParameter(ge.UNPACK_SKIP_IMAGES),Zn=bt.isCompressedTexture?bt.mipmaps[vt]:bt.image;ge.pixelStorei(ge.UNPACK_ROW_LENGTH,Zn.width),ge.pixelStorei(ge.UNPACK_IMAGE_HEIGHT,Zn.height),ge.pixelStorei(ge.UNPACK_SKIP_PIXELS,Ae.min.x),ge.pixelStorei(ge.UNPACK_SKIP_ROWS,Ae.min.y),ge.pixelStorei(ge.UNPACK_SKIP_IMAGES,Ae.min.z),bt.isDataTexture||bt.isData3DTexture?ge.texSubImage3D(cr,vt,ut.x,ut.y,ut.z,pn,An,Kn,dr,fr,Zn.data):yt.isCompressedArrayTexture?ge.compressedTexSubImage3D(cr,vt,ut.x,ut.y,ut.z,pn,An,Kn,dr,Zn.data):ge.texSubImage3D(cr,vt,ut.x,ut.y,ut.z,pn,An,Kn,dr,fr,Zn),ge.pixelStorei(ge.UNPACK_ROW_LENGTH,br),ge.pixelStorei(ge.UNPACK_IMAGE_HEIGHT,ar),ge.pixelStorei(ge.UNPACK_SKIP_PIXELS,No),ge.pixelStorei(ge.UNPACK_SKIP_ROWS,hi),ge.pixelStorei(ge.UNPACK_SKIP_IMAGES,Yr),vt===0&&yt.generateMipmaps&&ge.generateMipmap(cr),Ct.unbindTexture()},this.initTexture=function(Ae){Ae.isCubeTexture?sn.setTextureCube(Ae,0):Ae.isData3DTexture?sn.setTexture3D(Ae,0):Ae.isDataArrayTexture||Ae.isCompressedArrayTexture?sn.setTexture2DArray(Ae,0):sn.setTexture2D(Ae,0),Ct.unbindTexture()},this.resetState=function(){R=0,L=0,F=null,Ct.reset(),ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return mh}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===VO?"display-p3":"srgb",n.unpackColorSpace=Ni.workingColorSpace===$E?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Que extends l8{}Que.prototype.isWebGL1Renderer=!0;class GO{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Fn(e),this.density=n}clone(){return new GO(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class qO{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Fn(e),this.near=n,this.far=r}clone(){return new qO(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ik extends xi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new xu,this.environmentRotation=new xu,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class YO{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=N2,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=fu()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Bue("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fu()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Dl=new Oe;class $0{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Dl.fromBufferAttribute(this,n),Dl.applyMatrix4(e),this.setXYZ(n,Dl.x,Dl.y,Dl.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Dl.fromBufferAttribute(this,n),Dl.applyNormalMatrix(e),this.setXYZ(n,Dl.x,Dl.y,Dl.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Dl.fromBufferAttribute(this,n),Dl.transformDirection(e),this.setXYZ(n,Dl.x,Dl.y,Dl.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Vl(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Rr(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Rr(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Rr(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Rr(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Rr(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Vl(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Vl(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Vl(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Vl(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rr(n,this.array),r=Rr(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rr(n,this.array),r=Rr(r,this.array),i=Rr(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rr(n,this.array),r=Rr(r,this.array),i=Rr(i,this.array),o=Rr(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new Qi(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new $0(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class c8 extends ja{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Fn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let e_;const iS=new Oe,t_=new Oe,n_=new Oe,r_=new Ht,oS=new Ht,ede=new _r,BC=new Oe,sS=new Oe,FC=new Oe,sZ=new Ht,LN=new Ht,aZ=new Ht;class tde extends xi{constructor(e=new c8){if(super(),this.isSprite=!0,this.type="Sprite",e_===void 0){e_=new Dr;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new YO(n,5);e_.setIndex([0,1,2,0,2,3]),e_.setAttribute("position",new $0(r,3,0,!1)),e_.setAttribute("uv",new $0(r,2,3,!1))}this.geometry=e_,this.material=e,this.center=new Ht(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),t_.setFromMatrixScale(this.matrixWorld),ede.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),n_.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&t_.multiplyScalar(-n_.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;$C(BC.set(-.5,-.5,0),n_,a,t_,i,o),$C(sS.set(.5,-.5,0),n_,a,t_,i,o),$C(FC.set(.5,.5,0),n_,a,t_,i,o),sZ.set(0,0),LN.set(1,0),aZ.set(1,1);let s=e.ray.intersectTriangle(BC,sS,FC,!1,iS);if(s===null&&($C(sS.set(-.5,.5,0),n_,a,t_,i,o),LN.set(0,1),s=e.ray.intersectTriangle(BC,FC,sS,!1,iS),s===null))return;const l=e.ray.origin.distanceTo(iS);l<e.near||l>e.far||n.push({distance:l,point:iS.clone(),uv:su.getInterpolation(iS,BC,sS,FC,sZ,LN,aZ,new Ht),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function $C(t,e,n,r,i,o){r_.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(oS.x=o*r_.x-i*r_.y,oS.y=i*r_.x+o*r_.y):oS.copy(r_),t.copy(e),t.x+=oS.x,t.y+=oS.y,t.applyMatrix4(ede)}const jC=new Oe,lZ=new Oe;class nde extends xi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){jC.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(jC);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){jC.setFromMatrixPosition(e.matrixWorld),lZ.setFromMatrixPosition(this.matrixWorld);const r=jC.distanceTo(lZ)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const cZ=new Oe,uZ=new zi,dZ=new zi,Ryt=new Oe,fZ=new _r,UC=new Oe,DN=new xl,hZ=new _r,NN=new Cy;class rde extends Os{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=y4,this.bindMatrix=new _r,this.bindMatrixInverse=new _r,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Yl),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,UC),this.boundingBox.expandByPoint(UC)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new xl),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,UC),this.boundingSphere.expandByPoint(UC)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),DN.copy(this.boundingSphere),DN.applyMatrix4(i),e.ray.intersectsSphere(DN)!==!1&&(hZ.copy(i).invert(),NN.copy(e.ray).applyMatrix4(hZ),!(this.boundingBox!==null&&NN.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,NN)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zi,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===y4?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===pue?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;uZ.fromBufferAttribute(i.attributes.skinIndex,e),dZ.fromBufferAttribute(i.attributes.skinWeight,e),cZ.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=dZ.getComponent(o);if(a!==0){const s=uZ.getComponent(o);fZ.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(Ryt.copy(cZ).applyMatrix4(fZ),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class u8 extends xi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ny extends qo{constructor(e=null,n=1,r=1,i,o,a,s,l,c=xs,h=xs,p,g){super(null,a,s,l,c,h,i,o,p,g),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const pZ=new _r,Oyt=new _r;class XO{constructor(e=[],n=[]){this.uuid=fu(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new _r)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new _r;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:Oyt;pZ.multiplyMatrices(s,n[o]),pZ.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new XO(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new ny(n,e,e,Ul,ou);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new u8),this.bones.push(a),this.boneInverses.push(new _r().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class r1 extends Qi{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const i_=new _r,mZ=new _r,VC=[],gZ=new Yl,Lyt=new _r,aS=new Os,lS=new xl;class ide extends Os{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new r1(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Lyt)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Yl),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,i_),gZ.copy(e.boundingBox).applyMatrix4(i_),this.boundingBox.union(gZ)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new xl),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,i_),lS.copy(e.boundingSphere).applyMatrix4(i_),this.boundingSphere.union(lS)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,a=e*o+1;for(let s=0;s<r.length;s++)r[s]=i[a+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(aS.geometry=this.geometry,aS.material=this.material,aS.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),lS.copy(this.boundingSphere),lS.applyMatrix4(r),e.ray.intersectsSphere(lS)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,i_),mZ.multiplyMatrices(r,i_),aS.matrixWorld=mZ,aS.raycast(e,VC);for(let a=0,s=VC.length;a<s;a++){const l=VC[a];l.instanceId=o,l.object=this,n.push(l)}VC.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new r1(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new ny(new Float32Array(i*this.count),i,this.count,G6,ou));const o=this.morphTexture.source.data.data;let a=0;for(let c=0;c<r.length;c++)a+=r[c];const s=this.geometry.morphTargetsRelative?1:1-a,l=i*e;o[l]=s,o.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function Dyt(t,e){return t.z-e.z}function Nyt(t,e){return e.z-t.z}class zyt{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n}reset(){this.list.length=0,this.index=0}}const o_="batchId",fg=new _r,yZ=new _r,Byt=new _r,vZ=new _r,zN=new VE,WC=new Yl,Ev=new xl,cS=new Oe,BN=new zyt,al=new Os,HC=[];function Fyt(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class ode extends Os{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Dr,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new ny(n,e,e,Ul,ou);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const l=e.getAttribute(s),{array:c,itemSize:h,normalized:p}=l,g=new c.constructor(r*h),v=new l.constructor(g,h,p);v.setUsage(l.usage),n.setAttribute(s,v)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(o):new Uint16Array(o);n.setIndex(new Qi(s,1))}const a=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(o_,new Qi(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(o_))throw new Error(`BatchedMesh: Geometry cannot use attribute "${o_}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===o_)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yl);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,fg),this.getBoundingBoxAt(i,WC).applyMatrix4(fg),n.union(WC))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xl);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,fg),this.getBoundingSphereAt(i,Ev).applyMatrix4(fg),n.union(Ev))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const a=this._reservedRanges,s=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=a[a.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const c=e.getIndex(),h=c!==null;if(h&&(r===-1?i.indexCount=c.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const p=this._visibility,g=this._active,v=this._matricesTexture,x=this._matricesTexture.image.data;p.push(!0),g.push(!0);const _=this._geometryCount;this._geometryCount++,Byt.toArray(x,_*16),v.needsUpdate=!0,a.push(i),s.push({start:h?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Yl,sphereInitialized:!1,sphere:new xl});const S=this.geometry.getAttribute(o_);for(let w=0;w<i.vertexCount;w++)S.setX(i.vertexStart+w,_);return S.needsUpdate=!0,this.setGeometryAt(_,e),_}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._reservedRanges[e];if(i&&a.count>s.indexCount||n.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,c=s.vertexCount;for(const v in r.attributes){if(v===o_)continue;const x=n.getAttribute(v),_=r.getAttribute(v);Fyt(x,_,l);const S=x.itemSize;for(let w=x.count,C=c;w<C;w++){const T=l+w;for(let k=0;k<S;k++)_.setComponent(T,k,0)}_.needsUpdate=!0}if(i){const v=s.indexStart;for(let x=0;x<a.count;x++)o.setX(v+x,l+a.getX(x));for(let x=a.count,_=s.indexCount;x<_;x++)o.setX(v+x,l);o.needsUpdate=!0}const h=this._bounds[e];n.boundingBox!==null?(h.box.copy(n.boundingBox),h.boxInitialized=!0):h.boxInitialized=!1,n.boundingSphere!==null?(h.sphere.copy(n.boundingSphere),h.sphereInitialized=!0):h.sphereInitialized=!1;const p=this._drawRanges[e],g=n.getAttribute("position");return p.count=i?a.count:g.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.box,a=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const s=a.index,l=a.attributes.position,c=this._drawRanges[e];for(let h=c.start,p=c.start+c.count;h<p;h++){let g=h;s&&(g=s.getX(g)),o.expandByPoint(cS.fromBufferAttribute(l,g))}i.boxInitialized=!0}return n.copy(o),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,WC),WC.getCenter(o.center);const s=a.index,l=a.attributes.position,c=this._drawRanges[e];let h=0;for(let p=c.start,g=c.start+c.count;p<g;p++){let v=p;s&&(v=s.getX(v)),cS.fromBufferAttribute(l,v),h=Math.max(h,o.center.distanceToSquared(cS))}o.radius=Math.sqrt(h),i.sphereInitialized=!0}return n.copy(o),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,o=this._drawRanges,a=this._geometryCount,s=this.matrixWorld,l=this.geometry;al.material=this.material,al.geometry.index=l.index,al.geometry.attributes=l.attributes,al.geometry.boundingBox===null&&(al.geometry.boundingBox=new Yl),al.geometry.boundingSphere===null&&(al.geometry.boundingSphere=new xl);for(let c=0;c<a;c++){if(!r[c]||!i[c])continue;const h=o[c];al.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(c,al.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,al.geometry.boundingBox),this.getBoundingSphereAt(c,al.geometry.boundingSphere),al.raycast(e,HC);for(let p=0,g=HC.length;p<g;p++){const v=HC[p];v.object=this,v.batchId=c,n.push(v)}HC.length=0}al.material=null,al.geometry.index=null,al.geometry.attributes={},al.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,h=this._multiDrawStarts,p=this._multiDrawCounts,g=this._drawRanges,v=this.perObjectFrustumCulled;v&&(vZ.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),zN.setFromProjectionMatrix(vZ,e.coordinateSystem));let x=0;if(this.sortObjects){yZ.copy(this.matrixWorld).invert(),cS.setFromMatrixPosition(r.matrixWorld).applyMatrix4(yZ);for(let w=0,C=c.length;w<C;w++)if(c[w]&&l[w]){this.getMatrixAt(w,fg),this.getBoundingSphereAt(w,Ev).applyMatrix4(fg);let T=!1;if(v&&(T=!zN.intersectsSphere(Ev)),!T){const k=cS.distanceTo(Ev.center);BN.push(g[w],k)}}const _=BN.list,S=this.customSort;S===null?_.sort(o.transparent?Nyt:Dyt):S.call(this,_,r);for(let w=0,C=_.length;w<C;w++){const T=_[w];h[x]=T.start*s,p[x]=T.count,x++}BN.reset()}else for(let _=0,S=c.length;_<S;_++)if(c[_]&&l[_]){let w=!1;if(v&&(this.getMatrixAt(_,fg),this.getBoundingSphereAt(_,Ev).applyMatrix4(fg),w=!zN.intersectsSphere(Ev)),!w){const C=g[_];h[x]=C.start*s,p[x]=C.count,x++}}this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class Ql extends ja{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Fn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const xZ=new Oe,_Z=new Oe,bZ=new _r,FN=new Cy,GC=new xl;class fy extends xi{constructor(e=new Dr,n=new Ql){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)xZ.fromBufferAttribute(n,i-1),_Z.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=xZ.distanceTo(_Z);e.setAttribute("lineDistance",new ir(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),GC.copy(r.boundingSphere),GC.applyMatrix4(i),GC.radius+=o,e.ray.intersectsSphere(GC)===!1)return;bZ.copy(i).invert(),FN.copy(e.ray).applyMatrix4(bZ);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=new Oe,h=new Oe,p=new Oe,g=new Oe,v=this.isLineSegments?2:1,x=r.index,S=r.attributes.position;if(x!==null){const w=Math.max(0,a.start),C=Math.min(x.count,a.start+a.count);for(let T=w,k=C-1;T<k;T+=v){const R=x.getX(T),L=x.getX(T+1);if(c.fromBufferAttribute(S,R),h.fromBufferAttribute(S,L),FN.distanceSqToSegment(c,h,g,p)>l)continue;g.applyMatrix4(this.matrixWorld);const H=e.ray.origin.distanceTo(g);H<e.near||H>e.far||n.push({distance:H,point:p.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,a.start),C=Math.min(S.count,a.start+a.count);for(let T=w,k=C-1;T<k;T+=v){if(c.fromBufferAttribute(S,T),h.fromBufferAttribute(S,T+1),FN.distanceSqToSegment(c,h,g,p)>l)continue;g.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(g);L<e.near||L>e.far||n.push({distance:L,point:p.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}const wZ=new Oe,SZ=new Oe;class $h extends fy{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)wZ.fromBufferAttribute(n,i),SZ.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+wZ.distanceTo(SZ);e.setAttribute("lineDistance",new ir(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class sde extends fy{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class d8 extends ja{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Fn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const MZ=new _r,Y4=new Cy,qC=new xl,YC=new Oe;class ade extends xi{constructor(e=new Dr,n=new d8){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),qC.copy(r.boundingSphere),qC.applyMatrix4(i),qC.radius+=o,e.ray.intersectsSphere(qC)===!1)return;MZ.copy(i).invert(),Y4.copy(e.ray).applyMatrix4(MZ);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,p=r.attributes.position;if(c!==null){const g=Math.max(0,a.start),v=Math.min(c.count,a.start+a.count);for(let x=g,_=v;x<_;x++){const S=c.getX(x);YC.fromBufferAttribute(p,S),EZ(YC,S,l,i,e,n,this)}}else{const g=Math.max(0,a.start),v=Math.min(p.count,a.start+a.count);for(let x=g,_=v;x<_;x++)YC.fromBufferAttribute(p,x),EZ(YC,x,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function EZ(t,e,n,r,i,o,a){const s=Y4.distanceSqToPoint(t);if(s<n){const l=new Oe;Y4.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}class $yt extends qo{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Vo,this.magFilter=o!==void 0?o:Vo,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class jyt extends qo{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=xs,this.minFilter=xs,this.generateMipmaps=!1,this.needsUpdate=!0}}class KO extends qo{constructor(e,n,r,i,o,a,s,l,c,h,p,g){super(null,a,s,l,c,h,i,o,p,g),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Uyt extends KO{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=hl}}class Vyt extends KO{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,tm),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Wyt extends qo{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Mf{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const h=r[i],g=r[i+1]-h,v=(a-h)/g;return(i+v)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new Ht:new Oe);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new Oe,i=[],o=[],a=[],s=new Oe,l=new _r;for(let v=0;v<=e;v++){const x=v/e;i[v]=this.getTangentAt(x,new Oe)}o[0]=new Oe,a[0]=new Oe;let c=Number.MAX_VALUE;const h=Math.abs(i[0].x),p=Math.abs(i[0].y),g=Math.abs(i[0].z);h<=c&&(c=h,r.set(1,0,0)),p<=c&&(c=p,r.set(0,1,0)),g<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let v=1;v<=e;v++){if(o[v]=o[v-1].clone(),a[v]=a[v-1].clone(),s.crossVectors(i[v-1],i[v]),s.length()>Number.EPSILON){s.normalize();const x=Math.acos(is(i[v-1].dot(i[v]),-1,1));o[v].applyMatrix4(l.makeRotationAxis(s,x))}a[v].crossVectors(i[v],o[v])}if(n===!0){let v=Math.acos(is(o[0].dot(o[e]),-1,1));v/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(v=-v);for(let x=1;x<=e;x++)o[x].applyMatrix4(l.makeRotationAxis(i[x],v*x)),a[x].crossVectors(i[x],o[x])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ZO extends Mf{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new Ht){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),g=l-this.aX,v=c-this.aY;l=g*h-v*p+this.aX,c=g*p+v*h+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class lde extends ZO{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function f8(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,h,p){let g=(a-o)/c-(s-o)/(c+h)+(s-a)/h,v=(s-a)/h-(l-a)/(h+p)+(l-s)/p;g*=h,v*=h,i(a,s,g,v)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const XC=new Oe,$N=new f8,jN=new f8,UN=new f8;class cde extends Mf{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new Oe){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,h;this.closed||s>0?c=i[(s-1)%o]:(XC.subVectors(i[0],i[1]).add(i[0]),c=XC);const p=i[s%o],g=i[(s+1)%o];if(this.closed||s+2<o?h=i[(s+2)%o]:(XC.subVectors(i[o-1],i[o-2]).add(i[o-1]),h=XC),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let x=Math.pow(c.distanceToSquared(p),v),_=Math.pow(p.distanceToSquared(g),v),S=Math.pow(g.distanceToSquared(h),v);_<1e-4&&(_=1),x<1e-4&&(x=_),S<1e-4&&(S=_),$N.initNonuniformCatmullRom(c.x,p.x,g.x,h.x,x,_,S),jN.initNonuniformCatmullRom(c.y,p.y,g.y,h.y,x,_,S),UN.initNonuniformCatmullRom(c.z,p.z,g.z,h.z,x,_,S)}else this.curveType==="catmullrom"&&($N.initCatmullRom(c.x,p.x,g.x,h.x,this.tension),jN.initCatmullRom(c.y,p.y,g.y,h.y,this.tension),UN.initCatmullRom(c.z,p.z,g.z,h.z,this.tension));return r.set($N.calc(l),jN.calc(l),UN.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Oe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function TZ(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function Hyt(t,e){const n=1-t;return n*n*e}function Gyt(t,e){return 2*(1-t)*t*e}function qyt(t,e){return t*t*e}function nM(t,e,n,r){return Hyt(t,e)+Gyt(t,n)+qyt(t,r)}function Yyt(t,e){const n=1-t;return n*n*n*e}function Xyt(t,e){const n=1-t;return 3*n*n*t*e}function Kyt(t,e){return 3*(1-t)*t*t*e}function Zyt(t,e){return t*t*t*e}function rM(t,e,n,r,i){return Yyt(t,e)+Xyt(t,n)+Kyt(t,r)+Zyt(t,i)}class h8 extends Mf{constructor(e=new Ht,n=new Ht,r=new Ht,i=new Ht){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ht){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(rM(e,i.x,o.x,a.x,s.x),rM(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ude extends Mf{constructor(e=new Oe,n=new Oe,r=new Oe,i=new Oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Oe){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(rM(e,i.x,o.x,a.x,s.x),rM(e,i.y,o.y,a.y,s.y),rM(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class p8 extends Mf{constructor(e=new Ht,n=new Ht){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ht){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ht){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dde extends Mf{constructor(e=new Oe,n=new Oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Oe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Oe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class m8 extends Mf{constructor(e=new Ht,n=new Ht,r=new Ht){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ht){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(nM(e,i.x,o.x,a.x),nM(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class g8 extends Mf{constructor(e=new Oe,n=new Oe,r=new Oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Oe){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(nM(e,i.x,o.x,a.x),nM(e,i.y,o.y,a.y),nM(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class y8 extends Mf{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ht){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],h=i[a>i.length-2?i.length-1:a+1],p=i[a>i.length-3?i.length-1:a+2];return r.set(TZ(s,l.x,c.x,h.x,p.x),TZ(s,l.y,c.y,h.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ht().fromArray(i))}return this}}var ok=Object.freeze({__proto__:null,ArcCurve:lde,CatmullRomCurve3:cde,CubicBezierCurve:h8,CubicBezierCurve3:ude,EllipseCurve:ZO,LineCurve:p8,LineCurve3:dde,QuadraticBezierCurve:m8,QuadraticBezierCurve3:g8,SplineCurve:y8});class fde extends Mf{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new ok[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const h=l[c];r&&r.equals(h)||(n.push(h),r=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new ok[i.type]().fromJSON(i))}return this}}class F2 extends fde{constructor(e){super(),this.type="Path",this.currentPoint=new Ht,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new p8(this.currentPoint.clone(),new Ht(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new m8(this.currentPoint.clone(),new Ht(e,n),new Ht(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new h8(this.currentPoint.clone(),new Ht(e,n),new Ht(r,i),new Ht(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new y8(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,n+h,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new ZO(e,n,r,i,o,a,s,l);if(this.curves.length>0){const p=c.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class WE extends Dr{constructor(e=[new Ht(0,-.5),new Ht(.5,0),new Ht(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=is(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],c=[],h=1/n,p=new Oe,g=new Ht,v=new Oe,x=new Oe,_=new Oe;let S=0,w=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:S=e[C+1].x-e[C].x,w=e[C+1].y-e[C].y,v.x=w*1,v.y=-S,v.z=w*0,_.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:S=e[C+1].x-e[C].x,w=e[C+1].y-e[C].y,v.x=w*1,v.y=-S,v.z=w*0,x.copy(v),v.x+=_.x,v.y+=_.y,v.z+=_.z,v.normalize(),l.push(v.x,v.y,v.z),_.copy(x)}for(let C=0;C<=n;C++){const T=r+C*h*i,k=Math.sin(T),R=Math.cos(T);for(let L=0;L<=e.length-1;L++){p.x=e[L].x*k,p.y=e[L].y,p.z=e[L].x*R,a.push(p.x,p.y,p.z),g.x=C/n,g.y=L/(e.length-1),s.push(g.x,g.y);const F=l[3*L+0]*k,H=l[3*L+1],Z=l[3*L+0]*R;c.push(F,H,Z)}}for(let C=0;C<n;C++)for(let T=0;T<e.length-1;T++){const k=T+C*e.length,R=k,L=k+e.length,F=k+e.length+1,H=k+1;o.push(R,L,H),o.push(F,H,L)}this.setIndex(o),this.setAttribute("position",new ir(a,3)),this.setAttribute("uv",new ir(s,2)),this.setAttribute("normal",new ir(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WE(e.points,e.segments,e.phiStart,e.phiLength)}}class JO extends WE{constructor(e=1,n=1,r=4,i=8){const o=new F2;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new JO(e.radius,e.length,e.capSegments,e.radialSegments)}}class QO extends Dr{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new Oe,h=new Ht;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let p=0,g=3;p<=n;p++,g+=3){const v=r+p/n*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),a.push(c.x,c.y,c.z),s.push(0,0,1),h.x=(a[g]/e+1)/2,h.y=(a[g+1]/e+1)/2,l.push(h.x,h.y)}for(let p=1;p<=n;p++)o.push(p,p+1,0);this.setIndex(o),this.setAttribute("position",new ir(a,3)),this.setAttribute("normal",new ir(s,3)),this.setAttribute("uv",new ir(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QO(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class V1 extends Dr{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const h=[],p=[],g=[],v=[];let x=0;const _=[],S=r/2;let w=0;C(),a===!1&&(e>0&&T(!0),n>0&&T(!1)),this.setIndex(h),this.setAttribute("position",new ir(p,3)),this.setAttribute("normal",new ir(g,3)),this.setAttribute("uv",new ir(v,2));function C(){const k=new Oe,R=new Oe;let L=0;const F=(n-e)/r;for(let H=0;H<=o;H++){const Z=[],j=H/o,X=j*(n-e)+e;for(let le=0;le<=i;le++){const me=le/i,ie=me*l+s,ce=Math.sin(ie),fe=Math.cos(ie);R.x=X*ce,R.y=-j*r+S,R.z=X*fe,p.push(R.x,R.y,R.z),k.set(ce,F,fe).normalize(),g.push(k.x,k.y,k.z),v.push(me,1-j),Z.push(x++)}_.push(Z)}for(let H=0;H<i;H++)for(let Z=0;Z<o;Z++){const j=_[Z][H],X=_[Z+1][H],le=_[Z+1][H+1],me=_[Z][H+1];h.push(j,X,me),h.push(X,le,me),L+=6}c.addGroup(w,L,0),w+=L}function T(k){const R=x,L=new Ht,F=new Oe;let H=0;const Z=k===!0?e:n,j=k===!0?1:-1;for(let le=1;le<=i;le++)p.push(0,S*j,0),g.push(0,j,0),v.push(.5,.5),x++;const X=x;for(let le=0;le<=i;le++){const ie=le/i*l+s,ce=Math.cos(ie),fe=Math.sin(ie);F.x=Z*fe,F.y=S*j,F.z=Z*ce,p.push(F.x,F.y,F.z),g.push(0,j,0),L.x=ce*.5+.5,L.y=fe*.5*j+.5,v.push(L.x,L.y),x++}for(let le=0;le<i;le++){const me=R+le,ie=X+le;k===!0?h.push(ie,ie+1,me):h.push(ie+1,ie,me),H+=3}c.addGroup(w,H,k===!0?1:2),w+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new V1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class eL extends V1{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new eL(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Iy extends Dr{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),c(r),h(),this.setAttribute("position",new ir(o,3)),this.setAttribute("normal",new ir(o.slice(),3)),this.setAttribute("uv",new ir(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(C){const T=new Oe,k=new Oe,R=new Oe;for(let L=0;L<n.length;L+=3)v(n[L+0],T),v(n[L+1],k),v(n[L+2],R),l(T,k,R,C)}function l(C,T,k,R){const L=R+1,F=[];for(let H=0;H<=L;H++){F[H]=[];const Z=C.clone().lerp(k,H/L),j=T.clone().lerp(k,H/L),X=L-H;for(let le=0;le<=X;le++)le===0&&H===L?F[H][le]=Z:F[H][le]=Z.clone().lerp(j,le/X)}for(let H=0;H<L;H++)for(let Z=0;Z<2*(L-H)-1;Z++){const j=Math.floor(Z/2);Z%2===0?(g(F[H][j+1]),g(F[H+1][j]),g(F[H][j])):(g(F[H][j+1]),g(F[H+1][j+1]),g(F[H+1][j]))}}function c(C){const T=new Oe;for(let k=0;k<o.length;k+=3)T.x=o[k+0],T.y=o[k+1],T.z=o[k+2],T.normalize().multiplyScalar(C),o[k+0]=T.x,o[k+1]=T.y,o[k+2]=T.z}function h(){const C=new Oe;for(let T=0;T<o.length;T+=3){C.x=o[T+0],C.y=o[T+1],C.z=o[T+2];const k=S(C)/2/Math.PI+.5,R=w(C)/Math.PI+.5;a.push(k,1-R)}x(),p()}function p(){for(let C=0;C<a.length;C+=6){const T=a[C+0],k=a[C+2],R=a[C+4],L=Math.max(T,k,R),F=Math.min(T,k,R);L>.9&&F<.1&&(T<.2&&(a[C+0]+=1),k<.2&&(a[C+2]+=1),R<.2&&(a[C+4]+=1))}}function g(C){o.push(C.x,C.y,C.z)}function v(C,T){const k=C*3;T.x=e[k+0],T.y=e[k+1],T.z=e[k+2]}function x(){const C=new Oe,T=new Oe,k=new Oe,R=new Oe,L=new Ht,F=new Ht,H=new Ht;for(let Z=0,j=0;Z<o.length;Z+=9,j+=6){C.set(o[Z+0],o[Z+1],o[Z+2]),T.set(o[Z+3],o[Z+4],o[Z+5]),k.set(o[Z+6],o[Z+7],o[Z+8]),L.set(a[j+0],a[j+1]),F.set(a[j+2],a[j+3]),H.set(a[j+4],a[j+5]),R.copy(C).add(T).add(k).divideScalar(3);const X=S(R);_(L,j+0,C,X),_(F,j+2,T,X),_(H,j+4,k,X)}}function _(C,T,k,R){R<0&&C.x===1&&(a[T]=C.x-1),k.x===0&&k.z===0&&(a[T]=R/2/Math.PI+.5)}function S(C){return Math.atan2(C.z,-C.x)}function w(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Iy(e.vertices,e.indices,e.radius,e.details)}}class HE extends Iy{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new HE(e.radius,e.detail)}}const KC=new Oe,ZC=new Oe,VN=new Oe,JC=new su;class hde extends Dr{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(b0*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],h=["a","b","c"],p=new Array(3),g={},v=[];for(let x=0;x<l;x+=3){a?(c[0]=a.getX(x),c[1]=a.getX(x+1),c[2]=a.getX(x+2)):(c[0]=x,c[1]=x+1,c[2]=x+2);const{a:_,b:S,c:w}=JC;if(_.fromBufferAttribute(s,c[0]),S.fromBufferAttribute(s,c[1]),w.fromBufferAttribute(s,c[2]),JC.getNormal(VN),p[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,p[1]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,p[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let C=0;C<3;C++){const T=(C+1)%3,k=p[C],R=p[T],L=JC[h[C]],F=JC[h[T]],H=`${k}_${R}`,Z=`${R}_${k}`;Z in g&&g[Z]?(VN.dot(g[Z].normal)<=o&&(v.push(L.x,L.y,L.z),v.push(F.x,F.y,F.z)),g[Z]=null):H in g||(g[H]={index0:c[C],index1:c[T],normal:VN.clone()})}}for(const x in g)if(g[x]){const{index0:_,index1:S}=g[x];KC.fromBufferAttribute(s,_),ZC.fromBufferAttribute(s,S),v.push(KC.x,KC.y,KC.z),v.push(ZC.x,ZC.y,ZC.z)}this.setAttribute("position",new ir(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class S0 extends F2{constructor(e){super(e),this.uuid=fu(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new F2().fromJSON(i))}return this}}const Jyt={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=pde(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,h,p,g,v;if(r&&(o=rvt(t,e,o,n)),t.length>80*n){s=c=t[0],l=h=t[1];for(let x=n;x<i;x+=n)p=t[x],g=t[x+1],p<s&&(s=p),g<l&&(l=g),p>c&&(c=p),g>h&&(h=g);v=Math.max(c-s,h-l),v=v!==0?32767/v:0}return $2(o,a,n,s,l,v,0),a}};function pde(t,e,n,r,i){let o,a;if(i===pvt(t,e,n,r)>0)for(o=e;o<n;o+=r)a=CZ(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=CZ(o,t[o],t[o+1],a);return a&&tL(a,a.next)&&(U2(a),a=a.next),a}function j0(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(tL(n,n.next)||Ho(n.prev,n,n.next)===0)){if(U2(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function $2(t,e,n,r,i,o,a){if(!t)return;!a&&o&&lvt(t,r,i,o);let s=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?evt(t,r,i,o):Qyt(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),U2(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=tvt(j0(t),e,n),$2(t,e,n,r,i,o,2)):a===2&&nvt(t,e,n,r,i,o):$2(j0(t),e,n,r,i,o,1);break}}}function Qyt(t){const e=t.prev,n=t,r=t.next;if(Ho(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,h=i<o?i<a?i:a:o<a?o:a,p=s<l?s<c?s:c:l<c?l:c,g=i>o?i>a?i:a:o>a?o:a,v=s>l?s>c?s:c:l>c?l:c;let x=r.next;for(;x!==e;){if(x.x>=h&&x.x<=g&&x.y>=p&&x.y<=v&&U_(i,s,o,l,a,c,x.x,x.y)&&Ho(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function evt(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Ho(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,h=i.y,p=o.y,g=a.y,v=s<l?s<c?s:c:l<c?l:c,x=h<p?h<g?h:g:p<g?p:g,_=s>l?s>c?s:c:l>c?l:c,S=h>p?h>g?h:g:p>g?p:g,w=X4(v,x,e,n,r),C=X4(_,S,e,n,r);let T=t.prevZ,k=t.nextZ;for(;T&&T.z>=w&&k&&k.z<=C;){if(T.x>=v&&T.x<=_&&T.y>=x&&T.y<=S&&T!==i&&T!==a&&U_(s,h,l,p,c,g,T.x,T.y)&&Ho(T.prev,T,T.next)>=0||(T=T.prevZ,k.x>=v&&k.x<=_&&k.y>=x&&k.y<=S&&k!==i&&k!==a&&U_(s,h,l,p,c,g,k.x,k.y)&&Ho(k.prev,k,k.next)>=0))return!1;k=k.nextZ}for(;T&&T.z>=w;){if(T.x>=v&&T.x<=_&&T.y>=x&&T.y<=S&&T!==i&&T!==a&&U_(s,h,l,p,c,g,T.x,T.y)&&Ho(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;k&&k.z<=C;){if(k.x>=v&&k.x<=_&&k.y>=x&&k.y<=S&&k!==i&&k!==a&&U_(s,h,l,p,c,g,k.x,k.y)&&Ho(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function tvt(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!tL(i,o)&&mde(i,r,r.next,o)&&j2(i,o)&&j2(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),U2(r),U2(r.next),r=t=o),r=r.next}while(r!==t);return j0(r)}function nvt(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&dvt(a,s)){let l=gde(a,s);a=j0(a,a.next),l=j0(l,l.next),$2(a,e,n,r,i,o,0),$2(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function rvt(t,e,n,r){const i=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=pde(t,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(uvt(c));for(i.sort(ivt),o=0;o<i.length;o++)n=ovt(i[o],n);return n}function ivt(t,e){return t.x-e.x}function ovt(t,e){const n=svt(t,e);if(!n)return e;const r=gde(n,t);return j0(r,r.next),j0(n,n.next)}function svt(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const g=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=o&&g>r&&(r=g,i=n.x<n.next.x?n:n.next,g===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,c=i.y;let h=1/0,p;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&U_(a<c?o:r,a,l,c,a<c?r:o,a,n.x,n.y)&&(p=Math.abs(a-n.y)/(o-n.x),j2(n,t)&&(p<h||p===h&&(n.x>i.x||n.x===i.x&&avt(i,n)))&&(i=n,h=p)),n=n.next;while(n!==s);return i}function avt(t,e){return Ho(t.prev,t,e.prev)<0&&Ho(e.next,t,t.next)<0}function lvt(t,e,n,r){let i=t;do i.z===0&&(i.z=X4(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,cvt(i)}function cvt(t){let e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return t}function X4(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function uvt(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function U_(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function dvt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!fvt(t,e)&&(j2(t,e)&&j2(e,t)&&hvt(t,e)&&(Ho(t.prev,t,e.prev)||Ho(t,e.prev,e))||tL(t,e)&&Ho(t.prev,t,t.next)>0&&Ho(e.prev,e,e.next)>0)}function Ho(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function tL(t,e){return t.x===e.x&&t.y===e.y}function mde(t,e,n,r){const i=eA(Ho(t,e,n)),o=eA(Ho(t,e,r)),a=eA(Ho(n,r,t)),s=eA(Ho(n,r,e));return!!(i!==o&&a!==s||i===0&&QC(t,n,e)||o===0&&QC(t,r,e)||a===0&&QC(n,t,r)||s===0&&QC(n,e,r))}function QC(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function eA(t){return t>0?1:t<0?-1:0}function fvt(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&mde(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function j2(t,e){return Ho(t.prev,t,t.next)<0?Ho(t,e,t.next)>=0&&Ho(t,t.prev,e)>=0:Ho(t,e,t.prev)<0||Ho(t,t.next,e)<0}function hvt(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function gde(t,e){const n=new K4(t.i,t.x,t.y),r=new K4(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function CZ(t,e,n,r){const i=new K4(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function U2(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function K4(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function pvt(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class Ch{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Ch.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];AZ(e),PZ(r,e);let a=e.length;n.forEach(AZ);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,PZ(r,n[l]);const s=Jyt.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function AZ(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function PZ(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class nL extends Dr{constructor(e=new S0([new Ht(.5,.5),new Ht(-.5,.5),new Ht(-.5,-.5),new Ht(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new ir(i,3)),this.setAttribute("uv",new ir(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1,p=n.depth!==void 0?n.depth:1;let g=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,x=n.bevelSize!==void 0?n.bevelSize:v-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,C=n.UVGenerator!==void 0?n.UVGenerator:mvt;let T,k=!1,R,L,F,H;w&&(T=w.getSpacedPoints(h),k=!0,g=!1,R=w.computeFrenetFrames(h,!1),L=new Oe,F=new Oe,H=new Oe),g||(S=0,v=0,x=0,_=0);const Z=s.extractPoints(c);let j=Z.shape;const X=Z.holes;if(!Ch.isClockWise(j)){j=j.reverse();for(let ge=0,et=X.length;ge<et;ge++){const ot=X[ge];Ch.isClockWise(ot)&&(X[ge]=ot.reverse())}}const me=Ch.triangulateShape(j,X),ie=j;for(let ge=0,et=X.length;ge<et;ge++){const ot=X[ge];j=j.concat(ot)}function ce(ge,et,ot){return et||console.error("THREE.ExtrudeGeometry: vec does not exist"),ge.clone().addScaledVector(et,ot)}const fe=j.length,xe=me.length;function te(ge,et,ot){let Tt,Ct,Ft;const Gt=ge.x-et.x,sn=ge.y-et.y,Je=ot.x-ge.x,Ce=ot.y-ge.y,_e=Gt*Gt+sn*sn,ht=Gt*Ce-sn*Je;if(Math.abs(ht)>Number.EPSILON){const dt=Math.sqrt(_e),Wt=Math.sqrt(Je*Je+Ce*Ce),jt=et.x-sn/dt,Mn=et.y+Gt/dt,cn=ot.x-Ce/Wt,Rt=ot.y+Je/Wt,nn=((cn-jt)*Ce-(Rt-Mn)*Je)/(Gt*Ce-sn*Je);Tt=jt+Gt*nn-ge.x,Ct=Mn+sn*nn-ge.y;const Pn=Tt*Tt+Ct*Ct;if(Pn<=2)return new Ht(Tt,Ct);Ft=Math.sqrt(Pn/2)}else{let dt=!1;Gt>Number.EPSILON?Je>Number.EPSILON&&(dt=!0):Gt<-Number.EPSILON?Je<-Number.EPSILON&&(dt=!0):Math.sign(sn)===Math.sign(Ce)&&(dt=!0),dt?(Tt=-sn,Ct=Gt,Ft=Math.sqrt(_e)):(Tt=Gt,Ct=sn,Ft=Math.sqrt(_e/2))}return new Ht(Tt/Ft,Ct/Ft)}const he=[];for(let ge=0,et=ie.length,ot=et-1,Tt=ge+1;ge<et;ge++,ot++,Tt++)ot===et&&(ot=0),Tt===et&&(Tt=0),he[ge]=te(ie[ge],ie[ot],ie[Tt]);const ve=[];let ze,Ue=he.concat();for(let ge=0,et=X.length;ge<et;ge++){const ot=X[ge];ze=[];for(let Tt=0,Ct=ot.length,Ft=Ct-1,Gt=Tt+1;Tt<Ct;Tt++,Ft++,Gt++)Ft===Ct&&(Ft=0),Gt===Ct&&(Gt=0),ze[Tt]=te(ot[Tt],ot[Ft],ot[Gt]);ve.push(ze),Ue=Ue.concat(ze)}for(let ge=0;ge<S;ge++){const et=ge/S,ot=v*Math.cos(et*Math.PI/2),Tt=x*Math.sin(et*Math.PI/2)+_;for(let Ct=0,Ft=ie.length;Ct<Ft;Ct++){const Gt=ce(ie[Ct],he[Ct],Tt);Dt(Gt.x,Gt.y,-ot)}for(let Ct=0,Ft=X.length;Ct<Ft;Ct++){const Gt=X[Ct];ze=ve[Ct];for(let sn=0,Je=Gt.length;sn<Je;sn++){const Ce=ce(Gt[sn],ze[sn],Tt);Dt(Ce.x,Ce.y,-ot)}}}const rt=x+_;for(let ge=0;ge<fe;ge++){const et=g?ce(j[ge],Ue[ge],rt):j[ge];k?(F.copy(R.normals[0]).multiplyScalar(et.x),L.copy(R.binormals[0]).multiplyScalar(et.y),H.copy(T[0]).add(F).add(L),Dt(H.x,H.y,H.z)):Dt(et.x,et.y,0)}for(let ge=1;ge<=h;ge++)for(let et=0;et<fe;et++){const ot=g?ce(j[et],Ue[et],rt):j[et];k?(F.copy(R.normals[ge]).multiplyScalar(ot.x),L.copy(R.binormals[ge]).multiplyScalar(ot.y),H.copy(T[ge]).add(F).add(L),Dt(H.x,H.y,H.z)):Dt(ot.x,ot.y,p/h*ge)}for(let ge=S-1;ge>=0;ge--){const et=ge/S,ot=v*Math.cos(et*Math.PI/2),Tt=x*Math.sin(et*Math.PI/2)+_;for(let Ct=0,Ft=ie.length;Ct<Ft;Ct++){const Gt=ce(ie[Ct],he[Ct],Tt);Dt(Gt.x,Gt.y,p+ot)}for(let Ct=0,Ft=X.length;Ct<Ft;Ct++){const Gt=X[Ct];ze=ve[Ct];for(let sn=0,Je=Gt.length;sn<Je;sn++){const Ce=ce(Gt[sn],ze[sn],Tt);k?Dt(Ce.x,Ce.y+T[h-1].y,T[h-1].x+ot):Dt(Ce.x,Ce.y,p+ot)}}}Fe(),st();function Fe(){const ge=i.length/3;if(g){let et=0,ot=fe*et;for(let Tt=0;Tt<xe;Tt++){const Ct=me[Tt];zt(Ct[2]+ot,Ct[1]+ot,Ct[0]+ot)}et=h+S*2,ot=fe*et;for(let Tt=0;Tt<xe;Tt++){const Ct=me[Tt];zt(Ct[0]+ot,Ct[1]+ot,Ct[2]+ot)}}else{for(let et=0;et<xe;et++){const ot=me[et];zt(ot[2],ot[1],ot[0])}for(let et=0;et<xe;et++){const ot=me[et];zt(ot[0]+fe*h,ot[1]+fe*h,ot[2]+fe*h)}}r.addGroup(ge,i.length/3-ge,0)}function st(){const ge=i.length/3;let et=0;ct(ie,et),et+=ie.length;for(let ot=0,Tt=X.length;ot<Tt;ot++){const Ct=X[ot];ct(Ct,et),et+=Ct.length}r.addGroup(ge,i.length/3-ge,1)}function ct(ge,et){let ot=ge.length;for(;--ot>=0;){const Tt=ot;let Ct=ot-1;Ct<0&&(Ct=ge.length-1);for(let Ft=0,Gt=h+S*2;Ft<Gt;Ft++){const sn=fe*Ft,Je=fe*(Ft+1),Ce=et+Tt+sn,_e=et+Ct+sn,ht=et+Ct+Je,dt=et+Tt+Je;Be(Ce,_e,ht,dt)}}}function Dt(ge,et,ot){l.push(ge),l.push(et),l.push(ot)}function zt(ge,et,ot){lt(ge),lt(et),lt(ot);const Tt=i.length/3,Ct=C.generateTopUV(r,i,Tt-3,Tt-2,Tt-1);Qe(Ct[0]),Qe(Ct[1]),Qe(Ct[2])}function Be(ge,et,ot,Tt){lt(ge),lt(et),lt(Tt),lt(et),lt(ot),lt(Tt);const Ct=i.length/3,Ft=C.generateSideWallUV(r,i,Ct-6,Ct-3,Ct-2,Ct-1);Qe(Ft[0]),Qe(Ft[1]),Qe(Ft[3]),Qe(Ft[1]),Qe(Ft[2]),Qe(Ft[3])}function lt(ge){i.push(l[ge*3+0]),i.push(l[ge*3+1]),i.push(l[ge*3+2])}function Qe(ge){o.push(ge.x),o.push(ge.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return gvt(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new ok[i.type]().fromJSON(i)),new nL(r,e.options)}}const mvt={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],h=e[i*3+1];return[new Ht(o,a),new Ht(s,l),new Ht(c,h)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],h=e[r*3+1],p=e[r*3+2],g=e[i*3],v=e[i*3+1],x=e[i*3+2],_=e[o*3],S=e[o*3+1],w=e[o*3+2];return Math.abs(s-h)<Math.abs(a-c)?[new Ht(a,1-l),new Ht(c,1-p),new Ht(g,1-x),new Ht(_,1-w)]:[new Ht(s,1-l),new Ht(h,1-p),new Ht(v,1-x),new Ht(S,1-w)]}};function gvt(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class rL extends Iy{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new rL(e.radius,e.detail)}}class GE extends Iy{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new GE(e.radius,e.detail)}}class iL extends Dr{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],c=[],h=[];let p=e;const g=(n-e)/i,v=new Oe,x=new Ht;for(let _=0;_<=i;_++){for(let S=0;S<=r;S++){const w=o+S/r*a;v.x=p*Math.cos(w),v.y=p*Math.sin(w),l.push(v.x,v.y,v.z),c.push(0,0,1),x.x=(v.x/n+1)/2,x.y=(v.y/n+1)/2,h.push(x.x,x.y)}p+=g}for(let _=0;_<i;_++){const S=_*(r+1);for(let w=0;w<r;w++){const C=w+S,T=C,k=C+r+1,R=C+r+2,L=C+1;s.push(T,k,L),s.push(k,R,L)}}this.setIndex(s),this.setAttribute("position",new ir(l,3)),this.setAttribute("normal",new ir(c,3)),this.setAttribute("uv",new ir(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iL(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class oL extends Dr{constructor(e=new S0([new Ht(0,.5),new Ht(-.5,-.5),new Ht(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(s,l,h),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new ir(i,3)),this.setAttribute("normal",new ir(o,3)),this.setAttribute("uv",new ir(a,2));function c(h){const p=i.length/3,g=h.extractPoints(n);let v=g.shape;const x=g.holes;Ch.isClockWise(v)===!1&&(v=v.reverse());for(let S=0,w=x.length;S<w;S++){const C=x[S];Ch.isClockWise(C)===!0&&(x[S]=C.reverse())}const _=Ch.triangulateShape(v,x);for(let S=0,w=x.length;S<w;S++){const C=x[S];v=v.concat(C)}for(let S=0,w=v.length;S<w;S++){const C=v[S];i.push(C.x,C.y,0),o.push(0,0,1),a.push(C.x,C.y)}for(let S=0,w=_.length;S<w;S++){const C=_[S],T=C[0]+p,k=C[1]+p,R=C[2]+p;r.push(T,k,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return yvt(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new oL(r,e.curveSegments)}}function yvt(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class W1 extends Dr{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const h=[],p=new Oe,g=new Oe,v=[],x=[],_=[],S=[];for(let w=0;w<=r;w++){const C=[],T=w/r;let k=0;w===0&&a===0?k=.5/n:w===r&&l===Math.PI&&(k=-.5/n);for(let R=0;R<=n;R++){const L=R/n;p.x=-e*Math.cos(i+L*o)*Math.sin(a+T*s),p.y=e*Math.cos(a+T*s),p.z=e*Math.sin(i+L*o)*Math.sin(a+T*s),x.push(p.x,p.y,p.z),g.copy(p).normalize(),_.push(g.x,g.y,g.z),S.push(L+k,1-T),C.push(c++)}h.push(C)}for(let w=0;w<r;w++)for(let C=0;C<n;C++){const T=h[w][C+1],k=h[w][C],R=h[w+1][C],L=h[w+1][C+1];(w!==0||a>0)&&v.push(T,k,L),(w!==r-1||l<Math.PI)&&v.push(k,R,L)}this.setIndex(v),this.setAttribute("position",new ir(x,3)),this.setAttribute("normal",new ir(_,3)),this.setAttribute("uv",new ir(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class sL extends Iy{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sL(e.radius,e.detail)}}class aL extends Dr{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],c=[],h=new Oe,p=new Oe,g=new Oe;for(let v=0;v<=r;v++)for(let x=0;x<=i;x++){const _=x/i*o,S=v/r*Math.PI*2;p.x=(e+n*Math.cos(S))*Math.cos(_),p.y=(e+n*Math.cos(S))*Math.sin(_),p.z=n*Math.sin(S),s.push(p.x,p.y,p.z),h.x=e*Math.cos(_),h.y=e*Math.sin(_),g.subVectors(p,h).normalize(),l.push(g.x,g.y,g.z),c.push(x/i),c.push(v/r)}for(let v=1;v<=r;v++)for(let x=1;x<=i;x++){const _=(i+1)*v+x-1,S=(i+1)*(v-1)+x-1,w=(i+1)*(v-1)+x,C=(i+1)*v+x;a.push(_,S,C),a.push(S,w,C)}this.setIndex(a),this.setAttribute("position",new ir(s,3)),this.setAttribute("normal",new ir(l,3)),this.setAttribute("uv",new ir(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aL(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class lL extends Dr{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],c=[],h=[],p=new Oe,g=new Oe,v=new Oe,x=new Oe,_=new Oe,S=new Oe,w=new Oe;for(let T=0;T<=r;++T){const k=T/r*o*Math.PI*2;C(k,o,a,e,v),C(k+.01,o,a,e,x),S.subVectors(x,v),w.addVectors(x,v),_.crossVectors(S,w),w.crossVectors(_,S),_.normalize(),w.normalize();for(let R=0;R<=i;++R){const L=R/i*Math.PI*2,F=-n*Math.cos(L),H=n*Math.sin(L);p.x=v.x+(F*w.x+H*_.x),p.y=v.y+(F*w.y+H*_.y),p.z=v.z+(F*w.z+H*_.z),l.push(p.x,p.y,p.z),g.subVectors(p,v).normalize(),c.push(g.x,g.y,g.z),h.push(T/r),h.push(R/i)}}for(let T=1;T<=r;T++)for(let k=1;k<=i;k++){const R=(i+1)*(T-1)+(k-1),L=(i+1)*T+(k-1),F=(i+1)*T+k,H=(i+1)*(T-1)+k;s.push(R,L,H),s.push(L,F,H)}this.setIndex(s),this.setAttribute("position",new ir(l,3)),this.setAttribute("normal",new ir(c,3)),this.setAttribute("uv",new ir(h,2));function C(T,k,R,L,F){const H=Math.cos(T),Z=Math.sin(T),j=R/k*T,X=Math.cos(j);F.x=L*(2+X)*.5*H,F.y=L*(2+X)*Z*.5,F.z=L*Math.sin(j)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lL(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class cL extends Dr{constructor(e=new g8(new Oe(-1,-1,0),new Oe(-1,1,0),new Oe(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new Oe,l=new Oe,c=new Ht;let h=new Oe;const p=[],g=[],v=[],x=[];_(),this.setIndex(x),this.setAttribute("position",new ir(p,3)),this.setAttribute("normal",new ir(g,3)),this.setAttribute("uv",new ir(v,2));function _(){for(let T=0;T<n;T++)S(T);S(o===!1?n:0),C(),w()}function S(T){h=e.getPointAt(T/n,h);const k=a.normals[T],R=a.binormals[T];for(let L=0;L<=i;L++){const F=L/i*Math.PI*2,H=Math.sin(F),Z=-Math.cos(F);l.x=Z*k.x+H*R.x,l.y=Z*k.y+H*R.y,l.z=Z*k.z+H*R.z,l.normalize(),g.push(l.x,l.y,l.z),s.x=h.x+r*l.x,s.y=h.y+r*l.y,s.z=h.z+r*l.z,p.push(s.x,s.y,s.z)}}function w(){for(let T=1;T<=n;T++)for(let k=1;k<=i;k++){const R=(i+1)*(T-1)+(k-1),L=(i+1)*T+(k-1),F=(i+1)*T+k,H=(i+1)*(T-1)+k;x.push(R,L,H),x.push(L,F,H)}}function C(){for(let T=0;T<=n;T++)for(let k=0;k<=i;k++)c.x=T/n,c.y=k/i,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new cL(new ok[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class yde extends Dr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new Oe,o=new Oe;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,h=l.length;c<h;++c){const p=l[c],g=p.start,v=p.count;for(let x=g,_=g+v;x<_;x+=3)for(let S=0;S<3;S++){const w=s.getX(x+S),C=s.getX(x+(S+1)%3);i.fromBufferAttribute(a,w),o.fromBufferAttribute(a,C),IZ(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const h=3*s+c,p=3*s+(c+1)%3;i.fromBufferAttribute(a,h),o.fromBufferAttribute(a,p),IZ(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new ir(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function IZ(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var kZ=Object.freeze({__proto__:null,BoxGeometry:Py,CapsuleGeometry:JO,CircleGeometry:QO,ConeGeometry:eL,CylinderGeometry:V1,DodecahedronGeometry:HE,EdgesGeometry:hde,ExtrudeGeometry:nL,IcosahedronGeometry:rL,LatheGeometry:WE,OctahedronGeometry:GE,PlaneGeometry:j1,PolyhedronGeometry:Iy,RingGeometry:iL,ShapeGeometry:oL,SphereGeometry:W1,TetrahedronGeometry:sL,TorusGeometry:aL,TorusKnotGeometry:lL,TubeGeometry:cL,WireframeGeometry:yde});class vde extends ja{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Fn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class xde extends vf{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class v8 extends ja{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Fn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ty,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xu,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _de extends v8{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ht(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return is(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Fn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Fn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Fn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class bde extends ja{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Fn(16777215),this.specular=new Fn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ty,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xu,this.combine=FE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wde extends ja{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Fn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ty,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Sde extends ja{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ty,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Mde extends ja{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Fn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ty,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xu,this.combine=FE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ede extends ja{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Fn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ty,this.normalScale=new Ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Tde extends Ql{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function l0(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Cde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ade(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function Z4(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function x8(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function vvt(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],h=c.getValueSize(),p=[],g=[];for(let v=0;v<c.times.length;++v){const x=c.times[v]*i;if(!(x<n||x>=r)){p.push(c.times[v]);for(let _=0;_<h;++_)g.push(c.values[v*h+_])}}p.length!==0&&(c.times=l0(p,c.times.constructor),c.values=l0(g,c.values.constructor),a.push(c))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function xvt(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(w){return w.name===s.name&&w.ValueTypeName===l});if(c===void 0)continue;let h=0;const p=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let g=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);const x=s.times.length-1;let _;if(o<=s.times[0]){const w=h,C=p-h;_=s.values.slice(w,C)}else if(o>=s.times[x]){const w=x*p+h,C=w+p-h;_=s.values.slice(w,C)}else{const w=s.createInterpolant(),C=h,T=p-h;w.evaluate(o),_=w.resultBuffer.slice(C,T)}l==="quaternion"&&new pa().fromArray(_).normalize().conjugate().toArray(_);const S=c.times.length;for(let w=0;w<S;++w){const C=w*v+g;if(l==="quaternion")pa.multiplyQuaternionsFlat(c.values,C,_,0,c.values,C);else{const T=v-g*2;for(let k=0;k<T;++k)c.values[C+k]-=_[k]}}}return t.blendMode=Z6,t}const _vt={convertArray:l0,isTypedArray:Cde,getKeyframeOrder:Ade,sortedArray:Z4,flattenJSON:x8,subclip:vvt,makeClipAdditive:xvt};class qE{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Pde extends qE{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:o0,endingEnd:o0}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case s0:o=e,s=2*n-r;break;case R2:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case s0:a=e,l=2*r-n;break;case R2:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,h=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(l-r),this._offsetPrev=o*h,this._offsetNext=a*h}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,h=this._offsetPrev,p=this._offsetNext,g=this._weightPrev,v=this._weightNext,x=(r-n)/(i-n),_=x*x,S=_*x,w=-g*S+2*g*_-g*x,C=(1+g)*S+(-1.5-2*g)*_+(-.5+g)*x+1,T=(-1-v)*S+(1.5+v)*_+.5*x,k=v*S-v*_;for(let R=0;R!==s;++R)o[R]=w*a[h+R]+C*a[c+R]+T*a[l+R]+k*a[p+R];return o}}class _8 extends qE{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,h=(r-n)/(i-n),p=1-h;for(let g=0;g!==s;++g)o[g]=a[c+g]*p+a[l+g]*h;return o}}class Ide extends qE{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ef{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=l0(n,this.TimeBufferType),this.values=l0(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:l0(e.times,Array),values:l0(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Ide(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Pde(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case I2:n=this.InterpolantFactoryMethodDiscrete;break;case k2:n=this.InterpolantFactoryMethodLinear;break;case qA:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return I2;case this.InterpolantFactoryMethodLinear:return k2;case this.InterpolantFactoryMethodSmooth:return qA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&Cde(i))for(let s=0,l=i.length;s!==l;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===qA,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const c=e[s],h=e[s+1];if(c!==h&&(s!==1||c!==e[0]))if(i)l=!0;else{const p=s*r,g=p-r,v=p+r;for(let x=0;x!==r;++x){const _=n[p+x];if(_!==n[g+x]||_!==n[v+x]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const p=s*r,g=a*r;for(let v=0;v!==r;++v)n[g+v]=n[p+v]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[s+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ef.prototype.TimeBufferType=Float32Array;Ef.prototype.ValueBufferType=Float32Array;Ef.prototype.DefaultInterpolation=k2;class ex extends Ef{}ex.prototype.ValueTypeName="bool";ex.prototype.ValueBufferType=Array;ex.prototype.DefaultInterpolation=I2;ex.prototype.InterpolantFactoryMethodLinear=void 0;ex.prototype.InterpolantFactoryMethodSmooth=void 0;class b8 extends Ef{}b8.prototype.ValueTypeName="color";class V2 extends Ef{}V2.prototype.ValueTypeName="number";class kde extends qE{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let c=e*s;for(let h=c+s;c!==h;c+=4)pa.slerpFlat(o,0,a,c-s,a,c,l);return o}}class H1 extends Ef{InterpolantFactoryMethodLinear(e){return new kde(this.times,this.values,this.getValueSize(),e)}}H1.prototype.ValueTypeName="quaternion";H1.prototype.DefaultInterpolation=k2;H1.prototype.InterpolantFactoryMethodSmooth=void 0;class tx extends Ef{}tx.prototype.ValueTypeName="string";tx.prototype.ValueBufferType=Array;tx.prototype.DefaultInterpolation=I2;tx.prototype.InterpolantFactoryMethodLinear=void 0;tx.prototype.InterpolantFactoryMethodSmooth=void 0;class W2 extends Ef{}W2.prototype.ValueTypeName="vector";class H2{constructor(e,n=-1,r,i=UO){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=fu(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(wvt(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(Ef.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],c=[];l.push((s+o-1)%o,s,(s+1)%o),c.push(0,1,0);const h=Ade(l);l=Z4(l,1,h),c=Z4(c,1,h),!i&&l[0]===0&&(l.push(o),c.push(c[0])),a.push(new V2(".morphTargetInfluences["+n[s].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],h=c.name.match(o);if(h&&h.length>1){const p=h[1];let g=i[p];g||(i[p]=g=[]),g.push(c)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,g,v,x,_){if(v.length!==0){const S=[],w=[];x8(v,S,w,x),S.length!==0&&_.push(new p(g,S,w))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let p=0;p<c.length;p++){const g=c[p].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const v={};let x;for(x=0;x<g.length;x++)if(g[x].morphTargets)for(let _=0;_<g[x].morphTargets.length;_++)v[g[x].morphTargets[_]]=-1;for(const _ in v){const S=[],w=[];for(let C=0;C!==g[x].morphTargets.length;++C){const T=g[x];S.push(T.time),w.push(T.morphTarget===_?1:0)}i.push(new V2(".morphTargetInfluence["+_+"]",S,w))}l=v.length*a}else{const v=".bones["+n[p].name+"]";r(W2,v+".position",g,"pos",i),r(H1,v+".quaternion",g,"rot",i),r(W2,v+".scale",g,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function bvt(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return V2;case"vector":case"vector2":case"vector3":case"vector4":return W2;case"color":return b8;case"quaternion":return H1;case"bool":case"boolean":return ex;case"string":return tx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function wvt(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=bvt(t.type);if(t.times===void 0){const n=[],r=[];x8(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Lp={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class w8{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(h){s++,o===!1&&i.onStart!==void 0&&i.onStart(h,a,s),o=!0},this.itemEnd=function(h){a++,i.onProgress!==void 0&&i.onProgress(h,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,p){return c.push(h,p),this},this.removeHandler=function(h){const p=c.indexOf(h);return p!==-1&&c.splice(p,2),this},this.getHandler=function(h){for(let p=0,g=c.length;p<g;p+=2){const v=c[p],x=c[p+1];if(v.global&&(v.lastIndex=0),v.test(h))return x}return null}}}const Rde=new w8;class kc{constructor(e){this.manager=e!==void 0?e:Rde,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}kc.DEFAULT_MATERIAL_NAME="__DEFAULT";const mp={};class Svt extends Error{constructor(e,n){super(e),this.response=n}}class nm extends kc{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Lp.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(mp[e]!==void 0){mp[e].push({onLoad:n,onProgress:r,onError:i});return}mp[e]=[],mp[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=mp[e],p=c.body.getReader(),g=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),v=g?parseInt(g):0,x=v!==0;let _=0;const S=new ReadableStream({start(w){C();function C(){p.read().then(({done:T,value:k})=>{if(T)w.close();else{_+=k.byteLength;const R=new ProgressEvent("progress",{lengthComputable:x,loaded:_,total:v});for(let L=0,F=h.length;L<F;L++){const H=h[L];H.onProgress&&H.onProgress(R)}w.enqueue(k),C()}})}}});return new Response(S)}else throw new Svt(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,s));case"json":return c.json();default:if(s===void 0)return c.text();{const p=/charset="?([^;"\s]*)"?/i.exec(s),g=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(g);return c.arrayBuffer().then(x=>v.decode(x))}}}).then(c=>{Lp.add(e,c);const h=mp[e];delete mp[e];for(let p=0,g=h.length;p<g;p++){const v=h[p];v.onLoad&&v.onLoad(c)}}).catch(c=>{const h=mp[e];if(h===void 0)throw this.manager.itemError(e),c;delete mp[e];for(let p=0,g=h.length;p<g;p++){const v=h[p];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Mvt extends kc{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new nm(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=H2.parse(e[r]);n.push(i)}return n}}class Evt extends kc{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new KO,l=new nm(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function h(p){l.load(e[p],function(g){const v=o.parse(g,!0);a[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(s.minFilter=Vo),s.image=a,s.format=v.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let p=0,g=e.length;p<g;++p)h(p);else l.load(e,function(p){const g=o.parse(p,!0);if(g.isCubemap){const v=g.mipmaps.length/g.mipmapCount;for(let x=0;x<v;x++){a[x]={mipmaps:[]};for(let _=0;_<g.mipmapCount;_++)a[x].mipmaps.push(g.mipmaps[x*g.mipmapCount+_]),a[x].format=g.format,a[x].width=g.width,a[x].height=g.height}s.image=a}else s.image.width=g.width,s.image.height=g.height,s.mipmaps=g.mipmaps;g.mipmapCount===1&&(s.minFilter=Vo),s.format=g.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class G2 extends kc{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Lp.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=B2("img");function l(){h(),Lp.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(p){h(),i&&i(p),o.manager.itemError(e),o.manager.itemEnd(e)}function h(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class Tvt extends kc{constructor(e){super(e)}load(e,n,r,i){const o=new UE;o.colorSpace=Yu;const a=new G2(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(c){a.load(e[c],function(h){o.images[c]=h,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class Cvt extends kc{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new ny,s=new nm(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let c;try{c=o.parse(l)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:hl,a.wrapT=c.wrapT!==void 0?c.wrapT:hl,a.magFilter=c.magFilter!==void 0?c.magFilter:Vo,a.minFilter=c.minFilter!==void 0?c.minFilter:Vo,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=ph),c.mipmapCount===1&&(a.minFilter=Vo),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class Avt extends kc{constructor(e){super(e)}load(e,n,r,i){const o=new qo,a=new G2(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class ky extends xi{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Fn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class Ode extends ky{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(xi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Fn(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const WN=new _r,RZ=new Oe,OZ=new Oe;class S8{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ht(512,512),this.map=null,this.mapPass=null,this.matrix=new _r,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new VE,this._frameExtents=new Ht(1,1),this._viewportCount=1,this._viewports=[new zi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;RZ.setFromMatrixPosition(e.matrixWorld),n.position.copy(RZ),OZ.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(OZ),n.updateMatrixWorld(),WN.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(WN),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(WN)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Pvt extends S8{constructor(){super(new os(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=t1*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Lde extends ky{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xi.DEFAULT_UP),this.updateMatrix(),this.target=new xi,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new Pvt}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const LZ=new _r,uS=new Oe,HN=new Oe;class Ivt extends S8{constructor(){super(new os(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ht(4,2),this._viewportCount=6,this._viewports=[new zi(2,1,1,1),new zi(0,1,1,1),new zi(3,1,1,1),new zi(1,1,1,1),new zi(3,0,1,1),new zi(1,0,1,1)],this._cubeDirections=[new Oe(1,0,0),new Oe(-1,0,0),new Oe(0,0,1),new Oe(0,0,-1),new Oe(0,1,0),new Oe(0,-1,0)],this._cubeUps=[new Oe(0,1,0),new Oe(0,1,0),new Oe(0,1,0),new Oe(0,1,0),new Oe(0,0,1),new Oe(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),uS.setFromMatrixPosition(e.matrixWorld),r.position.copy(uS),HN.copy(r.position),HN.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(HN),r.updateMatrixWorld(),i.makeTranslation(-uS.x,-uS.y,-uS.z),LZ.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LZ)}}class Dde extends ky{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Ivt}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kvt extends S8{constructor(){super(new Op(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Nde extends ky{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xi.DEFAULT_UP),this.updateMatrix(),this.target=new xi,this.shadow=new kvt}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class zde extends ky{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Bde extends ky{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Fde{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Oe)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class $de extends ky{constructor(e=new Fde,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class uL extends kc{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new nm(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=uL.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Fn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new Fn().setHex(a.value);break;case"v2":i.uniforms[o].value=new Ht().fromArray(a.value);break;case"v3":i.uniforms[o].value=new Oe().fromArray(a.value);break;case"v4":i.uniforms[o].value=new zi().fromArray(a.value);break;case"m3":i.uniforms[o].value=new kr().fromArray(a.value);break;case"m4":i.uniforms[o].value=new _r().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Ht().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ht().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:vde,SpriteMaterial:c8,RawShaderMaterial:xde,ShaderMaterial:vf,PointsMaterial:d8,MeshPhysicalMaterial:_de,MeshStandardMaterial:v8,MeshPhongMaterial:bde,MeshToonMaterial:wde,MeshNormalMaterial:Sde,MeshLambertMaterial:Mde,MeshDepthMaterial:s8,MeshDistanceMaterial:a8,MeshBasicMaterial:Ay,MeshMatcapMaterial:Ede,LineDashedMaterial:Tde,LineBasicMaterial:Ql,Material:ja};return new n[e]}}class J4{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class jde extends Dr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Ude extends kc{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new nm(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(v,x){if(n[x]!==void 0)return n[x];const S=v.interleavedBuffers[x],w=o(v,S.buffer),C=B_(S.type,w),T=new YO(C,S.stride);return T.uuid=S.uuid,n[x]=T,T}function o(v,x){if(r[x]!==void 0)return r[x];const S=v.arrayBuffers[x],w=new Uint32Array(S).buffer;return r[x]=w,w}const a=e.isInstancedBufferGeometry?new jde:new Dr,s=e.data.index;if(s!==void 0){const v=B_(s.type,s.array);a.setIndex(new Qi(v,1))}const l=e.data.attributes;for(const v in l){const x=l[v];let _;if(x.isInterleavedBufferAttribute){const S=i(e.data,x.data);_=new $0(S,x.itemSize,x.offset,x.normalized)}else{const S=B_(x.type,x.array),w=x.isInstancedBufferAttribute?r1:Qi;_=new w(S,x.itemSize,x.normalized)}x.name!==void 0&&(_.name=x.name),x.usage!==void 0&&_.setUsage(x.usage),a.setAttribute(v,_)}const c=e.data.morphAttributes;if(c)for(const v in c){const x=c[v],_=[];for(let S=0,w=x.length;S<w;S++){const C=x[S];let T;if(C.isInterleavedBufferAttribute){const k=i(e.data,C.data);T=new $0(k,C.itemSize,C.offset,C.normalized)}else{const k=B_(C.type,C.array);T=new Qi(k,C.itemSize,C.normalized)}C.name!==void 0&&(T.name=C.name),_.push(T)}a.morphAttributes[v]=_}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,x=p.length;v!==x;++v){const _=p[v];a.addGroup(_.start,_.count,_.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const v=new Oe;g.center!==void 0&&v.fromArray(g.center),a.boundingSphere=new xl(v,g.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Rvt extends kc{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?J4.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new nm(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?J4.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new nm(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,o,l,s,r),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),n!==void 0){let p=!1;for(const g in a)if(a[g].data instanceof HTMLImageElement){p=!0;break}p===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new S0().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new XO().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Ude;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in kZ?s=kZ[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new uL;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=H2.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(h)}else return l.data?{data:B_(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new w8(n);o=new G2(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const p=e[c],g=p.url;if(Array.isArray(g)){const v=[];for(let x=0,_=g.length;x<_;x++){const S=g[x],w=s(S);w!==null&&(w instanceof HTMLImageElement?v.push(w):v.push(new ny(w.data,w.width,w.height)))}i[p.uuid]=new a0(v)}else{const v=s(p.url);i[p.uuid]=new a0(v)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:B_(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new G2(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const h=[];for(let p=0,g=c.length;p<g;p++){const v=c[p],x=await o(v);x!==null&&(x instanceof HTMLImageElement?h.push(x):h.push(new ny(x.data,x.width,x.height)))}r[l.uuid]=new a0(h)}else{const h=await o(l.url);r[l.uuid]=new a0(h)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],c=l.data;let h;Array.isArray(c)?(h=new UE,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new ny:h=new qo,c&&(h.needsUpdate=!0)),h.source=l,h.uuid=s.uuid,s.name!==void 0&&(h.name=s.name),s.mapping!==void 0&&(h.mapping=r(s.mapping,Ovt)),s.channel!==void 0&&(h.channel=s.channel),s.offset!==void 0&&h.offset.fromArray(s.offset),s.repeat!==void 0&&h.repeat.fromArray(s.repeat),s.center!==void 0&&h.center.fromArray(s.center),s.rotation!==void 0&&(h.rotation=s.rotation),s.wrap!==void 0&&(h.wrapS=r(s.wrap[0],DZ),h.wrapT=r(s.wrap[1],DZ)),s.format!==void 0&&(h.format=s.format),s.internalFormat!==void 0&&(h.internalFormat=s.internalFormat),s.type!==void 0&&(h.type=s.type),s.colorSpace!==void 0&&(h.colorSpace=s.colorSpace),s.minFilter!==void 0&&(h.minFilter=r(s.minFilter,NZ)),s.magFilter!==void 0&&(h.magFilter=r(s.magFilter,NZ)),s.anisotropy!==void 0&&(h.anisotropy=s.anisotropy),s.flipY!==void 0&&(h.flipY=s.flipY),s.generateMipmaps!==void 0&&(h.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(h.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(h.compareFunction=s.compareFunction),s.userData!==void 0&&(h.userData=s.userData),i[s.uuid]=h}return i}parseObject(e,n,r,i,o){let a;function s(g){return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),n[g]}function l(g){if(g!==void 0){if(Array.isArray(g)){const v=[];for(let x=0,_=g.length;x<_;x++){const S=g[x];r[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),v.push(r[S])}return v}return r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),r[g]}}function c(g){return i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),i[g]}let h,p;switch(e.type){case"Scene":a=new ik,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Fn(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new qO(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new GO(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new os(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Op(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new zde(e.color,e.intensity);break;case"DirectionalLight":a=new Nde(e.color,e.intensity);break;case"PointLight":a=new Dde(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Bde(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Lde(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Ode(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new $de().fromJSON(e);break;case"SkinnedMesh":h=s(e.geometry),p=l(e.material),a=new rde(h,p),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":h=s(e.geometry),p=l(e.material),a=new Os(h,p);break;case"InstancedMesh":h=s(e.geometry),p=l(e.material);const g=e.count,v=e.instanceMatrix,x=e.instanceColor;a=new ide(h,p,g),a.instanceMatrix=new r1(new Float32Array(v.array),16),x!==void 0&&(a.instanceColor=new r1(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":h=s(e.geometry),p=l(e.material),a=new ode(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,p),a.geometry=h,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(_=>{const S=new Yl;S.min.fromArray(_.boxMin),S.max.fromArray(_.boxMax);const w=new xl;return w.radius=_.sphereRadius,w.center.fromArray(_.sphereCenter),{boxInitialized:_.boxInitialized,box:S,sphereInitialized:_.sphereInitialized,sphere:w}}),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":a=new nde;break;case"Line":a=new fy(s(e.geometry),l(e.material));break;case"LineLoop":a=new sde(s(e.geometry),l(e.material));break;case"LineSegments":a=new $h(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new ade(s(e.geometry),l(e.material));break;case"Sprite":a=new tde(l(e.material));break;case"Group":a=new j_;break;case"Bone":a=new u8;break;default:a=new xi}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let v=0;v<g.length;v++)a.add(this.parseObject(g[v],n,r,i,o))}if(e.animations!==void 0){const g=e.animations;for(let v=0;v<g.length;v++){const x=g[v];a.animations.push(o[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const g=e.levels;for(let v=0;v<g.length;v++){const x=g[v],_=a.getObjectByProperty("uuid",x.object);_!==void 0&&a.addLevel(_,x.distance,x.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Ovt={UVMapping:$O,CubeReflectionMapping:tm,CubeRefractionMapping:dy,EquirectangularReflectionMapping:T2,EquirectangularRefractionMapping:C2,CubeUVReflectionMapping:$1},DZ={RepeatWrapping:A2,ClampToEdgeWrapping:hl,MirroredRepeatWrapping:P2},NZ={NearestFilter:xs,NearestMipmapNearestFilter:tk,NearestMipmapLinearFilter:Hv,LinearFilter:Vo,LinearMipmapNearestFilter:eM,LinearMipmapLinearFilter:ph};class Lvt extends kc{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Lp.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(c=>{n&&n(c),o.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return Lp.add(e,c),n&&n(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Lp.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Lp.add(e,l),o.manager.itemStart(e)}}let tA;class M8{static getContext(){return tA===void 0&&(tA=new(window.AudioContext||window.webkitAudioContext)),tA}static setContext(e){tA=e}}class Dvt extends kc{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new nm(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);M8.getContext().decodeAudioData(c,function(p){n(p)}).catch(s)}catch(c){s(c)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const zZ=new _r,BZ=new _r,Tv=new _r;class Nvt{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new os,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new os,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Tv.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(b0*n.fov*.5)/n.zoom;let s,l;BZ.elements[12]=-i,zZ.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,Tv.elements[0]=2*n.near/(l-s),Tv.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Tv),s=-a*n.aspect-o,l=a*n.aspect-o,Tv.elements[0]=2*n.near/(l-s),Tv.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Tv)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(BZ),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zZ)}}class E8{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=FZ(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=FZ();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function FZ(){return(typeof performance>"u"?Date:performance).now()}const Cv=new Oe,$Z=new pa,zvt=new Oe,Av=new Oe;class Bvt extends xi{constructor(){super(),this.type="AudioListener",this.context=M8.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new E8}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Cv,$Z,zvt),Av.set(0,0,-1).applyQuaternion($Z),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Cv.x,i),n.positionY.linearRampToValueAtTime(Cv.y,i),n.positionZ.linearRampToValueAtTime(Cv.z,i),n.forwardX.linearRampToValueAtTime(Av.x,i),n.forwardY.linearRampToValueAtTime(Av.y,i),n.forwardZ.linearRampToValueAtTime(Av.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Cv.x,Cv.y,Cv.z),n.setOrientation(Av.x,Av.y,Av.z,r.x,r.y,r.z)}}let Vde=class extends xi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const Pv=new Oe,jZ=new pa,Fvt=new Oe,Iv=new Oe;class $vt extends Vde{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Pv,jZ,Fvt),Iv.set(0,0,1).applyQuaternion(jZ);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Pv.x,r),n.positionY.linearRampToValueAtTime(Pv.y,r),n.positionZ.linearRampToValueAtTime(Pv.z,r),n.orientationX.linearRampToValueAtTime(Iv.x,r),n.orientationY.linearRampToValueAtTime(Iv.y,r),n.orientationZ.linearRampToValueAtTime(Iv.z,r)}else n.setPosition(Pv.x,Pv.y,Pv.z),n.setOrientation(Iv.x,Iv.y,Iv.z)}}class jvt{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Wde{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){pa.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;pa.multiplyQuaternionsFlat(e,a,e,n,e,r),pa.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const T8="\\[\\]\\.:\\/",Uvt=new RegExp("["+T8+"]","g"),C8="[^"+T8+"]",Vvt="[^"+T8.replace("\\.","")+"]",Wvt=/((?:WC+[\/:])*)/.source.replace("WC",C8),Hvt=/(WCOD+)?/.source.replace("WCOD",Vvt),Gvt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",C8),qvt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",C8),Yvt=new RegExp("^"+Wvt+Hvt+Gvt+qvt+"$"),Xvt=["material","materials","bones","map"];class Kvt{constructor(e,n,r){const i=r||ui.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class ui{constructor(e,n,r){this.path=n,this.parsedPath=r||ui.parseTrackName(n),this.node=ui.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new ui.Composite(e,n,r):new ui(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Uvt,"")}static parseTrackName(e){const n=Yvt.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);Xvt.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=ui.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ui.Composite=Kvt;ui.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ui.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ui.prototype.GetterByBindingType=[ui.prototype._getValue_direct,ui.prototype._getValue_array,ui.prototype._getValue_arrayElement,ui.prototype._getValue_toArray];ui.prototype.SetterByBindingTypeAndVersioning=[[ui.prototype._setValue_direct,ui.prototype._setValue_direct_setNeedsUpdate,ui.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ui.prototype._setValue_array,ui.prototype._setValue_array_setNeedsUpdate,ui.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ui.prototype._setValue_arrayElement,ui.prototype._setValue_arrayElement_setNeedsUpdate,ui.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ui.prototype._setValue_fromArray,ui.prototype._setValue_fromArray_setNeedsUpdate,ui.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Zvt{constructor(){this.isAnimationObjectGroup=!0,this.uuid=fu(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,c=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const g=arguments[h],v=g.uuid;let x=n[v];if(x===void 0){x=l++,n[v]=x,e.push(g);for(let _=0,S=a;_!==S;++_)o[_].push(new ui(g,r[_],i[_]))}else if(x<c){s=e[x];const _=--c,S=e[_];n[S.uuid]=x,e[x]=S,n[v]=_,e[_]=g;for(let w=0,C=a;w!==C;++w){const T=o[w],k=T[_];let R=T[x];T[x]=k,R===void 0&&(R=new ui(g,r[w],i[w])),T[_]=R}}else e[x]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,h=n[c];if(h!==void 0&&h>=o){const p=o++,g=e[p];n[g.uuid]=h,e[h]=g,n[c]=p,e[p]=l;for(let v=0,x=i;v!==x;++v){const _=r[v],S=_[p],w=_[h];_[h]=S,_[p]=w}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],h=c.uuid,p=n[h];if(p!==void 0)if(delete n[h],p<o){const g=--o,v=e[g],x=--a,_=e[x];n[v.uuid]=p,e[p]=v,n[_.uuid]=g,e[g]=_,e.pop();for(let S=0,w=i;S!==w;++S){const C=r[S],T=C[g],k=C[x];C[p]=T,C[g]=k,C.pop()}}else{const g=--a,v=e[g];g>0&&(n[v.uuid]=p),e[p]=v,e.pop();for(let x=0,_=i;x!==_;++x){const S=r[x];S[p]=S[g],S.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,h=this.nCachedObjects_,p=new Array(c);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(p);for(let g=h,v=l.length;g!==v;++g){const x=l[g];p[g]=new ui(x,e,n)}return p}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],c=e[s];n[c]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class Hde{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:o0,endingEnd:o0};for(let c=0;c!==a;++c){const h=o[c].createInterpolant(null);s[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Sue,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Z6:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(a),c[h].accumulateAdditive(s);break;case UO:default:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(a),c[h].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===Mue;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===wue){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=s0,i.endingEnd=s0):(e?i.endingStart=this.zeroSlopeAtStart?s0:o0:i.endingStart=R2,n?i.endingEnd=this.zeroSlopeAtEnd?s0:o0:i.endingEnd=R2)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const Jvt=new Float32Array(1);class Qvt extends Sf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let p=0;p!==o;++p){const g=i[p],v=g.name;let x=h[v];if(x!==void 0)++x.referenceCount,a[p]=x;else{if(x=a[p],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,v));continue}const _=n&&n._propertyBindings[p].binding.parsedPath;x=new Wde(ui.create(r,v,_),g.ValueTypeName,g.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,v),a[p]=x}s[p].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const p=s.actionByRoot,g=(e._localRoot||this._root).uuid;delete p[g],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new _8(new Float32Array(2),new Float32Array(2),1,Jvt),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?H2.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=UO),l!==void 0){const p=l.actionByRoot[o];if(p!==void 0&&p.blendMode===r)return p;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const h=new Hde(this,a,n,r);return this._bindAction(h,c),this._addInactiveAction(h,s,o),h}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?H2.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const c=a[s];this._deactivateAction(c);const h=c._cacheIndex,p=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,p._cacheIndex=h,n[h]=p,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class A8{constructor(e){this.value=e}clone(){return new A8(this.value.clone===void 0?this.value:this.value.clone())}}let e0t=0;class t0t extends Sf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:e0t++}),this.name="",this.usage=N2,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class n0t extends YO{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class r0t{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const UZ=new _r;class Gde{constructor(e,n,r=0,i=1/0){this.ray=new Cy(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new w0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return UZ.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(UZ),this}intersectObject(e,n=!0,r=[]){return Q4(e,this,r,n),r.sort(VZ),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)Q4(e[i],this,r,n);return r.sort(VZ),r}}function VZ(t,e){return t.distance-e.distance}function Q4(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,a=i.length;o<a;o++)Q4(i[o],e,n,!0)}}class q2{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(is(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class i0t{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const WZ=new Ht;class o0t{constructor(e=new Ht(1/0,1/0),n=new Ht(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=WZ.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,WZ).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const HZ=new Oe,nA=new Oe;class s0t{constructor(e=new Oe,n=new Oe){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){HZ.subVectors(e,this.start),nA.subVectors(this.end,this.start);const r=nA.dot(nA);let o=nA.dot(HZ)/r;return n&&(o=is(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const GZ=new Oe;class a0t extends xi{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Dr,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,h=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new ir(i,3));const o=new Ql({fog:!1,toneMapped:!1});this.cone=new $h(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),GZ.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(GZ),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const hg=new Oe,rA=new _r,GN=new _r;class l0t extends $h{constructor(e){const n=qde(e),r=new Dr,i=[],o=[],a=new Fn(0,0,1),s=new Fn(0,1,0);for(let c=0;c<n.length;c++){const h=n[c];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new ir(i,3)),r.setAttribute("color",new ir(o,3));const l=new Ql({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");GN.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(rA.multiplyMatrices(GN,s.matrixWorld),hg.setFromMatrixPosition(rA),i.setXYZ(a,hg.x,hg.y,hg.z),rA.multiplyMatrices(GN,s.parent.matrixWorld),hg.setFromMatrixPosition(rA),i.setXYZ(a+1,hg.x,hg.y,hg.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function qde(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,qde(t.children[n]));return e}class c0t extends Os{constructor(e,n,r){const i=new W1(n,4,2),o=new Ay({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const u0t=new Oe,qZ=new Fn,YZ=new Fn;class d0t extends xi{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new GE(n);i.rotateY(Math.PI*.5),this.material=new Ay({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new Qi(a,3)),this.add(new Os(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");qZ.copy(this.light.color),YZ.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?qZ:YZ;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(u0t.setFromMatrixPosition(this.light.matrixWorld).negate())}}class f0t extends $h{constructor(e=10,n=10,r=4473924,i=8947848){r=new Fn(r),i=new Fn(i);const o=n/2,a=e/n,s=e/2,l=[],c=[];for(let g=0,v=0,x=-s;g<=n;g++,x+=a){l.push(-s,0,x,s,0,x),l.push(x,0,-s,x,0,s);const _=g===o?r:i;_.toArray(c,v),v+=3,_.toArray(c,v),v+=3,_.toArray(c,v),v+=3,_.toArray(c,v),v+=3}const h=new Dr;h.setAttribute("position",new ir(l,3)),h.setAttribute("color",new ir(c,3));const p=new Ql({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class h0t extends $h{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new Fn(o),a=new Fn(a);const s=[],l=[];if(n>1)for(let p=0;p<n;p++){const g=p/n*(Math.PI*2),v=Math.sin(g)*e,x=Math.cos(g)*e;s.push(0,0,0),s.push(v,0,x);const _=p&1?o:a;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let p=0;p<r;p++){const g=p&1?o:a,v=e-e/r*p;for(let x=0;x<i;x++){let _=x/i*(Math.PI*2),S=Math.sin(_)*v,w=Math.cos(_)*v;s.push(S,0,w),l.push(g.r,g.g,g.b),_=(x+1)/i*(Math.PI*2),S=Math.sin(_)*v,w=Math.cos(_)*v,s.push(S,0,w),l.push(g.r,g.g,g.b)}}const c=new Dr;c.setAttribute("position",new ir(s,3)),c.setAttribute("color",new ir(l,3));const h=new Ql({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const XZ=new Oe,iA=new Oe,KZ=new Oe;class p0t extends xi{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Dr;i.setAttribute("position",new ir([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Ql({fog:!1,toneMapped:!1});this.lightPlane=new fy(i,o),this.add(this.lightPlane),i=new Dr,i.setAttribute("position",new ir([0,0,0,0,0,1],3)),this.targetLine=new fy(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),XZ.setFromMatrixPosition(this.light.matrixWorld),iA.setFromMatrixPosition(this.light.target.matrixWorld),KZ.subVectors(iA,XZ),this.lightPlane.lookAt(iA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(iA),this.targetLine.scale.z=KZ.length()}}const oA=new Oe,es=new jE;class m0t extends $h{constructor(e){const n=new Dr,r=new Ql({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(x,_){l(x),l(_)}function l(x){i.push(0,0,0),o.push(0,0,0),a[x]===void 0&&(a[x]=[]),a[x].push(i.length/3-1)}n.setAttribute("position",new ir(i,3)),n.setAttribute("color",new ir(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Fn(16755200),h=new Fn(16711680),p=new Fn(43775),g=new Fn(16777215),v=new Fn(3355443);this.setColors(c,h,p,g,v)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;es.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ys("c",n,e,es,0,0,-1),ys("t",n,e,es,0,0,1),ys("n1",n,e,es,-r,-i,-1),ys("n2",n,e,es,r,-i,-1),ys("n3",n,e,es,-r,i,-1),ys("n4",n,e,es,r,i,-1),ys("f1",n,e,es,-r,-i,1),ys("f2",n,e,es,r,-i,1),ys("f3",n,e,es,-r,i,1),ys("f4",n,e,es,r,i,1),ys("u1",n,e,es,r*.7,i*1.1,-1),ys("u2",n,e,es,-r*.7,i*1.1,-1),ys("u3",n,e,es,0,i*2,-1),ys("cf1",n,e,es,-r,0,1),ys("cf2",n,e,es,r,0,1),ys("cf3",n,e,es,0,-i,1),ys("cf4",n,e,es,0,i,1),ys("cn1",n,e,es,-r,0,-1),ys("cn2",n,e,es,r,0,-1),ys("cn3",n,e,es,0,-i,-1),ys("cn4",n,e,es,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ys(t,e,n,r,i,o,a){oA.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,h=s.length;c<h;c++)l.setXYZ(s[c],oA.x,oA.y,oA.z)}}const sA=new Yl;class g0t extends $h{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Dr;o.setIndex(new Qi(r,1)),o.setAttribute("position",new Qi(i,3)),super(o,new Ql({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&sA.setFromObject(this.object),sA.isEmpty())return;const n=sA.min,r=sA.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class y0t extends $h{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Dr;o.setIndex(new Qi(r,1)),o.setAttribute("position",new ir(i,3)),super(o,new Ql({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class v0t extends fy{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Dr;a.setAttribute("position",new ir(o,3)),a.computeBoundingSphere(),super(a,new Ql({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Dr;l.setAttribute("position",new ir(s,3)),l.computeBoundingSphere(),this.add(new Os(l,new Ay({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ZZ=new Oe;let aA,qN;class x0t extends xi{constructor(e=new Oe(0,0,1),n=new Oe(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",aA===void 0&&(aA=new Dr,aA.setAttribute("position",new ir([0,0,0,0,1,0],3)),qN=new V1(0,.5,1,5,1),qN.translate(0,-.5,0)),this.position.copy(n),this.line=new fy(aA,new Ql({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Os(qN,new Ay({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ZZ.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(ZZ,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class _0t extends $h{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Dr;i.setAttribute("position",new ir(n,3)),i.setAttribute("color",new ir(r,3));const o=new Ql({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new Fn,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class b0t{constructor(){this.type="ShapePath",this.color=new Fn,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new F2,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(w){const C=[];for(let T=0,k=w.length;T<k;T++){const R=w[T],L=new S0;L.curves=R.curves,C.push(L)}return C}function r(w,C){const T=C.length;let k=!1;for(let R=T-1,L=0;L<T;R=L++){let F=C[R],H=C[L],Z=H.x-F.x,j=H.y-F.y;if(Math.abs(j)>Number.EPSILON){if(j<0&&(F=C[L],Z=-Z,H=C[R],j=-j),w.y<F.y||w.y>H.y)continue;if(w.y===F.y){if(w.x===F.x)return!0}else{const X=j*(w.x-F.x)-Z*(w.y-F.y);if(X===0)return!0;if(X<0)continue;k=!k}}else{if(w.y!==F.y)continue;if(H.x<=w.x&&w.x<=F.x||F.x<=w.x&&w.x<=H.x)return!0}}return k}const i=Ch.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new S0,l.curves=s.curves,c.push(l),c;let h=!i(o[0].getPoints());h=e?!h:h;const p=[],g=[];let v=[],x=0,_;g[x]=void 0,v[x]=[];for(let w=0,C=o.length;w<C;w++)s=o[w],_=s.getPoints(),a=i(_),a=e?!a:a,a?(!h&&g[x]&&x++,g[x]={s:new S0,p:_},g[x].s.curves=s.curves,h&&x++,v[x]=[]):v[x].push({h:s,p:_[0]});if(!g[0])return n(o);if(g.length>1){let w=!1,C=0;for(let T=0,k=g.length;T<k;T++)p[T]=[];for(let T=0,k=g.length;T<k;T++){const R=v[T];for(let L=0;L<R.length;L++){const F=R[L];let H=!0;for(let Z=0;Z<g.length;Z++)r(F.p,g[Z].p)&&(T!==Z&&C++,H?(H=!1,p[Z].push(F)):w=!0);H&&p[T].push(F)}}C>0&&w===!1&&(v=p)}let S;for(let w=0,C=g.length;w<C;w++){l=g[w].s,c.push(l),S=v[w];for(let T=0,k=S.length;T<k;T++)l.holes.push(S[T].h)}return c}}class w0t extends yf{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:BO}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=BO);const S0t=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:U6,AddEquation:Cg,AddOperation:aue,AdditiveAnimationBlendMode:Z6,AdditiveBlending:f4,AgXToneMapping:fue,AlphaFormat:yue,AlwaysCompare:Lue,AlwaysDepth:eue,AlwaysStencilFunc:V4,AmbientLight:zde,AnimationAction:Hde,AnimationClip:H2,AnimationLoader:Mvt,AnimationMixer:Qvt,AnimationObjectGroup:Zvt,AnimationUtils:_vt,ArcCurve:lde,ArrayCamera:Jue,ArrowHelper:x0t,AttachedBindMode:y4,Audio:Vde,AudioAnalyser:jvt,AudioContext:M8,AudioListener:Bvt,AudioLoader:Dvt,AxesHelper:_0t,BackSide:ql,BasicDepthPacking:Eue,BasicShadowMap:Nce,BatchedMesh:ode,Bone:u8,BooleanKeyframeTrack:ex,Box2:o0t,Box3:Yl,Box3Helper:y0t,BoxGeometry:Py,BoxHelper:g0t,BufferAttribute:Qi,BufferGeometry:Dr,BufferGeometryLoader:Ude,ByteType:mue,Cache:Lp,Camera:jE,CameraHelper:m0t,CanvasTexture:Wyt,CapsuleGeometry:JO,CatmullRomCurve3:cde,CineonToneMapping:uue,CircleGeometry:QO,ClampToEdgeWrapping:hl,Clock:E8,Color:Fn,ColorKeyframeTrack:b8,ColorManagement:Ni,CompressedArrayTexture:Uyt,CompressedCubeTexture:Vyt,CompressedTexture:KO,CompressedTextureLoader:Evt,ConeGeometry:eL,ConstantAlphaFactor:Zce,ConstantColorFactor:Xce,CubeCamera:Vue,CubeReflectionMapping:tm,CubeRefractionMapping:dy,CubeTexture:UE,CubeTextureLoader:Tvt,CubeUVReflectionMapping:$1,CubicBezierCurve:h8,CubicBezierCurve3:ude,CubicInterpolant:Pde,CullFaceBack:d4,CullFaceFront:Dce,CullFaceFrontBack:Pdt,CullFaceNone:Lce,Curve:Mf,CurvePath:fde,CustomBlending:zce,CustomToneMapping:due,CylinderGeometry:V1,Cylindrical:i0t,Data3DTexture:t8,DataArrayTexture:WO,DataTexture:ny,DataTextureLoader:Cvt,DataUtils:Nft,DecrementStencilOp:$dt,DecrementWrapStencilOp:Udt,DefaultLoadingManager:Rde,DepthFormat:ty,DepthStencilFormat:F0,DepthTexture:o8,DetachedBindMode:pue,DirectionalLight:Nde,DirectionalLightHelper:p0t,DiscreteInterpolant:Ide,DisplayP3ColorSpace:VO,DodecahedronGeometry:HE,DoubleSide:af,DstAlphaFactor:Wce,DstColorFactor:Gce,DynamicCopyUsage:rft,DynamicDrawUsage:Zdt,DynamicReadUsage:eft,EdgesGeometry:hde,EllipseCurve:ZO,EqualCompare:Iue,EqualDepth:nue,EqualStencilFunc:Gdt,EquirectangularReflectionMapping:T2,EquirectangularRefractionMapping:C2,Euler:xu,EventDispatcher:Sf,ExtrudeGeometry:nL,FileLoader:nm,Float16BufferAttribute:Uft,Float32BufferAttribute:ir,FloatType:ou,Fog:qO,FogExp2:GO,FramebufferTexture:jyt,FrontSide:em,Frustum:VE,GLBufferAttribute:r0t,GLSL1:oft,GLSL3:W4,GreaterCompare:kue,GreaterDepth:iue,GreaterEqualCompare:Oue,GreaterEqualDepth:rue,GreaterEqualStencilFunc:Kdt,GreaterStencilFunc:Ydt,GridHelper:f0t,Group:j_,HalfFloatType:e1,HemisphereLight:Ode,HemisphereLightHelper:d0t,IcosahedronGeometry:rL,ImageBitmapLoader:Lvt,ImageLoader:G2,ImageUtils:e8,IncrementStencilOp:Fdt,IncrementWrapStencilOp:jdt,InstancedBufferAttribute:r1,InstancedBufferGeometry:jde,InstancedInterleavedBuffer:n0t,InstancedMesh:ide,Int16BufferAttribute:$ft,Int32BufferAttribute:jft,Int8BufferAttribute:zft,IntType:V6,InterleavedBuffer:YO,InterleavedBufferAttribute:$0,Interpolant:qE,InterpolateDiscrete:I2,InterpolateLinear:k2,InterpolateSmooth:qA,InvertStencilOp:Vdt,KeepStencilOp:jv,KeyframeTrack:Ef,LOD:nde,LatheGeometry:WE,Layers:w0,LessCompare:Pue,LessDepth:tue,LessEqualCompare:J6,LessEqualDepth:E2,LessEqualStencilFunc:qdt,LessStencilFunc:Hdt,Light:ky,LightProbe:$de,Line:fy,Line3:s0t,LineBasicMaterial:Ql,LineCurve:p8,LineCurve3:dde,LineDashedMaterial:Tde,LineLoop:sde,LineSegments:$h,LinearDisplayP3ColorSpace:$E,LinearFilter:Vo,LinearInterpolant:_8,LinearMipMapLinearFilter:Odt,LinearMipMapNearestFilter:Rdt,LinearMipmapLinearFilter:ph,LinearMipmapNearestFilter:eM,LinearSRGBColorSpace:fm,LinearToneMapping:lue,LinearTransfer:O2,Loader:kc,LoaderUtils:J4,LoadingManager:w8,LoopOnce:wue,LoopPingPong:Mue,LoopRepeat:Sue,LuminanceAlphaFormat:xue,LuminanceFormat:vue,MOUSE:Qc,Material:ja,MaterialLoader:uL,MathUtils:Due,Matrix3:kr,Matrix4:_r,MaxEquation:g4,Mesh:Os,MeshBasicMaterial:Ay,MeshDepthMaterial:s8,MeshDistanceMaterial:a8,MeshLambertMaterial:Mde,MeshMatcapMaterial:Ede,MeshNormalMaterial:Sde,MeshPhongMaterial:bde,MeshPhysicalMaterial:_de,MeshStandardMaterial:v8,MeshToonMaterial:wde,MinEquation:m4,MirroredRepeatWrapping:P2,MixOperation:sue,MultiplyBlending:p4,MultiplyOperation:FE,NearestFilter:xs,NearestMipMapLinearFilter:kdt,NearestMipMapNearestFilter:Idt,NearestMipmapLinearFilter:Hv,NearestMipmapNearestFilter:tk,NeutralToneMapping:hue,NeverCompare:Aue,NeverDepth:Qce,NeverStencilFunc:Wdt,NoBlending:$p,NoColorSpace:wp,NoToneMapping:Eh,NormalAnimationBlendMode:UO,NormalBlending:_0,NotEqualCompare:Rue,NotEqualDepth:oue,NotEqualStencilFunc:Xdt,NumberKeyframeTrack:V2,Object3D:xi,ObjectLoader:Rvt,ObjectSpaceNormalMap:Cue,OctahedronGeometry:GE,OneFactor:jce,OneMinusConstantAlphaFactor:Jce,OneMinusConstantColorFactor:Kce,OneMinusDstAlphaFactor:Hce,OneMinusDstColorFactor:qce,OneMinusSrcAlphaFactor:ek,OneMinusSrcColorFactor:Vce,OrthographicCamera:Op,P3Primaries:D2,PCFShadowMap:FO,PCFSoftShadowMap:QS,PMREMGenerator:G4,Path:F2,PerspectiveCamera:os,Plane:ch,PlaneGeometry:j1,PlaneHelper:v0t,PointLight:Dde,PointLightHelper:c0t,Points:ade,PointsMaterial:d8,PolarGridHelper:h0t,PolyhedronGeometry:Iy,PositionalAudio:$vt,PropertyBinding:ui,PropertyMixer:Wde,QuadraticBezierCurve:m8,QuadraticBezierCurve3:g8,Quaternion:pa,QuaternionKeyframeTrack:H1,QuaternionLinearInterpolant:kde,RED_GREEN_RGTC2_Format:j4,RED_RGTC1_Format:bue,REVISION:BO,RGBADepthPacking:Tue,RGBAFormat:Ul,RGBAIntegerFormat:X6,RGBA_ASTC_10x10_Format:D4,RGBA_ASTC_10x5_Format:R4,RGBA_ASTC_10x6_Format:O4,RGBA_ASTC_10x8_Format:L4,RGBA_ASTC_12x10_Format:N4,RGBA_ASTC_12x12_Format:z4,RGBA_ASTC_4x4_Format:M4,RGBA_ASTC_5x4_Format:E4,RGBA_ASTC_5x5_Format:T4,RGBA_ASTC_6x5_Format:C4,RGBA_ASTC_6x6_Format:A4,RGBA_ASTC_8x5_Format:P4,RGBA_ASTC_8x6_Format:I4,RGBA_ASTC_8x8_Format:k4,RGBA_BPTC_Format:GA,RGBA_ETC2_EAC_Format:S4,RGBA_PVRTC_2BPPV1_Format:b4,RGBA_PVRTC_4BPPV1_Format:_4,RGBA_S3TC_DXT1_Format:VA,RGBA_S3TC_DXT3_Format:WA,RGBA_S3TC_DXT5_Format:HA,RGB_BPTC_SIGNED_Format:B4,RGB_BPTC_UNSIGNED_Format:F4,RGB_ETC1_Format:K6,RGB_ETC2_Format:w4,RGB_PVRTC_2BPPV1_Format:x4,RGB_PVRTC_4BPPV1_Format:v4,RGB_S3TC_DXT1_Format:UA,RGFormat:_ue,RGIntegerFormat:Y6,RawShaderMaterial:xde,Ray:Cy,Raycaster:Gde,Rec709Primaries:L2,RectAreaLight:Bde,RedFormat:G6,RedIntegerFormat:q6,ReinhardToneMapping:cue,RenderTarget:Fue,RepeatWrapping:A2,ReplaceStencilOp:Bdt,ReverseSubtractEquation:Fce,RingGeometry:iL,SIGNED_RED_GREEN_RGTC2_Format:U4,SIGNED_RED_RGTC1_Format:$4,SRGBColorSpace:Yu,SRGBTransfer:fo,Scene:ik,ShaderChunk:zr,ShaderLib:rf,ShaderMaterial:vf,ShadowMaterial:vde,Shape:S0,ShapeGeometry:oL,ShapePath:b0t,ShapeUtils:Ch,ShortType:gue,Skeleton:XO,SkeletonHelper:l0t,SkinnedMesh:rde,Source:a0,Sphere:xl,SphereGeometry:W1,Spherical:q2,SphericalHarmonics3:Fde,SplineCurve:y8,SpotLight:Lde,SpotLightHelper:a0t,Sprite:tde,SpriteMaterial:c8,SrcAlphaFactor:QI,SrcAlphaSaturateFactor:Yce,SrcColorFactor:Uce,StaticCopyUsage:nft,StaticDrawUsage:N2,StaticReadUsage:Qdt,StereoCamera:Nvt,StreamCopyUsage:ift,StreamDrawUsage:Jdt,StreamReadUsage:tft,StringKeyframeTrack:tx,SubtractEquation:Bce,SubtractiveBlending:h4,TOUCH:eu,TangentSpaceNormalMap:Ty,TetrahedronGeometry:sL,Texture:qo,TextureLoader:Avt,TorusGeometry:aL,TorusKnotGeometry:lL,Triangle:su,TriangleFanDrawMode:Ndt,TriangleStripDrawMode:Ddt,TrianglesDrawMode:Ldt,TubeGeometry:cL,UVMapping:$O,Uint16BufferAttribute:n8,Uint32BufferAttribute:r8,Uint8BufferAttribute:Bft,Uint8ClampedBufferAttribute:Fft,Uniform:A8,UniformsGroup:t0t,UniformsLib:En,UniformsUtils:Uue,UnsignedByteType:Th,UnsignedInt248Type:ey,UnsignedIntType:Rp,UnsignedShort4444Type:W6,UnsignedShort5551Type:H6,UnsignedShortType:jO,VSMShadowMap:Xd,Vector2:Ht,Vector3:Oe,Vector4:zi,VectorKeyframeTrack:W2,VideoTexture:$yt,WebGL1Renderer:Que,WebGL3DRenderTarget:Eft,WebGLArrayRenderTarget:Mft,WebGLCoordinateSystem:mh,WebGLCubeRenderTarget:Wue,WebGLMultipleRenderTargets:w0t,WebGLRenderTarget:yf,WebGLRenderer:l8,WebGLUtils:Zue,WebGPUCoordinateSystem:z2,WireframeGeometry:yde,WrapAroundEnding:R2,ZeroCurvatureEnding:o0,ZeroFactor:$ce,ZeroSlopeEnding:s0,ZeroStencilOp:zdt,_SRGBAFormat:nk,createCanvasElement:zue},Symbol.toStringTag,{value:"Module"}));var Yde={exports:{}},nx={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */nx.ConcurrentRoot=1;nx.ContinuousEventPriority=4;nx.DefaultEventPriority=16;nx.DiscreteEventPriority=1;nx.IdleEventPriority=536870912;nx.LegacyRoot=0;Yde.exports=nx;var V_=Yde.exports;function M0t(t){let e;const n=new Set,r=(c,h)=>{const p=typeof c=="function"?c(e):c;if(p!==e){const g=e;e=h?p:Object.assign({},e,p),n.forEach(v=>v(e,g))}},i=()=>e,o=(c,h=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=h(e);function v(){const x=h(e);if(!p(g,x)){const _=g;c(g=x,_)}}return n.add(v),()=>n.delete(v)},l={setState:r,getState:i,subscribe:(c,h,p)=>h||p?o(c,h,p):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const E0t=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),JZ=E0t?V.useEffect:V.useLayoutEffect;function T0t(t){const e=typeof t=="function"?M0t(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=V.useReducer(S=>S+1,0),a=e.getState(),s=V.useRef(a),l=V.useRef(r),c=V.useRef(i),h=V.useRef(!1),p=V.useRef();p.current===void 0&&(p.current=r(a));let g,v=!1;(s.current!==a||l.current!==r||c.current!==i||h.current)&&(g=r(a),v=!i(p.current,g)),JZ(()=>{v&&(p.current=g),s.current=a,l.current=r,c.current=i,h.current=!1});const x=V.useRef(a);JZ(()=>{const S=()=>{try{const C=e.getState(),T=l.current(C);c.current(p.current,T)||(s.current=C,p.current=T,o())}catch{h.current=!0,o()}},w=e.subscribe(S);return e.getState()!==x.current&&S(),w},[]);const _=v?g:p.current;return V.useDebugValue(_),_};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var Xde={exports:{}},YN={exports:{}},XN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QZ;function C0t(){return QZ||(QZ=1,function(t){function e(te,he){var ve=te.length;te.push(he);e:for(;0<ve;){var ze=ve-1>>>1,Ue=te[ze];if(0<i(Ue,he))te[ze]=he,te[ve]=Ue,ve=ze;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var he=te[0],ve=te.pop();if(ve!==he){te[0]=ve;e:for(var ze=0,Ue=te.length,rt=Ue>>>1;ze<rt;){var Fe=2*(ze+1)-1,st=te[Fe],ct=Fe+1,Dt=te[ct];if(0>i(st,ve))ct<Ue&&0>i(Dt,st)?(te[ze]=Dt,te[ct]=ve,ze=ct):(te[ze]=st,te[Fe]=ve,ze=Fe);else if(ct<Ue&&0>i(Dt,ve))te[ze]=Dt,te[ct]=ve,ze=ct;else break e}}return he}function i(te,he){var ve=te.sortIndex-he.sortIndex;return ve!==0?ve:te.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],h=1,p=null,g=3,v=!1,x=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(te){for(var he=n(c);he!==null;){if(he.callback===null)r(c);else if(he.startTime<=te)r(c),he.sortIndex=he.expirationTime,e(l,he);else break;he=n(c)}}function k(te){if(_=!1,T(te),!x)if(n(l)!==null)x=!0,fe(R);else{var he=n(c);he!==null&&xe(k,he.startTime-te)}}function R(te,he){x=!1,_&&(_=!1,w(H),H=-1),v=!0;var ve=g;try{for(T(he),p=n(l);p!==null&&(!(p.expirationTime>he)||te&&!X());){var ze=p.callback;if(typeof ze=="function"){p.callback=null,g=p.priorityLevel;var Ue=ze(p.expirationTime<=he);he=t.unstable_now(),typeof Ue=="function"?p.callback=Ue:p===n(l)&&r(l),T(he)}else r(l);p=n(l)}if(p!==null)var rt=!0;else{var Fe=n(c);Fe!==null&&xe(k,Fe.startTime-he),rt=!1}return rt}finally{p=null,g=ve,v=!1}}var L=!1,F=null,H=-1,Z=5,j=-1;function X(){return!(t.unstable_now()-j<Z)}function le(){if(F!==null){var te=t.unstable_now();j=te;var he=!0;try{he=F(!0,te)}finally{he?me():(L=!1,F=null)}}else L=!1}var me;if(typeof C=="function")me=function(){C(le)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ce=ie.port2;ie.port1.onmessage=le,me=function(){ce.postMessage(null)}}else me=function(){S(le,0)};function fe(te){F=te,L||(L=!0,me())}function xe(te,he){H=S(function(){te(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,fe(R))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(te){switch(g){case 1:case 2:case 3:var he=3;break;default:he=g}var ve=g;g=he;try{return te()}finally{g=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ve=g;g=te;try{return he()}finally{g=ve}},t.unstable_scheduleCallback=function(te,he,ve){var ze=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ze+ve:ze):ve=ze,te){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ve+Ue,te={id:h++,callback:he,priorityLevel:te,startTime:ve,expirationTime:Ue,sortIndex:-1},ve>ze?(te.sortIndex=ve,e(c,te),n(l)===null&&te===n(c)&&(_?(w(H),H=-1):_=!0,xe(k,ve-ze))):(te.sortIndex=Ue,e(l,te),x||v||(x=!0,fe(R))),te},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(te){var he=g;return function(){var ve=g;g=he;try{return te.apply(this,arguments)}finally{g=ve}}}}(XN)),XN}var eJ;function A0t(){return eJ||(eJ=1,YN.exports=C0t()),YN.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0t=function(e){var n={},r=V,i=A0t(),o=Object.assign;function a(M){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+M,$=1;$<arguments.length;$++)E+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+M+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),R=Symbol.iterator;function L(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}function F(M){if(M==null)return null;if(typeof M=="function")return M.displayName||M.name||null;if(typeof M=="string")return M;switch(M){case h:return"Fragment";case c:return"Portal";case g:return"Profiler";case p:return"StrictMode";case S:return"Suspense";case w:return"SuspenseList"}if(typeof M=="object")switch(M.$$typeof){case x:return(M.displayName||"Context")+".Consumer";case v:return(M._context.displayName||"Context")+".Provider";case _:var E=M.render;return M=M.displayName,M||(M=E.displayName||E.name||"",M=M!==""?"ForwardRef("+M+")":"ForwardRef"),M;case C:return E=M.displayName||null,E!==null?E:F(M.type)||"Memo";case T:E=M._payload,M=M._init;try{return F(M(E))}catch{}}return null}function H(M){var E=M.type;switch(M.tag){case 24:return"Cache";case 9:return(E.displayName||"Context")+".Consumer";case 10:return(E._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return M=E.render,M=M.displayName||M.name||"",E.displayName||(M!==""?"ForwardRef("+M+")":"ForwardRef");case 7:return"Fragment";case 5:return E;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(E);case 8:return E===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E}return null}function Z(M){var E=M,$=M;if(M.alternate)for(;E.return;)E=E.return;else{M=E;do E=M,E.flags&4098&&($=E.return),M=E.return;while(M)}return E.tag===3?$:null}function j(M){if(Z(M)!==M)throw Error(a(188))}function X(M){var E=M.alternate;if(!E){if(E=Z(M),E===null)throw Error(a(188));return E!==M?null:M}for(var $=M,q=E;;){var Q=$.return;if(Q===null)break;var ue=Q.alternate;if(ue===null){if(q=Q.return,q!==null){$=q;continue}break}if(Q.child===ue.child){for(ue=Q.child;ue;){if(ue===$)return j(Q),M;if(ue===q)return j(Q),E;ue=ue.sibling}throw Error(a(188))}if($.return!==q.return)$=Q,q=ue;else{for(var We=!1,_t=Q.child;_t;){if(_t===$){We=!0,$=Q,q=ue;break}if(_t===q){We=!0,q=Q,$=ue;break}_t=_t.sibling}if(!We){for(_t=ue.child;_t;){if(_t===$){We=!0,$=ue,q=Q;break}if(_t===q){We=!0,q=ue,$=Q;break}_t=_t.sibling}if(!We)throw Error(a(189))}}if($.alternate!==q)throw Error(a(190))}if($.tag!==3)throw Error(a(188));return $.stateNode.current===$?M:E}function le(M){return M=X(M),M!==null?me(M):null}function me(M){if(M.tag===5||M.tag===6)return M;for(M=M.child;M!==null;){var E=me(M);if(E!==null)return E;M=M.sibling}return null}function ie(M){if(M.tag===5||M.tag===6)return M;for(M=M.child;M!==null;){if(M.tag!==4){var E=ie(M);if(E!==null)return E}M=M.sibling}return null}var ce=Array.isArray,fe=e.getPublicInstance,xe=e.getRootHostContext,te=e.getChildHostContext,he=e.prepareForCommit,ve=e.resetAfterCommit,ze=e.createInstance,Ue=e.appendInitialChild,rt=e.finalizeInitialChildren,Fe=e.prepareUpdate,st=e.shouldSetTextContent,ct=e.createTextInstance,Dt=e.scheduleTimeout,zt=e.cancelTimeout,Be=e.noTimeout,lt=e.isPrimaryRenderer,Qe=e.supportsMutation,ge=e.supportsPersistence,et=e.supportsHydration,ot=e.getInstanceFromNode,Tt=e.preparePortalMount,Ct=e.getCurrentEventPriority,Ft=e.detachDeletedInstance,Gt=e.supportsMicrotasks,sn=e.scheduleMicrotask,Je=e.supportsTestSelectors,Ce=e.findFiberRoot,_e=e.getBoundingRect,ht=e.getTextContent,dt=e.isHiddenSubtree,Wt=e.matchAccessibilityRole,jt=e.setFocusIfFocusable,Mn=e.setupIntersectionObserver,cn=e.appendChild,Rt=e.appendChildToContainer,nn=e.commitTextUpdate,Pn=e.commitMount,mt=e.commitUpdate,un=e.insertBefore,an=e.insertInContainerBefore,Ot=e.removeChild,ke=e.removeChildFromContainer,Ve=e.resetTextContent,Me=e.hideInstance,it=e.hideTextInstance,en=e.unhideInstance,Xe=e.unhideTextInstance,kt=e.clearContainer,Et=e.cloneInstance,we=e.createContainerChildSet,oe=e.appendChildToContainerChildSet,pe=e.finalizeContainerChildren,Te=e.replaceContainerChildren,Pe=e.cloneHiddenInstance,Ne=e.cloneHiddenTextInstance,Ke=e.canHydrateInstance,qe=e.canHydrateTextInstance,je=e.canHydrateSuspenseInstance,tt=e.isSuspenseInstancePending,Nt=e.isSuspenseInstanceFallback,Ut=e.registerSuspenseInstanceRetry,$t=e.getNextHydratableSibling,kn=e.getFirstHydratableChild,er=e.getFirstHydratableChildWithinContainer,Tn=e.getFirstHydratableChildWithinSuspenseInstance,Vn=e.hydrateInstance,sr=e.hydrateTextInstance,$r=e.hydrateSuspenseInstance,Ae=e.getNextHydratableInstanceAfterSuspenseInstance,ut=e.commitHydratedContainer,bt=e.commitHydratedSuspenseInstance,yt=e.clearSuspenseBoundary,vt=e.clearSuspenseBoundaryFromContainer,pn=e.shouldDeleteUnhydratedTailInstances,An=e.didNotMatchHydratedContainerTextInstance,Kn=e.didNotMatchHydratedTextInstance,dr;function fr(M){if(dr===void 0)try{throw Error()}catch($){var E=$.stack.trim().match(/\n( *(at )?)/);dr=E&&E[1]||""}return`
`+dr+M}var cr=!1;function br(M,E){if(!M||cr)return"";cr=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(yn){var q=yn}Reflect.construct(M,[],E)}else{try{E.call()}catch(yn){q=yn}M.call(E.prototype)}else{try{throw Error()}catch(yn){q=yn}M()}}catch(yn){if(yn&&q&&typeof yn.stack=="string"){for(var Q=yn.stack.split(`
`),ue=q.stack.split(`
`),We=Q.length-1,_t=ue.length-1;1<=We&&0<=_t&&Q[We]!==ue[_t];)_t--;for(;1<=We&&0<=_t;We--,_t--)if(Q[We]!==ue[_t]){if(We!==1||_t!==1)do if(We--,_t--,0>_t||Q[We]!==ue[_t]){var Vt=`
`+Q[We].replace(" at new "," at ");return M.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",M.displayName)),Vt}while(1<=We&&0<=_t);break}}}finally{cr=!1,Error.prepareStackTrace=$}return(M=M?M.displayName||M.name:"")?fr(M):""}var ar=Object.prototype.hasOwnProperty,No=[],hi=-1;function Yr(M){return{current:M}}function Zn(M){0>hi||(M.current=No[hi],No[hi]=null,hi--)}function Nn(M,E){hi++,No[hi]=M.current,M.current=E}var to={},tr=Yr(to),Li=Yr(!1),Ns=to;function Ur(M,E){var $=M.type.contextTypes;if(!$)return to;var q=M.stateNode;if(q&&q.__reactInternalMemoizedUnmaskedChildContext===E)return q.__reactInternalMemoizedMaskedChildContext;var Q={},ue;for(ue in $)Q[ue]=E[ue];return q&&(M=M.stateNode,M.__reactInternalMemoizedUnmaskedChildContext=E,M.__reactInternalMemoizedMaskedChildContext=Q),Q}function hr(M){return M=M.childContextTypes,M!=null}function Si(){Zn(Li),Zn(tr)}function Zr(M,E,$){if(tr.current!==to)throw Error(a(168));Nn(tr,E),Nn(Li,$)}function Rc(M,E,$){var q=M.stateNode;if(E=E.childContextTypes,typeof q.getChildContext!="function")return $;q=q.getChildContext();for(var Q in q)if(!(Q in E))throw Error(a(108,H(M)||"Unknown",Q));return o({},$,q)}function pi(M){return M=(M=M.stateNode)&&M.__reactInternalMemoizedMergedChildContext||to,Ns=tr.current,Nn(tr,M),Nn(Li,Li.current),!0}function Eu(M,E,$){var q=M.stateNode;if(!q)throw Error(a(169));$?(M=Rc(M,E,Ns),q.__reactInternalMemoizedMergedChildContext=M,Zn(Li),Zn(tr),Nn(tr,M)):Zn(Li),Nn(Li,$)}var To=Math.clz32?Math.clz32:hm,jh=Math.log,Ry=Math.LN2;function hm(M){return M>>>=0,M===0?32:31-(jh(M)/Ry|0)|0}var Sd=64,Sl=4194304;function Md(M){switch(M&-M){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return M&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return M&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return M}}function Tu(M,E){var $=M.pendingLanes;if($===0)return 0;var q=0,Q=M.suspendedLanes,ue=M.pingedLanes,We=$&268435455;if(We!==0){var _t=We&~Q;_t!==0?q=Md(_t):(ue&=We,ue!==0&&(q=Md(ue)))}else We=$&~Q,We!==0?q=Md(We):ue!==0&&(q=Md(ue));if(q===0)return 0;if(E!==0&&E!==q&&!(E&Q)&&(Q=q&-q,ue=E&-E,Q>=ue||Q===16&&(ue&4194240)!==0))return E;if(q&4&&(q|=$&16),E=M.entangledLanes,E!==0)for(M=M.entanglements,E&=q;0<E;)$=31-To(E),Q=1<<$,q|=M[$],E&=~Q;return q}function rx(M,E){switch(M){case 1:case 2:case 4:return E+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G1(M,E){for(var $=M.suspendedLanes,q=M.pingedLanes,Q=M.expirationTimes,ue=M.pendingLanes;0<ue;){var We=31-To(ue),_t=1<<We,Vt=Q[We];Vt===-1?(!(_t&$)||_t&q)&&(Q[We]=rx(_t,E)):Vt<=E&&(M.expiredLanes|=_t),ue&=~_t}}function Uh(M){return M=M.pendingLanes&-1073741825,M!==0?M:M&1073741824?1073741824:0}function Vh(M){for(var E=[],$=0;31>$;$++)E.push(M);return E}function Tf(M,E,$){M.pendingLanes|=E,E!==536870912&&(M.suspendedLanes=0,M.pingedLanes=0),M=M.eventTimes,E=31-To(E),M[E]=$}function q1(M,E){var $=M.pendingLanes&~E;M.pendingLanes=E,M.suspendedLanes=0,M.pingedLanes=0,M.expiredLanes&=E,M.mutableReadLanes&=E,M.entangledLanes&=E,E=M.entanglements;var q=M.eventTimes;for(M=M.expirationTimes;0<$;){var Q=31-To($),ue=1<<Q;E[Q]=0,q[Q]=-1,M[Q]=-1,$&=~ue}}function pm(M,E){var $=M.entangledLanes|=E;for(M=M.entanglements;$;){var q=31-To($),Q=1<<q;Q&E|M[q]&E&&(M[q]|=E),$&=~Q}}var Xr=0;function Wh(M){return M&=-M,1<M?4<M?M&268435455?16:536870912:4:1}var mm=i.unstable_scheduleCallback,Oy=i.unstable_cancelCallback,Ly=i.unstable_shouldYield,Dy=i.unstable_requestPaint,Ui=i.unstable_now,Cf=i.unstable_ImmediatePriority,Ua=i.unstable_UserBlockingPriority,Af=i.unstable_NormalPriority,gm=i.unstable_IdlePriority,Cu=null,va=null;function Pf(M){if(va&&typeof va.onCommitFiberRoot=="function")try{va.onCommitFiberRoot(Cu,M,void 0,(M.current.flags&128)===128)}catch{}}function Au(M,E){return M===E&&(M!==0||1/M===1/E)||M!==M&&E!==E}var yr=typeof Object.is=="function"?Object.is:Au,Va=null,Cs=!1,zs=!1;function ym(M){Va===null?Va=[M]:Va.push(M)}function vm(M){Cs=!0,ym(M)}function xa(){if(!zs&&Va!==null){zs=!0;var M=0,E=Xr;try{var $=Va;for(Xr=1;M<$.length;M++){var q=$[M];do q=q(!0);while(q!==null)}Va=null,Cs=!1}catch(Q){throw Va!==null&&(Va=Va.slice(M+1)),mm(Cf,xa),Q}finally{Xr=E,zs=!1}}return null}var Ny=s.ReactCurrentBatchConfig;function If(M,E){if(yr(M,E))return!0;if(typeof M!="object"||M===null||typeof E!="object"||E===null)return!1;var $=Object.keys(M),q=Object.keys(E);if($.length!==q.length)return!1;for(q=0;q<$.length;q++){var Q=$[q];if(!ar.call(E,Q)||!yr(M[Q],E[Q]))return!1}return!0}function xm(M){switch(M.tag){case 5:return fr(M.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 2:case 15:return M=br(M.type,!1),M;case 11:return M=br(M.type.render,!1),M;case 1:return M=br(M.type,!0),M;default:return""}}function _a(M,E){if(M&&M.defaultProps){E=o({},E),M=M.defaultProps;for(var $ in M)E[$]===void 0&&(E[$]=M[$]);return E}return E}var kf=Yr(null),Ed=null,Td=null,_m=null;function Pu(){_m=Td=Ed=null}function ix(M,E,$){lt?(Nn(kf,E._currentValue),E._currentValue=$):(Nn(kf,E._currentValue2),E._currentValue2=$)}function zy(M){var E=kf.current;Zn(kf),lt?M._currentValue=E:M._currentValue2=E}function By(M,E,$){for(;M!==null;){var q=M.alternate;if((M.childLanes&E)!==E?(M.childLanes|=E,q!==null&&(q.childLanes|=E)):q!==null&&(q.childLanes&E)!==E&&(q.childLanes|=E),M===$)break;M=M.return}}function Rf(M,E){Ed=M,_m=Td=null,M=M.dependencies,M!==null&&M.firstContext!==null&&(M.lanes&E&&(Xo=!0),M.firstContext=null)}function Wa(M){var E=lt?M._currentValue:M._currentValue2;if(_m!==M)if(M={context:M,memoizedValue:E,next:null},Td===null){if(Ed===null)throw Error(a(308));Td=M,Ed.dependencies={lanes:0,firstContext:M}}else Td=Td.next=M;return E}var ec=null,tc=!1;function Of(M){M.updateQueue={baseState:M.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bm(M,E){M=M.updateQueue,E.updateQueue===M&&(E.updateQueue={baseState:M.baseState,firstBaseUpdate:M.firstBaseUpdate,lastBaseUpdate:M.lastBaseUpdate,shared:M.shared,effects:M.effects})}function Ml(M,E){return{eventTime:M,lane:E,tag:0,payload:null,callback:null,next:null}}function ba(M,E){var $=M.updateQueue;$!==null&&($=$.shared,ti!==null&&M.mode&1&&!(mr&2)?(M=$.interleaved,M===null?(E.next=E,ec===null?ec=[$]:ec.push($)):(E.next=M.next,M.next=E),$.interleaved=E):(M=$.pending,M===null?E.next=E:(E.next=M.next,M.next=E),$.pending=E))}function Hh(M,E,$){if(E=E.updateQueue,E!==null&&(E=E.shared,($&4194240)!==0)){var q=E.lanes;q&=M.pendingLanes,$|=q,E.lanes=$,pm(M,$)}}function Fy(M,E){var $=M.updateQueue,q=M.alternate;if(q!==null&&(q=q.updateQueue,$===q)){var Q=null,ue=null;if($=$.firstBaseUpdate,$!==null){do{var We={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};ue===null?Q=ue=We:ue=ue.next=We,$=$.next}while($!==null);ue===null?Q=ue=E:ue=ue.next=E}else Q=ue=E;$={baseState:q.baseState,firstBaseUpdate:Q,lastBaseUpdate:ue,shared:q.shared,effects:q.effects},M.updateQueue=$;return}M=$.lastBaseUpdate,M===null?$.firstBaseUpdate=E:M.next=E,$.lastBaseUpdate=E}function Lf(M,E,$,q){var Q=M.updateQueue;tc=!1;var ue=Q.firstBaseUpdate,We=Q.lastBaseUpdate,_t=Q.shared.pending;if(_t!==null){Q.shared.pending=null;var Vt=_t,yn=Vt.next;Vt.next=null,We===null?ue=yn:We.next=yn,We=Vt;var Wn=M.alternate;Wn!==null&&(Wn=Wn.updateQueue,_t=Wn.lastBaseUpdate,_t!==We&&(_t===null?Wn.firstBaseUpdate=yn:_t.next=yn,Wn.lastBaseUpdate=Vt))}if(ue!==null){var Cr=Q.baseState;We=0,Wn=yn=Vt=null,_t=ue;do{var lr=_t.lane,Pi=_t.eventTime;if((q&lr)===lr){Wn!==null&&(Wn=Wn.next={eventTime:Pi,lane:0,tag:_t.tag,payload:_t.payload,callback:_t.callback,next:null});e:{var rr=M,Xs=_t;switch(lr=E,Pi=$,Xs.tag){case 1:if(rr=Xs.payload,typeof rr=="function"){Cr=rr.call(Pi,Cr,lr);break e}Cr=rr;break e;case 3:rr.flags=rr.flags&-65537|128;case 0:if(rr=Xs.payload,lr=typeof rr=="function"?rr.call(Pi,Cr,lr):rr,lr==null)break e;Cr=o({},Cr,lr);break e;case 2:tc=!0}}_t.callback!==null&&_t.lane!==0&&(M.flags|=64,lr=Q.effects,lr===null?Q.effects=[_t]:lr.push(_t))}else Pi={eventTime:Pi,lane:lr,tag:_t.tag,payload:_t.payload,callback:_t.callback,next:null},Wn===null?(yn=Wn=Pi,Vt=Cr):Wn=Wn.next=Pi,We|=lr;if(_t=_t.next,_t===null){if(_t=Q.shared.pending,_t===null)break;lr=_t,_t=lr.next,lr.next=null,Q.lastBaseUpdate=lr,Q.shared.pending=null}}while(!0);if(Wn===null&&(Vt=Cr),Q.baseState=Vt,Q.firstBaseUpdate=yn,Q.lastBaseUpdate=Wn,E=Q.shared.interleaved,E!==null){Q=E;do We|=Q.lane,Q=Q.next;while(Q!==E)}else ue===null&&(Q.shared.lanes=0);Gf|=We,M.lanes=We,M.memoizedState=Cr}}function Iu(M,E,$){if(M=E.effects,E.effects=null,M!==null)for(E=0;E<M.length;E++){var q=M[E],Q=q.callback;if(Q!==null){if(q.callback=null,q=$,typeof Q!="function")throw Error(a(191,Q));Q.call(q)}}}var $y=new r.Component().refs;function nc(M,E,$,q){E=M.memoizedState,$=$(q,E),$=$==null?E:o({},E,$),M.memoizedState=$,M.lanes===0&&(M.updateQueue.baseState=$)}var Oc={isMounted:function(M){return(M=M._reactInternals)?Z(M)===M:!1},enqueueSetState:function(M,E,$){M=M._reactInternals;var q=Ps(),Q=Uc(M),ue=Ml(q,Q);ue.payload=E,$!=null&&(ue.callback=$),ba(M,ue),E=Al(M,Q,q),E!==null&&Hh(E,M,Q)},enqueueReplaceState:function(M,E,$){M=M._reactInternals;var q=Ps(),Q=Uc(M),ue=Ml(q,Q);ue.tag=1,ue.payload=E,$!=null&&(ue.callback=$),ba(M,ue),E=Al(M,Q,q),E!==null&&Hh(E,M,Q)},enqueueForceUpdate:function(M,E){M=M._reactInternals;var $=Ps(),q=Uc(M),Q=Ml($,q);Q.tag=2,E!=null&&(Q.callback=E),ba(M,Q),E=Al(M,q,$),E!==null&&Hh(E,M,q)}};function jy(M,E,$,q,Q,ue,We){return M=M.stateNode,typeof M.shouldComponentUpdate=="function"?M.shouldComponentUpdate(q,ue,We):E.prototype&&E.prototype.isPureReactComponent?!If($,q)||!If(Q,ue):!0}function wm(M,E,$){var q=!1,Q=to,ue=E.contextType;return typeof ue=="object"&&ue!==null?ue=Wa(ue):(Q=hr(E)?Ns:tr.current,q=E.contextTypes,ue=(q=q!=null)?Ur(M,Q):to),E=new E($,ue),M.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Oc,M.stateNode=E,E._reactInternals=M,q&&(M=M.stateNode,M.__reactInternalMemoizedUnmaskedChildContext=Q,M.__reactInternalMemoizedMaskedChildContext=ue),E}function Wr(M,E,$,q){M=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps($,q),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps($,q),E.state!==M&&Oc.enqueueReplaceState(E,E.state,null)}function Oi(M,E,$,q){var Q=M.stateNode;Q.props=$,Q.state=M.memoizedState,Q.refs=$y,Of(M);var ue=E.contextType;typeof ue=="object"&&ue!==null?Q.context=Wa(ue):(ue=hr(E)?Ns:tr.current,Q.context=Ur(M,ue)),Q.state=M.memoizedState,ue=E.getDerivedStateFromProps,typeof ue=="function"&&(nc(M,E,ue,$),Q.state=M.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(E=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),E!==Q.state&&Oc.enqueueReplaceState(Q,Q.state,null),Lf(M,$,Q,q),Q.state=M.memoizedState),typeof Q.componentDidMount=="function"&&(M.flags|=4194308)}var Df=[],Sr=0,rc=null,Mi=0,jr=[],As=0,ku=null,El=1,Ha="";function ic(M,E){Df[Sr++]=Mi,Df[Sr++]=rc,rc=M,Mi=E}function Sm(M,E,$){jr[As++]=El,jr[As++]=Ha,jr[As++]=ku,ku=M;var q=El;M=Ha;var Q=32-To(q)-1;q&=~(1<<Q),$+=1;var ue=32-To(E)+Q;if(30<ue){var We=Q-Q%5;ue=(q&(1<<We)-1).toString(32),q>>=We,Q-=We,El=1<<32-To(E)+Q|$<<Q|q,Ha=ue+M}else El=1<<ue|$<<Q|q,Ha=M}function Nf(M){M.return!==null&&(ic(M,1),Sm(M,1,0))}function Gh(M){for(;M===rc;)rc=Df[--Sr],Df[Sr]=null,Mi=Df[--Sr],Df[Sr]=null;for(;M===ku;)ku=jr[--As],jr[As]=null,Ha=jr[--As],jr[As]=null,El=jr[--As],jr[As]=null}var as=null,ls=null,mi=!1,qh=!1,wa=null;function ox(M,E){var $=fc(5,null,null,0);$.elementType="DELETED",$.stateNode=E,$.return=M,E=M.deletions,E===null?(M.deletions=[$],M.flags|=16):E.push($)}function Uy(M,E){switch(M.tag){case 5:return E=Ke(E,M.type,M.pendingProps),E!==null?(M.stateNode=E,as=M,ls=kn(E),!0):!1;case 6:return E=qe(E,M.pendingProps),E!==null?(M.stateNode=E,as=M,ls=null,!0):!1;case 13:if(E=je(E),E!==null){var $=ku!==null?{id:El,overflow:Ha}:null;return M.memoizedState={dehydrated:E,treeContext:$,retryLane:1073741824},$=fc(18,null,null,0),$.stateNode=E,$.return=M,M.child=$,as=M,ls=null,!0}return!1;default:return!1}}function zf(M){return(M.mode&1)!==0&&(M.flags&128)===0}function Yh(M){if(mi){var E=ls;if(E){var $=E;if(!Uy(M,E)){if(zf(M))throw Error(a(418));E=$t($);var q=as;E&&Uy(M,E)?ox(q,$):(M.flags=M.flags&-4097|2,mi=!1,as=M)}}else{if(zf(M))throw Error(a(418));M.flags=M.flags&-4097|2,mi=!1,as=M}}}function Vy(M){for(M=M.return;M!==null&&M.tag!==5&&M.tag!==3&&M.tag!==13;)M=M.return;as=M}function Bf(M){if(!et||M!==as)return!1;if(!mi)return Vy(M),mi=!0,!1;if(M.tag!==3&&(M.tag!==5||pn(M.type)&&!st(M.type,M.memoizedProps))){var E=ls;if(E){if(zf(M)){for(M=ls;M;)M=$t(M);throw Error(a(418))}for(;E;)ox(M,E),E=$t(E)}}if(Vy(M),M.tag===13){if(!et)throw Error(a(316));if(M=M.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(a(317));ls=Ae(M)}else ls=as?$t(M.stateNode):null;return!0}function oc(){et&&(ls=as=null,qh=mi=!1)}function Ff(M){wa===null?wa=[M]:wa.push(M)}function Ru(M,E,$){if(M=$.ref,M!==null&&typeof M!="function"&&typeof M!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(a(309));var q=$.stateNode}if(!q)throw Error(a(147,M));var Q=q,ue=""+M;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===ue?E.ref:(E=function(We){var _t=Q.refs;_t===$y&&(_t=Q.refs={}),We===null?delete _t[ue]:_t[ue]=We},E._stringRef=ue,E)}if(typeof M!="string")throw Error(a(284));if(!$._owner)throw Error(a(290,M))}return M}function Xh(M,E){throw M=Object.prototype.toString.call(E),Error(a(31,M==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":M))}function Vi(M){var E=M._init;return E(M._payload)}function Ou(M){function E(Lt,St){if(M){var Bt=Lt.deletions;Bt===null?(Lt.deletions=[St],Lt.flags|=16):Bt.push(St)}}function $(Lt,St){if(!M)return null;for(;St!==null;)E(Lt,St),St=St.sibling;return null}function q(Lt,St){for(Lt=new Map;St!==null;)St.key!==null?Lt.set(St.key,St):Lt.set(St.index,St),St=St.sibling;return Lt}function Q(Lt,St){return Lt=eh(Lt,St),Lt.index=0,Lt.sibling=null,Lt}function ue(Lt,St,Bt){return Lt.index=Bt,M?(Bt=Lt.alternate,Bt!==null?(Bt=Bt.index,Bt<St?(Lt.flags|=2,St):Bt):(Lt.flags|=2,St)):(Lt.flags|=1048576,St)}function We(Lt){return M&&Lt.alternate===null&&(Lt.flags|=2),Lt}function _t(Lt,St,Bt,Ln){return St===null||St.tag!==6?(St=cv(Bt,Lt.mode,Ln),St.return=Lt,St):(St=Q(St,Bt),St.return=Lt,St)}function Vt(Lt,St,Bt,Ln){var or=Bt.type;return or===h?Wn(Lt,St,Bt.props.children,Ln,Bt.key):St!==null&&(St.elementType===or||typeof or=="object"&&or!==null&&or.$$typeof===T&&Vi(or)===St.type)?(Ln=Q(St,Bt.props),Ln.ref=Ru(Lt,St,Bt),Ln.return=Lt,Ln):(Ln=fx(Bt.type,Bt.key,Bt.props,null,Lt.mode,Ln),Ln.ref=Ru(Lt,St,Bt),Ln.return=Lt,Ln)}function yn(Lt,St,Bt,Ln){return St===null||St.tag!==4||St.stateNode.containerInfo!==Bt.containerInfo||St.stateNode.implementation!==Bt.implementation?(St=ow(Bt,Lt.mode,Ln),St.return=Lt,St):(St=Q(St,Bt.children||[]),St.return=Lt,St)}function Wn(Lt,St,Bt,Ln,or){return St===null||St.tag!==7?(St=np(Bt,Lt.mode,Ln,or),St.return=Lt,St):(St=Q(St,Bt),St.return=Lt,St)}function Cr(Lt,St,Bt){if(typeof St=="string"&&St!==""||typeof St=="number")return St=cv(""+St,Lt.mode,Bt),St.return=Lt,St;if(typeof St=="object"&&St!==null){switch(St.$$typeof){case l:return Bt=fx(St.type,St.key,St.props,null,Lt.mode,Bt),Bt.ref=Ru(Lt,null,St),Bt.return=Lt,Bt;case c:return St=ow(St,Lt.mode,Bt),St.return=Lt,St;case T:var Ln=St._init;return Cr(Lt,Ln(St._payload),Bt)}if(ce(St)||L(St))return St=np(St,Lt.mode,Bt,null),St.return=Lt,St;Xh(Lt,St)}return null}function lr(Lt,St,Bt,Ln){var or=St!==null?St.key:null;if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number")return or!==null?null:_t(Lt,St,""+Bt,Ln);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case l:return Bt.key===or?Vt(Lt,St,Bt,Ln):null;case c:return Bt.key===or?yn(Lt,St,Bt,Ln):null;case T:return or=Bt._init,lr(Lt,St,or(Bt._payload),Ln)}if(ce(Bt)||L(Bt))return or!==null?null:Wn(Lt,St,Bt,Ln,null);Xh(Lt,Bt)}return null}function Pi(Lt,St,Bt,Ln,or){if(typeof Ln=="string"&&Ln!==""||typeof Ln=="number")return Lt=Lt.get(Bt)||null,_t(St,Lt,""+Ln,or);if(typeof Ln=="object"&&Ln!==null){switch(Ln.$$typeof){case l:return Lt=Lt.get(Ln.key===null?Bt:Ln.key)||null,Vt(St,Lt,Ln,or);case c:return Lt=Lt.get(Ln.key===null?Bt:Ln.key)||null,yn(St,Lt,Ln,or);case T:var wr=Ln._init;return Pi(Lt,St,Bt,wr(Ln._payload),or)}if(ce(Ln)||L(Ln))return Lt=Lt.get(Bt)||null,Wn(St,Lt,Ln,or,null);Xh(St,Ln)}return null}function rr(Lt,St,Bt,Ln){for(var or=null,wr=null,Ar=St,ni=St=0,xo=null;Ar!==null&&ni<Bt.length;ni++){Ar.index>ni?(xo=Ar,Ar=null):xo=Ar.sibling;var oi=lr(Lt,Ar,Bt[ni],Ln);if(oi===null){Ar===null&&(Ar=xo);break}M&&Ar&&oi.alternate===null&&E(Lt,Ar),St=ue(oi,St,ni),wr===null?or=oi:wr.sibling=oi,wr=oi,Ar=xo}if(ni===Bt.length)return $(Lt,Ar),mi&&ic(Lt,ni),or;if(Ar===null){for(;ni<Bt.length;ni++)Ar=Cr(Lt,Bt[ni],Ln),Ar!==null&&(St=ue(Ar,St,ni),wr===null?or=Ar:wr.sibling=Ar,wr=Ar);return mi&&ic(Lt,ni),or}for(Ar=q(Lt,Ar);ni<Bt.length;ni++)xo=Pi(Ar,Lt,ni,Bt[ni],Ln),xo!==null&&(M&&xo.alternate!==null&&Ar.delete(xo.key===null?ni:xo.key),St=ue(xo,St,ni),wr===null?or=xo:wr.sibling=xo,wr=xo);return M&&Ar.forEach(function(th){return E(Lt,th)}),mi&&ic(Lt,ni),or}function Xs(Lt,St,Bt,Ln){var or=L(Bt);if(typeof or!="function")throw Error(a(150));if(Bt=or.call(Bt),Bt==null)throw Error(a(151));for(var wr=or=null,Ar=St,ni=St=0,xo=null,oi=Bt.next();Ar!==null&&!oi.done;ni++,oi=Bt.next()){Ar.index>ni?(xo=Ar,Ar=null):xo=Ar.sibling;var th=lr(Lt,Ar,oi.value,Ln);if(th===null){Ar===null&&(Ar=xo);break}M&&Ar&&th.alternate===null&&E(Lt,Ar),St=ue(th,St,ni),wr===null?or=th:wr.sibling=th,wr=th,Ar=xo}if(oi.done)return $(Lt,Ar),mi&&ic(Lt,ni),or;if(Ar===null){for(;!oi.done;ni++,oi=Bt.next())oi=Cr(Lt,oi.value,Ln),oi!==null&&(St=ue(oi,St,ni),wr===null?or=oi:wr.sibling=oi,wr=oi);return mi&&ic(Lt,ni),or}for(Ar=q(Lt,Ar);!oi.done;ni++,oi=Bt.next())oi=Pi(Ar,Lt,ni,oi.value,Ln),oi!==null&&(M&&oi.alternate!==null&&Ar.delete(oi.key===null?ni:oi.key),St=ue(oi,St,ni),wr===null?or=oi:wr.sibling=oi,wr=oi);return M&&Ar.forEach(function(pL){return E(Lt,pL)}),mi&&ic(Lt,ni),or}function Pl(Lt,St,Bt,Ln){if(typeof Bt=="object"&&Bt!==null&&Bt.type===h&&Bt.key===null&&(Bt=Bt.props.children),typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case l:e:{for(var or=Bt.key,wr=St;wr!==null;){if(wr.key===or){if(or=Bt.type,or===h){if(wr.tag===7){$(Lt,wr.sibling),St=Q(wr,Bt.props.children),St.return=Lt,Lt=St;break e}}else if(wr.elementType===or||typeof or=="object"&&or!==null&&or.$$typeof===T&&Vi(or)===wr.type){$(Lt,wr.sibling),St=Q(wr,Bt.props),St.ref=Ru(Lt,wr,Bt),St.return=Lt,Lt=St;break e}$(Lt,wr);break}else E(Lt,wr);wr=wr.sibling}Bt.type===h?(St=np(Bt.props.children,Lt.mode,Ln,Bt.key),St.return=Lt,Lt=St):(Ln=fx(Bt.type,Bt.key,Bt.props,null,Lt.mode,Ln),Ln.ref=Ru(Lt,St,Bt),Ln.return=Lt,Lt=Ln)}return We(Lt);case c:e:{for(wr=Bt.key;St!==null;){if(St.key===wr)if(St.tag===4&&St.stateNode.containerInfo===Bt.containerInfo&&St.stateNode.implementation===Bt.implementation){$(Lt,St.sibling),St=Q(St,Bt.children||[]),St.return=Lt,Lt=St;break e}else{$(Lt,St);break}else E(Lt,St);St=St.sibling}St=ow(Bt,Lt.mode,Ln),St.return=Lt,Lt=St}return We(Lt);case T:return wr=Bt._init,Pl(Lt,St,wr(Bt._payload),Ln)}if(ce(Bt))return rr(Lt,St,Bt,Ln);if(L(Bt))return Xs(Lt,St,Bt,Ln);Xh(Lt,Bt)}return typeof Bt=="string"&&Bt!==""||typeof Bt=="number"?(Bt=""+Bt,St!==null&&St.tag===6?($(Lt,St.sibling),St=Q(St,Bt),St.return=Lt,Lt=St):($(Lt,St),St=cv(Bt,Lt.mode,Ln),St.return=Lt,Lt=St),We(Lt)):$(Lt,St)}return Pl}var zo=Ou(!0),Cd=Ou(!1),Lc={},Bs=Yr(Lc),Tl=Yr(Lc),sc=Yr(Lc);function Fs(M){if(M===Lc)throw Error(a(174));return M}function Mm(M,E){Nn(sc,E),Nn(Tl,M),Nn(Bs,Lc),M=xe(E),Zn(Bs),Nn(Bs,M)}function Ad(){Zn(Bs),Zn(Tl),Zn(sc)}function Wy(M){var E=Fs(sc.current),$=Fs(Bs.current);E=te($,M.type,E),$!==E&&(Nn(Tl,M),Nn(Bs,E))}function Em(M){Tl.current===M&&(Zn(Bs),Zn(Tl))}var Wi=Yr(0);function Sa(M){for(var E=M;E!==null;){if(E.tag===13){var $=E.memoizedState;if($!==null&&($=$.dehydrated,$===null||tt($)||Nt($)))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if(E.flags&128)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===M)break;for(;E.sibling===null;){if(E.return===null||E.return===M)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var Pd=[];function $s(){for(var M=0;M<Pd.length;M++){var E=Pd[M];lt?E._workInProgressVersionPrimary=null:E._workInProgressVersionSecondary=null}Pd.length=0}var Lu=s.ReactCurrentDispatcher,Ma=s.ReactCurrentBatchConfig,Id=0,no=null,Hi=null,Bo=null,js=!1,Ea=!1,Du=0,Dc=0;function Gi(){throw Error(a(321))}function Hy(M,E){if(E===null)return!1;for(var $=0;$<E.length&&$<M.length;$++)if(!yr(M[$],E[$]))return!1;return!0}function Kh(M,E,$,q,Q,ue){if(Id=ue,no=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,Lu.current=M===null||M.memoizedState===null?ax:Y1,M=$(q,Q),Ea){ue=0;do{if(Ea=!1,Du=0,25<=ue)throw Error(a(301));ue+=1,Bo=Hi=null,E.updateQueue=null,Lu.current=Hs,M=$(q,Q)}while(Ea)}if(Lu.current=tp,E=Hi!==null&&Hi.next!==null,Id=0,Bo=Hi=no=null,js=!1,E)throw Error(a(300));return M}function Tm(){var M=Du!==0;return Du=0,M}function Ga(){var M={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bo===null?no.memoizedState=Bo=M:Bo=Bo.next=M,Bo}function Us(){if(Hi===null){var M=no.alternate;M=M!==null?M.memoizedState:null}else M=Hi.next;var E=Bo===null?no.memoizedState:Bo.next;if(E!==null)Bo=E,Hi=M;else{if(M===null)throw Error(a(310));Hi=M,M={memoizedState:Hi.memoizedState,baseState:Hi.baseState,baseQueue:Hi.baseQueue,queue:Hi.queue,next:null},Bo===null?no.memoizedState=Bo=M:Bo=Bo.next=M}return Bo}function Vs(M,E){return typeof E=="function"?E(M):E}function Sn(M){var E=Us(),$=E.queue;if($===null)throw Error(a(311));$.lastRenderedReducer=M;var q=Hi,Q=q.baseQueue,ue=$.pending;if(ue!==null){if(Q!==null){var We=Q.next;Q.next=ue.next,ue.next=We}q.baseQueue=Q=ue,$.pending=null}if(Q!==null){ue=Q.next,q=q.baseState;var _t=We=null,Vt=null,yn=ue;do{var Wn=yn.lane;if((Id&Wn)===Wn)Vt!==null&&(Vt=Vt.next={lane:0,action:yn.action,hasEagerState:yn.hasEagerState,eagerState:yn.eagerState,next:null}),q=yn.hasEagerState?yn.eagerState:M(q,yn.action);else{var Cr={lane:Wn,action:yn.action,hasEagerState:yn.hasEagerState,eagerState:yn.eagerState,next:null};Vt===null?(_t=Vt=Cr,We=q):Vt=Vt.next=Cr,no.lanes|=Wn,Gf|=Wn}yn=yn.next}while(yn!==null&&yn!==ue);Vt===null?We=q:Vt.next=_t,yr(q,E.memoizedState)||(Xo=!0),E.memoizedState=q,E.baseState=We,E.baseQueue=Vt,$.lastRenderedState=q}if(M=$.interleaved,M!==null){Q=M;do ue=Q.lane,no.lanes|=ue,Gf|=ue,Q=Q.next;while(Q!==M)}else Q===null&&($.lanes=0);return[E.memoizedState,$.dispatch]}function kd(M){var E=Us(),$=E.queue;if($===null)throw Error(a(311));$.lastRenderedReducer=M;var q=$.dispatch,Q=$.pending,ue=E.memoizedState;if(Q!==null){$.pending=null;var We=Q=Q.next;do ue=M(ue,We.action),We=We.next;while(We!==Q);yr(ue,E.memoizedState)||(Xo=!0),E.memoizedState=ue,E.baseQueue===null&&(E.baseState=ue),$.lastRenderedState=ue}return[ue,q]}function Nc(){}function Rd(M,E){var $=no,q=Us(),Q=E(),ue=!yr(q.memoizedState,Q);if(ue&&(q.memoizedState=Q,Xo=!0),q=q.queue,Ld(Cm.bind(null,$,q,M),[M]),q.getSnapshot!==E||ue||Bo!==null&&Bo.memoizedState.tag&1){if($.flags|=2048,Od(9,xn.bind(null,$,q,Q,E),void 0,null),ti===null)throw Error(a(349));Id&30||Gy($,E,Q)}return Q}function Gy(M,E,$){M.flags|=16384,M={getSnapshot:E,value:$},E=no.updateQueue,E===null?(E={lastEffect:null,stores:null},no.updateQueue=E,E.stores=[M]):($=E.stores,$===null?E.stores=[M]:$.push(M))}function xn(M,E,$,q){E.value=$,E.getSnapshot=q,Am(E)&&Al(M,1,-1)}function Cm(M,E,$){return $(function(){Am(E)&&Al(M,1,-1)})}function Am(M){var E=M.getSnapshot;M=M.value;try{var $=E();return!yr(M,$)}catch{return!0}}function qy(M){var E=Ga();return typeof M=="function"&&(M=M()),E.memoizedState=E.baseState=M,M={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:M},E.queue=M,M=M.dispatch=Ta.bind(null,no,M),[E.memoizedState,M]}function Od(M,E,$,q){return M={tag:M,create:E,destroy:$,deps:q,next:null},E=no.updateQueue,E===null?(E={lastEffect:null,stores:null},no.updateQueue=E,E.lastEffect=M.next=M):($=E.lastEffect,$===null?E.lastEffect=M.next=M:(q=$.next,$.next=M,M.next=q,E.lastEffect=M)),M}function Yy(){return Us().memoizedState}function Zh(M,E,$,q){var Q=Ga();no.flags|=M,Q.memoizedState=Od(1|E,$,void 0,q===void 0?null:q)}function Jh(M,E,$,q){var Q=Us();q=q===void 0?null:q;var ue=void 0;if(Hi!==null){var We=Hi.memoizedState;if(ue=We.destroy,q!==null&&Hy(q,We.deps)){Q.memoizedState=Od(E,$,ue,q);return}}no.flags|=M,Q.memoizedState=Od(1|E,$,ue,q)}function Xy(M,E){return Zh(8390656,8,M,E)}function Ld(M,E){return Jh(2048,8,M,E)}function Pm(M,E){return Jh(4,2,M,E)}function Im(M,E){return Jh(4,4,M,E)}function km(M,E){if(typeof E=="function")return M=M(),E(M),function(){E(null)};if(E!=null)return M=M(),E.current=M,function(){E.current=null}}function Ws(M,E,$){return $=$!=null?$.concat([M]):null,Jh(4,4,km.bind(null,E,M),$)}function ac(){}function $f(M,E){var $=Us();E=E===void 0?null:E;var q=$.memoizedState;return q!==null&&E!==null&&Hy(E,q[1])?q[0]:($.memoizedState=[M,E],M)}function Rm(M,E){var $=Us();E=E===void 0?null:E;var q=$.memoizedState;return q!==null&&E!==null&&Hy(E,q[1])?q[0]:(M=M(),$.memoizedState=[M,E],M)}function Qh(M,E){var $=Xr;Xr=$!==0&&4>$?$:4,M(!0);var q=Ma.transition;Ma.transition={};try{M(!1),E()}finally{Xr=$,Ma.transition=q}}function Om(){return Us().memoizedState}function sx(M,E,$){var q=Uc(M);$={lane:q,action:$,hasEagerState:!1,eagerState:null,next:null},Ei(M)?ep(E,$):(Lm(M,E,$),$=Ps(),M=Al(M,q,$),M!==null&&Ky(M,E,q))}function Ta(M,E,$){var q=Uc(M),Q={lane:q,action:$,hasEagerState:!1,eagerState:null,next:null};if(Ei(M))ep(E,Q);else{Lm(M,E,Q);var ue=M.alternate;if(M.lanes===0&&(ue===null||ue.lanes===0)&&(ue=E.lastRenderedReducer,ue!==null))try{var We=E.lastRenderedState,_t=ue(We,$);if(Q.hasEagerState=!0,Q.eagerState=_t,yr(_t,We))return}catch{}finally{}$=Ps(),M=Al(M,q,$),M!==null&&Ky(M,E,q)}}function Ei(M){var E=M.alternate;return M===no||E!==null&&E===no}function ep(M,E){Ea=js=!0;var $=M.pending;$===null?E.next=E:(E.next=$.next,$.next=E),M.pending=E}function Lm(M,E,$){ti!==null&&M.mode&1&&!(mr&2)?(M=E.interleaved,M===null?($.next=$,ec===null?ec=[E]:ec.push(E)):($.next=M.next,M.next=$),E.interleaved=$):(M=E.pending,M===null?$.next=$:($.next=M.next,M.next=$),E.pending=$)}function Ky(M,E,$){if($&4194240){var q=E.lanes;q&=M.pendingLanes,$|=q,E.lanes=$,pm(M,$)}}var tp={readContext:Wa,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},ax={readContext:Wa,useCallback:function(M,E){return Ga().memoizedState=[M,E===void 0?null:E],M},useContext:Wa,useEffect:Xy,useImperativeHandle:function(M,E,$){return $=$!=null?$.concat([M]):null,Zh(4194308,4,km.bind(null,E,M),$)},useLayoutEffect:function(M,E){return Zh(4194308,4,M,E)},useInsertionEffect:function(M,E){return Zh(4,2,M,E)},useMemo:function(M,E){var $=Ga();return E=E===void 0?null:E,M=M(),$.memoizedState=[M,E],M},useReducer:function(M,E,$){var q=Ga();return E=$!==void 0?$(E):E,q.memoizedState=q.baseState=E,M={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:M,lastRenderedState:E},q.queue=M,M=M.dispatch=sx.bind(null,no,M),[q.memoizedState,M]},useRef:function(M){var E=Ga();return M={current:M},E.memoizedState=M},useState:qy,useDebugValue:ac,useDeferredValue:function(M){var E=qy(M),$=E[0],q=E[1];return Xy(function(){var Q=Ma.transition;Ma.transition={};try{q(M)}finally{Ma.transition=Q}},[M]),$},useTransition:function(){var M=qy(!1),E=M[0];return M=Qh.bind(null,M[1]),Ga().memoizedState=M,[E,M]},useMutableSource:function(){},useSyncExternalStore:function(M,E,$){var q=no,Q=Ga();if(mi){if($===void 0)throw Error(a(407));$=$()}else{if($=E(),ti===null)throw Error(a(349));Id&30||Gy(q,E,$)}Q.memoizedState=$;var ue={value:$,getSnapshot:E};return Q.queue=ue,Xy(Cm.bind(null,q,ue,M),[M]),q.flags|=2048,Od(9,xn.bind(null,q,ue,$,E),void 0,null),$},useId:function(){var M=Ga(),E=ti.identifierPrefix;if(mi){var $=Ha,q=El;$=(q&~(1<<32-To(q)-1)).toString(32)+$,E=":"+E+"R"+$,$=Du++,0<$&&(E+="H"+$.toString(32)),E+=":"}else $=Dc++,E=":"+E+"r"+$.toString(32)+":";return M.memoizedState=E},unstable_isNewReconciler:!1},Y1={readContext:Wa,useCallback:$f,useContext:Wa,useEffect:Ld,useImperativeHandle:Ws,useInsertionEffect:Pm,useLayoutEffect:Im,useMemo:Rm,useReducer:Sn,useRef:Yy,useState:function(){return Sn(Vs)},useDebugValue:ac,useDeferredValue:function(M){var E=Sn(Vs),$=E[0],q=E[1];return Ld(function(){var Q=Ma.transition;Ma.transition={};try{q(M)}finally{Ma.transition=Q}},[M]),$},useTransition:function(){var M=Sn(Vs)[0],E=Us().memoizedState;return[M,E]},useMutableSource:Nc,useSyncExternalStore:Rd,useId:Om,unstable_isNewReconciler:!1},Hs={readContext:Wa,useCallback:$f,useContext:Wa,useEffect:Ld,useImperativeHandle:Ws,useInsertionEffect:Pm,useLayoutEffect:Im,useMemo:Rm,useReducer:kd,useRef:Yy,useState:function(){return kd(Vs)},useDebugValue:ac,useDeferredValue:function(M){var E=kd(Vs),$=E[0],q=E[1];return Ld(function(){var Q=Ma.transition;Ma.transition={};try{q(M)}finally{Ma.transition=Q}},[M]),$},useTransition:function(){var M=kd(Vs)[0],E=Us().memoizedState;return[M,E]},useMutableSource:Nc,useSyncExternalStore:Rd,useId:Om,unstable_isNewReconciler:!1};function jf(M,E){try{var $="",q=E;do $+=xm(q),q=q.return;while(q);var Q=$}catch(ue){Q=`
Error generating stack: `+ue.message+`
`+ue.stack}return{value:M,source:E,stack:Q}}function zn(M,E){try{console.error(E.value)}catch($){setTimeout(function(){throw $})}}var nr=typeof WeakMap=="function"?WeakMap:Map;function Uf(M,E,$){$=Ml(-1,$),$.tag=3,$.payload={element:null};var q=E.value;return $.callback=function(){rv||(rv=!0,K1=q),zn(M,E)},$}function Dm(M,E,$){$=Ml(-1,$),$.tag=3;var q=M.type.getDerivedStateFromError;if(typeof q=="function"){var Q=E.value;$.payload=function(){return q(Q)},$.callback=function(){zn(M,E)}}var ue=M.stateNode;return ue!==null&&typeof ue.componentDidCatch=="function"&&($.callback=function(){zn(M,E),typeof q!="function"&&(zu===null?zu=new Set([this]):zu.add(this));var We=E.stack;this.componentDidCatch(E.value,{componentStack:We!==null?We:""})}),$}function Nm(M,E,$){var q=M.pingCache;if(q===null){q=M.pingCache=new nr;var Q=new Set;q.set(E,Q)}else Q=q.get(E),Q===void 0&&(Q=new Set,q.set(E,Q));Q.has($)||(Q.add($),M=fL.bind(null,M,E,$),E.then(M,M))}function so(M){do{var E;if((E=M.tag===13)&&(E=M.memoizedState,E=E!==null?E.dehydrated!==null:!0),E)return M;M=M.return}while(M!==null);return null}function zm(M,E,$,q,Q){return M.mode&1?(M.flags|=65536,M.lanes=Q,M):(M===E?M.flags|=65536:(M.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(E=Ml(-1,1),E.tag=2,ba($,E))),$.lanes|=1),M)}function go(M){M.flags|=4}function Zy(M,E){if(M!==null&&M.child===E.child)return!0;if(E.flags&16)return!1;for(M=E.child;M!==null;){if(M.flags&12854||M.subtreeFlags&12854)return!1;M=M.sibling}return!0}var Cl,Ti,Ci,zc;if(Qe)Cl=function(M,E){for(var $=E.child;$!==null;){if($.tag===5||$.tag===6)Ue(M,$.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===E)break;for(;$.sibling===null;){if($.return===null||$.return===E)return;$=$.return}$.sibling.return=$.return,$=$.sibling}},Ti=function(){},Ci=function(M,E,$,q,Q){if(M=M.memoizedProps,M!==q){var ue=E.stateNode,We=Fs(Bs.current);$=Fe(ue,$,M,q,Q,We),(E.updateQueue=$)&&go(E)}},zc=function(M,E,$,q){$!==q&&go(E)};else if(ge){Cl=function(M,E,$,q){for(var Q=E.child;Q!==null;){if(Q.tag===5){var ue=Q.stateNode;$&&q&&(ue=Pe(ue,Q.type,Q.memoizedProps,Q)),Ue(M,ue)}else if(Q.tag===6)ue=Q.stateNode,$&&q&&(ue=Ne(ue,Q.memoizedProps,Q)),Ue(M,ue);else if(Q.tag!==4){if(Q.tag===22&&Q.memoizedState!==null)ue=Q.child,ue!==null&&(ue.return=Q),Cl(M,Q,!0,!0);else if(Q.child!==null){Q.child.return=Q,Q=Q.child;continue}}if(Q===E)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===E)return;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}};var Vf=function(M,E,$,q){for(var Q=E.child;Q!==null;){if(Q.tag===5){var ue=Q.stateNode;$&&q&&(ue=Pe(ue,Q.type,Q.memoizedProps,Q)),oe(M,ue)}else if(Q.tag===6)ue=Q.stateNode,$&&q&&(ue=Ne(ue,Q.memoizedProps,Q)),oe(M,ue);else if(Q.tag!==4){if(Q.tag===22&&Q.memoizedState!==null)ue=Q.child,ue!==null&&(ue.return=Q),Vf(M,Q,!0,!0);else if(Q.child!==null){Q.child.return=Q,Q=Q.child;continue}}if(Q===E)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===E)return;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}};Ti=function(M,E){var $=E.stateNode;if(!Zy(M,E)){M=$.containerInfo;var q=we(M);Vf(q,E,!1,!1),$.pendingChildren=q,go(E),pe(M,q)}},Ci=function(M,E,$,q,Q){var ue=M.stateNode,We=M.memoizedProps;if((M=Zy(M,E))&&We===q)E.stateNode=ue;else{var _t=E.stateNode,Vt=Fs(Bs.current),yn=null;We!==q&&(yn=Fe(_t,$,We,q,Q,Vt)),M&&yn===null?E.stateNode=ue:(ue=Et(ue,yn,$,We,q,E,M,_t),rt(ue,$,q,Q,Vt)&&go(E),E.stateNode=ue,M?go(E):Cl(ue,E,!1,!1))}},zc=function(M,E,$,q){$!==q?(M=Fs(sc.current),$=Fs(Bs.current),E.stateNode=ct(q,M,$,E),go(E)):E.stateNode=M.stateNode}}else Ti=function(){},Ci=function(){},zc=function(){};function Bc(M,E){if(!mi)switch(M.tailMode){case"hidden":E=M.tail;for(var $=null;E!==null;)E.alternate!==null&&($=E),E=E.sibling;$===null?M.tail=null:$.sibling=null;break;case"collapsed":$=M.tail;for(var q=null;$!==null;)$.alternate!==null&&(q=$),$=$.sibling;q===null?E||M.tail===null?M.tail=null:M.tail.sibling=null:q.sibling=null}}function ao(M){var E=M.alternate!==null&&M.alternate.child===M.child,$=0,q=0;if(E)for(var Q=M.child;Q!==null;)$|=Q.lanes|Q.childLanes,q|=Q.subtreeFlags&14680064,q|=Q.flags&14680064,Q.return=M,Q=Q.sibling;else for(Q=M.child;Q!==null;)$|=Q.lanes|Q.childLanes,q|=Q.subtreeFlags,q|=Q.flags,Q.return=M,Q=Q.sibling;return M.subtreeFlags|=q,M.childLanes=$,E}function Jy(M,E,$){var q=E.pendingProps;switch(Gh(E),E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ao(E),null;case 1:return hr(E.type)&&Si(),ao(E),null;case 3:return q=E.stateNode,Ad(),Zn(Li),Zn(tr),$s(),q.pendingContext&&(q.context=q.pendingContext,q.pendingContext=null),(M===null||M.child===null)&&(Bf(E)?go(E):M===null||M.memoizedState.isDehydrated&&!(E.flags&256)||(E.flags|=1024,wa!==null&&(sv(wa),wa=null))),Ti(M,E),ao(E),null;case 5:Em(E),$=Fs(sc.current);var Q=E.type;if(M!==null&&E.stateNode!=null)Ci(M,E,Q,q,$),M.ref!==E.ref&&(E.flags|=512,E.flags|=2097152);else{if(!q){if(E.stateNode===null)throw Error(a(166));return ao(E),null}if(M=Fs(Bs.current),Bf(E)){if(!et)throw Error(a(175));M=Vn(E.stateNode,E.type,E.memoizedProps,$,M,E,!qh),E.updateQueue=M,M!==null&&go(E)}else{var ue=ze(Q,q,$,M,E);Cl(ue,E,!1,!1),E.stateNode=ue,rt(ue,Q,q,$,M)&&go(E)}E.ref!==null&&(E.flags|=512,E.flags|=2097152)}return ao(E),null;case 6:if(M&&E.stateNode!=null)zc(M,E,M.memoizedProps,q);else{if(typeof q!="string"&&E.stateNode===null)throw Error(a(166));if(M=Fs(sc.current),$=Fs(Bs.current),Bf(E)){if(!et)throw Error(a(176));if(M=E.stateNode,q=E.memoizedProps,($=sr(M,q,E,!qh))&&(Q=as,Q!==null))switch(ue=(Q.mode&1)!==0,Q.tag){case 3:An(Q.stateNode.containerInfo,M,q,ue);break;case 5:Kn(Q.type,Q.memoizedProps,Q.stateNode,M,q,ue)}$&&go(E)}else E.stateNode=ct(q,M,$,E)}return ao(E),null;case 13:if(Zn(Wi),q=E.memoizedState,mi&&ls!==null&&E.mode&1&&!(E.flags&128)){for(M=ls;M;)M=$t(M);return oc(),E.flags|=98560,E}if(q!==null&&q.dehydrated!==null){if(q=Bf(E),M===null){if(!q)throw Error(a(318));if(!et)throw Error(a(344));if(M=E.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(a(317));$r(M,E)}else oc(),!(E.flags&128)&&(E.memoizedState=null),E.flags|=4;return ao(E),null}return wa!==null&&(sv(wa),wa=null),E.flags&128?(E.lanes=$,E):(q=q!==null,$=!1,M===null?Bf(E):$=M.memoizedState!==null,q&&!$&&(E.child.flags|=8192,E.mode&1&&(M===null||Wi.current&1?Jo===0&&(Jo=3):ew())),E.updateQueue!==null&&(E.flags|=4),ao(E),null);case 4:return Ad(),Ti(M,E),M===null&&Tt(E.stateNode.containerInfo),ao(E),null;case 10:return zy(E.type._context),ao(E),null;case 17:return hr(E.type)&&Si(),ao(E),null;case 19:if(Zn(Wi),Q=E.memoizedState,Q===null)return ao(E),null;if(q=(E.flags&128)!==0,ue=Q.rendering,ue===null)if(q)Bc(Q,!1);else{if(Jo!==0||M!==null&&M.flags&128)for(M=E.child;M!==null;){if(ue=Sa(M),ue!==null){for(E.flags|=128,Bc(Q,!1),M=ue.updateQueue,M!==null&&(E.updateQueue=M,E.flags|=4),E.subtreeFlags=0,M=$,q=E.child;q!==null;)$=q,Q=M,$.flags&=14680066,ue=$.alternate,ue===null?($.childLanes=0,$.lanes=Q,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=ue.childLanes,$.lanes=ue.lanes,$.child=ue.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=ue.memoizedProps,$.memoizedState=ue.memoizedState,$.updateQueue=ue.updateQueue,$.type=ue.type,Q=ue.dependencies,$.dependencies=Q===null?null:{lanes:Q.lanes,firstContext:Q.firstContext}),q=q.sibling;return Nn(Wi,Wi.current&1|2),E.child}M=M.sibling}Q.tail!==null&&Ui()>lx&&(E.flags|=128,q=!0,Bc(Q,!1),E.lanes=4194304)}else{if(!q)if(M=Sa(ue),M!==null){if(E.flags|=128,q=!0,M=M.updateQueue,M!==null&&(E.updateQueue=M,E.flags|=4),Bc(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!ue.alternate&&!mi)return ao(E),null}else 2*Ui()-Q.renderingStartTime>lx&&$!==1073741824&&(E.flags|=128,q=!0,Bc(Q,!1),E.lanes=4194304);Q.isBackwards?(ue.sibling=E.child,E.child=ue):(M=Q.last,M!==null?M.sibling=ue:E.child=ue,Q.last=ue)}return Q.tail!==null?(E=Q.tail,Q.rendering=E,Q.tail=E.sibling,Q.renderingStartTime=Ui(),E.sibling=null,M=Wi.current,Nn(Wi,q?M&1|2:M&1),E):(ao(E),null);case 22:case 23:return Z1(),q=E.memoizedState!==null,M!==null&&M.memoizedState!==null!==q&&(E.flags|=8192),q&&E.mode&1?vo&1073741824&&(ao(E),Qe&&E.subtreeFlags&6&&(E.flags|=8192)):ao(E),null;case 24:return null;case 25:return null}throw Error(a(156,E.tag))}var Qy=s.ReactCurrentOwner,Xo=!1;function cs(M,E,$,q){E.child=M===null?Cd(E,null,$,q):zo(E,M.child,$,q)}function Bm(M,E,$,q,Q){$=$.render;var ue=E.ref;return Rf(E,Q),q=Kh(M,E,$,q,ue,Q),$=Tm(),M!==null&&!Xo?(E.updateQueue=M.updateQueue,E.flags&=-2053,M.lanes&=~Q,Mt(M,E,Q)):(mi&&$&&Nf(E),E.flags|=1,cs(M,E,q,Q),E.child)}function Hr(M,E,$,q,Q){if(M===null){var ue=$.type;return typeof ue=="function"&&!iw(ue)&&ue.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(E.tag=15,E.type=ue,O(M,E,ue,q,Q)):(M=fx($.type,null,q,E,E.mode,Q),M.ref=E.ref,M.return=E,E.child=M)}if(ue=M.child,!(M.lanes&Q)){var We=ue.memoizedProps;if($=$.compare,$=$!==null?$:If,$(We,q)&&M.ref===E.ref)return Mt(M,E,Q)}return E.flags|=1,M=eh(ue,q),M.ref=E.ref,M.return=E,E.child=M}function O(M,E,$,q,Q){if(M!==null&&If(M.memoizedProps,q)&&M.ref===E.ref)if(Xo=!1,(M.lanes&Q)!==0)M.flags&131072&&(Xo=!0);else return E.lanes=M.lanes,Mt(M,E,Q);return A(M,E,$,q,Q)}function d(M,E,$){var q=E.pendingProps,Q=q.children,ue=M!==null?M.memoizedState:null;if(q.mode==="hidden")if(!(E.mode&1))E.memoizedState={baseLanes:0,cachePool:null},Nn($m,vo),vo|=$;else if($&1073741824)E.memoizedState={baseLanes:0,cachePool:null},q=ue!==null?ue.baseLanes:$,Nn($m,vo),vo|=q;else return M=ue!==null?ue.baseLanes|$:$,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:M,cachePool:null},E.updateQueue=null,Nn($m,vo),vo|=M,null;else ue!==null?(q=ue.baseLanes|$,E.memoizedState=null):q=$,Nn($m,vo),vo|=q;return cs(M,E,Q,$),E.child}function y(M,E){var $=E.ref;(M===null&&$!==null||M!==null&&M.ref!==$)&&(E.flags|=512,E.flags|=2097152)}function A(M,E,$,q,Q){var ue=hr($)?Ns:tr.current;return ue=Ur(E,ue),Rf(E,Q),$=Kh(M,E,$,q,ue,Q),q=Tm(),M!==null&&!Xo?(E.updateQueue=M.updateQueue,E.flags&=-2053,M.lanes&=~Q,Mt(M,E,Q)):(mi&&q&&Nf(E),E.flags|=1,cs(M,E,$,Q),E.child)}function I(M,E,$,q,Q){if(hr($)){var ue=!0;pi(E)}else ue=!1;if(Rf(E,Q),E.stateNode===null)M!==null&&(M.alternate=null,E.alternate=null,E.flags|=2),wm(E,$,q),Oi(E,$,q,Q),q=!0;else if(M===null){var We=E.stateNode,_t=E.memoizedProps;We.props=_t;var Vt=We.context,yn=$.contextType;typeof yn=="object"&&yn!==null?yn=Wa(yn):(yn=hr($)?Ns:tr.current,yn=Ur(E,yn));var Wn=$.getDerivedStateFromProps,Cr=typeof Wn=="function"||typeof We.getSnapshotBeforeUpdate=="function";Cr||typeof We.UNSAFE_componentWillReceiveProps!="function"&&typeof We.componentWillReceiveProps!="function"||(_t!==q||Vt!==yn)&&Wr(E,We,q,yn),tc=!1;var lr=E.memoizedState;We.state=lr,Lf(E,q,We,Q),Vt=E.memoizedState,_t!==q||lr!==Vt||Li.current||tc?(typeof Wn=="function"&&(nc(E,$,Wn,q),Vt=E.memoizedState),(_t=tc||jy(E,$,_t,q,lr,Vt,yn))?(Cr||typeof We.UNSAFE_componentWillMount!="function"&&typeof We.componentWillMount!="function"||(typeof We.componentWillMount=="function"&&We.componentWillMount(),typeof We.UNSAFE_componentWillMount=="function"&&We.UNSAFE_componentWillMount()),typeof We.componentDidMount=="function"&&(E.flags|=4194308)):(typeof We.componentDidMount=="function"&&(E.flags|=4194308),E.memoizedProps=q,E.memoizedState=Vt),We.props=q,We.state=Vt,We.context=yn,q=_t):(typeof We.componentDidMount=="function"&&(E.flags|=4194308),q=!1)}else{We=E.stateNode,bm(M,E),_t=E.memoizedProps,yn=E.type===E.elementType?_t:_a(E.type,_t),We.props=yn,Cr=E.pendingProps,lr=We.context,Vt=$.contextType,typeof Vt=="object"&&Vt!==null?Vt=Wa(Vt):(Vt=hr($)?Ns:tr.current,Vt=Ur(E,Vt));var Pi=$.getDerivedStateFromProps;(Wn=typeof Pi=="function"||typeof We.getSnapshotBeforeUpdate=="function")||typeof We.UNSAFE_componentWillReceiveProps!="function"&&typeof We.componentWillReceiveProps!="function"||(_t!==Cr||lr!==Vt)&&Wr(E,We,q,Vt),tc=!1,lr=E.memoizedState,We.state=lr,Lf(E,q,We,Q);var rr=E.memoizedState;_t!==Cr||lr!==rr||Li.current||tc?(typeof Pi=="function"&&(nc(E,$,Pi,q),rr=E.memoizedState),(yn=tc||jy(E,$,yn,q,lr,rr,Vt)||!1)?(Wn||typeof We.UNSAFE_componentWillUpdate!="function"&&typeof We.componentWillUpdate!="function"||(typeof We.componentWillUpdate=="function"&&We.componentWillUpdate(q,rr,Vt),typeof We.UNSAFE_componentWillUpdate=="function"&&We.UNSAFE_componentWillUpdate(q,rr,Vt)),typeof We.componentDidUpdate=="function"&&(E.flags|=4),typeof We.getSnapshotBeforeUpdate=="function"&&(E.flags|=1024)):(typeof We.componentDidUpdate!="function"||_t===M.memoizedProps&&lr===M.memoizedState||(E.flags|=4),typeof We.getSnapshotBeforeUpdate!="function"||_t===M.memoizedProps&&lr===M.memoizedState||(E.flags|=1024),E.memoizedProps=q,E.memoizedState=rr),We.props=q,We.state=rr,We.context=Vt,q=yn):(typeof We.componentDidUpdate!="function"||_t===M.memoizedProps&&lr===M.memoizedState||(E.flags|=4),typeof We.getSnapshotBeforeUpdate!="function"||_t===M.memoizedProps&&lr===M.memoizedState||(E.flags|=1024),q=!1)}return D(M,E,$,q,ue,Q)}function D(M,E,$,q,Q,ue){y(M,E);var We=(E.flags&128)!==0;if(!q&&!We)return Q&&Eu(E,$,!1),Mt(M,E,ue);q=E.stateNode,Qy.current=E;var _t=We&&typeof $.getDerivedStateFromError!="function"?null:q.render();return E.flags|=1,M!==null&&We?(E.child=zo(E,M.child,null,ue),E.child=zo(E,null,_t,ue)):cs(M,E,_t,ue),E.memoizedState=q.state,Q&&Eu(E,$,!0),E.child}function W(M){var E=M.stateNode;E.pendingContext?Zr(M,E.pendingContext,E.pendingContext!==E.context):E.context&&Zr(M,E.context,!1),Mm(M,E.containerInfo)}function G(M,E,$,q,Q){return oc(),Ff(Q),E.flags|=256,cs(M,E,$,q),E.child}var K={dehydrated:null,treeContext:null,retryLane:0};function ee(M){return{baseLanes:M,cachePool:null}}function re(M,E,$){var q=E.pendingProps,Q=Wi.current,ue=!1,We=(E.flags&128)!==0,_t;if((_t=We)||(_t=M!==null&&M.memoizedState===null?!1:(Q&2)!==0),_t?(ue=!0,E.flags&=-129):(M===null||M.memoizedState!==null)&&(Q|=1),Nn(Wi,Q&1),M===null)return Yh(E),M=E.memoizedState,M!==null&&(M=M.dehydrated,M!==null)?(E.mode&1?Nt(M)?E.lanes=8:E.lanes=1073741824:E.lanes=1,null):(Q=q.children,M=q.fallback,ue?(q=E.mode,ue=E.child,Q={mode:"hidden",children:Q},!(q&1)&&ue!==null?(ue.childLanes=0,ue.pendingProps=Q):ue=hx(Q,q,0,null),M=np(M,q,$,null),ue.return=E,M.return=E,ue.sibling=M,E.child=ue,E.child.memoizedState=ee($),E.memoizedState=K,M):se(E,Q));if(Q=M.memoizedState,Q!==null){if(_t=Q.dehydrated,_t!==null){if(We)return E.flags&256?(E.flags&=-257,Re(M,E,$,Error(a(422)))):E.memoizedState!==null?(E.child=M.child,E.flags|=128,null):(ue=q.fallback,Q=E.mode,q=hx({mode:"visible",children:q.children},Q,0,null),ue=np(ue,Q,$,null),ue.flags|=2,q.return=E,ue.return=E,q.sibling=ue,E.child=q,E.mode&1&&zo(E,M.child,null,$),E.child.memoizedState=ee($),E.memoizedState=K,ue);if(!(E.mode&1))E=Re(M,E,$,null);else if(Nt(_t))E=Re(M,E,$,Error(a(419)));else if(q=($&M.childLanes)!==0,Xo||q){if(q=ti,q!==null){switch($&-$){case 4:ue=2;break;case 16:ue=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ue=32;break;case 536870912:ue=268435456;break;default:ue=0}q=ue&(q.suspendedLanes|$)?0:ue,q!==0&&q!==Q.retryLane&&(Q.retryLane=q,Al(M,q,-1))}ew(),E=Re(M,E,$,Error(a(421)))}else tt(_t)?(E.flags|=128,E.child=M.child,E=nw.bind(null,M),Ut(_t,E),E=null):($=Q.treeContext,et&&(ls=Tn(_t),as=E,mi=!0,wa=null,qh=!1,$!==null&&(jr[As++]=El,jr[As++]=Ha,jr[As++]=ku,El=$.id,Ha=$.overflow,ku=E)),E=se(E,E.pendingProps.children),E.flags|=4096);return E}return ue?(q=Le(M,E,q.children,q.fallback,$),ue=E.child,Q=M.child.memoizedState,ue.memoizedState=Q===null?ee($):{baseLanes:Q.baseLanes|$,cachePool:null},ue.childLanes=M.childLanes&~$,E.memoizedState=K,q):($=be(M,E,q.children,$),E.memoizedState=null,$)}return ue?(q=Le(M,E,q.children,q.fallback,$),ue=E.child,Q=M.child.memoizedState,ue.memoizedState=Q===null?ee($):{baseLanes:Q.baseLanes|$,cachePool:null},ue.childLanes=M.childLanes&~$,E.memoizedState=K,q):($=be(M,E,q.children,$),E.memoizedState=null,$)}function se(M,E){return E=hx({mode:"visible",children:E},M.mode,0,null),E.return=M,M.child=E}function be(M,E,$,q){var Q=M.child;return M=Q.sibling,$=eh(Q,{mode:"visible",children:$}),!(E.mode&1)&&($.lanes=q),$.return=E,$.sibling=null,M!==null&&(q=E.deletions,q===null?(E.deletions=[M],E.flags|=16):q.push(M)),E.child=$}function Le(M,E,$,q,Q){var ue=E.mode;M=M.child;var We=M.sibling,_t={mode:"hidden",children:$};return!(ue&1)&&E.child!==M?($=E.child,$.childLanes=0,$.pendingProps=_t,E.deletions=null):($=eh(M,_t),$.subtreeFlags=M.subtreeFlags&14680064),We!==null?q=eh(We,q):(q=np(q,ue,Q,null),q.flags|=2),q.return=E,$.return=E,$.sibling=q,E.child=$,q}function Re(M,E,$,q){return q!==null&&Ff(q),zo(E,M.child,null,$),M=se(E,E.pendingProps.children),M.flags|=2,E.memoizedState=null,M}function $e(M,E,$){M.lanes|=E;var q=M.alternate;q!==null&&(q.lanes|=E),By(M.return,E,$)}function Ie(M,E,$,q,Q){var ue=M.memoizedState;ue===null?M.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:q,tail:$,tailMode:Q}:(ue.isBackwards=E,ue.rendering=null,ue.renderingStartTime=0,ue.last=q,ue.tail=$,ue.tailMode=Q)}function at(M,E,$){var q=E.pendingProps,Q=q.revealOrder,ue=q.tail;if(cs(M,E,q.children,$),q=Wi.current,q&2)q=q&1|2,E.flags|=128;else{if(M!==null&&M.flags&128)e:for(M=E.child;M!==null;){if(M.tag===13)M.memoizedState!==null&&$e(M,$,E);else if(M.tag===19)$e(M,$,E);else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===E)break e;for(;M.sibling===null;){if(M.return===null||M.return===E)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}q&=1}if(Nn(Wi,q),!(E.mode&1))E.memoizedState=null;else switch(Q){case"forwards":for($=E.child,Q=null;$!==null;)M=$.alternate,M!==null&&Sa(M)===null&&(Q=$),$=$.sibling;$=Q,$===null?(Q=E.child,E.child=null):(Q=$.sibling,$.sibling=null),Ie(E,!1,Q,$,ue);break;case"backwards":for($=null,Q=E.child,E.child=null;Q!==null;){if(M=Q.alternate,M!==null&&Sa(M)===null){E.child=Q;break}M=Q.sibling,Q.sibling=$,$=Q,Q=M}Ie(E,!0,$,null,ue);break;case"together":Ie(E,!1,null,null,void 0);break;default:E.memoizedState=null}return E.child}function Mt(M,E,$){if(M!==null&&(E.dependencies=M.dependencies),Gf|=E.lanes,!($&E.childLanes))return null;if(M!==null&&E.child!==M.child)throw Error(a(153));if(E.child!==null){for(M=E.child,$=eh(M,M.pendingProps),E.child=$,$.return=E;M.sibling!==null;)M=M.sibling,$=$.sibling=eh(M,M.pendingProps),$.return=E;$.sibling=null}return E.child}function Ge(M,E,$){switch(E.tag){case 3:W(E),oc();break;case 5:Wy(E);break;case 1:hr(E.type)&&pi(E);break;case 4:Mm(E,E.stateNode.containerInfo);break;case 10:ix(E,E.type._context,E.memoizedProps.value);break;case 13:var q=E.memoizedState;if(q!==null)return q.dehydrated!==null?(Nn(Wi,Wi.current&1),E.flags|=128,null):$&E.child.childLanes?re(M,E,$):(Nn(Wi,Wi.current&1),M=Mt(M,E,$),M!==null?M.sibling:null);Nn(Wi,Wi.current&1);break;case 19:if(q=($&E.childLanes)!==0,M.flags&128){if(q)return at(M,E,$);E.flags|=128}var Q=E.memoizedState;if(Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),Nn(Wi,Wi.current),q)break;return null;case 22:case 23:return E.lanes=0,d(M,E,$)}return Mt(M,E,$)}function ft(M,E){switch(Gh(E),E.tag){case 1:return hr(E.type)&&Si(),M=E.flags,M&65536?(E.flags=M&-65537|128,E):null;case 3:return Ad(),Zn(Li),Zn(tr),$s(),M=E.flags,M&65536&&!(M&128)?(E.flags=M&-65537|128,E):null;case 5:return Em(E),null;case 13:if(Zn(Wi),M=E.memoizedState,M!==null&&M.dehydrated!==null){if(E.alternate===null)throw Error(a(340));oc()}return M=E.flags,M&65536?(E.flags=M&-65537|128,E):null;case 19:return Zn(Wi),null;case 4:return Ad(),null;case 10:return zy(E.type._context),null;case 22:case 23:return Z1(),null;case 24:return null;default:return null}}var At=!1,Pt=!1,qt=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Kt(M,E){var $=M.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(q){Ka(M,E,q)}else $.current=null}function ln(M,E,$){try{$()}catch(q){Ka(M,E,q)}}var Rn=!1;function Pr(M,E){for(he(M.containerInfo),wt=E;wt!==null;)if(M=wt,E=M.child,(M.subtreeFlags&1028)!==0&&E!==null)E.return=M,wt=E;else for(;wt!==null;){M=wt;try{var $=M.alternate;if(M.flags&1024)switch(M.tag){case 0:case 11:case 15:break;case 1:if($!==null){var q=$.memoizedProps,Q=$.memoizedState,ue=M.stateNode,We=ue.getSnapshotBeforeUpdate(M.elementType===M.type?q:_a(M.type,q),Q);ue.__reactInternalSnapshotBeforeUpdate=We}break;case 3:Qe&&kt(M.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(_t){Ka(M,M.return,_t)}if(E=M.sibling,E!==null){E.return=M.return,wt=E;break}wt=M.return}return $=Rn,Rn=!1,$}function dn(M,E,$){var q=E.updateQueue;if(q=q!==null?q.lastEffect:null,q!==null){var Q=q=q.next;do{if((Q.tag&M)===M){var ue=Q.destroy;Q.destroy=void 0,ue!==void 0&&ln(E,$,ue)}Q=Q.next}while(Q!==q)}}function Jn(M,E){if(E=E.updateQueue,E=E!==null?E.lastEffect:null,E!==null){var $=E=E.next;do{if(($.tag&M)===M){var q=$.create;$.destroy=q()}$=$.next}while($!==E)}}function On(M){var E=M.ref;if(E!==null){var $=M.stateNode;switch(M.tag){case 5:M=fe($);break;default:M=$}typeof E=="function"?E(M):E.current=M}}function ei(M,E,$){if(va&&typeof va.onCommitFiberUnmount=="function")try{va.onCommitFiberUnmount(Cu,E)}catch{}switch(E.tag){case 0:case 11:case 14:case 15:if(M=E.updateQueue,M!==null&&(M=M.lastEffect,M!==null)){var q=M=M.next;do{var Q=q,ue=Q.destroy;Q=Q.tag,ue!==void 0&&(Q&2||Q&4)&&ln(E,$,ue),q=q.next}while(q!==M)}break;case 1:if(Kt(E,$),M=E.stateNode,typeof M.componentWillUnmount=="function")try{M.props=E.memoizedProps,M.state=E.memoizedState,M.componentWillUnmount()}catch(We){Ka(E,$,We)}break;case 5:Kt(E,$);break;case 4:Qe?lo(M,E,$):ge&&ge&&(E=E.stateNode.containerInfo,$=we(E),Te(E,$))}}function Er(M,E,$){for(var q=E;;)if(ei(M,q,$),q.child===null||Qe&&q.tag===4){if(q===E)break;for(;q.sibling===null;){if(q.return===null||q.return===E)return;q=q.return}q.sibling.return=q.return,q=q.sibling}else q.child.return=q,q=q.child}function vr(M){var E=M.alternate;E!==null&&(M.alternate=null,vr(E)),M.child=null,M.deletions=null,M.sibling=null,M.tag===5&&(E=M.stateNode,E!==null&&Ft(E)),M.stateNode=null,M.return=null,M.dependencies=null,M.memoizedProps=null,M.memoizedState=null,M.pendingProps=null,M.stateNode=null,M.updateQueue=null}function Tr(M){return M.tag===5||M.tag===3||M.tag===4}function ro(M){e:for(;;){for(;M.sibling===null;){if(M.return===null||Tr(M.return))return null;M=M.return}for(M.sibling.return=M.return,M=M.sibling;M.tag!==5&&M.tag!==6&&M.tag!==18;){if(M.flags&2||M.child===null||M.tag===4)continue e;M.child.return=M,M=M.child}if(!(M.flags&2))return M.stateNode}}function gi(M){if(Qe){e:{for(var E=M.return;E!==null;){if(Tr(E))break e;E=E.return}throw Error(a(160))}var $=E;switch($.tag){case 5:E=$.stateNode,$.flags&32&&(Ve(E),$.flags&=-33),$=ro(M),yo(M,$,E);break;case 3:case 4:E=$.stateNode.containerInfo,$=ro(M),Fo(M,$,E);break;default:throw Error(a(161))}}}function Fo(M,E,$){var q=M.tag;if(q===5||q===6)M=M.stateNode,E?an($,M,E):Rt($,M);else if(q!==4&&(M=M.child,M!==null))for(Fo(M,E,$),M=M.sibling;M!==null;)Fo(M,E,$),M=M.sibling}function yo(M,E,$){var q=M.tag;if(q===5||q===6)M=M.stateNode,E?un($,M,E):cn($,M);else if(q!==4&&(M=M.child,M!==null))for(yo(M,E,$),M=M.sibling;M!==null;)yo(M,E,$),M=M.sibling}function lo(M,E,$){for(var q=E,Q=!1,ue,We;;){if(!Q){Q=q.return;e:for(;;){if(Q===null)throw Error(a(160));switch(ue=Q.stateNode,Q.tag){case 5:We=!1;break e;case 3:ue=ue.containerInfo,We=!0;break e;case 4:ue=ue.containerInfo,We=!0;break e}Q=Q.return}Q=!0}if(q.tag===5||q.tag===6)Er(M,q,$),We?ke(ue,q.stateNode):Ot(ue,q.stateNode);else if(q.tag===18)We?vt(ue,q.stateNode):yt(ue,q.stateNode);else if(q.tag===4){if(q.child!==null){ue=q.stateNode.containerInfo,We=!0,q.child.return=q,q=q.child;continue}}else if(ei(M,q,$),q.child!==null){q.child.return=q,q=q.child;continue}if(q===E)break;for(;q.sibling===null;){if(q.return===null||q.return===E)return;q=q.return,q.tag===4&&(Q=!1)}q.sibling.return=q.return,q=q.sibling}}function Gs(M,E){if(Qe){switch(E.tag){case 0:case 11:case 14:case 15:dn(3,E,E.return),Jn(3,E),dn(5,E,E.return);return;case 1:return;case 5:var $=E.stateNode;if($!=null){var q=E.memoizedProps;M=M!==null?M.memoizedProps:q;var Q=E.type,ue=E.updateQueue;E.updateQueue=null,ue!==null&&mt($,ue,Q,M,q,E)}return;case 6:if(E.stateNode===null)throw Error(a(162));$=E.memoizedProps,nn(E.stateNode,M!==null?M.memoizedProps:$,$);return;case 3:et&&M!==null&&M.memoizedState.isDehydrated&&ut(E.stateNode.containerInfo);return;case 12:return;case 13:li(E);return;case 19:li(E);return;case 17:return}throw Error(a(163))}switch(E.tag){case 0:case 11:case 14:case 15:dn(3,E,E.return),Jn(3,E),dn(5,E,E.return);return;case 12:return;case 13:li(E);return;case 19:li(E);return;case 3:et&&M!==null&&M.memoizedState.isDehydrated&&ut(E.stateNode.containerInfo);break;case 22:case 23:return}e:if(ge){switch(E.tag){case 1:case 5:case 6:break e;case 3:case 4:E=E.stateNode,Te(E.containerInfo,E.pendingChildren);break e}throw Error(a(163))}}function li(M){var E=M.updateQueue;if(E!==null){M.updateQueue=null;var $=M.stateNode;$===null&&($=M.stateNode=new qt),E.forEach(function(q){var Q=dx.bind(null,M,q);$.has(q)||($.add(q),q.then(Q,Q))})}}function lc(M,E){for(wt=E;wt!==null;){E=wt;var $=E.deletions;if($!==null)for(var q=0;q<$.length;q++){var Q=$[q];try{var ue=M;Qe?lo(ue,Q,E):Er(ue,Q,E);var We=Q.alternate;We!==null&&(We.return=null),Q.return=null}catch(or){Ka(Q,E,or)}}if($=E.child,E.subtreeFlags&12854&&$!==null)$.return=E,wt=$;else for(;wt!==null;){E=wt;try{var _t=E.flags;if(_t&32&&Qe&&Ve(E.stateNode),_t&512){var Vt=E.alternate;if(Vt!==null){var yn=Vt.ref;yn!==null&&(typeof yn=="function"?yn(null):yn.current=null)}}if(_t&8192)switch(E.tag){case 13:if(E.memoizedState!==null){var Wn=E.alternate;(Wn===null||Wn.memoizedState===null)&&(nv=Ui())}break;case 22:var Cr=E.memoizedState!==null,lr=E.alternate,Pi=lr!==null&&lr.memoizedState!==null;if($=E,Qe){e:if(q=$,Q=Cr,ue=null,Qe)for(var rr=q;;){if(rr.tag===5){if(ue===null){ue=rr;var Xs=rr.stateNode;Q?Me(Xs):en(rr.stateNode,rr.memoizedProps)}}else if(rr.tag===6){if(ue===null){var Pl=rr.stateNode;Q?it(Pl):Xe(Pl,rr.memoizedProps)}}else if((rr.tag!==22&&rr.tag!==23||rr.memoizedState===null||rr===q)&&rr.child!==null){rr.child.return=rr,rr=rr.child;continue}if(rr===q)break;for(;rr.sibling===null;){if(rr.return===null||rr.return===q)break e;ue===rr&&(ue=null),rr=rr.return}ue===rr&&(ue=null),rr.sibling.return=rr.return,rr=rr.sibling}}if(Cr&&!Pi&&$.mode&1){wt=$;for(var Lt=$.child;Lt!==null;){for($=wt=Lt;wt!==null;){q=wt;var St=q.child;switch(q.tag){case 0:case 11:case 14:case 15:dn(4,q,q.return);break;case 1:Kt(q,q.return);var Bt=q.stateNode;if(typeof Bt.componentWillUnmount=="function"){var Ln=q.return;try{Bt.props=q.memoizedProps,Bt.state=q.memoizedState,Bt.componentWillUnmount()}catch(or){Ka(q,Ln,or)}}break;case 5:Kt(q,q.return);break;case 22:if(q.memoizedState!==null){Dd($);continue}}St!==null?(St.return=q,wt=St):Dd($)}Lt=Lt.sibling}}}switch(_t&4102){case 2:gi(E),E.flags&=-3;break;case 6:gi(E),E.flags&=-3,Gs(E.alternate,E);break;case 4096:E.flags&=-4097;break;case 4100:E.flags&=-4097,Gs(E.alternate,E);break;case 4:Gs(E.alternate,E)}}catch(or){Ka(E,E.return,or)}if($=E.sibling,$!==null){$.return=E.return,wt=$;break}wt=E.return}}}function cc(M,E,$){wt=M,Fc(M)}function Fc(M,E,$){for(var q=(M.mode&1)!==0;wt!==null;){var Q=wt,ue=Q.child;if(Q.tag===22&&q){var We=Q.memoizedState!==null||At;if(!We){var _t=Q.alternate,Vt=_t!==null&&_t.memoizedState!==null||Pt;_t=At;var yn=Pt;if(At=We,(Pt=Vt)&&!yn)for(wt=Q;wt!==null;)We=wt,Vt=We.child,We.tag===22&&We.memoizedState!==null?us(Q):Vt!==null?(Vt.return=We,wt=Vt):us(Q);for(;ue!==null;)wt=ue,Fc(ue),ue=ue.sibling;wt=Q,At=_t,Pt=yn}Nu(M)}else Q.subtreeFlags&8772&&ue!==null?(ue.return=Q,wt=ue):Nu(M)}}function Nu(M){for(;wt!==null;){var E=wt;if(E.flags&8772){var $=E.alternate;try{if(E.flags&8772)switch(E.tag){case 0:case 11:case 15:Pt||Jn(5,E);break;case 1:var q=E.stateNode;if(E.flags&4&&!Pt)if($===null)q.componentDidMount();else{var Q=E.elementType===E.type?$.memoizedProps:_a(E.type,$.memoizedProps);q.componentDidUpdate(Q,$.memoizedState,q.__reactInternalSnapshotBeforeUpdate)}var ue=E.updateQueue;ue!==null&&Iu(E,ue,q);break;case 3:var We=E.updateQueue;if(We!==null){if($=null,E.child!==null)switch(E.child.tag){case 5:$=fe(E.child.stateNode);break;case 1:$=E.child.stateNode}Iu(E,We,$)}break;case 5:var _t=E.stateNode;$===null&&E.flags&4&&Pn(_t,E.type,E.memoizedProps,E);break;case 6:break;case 4:break;case 12:break;case 13:if(et&&E.memoizedState===null){var Vt=E.alternate;if(Vt!==null){var yn=Vt.memoizedState;if(yn!==null){var Wn=yn.dehydrated;Wn!==null&&bt(Wn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}Pt||E.flags&512&&On(E)}catch(Cr){Ka(E,E.return,Cr)}}if(E===M){wt=null;break}if($=E.sibling,$!==null){$.return=E.return,wt=$;break}wt=E.return}}function Dd(M){for(;wt!==null;){var E=wt;if(E===M){wt=null;break}var $=E.sibling;if($!==null){$.return=E.return,wt=$;break}wt=E.return}}function us(M){for(;wt!==null;){var E=wt;try{switch(E.tag){case 0:case 11:case 15:var $=E.return;try{Jn(4,E)}catch(Vt){Ka(E,$,Vt)}break;case 1:var q=E.stateNode;if(typeof q.componentDidMount=="function"){var Q=E.return;try{q.componentDidMount()}catch(Vt){Ka(E,Q,Vt)}}var ue=E.return;try{On(E)}catch(Vt){Ka(E,ue,Vt)}break;case 5:var We=E.return;try{On(E)}catch(Vt){Ka(E,We,Vt)}}}catch(Vt){Ka(E,E.return,Vt)}if(E===M){wt=null;break}var _t=E.sibling;if(_t!==null){_t.return=E.return,wt=_t;break}wt=E.return}}var Co=0,Ko=1,uc=2,Di=3,co=4;if(typeof Symbol=="function"&&Symbol.for){var Zo=Symbol.for;Co=Zo("selector.component"),Ko=Zo("selector.has_pseudo_class"),uc=Zo("selector.role"),Di=Zo("selector.test_id"),co=Zo("selector.text")}function qi(M){var E=ot(M);if(E!=null){if(typeof E.memoizedProps["data-testname"]!="string")throw Error(a(364));return E}if(M=Ce(M),M===null)throw Error(a(362));return M.stateNode.current}function $c(M,E){switch(E.$$typeof){case Co:if(M.type===E.value)return!0;break;case Ko:e:{E=E.value,M=[M,0];for(var $=0;$<M.length;){var q=M[$++],Q=M[$++],ue=E[Q];if(q.tag!==5||!dt(q)){for(;ue!=null&&$c(q,ue);)Q++,ue=E[Q];if(Q===E.length){E=!0;break e}else for(q=q.child;q!==null;)M.push(q,Q),q=q.sibling}}E=!1}return E;case uc:if(M.tag===5&&Wt(M.stateNode,E.value))return!0;break;case co:if((M.tag===5||M.tag===6)&&(M=ht(M),M!==null&&0<=M.indexOf(E.value)))return!0;break;case Di:if(M.tag===5&&(M=M.memoizedProps["data-testname"],typeof M=="string"&&M.toLowerCase()===E.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Wf(M){switch(M.$$typeof){case Co:return"<"+(F(M.value)||"Unknown")+">";case Ko:return":has("+(Wf(M)||"")+")";case uc:return'[role="'+M.value+'"]';case co:return'"'+M.value+'"';case Di:return'[data-testname="'+M.value+'"]';default:throw Error(a(365))}}function ev(M,E){var $=[];M=[M,0];for(var q=0;q<M.length;){var Q=M[q++],ue=M[q++],We=E[ue];if(Q.tag!==5||!dt(Q)){for(;We!=null&&$c(Q,We);)ue++,We=E[ue];if(ue===E.length)$.push(Q);else for(Q=Q.child;Q!==null;)M.push(Q,ue),Q=Q.sibling}}return $}function Fm(M,E){if(!Je)throw Error(a(363));M=qi(M),M=ev(M,E),E=[],M=Array.from(M);for(var $=0;$<M.length;){var q=M[$++];if(q.tag===5)dt(q)||E.push(q.stateNode);else for(q=q.child;q!==null;)M.push(q),q=q.sibling}return E}var X1=Math.ceil,Hf=s.ReactCurrentDispatcher,qa=s.ReactCurrentOwner,Ai=s.ReactCurrentBatchConfig,mr=0,ti=null,ci=null,$o=0,vo=0,$m=Yr(0),Jo=0,Yi=null,Gf=0,tv=0,Nd=0,jc=null,qs=null,nv=0,lx=1/0;function jm(){lx=Ui()+500}var rv=!1,K1=null,zu=null,cx=!1,Bu=null,iv=0,Um=0,qf=null,ux=-1,Yf=0;function Ps(){return mr&6?Ui():ux!==-1?ux:ux=Ui()}function Uc(M){return M.mode&1?mr&2&&$o!==0?$o&-$o:Ny.transition!==null?(Yf===0&&(M=Sd,Sd<<=1,!(Sd&4194240)&&(Sd=64),Yf=M),Yf):(M=Xr,M!==0?M:Ct()):1}function Al(M,E,$){if(50<Um)throw Um=0,qf=null,Error(a(185));var q=ov(M,E);return q===null?null:(Tf(q,E,$),(!(mr&2)||q!==ti)&&(q===ti&&(!(mr&2)&&(tv|=E),Jo===4&&dc(q,$o)),Ya(q,$),E===1&&mr===0&&!(M.mode&1)&&(jm(),Cs&&xa())),q)}function ov(M,E){M.lanes|=E;var $=M.alternate;for($!==null&&($.lanes|=E),$=M,M=M.return;M!==null;)M.childLanes|=E,$=M.alternate,$!==null&&($.childLanes|=E),$=M,M=M.return;return $.tag===3?$.stateNode:null}function Ya(M,E){var $=M.callbackNode;G1(M,E);var q=Tu(M,M===ti?$o:0);if(q===0)$!==null&&Oy($),M.callbackNode=null,M.callbackPriority=0;else if(E=q&-q,M.callbackPriority!==E){if($!=null&&Oy($),E===1)M.tag===0?vm(KE.bind(null,M)):ym(KE.bind(null,M)),Gt?sn(function(){mr===0&&xa()}):mm(Cf,xa),$=null;else{switch(Wh(q)){case 1:$=Cf;break;case 4:$=Ua;break;case 16:$=Af;break;case 536870912:$=gm;break;default:$=Af}$=Qf($,Ys.bind(null,M))}M.callbackPriority=E,M.callbackNode=$}}function Ys(M,E){if(ux=-1,Yf=0,mr&6)throw Error(a(327));var $=M.callbackNode;if(Jf()&&M.callbackNode!==$)return null;var q=Tu(M,M===ti?$o:0);if(q===0)return null;if(q&30||q&M.expiredLanes||E)E=Vm(M,q);else{E=q;var Q=mr;mr|=2;var ue=Q1();(ti!==M||$o!==E)&&(jm(),Kf(M,E));do try{tw();break}catch(_t){J1(M,_t)}while(!0);Pu(),Hf.current=ue,mr=Q,ci!==null?E=0:(ti=null,$o=0,E=Jo)}if(E!==0){if(E===2&&(Q=Uh(M),Q!==0&&(q=Q,E=Xf(M,Q))),E===1)throw $=Yi,Kf(M,0),dc(M,q),Ya(M,Ui()),$;if(E===6)dc(M,q);else{if(Q=M.current.alternate,!(q&30)&&!XE(Q)&&(E=Vm(M,q),E===2&&(ue=Uh(M),ue!==0&&(q=ue,E=Xf(M,ue))),E===1))throw $=Yi,Kf(M,0),dc(M,q),Ya(M,Ui()),$;switch(M.finishedWork=Q,M.finishedLanes=q,E){case 0:case 1:throw Error(a(345));case 2:Zf(M,qs);break;case 3:if(dc(M,q),(q&130023424)===q&&(E=nv+500-Ui(),10<E)){if(Tu(M,0)!==0)break;if(Q=M.suspendedLanes,(Q&q)!==q){Ps(),M.pingedLanes|=M.suspendedLanes&Q;break}M.timeoutHandle=Dt(Zf.bind(null,M,qs),E);break}Zf(M,qs);break;case 4:if(dc(M,q),(q&4194240)===q)break;for(E=M.eventTimes,Q=-1;0<q;){var We=31-To(q);ue=1<<We,We=E[We],We>Q&&(Q=We),q&=~ue}if(q=Q,q=Ui()-q,q=(120>q?120:480>q?480:1080>q?1080:1920>q?1920:3e3>q?3e3:4320>q?4320:1960*X1(q/1960))-q,10<q){M.timeoutHandle=Dt(Zf.bind(null,M,qs),q);break}Zf(M,qs);break;case 5:Zf(M,qs);break;default:throw Error(a(329))}}}return Ya(M,Ui()),M.callbackNode===$?Ys.bind(null,M):null}function Xf(M,E){var $=jc;return M.current.memoizedState.isDehydrated&&(Kf(M,E).flags|=256),M=Vm(M,E),M!==2&&(E=qs,qs=$,E!==null&&sv(E)),M}function sv(M){qs===null?qs=M:qs.push.apply(qs,M)}function XE(M){for(var E=M;;){if(E.flags&16384){var $=E.updateQueue;if($!==null&&($=$.stores,$!==null))for(var q=0;q<$.length;q++){var Q=$[q],ue=Q.getSnapshot;Q=Q.value;try{if(!yr(ue(),Q))return!1}catch{return!1}}}if($=E.child,E.subtreeFlags&16384&&$!==null)$.return=E,E=$;else{if(E===M)break;for(;E.sibling===null;){if(E.return===null||E.return===M)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}}return!0}function dc(M,E){for(E&=~Nd,E&=~tv,M.suspendedLanes|=E,M.pingedLanes&=~E,M=M.expirationTimes;0<E;){var $=31-To(E),q=1<<$;M[$]=-1,E&=~q}}function KE(M){if(mr&6)throw Error(a(327));Jf();var E=Tu(M,0);if(!(E&1))return Ya(M,Ui()),null;var $=Vm(M,E);if(M.tag!==0&&$===2){var q=Uh(M);q!==0&&(E=q,$=Xf(M,q))}if($===1)throw $=Yi,Kf(M,0),dc(M,E),Ya(M,Ui()),$;if($===6)throw Error(a(345));return M.finishedWork=M.current.alternate,M.finishedLanes=E,Zf(M,qs),Ya(M,Ui()),null}function av(M){Bu!==null&&Bu.tag===0&&!(mr&6)&&Jf();var E=mr;mr|=1;var $=Ai.transition,q=Xr;try{if(Ai.transition=null,Xr=1,M)return M()}finally{Xr=q,Ai.transition=$,mr=E,!(mr&6)&&xa()}}function Z1(){vo=$m.current,Zn($m)}function Kf(M,E){M.finishedWork=null,M.finishedLanes=0;var $=M.timeoutHandle;if($!==Be&&(M.timeoutHandle=Be,zt($)),ci!==null)for($=ci.return;$!==null;){var q=$;switch(Gh(q),q.tag){case 1:q=q.type.childContextTypes,q!=null&&Si();break;case 3:Ad(),Zn(Li),Zn(tr),$s();break;case 5:Em(q);break;case 4:Ad();break;case 13:Zn(Wi);break;case 19:Zn(Wi);break;case 10:zy(q.type._context);break;case 22:case 23:Z1()}$=$.return}if(ti=M,ci=M=eh(M.current,null),$o=vo=E,Jo=0,Yi=null,Nd=tv=Gf=0,qs=jc=null,ec!==null){for(E=0;E<ec.length;E++)if($=ec[E],q=$.interleaved,q!==null){$.interleaved=null;var Q=q.next,ue=$.pending;if(ue!==null){var We=ue.next;ue.next=Q,q.next=We}$.pending=q}ec=null}return M}function J1(M,E){do{var $=ci;try{if(Pu(),Lu.current=tp,js){for(var q=no.memoizedState;q!==null;){var Q=q.queue;Q!==null&&(Q.pending=null),q=q.next}js=!1}if(Id=0,Bo=Hi=no=null,Ea=!1,Du=0,qa.current=null,$===null||$.return===null){Jo=1,Yi=E,ci=null;break}e:{var ue=M,We=$.return,_t=$,Vt=E;if(E=$o,_t.flags|=32768,Vt!==null&&typeof Vt=="object"&&typeof Vt.then=="function"){var yn=Vt,Wn=_t,Cr=Wn.tag;if(!(Wn.mode&1)&&(Cr===0||Cr===11||Cr===15)){var lr=Wn.alternate;lr?(Wn.updateQueue=lr.updateQueue,Wn.memoizedState=lr.memoizedState,Wn.lanes=lr.lanes):(Wn.updateQueue=null,Wn.memoizedState=null)}var Pi=so(We);if(Pi!==null){Pi.flags&=-257,zm(Pi,We,_t,ue,E),Pi.mode&1&&Nm(ue,yn,E),E=Pi,Vt=yn;var rr=E.updateQueue;if(rr===null){var Xs=new Set;Xs.add(Vt),E.updateQueue=Xs}else rr.add(Vt);break e}else{if(!(E&1)){Nm(ue,yn,E),ew();break e}Vt=Error(a(426))}}else if(mi&&_t.mode&1){var Pl=so(We);if(Pl!==null){!(Pl.flags&65536)&&(Pl.flags|=256),zm(Pl,We,_t,ue,E),Ff(Vt);break e}}ue=Vt,Jo!==4&&(Jo=2),jc===null?jc=[ue]:jc.push(ue),Vt=jf(Vt,_t),_t=We;do{switch(_t.tag){case 3:_t.flags|=65536,E&=-E,_t.lanes|=E;var Lt=Uf(_t,Vt,E);Fy(_t,Lt);break e;case 1:ue=Vt;var St=_t.type,Bt=_t.stateNode;if(!(_t.flags&128)&&(typeof St.getDerivedStateFromError=="function"||Bt!==null&&typeof Bt.componentDidCatch=="function"&&(zu===null||!zu.has(Bt)))){_t.flags|=65536,E&=-E,_t.lanes|=E;var Ln=Dm(_t,ue,E);Fy(_t,Ln);break e}}_t=_t.return}while(_t!==null)}Xa($)}catch(or){E=or,ci===$&&$!==null&&(ci=$=$.return);continue}break}while(!0)}function Q1(){var M=Hf.current;return Hf.current=tp,M===null?tp:M}function ew(){(Jo===0||Jo===3||Jo===2)&&(Jo=4),ti===null||!(Gf&268435455)&&!(tv&268435455)||dc(ti,$o)}function Vm(M,E){var $=mr;mr|=2;var q=Q1();ti===M&&$o===E||Kf(M,E);do try{ZE();break}catch(Q){J1(M,Q)}while(!0);if(Pu(),mr=$,Hf.current=q,ci!==null)throw Error(a(261));return ti=null,$o=0,Jo}function ZE(){for(;ci!==null;)Wm(ci)}function tw(){for(;ci!==null&&!Ly();)Wm(ci)}function Wm(M){var E=rw(M.alternate,M,vo);M.memoizedProps=M.pendingProps,E===null?Xa(M):ci=E,qa.current=null}function Xa(M){var E=M;do{var $=E.alternate;if(M=E.return,E.flags&32768){if($=ft($,E),$!==null){$.flags&=32767,ci=$;return}if(M!==null)M.flags|=32768,M.subtreeFlags=0,M.deletions=null;else{Jo=6,ci=null;return}}else if($=Jy($,E,vo),$!==null){ci=$;return}if(E=E.sibling,E!==null){ci=E;return}ci=E=M}while(E!==null);Jo===0&&(Jo=5)}function Zf(M,E){var $=Xr,q=Ai.transition;try{Ai.transition=null,Xr=1,dL(M,E,$)}finally{Ai.transition=q,Xr=$}return null}function dL(M,E,$){do Jf();while(Bu!==null);if(mr&6)throw Error(a(327));var q=M.finishedWork,Q=M.finishedLanes;if(q===null)return null;if(M.finishedWork=null,M.finishedLanes=0,q===M.current)throw Error(a(177));M.callbackNode=null,M.callbackPriority=0;var ue=q.lanes|q.childLanes;if(q1(M,ue),M===ti&&(ci=ti=null,$o=0),!(q.subtreeFlags&2064)&&!(q.flags&2064)||cx||(cx=!0,Qf(Af,function(){return Jf(),null})),ue=(q.flags&15990)!==0,q.subtreeFlags&15990||ue){ue=Ai.transition,Ai.transition=null;var We=Xr;Xr=1;var _t=mr;mr|=4,qa.current=null,Pr(M,q),lc(M,q),ve(M.containerInfo),M.current=q,cc(q),Dy(),mr=_t,Xr=We,Ai.transition=ue}else M.current=q;if(cx&&(cx=!1,Bu=M,iv=Q),ue=M.pendingLanes,ue===0&&(zu=null),Pf(q.stateNode),Ya(M,Ui()),E!==null)for($=M.onRecoverableError,q=0;q<E.length;q++)$(E[q]);if(rv)throw rv=!1,M=K1,K1=null,M;return iv&1&&M.tag!==0&&Jf(),ue=M.pendingLanes,ue&1?M===qf?Um++:(Um=0,qf=M):Um=0,xa(),null}function Jf(){if(Bu!==null){var M=Wh(iv),E=Ai.transition,$=Xr;try{if(Ai.transition=null,Xr=16>M?16:M,Bu===null)var q=!1;else{if(M=Bu,Bu=null,iv=0,mr&6)throw Error(a(331));var Q=mr;for(mr|=4,wt=M.current;wt!==null;){var ue=wt,We=ue.child;if(wt.flags&16){var _t=ue.deletions;if(_t!==null){for(var Vt=0;Vt<_t.length;Vt++){var yn=_t[Vt];for(wt=yn;wt!==null;){var Wn=wt;switch(Wn.tag){case 0:case 11:case 15:dn(8,Wn,ue)}var Cr=Wn.child;if(Cr!==null)Cr.return=Wn,wt=Cr;else for(;wt!==null;){Wn=wt;var lr=Wn.sibling,Pi=Wn.return;if(vr(Wn),Wn===yn){wt=null;break}if(lr!==null){lr.return=Pi,wt=lr;break}wt=Pi}}}var rr=ue.alternate;if(rr!==null){var Xs=rr.child;if(Xs!==null){rr.child=null;do{var Pl=Xs.sibling;Xs.sibling=null,Xs=Pl}while(Xs!==null)}}wt=ue}}if(ue.subtreeFlags&2064&&We!==null)We.return=ue,wt=We;else e:for(;wt!==null;){if(ue=wt,ue.flags&2048)switch(ue.tag){case 0:case 11:case 15:dn(9,ue,ue.return)}var Lt=ue.sibling;if(Lt!==null){Lt.return=ue.return,wt=Lt;break e}wt=ue.return}}var St=M.current;for(wt=St;wt!==null;){We=wt;var Bt=We.child;if(We.subtreeFlags&2064&&Bt!==null)Bt.return=We,wt=Bt;else e:for(We=St;wt!==null;){if(_t=wt,_t.flags&2048)try{switch(_t.tag){case 0:case 11:case 15:Jn(9,_t)}}catch(or){Ka(_t,_t.return,or)}if(_t===We){wt=null;break e}var Ln=_t.sibling;if(Ln!==null){Ln.return=_t.return,wt=Ln;break e}wt=_t.return}}if(mr=Q,xa(),va&&typeof va.onPostCommitFiberRoot=="function")try{va.onPostCommitFiberRoot(Cu,M)}catch{}q=!0}return q}finally{Xr=$,Ai.transition=E}}return!1}function JE(M,E,$){E=jf($,E),E=Uf(M,E,1),ba(M,E),E=Ps(),M=ov(M,1),M!==null&&(Tf(M,1,E),Ya(M,E))}function Ka(M,E,$){if(M.tag===3)JE(M,M,$);else for(;E!==null;){if(E.tag===3){JE(E,M,$);break}else if(E.tag===1){var q=E.stateNode;if(typeof E.type.getDerivedStateFromError=="function"||typeof q.componentDidCatch=="function"&&(zu===null||!zu.has(q))){M=jf($,M),M=Dm(E,M,1),ba(E,M),M=Ps(),E=ov(E,1),E!==null&&(Tf(E,1,M),Ya(E,M));break}}E=E.return}}function fL(M,E,$){var q=M.pingCache;q!==null&&q.delete(E),E=Ps(),M.pingedLanes|=M.suspendedLanes&$,ti===M&&($o&$)===$&&(Jo===4||Jo===3&&($o&130023424)===$o&&500>Ui()-nv?Kf(M,0):Nd|=$),Ya(M,E)}function QE(M,E){E===0&&(M.mode&1?(E=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):E=1);var $=Ps();M=ov(M,E),M!==null&&(Tf(M,E,$),Ya(M,$))}function nw(M){var E=M.memoizedState,$=0;E!==null&&($=E.retryLane),QE(M,$)}function dx(M,E){var $=0;switch(M.tag){case 13:var q=M.stateNode,Q=M.memoizedState;Q!==null&&($=Q.retryLane);break;case 19:q=M.stateNode;break;default:throw Error(a(314))}q!==null&&q.delete(E),QE(M,$)}var rw;rw=function(M,E,$){if(M!==null)if(M.memoizedProps!==E.pendingProps||Li.current)Xo=!0;else{if(!(M.lanes&$)&&!(E.flags&128))return Xo=!1,Ge(M,E,$);Xo=!!(M.flags&131072)}else Xo=!1,mi&&E.flags&1048576&&Sm(E,Mi,E.index);switch(E.lanes=0,E.tag){case 2:var q=E.type;M!==null&&(M.alternate=null,E.alternate=null,E.flags|=2),M=E.pendingProps;var Q=Ur(E,tr.current);Rf(E,$),Q=Kh(null,E,q,M,Q,$);var ue=Tm();return E.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0?(E.tag=1,E.memoizedState=null,E.updateQueue=null,hr(q)?(ue=!0,pi(E)):ue=!1,E.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Of(E),Q.updater=Oc,E.stateNode=Q,Q._reactInternals=E,Oi(E,q,M,$),E=D(null,E,q,!0,ue,$)):(E.tag=0,mi&&ue&&Nf(E),cs(null,E,Q,$),E=E.child),E;case 16:q=E.elementType;e:{switch(M!==null&&(M.alternate=null,E.alternate=null,E.flags|=2),M=E.pendingProps,Q=q._init,q=Q(q._payload),E.type=q,Q=E.tag=hL(q),M=_a(q,M),Q){case 0:E=A(null,E,q,M,$);break e;case 1:E=I(null,E,q,M,$);break e;case 11:E=Bm(null,E,q,M,$);break e;case 14:E=Hr(null,E,q,_a(q.type,M),$);break e}throw Error(a(306,q,""))}return E;case 0:return q=E.type,Q=E.pendingProps,Q=E.elementType===q?Q:_a(q,Q),A(M,E,q,Q,$);case 1:return q=E.type,Q=E.pendingProps,Q=E.elementType===q?Q:_a(q,Q),I(M,E,q,Q,$);case 3:e:{if(W(E),M===null)throw Error(a(387));q=E.pendingProps,ue=E.memoizedState,Q=ue.element,bm(M,E),Lf(E,q,null,$);var We=E.memoizedState;if(q=We.element,et&&ue.isDehydrated)if(ue={element:q,isDehydrated:!1,cache:We.cache,transitions:We.transitions},E.updateQueue.baseState=ue,E.memoizedState=ue,E.flags&256){Q=Error(a(423)),E=G(M,E,q,$,Q);break e}else if(q!==Q){Q=Error(a(424)),E=G(M,E,q,$,Q);break e}else for(et&&(ls=er(E.stateNode.containerInfo),as=E,mi=!0,wa=null,qh=!1),$=Cd(E,null,q,$),E.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(oc(),q===Q){E=Mt(M,E,$);break e}cs(M,E,q,$)}E=E.child}return E;case 5:return Wy(E),M===null&&Yh(E),q=E.type,Q=E.pendingProps,ue=M!==null?M.memoizedProps:null,We=Q.children,st(q,Q)?We=null:ue!==null&&st(q,ue)&&(E.flags|=32),y(M,E),cs(M,E,We,$),E.child;case 6:return M===null&&Yh(E),null;case 13:return re(M,E,$);case 4:return Mm(E,E.stateNode.containerInfo),q=E.pendingProps,M===null?E.child=zo(E,null,q,$):cs(M,E,q,$),E.child;case 11:return q=E.type,Q=E.pendingProps,Q=E.elementType===q?Q:_a(q,Q),Bm(M,E,q,Q,$);case 7:return cs(M,E,E.pendingProps,$),E.child;case 8:return cs(M,E,E.pendingProps.children,$),E.child;case 12:return cs(M,E,E.pendingProps.children,$),E.child;case 10:e:{if(q=E.type._context,Q=E.pendingProps,ue=E.memoizedProps,We=Q.value,ix(E,q,We),ue!==null)if(yr(ue.value,We)){if(ue.children===Q.children&&!Li.current){E=Mt(M,E,$);break e}}else for(ue=E.child,ue!==null&&(ue.return=E);ue!==null;){var _t=ue.dependencies;if(_t!==null){We=ue.child;for(var Vt=_t.firstContext;Vt!==null;){if(Vt.context===q){if(ue.tag===1){Vt=Ml(-1,$&-$),Vt.tag=2;var yn=ue.updateQueue;if(yn!==null){yn=yn.shared;var Wn=yn.pending;Wn===null?Vt.next=Vt:(Vt.next=Wn.next,Wn.next=Vt),yn.pending=Vt}}ue.lanes|=$,Vt=ue.alternate,Vt!==null&&(Vt.lanes|=$),By(ue.return,$,E),_t.lanes|=$;break}Vt=Vt.next}}else if(ue.tag===10)We=ue.type===E.type?null:ue.child;else if(ue.tag===18){if(We=ue.return,We===null)throw Error(a(341));We.lanes|=$,_t=We.alternate,_t!==null&&(_t.lanes|=$),By(We,$,E),We=ue.sibling}else We=ue.child;if(We!==null)We.return=ue;else for(We=ue;We!==null;){if(We===E){We=null;break}if(ue=We.sibling,ue!==null){ue.return=We.return,We=ue;break}We=We.return}ue=We}cs(M,E,Q.children,$),E=E.child}return E;case 9:return Q=E.type,q=E.pendingProps.children,Rf(E,$),Q=Wa(Q),q=q(Q),E.flags|=1,cs(M,E,q,$),E.child;case 14:return q=E.type,Q=_a(q,E.pendingProps),Q=_a(q.type,Q),Hr(M,E,q,Q,$);case 15:return O(M,E,E.type,E.pendingProps,$);case 17:return q=E.type,Q=E.pendingProps,Q=E.elementType===q?Q:_a(q,Q),M!==null&&(M.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,hr(q)?(M=!0,pi(E)):M=!1,Rf(E,$),wm(E,q,Q),Oi(E,q,Q,$),D(null,E,q,!0,M,$);case 19:return at(M,E,$);case 22:return d(M,E,$)}throw Error(a(156,E.tag))};function Qf(M,E){return mm(M,E)}function lv(M,E,$,q){this.tag=M,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=q,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fc(M,E,$,q){return new lv(M,E,$,q)}function iw(M){return M=M.prototype,!(!M||!M.isReactComponent)}function hL(M){if(typeof M=="function")return iw(M)?1:0;if(M!=null){if(M=M.$$typeof,M===_)return 11;if(M===C)return 14}return 2}function eh(M,E){var $=M.alternate;return $===null?($=fc(M.tag,E,M.key,M.mode),$.elementType=M.elementType,$.type=M.type,$.stateNode=M.stateNode,$.alternate=M,M.alternate=$):($.pendingProps=E,$.type=M.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=M.flags&14680064,$.childLanes=M.childLanes,$.lanes=M.lanes,$.child=M.child,$.memoizedProps=M.memoizedProps,$.memoizedState=M.memoizedState,$.updateQueue=M.updateQueue,E=M.dependencies,$.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},$.sibling=M.sibling,$.index=M.index,$.ref=M.ref,$}function fx(M,E,$,q,Q,ue){var We=2;if(q=M,typeof M=="function")iw(M)&&(We=1);else if(typeof M=="string")We=5;else e:switch(M){case h:return np($.children,Q,ue,E);case p:We=8,Q|=8;break;case g:return M=fc(12,$,E,Q|2),M.elementType=g,M.lanes=ue,M;case S:return M=fc(13,$,E,Q),M.elementType=S,M.lanes=ue,M;case w:return M=fc(19,$,E,Q),M.elementType=w,M.lanes=ue,M;case k:return hx($,Q,ue,E);default:if(typeof M=="object"&&M!==null)switch(M.$$typeof){case v:We=10;break e;case x:We=9;break e;case _:We=11;break e;case C:We=14;break e;case T:We=16,q=null;break e}throw Error(a(130,M==null?M:typeof M,""))}return E=fc(We,$,E,Q),E.elementType=M,E.type=q,E.lanes=ue,E}function np(M,E,$,q){return M=fc(7,M,q,E),M.lanes=$,M}function hx(M,E,$,q){return M=fc(22,M,q,E),M.elementType=k,M.lanes=$,M.stateNode={},M}function cv(M,E,$){return M=fc(6,M,null,E),M.lanes=$,M}function ow(M,E,$){return E=fc(4,M.children!==null?M.children:[],M.key,E),E.lanes=$,E.stateNode={containerInfo:M.containerInfo,pendingChildren:null,implementation:M.implementation},E}function Hm(M,E,$,q,Q){this.tag=E,this.containerInfo=M,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Be,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vh(0),this.expirationTimes=Vh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vh(0),this.identifierPrefix=q,this.onRecoverableError=Q,et&&(this.mutableSourceEagerHydrationData=null)}function eT(M,E,$,q,Q,ue,We,_t,Vt){return M=new Hm(M,E,$,_t,Vt),E===1?(E=1,ue===!0&&(E|=8)):E=0,ue=fc(3,null,null,E),M.current=ue,ue.stateNode=M,ue.memoizedState={element:q,isDehydrated:$,cache:null,transitions:null},Of(ue),M}function uo(M){if(!M)return to;M=M._reactInternals;e:{if(Z(M)!==M||M.tag!==1)throw Error(a(170));var E=M;do{switch(E.tag){case 3:E=E.stateNode.context;break e;case 1:if(hr(E.type)){E=E.stateNode.__reactInternalMemoizedMergedChildContext;break e}}E=E.return}while(E!==null);throw Error(a(171))}if(M.tag===1){var $=M.type;if(hr($))return Rc(M,$,E)}return E}function uv(M){var E=M._reactInternals;if(E===void 0)throw typeof M.render=="function"?Error(a(188)):(M=Object.keys(M).join(","),Error(a(268,M)));return M=le(E),M===null?null:M.stateNode}function sw(M,E){if(M=M.memoizedState,M!==null&&M.dehydrated!==null){var $=M.retryLane;M.retryLane=$!==0&&$<E?$:E}}function Gm(M,E){sw(M,E),(M=M.alternate)&&sw(M,E)}function px(M){return M=le(M),M===null?null:M.stateNode}function dv(){return null}return n.attemptContinuousHydration=function(M){if(M.tag===13){var E=Ps();Al(M,134217728,E),Gm(M,134217728)}},n.attemptHydrationAtCurrentPriority=function(M){if(M.tag===13){var E=Ps(),$=Uc(M);Al(M,$,E),Gm(M,$)}},n.attemptSynchronousHydration=function(M){switch(M.tag){case 3:var E=M.stateNode;if(E.current.memoizedState.isDehydrated){var $=Md(E.pendingLanes);$!==0&&(pm(E,$|1),Ya(E,Ui()),!(mr&6)&&(jm(),xa()))}break;case 13:var q=Ps();av(function(){return Al(M,1,q)}),Gm(M,1)}},n.batchedUpdates=function(M,E){var $=mr;mr|=1;try{return M(E)}finally{mr=$,mr===0&&(jm(),Cs&&xa())}},n.createComponentSelector=function(M){return{$$typeof:Co,value:M}},n.createContainer=function(M,E,$,q,Q,ue,We){return eT(M,E,!1,null,$,q,Q,ue,We)},n.createHasPseudoClassSelector=function(M){return{$$typeof:Ko,value:M}},n.createHydrationContainer=function(M,E,$,q,Q,ue,We,_t,Vt){return M=eT($,q,!0,M,Q,ue,We,_t,Vt),M.context=uo(null),$=M.current,q=Ps(),Q=Uc($),ue=Ml(q,Q),ue.callback=E??null,ba($,ue),M.current.lanes=Q,Tf(M,Q,q),Ya(M,q),M},n.createPortal=function(M,E,$){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:q==null?null:""+q,children:M,containerInfo:E,implementation:$}},n.createRoleSelector=function(M){return{$$typeof:uc,value:M}},n.createTestNameSelector=function(M){return{$$typeof:Di,value:M}},n.createTextSelector=function(M){return{$$typeof:co,value:M}},n.deferredUpdates=function(M){var E=Xr,$=Ai.transition;try{return Ai.transition=null,Xr=16,M()}finally{Xr=E,Ai.transition=$}},n.discreteUpdates=function(M,E,$,q,Q){var ue=Xr,We=Ai.transition;try{return Ai.transition=null,Xr=1,M(E,$,q,Q)}finally{Xr=ue,Ai.transition=We,mr===0&&jm()}},n.findAllNodes=Fm,n.findBoundingRects=function(M,E){if(!Je)throw Error(a(363));E=Fm(M,E),M=[];for(var $=0;$<E.length;$++)M.push(_e(E[$]));for(E=M.length-1;0<E;E--){$=M[E];for(var q=$.x,Q=q+$.width,ue=$.y,We=ue+$.height,_t=E-1;0<=_t;_t--)if(E!==_t){var Vt=M[_t],yn=Vt.x,Wn=yn+Vt.width,Cr=Vt.y,lr=Cr+Vt.height;if(q>=yn&&ue>=Cr&&Q<=Wn&&We<=lr){M.splice(E,1);break}else if(q!==yn||$.width!==Vt.width||lr<ue||Cr>We){if(!(ue!==Cr||$.height!==Vt.height||Wn<q||yn>Q)){yn>q&&(Vt.width+=yn-q,Vt.x=q),Wn<Q&&(Vt.width=Q-yn),M.splice(E,1);break}}else{Cr>ue&&(Vt.height+=Cr-ue,Vt.y=ue),lr<We&&(Vt.height=We-Cr),M.splice(E,1);break}}}return M},n.findHostInstance=uv,n.findHostInstanceWithNoPortals=function(M){return M=X(M),M=M!==null?ie(M):null,M===null?null:M.stateNode},n.findHostInstanceWithWarning=function(M){return uv(M)},n.flushControlled=function(M){var E=mr;mr|=1;var $=Ai.transition,q=Xr;try{Ai.transition=null,Xr=1,M()}finally{Xr=q,Ai.transition=$,mr=E,mr===0&&(jm(),xa())}},n.flushPassiveEffects=Jf,n.flushSync=av,n.focusWithin=function(M,E){if(!Je)throw Error(a(363));for(M=qi(M),E=ev(M,E),E=Array.from(E),M=0;M<E.length;){var $=E[M++];if(!dt($)){if($.tag===5&&jt($.stateNode))return!0;for($=$.child;$!==null;)E.push($),$=$.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Xr},n.getFindAllNodesFailureDescription=function(M,E){if(!Je)throw Error(a(363));var $=0,q=[];M=[qi(M),0];for(var Q=0;Q<M.length;){var ue=M[Q++],We=M[Q++],_t=E[We];if((ue.tag!==5||!dt(ue))&&($c(ue,_t)&&(q.push(Wf(_t)),We++,We>$&&($=We)),We<E.length))for(ue=ue.child;ue!==null;)M.push(ue,We),ue=ue.sibling}if($<E.length){for(M=[];$<E.length;$++)M.push(Wf(E[$]));return`findAllNodes was able to match part of the selector:
  `+(q.join(" > ")+`

No matching component was found for:
  `)+M.join(" > ")}return null},n.getPublicRootInstance=function(M){if(M=M.current,!M.child)return null;switch(M.child.tag){case 5:return fe(M.child.stateNode);default:return M.child.stateNode}},n.injectIntoDevTools=function(M){if(M={bundleType:M.bundleType,version:M.version,rendererPackageName:M.rendererPackageName,rendererConfig:M.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:px,findFiberByHostInstance:M.findFiberByHostInstance||dv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")M=!1;else{var E=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(E.isDisabled||!E.supportsFiber)M=!0;else{try{Cu=E.inject(M),va=E}catch{}M=!!E.checkDCE}}return M},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(M,E,$,q){if(!Je)throw Error(a(363));M=Fm(M,E);var Q=Mn(M,$,q).disconnect;return{disconnect:function(){Q()}}},n.registerMutableSourceForHydration=function(M,E){var $=E._getVersion;$=$(E._source),M.mutableSourceEagerHydrationData==null?M.mutableSourceEagerHydrationData=[E,$]:M.mutableSourceEagerHydrationData.push(E,$)},n.runWithPriority=function(M,E){var $=Xr;try{return Xr=M,E()}finally{Xr=$}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(M,E,$,q){var Q=E.current,ue=Ps(),We=Uc(Q);return $=uo($),E.context===null?E.context=$:E.pendingContext=$,E=Ml(ue,We),E.payload={element:M},q=q===void 0?null:q,q!==null&&(E.callback=q),ba(Q,E),M=Al(Q,We,ue),M!==null&&Hh(M,Q,We),We},n};Xde.exports=P0t;var I0t=Xde.exports;const k0t=bi(I0t);var Kde={exports:{}},Zde={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,he){var ve=te.length;te.push(he);e:for(;0<ve;){var ze=ve-1>>>1,Ue=te[ze];if(0<i(Ue,he))te[ze]=he,te[ve]=Ue,ve=ze;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var he=te[0],ve=te.pop();if(ve!==he){te[0]=ve;e:for(var ze=0,Ue=te.length,rt=Ue>>>1;ze<rt;){var Fe=2*(ze+1)-1,st=te[Fe],ct=Fe+1,Dt=te[ct];if(0>i(st,ve))ct<Ue&&0>i(Dt,st)?(te[ze]=Dt,te[ct]=ve,ze=ct):(te[ze]=st,te[Fe]=ve,ze=Fe);else if(ct<Ue&&0>i(Dt,ve))te[ze]=Dt,te[ct]=ve,ze=ct;else break e}}return he}function i(te,he){var ve=te.sortIndex-he.sortIndex;return ve!==0?ve:te.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],h=1,p=null,g=3,v=!1,x=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(te){for(var he=n(c);he!==null;){if(he.callback===null)r(c);else if(he.startTime<=te)r(c),he.sortIndex=he.expirationTime,e(l,he);else break;he=n(c)}}function k(te){if(_=!1,T(te),!x)if(n(l)!==null)x=!0,fe(R);else{var he=n(c);he!==null&&xe(k,he.startTime-te)}}function R(te,he){x=!1,_&&(_=!1,w(H),H=-1),v=!0;var ve=g;try{for(T(he),p=n(l);p!==null&&(!(p.expirationTime>he)||te&&!X());){var ze=p.callback;if(typeof ze=="function"){p.callback=null,g=p.priorityLevel;var Ue=ze(p.expirationTime<=he);he=t.unstable_now(),typeof Ue=="function"?p.callback=Ue:p===n(l)&&r(l),T(he)}else r(l);p=n(l)}if(p!==null)var rt=!0;else{var Fe=n(c);Fe!==null&&xe(k,Fe.startTime-he),rt=!1}return rt}finally{p=null,g=ve,v=!1}}var L=!1,F=null,H=-1,Z=5,j=-1;function X(){return!(t.unstable_now()-j<Z)}function le(){if(F!==null){var te=t.unstable_now();j=te;var he=!0;try{he=F(!0,te)}finally{he?me():(L=!1,F=null)}}else L=!1}var me;if(typeof C=="function")me=function(){C(le)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ce=ie.port2;ie.port1.onmessage=le,me=function(){ce.postMessage(null)}}else me=function(){S(le,0)};function fe(te){F=te,L||(L=!0,me())}function xe(te,he){H=S(function(){te(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,fe(R))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(te){switch(g){case 1:case 2:case 3:var he=3;break;default:he=g}var ve=g;g=he;try{return te()}finally{g=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ve=g;g=te;try{return he()}finally{g=ve}},t.unstable_scheduleCallback=function(te,he,ve){var ze=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ze+ve:ze):ve=ze,te){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ve+Ue,te={id:h++,callback:he,priorityLevel:te,startTime:ve,expirationTime:Ue,sortIndex:-1},ve>ze?(te.sortIndex=ve,e(c,te),n(l)===null&&te===n(c)&&(_?(w(H),H=-1):_=!0,xe(k,ve-ze))):(te.sortIndex=Ue,e(l,te),x||v||(x=!0,fe(R))),te},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(te){var he=g;return function(){var ve=g;g=he;try{return te.apply(this,arguments)}finally{g=ve}}}})(Zde);Kde.exports=Zde;var tJ=Kde.exports;const P8={},Jde=t=>void Object.assign(P8,t);function R0t(t,e){function n(h,{args:p=[],attach:g,...v},x){let _=`${h[0].toUpperCase()}${h.slice(1)}`,S;if(h==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=v.object;S=u_(w,{type:h,root:x,attach:g,primitive:!0})}else{const w=P8[_];if(!w)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");S=u_(new w(...p),{type:h,root:x,attach:g,memoizedProps:{args:p}})}return S.__r3f.attach===void 0&&(S instanceof Dr?S.__r3f.attach="geometry":S instanceof ja&&(S.__r3f.attach="material")),_!=="inject"&&JN(S,v),S}function r(h,p){let g=!1;if(p){var v,x;(v=p.__r3f)!=null&&v.attach?ZN(h,p,p.__r3f.attach):p.isObject3D&&h.isObject3D&&(h.add(p),g=!0),g||(x=h.__r3f)==null||x.objects.push(p),p.__r3f||u_(p,{}),p.__r3f.parent=h,t5(p),d_(p)}}function i(h,p,g){let v=!1;if(p){var x,_;if((x=p.__r3f)!=null&&x.attach)ZN(h,p,p.__r3f.attach);else if(p.isObject3D&&h.isObject3D){p.parent=h,p.dispatchEvent({type:"added"});const S=h.children.filter(C=>C!==p),w=S.indexOf(g);h.children=[...S.slice(0,w),p,...S.slice(w)],v=!0}v||(_=h.__r3f)==null||_.objects.push(p),p.__r3f||u_(p,{}),p.__r3f.parent=h,t5(p),d_(p)}}function o(h,p,g=!1){h&&[...h].forEach(v=>a(p,v,g))}function a(h,p,g){if(p){var v,x,_;if(p.__r3f&&(p.__r3f.parent=null),(v=h.__r3f)!=null&&v.objects&&(h.__r3f.objects=h.__r3f.objects.filter(k=>k!==p)),(x=p.__r3f)!=null&&x.attach)sJ(h,p,p.__r3f.attach);else if(p.isObject3D&&h.isObject3D){var S;h.remove(p),(S=p.__r3f)!=null&&S.root&&$0t(XA(p),p)}const C=(_=p.__r3f)==null?void 0:_.primitive,T=!C&&(g===void 0?p.dispose!==null:g);if(!C){var w;o((w=p.__r3f)==null?void 0:w.objects,p,T),o(p.children,p,T)}if(delete p.__r3f,T&&p.dispose&&p.type!=="Scene"){const k=()=>{try{p.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?tJ.unstable_scheduleCallback(tJ.unstable_IdlePriority,k):k()}d_(h)}}function s(h,p,g,v){var x;const _=(x=h.__r3f)==null?void 0:x.parent;if(!_)return;const S=n(p,g,h.__r3f.root);if(h.children){for(const w of h.children)w.__r3f&&r(S,w);h.children=h.children.filter(w=>!w.__r3f)}h.__r3f.objects.forEach(w=>r(S,w)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||a(_,h),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),r(_,S),S.raycast&&S.__r3f.eventCount&&XA(S).getState().internal.interaction.push(S),[v,v.alternate].forEach(w=>{w!==null&&(w.stateNode=S,w.ref&&(typeof w.ref=="function"?w.ref(S):w.ref.current=S))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:k0t({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,p)=>{if(!p)return;const g=h.getState().scene;g.__r3f&&(g.__r3f.root=h,r(g,p))},removeChildFromContainer:(h,p)=>{p&&a(h.getState().scene,p)},insertInContainerBefore:(h,p,g)=>{if(!p||!g)return;const v=h.getState().scene;v.__r3f&&i(v,p,g)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var p;return!!((p=h==null?void 0:h.__r3f)!=null?p:{}).handlers},prepareUpdate(h,p,g,v){var x;if(((x=h==null?void 0:h.__r3f)!=null?x:{}).primitive&&v.object&&v.object!==h)return[!0];{const{args:S=[],children:w,...C}=v,{args:T=[],children:k,...R}=g;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((F,H)=>F!==T[H]))return[!0];const L=ofe(h,C,R,!0);return L.changes.length?[!1,L]:null}},commitUpdate(h,[p,g],v,x,_,S){p?s(h,v,_,S):JN(h,g)},commitMount(h,p,g,v){var x;const _=(x=h.__r3f)!=null?x:{};h.raycast&&_.handlers&&_.eventCount&&XA(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>u_(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var p;const{attach:g,parent:v}=(p=h.__r3f)!=null?p:{};g&&v&&sJ(v,h,g),h.isObject3D&&(h.visible=!1),d_(h)},unhideInstance(h,p){var g;const{attach:v,parent:x}=(g=h.__r3f)!=null?g:{};v&&x&&ZN(x,h,v),(h.isObject3D&&p.visible==null||p.visible)&&(h.visible=!0),d_(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():V_.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ko.fun(performance.now)?performance.now:ko.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ko.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ko.fun(clearTimeout)?clearTimeout:void 0}),applyProps:JN}}var nJ,rJ;const KN=t=>"colorSpace"in t||"outputColorSpace"in t,Qde=()=>{var t;return(t=P8.ColorManagement)!=null?t:null},efe=t=>t&&t.isOrthographicCamera,O0t=t=>t&&t.hasOwnProperty("current"),YE=typeof window<"u"&&((nJ=window.document)!=null&&nJ.createElement||((rJ=window.navigator)==null?void 0:rJ.product)==="ReactNative")?V.useLayoutEffect:V.useEffect;function tfe(t){const e=V.useRef(t);return YE(()=>void(e.current=t),[t]),e}function L0t({set:t}){return YE(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class nfe extends V.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}nfe.getDerivedStateFromError=()=>({error:!0});const rfe="__default",iJ=new Map,D0t=t=>t&&!!t.memoized&&!!t.changes;function ife(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const dS=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function XA(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ko={obj:t=>t===Object(t)&&!ko.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(ko.str(t)||ko.num(t))return t===e;const o=ko.obj(t);if(o&&r==="reference")return t===e;const a=ko.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!ko.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(ko.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function N0t(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function u_(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function e5(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const oJ=/-\d+$/;function ZN(t,e,n){if(ko.str(n)){if(oJ.test(n)){const o=n.replace(oJ,""),{target:a,key:s}=e5(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=e5(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function sJ(t,e,n){var r,i;if(ko.str(n)){const{target:o,key:a}=e5(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function ofe(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},c=!1){var h;const p=(h=t==null?void 0:t.__r3f)!=null?h:{},g=Object.entries(i),v=[];if(c){const _=Object.keys(l);for(let S=0;S<_.length;S++)i.hasOwnProperty(_[S])||g.unshift([_[S],rfe+"remove"])}g.forEach(([_,S])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&_==="object"||ko.equ(S,l[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return v.push([_,S,!0,[]]);let C=[];_.includes("-")&&(C=_.split("-")),v.push([_,S,!1,C]);for(const T in i){const k=i[T];T.startsWith(`${_}-`)&&v.push([T,k,!1,T.split("-")])}});const x={...i};return p.memoizedProps&&p.memoizedProps.args&&(x.args=p.memoizedProps.args),p.memoizedProps&&p.memoizedProps.attach&&(x.attach=p.memoizedProps.attach),{memoized:x,changes:v}}const z0t=typeof process<"u"&&!1;function JN(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},a=o.root,s=(r=a==null||a.getState==null?void 0:a.getState())!=null?r:{},{memoized:l,changes:c}=D0t(e)?e:ofe(t,e),h=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let g=0;g<c.length;g++){let[v,x,_,S]=c[g];if(KN(t)){const k="srgb",R="srgb-linear";v==="encoding"?(v="colorSpace",x=x===3001?k:R):v==="outputEncoding"&&(v="outputColorSpace",x=x===3001?k:R)}let w=t,C=w[v];if(S.length&&(C=S.reduce((T,k)=>T[k],t),!(C&&C.set))){const[T,...k]=S.reverse();w=k.reverse().reduce((R,L)=>R[L],t),v=T}if(x===rfe+"remove")if(w.constructor){let T=iJ.get(w.constructor);T||(T=new w.constructor,iJ.set(w.constructor,T)),x=T[v]}else x=0;if(_)x?o.handlers[v]=x:delete o.handlers[v],o.eventCount=Object.keys(o.handlers).length;else if(C&&C.set&&(C.copy||C instanceof w0)){if(Array.isArray(x))C.fromArray?C.fromArray(x):C.set(...x);else if(C.copy&&x&&x.constructor&&(z0t?C.constructor.name===x.constructor.name:C.constructor===x.constructor))C.copy(x);else if(x!==void 0){const T=C instanceof Fn;!T&&C.setScalar?C.setScalar(x):C instanceof w0&&x instanceof w0?C.mask=x.mask:C.set(x),!Qde()&&!s.linear&&T&&C.convertSRGBToLinear()}}else if(w[v]=x,w[v]instanceof qo&&w[v].format===Ul&&w[v].type===Th){const T=w[v];KN(T)&&KN(s.gl)?T.colorSpace=s.gl.outputColorSpace:T.encoding=s.gl.outputEncoding}d_(t)}if(o.parent&&t.raycast&&h!==o.eventCount){const g=XA(t).getState().internal,v=g.interaction.indexOf(t);v>-1&&g.interaction.splice(v,1),o.eventCount&&g.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&t5(t),t}function d_(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function t5(t){t.onUpdate==null||t.onUpdate(t)}function B0t(t,e){t.manual||(efe(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function lA(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function F0t(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return V_.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return V_.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return V_.ContinuousEventPriority;default:return V_.DefaultEventPriority}}function sfe(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function $0t(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{sfe(n.capturedMap,e,r,i)})}function j0t(t){function e(l){const{internal:c}=t.getState(),h=l.offsetX-c.initialClick[0],p=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function r(l,c){const h=t.getState(),p=new Set,g=[],v=c?c(h.internal.interaction):h.internal.interaction;for(let w=0;w<v.length;w++){const C=dS(v[w]);C&&(C.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function x(w){const C=dS(w);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var T;C.events.compute==null||C.events.compute(l,C,(T=C.previousRoot)==null?void 0:T.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(w,!0):[]}let _=v.flatMap(x).sort((w,C)=>{const T=dS(w.object),k=dS(C.object);return!T||!k?w.distance-C.distance:k.events.priority-T.events.priority||w.distance-C.distance}).filter(w=>{const C=lA(w);return p.has(C)?!1:(p.add(C),!0)});h.events.filter&&(_=h.events.filter(_,h));for(const w of _){let C=w.object;for(;C;){var S;(S=C.__r3f)!=null&&S.eventCount&&g.push({...w,eventObject:C}),C=C.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let w of h.internal.capturedMap.get(l.pointerId).values())p.has(lA(w.intersection))||g.push(w.intersection);return g}function i(l,c,h,p){const g=t.getState();if(l.length){const v={stopped:!1};for(const x of l){const _=dS(x.object)||g,{raycaster:S,pointer:w,camera:C,internal:T}=_,k=new Oe(w.x,w.y,0).unproject(C),R=j=>{var X,le;return(X=(le=T.capturedMap.get(j))==null?void 0:le.has(x.eventObject))!=null?X:!1},L=j=>{const X={intersection:x,target:c.target};T.capturedMap.has(j)?T.capturedMap.get(j).set(x.eventObject,X):T.capturedMap.set(j,new Map([[x.eventObject,X]])),c.target.setPointerCapture(j)},F=j=>{const X=T.capturedMap.get(j);X&&sfe(T.capturedMap,x.eventObject,X,j)};let H={};for(let j in c){let X=c[j];typeof X!="function"&&(H[j]=X)}let Z={...x,...H,pointer:w,intersections:l,stopped:v.stopped,delta:h,unprojectedPoint:k,ray:S.ray,camera:C,stopPropagation(){const j="pointerId"in c&&T.capturedMap.get(c.pointerId);if((!j||j.has(x.eventObject))&&(Z.stopped=v.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(X=>X.eventObject===x.eventObject))){const X=l.slice(0,l.indexOf(x));o([...X,x])}},target:{hasPointerCapture:R,setPointerCapture:L,releasePointerCapture:F},currentTarget:{hasPointerCapture:R,setPointerCapture:L,releasePointerCapture:F},nativeEvent:c};if(p(Z),v.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const h of c.hovered.values())if(!l.length||!l.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const g=h.eventObject.__r3f,v=g==null?void 0:g.handlers;if(c.hovered.delete(lA(h)),g!=null&&g.eventCount){const x={...h,intersections:l};v.onPointerOut==null||v.onPointerOut(x),v.onPointerLeave==null||v.onPointerLeave(x)}}}function a(l,c){for(let h=0;h<c.length;h++){const p=c[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:h}=t.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),o([]))})}}return function(h){const{onPointerMissed:p,internal:g}=t.getState();g.lastEvent.current=h;const v=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",S=r(h,v?n:void 0),w=x?e(h):0;l==="onPointerDown"&&(g.initialClick=[h.offsetX,h.offsetY],g.initialHits=S.map(T=>T.eventObject)),x&&!S.length&&w<=2&&(a(h,g.interaction),p&&p(h)),v&&o(S);function C(T){const k=T.eventObject,R=k.__r3f,L=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(v){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const F=lA(T),H=g.hovered.get(F);H?H.stopped&&T.stopPropagation():(g.hovered.set(F,T),L.onPointerOver==null||L.onPointerOver(T),L.onPointerEnter==null||L.onPointerEnter(T))}L.onPointerMove==null||L.onPointerMove(T)}else{const F=L[l];F?(!x||g.initialHits.includes(k))&&(a(h,g.interaction.filter(H=>!g.initialHits.includes(H))),F(T)):x&&g.initialHits.includes(k)&&a(h,g.interaction.filter(H=>!g.initialHits.includes(H)))}}i(S,h,w,C)}}return{handlePointer:s}}const afe=t=>!!(t!=null&&t.render),lfe=V.createContext(null),U0t=(t,e)=>{const n=T0t((s,l)=>{const c=new Oe,h=new Oe,p=new Oe;function g(w=l().camera,C=h,T=l().size){const{width:k,height:R,top:L,left:F}=T,H=k/R;C instanceof Oe?p.copy(C):p.set(...C);const Z=w.getWorldPosition(c).distanceTo(p);if(efe(w))return{width:k/w.zoom,height:R/w.zoom,top:L,left:F,factor:1,distance:Z,aspect:H};{const j=w.fov*Math.PI/180,X=2*Math.tan(j/2)*Z,le=X*(k/R);return{width:le,height:X,top:L,left:F,factor:k/le,distance:Z,aspect:H}}}let v;const x=w=>s(C=>({performance:{...C.performance,current:w}})),_=new Ht;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>t(l(),w),advance:(w,C)=>e(w,C,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new E8,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();v&&clearTimeout(v),w.performance.current!==w.performance.min&&x(w.performance.min),v=setTimeout(()=>x(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:w=>s(C=>({...C,events:{...C.events,...w}})),setSize:(w,C,T,k,R)=>{const L=l().camera,F={width:w,height:C,top:k||0,left:R||0,updateStyle:T};s(H=>({size:F,viewport:{...H.viewport,...g(L,h,F)}}))},setDpr:w=>s(C=>{const T=ife(w);return{viewport:{...C.viewport,dpr:T,initialDpr:C.viewport.initialDpr||T}}}),setFrameloop:(w="always")=>{const C=l().clock;C.stop(),C.elapsedTime=0,w!=="never"&&(C.start(),C.elapsedTime=0),s(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:V.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,C,T)=>{const k=l().internal;return k.priority=k.priority+(C>0?1:0),k.subscribers.push({ref:w,priority:C,store:T}),k.subscribers=k.subscribers.sort((R,L)=>R.priority-L.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(C>0?1:0),R.subscribers=R.subscribers.filter(L=>L.ref!==w))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:h,set:p}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var g;i=l,o=c.dpr,B0t(s,l),h.setPixelRatio(c.dpr);const v=(g=l.updateStyle)!=null?g:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,v)}s!==a&&(a=s,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let cA,V0t=new Set,W0t=new Set,H0t=new Set;function QN(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function fS(t,e){switch(t){case"before":return QN(V0t,e);case"after":return QN(W0t,e);case"tail":return QN(H0t,e)}}let ez,tz;function nz(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),ez=e.internal.subscribers,cA=0;cA<ez.length;cA++)tz=ez[cA],tz.ref.current(tz.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function G0t(t){let e=!1,n,r,i;function o(l){r=requestAnimationFrame(o),e=!0,n=0,fS("before",l);for(const h of t.values()){var c;i=h.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=nz(l,i))}if(fS("after",l),n===0)return fS("tail",l),e=!1,cancelAnimationFrame(r)}function a(l,c=1){var h;if(!l)return t.forEach(p=>a(p.store.getState(),c));(h=l.gl.xr)!=null&&h.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(o)))}function s(l,c=!0,h,p){if(c&&fS("before",l),h)nz(l,h,p);else for(const g of t.values())nz(l,g.store.getState());c&&fS("after",l)}return{loop:o,invalidate:a,advance:s}}function cfe(){const t=V.useContext(lfe);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function pg(t=n=>n,e){return cfe()(t,e)}function ufe(t,e=0){const n=cfe(),r=n.getState().internal.subscribe,i=tfe(t);return YE(()=>r(i,e,n),[e,r,n]),null}const i1=new Map,{invalidate:aJ,advance:lJ}=G0t(i1),{reconciler:sk,applyProps:s_}=R0t(i1,F0t),a_={objects:"shallow",strict:!1},q0t=(t,e)=>{const n=typeof t=="function"?t(e):t;return afe(n)?n:new l8({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Y0t(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function X0t(t){const e=i1.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||U0t(aJ,lJ),a=n||sk.createContainer(o,V_.ConcurrentRoot,null,!1,null,"",i,null);e||i1.set(t,{fiber:a,store:o});let s,l=!1,c;return{configure(h={}){let{gl:p,size:g,scene:v,events:x,onCreated:_,shadows:S=!1,linear:w=!1,flat:C=!1,legacy:T=!1,orthographic:k=!1,frameloop:R="always",dpr:L=[1,2],performance:F,raycaster:H,camera:Z,onPointerMissed:j}=h,X=o.getState(),le=X.gl;X.gl||X.set({gl:le=q0t(p,t)});let me=X.raycaster;me||X.set({raycaster:me=new Gde});const{params:ie,...ce}=H||{};if(ko.equ(ce,me,a_)||s_(me,{...ce}),ko.equ(ie,me.params,a_)||s_(me,{params:{...me.params,...ie}}),!X.camera||X.camera===c&&!ko.equ(c,Z,a_)){c=Z;const ve=Z instanceof jE,ze=ve?Z:k?new Op(0,0,0,0,.1,1e3):new os(75,0,.1,1e3);ve||(ze.position.z=5,Z&&s_(ze,Z),!X.camera&&!(Z!=null&&Z.rotation)&&ze.lookAt(0,0,0)),X.set({camera:ze}),me.camera=ze}if(!X.scene){let ve;v instanceof ik?ve=v:(ve=new ik,v&&s_(ve,v)),X.set({scene:u_(ve)})}if(!X.xr){var fe;const ve=(rt,Fe)=>{const st=o.getState();st.frameloop!=="never"&&lJ(rt,!0,st,Fe)},ze=()=>{const rt=o.getState();rt.gl.xr.enabled=rt.gl.xr.isPresenting,rt.gl.xr.setAnimationLoop(rt.gl.xr.isPresenting?ve:null),rt.gl.xr.isPresenting||aJ(rt)},Ue={connect(){const rt=o.getState().gl;rt.xr.addEventListener("sessionstart",ze),rt.xr.addEventListener("sessionend",ze)},disconnect(){const rt=o.getState().gl;rt.xr.removeEventListener("sessionstart",ze),rt.xr.removeEventListener("sessionend",ze)}};typeof((fe=le.xr)==null?void 0:fe.addEventListener)=="function"&&Ue.connect(),X.set({xr:Ue})}if(le.shadowMap){const ve=le.shadowMap.enabled,ze=le.shadowMap.type;if(le.shadowMap.enabled=!!S,ko.boo(S))le.shadowMap.type=QS;else if(ko.str(S)){var xe;const Ue={basic:Nce,percentage:FO,soft:QS,variance:Xd};le.shadowMap.type=(xe=Ue[S])!=null?xe:QS}else ko.obj(S)&&Object.assign(le.shadowMap,S);(ve!==le.shadowMap.enabled||ze!==le.shadowMap.type)&&(le.shadowMap.needsUpdate=!0)}const te=Qde();te&&("enabled"in te?te.enabled=!T:"legacyMode"in te&&(te.legacyMode=T)),l||s_(le,{outputEncoding:w?3e3:3001,toneMapping:C?Eh:U6}),X.legacy!==T&&X.set(()=>({legacy:T})),X.linear!==w&&X.set(()=>({linear:w})),X.flat!==C&&X.set(()=>({flat:C})),p&&!ko.fun(p)&&!afe(p)&&!ko.equ(p,le,a_)&&s_(le,p),x&&!X.events.handlers&&X.set({events:x(o)});const he=Y0t(t,g);return ko.equ(he,X.size,a_)||X.setSize(he.width,he.height,he.updateStyle,he.top,he.left),L&&X.viewport.dpr!==ife(L)&&X.setDpr(L),X.frameloop!==R&&X.setFrameloop(R),X.onPointerMissed||X.set({onPointerMissed:j}),F&&!ko.equ(F,X.performance,a_)&&X.set(ve=>({performance:{...ve.performance,...F}})),s=_,l=!0,this},render(h){return l||this.configure(),sk.updateContainer(V.createElement(K0t,{store:o,children:h,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){dfe(t)}}}function K0t({store:t,children:e,onCreated:n,rootElement:r}){return YE(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),V.createElement(lfe.Provider,{value:t},e)}function dfe(t,e){const n=i1.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),sk.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),N0t(i),i1.delete(t),e&&e(t)}catch{}},500)})}}sk.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:V.version});function n5(t,e,n){var r,i,o,a,s;e==null&&(e=100);function l(){var h=Date.now()-a;h<e&&h>=0?r=setTimeout(l,e-h):(r=null,n||(s=t.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,a=Date.now();var h=n&&!r;return r||(r=setTimeout(l,e)),h&&(s=t.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}n5.debounce=n5;var Z0t=n5;const cJ=bi(Z0t);function J0t(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=V.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=V.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),c=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,p=V.useRef(!1);V.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[g,v,x]=V.useMemo(()=>{const C=()=>{if(!l.current.element)return;const{left:T,top:k,width:R,height:L,bottom:F,right:H,x:Z,y:j}=l.current.element.getBoundingClientRect(),X={left:T,top:k,width:R,height:L,bottom:F,right:H,x:Z,y:j};l.current.element instanceof HTMLElement&&i&&(X.height=l.current.element.offsetHeight,X.width=l.current.element.offsetWidth),Object.freeze(X),p.current&&!nxt(l.current.lastBounds,X)&&s(l.current.lastBounds=X)};return[C,h?cJ(C,h):C,c?cJ(C,c):C]},[s,i,c,h]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(C=>C.removeEventListener("scroll",x,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function S(){l.current.element&&(l.current.resizeObserver=new o(x),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(C=>C.addEventListener("scroll",x,{capture:!0,passive:!0})))}const w=C=>{!C||C===l.current.element||(_(),l.current.element=C,l.current.scrollContainers=ffe(C),S())};return ext(x,!!n),Q0t(v),V.useEffect(()=>{_(),S()},[n,x,v]),V.useEffect(()=>_,[]),[w,a,g]}function Q0t(t){V.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function ext(t,e){V.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function ffe(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...ffe(t.parentElement)]}const txt=["x","y","top","bottom","left","right","width","height"],nxt=(t,e)=>txt.every(n=>t[n]===e[n]);var rxt=Object.defineProperty,ixt=Object.defineProperties,oxt=Object.getOwnPropertyDescriptors,uJ=Object.getOwnPropertySymbols,sxt=Object.prototype.hasOwnProperty,axt=Object.prototype.propertyIsEnumerable,dJ=(t,e,n)=>e in t?rxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fJ=(t,e)=>{for(var n in e||(e={}))sxt.call(e,n)&&dJ(t,n,e[n]);if(uJ)for(var n of uJ(e))axt.call(e,n)&&dJ(t,n,e[n]);return t},lxt=(t,e)=>ixt(t,oxt(e));function hfe(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=hfe(r,e,n);if(i)return i;r=e?null:r.sibling}}function pfe(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const I8=pfe(V.createContext(null));class mfe extends V.Component{render(){return V.createElement(I8.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:hJ,ReactCurrentDispatcher:pJ}=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function cxt(){const t=V.useContext(I8);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=V.useId();return V.useMemo(()=>{for(const r of[hJ==null?void 0:hJ.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=hfe(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function uxt(){var t,e;const n=cxt(),[r]=V.useState(()=>new Map);r.clear();let i=n;for(;i;){const o=(t=i.type)==null?void 0:t._context;o&&o!==I8&&!r.has(o)&&r.set(o,(e=pJ==null?void 0:pJ.current)==null?void 0:e.readContext(pfe(o))),i=i.return}return r}function dxt(){const t=uxt();return V.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>V.createElement(e,null,V.createElement(n.Provider,lxt(fJ({},r),{value:t.get(n)}))),e=>V.createElement(mfe,fJ({},e))),[t])}const rz={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function fxt(t){const{handlePointer:e}=j0t(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(rz).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,c]=rz[a];n.addEventListener(l,s,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=rz[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const hxt=V.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=fxt,eventSource:s,eventPrefix:l,shadows:c,linear:h,flat:p,legacy:g,orthographic:v,frameloop:x,dpr:_,performance:S,raycaster:w,camera:C,scene:T,onPointerMissed:k,onCreated:R,...L},F){V.useMemo(()=>Jde(S0t),[]);const H=dxt(),[Z,j]=J0t({scroll:!0,debounce:{scroll:50,resize:0},...r}),X=V.useRef(null),le=V.useRef(null);V.useImperativeHandle(F,()=>X.current);const me=tfe(k),[ie,ce]=V.useState(!1),[fe,xe]=V.useState(!1);if(ie)throw ie;if(fe)throw fe;const te=V.useRef(null);YE(()=>{const ve=X.current;j.width>0&&j.height>0&&ve&&(te.current||(te.current=X0t(ve)),te.current.configure({gl:o,events:a,shadows:c,linear:h,flat:p,legacy:g,orthographic:v,frameloop:x,dpr:_,performance:S,raycaster:w,camera:C,scene:T,size:j,onPointerMissed:(...ze)=>me.current==null?void 0:me.current(...ze),onCreated:ze=>{ze.events.connect==null||ze.events.connect(s?O0t(s)?s.current:s:le.current),l&&ze.setEvents({compute:(Ue,rt)=>{const Fe=Ue[l+"X"],st=Ue[l+"Y"];rt.pointer.set(Fe/rt.size.width*2-1,-(st/rt.size.height)*2+1),rt.raycaster.setFromCamera(rt.pointer,rt.camera)}}),R==null||R(ze)}}),te.current.render(V.createElement(H,null,V.createElement(nfe,{set:xe},V.createElement(V.Suspense,{fallback:V.createElement(L0t,{set:ce})},e)))))}),V.useEffect(()=>{const ve=X.current;if(ve)return()=>dfe(ve)},[]);const he=s?"none":"auto";return V.createElement("div",de({ref:le,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:he,...i}},L),V.createElement("div",{ref:Z,style:{width:"100%",height:"100%"}},V.createElement("canvas",{ref:X,style:{display:"block"}},n)))}),pxt=V.forwardRef(function(e,n){return V.createElement(mfe,null,V.createElement(hxt,de({},e,{ref:n})))});var mxt=Object.defineProperty,gxt=(t,e,n)=>e in t?mxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mr=(t,e,n)=>(gxt(t,typeof e!="symbol"?e+"":e,n),n);const uA=new Cy,mJ=new ch,yxt=Math.cos(70*(Math.PI/180)),gJ=(t,e)=>(t%e+e)%e;let vxt=class extends Sf{constructor(e,n){super(),Mr(this,"object"),Mr(this,"domElement"),Mr(this,"enabled",!0),Mr(this,"target",new Oe),Mr(this,"minDistance",0),Mr(this,"maxDistance",1/0),Mr(this,"minZoom",0),Mr(this,"maxZoom",1/0),Mr(this,"minPolarAngle",0),Mr(this,"maxPolarAngle",Math.PI),Mr(this,"minAzimuthAngle",-1/0),Mr(this,"maxAzimuthAngle",1/0),Mr(this,"enableDamping",!1),Mr(this,"dampingFactor",.05),Mr(this,"enableZoom",!0),Mr(this,"zoomSpeed",1),Mr(this,"enableRotate",!0),Mr(this,"rotateSpeed",1),Mr(this,"enablePan",!0),Mr(this,"panSpeed",1),Mr(this,"screenSpacePanning",!0),Mr(this,"keyPanSpeed",7),Mr(this,"zoomToCursor",!1),Mr(this,"autoRotate",!1),Mr(this,"autoRotateSpeed",2),Mr(this,"reverseOrbit",!1),Mr(this,"reverseHorizontalOrbit",!1),Mr(this,"reverseVerticalOrbit",!1),Mr(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Mr(this,"mouseButtons",{LEFT:Qc.ROTATE,MIDDLE:Qc.DOLLY,RIGHT:Qc.PAN}),Mr(this,"touches",{ONE:eu.ROTATE,TWO:eu.DOLLY_PAN}),Mr(this,"target0"),Mr(this,"position0"),Mr(this,"zoom0"),Mr(this,"_domElementKeyEvents",null),Mr(this,"getPolarAngle"),Mr(this,"getAzimuthalAngle"),Mr(this,"setPolarAngle"),Mr(this,"setAzimuthalAngle"),Mr(this,"getDistance"),Mr(this,"listenToKeyEvents"),Mr(this,"stopListenToKeyEvents"),Mr(this,"saveState"),Mr(this,"reset"),Mr(this,"update"),Mr(this,"connect"),Mr(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=ke=>{let Ve=gJ(ke,2*Math.PI),Me=h.phi;Me<0&&(Me+=2*Math.PI),Ve<0&&(Ve+=2*Math.PI);let it=Math.abs(Ve-Me);2*Math.PI-it<it&&(Ve<Me?Ve+=2*Math.PI:Me+=2*Math.PI),p.phi=Ve-Me,r.update()},this.setAzimuthalAngle=ke=>{let Ve=gJ(ke,2*Math.PI),Me=h.theta;Me<0&&(Me+=2*Math.PI),Ve<0&&(Ve+=2*Math.PI);let it=Math.abs(Ve-Me);2*Math.PI-it<it&&(Ve<Me?Ve+=2*Math.PI:Me+=2*Math.PI),p.theta=Ve-Me,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ke=>{ke.addEventListener("keydown",cn),this._domElementKeyEvents=ke},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",cn),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const ke=new Oe,Ve=new Oe(0,1,0),Me=new pa().setFromUnitVectors(e.up,Ve),it=Me.clone().invert(),en=new Oe,Xe=new pa,kt=2*Math.PI;return function(){const we=r.object.position;Me.setFromUnitVectors(e.up,Ve),it.copy(Me).invert(),ke.copy(we).sub(r.target),ke.applyQuaternion(Me),h.setFromVector3(ke),r.autoRotate&&l===s.NONE&&ie(le()),r.enableDamping?(h.theta+=p.theta*r.dampingFactor,h.phi+=p.phi*r.dampingFactor):(h.theta+=p.theta,h.phi+=p.phi);let oe=r.minAzimuthAngle,pe=r.maxAzimuthAngle;isFinite(oe)&&isFinite(pe)&&(oe<-Math.PI?oe+=kt:oe>Math.PI&&(oe-=kt),pe<-Math.PI?pe+=kt:pe>Math.PI&&(pe-=kt),oe<=pe?h.theta=Math.max(oe,Math.min(pe,h.theta)):h.theta=h.theta>(oe+pe)/2?Math.max(oe,h.theta):Math.min(pe,h.theta)),h.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,h.phi)),h.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),r.zoomToCursor&&Z||r.object.isOrthographicCamera?h.radius=Ue(h.radius):h.radius=Ue(h.radius*g),ke.setFromSpherical(h),ke.applyQuaternion(it),we.copy(r.target).add(ke),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(p.theta*=1-r.dampingFactor,p.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(p.set(0,0,0),v.set(0,0,0));let Te=!1;if(r.zoomToCursor&&Z){let Pe=null;if(r.object instanceof os&&r.object.isPerspectiveCamera){const Ne=ke.length();Pe=Ue(Ne*g);const Ke=Ne-Pe;r.object.position.addScaledVector(F,Ke),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Ne=new Oe(H.x,H.y,0);Ne.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix(),Te=!0;const Ke=new Oe(H.x,H.y,0);Ke.unproject(r.object),r.object.position.sub(Ke).add(Ne),r.object.updateMatrixWorld(),Pe=ke.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Pe!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Pe).add(r.object.position):(uA.origin.copy(r.object.position),uA.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(uA.direction))<yxt?e.lookAt(r.target):(mJ.setFromNormalAndCoplanarPoint(r.object.up,r.target),uA.intersectPlane(mJ,r.target))))}else r.object instanceof Op&&r.object.isOrthographicCamera&&(Te=g!==1,Te&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix()));return g=1,Z=!1,Te||en.distanceToSquared(r.object.position)>c||8*(1-Xe.dot(r.object.quaternion))>c?(r.dispatchEvent(i),en.copy(r.object.position),Xe.copy(r.object.quaternion),Te=!1,!0):!1}})(),this.connect=ke=>{ke===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=ke,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Pn),r.domElement.addEventListener("pointerdown",Ce),r.domElement.addEventListener("pointercancel",dt),r.domElement.addEventListener("wheel",Mn)},this.dispose=()=>{var ke,Ve,Me,it,en,Xe;(ke=r.domElement)==null||ke.removeEventListener("contextmenu",Pn),(Ve=r.domElement)==null||Ve.removeEventListener("pointerdown",Ce),(Me=r.domElement)==null||Me.removeEventListener("pointercancel",dt),(it=r.domElement)==null||it.removeEventListener("wheel",Mn),(en=r.domElement)==null||en.ownerDocument.removeEventListener("pointermove",_e),(Xe=r.domElement)==null||Xe.ownerDocument.removeEventListener("pointerup",ht),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",cn)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const c=1e-6,h=new q2,p=new q2;let g=1;const v=new Oe,x=new Ht,_=new Ht,S=new Ht,w=new Ht,C=new Ht,T=new Ht,k=new Ht,R=new Ht,L=new Ht,F=new Oe,H=new Ht;let Z=!1;const j=[],X={};function le(){return 2*Math.PI/60/60*r.autoRotateSpeed}function me(){return Math.pow(.95,r.zoomSpeed)}function ie(ke){r.reverseOrbit||r.reverseHorizontalOrbit?p.theta+=ke:p.theta-=ke}function ce(ke){r.reverseOrbit||r.reverseVerticalOrbit?p.phi+=ke:p.phi-=ke}const fe=(()=>{const ke=new Oe;return function(Me,it){ke.setFromMatrixColumn(it,0),ke.multiplyScalar(-Me),v.add(ke)}})(),xe=(()=>{const ke=new Oe;return function(Me,it){r.screenSpacePanning===!0?ke.setFromMatrixColumn(it,1):(ke.setFromMatrixColumn(it,0),ke.crossVectors(r.object.up,ke)),ke.multiplyScalar(Me),v.add(ke)}})(),te=(()=>{const ke=new Oe;return function(Me,it){const en=r.domElement;if(en&&r.object instanceof os&&r.object.isPerspectiveCamera){const Xe=r.object.position;ke.copy(Xe).sub(r.target);let kt=ke.length();kt*=Math.tan(r.object.fov/2*Math.PI/180),fe(2*Me*kt/en.clientHeight,r.object.matrix),xe(2*it*kt/en.clientHeight,r.object.matrix)}else en&&r.object instanceof Op&&r.object.isOrthographicCamera?(fe(Me*(r.object.right-r.object.left)/r.object.zoom/en.clientWidth,r.object.matrix),xe(it*(r.object.top-r.object.bottom)/r.object.zoom/en.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function he(ke){r.object instanceof os&&r.object.isPerspectiveCamera||r.object instanceof Op&&r.object.isOrthographicCamera?g/=ke:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ve(ke){r.object instanceof os&&r.object.isPerspectiveCamera||r.object instanceof Op&&r.object.isOrthographicCamera?g*=ke:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ze(ke){if(!r.zoomToCursor||!r.domElement)return;Z=!0;const Ve=r.domElement.getBoundingClientRect(),Me=ke.clientX-Ve.left,it=ke.clientY-Ve.top,en=Ve.width,Xe=Ve.height;H.x=Me/en*2-1,H.y=-(it/Xe)*2+1,F.set(H.x,H.y,1).unproject(r.object).sub(r.object.position).normalize()}function Ue(ke){return Math.max(r.minDistance,Math.min(r.maxDistance,ke))}function rt(ke){x.set(ke.clientX,ke.clientY)}function Fe(ke){ze(ke),k.set(ke.clientX,ke.clientY)}function st(ke){w.set(ke.clientX,ke.clientY)}function ct(ke){_.set(ke.clientX,ke.clientY),S.subVectors(_,x).multiplyScalar(r.rotateSpeed);const Ve=r.domElement;Ve&&(ie(2*Math.PI*S.x/Ve.clientHeight),ce(2*Math.PI*S.y/Ve.clientHeight)),x.copy(_),r.update()}function Dt(ke){R.set(ke.clientX,ke.clientY),L.subVectors(R,k),L.y>0?he(me()):L.y<0&&ve(me()),k.copy(R),r.update()}function zt(ke){C.set(ke.clientX,ke.clientY),T.subVectors(C,w).multiplyScalar(r.panSpeed),te(T.x,T.y),w.copy(C),r.update()}function Be(ke){ze(ke),ke.deltaY<0?ve(me()):ke.deltaY>0&&he(me()),r.update()}function lt(ke){let Ve=!1;switch(ke.code){case r.keys.UP:te(0,r.keyPanSpeed),Ve=!0;break;case r.keys.BOTTOM:te(0,-r.keyPanSpeed),Ve=!0;break;case r.keys.LEFT:te(r.keyPanSpeed,0),Ve=!0;break;case r.keys.RIGHT:te(-r.keyPanSpeed,0),Ve=!0;break}Ve&&(ke.preventDefault(),r.update())}function Qe(){if(j.length==1)x.set(j[0].pageX,j[0].pageY);else{const ke=.5*(j[0].pageX+j[1].pageX),Ve=.5*(j[0].pageY+j[1].pageY);x.set(ke,Ve)}}function ge(){if(j.length==1)w.set(j[0].pageX,j[0].pageY);else{const ke=.5*(j[0].pageX+j[1].pageX),Ve=.5*(j[0].pageY+j[1].pageY);w.set(ke,Ve)}}function et(){const ke=j[0].pageX-j[1].pageX,Ve=j[0].pageY-j[1].pageY,Me=Math.sqrt(ke*ke+Ve*Ve);k.set(0,Me)}function ot(){r.enableZoom&&et(),r.enablePan&&ge()}function Tt(){r.enableZoom&&et(),r.enableRotate&&Qe()}function Ct(ke){if(j.length==1)_.set(ke.pageX,ke.pageY);else{const Me=Ot(ke),it=.5*(ke.pageX+Me.x),en=.5*(ke.pageY+Me.y);_.set(it,en)}S.subVectors(_,x).multiplyScalar(r.rotateSpeed);const Ve=r.domElement;Ve&&(ie(2*Math.PI*S.x/Ve.clientHeight),ce(2*Math.PI*S.y/Ve.clientHeight)),x.copy(_)}function Ft(ke){if(j.length==1)C.set(ke.pageX,ke.pageY);else{const Ve=Ot(ke),Me=.5*(ke.pageX+Ve.x),it=.5*(ke.pageY+Ve.y);C.set(Me,it)}T.subVectors(C,w).multiplyScalar(r.panSpeed),te(T.x,T.y),w.copy(C)}function Gt(ke){const Ve=Ot(ke),Me=ke.pageX-Ve.x,it=ke.pageY-Ve.y,en=Math.sqrt(Me*Me+it*it);R.set(0,en),L.set(0,Math.pow(R.y/k.y,r.zoomSpeed)),he(L.y),k.copy(R)}function sn(ke){r.enableZoom&&Gt(ke),r.enablePan&&Ft(ke)}function Je(ke){r.enableZoom&&Gt(ke),r.enableRotate&&Ct(ke)}function Ce(ke){var Ve,Me;r.enabled!==!1&&(j.length===0&&((Ve=r.domElement)==null||Ve.ownerDocument.addEventListener("pointermove",_e),(Me=r.domElement)==null||Me.ownerDocument.addEventListener("pointerup",ht)),mt(ke),ke.pointerType==="touch"?Rt(ke):Wt(ke))}function _e(ke){r.enabled!==!1&&(ke.pointerType==="touch"?nn(ke):jt(ke))}function ht(ke){var Ve,Me,it;un(ke),j.length===0&&((Ve=r.domElement)==null||Ve.releasePointerCapture(ke.pointerId),(Me=r.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",_e),(it=r.domElement)==null||it.ownerDocument.removeEventListener("pointerup",ht)),r.dispatchEvent(a),l=s.NONE}function dt(ke){un(ke)}function Wt(ke){let Ve;switch(ke.button){case 0:Ve=r.mouseButtons.LEFT;break;case 1:Ve=r.mouseButtons.MIDDLE;break;case 2:Ve=r.mouseButtons.RIGHT;break;default:Ve=-1}switch(Ve){case Qc.DOLLY:if(r.enableZoom===!1)return;Fe(ke),l=s.DOLLY;break;case Qc.ROTATE:if(ke.ctrlKey||ke.metaKey||ke.shiftKey){if(r.enablePan===!1)return;st(ke),l=s.PAN}else{if(r.enableRotate===!1)return;rt(ke),l=s.ROTATE}break;case Qc.PAN:if(ke.ctrlKey||ke.metaKey||ke.shiftKey){if(r.enableRotate===!1)return;rt(ke),l=s.ROTATE}else{if(r.enablePan===!1)return;st(ke),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function jt(ke){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;ct(ke);break;case s.DOLLY:if(r.enableZoom===!1)return;Dt(ke);break;case s.PAN:if(r.enablePan===!1)return;zt(ke);break}}function Mn(ke){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(ke.preventDefault(),r.dispatchEvent(o),Be(ke),r.dispatchEvent(a))}function cn(ke){r.enabled===!1||r.enablePan===!1||lt(ke)}function Rt(ke){switch(an(ke),j.length){case 1:switch(r.touches.ONE){case eu.ROTATE:if(r.enableRotate===!1)return;Qe(),l=s.TOUCH_ROTATE;break;case eu.PAN:if(r.enablePan===!1)return;ge(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case eu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ot(),l=s.TOUCH_DOLLY_PAN;break;case eu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Tt(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function nn(ke){switch(an(ke),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ct(ke),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;Ft(ke),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;sn(ke),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Je(ke),r.update();break;default:l=s.NONE}}function Pn(ke){r.enabled!==!1&&ke.preventDefault()}function mt(ke){j.push(ke)}function un(ke){delete X[ke.pointerId];for(let Ve=0;Ve<j.length;Ve++)if(j[Ve].pointerId==ke.pointerId){j.splice(Ve,1);return}}function an(ke){let Ve=X[ke.pointerId];Ve===void 0&&(Ve=new Ht,X[ke.pointerId]=Ve),Ve.set(ke.pageX,ke.pageY)}function Ot(ke){const Ve=ke.pointerId===j[0].pointerId?j[1]:j[0];return X[Ve.pointerId]}n!==void 0&&this.connect(n),this.update()}};const xxt=V.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...c},h)=>{const p=pg(L=>L.invalidate),g=pg(L=>L.camera),v=pg(L=>L.gl),x=pg(L=>L.events),_=pg(L=>L.setEvents),S=pg(L=>L.set),w=pg(L=>L.get),C=pg(L=>L.performance),T=e||g,k=r||x.connected||v.domElement,R=V.useMemo(()=>new vxt(T),[T]);return ufe(()=>{R.enabled&&R.update()},-1),V.useEffect(()=>(o&&R.connect(o===!0?k:o),R.connect(k),()=>void R.dispose()),[o,k,n,R,p]),V.useEffect(()=>{const L=Z=>{p(),n&&C.regress(),a&&a(Z)},F=Z=>{s&&s(Z)},H=Z=>{l&&l(Z)};return R.addEventListener("change",L),R.addEventListener("start",F),R.addEventListener("end",H),()=>{R.removeEventListener("start",F),R.removeEventListener("end",H),R.removeEventListener("change",L)}},[a,s,l,R,p,_]),V.useEffect(()=>{if(t){const L=w().controls;return S({controls:R}),()=>S({controls:L})}},[t,R]),V.createElement("primitive",de({ref:h,object:R,enableDamping:i},c))});var k8={},_xt=ii;Object.defineProperty(k8,"__esModule",{value:!0});var gfe=k8.default=void 0,bxt=_xt(fi()),wxt=z;gfe=k8.default=(0,bxt.default)((0,wxt.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");const Sxt=t=>V.createElement("svg",{width:189,height:100,viewBox:"0 0 189 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{filter:"url(#filter0_i_515_194)"},V.createElement("path",{d:"M50.5271 48.0609L50.5394 66.4046C49.79 67.2593 48.6447 68.1767 47.1037 69.1569C45.5836 70.1371 43.6362 70.9822 41.2617 71.6921C38.8871 72.3812 36.054 72.7268 32.7624 72.729C29.7832 72.731 27.0745 72.2537 24.6364 71.297C22.1983 70.3194 20.1035 68.8938 18.3523 67.0199C16.601 65.1253 15.2453 62.8137 14.2851 60.0851C13.3458 57.3566 12.875 54.2319 12.8726 50.7111L12.8708 48.0236C12.8685 44.5028 13.3351 41.3774 14.2708 38.6476C15.2065 35.9179 16.5278 33.6149 18.2349 31.7387C19.942 29.8418 21.9723 28.4029 24.3258 27.4222C26.6793 26.4414 29.2831 25.9501 32.1373 25.9482C36.1998 25.9455 39.5232 26.5995 42.1074 27.9103C44.6916 29.2002 46.6511 30.9906 47.986 33.2813C49.3417 35.5721 50.1768 38.2069 50.4913 41.1859L40.6788 41.1925C40.4694 39.6718 40.0519 38.3596 39.4261 37.2558C38.8212 36.152 37.9561 35.3089 36.8307 34.7263C35.7053 34.1229 34.2467 33.8218 32.4551 33.823C31.0176 33.8239 29.7157 34.1269 28.5494 34.7318C27.404 35.3159 26.4358 36.202 25.645 37.39C24.8541 38.5781 24.2509 40.0576 23.8354 41.8287C23.4199 43.579 23.213 45.6208 23.2145 47.9542L23.2164 50.7042C23.2179 53.0375 23.4276 55.0894 23.8455 56.86C24.2842 58.6305 24.9206 60.1093 25.7547 61.2962C26.5888 62.4623 27.6415 63.347 28.9127 63.9504C30.2048 64.5537 31.705 64.8547 33.4133 64.8536C34.7467 64.8527 35.8716 64.7478 36.7881 64.5388C37.7046 64.3091 38.4545 64.0273 39.0376 63.6936C39.6207 63.339 40.0579 63.0158 40.3494 62.7239L40.3444 55.1614L32.2506 55.1669L32.2459 48.0731L50.5271 48.0609ZM57.4815 26.5875L74.9502 26.5758C78.4294 26.5734 81.4402 27.0923 83.9825 28.1322C86.5457 29.1722 88.5155 30.7125 89.8919 32.7533C91.2682 34.794 91.9574 37.3144 91.9594 40.3144C91.9611 42.8144 91.5563 44.9397 90.7449 46.6902C89.9336 48.4407 88.7888 49.8894 87.3104 51.0363C85.8528 52.1831 84.1451 53.1113 82.1872 53.8209L78.8759 55.6357L64.0009 55.6456L63.9331 47.7394L74.9956 47.732C76.5165 47.731 77.7767 47.4593 78.7763 46.917C79.776 46.3746 80.5255 45.6137 81.0248 44.6342C81.545 43.6339 81.8046 42.467 81.8037 41.1337C81.8028 39.7587 81.5416 38.5714 81.0201 37.5717C80.4986 36.5721 79.7272 35.8122 78.7061 35.292C77.7057 34.751 76.4555 34.481 74.9555 34.482L67.6743 34.4869L67.6994 72.0806L57.5119 72.0875L57.4815 26.5875ZM82.6994 72.0706L72.4672 51.8587L83.2171 51.8202L93.6054 71.5945L93.6057 72.0633L82.6994 72.0706ZM115.068 61.9552L125.169 26.5422L136.513 26.5346L120.949 72.045L113.543 72.0499L115.068 61.9552ZM105.825 26.5551L115.943 61.9546L117.543 72.0473L110.043 72.0523L94.5127 26.5627L105.825 26.5551ZM166.033 56.7648L176.158 56.758C175.993 59.8831 175.141 62.6441 173.601 65.041C172.082 67.417 169.968 69.283 167.261 70.639C164.554 71.9741 161.335 72.6429 157.606 72.6454C154.627 72.6474 151.96 72.1388 149.605 71.1196C147.25 70.1003 145.249 68.6433 143.602 66.7486C141.976 64.833 140.724 62.5317 139.848 59.8448C138.992 57.1371 138.562 54.0853 138.56 50.6894L138.558 47.9082C138.556 44.5124 139.002 41.46 139.896 38.751C140.79 36.0421 142.07 33.7288 143.735 31.811C145.4 29.8932 147.399 28.4231 149.732 27.4007C152.065 26.3783 154.669 25.8662 157.544 25.8642C161.419 25.8616 164.69 26.5574 167.357 27.9514C170.025 29.3455 172.089 31.2607 173.549 33.6973C175.03 36.1338 175.917 38.9144 176.211 42.0392L166.054 42.046C165.97 40.2753 165.635 38.7859 165.051 37.578C164.467 36.3492 163.571 35.4227 162.362 34.7985C161.153 34.1743 159.549 33.8629 157.549 33.8642C156.091 33.8652 154.809 34.1369 153.706 34.6793C152.623 35.2217 151.717 36.066 150.989 37.2124C150.281 38.3587 149.751 39.8174 149.398 41.5884C149.045 43.3387 148.869 45.4221 148.871 47.8388L148.873 50.6825C148.874 53.0784 149.032 55.1512 149.346 56.901C149.659 58.6508 150.16 60.0983 150.848 61.2437C151.558 62.3891 152.464 63.2426 153.569 63.8044C154.673 64.3662 156.017 64.6465 157.601 64.6454C159.413 64.6442 160.923 64.362 162.131 63.7987C163.339 63.2145 164.266 62.3389 164.911 61.1718C165.556 60.0047 165.93 58.5357 166.033 56.7648Z",fill:"#0904D8"})),V.createElement("defs",null,V.createElement("filter",{id:"filter0_i_515_194",x:12.8561,y:25.8517,width:163.375,height:46.8906,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},V.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),V.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),V.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),V.createElement("feOffset",null),V.createElement("feGaussianBlur",{stdDeviation:29.85}),V.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),V.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.227569 0 0 0 0 0.298979 0 0 0 0 0.941667 0 0 0 1 0"}),V.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_515_194"})))),Mxt=Qr(t=>({toolbar:{backgroundColor:t.palette.background.paper},image:{alignSelf:"center",maxWidth:"240px",maxHeight:"20px",width:"auto",height:"auto"}})),Ext=({title:t,navIcon:e,tabs:n})=>{var _;const r=Oh(),[i,o]=V.useState(null),[a,s]=V.useState(!1),l=Mxt(),c=a?"Use Light Mode":"Use Dark Mode",h=z.jsx(Tg,{arrow:!0,title:c,children:z.jsx(gr,{onClick:()=>s(S=>!S),children:a?z.jsx(dNe,{}):z.jsx(fNe,{})})}),p=z.jsx(hNe,{}),g=z.jsx(pNe,{color:"disabled"}),v=z.jsx(Tg,{arrow:!0,title:((_=i==null?void 0:i.ws)==null?void 0:_.url)??"Server unknown",children:z.jsx(gr,{children:i!=null&&i.connected?p:g})}),x=[{title:"ROS",url:"/ros",submenu:[{title:"Connect ROS",action:()=>r("/topics")},{title:"Show Topics",action:()=>r("/topics")},{title:"Show Services",url:"seo",input:"yaml"}]},{title:"uav",url:"/services",submenu:[{title:"Web Design",url:"web-design"},{title:"Web Development",url:"web-dev"},{title:"SEO",url:"seo"}]}];return z.jsx(m1,{position:"static",color:"transparent",className:l.toolbar,children:z.jsx(H0,{maxWidth:"xl",children:z.jsxs(sm,{variant:"dense",children:[e??z.jsx(gr,{children:z.jsx(Sxt,{className:l.image})}),z.jsx(_n,{variant:"h6",style:{flexGrow:1,marginLeft:"1rem"},children:t??"Management Tool"}),n&&z.jsx(z.Fragment,{children:n}),Ze.Children.toArray(x.map((S,w)=>z.jsx(V.Fragment,{children:z.jsx(Hie,{items:S,depthLevel:0})},"s1-"+w))),h,v,z.jsx(gfe,{})]})})})},yJ={type:"change"},iz={type:"start"},vJ={type:"end"},dA=new Cy,xJ=new ch,Txt=Math.cos(70*Due.DEG2RAD);class Cxt extends Sf{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Oe,this.cursor=new Oe,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Qc.ROTATE,MIDDLE:Qc.DOLLY,RIGHT:Qc.PAN},this.touches={ONE:eu.ROTATE,TWO:eu.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Me){Me.addEventListener("keydown",cn),this._domElementKeyEvents=Me},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",cn),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(yJ),r.update(),o=i.NONE},this.update=function(){const Me=new Oe,it=new pa().setFromUnitVectors(e.up,new Oe(0,1,0)),en=it.clone().invert(),Xe=new Oe,kt=new pa,Et=new Oe,we=2*Math.PI;return function(pe=null){const Te=r.object.position;Me.copy(Te).sub(r.target),Me.applyQuaternion(it),s.setFromVector3(Me),r.autoRotate&&o===i.NONE&&le(j(pe)),r.enableDamping?(s.theta+=l.theta*r.dampingFactor,s.phi+=l.phi*r.dampingFactor):(s.theta+=l.theta,s.phi+=l.phi);let Pe=r.minAzimuthAngle,Ne=r.maxAzimuthAngle;isFinite(Pe)&&isFinite(Ne)&&(Pe<-Math.PI?Pe+=we:Pe>Math.PI&&(Pe-=we),Ne<-Math.PI?Ne+=we:Ne>Math.PI&&(Ne-=we),Pe<=Ne?s.theta=Math.max(Pe,Math.min(Ne,s.theta)):s.theta=s.theta>(Pe+Ne)/2?Math.max(Pe,s.theta):Math.min(Ne,s.theta)),s.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,s.phi)),s.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.target.sub(r.cursor),r.target.clampLength(r.minTargetRadius,r.maxTargetRadius),r.target.add(r.cursor);let Ke=!1;if(r.zoomToCursor&&L||r.object.isOrthographicCamera)s.radius=ve(s.radius);else{const qe=s.radius;s.radius=ve(s.radius*c),Ke=qe!=s.radius}if(Me.setFromSpherical(s),Me.applyQuaternion(en),Te.copy(r.target).add(Me),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),h.set(0,0,0)),r.zoomToCursor&&L){let qe=null;if(r.object.isPerspectiveCamera){const je=Me.length();qe=ve(je*c);const tt=je-qe;r.object.position.addScaledVector(k,tt),r.object.updateMatrixWorld(),Ke=!!tt}else if(r.object.isOrthographicCamera){const je=new Oe(R.x,R.y,0);je.unproject(r.object);const tt=r.object.zoom;r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),Ke=tt!==r.object.zoom;const Nt=new Oe(R.x,R.y,0);Nt.unproject(r.object),r.object.position.sub(Nt).add(je),r.object.updateMatrixWorld(),qe=Me.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;qe!==null&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(qe).add(r.object.position):(dA.origin.copy(r.object.position),dA.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(dA.direction))<Txt?e.lookAt(r.target):(xJ.setFromNormalAndCoplanarPoint(r.object.up,r.target),dA.intersectPlane(xJ,r.target))))}else if(r.object.isOrthographicCamera){const qe=r.object.zoom;r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),qe!==r.object.zoom&&(r.object.updateProjectionMatrix(),Ke=!0)}return c=1,L=!1,Ke||Xe.distanceToSquared(r.object.position)>a||8*(1-kt.dot(r.object.quaternion))>a||Et.distanceToSquared(r.target)>a?(r.dispatchEvent(yJ),Xe.copy(r.object.position),kt.copy(r.object.quaternion),Et.copy(r.target),!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",Pn),r.domElement.removeEventListener("pointerdown",sn),r.domElement.removeEventListener("pointercancel",Ce),r.domElement.removeEventListener("wheel",dt),r.domElement.removeEventListener("pointermove",Je),r.domElement.removeEventListener("pointerup",Ce),r.domElement.getRootNode().removeEventListener("keydown",jt,{capture:!0}),r._domElementKeyEvents!==null&&(r._domElementKeyEvents.removeEventListener("keydown",cn),r._domElementKeyEvents=null)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=i.NONE;const a=1e-6,s=new q2,l=new q2;let c=1;const h=new Oe,p=new Ht,g=new Ht,v=new Ht,x=new Ht,_=new Ht,S=new Ht,w=new Ht,C=new Ht,T=new Ht,k=new Oe,R=new Ht;let L=!1;const F=[],H={};let Z=!1;function j(Me){return Me!==null?2*Math.PI/60*r.autoRotateSpeed*Me:2*Math.PI/60/60*r.autoRotateSpeed}function X(Me){const it=Math.abs(Me*.01);return Math.pow(.95,r.zoomSpeed*it)}function le(Me){l.theta-=Me}function me(Me){l.phi-=Me}const ie=function(){const Me=new Oe;return function(en,Xe){Me.setFromMatrixColumn(Xe,0),Me.multiplyScalar(-en),h.add(Me)}}(),ce=function(){const Me=new Oe;return function(en,Xe){r.screenSpacePanning===!0?Me.setFromMatrixColumn(Xe,1):(Me.setFromMatrixColumn(Xe,0),Me.crossVectors(r.object.up,Me)),Me.multiplyScalar(en),h.add(Me)}}(),fe=function(){const Me=new Oe;return function(en,Xe){const kt=r.domElement;if(r.object.isPerspectiveCamera){const Et=r.object.position;Me.copy(Et).sub(r.target);let we=Me.length();we*=Math.tan(r.object.fov/2*Math.PI/180),ie(2*en*we/kt.clientHeight,r.object.matrix),ce(2*Xe*we/kt.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(ie(en*(r.object.right-r.object.left)/r.object.zoom/kt.clientWidth,r.object.matrix),ce(Xe*(r.object.top-r.object.bottom)/r.object.zoom/kt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function xe(Me){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c/=Me:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function te(Me){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c*=Me:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function he(Me,it){if(!r.zoomToCursor)return;L=!0;const en=r.domElement.getBoundingClientRect(),Xe=Me-en.left,kt=it-en.top,Et=en.width,we=en.height;R.x=Xe/Et*2-1,R.y=-(kt/we)*2+1,k.set(R.x,R.y,1).unproject(r.object).sub(r.object.position).normalize()}function ve(Me){return Math.max(r.minDistance,Math.min(r.maxDistance,Me))}function ze(Me){p.set(Me.clientX,Me.clientY)}function Ue(Me){he(Me.clientX,Me.clientX),w.set(Me.clientX,Me.clientY)}function rt(Me){x.set(Me.clientX,Me.clientY)}function Fe(Me){g.set(Me.clientX,Me.clientY),v.subVectors(g,p).multiplyScalar(r.rotateSpeed);const it=r.domElement;le(2*Math.PI*v.x/it.clientHeight),me(2*Math.PI*v.y/it.clientHeight),p.copy(g),r.update()}function st(Me){C.set(Me.clientX,Me.clientY),T.subVectors(C,w),T.y>0?xe(X(T.y)):T.y<0&&te(X(T.y)),w.copy(C),r.update()}function ct(Me){_.set(Me.clientX,Me.clientY),S.subVectors(_,x).multiplyScalar(r.panSpeed),fe(S.x,S.y),x.copy(_),r.update()}function Dt(Me){he(Me.clientX,Me.clientY),Me.deltaY<0?te(X(Me.deltaY)):Me.deltaY>0&&xe(X(Me.deltaY)),r.update()}function zt(Me){let it=!1;switch(Me.code){case r.keys.UP:Me.ctrlKey||Me.metaKey||Me.shiftKey?me(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):fe(0,r.keyPanSpeed),it=!0;break;case r.keys.BOTTOM:Me.ctrlKey||Me.metaKey||Me.shiftKey?me(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):fe(0,-r.keyPanSpeed),it=!0;break;case r.keys.LEFT:Me.ctrlKey||Me.metaKey||Me.shiftKey?le(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):fe(r.keyPanSpeed,0),it=!0;break;case r.keys.RIGHT:Me.ctrlKey||Me.metaKey||Me.shiftKey?le(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):fe(-r.keyPanSpeed,0),it=!0;break}it&&(Me.preventDefault(),r.update())}function Be(Me){if(F.length===1)p.set(Me.pageX,Me.pageY);else{const it=ke(Me),en=.5*(Me.pageX+it.x),Xe=.5*(Me.pageY+it.y);p.set(en,Xe)}}function lt(Me){if(F.length===1)x.set(Me.pageX,Me.pageY);else{const it=ke(Me),en=.5*(Me.pageX+it.x),Xe=.5*(Me.pageY+it.y);x.set(en,Xe)}}function Qe(Me){const it=ke(Me),en=Me.pageX-it.x,Xe=Me.pageY-it.y,kt=Math.sqrt(en*en+Xe*Xe);w.set(0,kt)}function ge(Me){r.enableZoom&&Qe(Me),r.enablePan&&lt(Me)}function et(Me){r.enableZoom&&Qe(Me),r.enableRotate&&Be(Me)}function ot(Me){if(F.length==1)g.set(Me.pageX,Me.pageY);else{const en=ke(Me),Xe=.5*(Me.pageX+en.x),kt=.5*(Me.pageY+en.y);g.set(Xe,kt)}v.subVectors(g,p).multiplyScalar(r.rotateSpeed);const it=r.domElement;le(2*Math.PI*v.x/it.clientHeight),me(2*Math.PI*v.y/it.clientHeight),p.copy(g)}function Tt(Me){if(F.length===1)_.set(Me.pageX,Me.pageY);else{const it=ke(Me),en=.5*(Me.pageX+it.x),Xe=.5*(Me.pageY+it.y);_.set(en,Xe)}S.subVectors(_,x).multiplyScalar(r.panSpeed),fe(S.x,S.y),x.copy(_)}function Ct(Me){const it=ke(Me),en=Me.pageX-it.x,Xe=Me.pageY-it.y,kt=Math.sqrt(en*en+Xe*Xe);C.set(0,kt),T.set(0,Math.pow(C.y/w.y,r.zoomSpeed)),xe(T.y),w.copy(C);const Et=(Me.pageX+it.x)*.5,we=(Me.pageY+it.y)*.5;he(Et,we)}function Ft(Me){r.enableZoom&&Ct(Me),r.enablePan&&Tt(Me)}function Gt(Me){r.enableZoom&&Ct(Me),r.enableRotate&&ot(Me)}function sn(Me){r.enabled!==!1&&(F.length===0&&(r.domElement.setPointerCapture(Me.pointerId),r.domElement.addEventListener("pointermove",Je),r.domElement.addEventListener("pointerup",Ce)),!an(Me)&&(mt(Me),Me.pointerType==="touch"?Rt(Me):_e(Me)))}function Je(Me){r.enabled!==!1&&(Me.pointerType==="touch"?nn(Me):ht(Me))}function Ce(Me){switch(un(Me),F.length){case 0:r.domElement.releasePointerCapture(Me.pointerId),r.domElement.removeEventListener("pointermove",Je),r.domElement.removeEventListener("pointerup",Ce),r.dispatchEvent(vJ),o=i.NONE;break;case 1:const it=F[0],en=H[it];Rt({pointerId:it,pageX:en.x,pageY:en.y});break}}function _e(Me){let it;switch(Me.button){case 0:it=r.mouseButtons.LEFT;break;case 1:it=r.mouseButtons.MIDDLE;break;case 2:it=r.mouseButtons.RIGHT;break;default:it=-1}switch(it){case Qc.DOLLY:if(r.enableZoom===!1)return;Ue(Me),o=i.DOLLY;break;case Qc.ROTATE:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(r.enablePan===!1)return;rt(Me),o=i.PAN}else{if(r.enableRotate===!1)return;ze(Me),o=i.ROTATE}break;case Qc.PAN:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(r.enableRotate===!1)return;ze(Me),o=i.ROTATE}else{if(r.enablePan===!1)return;rt(Me),o=i.PAN}break;default:o=i.NONE}o!==i.NONE&&r.dispatchEvent(iz)}function ht(Me){switch(o){case i.ROTATE:if(r.enableRotate===!1)return;Fe(Me);break;case i.DOLLY:if(r.enableZoom===!1)return;st(Me);break;case i.PAN:if(r.enablePan===!1)return;ct(Me);break}}function dt(Me){r.enabled===!1||r.enableZoom===!1||o!==i.NONE||(Me.preventDefault(),r.dispatchEvent(iz),Dt(Wt(Me)),r.dispatchEvent(vJ))}function Wt(Me){const it=Me.deltaMode,en={clientX:Me.clientX,clientY:Me.clientY,deltaY:Me.deltaY};switch(it){case 1:en.deltaY*=16;break;case 2:en.deltaY*=100;break}return Me.ctrlKey&&!Z&&(en.deltaY*=10),en}function jt(Me){Me.key==="Control"&&(Z=!0,r.domElement.getRootNode().addEventListener("keyup",Mn,{passive:!0,capture:!0}))}function Mn(Me){Me.key==="Control"&&(Z=!1,r.domElement.getRootNode().removeEventListener("keyup",Mn,{passive:!0,capture:!0}))}function cn(Me){r.enabled===!1||r.enablePan===!1||zt(Me)}function Rt(Me){switch(Ot(Me),F.length){case 1:switch(r.touches.ONE){case eu.ROTATE:if(r.enableRotate===!1)return;Be(Me),o=i.TOUCH_ROTATE;break;case eu.PAN:if(r.enablePan===!1)return;lt(Me),o=i.TOUCH_PAN;break;default:o=i.NONE}break;case 2:switch(r.touches.TWO){case eu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ge(Me),o=i.TOUCH_DOLLY_PAN;break;case eu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;et(Me),o=i.TOUCH_DOLLY_ROTATE;break;default:o=i.NONE}break;default:o=i.NONE}o!==i.NONE&&r.dispatchEvent(iz)}function nn(Me){switch(Ot(Me),o){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;ot(Me),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;Tt(Me),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ft(Me),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Gt(Me),r.update();break;default:o=i.NONE}}function Pn(Me){r.enabled!==!1&&Me.preventDefault()}function mt(Me){F.push(Me.pointerId)}function un(Me){delete H[Me.pointerId];for(let it=0;it<F.length;it++)if(F[it]==Me.pointerId){F.splice(it,1);return}}function an(Me){for(let it=0;it<F.length;it++)if(F[it]==Me.pointerId)return!0;return!1}function Ot(Me){let it=H[Me.pointerId];it===void 0&&(it=new Ht,H[Me.pointerId]=it),it.set(Me.pageX,Me.pageY)}function ke(Me){const it=Me.pointerId===F[0]?F[1]:F[0];return H[it]}r.domElement.addEventListener("contextmenu",Pn),r.domElement.addEventListener("pointerdown",sn),r.domElement.addEventListener("pointercancel",Ce),r.domElement.addEventListener("wheel",dt,{passive:!1}),r.domElement.getRootNode().addEventListener("keydown",jt,{passive:!0,capture:!0}),this.update()}}Jde({OrbitControls:Cxt});function Axt(t){const e=t.materialProps??{wireframe:!0,color:new Fn(9358407)};return z.jsxs("group",{rotation:[0,0,t.theta],position:[t.x,t.y,0],scale:t.scale??[1,1,1],children:[z.jsxs("mesh",{scale:[.05,.05,.05],children:[z.jsx("boxGeometry",{}),z.jsx("meshBasicMaterial",{color:16711680})]}),z.jsx("group",{position:[.75,0,0],children:z.jsxs("mesh",{rotation:[0,0,-Math.PI/2],scale:[.5,.5,.5],children:[z.jsx("coneGeometry",{}),z.jsx("meshBasicMaterial",{...e})]})}),z.jsx("group",{position:[.25,0,0],children:z.jsxs("mesh",{rotation:[0,0,-Math.PI/2],scale:[.2,.5,.2],children:[z.jsx("cylinderGeometry",{}),z.jsx("meshBasicMaterial",{...e})]})})]})}function Pxt({position:t,polyhedron:e}){const n=V.useRef(),[r,i]=V.useState(1);return console.log(e),ufe((o,a)=>{n.current.rotation.x+=a,n.current.rotation.y+=.5*a}),z.jsx("mesh",{position:t,ref:n,onPointerDown:()=>{i((r+1)%3)},geometry:e[r],children:z.jsx("meshBasicMaterial",{color:"lime",wireframe:!0})})}const Ixt=Qr(t=>({root:{margin:"0",height:"100vh"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3}})),kxt=(t,e)=>{setList([...list,toastProperties])},Rxt=()=>{const t=Ixt(),e=0,[n,r]=V.useState(!1),i=xr(p=>p.data.positions),[o,a]=V.useState([]),s=[new Py,new W1(.785398),new HE(.785398)];V.useEffect(()=>{a(Object.values(i))},[i]);const l=z.jsx(z.Fragment,{children:z.jsxs(yre,{value:e,onChange:(p,g)=>navigate(`/robot/${id}/${g}`),style:{flexGrow:1},children:[z.jsx(Zv,{label:"Viz"}),z.jsx(Zv,{label:"Imagery"}),z.jsx(Zv,{label:"Stats"}),z.jsx(Zv,{label:"Report"})]})}),c=[];c.push(new Oe(-10,0,0)),c.push(new Oe(0,10,0)),c.push(new Oe(10,0,0));const h=new Dr().setFromPoints(c);return z.jsx("div",{className:t.root,children:z.jsx(kU,{children:z.jsxs(bE,{notification:kxt,children:[z.jsx(Ext,{tabs:l}),z.jsx(wE,{}),z.jsx("div",{style:{float:"right",width:"calc(100% - 560px)",height:"calc(70vh - 95px)",right:"0px",margin:"auto"},children:z.jsxs(pxt,{camera:{position:[1,2,3]},children:[z.jsx(Pxt,{position:[2,2,0],polyhedron:s}),z.jsx("line",{geometry:h,children:z.jsx("lineBasicMaterial",{attach:"material",color:"#9c88ff",linewidth:10,linecap:"round",linejoin:"round"})}),z.jsxs("mesh",{"rotation-y":2,children:[z.jsx("boxGeometry",{}),z.jsx("meshBasicMaterial",{color:"orange"})]}),z.jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[z.jsx("planeGeometry",{args:[5,5,64,64]}),z.jsx("meshBasicMaterial",{attach:"material",transparent:!0,side:af})]}),z.jsx(Axt,{x:0,y:0,theta:0,materialProps:{color:new Fn(3311528),wireframe:!0}}),z.jsx(xxt,{}),z.jsx("axesHelper",{args:[5]}),z.jsx("gridHelper",{})]})}),z.jsx("div",{className:t.sidebarStyle,children:z.jsx("div",{className:t.middleStyle,children:z.jsx(Ss,{square:!0,children:z.jsx(Ise,{SetOpenSave:r})})})}),z.jsx("div",{className:t.panelElevation,children:z.jsx("div",{className:t.middleStyle,children:z.jsx(Ss,{square:!0,children:z.jsx($6,{})})})}),n&&z.jsx(Ece,{SetOpenSave:r})]})})})},yfe=Qr(t=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},buttons:{marginTop:t.spacing(2),marginBottom:t.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:t.spacing(2),paddingBottom:t.spacing(3)},card:{pointerEvents:"auto"},media:{width:t.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:t.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1,1,0,2)},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"8vh",transform:"translateX(-50%)"}})),Oxt=({file:t,closecard:e})=>{const n=yfe();return z.jsx("div",{className:n.root_max,children:t&&z.jsxs(xf,{elevation:3,className:n.card,children:[z.jsx(kTe,{action:z.jsx(gr,{"aria-label":"close",onClick:()=>e(),children:z.jsx(pf,{})}),title:t.name,subheader:"date:September 14, 2016"}),z.jsx(Jne,{component:"img",alt:t.name,image:`/api/files/download/${t.route}${t.name}`}),z.jsx(pR,{children:z.jsxs(_n,{variant:"body2",color:"text.secondary",children:["Result:",JSON.stringify(t.attributes)]})})]})})},Lxt=()=>{const t=yfe(),e=Oh(),{id:n}=jee(),[r,i]=V.useState(null),[o,a]=V.useState(null),[s,l]=V.useState(null),[c,h]=V.useState(null),p="id,initTime,endTime,status";return _y(async()=>{const g=await fetch(`/api/missions?id=${n}`);if(g.ok){const _=await g.json();i(_[0]),console.log(_)}else throw Error(await g.text());const v=await fetch(`/api/missions/routes?missionId=${n}`);if(v.ok){const _=await v.json();a(_),console.log(_)}else throw Error(await g.text());const x=await fetch(`/api/files/get?missionId=${n}`);if(x.ok){const _=await x.json();l(_),console.log(_)}else throw Error(await g.text())},[]),z.jsxs("div",{className:t.root,children:[z.jsx(m1,{position:"sticky",color:"inherit",children:z.jsxs(sm,{children:[z.jsx(gr,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>e(-1),children:z.jsx(K0,{})}),z.jsx(_n,{variant:"h6",component:"div",children:`Mission Reports- ${n}`})]})}),z.jsx("div",{className:t.content,children:z.jsx(H0,{maxWidth:"xl",children:z.jsxs(Ss,{style:{padding:30},children:[r&&z.jsxs("div",{children:[z.jsx(_n,{variant:"h4",gutterBottom:!0,children:"Resultado de la Misión"}),z.jsxs(bg,{container:!0,spacing:2,children:[p.split(",").filter(g=>r.hasOwnProperty(g)).map(g=>z.jsxs(bg,{item:!0,xs:6,children:[z.jsx(_n,{variant:"subtitle1",style:{fontWeight:"bold"},children:g}),z.jsx(_n,{variant:"body1",children:r[g]})]},g)),z.jsxs(bg,{item:!0,xs:6,children:[z.jsx(_n,{variant:"subtitle1",style:{fontWeight:"bold"},children:"Result"}),z.jsx(_n,{variant:"body1",children:JSON.stringify(r.results)})]})]})]}),o&&o.map((g,v)=>z.jsxs("div",{children:[z.jsx(D0,{style:{margin:"40px 0"}}),z.jsx(_n,{variant:"h5",gutterBottom:!0,children:`Ruta-${v}`}),z.jsxs(bg,{container:!0,spacing:2,children:[p.split(",").filter(x=>g.hasOwnProperty(x)).map(x=>z.jsxs(bg,{item:!0,xs:6,children:[z.jsx(_n,{variant:"subtitle1",style:{fontWeight:"bold"},children:x}),z.jsx(_n,{variant:"body1",children:g[x]})]},x)),z.jsxs(bg,{item:!0,xs:6,children:[z.jsx(_n,{variant:"subtitle1",style:{fontWeight:"bold"},children:"Result"}),z.jsx(_n,{variant:"body1",children:JSON.stringify(g.result)})]})]}),s&&s.find(x=>x&&x.routeId==g.id)&&z.jsxs(z.Fragment,{children:[z.jsx(_n,{variant:"h6",gutterBottom:!0,style:{marginTop:"20px"},children:"Archivos de la Ruta"}),z.jsx(PAe,{sx:{width:"100%",height:500},cols:3,children:s.filter(x=>x.routeId==g.id&&x.name.endsWith(".jpg")).map(x=>z.jsx(NAe,{children:z.jsx("img",{src:`/api/files/download/${x.route}${x.name}`,alt:x.name,loading:"lazy",onClick:()=>h(x)})},x.id))})]})]},v))]})})}),z.jsx(Oxt,{file:c,closecard:()=>h(null)})]})},Dxt=()=>{const t=Oh();Tk();const e=VDe();return _y(async()=>{t("/")},[e]),z.jsx(Kge,{children:z.jsxs(Nl,{path:"/",element:z.jsx(UDe,{}),children:[z.jsx(Nl,{index:!0,element:z.jsx(kje,{})}),z.jsx(Nl,{path:"mission",element:z.jsx(zut,{})}),z.jsx(Nl,{path:"3Dmission",element:z.jsx(Rxt,{})}),z.jsx(Nl,{path:"planning",element:z.jsx(Adt,{})}),z.jsx(Nl,{path:"camera",element:z.jsx(idt,{})}),z.jsx(Nl,{path:"device/:id",element:z.jsx(tdt,{})}),z.jsx(Nl,{path:"replay",element:z.jsx(Vut,{})}),z.jsx(Nl,{path:"topics",element:z.jsx(sdt,{})}),z.jsx(Nl,{path:"event/:id",element:z.jsx(xK,{})}),z.jsxs(Nl,{path:"reports",children:[z.jsx(Nl,{path:"events",element:z.jsx(xK,{})}),z.jsx(Nl,{path:"mission",element:z.jsx(Uut,{})}),z.jsx(Nl,{path:"mission/:id",element:z.jsx(Lxt,{})})]})]})})},Nxt=()=>{const t={white:I0.white,background:xh[50],primary:wte[900],secondary:tf[800],positive:tf[500],medium:m$[700],negative:_p[500],neutral:xh[500],geometry:"#3bb2d0"};return{background:{default:t.background},primary:{main:t.primary},secondary:{main:t.secondary,contrastText:t.white},colors:t}},zxt={sidebarWidth:"28%",sidebarWidthTablet:"52px",drawerWidthDesktop:"360px",drawerWidthTablet:"320px",drawerHeightPhone:"250px",filterFormWidth:"160px",eventsDrawerWidth:"320px",bottomBarHeight:56,popupMapOffset:300,popupMaxWidth:288,popupImageHeight:144},Bxt={MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:xh[50]}}},MuiButton:{styleOverrides:{sizeMedium:{height:"40px"}}},MuiFormControl:{defaultProps:{size:"small"}},MuiSnackbar:{defaultProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"}}}},Fxt=()=>V.useMemo(()=>D$({palette:Nxt(),dimensions:zxt,components:Bxt}),[]),$xt=({children:t})=>{const e=Fxt();return z.jsx(j1e,{theme:e,children:t})},jxt=({children:t})=>{const e=Zl(),n=xr(o=>!!o.session.server),[r,i]=V.useState(null);return _y(async()=>{if(!r)try{const o=await fetch("/api/server");if(o.ok)e(ef.updateServer(await o.json()));else throw Error(await o.text())}catch(o){i(o.message)}},[r]),r?z.jsx(TSe,{severity:"error",action:z.jsx(gr,{color:"inherit",size:"small",onClick:()=>i(null),children:z.jsx(ZR,{fontSize:"inherit"})}),children:r}):n?t:z.jsx(dPe,{})};A0e();const Uxt=Oee(document.getElementById("root"));Uxt.render(z.jsx(ove,{store:s0e,children:z.jsx(Wte,{injectFirst:!0,children:z.jsxs($xt,{children:[z.jsx(aCe,{}),z.jsx(jxt,{children:z.jsx(Jge,{children:z.jsx(Dxt,{})})})]})})}))});export default Vxt();
